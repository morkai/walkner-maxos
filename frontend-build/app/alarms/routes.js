// Part of <https://miracle.systems/p/walkner-maxos> licensed under <CC BY-NC-SA 4.0>

define(["underscore","../user","../router","../viewport","../core/util/showDeleteFormPage","../core/pages/AddFormPage","../core/pages/EditFormPage","./Alarm","./AlarmCollection","./pages/AlarmListPage","./pages/AlarmDetailsPage","./views/AlarmFormView","i18n!app/nls/alarms"],function(a,e,r,o,i,m,t,n,l,s,d,c){"use strict";var p=e.auth("ALARMS:VIEW"),u=e.auth("ALARMS:MANAGE");r.map("/alarms",p,function(a){o.showPage(new s({collection:new l(null,{rqlQuery:a.rql})}))}),r.map("/alarms/:id",p,function(a){o.showPage(new d({model:new n({_id:a.params.id}),eventsPage:a.query.eventsPage}))}),r.map("/alarms;add",u,function(){o.showPage(new m({FormView:c,model:new n}))}),r.map("/alarms/:id;edit",u,function(a){o.showPage(new t({FormView:c,model:new n({_id:a.params.id})}))}),r.map("/alarms/:id;delete",u,i.bind(null,n)),r.map("/alarms/:id;run",u,a.partial(i,n,a,a,{actionKey:"run",formMethod:"POST",formActionSeverity:"primary"})),r.map("/alarms/:id;stop",u,a.partial(i,n,a,a,{actionKey:"stop",formMethod:"POST",formActionSeverity:"warning"})),r.map("/alarms/:id;ack",e.auth("ALARMS:ACK"),a.partial(i,n,a,a,{actionKey:"ack",formMethod:"POST",formActionSeverity:"success"}))});