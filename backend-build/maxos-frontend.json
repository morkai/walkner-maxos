{"paths":{".":{"lodash":"node_modules/lodash/lodash.min.js","moment":"node_modules/moment/moment.js","h5.main":"node_modules/h5.main/lib/index.js","./helpers":"backend/helpers.js"},"node_modules/h5.main/lib/index.js":{"./main":"node_modules/h5.main/lib/main.js"},"node_modules/h5.main/lib/main.js":{"h5.step":"node_modules/h5.step/lib/index.js","h5.pubsub":"node_modules/h5.pubsub/lib/index.js","./utils/app":"node_modules/h5.main/lib/utils/app.js","./utils/log":"node_modules/h5.main/lib/utils/log.js","backend/modules/updater":"backend/modules/updater/index.js","backend/modules/mongoose":"backend/modules/mongoose/index.js","backend/modules/settings":"backend/modules/settings/index.js","backend/modules/events":"backend/modules/events/index.js","backend/modules/pubsub":"backend/modules/pubsub.js","backend/modules/user":"backend/modules/user.js","backend/modules/express":"backend/modules/express/index.js","backend/modules/users":"backend/modules/users/index.js","backend/modules/controller":"backend/modules/controller/index.js","backend/modules/alarms/frontend":"backend/modules/alarms/frontend.js","backend/modules/maxos":"backend/modules/maxos/index.js","backend/modules/mail/sender":"backend/modules/mail/sender.js","backend/modules/messenger/server":"backend/modules/messenger/server.js","backend/modules/messenger/client":"backend/modules/messenger/client.js","backend/modules/httpServer":"backend/modules/httpServer.js","backend/modules/sio":"backend/modules/sio/index.js"},"node_modules/h5.pubsub/lib/index.js":{"./MessageBroker":"node_modules/h5.pubsub/lib/MessageBroker.js"},"node_modules/h5.pubsub/lib/MessageBroker.js":{"./Subscriptions":"node_modules/h5.pubsub/lib/Subscriptions.js","./Subscription":"node_modules/h5.pubsub/lib/Subscription.js","./Sandbox":"node_modules/h5.pubsub/lib/Sandbox.js"},"node_modules/h5.main/lib/utils/app.js":{"h5.step":"node_modules/h5.step/lib/index.js","backend/models/setting":"backend/models/setting.js","backend/models/event":"backend/models/event.js","backend/models/user":"backend/models/user.js","backend/models/passwordResetRequest":"backend/models/passwordResetRequest.js","backend/models/alarm":"backend/models/alarm.js","backend/models/maxosTest":"backend/models/maxosTest.js","backend/routes/core.js":"backend/routes/core.js"},"node_modules/h5.main/lib/utils/log.js":{},"node_modules/moment/moment.js":{"./locale/pl":"node_modules/moment/locale/pl.js"},"node_modules/moment/locale/pl.js":{"../moment":"node_modules/moment/moment.js"},"backend/modules/updater/index.js":{"lodash":"node_modules/lodash/lodash.min.js","./routes":"backend/modules/updater/routes.js","./commands":"backend/modules/updater/commands.js","./expressMiddleware":"backend/modules/updater/expressMiddleware.js","package.json":"package.json"},"backend/modules/updater/routes.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/updater/commands.js":{},"backend/modules/mongoose/index.js":{"lodash":"node_modules/lodash/lodash.min.js","mongoose":"node_modules/mongoose/index.js","mongoose-auto-increment":"node_modules/mongoose-auto-increment/index.js","./expressMiddleware":"backend/modules/mongoose/expressMiddleware.js"},"node_modules/mongoose/index.js":{"./lib/":"node_modules/mongoose/lib/index.js"},"node_modules/mongoose/lib/index.js":{"./schema":"node_modules/mongoose/lib/schema.js","./schematype":"node_modules/mongoose/lib/schematype.js","./virtualtype":"node_modules/mongoose/lib/virtualtype.js","./connectionstate":"node_modules/mongoose/lib/connectionstate.js","./types":"node_modules/mongoose/lib/types/index.js","./query":"node_modules/mongoose/lib/query.js","./model":"node_modules/mongoose/lib/model.js","./document":"node_modules/mongoose/lib/document.js","./utils":"node_modules/mongoose/lib/utils.js","../package.json":"node_modules/mongoose/package.json","./plugins/saveSubdocs":"node_modules/mongoose/lib/plugins/saveSubdocs.js","./plugins/validateBeforeSave":"node_modules/mongoose/lib/plugins/validateBeforeSave.js","./aggregate":"node_modules/mongoose/lib/aggregate.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js","./plugins/sharding":"node_modules/mongoose/lib/plugins/sharding.js","./drivers/node-mongodb-native/connection":"node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js","./drivers/node-mongodb-native/collection":"node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js","./document_provider":"node_modules/mongoose/lib/document_provider.js","./error":"node_modules/mongoose/lib/error.js","./error/cast":"node_modules/mongoose/lib/error/cast.js","mongodb":"node_modules/mongodb/index.js","mquery":"node_modules/mquery/lib/mquery.js"},"node_modules/mongoose/lib/schema.js":{"./drivers":"node_modules/mongoose/lib/drivers/index.js","./virtualtype":"node_modules/mongoose/lib/virtualtype.js","./utils":"node_modules/mongoose/lib/utils.js","kareem":"node_modules/kareem/index.js","async":"node_modules/async/lib/async.js","./schematype":"node_modules/mongoose/lib/schematype.js","mpath":"node_modules/mpath/index.js","./schema/index":"node_modules/mongoose/lib/schema/index.js"},"node_modules/mongoose/lib/drivers/index.js":{"./node-mongodb-native":"node_modules/mongoose/lib/drivers/node-mongodb-native/index.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/index.js":{"./binary":"node_modules/mongoose/lib/drivers/node-mongodb-native/binary.js","./objectid":"node_modules/mongoose/lib/drivers/node-mongodb-native/objectid.js","./ReadPreference":"node_modules/mongoose/lib/drivers/node-mongodb-native/ReadPreference.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/binary.js":{"mongodb":"node_modules/mongodb/index.js"},"node_modules/mongodb/index.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./lib/apm":"node_modules/mongodb/lib/apm.js","./lib/mongo_client":"node_modules/mongodb/lib/mongo_client.js","./lib/admin":"node_modules/mongodb/lib/admin.js","./lib/db":"node_modules/mongodb/lib/db.js","./lib/collection":"node_modules/mongodb/lib/collection.js","./lib/server":"node_modules/mongodb/lib/server.js","./lib/replset":"node_modules/mongodb/lib/replset.js","./lib/mongos":"node_modules/mongodb/lib/mongos.js","./lib/read_preference":"node_modules/mongodb/lib/read_preference.js","./lib/gridfs/grid_store":"node_modules/mongodb/lib/gridfs/grid_store.js","./lib/gridfs/chunk":"node_modules/mongodb/lib/gridfs/chunk.js","./lib/cursor":"node_modules/mongodb/lib/cursor.js","./lib/gridfs-stream":"node_modules/mongodb/lib/gridfs-stream/index.js"},"node_modules/mongodb-core/index.js":{"bson":"node_modules/bson/index.js","require_optional":"node_modules/require_optional/index.js","./lib/error":"node_modules/mongodb-core/lib/error.js","./lib/connection/connection":"node_modules/mongodb-core/lib/connection/connection.js","./lib/topologies/server":"node_modules/mongodb-core/lib/topologies/server.js","./lib/topologies/replset":"node_modules/mongodb-core/lib/topologies/replset.js","./lib/topologies/mongos":"node_modules/mongodb-core/lib/topologies/mongos.js","./lib/connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./lib/cursor":"node_modules/mongodb-core/lib/cursor.js","./lib/topologies/read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","./lib/connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","./lib/auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","./lib/auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","./lib/auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","./lib/auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","./lib/auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/bson/index.js":{"./lib/bson/bson":"node_modules/bson/lib/bson/bson.js","./lib/bson/binary":"node_modules/bson/lib/bson/binary.js","./lib/bson/code":"node_modules/bson/lib/bson/code.js","./lib/bson/db_ref":"node_modules/bson/lib/bson/db_ref.js","./lib/bson/decimal128":"node_modules/bson/lib/bson/decimal128.js","./lib/bson/double":"node_modules/bson/lib/bson/double.js","./lib/bson/int_32":"node_modules/bson/lib/bson/int_32.js","./lib/bson/long":"node_modules/bson/lib/bson/long.js","./lib/bson/map":"node_modules/bson/lib/bson/map.js","./lib/bson/max_key":"node_modules/bson/lib/bson/max_key.js","./lib/bson/min_key":"node_modules/bson/lib/bson/min_key.js","./lib/bson/objectid":"node_modules/bson/lib/bson/objectid.js","./lib/bson/regexp":"node_modules/bson/lib/bson/regexp.js","./lib/bson/symbol":"node_modules/bson/lib/bson/symbol.js","./lib/bson/timestamp":"node_modules/bson/lib/bson/timestamp.js"},"node_modules/bson/lib/bson/bson.js":{"./float_parser":"node_modules/bson/lib/bson/float_parser.js","./map":"node_modules/bson/lib/bson/map.js","./long":"node_modules/bson/lib/bson/long.js","./double":"node_modules/bson/lib/bson/double.js","./timestamp":"node_modules/bson/lib/bson/timestamp.js","./objectid":"node_modules/bson/lib/bson/objectid.js","./regexp":"node_modules/bson/lib/bson/regexp.js","./symbol":"node_modules/bson/lib/bson/symbol.js","./int_32":"node_modules/bson/lib/bson/int_32.js","./code":"node_modules/bson/lib/bson/code.js","./decimal128":"node_modules/bson/lib/bson/decimal128.js","./min_key":"node_modules/bson/lib/bson/min_key.js","./max_key":"node_modules/bson/lib/bson/max_key.js","./db_ref":"node_modules/bson/lib/bson/db_ref.js","./binary":"node_modules/bson/lib/bson/binary.js","./parser/deserializer":"node_modules/bson/lib/bson/parser/deserializer.js","./parser/serializer":"node_modules/bson/lib/bson/parser/serializer.js","./parser/calculate_size":"node_modules/bson/lib/bson/parser/calculate_size.js"},"node_modules/bson/lib/bson/decimal128.js":{"./long":"node_modules/bson/lib/bson/long.js"},"node_modules/bson/lib/bson/binary.js":{},"node_modules/bson/lib/bson/parser/deserializer.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../code":"node_modules/bson/lib/bson/code.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../int_32":"node_modules/bson/lib/bson/int_32.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/bson/lib/bson/parser/serializer.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../map":"node_modules/bson/lib/bson/map.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../code":"node_modules/bson/lib/bson/code.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../int_32":"node_modules/bson/lib/bson/int_32.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/bson/lib/bson/parser/calculate_size.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../code":"node_modules/bson/lib/bson/code.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/require_optional/index.js":{"resolve-from":"node_modules/resolve-from/index.js","semver":"node_modules/semver/semver.js"},"node_modules/resolve-from/index.js":{},"node_modules/mongodb-core/lib/connection/connection.js":{"./utils":"node_modules/mongodb-core/lib/connection/utils.js","./commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","./logger":"node_modules/mongodb-core/lib/connection/logger.js"},"node_modules/mongodb-core/lib/connection/utils.js":{"require_optional":"node_modules/require_optional/index.js","bson":"node_modules/bson/index.js"},"node_modules/mongodb-core/lib/connection/commands.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js"},"node_modules/mongodb-core/lib/connection/logger.js":{"../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/server.js":{"./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/pool":"node_modules/mongodb-core/lib/connection/pool.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","../wireprotocol/2_4_support":"node_modules/mongodb-core/lib/wireprotocol/2_4_support.js","../wireprotocol/2_6_support":"node_modules/mongodb-core/lib/wireprotocol/2_6_support.js","../wireprotocol/3_2_support":"node_modules/mongodb-core/lib/wireprotocol/3_2_support.js","../cursor":"node_modules/mongodb-core/lib/cursor.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../utils":"node_modules/mongodb-core/lib/utils.js"},"node_modules/mongodb-core/lib/connection/pool.js":{"./connection":"node_modules/mongodb-core/lib/connection/connection.js","../error":"node_modules/mongodb-core/lib/error.js","./logger":"node_modules/mongodb-core/lib/connection/logger.js","./commands":"node_modules/mongodb-core/lib/connection/commands.js","./command_result":"node_modules/mongodb-core/lib/connection/command_result.js","../utils":"node_modules/mongodb-core/lib/utils.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb-core/lib/auth/mongocr.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/x509.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/plain.js":{"bson":"node_modules/bson/index.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/gssapi.js":{"require_optional":"node_modules/require_optional/index.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/sspi.js":{"require_optional":"node_modules/require_optional/index.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/scram.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/2_4_support.js":{"./commands":"node_modules/mongodb-core/lib/wireprotocol/commands.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../connection/command_result":"node_modules/mongodb-core/lib/connection/command_result.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/wireprotocol/commands.js":{"../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/shared.js":{"../topologies/read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/2_6_support.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/wireprotocol/3_2_support.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/cursor.js":{"./connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","./error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/shared.js":{"../../package.json":"node_modules/mongodb-core/package.json"},"node_modules/mongodb-core/lib/topologies/replset.js":{"./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../cursor":"node_modules/mongodb-core/lib/cursor.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../error":"node_modules/mongodb-core/lib/error.js","./server":"node_modules/mongodb-core/lib/topologies/server.js","./replset_state":"node_modules/mongodb-core/lib/topologies/replset_state.js","../utils":"node_modules/mongodb-core/lib/utils.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb-core/lib/topologies/replset_state.js":{"./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/mongos.js":{"../cursor":"node_modules/mongodb-core/lib/cursor.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../error":"node_modules/mongodb-core/lib/error.js","./server":"node_modules/mongodb-core/lib/topologies/server.js","../utils":"node_modules/mongodb-core/lib/utils.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb/lib/apm.js":{"./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./bulk/ordered":"node_modules/mongodb/lib/bulk/ordered.js","./bulk/unordered":"node_modules/mongodb/lib/bulk/unordered.js","./gridfs/grid_store":"node_modules/mongodb/lib/gridfs/grid_store.js","./cursor":"node_modules/mongodb/lib/cursor.js","./collection":"node_modules/mongodb/lib/collection.js","./db":"node_modules/mongodb/lib/db.js"},"node_modules/mongodb/lib/aggregation_cursor.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js"},"node_modules/mongodb/lib/metadata.js":{},"node_modules/mongodb/lib/cursor.js":{"./utils":"node_modules/mongodb/lib/utils.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/utils.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./read_preference":"node_modules/mongodb/lib/read_preference.js"},"node_modules/mongodb/lib/command_cursor.js":{"./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js"},"node_modules/mongodb/lib/bulk/ordered.js":{"./common":"node_modules/mongodb/lib/bulk/common.js","../utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","../metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/bulk/common.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/bulk/unordered.js":{"./common":"node_modules/mongodb/lib/bulk/common.js","../utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","../metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/gridfs/grid_store.js":{"./chunk":"node_modules/mongodb/lib/gridfs/chunk.js","mongodb-core":"node_modules/mongodb-core/index.js","../read_preference":"node_modules/mongodb/lib/read_preference.js","../collection":"node_modules/mongodb/lib/collection.js","../metadata":"node_modules/mongodb/lib/metadata.js","../utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/gridfs/chunk.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/collection.js":{"./utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js","./bulk/unordered":"node_modules/mongodb/lib/bulk/unordered.js","./bulk/ordered":"node_modules/mongodb/lib/bulk/ordered.js"},"node_modules/mongodb/lib/db.js":{"./authenticate":"node_modules/mongodb/lib/authenticate.js","./utils":"node_modules/mongodb/lib/utils.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","./admin":"node_modules/mongodb/lib/admin.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./collection":"node_modules/mongodb/lib/collection.js"},"node_modules/mongodb/lib/authenticate.js":{"./utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/admin.js":{"./utils":"node_modules/mongodb/lib/utils.js","./metadata":"node_modules/mongodb/lib/metadata.js","./authenticate":"node_modules/mongodb/lib/authenticate.js"},"node_modules/mongodb/lib/mongo_client.js":{"./url_parser":"node_modules/mongodb/lib/url_parser.js","./server":"node_modules/mongodb/lib/server.js","./mongos":"node_modules/mongodb/lib/mongos.js","./replset":"node_modules/mongodb/lib/replset.js","./metadata":"node_modules/mongodb/lib/metadata.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./db":"node_modules/mongodb/lib/db.js","./utils":"node_modules/mongodb/lib/utils.js","./authenticate":"node_modules/mongodb/lib/authenticate.js"},"node_modules/mongodb/lib/url_parser.js":{"./read_preference":"node_modules/mongodb/lib/read_preference.js","./utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/server.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./topology_base":"node_modules/mongodb/lib/topology_base.js","./metadata":"node_modules/mongodb/lib/metadata.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/topology_base.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/mongos.js":{"./topology_base":"node_modules/mongodb/lib/topology_base.js","mongodb-core":"node_modules/mongodb-core/index.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./metadata":"node_modules/mongodb/lib/metadata.js","./server":"node_modules/mongodb/lib/server.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/replset.js":{"./server":"node_modules/mongodb/lib/server.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./topology_base":"node_modules/mongodb/lib/topology_base.js","./metadata":"node_modules/mongodb/lib/metadata.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/gridfs-stream/index.js":{"./download":"node_modules/mongodb/lib/gridfs-stream/download.js","./upload":"node_modules/mongodb/lib/gridfs-stream/upload.js","../utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/gridfs-stream/download.js":{},"node_modules/mongodb/lib/gridfs-stream/upload.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/objectid.js":{"mongodb":"node_modules/mongodb/index.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/ReadPreference.js":{"mongodb":"node_modules/mongodb/index.js"},"node_modules/mongoose/lib/utils.js":{"./types/decimal128":"node_modules/mongoose/lib/types/decimal128.js","./types/objectid":"node_modules/mongoose/lib/types/objectid.js","regexp-clone":"node_modules/regexp-clone/index.js","sliced":"node_modules/sliced/index.js","mpath":"node_modules/mpath/index.js","ms":"node_modules/ms/index.js","./document":"node_modules/mongoose/lib/document.js","./types":"node_modules/mongoose/lib/types/index.js"},"node_modules/mongoose/lib/types/decimal128.js":{"bson":"node_modules/bson/index.js"},"node_modules/mongoose/lib/types/objectid.js":{"../drivers":"node_modules/mongoose/lib/drivers/index.js"},"node_modules/mpath/index.js":{"./lib":"node_modules/mpath/lib/index.js"},"node_modules/mongoose/lib/schematype.js":{"./schema/operators/exists":"node_modules/mongoose/lib/schema/operators/exists.js","./schema/operators/type":"node_modules/mongoose/lib/schema/operators/type.js","./utils":"node_modules/mongoose/lib/utils.js","./error":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error.js":{"./error/messages":"node_modules/mongoose/lib/error/messages.js","./error/notFound":"node_modules/mongoose/lib/error/notFound.js","./error/cast":"node_modules/mongoose/lib/error/cast.js","./error/validation":"node_modules/mongoose/lib/error/validation.js","./error/validator":"node_modules/mongoose/lib/error/validator.js","./error/version":"node_modules/mongoose/lib/error/version.js","./error/overwriteModel":"node_modules/mongoose/lib/error/overwriteModel.js","./error/missingSchema":"node_modules/mongoose/lib/error/missingSchema.js","./error/divergentArray":"node_modules/mongoose/lib/error/divergentArray.js"},"node_modules/mongoose/lib/error/notFound.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/cast.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/validation.js":{"../error.js":"node_modules/mongoose/lib/error.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/error/validator.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/version.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/overwriteModel.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/missingSchema.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/divergentArray.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/schema/index.js":{"./string":"node_modules/mongoose/lib/schema/string.js","./number":"node_modules/mongoose/lib/schema/number.js","./boolean":"node_modules/mongoose/lib/schema/boolean.js","./documentarray":"node_modules/mongoose/lib/schema/documentarray.js","./embedded":"node_modules/mongoose/lib/schema/embedded.js","./array":"node_modules/mongoose/lib/schema/array.js","./buffer":"node_modules/mongoose/lib/schema/buffer.js","./date":"node_modules/mongoose/lib/schema/date.js","./objectid":"node_modules/mongoose/lib/schema/objectid.js","./mixed":"node_modules/mongoose/lib/schema/mixed.js","./decimal128":"node_modules/mongoose/lib/schema/decimal128.js"},"node_modules/mongoose/lib/schema/string.js":{"../schematype":"node_modules/mongoose/lib/schematype.js","../error":"node_modules/mongoose/lib/error.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/number.js":{"../schematype":"node_modules/mongoose/lib/schematype.js","./operators/bitwise":"node_modules/mongoose/lib/schema/operators/bitwise.js","../error":"node_modules/mongoose/lib/error.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/operators/bitwise.js":{"../../error/cast":"node_modules/mongoose/lib/error/cast.js"},"node_modules/mongoose/lib/schema/boolean.js":{"../utils":"node_modules/mongoose/lib/utils.js","../schematype":"node_modules/mongoose/lib/schematype.js"},"node_modules/mongoose/lib/schema/documentarray.js":{"./array":"node_modules/mongoose/lib/schema/array.js","../error/cast":"node_modules/mongoose/lib/error/cast.js","../document":"node_modules/mongoose/lib/document.js","../types/documentarray":"node_modules/mongoose/lib/types/documentarray.js","../schematype":"node_modules/mongoose/lib/schematype.js","../types/embedded":"node_modules/mongoose/lib/types/embedded.js","../services/model/discriminator":"node_modules/mongoose/lib/services/model/discriminator.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/array.js":{"./operators/exists":"node_modules/mongoose/lib/schema/operators/exists.js","./operators/type":"node_modules/mongoose/lib/schema/operators/type.js","../schematype":"node_modules/mongoose/lib/schematype.js","./boolean":"node_modules/mongoose/lib/schema/boolean.js","./date":"node_modules/mongoose/lib/schema/date.js","./number":"node_modules/mongoose/lib/schema/number.js","./string":"node_modules/mongoose/lib/schema/string.js","./objectid":"node_modules/mongoose/lib/schema/objectid.js","./buffer":"node_modules/mongoose/lib/schema/buffer.js","../types":"node_modules/mongoose/lib/types/index.js","./mixed":"node_modules/mongoose/lib/schema/mixed.js","../cast":"node_modules/mongoose/lib/cast.js","../utils":"node_modules/mongoose/lib/utils.js","./operators/helpers":"node_modules/mongoose/lib/schema/operators/helpers.js","./operators/geospatial":"node_modules/mongoose/lib/schema/operators/geospatial.js"},"node_modules/mongoose/lib/schema/date.js":{"../error":"node_modules/mongoose/lib/error.js","../utils":"node_modules/mongoose/lib/utils.js","../schematype":"node_modules/mongoose/lib/schematype.js"},"node_modules/mongoose/lib/schema/objectid.js":{"../schematype":"node_modules/mongoose/lib/schematype.js","../types/objectid":"node_modules/mongoose/lib/types/objectid.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/buffer.js":{"./operators/bitwise":"node_modules/mongoose/lib/schema/operators/bitwise.js","../utils":"node_modules/mongoose/lib/utils.js","../types":"node_modules/mongoose/lib/types/index.js","../schematype":"node_modules/mongoose/lib/schematype.js"},"node_modules/mongoose/lib/types/index.js":{"./array":"node_modules/mongoose/lib/types/array.js","./buffer":"node_modules/mongoose/lib/types/buffer.js","./embedded":"node_modules/mongoose/lib/types/embedded.js","./documentarray":"node_modules/mongoose/lib/types/documentarray.js","./decimal128":"node_modules/mongoose/lib/types/decimal128.js","./objectid":"node_modules/mongoose/lib/types/objectid.js","./subdocument":"node_modules/mongoose/lib/types/subdocument.js"},"node_modules/mongoose/lib/types/array.js":{"./embedded":"node_modules/mongoose/lib/types/embedded.js","../document":"node_modules/mongoose/lib/document.js","./objectid":"node_modules/mongoose/lib/types/objectid.js","../services/document/cleanModifiedSubpaths":"node_modules/mongoose/lib/services/document/cleanModifiedSubpaths.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/types/embedded.js":{"../document_provider":"node_modules/mongoose/lib/document_provider.js","../promise_provider":"node_modules/mongoose/lib/promise_provider.js"},"node_modules/mongoose/lib/document_provider.js":{"./document.js":"node_modules/mongoose/lib/document.js","./browserDocument.js":"node_modules/mongoose/lib/browserDocument.js"},"node_modules/mongoose/lib/document.js":{"./error":"node_modules/mongoose/lib/error.js","./schema/mixed":"node_modules/mongoose/lib/schema/mixed.js","./schema":"node_modules/mongoose/lib/schema.js","./error/objectExpected":"node_modules/mongoose/lib/error/objectExpected.js","./error/strict":"node_modules/mongoose/lib/error/strict.js","./schematype":"node_modules/mongoose/lib/schematype.js","./virtualtype":"node_modules/mongoose/lib/virtualtype.js","./utils":"node_modules/mongoose/lib/utils.js","./internal":"node_modules/mongoose/lib/internal.js","./services/document/cleanModifiedSubpaths":"node_modules/mongoose/lib/services/document/cleanModifiedSubpaths.js","./services/document/compile":"node_modules/mongoose/lib/services/document/compile.js","hooks-fixed":"node_modules/hooks-fixed/hooks.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js","./services/common":"node_modules/mongoose/lib/services/common.js","mpath":"node_modules/mpath/index.js","./plugins/idGetter":"node_modules/mongoose/lib/plugins/idGetter.js"},"node_modules/mongoose/lib/schema/mixed.js":{"../schematype":"node_modules/mongoose/lib/schematype.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/error/objectExpected.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/error/strict.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/internal.js":{"./statemachine":"node_modules/mongoose/lib/statemachine.js"},"node_modules/mongoose/lib/statemachine.js":{"./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/services/document/compile.js":{"../../utils":"node_modules/mongoose/lib/utils.js","../../document":"node_modules/mongoose/lib/document.js"},"node_modules/mongoose/lib/promise_provider.js":{"./promise":"node_modules/mongoose/lib/promise.js","./ES6Promise":"node_modules/mongoose/lib/ES6Promise.js","mquery":"node_modules/mquery/lib/mquery.js"},"node_modules/mongoose/lib/promise.js":{"mpromise":"node_modules/mpromise/lib/promise.js"},"node_modules/mpromise/lib/promise.js":{},"node_modules/mongoose/lib/services/common.js":{"../types/objectid":"node_modules/mongoose/lib/types/objectid.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/browserDocument.js":{"./document":"node_modules/mongoose/lib/document.js","./error":"node_modules/mongoose/lib/error.js","./schema":"node_modules/mongoose/lib/schema.js","./types/objectid":"node_modules/mongoose/lib/types/objectid.js","./utils":"node_modules/mongoose/lib/utils.js","./internal":"node_modules/mongoose/lib/internal.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js"},"node_modules/mongoose/lib/types/buffer.js":{"../drivers":"node_modules/mongoose/lib/drivers/index.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/types/documentarray.js":{"./array":"node_modules/mongoose/lib/types/array.js","./objectid":"node_modules/mongoose/lib/types/objectid.js","../schema/objectid":"node_modules/mongoose/lib/schema/objectid.js","../utils":"node_modules/mongoose/lib/utils.js","../document":"node_modules/mongoose/lib/document.js"},"node_modules/mongoose/lib/types/subdocument.js":{"../document":"node_modules/mongoose/lib/document.js","../promise_provider":"node_modules/mongoose/lib/promise_provider.js"},"node_modules/mongoose/lib/cast.js":{"./error/strict":"node_modules/mongoose/lib/error/strict.js","./schema/index":"node_modules/mongoose/lib/schema/index.js","./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/operators/helpers.js":{"../number":"node_modules/mongoose/lib/schema/number.js"},"node_modules/mongoose/lib/schema/operators/geospatial.js":{"./helpers":"node_modules/mongoose/lib/schema/operators/helpers.js"},"node_modules/mongoose/lib/services/model/discriminator.js":{"../../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/schema/embedded.js":{"./operators/exists":"node_modules/mongoose/lib/schema/operators/exists.js","../schematype":"node_modules/mongoose/lib/schematype.js","../types/subdocument":"node_modules/mongoose/lib/types/subdocument.js","./operators/helpers":"node_modules/mongoose/lib/schema/operators/helpers.js","./operators/geospatial":"node_modules/mongoose/lib/schema/operators/geospatial.js"},"node_modules/mongoose/lib/schema/decimal128.js":{"../schematype":"node_modules/mongoose/lib/schematype.js","../types/decimal128":"node_modules/mongoose/lib/types/decimal128.js","../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/query.js":{"./promise_provider":"node_modules/mongoose/lib/promise_provider.js","./cursor/QueryCursor":"node_modules/mongoose/lib/cursor/QueryCursor.js","./querystream":"node_modules/mongoose/lib/querystream.js","./cast":"node_modules/mongoose/lib/cast.js","./services/query/castUpdate":"node_modules/mongoose/lib/services/query/castUpdate.js","./services/query/hasDollarKeys":"node_modules/mongoose/lib/services/query/hasDollarKeys.js","./queryhelpers":"node_modules/mongoose/lib/queryhelpers.js","mquery":"node_modules/mquery/lib/mquery.js","./drivers":"node_modules/mongoose/lib/drivers/index.js","./services/query/selectPopulatedFields":"node_modules/mongoose/lib/services/query/selectPopulatedFields.js","./services/setDefaultsOnInsert":"node_modules/mongoose/lib/services/setDefaultsOnInsert.js","./services/updateValidators":"node_modules/mongoose/lib/services/updateValidators.js","./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/cursor/QueryCursor.js":{"../promise_provider":"node_modules/mongoose/lib/promise_provider.js","../services/cursor/eachAsync":"node_modules/mongoose/lib/services/cursor/eachAsync.js","../queryhelpers":"node_modules/mongoose/lib/queryhelpers.js"},"node_modules/mongoose/lib/services/cursor/eachAsync.js":{"../../promise_provider":"node_modules/mongoose/lib/promise_provider.js","async":"node_modules/async/lib/async.js"},"node_modules/mongoose/lib/queryhelpers.js":{"./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/querystream.js":{"./utils":"node_modules/mongoose/lib/utils.js","./queryhelpers":"node_modules/mongoose/lib/queryhelpers.js"},"node_modules/mongoose/lib/services/query/castUpdate.js":{"../../error/strict":"node_modules/mongoose/lib/error/strict.js","../../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mquery/lib/mquery.js":{"sliced":"node_modules/sliced/index.js","./utils":"node_modules/mquery/lib/utils.js","debug":"node_modules/debug/src/index.js","./permissions":"node_modules/mquery/lib/permissions.js","./env":"node_modules/mquery/lib/env.js","./collection":"node_modules/mquery/lib/collection/index.js","./collection/collection":"node_modules/mquery/lib/collection/collection.js","bluebird":"node_modules/bluebird/js/release/bluebird.js"},"node_modules/mquery/lib/utils.js":{"regexp-clone":"node_modules/regexp-clone/index.js"},"node_modules/debug/src/index.js":{"./node.js":"node_modules/debug/src/node.js"},"node_modules/debug/src/node.js":{"./debug":"node_modules/debug/src/debug.js","supports-color":"node_modules/supports-color/index.js"},"node_modules/debug/src/debug.js":{"ms":"node_modules/ms/index.js"},"node_modules/mquery/lib/collection/index.js":{"../env":"node_modules/mquery/lib/env.js","./node":"node_modules/mquery/lib/collection/node.js"},"node_modules/mquery/lib/collection/node.js":{"./collection":"node_modules/mquery/lib/collection/collection.js","../utils":"node_modules/mquery/lib/utils.js"},"node_modules/bluebird/js/release/bluebird.js":{"./promise":"node_modules/bluebird/js/release/promise.js"},"node_modules/bluebird/js/release/promise.js":{"./util":"node_modules/bluebird/js/release/util.js","./es5":"node_modules/bluebird/js/release/es5.js","./async":"node_modules/bluebird/js/release/async.js","./errors":"node_modules/bluebird/js/release/errors.js","./thenables":"node_modules/bluebird/js/release/thenables.js","./promise_array":"node_modules/bluebird/js/release/promise_array.js","./context":"node_modules/bluebird/js/release/context.js","./debuggability":"node_modules/bluebird/js/release/debuggability.js","./finally":"node_modules/bluebird/js/release/finally.js","./catch_filter":"node_modules/bluebird/js/release/catch_filter.js","./nodeback":"node_modules/bluebird/js/release/nodeback.js","./method":"node_modules/bluebird/js/release/method.js","./bind":"node_modules/bluebird/js/release/bind.js","./cancel":"node_modules/bluebird/js/release/cancel.js","./direct_resolve":"node_modules/bluebird/js/release/direct_resolve.js","./synchronous_inspection":"node_modules/bluebird/js/release/synchronous_inspection.js","./join":"node_modules/bluebird/js/release/join.js","./map.js":"node_modules/bluebird/js/release/map.js","./call_get.js":"node_modules/bluebird/js/release/call_get.js","./using.js":"node_modules/bluebird/js/release/using.js","./timers.js":"node_modules/bluebird/js/release/timers.js","./generators.js":"node_modules/bluebird/js/release/generators.js","./nodeify.js":"node_modules/bluebird/js/release/nodeify.js","./promisify.js":"node_modules/bluebird/js/release/promisify.js","./props.js":"node_modules/bluebird/js/release/props.js","./race.js":"node_modules/bluebird/js/release/race.js","./reduce.js":"node_modules/bluebird/js/release/reduce.js","./settle.js":"node_modules/bluebird/js/release/settle.js","./some.js":"node_modules/bluebird/js/release/some.js","./filter.js":"node_modules/bluebird/js/release/filter.js","./each.js":"node_modules/bluebird/js/release/each.js","./any.js":"node_modules/bluebird/js/release/any.js"},"node_modules/bluebird/js/release/util.js":{"./es5":"node_modules/bluebird/js/release/es5.js"},"node_modules/bluebird/js/release/async.js":{"./schedule":"node_modules/bluebird/js/release/schedule.js","./queue":"node_modules/bluebird/js/release/queue.js","./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/schedule.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/errors.js":{"./es5":"node_modules/bluebird/js/release/es5.js","./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/thenables.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/promise_array.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/debuggability.js":{"./errors":"node_modules/bluebird/js/release/errors.js","./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/finally.js":{"./util":"node_modules/bluebird/js/release/util.js","./catch_filter":"node_modules/bluebird/js/release/catch_filter.js"},"node_modules/bluebird/js/release/catch_filter.js":{"./util":"node_modules/bluebird/js/release/util.js","./es5":"node_modules/bluebird/js/release/es5.js"},"node_modules/bluebird/js/release/nodeback.js":{"./util":"node_modules/bluebird/js/release/util.js","./errors":"node_modules/bluebird/js/release/errors.js","./es5":"node_modules/bluebird/js/release/es5.js"},"node_modules/bluebird/js/release/method.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/cancel.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/join.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/map.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/call_get.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/using.js":{"./util":"node_modules/bluebird/js/release/util.js","./errors":"node_modules/bluebird/js/release/errors.js"},"node_modules/bluebird/js/release/timers.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/generators.js":{"./errors":"node_modules/bluebird/js/release/errors.js","./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/nodeify.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/promisify.js":{"./util":"node_modules/bluebird/js/release/util.js","./nodeback":"node_modules/bluebird/js/release/nodeback.js","./errors":"node_modules/bluebird/js/release/errors.js"},"node_modules/bluebird/js/release/props.js":{"./util":"node_modules/bluebird/js/release/util.js","./es5":"node_modules/bluebird/js/release/es5.js"},"node_modules/bluebird/js/release/race.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/reduce.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/settle.js":{"./util":"node_modules/bluebird/js/release/util.js"},"node_modules/bluebird/js/release/some.js":{"./util":"node_modules/bluebird/js/release/util.js","./errors":"node_modules/bluebird/js/release/errors.js"},"node_modules/mongoose/lib/services/setDefaultsOnInsert.js":{"./common":"node_modules/mongoose/lib/services/common.js"},"node_modules/mongoose/lib/services/updateValidators.js":{"../schema/mixed":"node_modules/mongoose/lib/schema/mixed.js","../error/validation":"node_modules/mongoose/lib/error/validation.js","async":"node_modules/async/lib/async.js","./common":"node_modules/mongoose/lib/services/common.js"},"node_modules/mongoose/lib/model.js":{"./aggregate":"node_modules/mongoose/lib/aggregate.js","./document":"node_modules/mongoose/lib/document.js","./error":"node_modules/mongoose/lib/error.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js","./query":"node_modules/mongoose/lib/query.js","./schema":"node_modules/mongoose/lib/schema.js","./services/model/applyHooks":"node_modules/mongoose/lib/services/model/applyHooks.js","./services/model/applyMethods":"node_modules/mongoose/lib/services/model/applyMethods.js","./services/model/applyStatics":"node_modules/mongoose/lib/services/model/applyStatics.js","./cast":"node_modules/mongoose/lib/cast.js","./services/query/castUpdate":"node_modules/mongoose/lib/services/query/castUpdate.js","./services/model/discriminator":"node_modules/mongoose/lib/services/model/discriminator.js","./services/projection/isPathSelectedInclusive":"node_modules/mongoose/lib/services/projection/isPathSelectedInclusive.js","mpath":"node_modules/mpath/index.js","async":"node_modules/async/lib/async.js","./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/aggregate.js":{"./cursor/AggregationCursor":"node_modules/mongoose/lib/cursor/AggregationCursor.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js","./query":"node_modules/mongoose/lib/query.js","./services/cursor/eachAsync":"node_modules/mongoose/lib/services/cursor/eachAsync.js","./utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/cursor/AggregationCursor.js":{"../promise_provider":"node_modules/mongoose/lib/promise_provider.js"},"node_modules/mongoose/lib/services/model/applyHooks.js":{"../../promise_provider":"node_modules/mongoose/lib/promise_provider.js","../../error":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose/lib/plugins/saveSubdocs.js":{"async":"node_modules/async/lib/async.js"},"node_modules/mongoose/lib/plugins/sharding.js":{"../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js":{"../../connection":"node_modules/mongoose/lib/connection.js","mongodb":"node_modules/mongodb/index.js","../../connectionstate":"node_modules/mongoose/lib/connectionstate.js","../../error/disconnected":"node_modules/mongoose/lib/error/disconnected.js"},"node_modules/mongoose/lib/connection.js":{"./utils":"node_modules/mongoose/lib/utils.js","./schema":"node_modules/mongoose/lib/schema.js","./drivers/node-mongodb-native/collection":"node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js","./connectionstate":"node_modules/mongoose/lib/connectionstate.js","./error":"node_modules/mongoose/lib/error.js","muri":"node_modules/muri/index.js","./promise_provider":"node_modules/mongoose/lib/promise_provider.js","mongodb":"node_modules/mongodb/index.js"},"node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js":{"../../collection":"node_modules/mongoose/lib/collection.js","mongodb":"node_modules/mongodb/index.js","../../utils":"node_modules/mongoose/lib/utils.js"},"node_modules/mongoose/lib/collection.js":{"./connectionstate":"node_modules/mongoose/lib/connectionstate.js"},"node_modules/muri/index.js":{"./lib":"node_modules/muri/lib/index.js"},"node_modules/muri/lib/index.js":{"../package.json":"node_modules/muri/package.json"},"node_modules/mongoose/lib/error/disconnected.js":{"../error.js":"node_modules/mongoose/lib/error.js"},"node_modules/mongoose-auto-increment/index.js":{"mongoose":"node_modules/mongoose/index.js","extend":"node_modules/extend/index.js"},"backend/modules/mongoose/expressMiddleware.js":{"mongoose":"node_modules/mongoose/index.js"},"backend/modules/settings/index.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","./routes":"backend/modules/settings/routes.js"},"backend/modules/events/index.js":{"lodash":"node_modules/lodash/lodash.min.js","./routes":"backend/modules/events/routes.js"},"backend/modules/pubsub.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.pubsub":"node_modules/h5.pubsub/lib/index.js"},"backend/modules/user.js":{"cookie":"node_modules/cookie/index.js","cookie-parser":"node_modules/cookie-parser/index.js","lodash":"node_modules/lodash/lodash.min.js","bcrypt":"node_modules/bcrypt/bcrypt.js","h5.step":"node_modules/h5.step/lib/index.js","mongoose":"node_modules/mongoose/index.js","./util/resolveIpAddress":"backend/modules/util/resolveIpAddress.js"},"node_modules/cookie-parser/index.js":{"cookie":"node_modules/cookie/index.js","cookie-signature":"node_modules/cookie-signature/index.js"},"node_modules/cookie-signature/index.js":{},"node_modules/bcrypt/bcrypt.js":{"node-pre-gyp":"node_modules/node-pre-gyp/lib/node-pre-gyp.js","node_modules/bcrypt/lib/binding/bcrypt_lib.node":"node_modules/bcrypt/lib/binding/bcrypt_lib.node","./lib/promises":"node_modules/bcrypt/lib/promises.js"},"node_modules/node-pre-gyp/lib/node-pre-gyp.js":{"nopt":"node_modules/nopt/lib/nopt.js","npmlog":"node_modules/npmlog/log.js","./pre-binding":"node_modules/node-pre-gyp/lib/pre-binding.js","../package.json":"node_modules/node-pre-gyp/package.json"},"node_modules/nopt/lib/nopt.js":{"abbrev":"node_modules/abbrev/abbrev.js","osenv":"node_modules/osenv/osenv.js"},"node_modules/osenv/osenv.js":{"os-tmpdir":"node_modules/os-tmpdir/index.js","os-homedir":"node_modules/os-homedir/index.js"},"node_modules/os-homedir/index.js":{},"node_modules/npmlog/log.js":{"are-we-there-yet":"node_modules/are-we-there-yet/index.js","gauge":"node_modules/gauge/index.js","set-blocking":"node_modules/set-blocking/index.js","console-control-strings":"node_modules/console-control-strings/index.js"},"node_modules/are-we-there-yet/index.js":{"./tracker-group.js":"node_modules/are-we-there-yet/tracker-group.js","./tracker.js":"node_modules/are-we-there-yet/tracker.js","./tracker-stream.js":"node_modules/are-we-there-yet/tracker-stream.js"},"node_modules/are-we-there-yet/tracker-group.js":{"./tracker-base.js":"node_modules/are-we-there-yet/tracker-base.js","./tracker.js":"node_modules/are-we-there-yet/tracker.js","./tracker-stream.js":"node_modules/are-we-there-yet/tracker-stream.js"},"node_modules/are-we-there-yet/tracker-base.js":{},"node_modules/are-we-there-yet/tracker.js":{"./tracker-base.js":"node_modules/are-we-there-yet/tracker-base.js"},"node_modules/are-we-there-yet/tracker-stream.js":{"readable-stream":"node_modules/readable-stream/readable.js","delegates":"node_modules/delegates/index.js","./tracker.js":"node_modules/are-we-there-yet/tracker.js"},"node_modules/readable-stream/readable.js":{"./lib/_stream_readable.js":"node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_writable.js":"node_modules/readable-stream/lib/_stream_writable.js","./lib/_stream_duplex.js":"node_modules/readable-stream/lib/_stream_duplex.js","./lib/_stream_transform.js":"node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_passthrough.js":"node_modules/readable-stream/lib/_stream_passthrough.js"},"node_modules/readable-stream/lib/_stream_readable.js":{"process-nextick-args":"node_modules/process-nextick-args/index.js","isarray":"node_modules/isarray/index.js","./internal/streams/stream":"node_modules/readable-stream/lib/internal/streams/stream.js","safe-buffer":"node_modules/safe-buffer/index.js","core-util-is":"node_modules/core-util-is/lib/util.js","inherits":"node_modules/inherits/inherits.js","./internal/streams/BufferList":"node_modules/readable-stream/lib/internal/streams/BufferList.js","./internal/streams/destroy":"node_modules/readable-stream/lib/internal/streams/destroy.js"},"node_modules/readable-stream/lib/internal/streams/stream.js":{},"node_modules/safe-buffer/index.js":{},"node_modules/inherits/inherits.js":{},"node_modules/readable-stream/lib/internal/streams/BufferList.js":{"safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/readable-stream/lib/internal/streams/destroy.js":{"process-nextick-args":"node_modules/process-nextick-args/index.js"},"node_modules/readable-stream/lib/_stream_writable.js":{"process-nextick-args":"node_modules/process-nextick-args/index.js","core-util-is":"node_modules/core-util-is/lib/util.js","inherits":"node_modules/inherits/inherits.js","util-deprecate":"node_modules/util-deprecate/node.js","./internal/streams/stream":"node_modules/readable-stream/lib/internal/streams/stream.js","safe-buffer":"node_modules/safe-buffer/index.js","./internal/streams/destroy":"node_modules/readable-stream/lib/internal/streams/destroy.js"},"node_modules/util-deprecate/node.js":{},"node_modules/readable-stream/lib/_stream_duplex.js":{"process-nextick-args":"node_modules/process-nextick-args/index.js","core-util-is":"node_modules/core-util-is/lib/util.js","inherits":"node_modules/inherits/inherits.js","./_stream_readable":"node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"node_modules/readable-stream/lib/_stream_writable.js"},"node_modules/readable-stream/lib/_stream_transform.js":{"./_stream_duplex":"node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"node_modules/core-util-is/lib/util.js","inherits":"node_modules/inherits/inherits.js"},"node_modules/readable-stream/lib/_stream_passthrough.js":{"./_stream_transform":"node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"node_modules/core-util-is/lib/util.js","inherits":"node_modules/inherits/inherits.js"},"node_modules/gauge/index.js":{"./plumbing.js":"node_modules/gauge/plumbing.js","has-unicode":"node_modules/has-unicode/index.js","./has-color.js":"node_modules/gauge/has-color.js","signal-exit":"node_modules/signal-exit/index.js","./themes":"node_modules/gauge/themes.js","./set-interval.js":"node_modules/gauge/set-interval.js","./process.js":"node_modules/gauge/process.js","./set-immediate":"node_modules/gauge/set-immediate.js"},"node_modules/gauge/plumbing.js":{"console-control-strings":"node_modules/console-control-strings/index.js","./render-template.js":"node_modules/gauge/render-template.js","aproba":"node_modules/aproba/index.js"},"node_modules/gauge/render-template.js":{"wide-align":"node_modules/wide-align/align.js","aproba":"node_modules/aproba/index.js","object-assign":"node_modules/object-assign/index.js","./wide-truncate":"node_modules/gauge/wide-truncate.js","./error":"node_modules/gauge/error.js","./template-item":"node_modules/gauge/template-item.js"},"node_modules/wide-align/align.js":{"string-width":"node_modules/string-width/index.js"},"node_modules/string-width/index.js":{"strip-ansi":"node_modules/strip-ansi/index.js","code-point-at":"node_modules/code-point-at/index.js","is-fullwidth-code-point":"node_modules/is-fullwidth-code-point/index.js"},"node_modules/strip-ansi/index.js":{"ansi-regex":"node_modules/ansi-regex/index.js"},"node_modules/is-fullwidth-code-point/index.js":{"number-is-nan":"node_modules/number-is-nan/index.js"},"node_modules/gauge/wide-truncate.js":{"string-width":"node_modules/string-width/index.js","strip-ansi":"node_modules/strip-ansi/index.js"},"node_modules/gauge/error.js":{},"node_modules/gauge/template-item.js":{"string-width":"node_modules/string-width/index.js"},"node_modules/has-unicode/index.js":{},"node_modules/signal-exit/index.js":{"./signals.js":"node_modules/signal-exit/signals.js"},"node_modules/gauge/themes.js":{"console-control-strings":"node_modules/console-control-strings/index.js","./theme-set.js":"node_modules/gauge/theme-set.js"},"node_modules/gauge/theme-set.js":{"object-assign":"node_modules/object-assign/index.js","./base-theme.js":"node_modules/gauge/base-theme.js"},"node_modules/gauge/base-theme.js":{"./spin.js":"node_modules/gauge/spin.js","./progress-bar.js":"node_modules/gauge/progress-bar.js"},"node_modules/gauge/progress-bar.js":{"aproba":"node_modules/aproba/index.js","./render-template.js":"node_modules/gauge/render-template.js","./wide-truncate":"node_modules/gauge/wide-truncate.js","string-width":"node_modules/string-width/index.js"},"node_modules/gauge/set-immediate.js":{"./process":"node_modules/gauge/process.js"},"node_modules/node-pre-gyp/lib/pre-binding.js":{"../lib/util/versioning.js":"node_modules/node-pre-gyp/lib/util/versioning.js","node_modules/bcrypt/package.json":"node_modules/bcrypt/package.json"},"node_modules/node-pre-gyp/lib/util/versioning.js":{"semver":"node_modules/semver/semver.js","./abi_crosswalk.json":"node_modules/node-pre-gyp/lib/util/abi_crosswalk.json"},"backend/modules/express/index.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","express":"node_modules/express/index.js","express/lib/view":"node_modules/express/lib/view.js","methods":"node_modules/methods/index.js","ejs-amd":"node_modules/ejs-amd/lib/index.js","messageformat-amd":"node_modules/messageformat-amd/lib/index.js","./wrapAmd":"backend/modules/express/wrapAmd.js","./rqlMiddleware":"backend/modules/express/rqlMiddleware.js","./errorHandlerMiddleware":"backend/modules/express/errorHandlerMiddleware.js","./crud":"backend/modules/express/crud.js","./monkeyPatch":"backend/modules/express/monkeyPatch.js","cookie-parser":"node_modules/cookie-parser/index.js","body-parser":"node_modules/body-parser/index.js","iconv-lite":"node_modules/iconv-lite/lib/index.js","express-session":"node_modules/express-session/index.js","./MongoStore":"backend/modules/express/MongoStore.js"},"node_modules/express/index.js":{"./lib/express":"node_modules/express/lib/express.js"},"node_modules/express/lib/express.js":{"merge-descriptors":"node_modules/merge-descriptors/index.js","./application":"node_modules/express/lib/application.js","./router/route":"node_modules/express/lib/router/route.js","./router":"node_modules/express/lib/router/index.js","./request":"node_modules/express/lib/request.js","./response":"node_modules/express/lib/response.js","./middleware/query":"node_modules/express/lib/middleware/query.js","serve-static":"node_modules/serve-static/index.js"},"node_modules/express/lib/application.js":{"finalhandler":"node_modules/finalhandler/index.js","./router":"node_modules/express/lib/router/index.js","methods":"node_modules/methods/index.js","./middleware/init":"node_modules/express/lib/middleware/init.js","./middleware/query":"node_modules/express/lib/middleware/query.js","debug":"node_modules/debug/src/index.js","./view":"node_modules/express/lib/view.js","./utils":"node_modules/express/lib/utils.js","depd":"node_modules/depd/index.js","array-flatten":"node_modules/array-flatten/array-flatten.js","utils-merge":"node_modules/utils-merge/index.js","setprototypeof":"node_modules/setprototypeof/index.js"},"node_modules/finalhandler/index.js":{"debug":"node_modules/debug/src/index.js","encodeurl":"node_modules/encodeurl/index.js","escape-html":"node_modules/escape-html/index.js","on-finished":"node_modules/on-finished/index.js","parseurl":"node_modules/parseurl/index.js","statuses":"node_modules/statuses/index.js","unpipe":"node_modules/unpipe/index.js"},"node_modules/on-finished/index.js":{"ee-first":"node_modules/ee-first/index.js"},"node_modules/parseurl/index.js":{},"node_modules/statuses/index.js":{"./codes.json":"node_modules/statuses/codes.json"},"node_modules/express/lib/router/index.js":{"./route":"node_modules/express/lib/router/route.js","./layer":"node_modules/express/lib/router/layer.js","methods":"node_modules/methods/index.js","utils-merge":"node_modules/utils-merge/index.js","debug":"node_modules/debug/src/index.js","depd":"node_modules/depd/index.js","array-flatten":"node_modules/array-flatten/array-flatten.js","parseurl":"node_modules/parseurl/index.js","setprototypeof":"node_modules/setprototypeof/index.js"},"node_modules/express/lib/router/route.js":{"debug":"node_modules/debug/src/index.js","array-flatten":"node_modules/array-flatten/array-flatten.js","./layer":"node_modules/express/lib/router/layer.js","methods":"node_modules/methods/index.js"},"node_modules/express/lib/router/layer.js":{"path-to-regexp":"node_modules/path-to-regexp/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/methods/index.js":{},"node_modules/depd/index.js":{"./lib/compat":"node_modules/depd/lib/compat/index.js"},"node_modules/depd/lib/compat/index.js":{},"node_modules/express/lib/middleware/init.js":{"setprototypeof":"node_modules/setprototypeof/index.js"},"node_modules/express/lib/middleware/query.js":{"utils-merge":"node_modules/utils-merge/index.js","parseurl":"node_modules/parseurl/index.js","qs":"node_modules/qs/lib/index.js"},"node_modules/qs/lib/index.js":{"./stringify":"node_modules/qs/lib/stringify.js","./parse":"node_modules/qs/lib/parse.js","./formats":"node_modules/qs/lib/formats.js"},"node_modules/qs/lib/stringify.js":{"./utils":"node_modules/qs/lib/utils.js","./formats":"node_modules/qs/lib/formats.js"},"node_modules/qs/lib/parse.js":{"./utils":"node_modules/qs/lib/utils.js"},"node_modules/express/lib/view.js":{"debug":"node_modules/debug/src/index.js"},"node_modules/express/lib/utils.js":{"content-disposition":"node_modules/content-disposition/index.js","content-type":"node_modules/content-type/index.js","depd":"node_modules/depd/index.js","array-flatten":"node_modules/array-flatten/array-flatten.js","send":"node_modules/send/index.js","etag":"node_modules/etag/index.js","proxy-addr":"node_modules/proxy-addr/index.js","qs":"node_modules/qs/lib/index.js"},"node_modules/content-disposition/index.js":{},"node_modules/send/index.js":{"http-errors":"node_modules/http-errors/index.js","debug":"node_modules/debug/src/index.js","depd":"node_modules/depd/index.js","destroy":"node_modules/destroy/index.js","encodeurl":"node_modules/encodeurl/index.js","escape-html":"node_modules/escape-html/index.js","etag":"node_modules/etag/index.js","fresh":"node_modules/fresh/index.js","mime":"node_modules/mime/mime.js","ms":"node_modules/ms/index.js","on-finished":"node_modules/on-finished/index.js","range-parser":"node_modules/range-parser/index.js","statuses":"node_modules/statuses/index.js"},"node_modules/http-errors/index.js":{"depd":"node_modules/depd/index.js","setprototypeof":"node_modules/setprototypeof/index.js","statuses":"node_modules/statuses/index.js","inherits":"node_modules/inherits/inherits.js"},"node_modules/destroy/index.js":{},"node_modules/etag/index.js":{},"node_modules/mime/mime.js":{"./types.json":"node_modules/mime/types.json"},"node_modules/proxy-addr/index.js":{"forwarded":"node_modules/forwarded/index.js","ipaddr.js":"node_modules/ipaddr.js/lib/ipaddr.js"},"node_modules/express/lib/request.js":{"accepts":"node_modules/accepts/index.js","depd":"node_modules/depd/index.js","type-is":"node_modules/type-is/index.js","fresh":"node_modules/fresh/index.js","range-parser":"node_modules/range-parser/index.js","parseurl":"node_modules/parseurl/index.js","proxy-addr":"node_modules/proxy-addr/index.js"},"node_modules/accepts/index.js":{"negotiator":"node_modules/negotiator/index.js","mime-types":"node_modules/mime-types/index.js"},"node_modules/mime-types/index.js":{"mime-db":"node_modules/mime-db/index.js"},"node_modules/mime-db/index.js":{"./db.json":"node_modules/mime-db/db.json"},"node_modules/type-is/index.js":{"media-typer":"node_modules/media-typer/index.js","mime-types":"node_modules/mime-types/index.js"},"node_modules/express/lib/response.js":{"content-disposition":"node_modules/content-disposition/index.js","depd":"node_modules/depd/index.js","encodeurl":"node_modules/encodeurl/index.js","escape-html":"node_modules/escape-html/index.js","./utils":"node_modules/express/lib/utils.js","on-finished":"node_modules/on-finished/index.js","statuses":"node_modules/statuses/index.js","utils-merge":"node_modules/utils-merge/index.js","cookie-signature":"node_modules/cookie-signature/index.js","cookie":"node_modules/cookie/index.js","send":"node_modules/send/index.js","vary":"node_modules/vary/index.js"},"node_modules/serve-static/index.js":{"encodeurl":"node_modules/encodeurl/index.js","escape-html":"node_modules/escape-html/index.js","parseurl":"node_modules/parseurl/index.js","send":"node_modules/send/index.js"},"node_modules/ejs-amd/lib/index.js":{"ejs":"node_modules/ejs/lib/ejs.js"},"node_modules/ejs/lib/ejs.js":{"./utils":"node_modules/ejs/lib/utils.js","../package.json":"node_modules/ejs/package.json"},"node_modules/messageformat-amd/lib/index.js":{"./localeLib":"node_modules/messageformat-amd/lib/localeLib.js","./nlsLib":"node_modules/messageformat-amd/lib/nlsLib.js","./middleware/locale":"node_modules/messageformat-amd/lib/middleware/locale.js","./middleware/nls":"node_modules/messageformat-amd/lib/middleware/nls.js"},"node_modules/messageformat-amd/lib/localeLib.js":{},"node_modules/messageformat-amd/lib/nlsLib.js":{"messageformat":"node_modules/messageformat/messageformat.js"},"node_modules/messageformat-amd/lib/middleware/locale.js":{"../localeLib":"node_modules/messageformat-amd/lib/localeLib.js"},"node_modules/messageformat-amd/lib/middleware/nls.js":{"../nlsLib":"node_modules/messageformat-amd/lib/nlsLib.js","messageformat":"node_modules/messageformat/messageformat.js"},"backend/modules/express/wrapAmd.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/express/rqlMiddleware.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.rql":"node_modules/h5.rql/lib/index.js"},"node_modules/h5.rql/lib/index.js":{"./Term":"node_modules/h5.rql/lib/Term.js","./Query":"node_modules/h5.rql/lib/Query.js","./Parser":"node_modules/h5.rql/lib/Parser.js","./specialTerms":"node_modules/h5.rql/lib/specialTerms.js","./valueConverters":"node_modules/h5.rql/lib/valueConverters.js"},"node_modules/h5.rql/lib/Query.js":{"./Term":"node_modules/h5.rql/lib/Term.js","./serializers/stringSerializer":"node_modules/h5.rql/lib/serializers/stringSerializer.js"},"node_modules/h5.rql/lib/serializers/stringSerializer.js":{"../specialTerms":"node_modules/h5.rql/lib/specialTerms.js","../autoConvertedMap":"node_modules/h5.rql/lib/autoConvertedMap.js"},"node_modules/h5.rql/lib/Parser.js":{"./Term":"node_modules/h5.rql/lib/Term.js","./valueConverters":"node_modules/h5.rql/lib/valueConverters.js"},"node_modules/h5.rql/lib/valueConverters.js":{"./autoConvertedMap":"node_modules/h5.rql/lib/autoConvertedMap.js"},"backend/modules/express/errorHandlerMiddleware.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/express/crud.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","h5.rql/lib/serializers/mongoSerializer":"node_modules/h5.rql/lib/serializers/mongoSerializer.js","../../helpers":"backend/helpers.js"},"backend/modules/express/monkeyPatch.js":{},"node_modules/body-parser/index.js":{"depd":"node_modules/depd/index.js","./lib/types/json":"node_modules/body-parser/lib/types/json.js","./lib/types/urlencoded":"node_modules/body-parser/lib/types/urlencoded.js","./lib/types/text":"node_modules/body-parser/lib/types/text.js"},"node_modules/iconv-lite/lib/index.js":{"./bom-handling":"node_modules/iconv-lite/lib/bom-handling.js","./streams":"node_modules/iconv-lite/lib/streams.js","./extend-node":"node_modules/iconv-lite/lib/extend-node.js","../encodings":"node_modules/iconv-lite/encodings/index.js"},"node_modules/iconv-lite/lib/streams.js":{},"node_modules/iconv-lite/encodings/index.js":{"./internal":"node_modules/iconv-lite/encodings/internal.js","./utf16":"node_modules/iconv-lite/encodings/utf16.js","./utf7":"node_modules/iconv-lite/encodings/utf7.js","./sbcs-codec":"node_modules/iconv-lite/encodings/sbcs-codec.js","./sbcs-data":"node_modules/iconv-lite/encodings/sbcs-data.js","./sbcs-data-generated":"node_modules/iconv-lite/encodings/sbcs-data-generated.js","./dbcs-codec":"node_modules/iconv-lite/encodings/dbcs-codec.js","./dbcs-data":"node_modules/iconv-lite/encodings/dbcs-data.js"},"node_modules/iconv-lite/encodings/internal.js":{},"node_modules/express-session/index.js":{"cookie":"node_modules/cookie/index.js","crc":"node_modules/crc/lib/index.js","debug":"node_modules/debug/src/index.js","depd":"node_modules/depd/index.js","parseurl":"node_modules/parseurl/index.js","uid-safe":"node_modules/uid-safe/index.js","on-headers":"node_modules/on-headers/index.js","cookie-signature":"node_modules/cookie-signature/index.js","./session/session":"node_modules/express-session/session/session.js","./session/memory":"node_modules/express-session/session/memory.js","./session/cookie":"node_modules/express-session/session/cookie.js","./session/store":"node_modules/express-session/session/store.js"},"node_modules/crc/lib/index.js":{"./crc1":"node_modules/crc/lib/crc1.js","./crc8":"node_modules/crc/lib/crc8.js","./crc8_1wire":"node_modules/crc/lib/crc8_1wire.js","./crc16":"node_modules/crc/lib/crc16.js","./crc16_ccitt":"node_modules/crc/lib/crc16_ccitt.js","./crc16_modbus":"node_modules/crc/lib/crc16_modbus.js","./crc16_xmodem":"node_modules/crc/lib/crc16_xmodem.js","./crc16_kermit":"node_modules/crc/lib/crc16_kermit.js","./crc24":"node_modules/crc/lib/crc24.js","./crc32":"node_modules/crc/lib/crc32.js"},"node_modules/crc/lib/crc1.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/create_buffer.js":{},"node_modules/crc/lib/crc8.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc8_1wire.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc16.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc16_ccitt.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc16_modbus.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc16_xmodem.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc16_kermit.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc24.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/crc/lib/crc32.js":{"./create_buffer":"node_modules/crc/lib/create_buffer.js","./define_crc":"node_modules/crc/lib/define_crc.js"},"node_modules/uid-safe/index.js":{"random-bytes":"node_modules/random-bytes/index.js"},"node_modules/random-bytes/index.js":{},"node_modules/express-session/session/memory.js":{"./store":"node_modules/express-session/session/store.js"},"node_modules/express-session/session/store.js":{"./cookie":"node_modules/express-session/session/cookie.js","./session":"node_modules/express-session/session/session.js"},"node_modules/express-session/session/cookie.js":{"utils-merge":"node_modules/utils-merge/index.js","cookie":"node_modules/cookie/index.js"},"backend/modules/express/MongoStore.js":{"express-session":"node_modules/express-session/index.js"},"backend/modules/users/index.js":{"moment":"node_modules/moment/moment.js","./routes":"backend/modules/users/routes.js","./commands":"backend/modules/users/commands.js","./syncUsers":"backend/modules/users/syncUsers.js","./presenceChecker":"backend/modules/users/presenceChecker.js"},"backend/modules/users/routes.js":{"lodash":"node_modules/lodash/lodash.min.js","bcrypt":"node_modules/bcrypt/bcrypt.js","h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/users/commands.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/users/syncUsers.js":{"lodash":"node_modules/lodash/lodash.min.js","bcrypt":"node_modules/bcrypt/bcrypt.js","transliteration":"node_modules/transliteration/lib/node/index.js","h5.step":"node_modules/h5.step/lib/index.js"},"node_modules/transliteration/lib/node/index.js":{"./transliterate":"node_modules/transliteration/lib/node/transliterate.js","./slugify":"node_modules/transliteration/lib/node/slugify.js"},"node_modules/transliteration/lib/node/transliterate.js":{"./utils":"node_modules/transliteration/lib/node/utils.js","../../data/charmap.json":"node_modules/transliteration/data/charmap.json"},"node_modules/transliteration/lib/node/slugify.js":{"./transliterate":"node_modules/transliteration/lib/node/transliterate.js","./utils":"node_modules/transliteration/lib/node/utils.js"},"backend/modules/users/presenceChecker.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/controller/index.js":{"lodash":"node_modules/lodash/lodash.min.js","./routes":"backend/modules/controller/routes.js"},"backend/modules/controller/routes.js":{"lodash":"node_modules/lodash/lodash.min.js","moment":"node_modules/moment/moment.js","mongodb":"node_modules/mongodb/index.js","h5.step":"node_modules/h5.step/lib/index.js","h5.rql/lib/serializers/mongoSerializer":"node_modules/h5.rql/lib/serializers/mongoSerializer.js"},"backend/modules/alarms/frontend.js":{"./routes":"backend/modules/alarms/routes.js"},"backend/modules/alarms/routes.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","./parseCondition":"backend/modules/alarms/parseCondition.js"},"backend/modules/alarms/parseCondition.js":{"h5.step":"node_modules/h5.step/lib/index.js","esprima":"node_modules/esprima/esprima.js","estraverse":"node_modules/estraverse/estraverse.js","escodegen":"node_modules/escodegen/escodegen.js"},"node_modules/estraverse/estraverse.js":{"./package.json":"node_modules/estraverse/package.json"},"node_modules/escodegen/escodegen.js":{"estraverse":"node_modules/estraverse/estraverse.js","esutils":"node_modules/esutils/lib/utils.js","./package.json":"node_modules/escodegen/package.json"},"node_modules/esutils/lib/utils.js":{"./ast":"node_modules/esutils/lib/ast.js","./code":"node_modules/esutils/lib/code.js","./keyword":"node_modules/esutils/lib/keyword.js"},"node_modules/esutils/lib/keyword.js":{"./code":"node_modules/esutils/lib/code.js"},"backend/modules/maxos/index.js":{"./routes":"backend/modules/maxos/routes.js","./commands":"backend/modules/maxos/commands.js","./safeGuards":"backend/modules/maxos/safeGuards.js","./program":"backend/modules/maxos/program.js","./client":"backend/modules/maxos/client.js"},"backend/modules/maxos/routes.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","request":"node_modules/request/index.js","../util/resolveProductName":"backend/modules/util/resolveProductName.js"},"node_modules/request/index.js":{"extend":"node_modules/extend/index.js","./lib/cookies":"node_modules/request/lib/cookies.js","./lib/helpers":"node_modules/request/lib/helpers.js","./request":"node_modules/request/request.js"},"node_modules/request/lib/cookies.js":{"tough-cookie":"node_modules/tough-cookie/lib/cookie.js"},"node_modules/tough-cookie/lib/cookie.js":{"./pubsuffix":"node_modules/tough-cookie/lib/pubsuffix.js","./store":"node_modules/tough-cookie/lib/store.js","./memstore":"node_modules/tough-cookie/lib/memstore.js","./pathMatch":"node_modules/tough-cookie/lib/pathMatch.js","../package.json":"node_modules/tough-cookie/package.json","./permuteDomain":"node_modules/tough-cookie/lib/permuteDomain.js"},"node_modules/tough-cookie/lib/pubsuffix.js":{},"node_modules/tough-cookie/lib/memstore.js":{"./store":"node_modules/tough-cookie/lib/store.js","./permuteDomain":"node_modules/tough-cookie/lib/permuteDomain.js","./pathMatch":"node_modules/tough-cookie/lib/pathMatch.js"},"node_modules/tough-cookie/lib/permuteDomain.js":{"./pubsuffix":"node_modules/tough-cookie/lib/pubsuffix.js"},"node_modules/request/lib/helpers.js":{"json-stringify-safe":"node_modules/json-stringify-safe/stringify.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/request/request.js":{"hawk":"node_modules/hawk/lib/index.js","aws-sign2":"node_modules/aws-sign2/index.js","aws4":"node_modules/aws4/aws4.js","http-signature":"node_modules/http-signature/lib/index.js","mime-types":"node_modules/mime-types/index.js","stringstream":"node_modules/stringstream/stringstream.js","caseless":"node_modules/caseless/index.js","forever-agent":"node_modules/forever-agent/index.js","form-data":"node_modules/form-data/lib/form_data.js","extend":"node_modules/extend/index.js","isstream":"node_modules/isstream/isstream.js","is-typedarray":"node_modules/is-typedarray/index.js","./lib/helpers":"node_modules/request/lib/helpers.js","./lib/cookies":"node_modules/request/lib/cookies.js","./lib/getProxyFromURI":"node_modules/request/lib/getProxyFromURI.js","./lib/querystring":"node_modules/request/lib/querystring.js","./lib/har":"node_modules/request/lib/har.js","./lib/auth":"node_modules/request/lib/auth.js","./lib/oauth":"node_modules/request/lib/oauth.js","./lib/multipart":"node_modules/request/lib/multipart.js","./lib/redirect":"node_modules/request/lib/redirect.js","./lib/tunnel":"node_modules/request/lib/tunnel.js","performance-now":"node_modules/performance-now/lib/performance-now.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/hawk/lib/index.js":{"boom":"node_modules/boom/lib/index.js","sntp":"node_modules/sntp/lib/index.js","./server":"node_modules/hawk/lib/server.js","./client":"node_modules/hawk/lib/client.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/boom/lib/index.js":{"hoek":"node_modules/hoek/lib/index.js"},"node_modules/hoek/lib/index.js":{"./escape":"node_modules/hoek/lib/escape.js"},"node_modules/sntp/lib/index.js":{"hoek":"node_modules/hoek/lib/index.js"},"node_modules/hawk/lib/server.js":{"boom":"node_modules/boom/lib/index.js","hoek":"node_modules/hoek/lib/index.js","cryptiles":"node_modules/cryptiles/lib/index.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/cryptiles/lib/index.js":{"boom":"node_modules/boom/lib/index.js"},"node_modules/hawk/lib/crypto.js":{"./utils":"node_modules/hawk/lib/utils.js"},"node_modules/hawk/lib/utils.js":{"sntp":"node_modules/sntp/lib/index.js","boom":"node_modules/boom/lib/index.js"},"node_modules/hawk/lib/client.js":{"hoek":"node_modules/hoek/lib/index.js","cryptiles":"node_modules/cryptiles/lib/index.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/aws-sign2/index.js":{},"node_modules/aws4/aws4.js":{"./lru":"node_modules/aws4/lru.js"},"node_modules/http-signature/lib/index.js":{"./parser":"node_modules/http-signature/lib/parser.js","./signer":"node_modules/http-signature/lib/signer.js","./verify":"node_modules/http-signature/lib/verify.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/http-signature/lib/parser.js":{"assert-plus":"node_modules/assert-plus/assert.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/assert-plus/assert.js":{},"node_modules/http-signature/lib/utils.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js"},"node_modules/sshpk/lib/index.js":{"./key":"node_modules/sshpk/lib/key.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./private-key":"node_modules/sshpk/lib/private-key.js","./certificate":"node_modules/sshpk/lib/certificate.js","./identity":"node_modules/sshpk/lib/identity.js","./errors":"node_modules/sshpk/lib/errors.js"},"node_modules/sshpk/lib/key.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./dhe":"node_modules/sshpk/lib/dhe.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./private-key":"node_modules/sshpk/lib/private-key.js","./ed-compat":"node_modules/sshpk/lib/ed-compat.js","./formats/auto":"node_modules/sshpk/lib/formats/auto.js","./formats/pem":"node_modules/sshpk/lib/formats/pem.js","./formats/pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./formats/pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./formats/rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","./formats/ssh":"node_modules/sshpk/lib/formats/ssh.js","./formats/ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/fingerprint.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./errors":"node_modules/sshpk/lib/errors.js","./key":"node_modules/sshpk/lib/key.js","./certificate":"node_modules/sshpk/lib/certificate.js","./utils":"node_modules/sshpk/lib/utils.js"},"node_modules/sshpk/lib/errors.js":{"assert-plus":"node_modules/assert-plus/assert.js"},"node_modules/sshpk/lib/certificate.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./key":"node_modules/sshpk/lib/key.js","./private-key":"node_modules/sshpk/lib/private-key.js","./identity":"node_modules/sshpk/lib/identity.js","./formats/openssh-cert":"node_modules/sshpk/lib/formats/openssh-cert.js","./formats/x509":"node_modules/sshpk/lib/formats/x509.js","./formats/x509-pem":"node_modules/sshpk/lib/formats/x509-pem.js"},"node_modules/sshpk/lib/signature.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","asn1":"node_modules/asn1/lib/index.js","./ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js"},"node_modules/sshpk/lib/utils.js":{"assert-plus":"node_modules/assert-plus/assert.js","./private-key":"node_modules/sshpk/lib/private-key.js"},"node_modules/sshpk/lib/private-key.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./dhe":"node_modules/sshpk/lib/dhe.js","./ed-compat":"node_modules/sshpk/lib/ed-compat.js","./key":"node_modules/sshpk/lib/key.js","./formats/auto":"node_modules/sshpk/lib/formats/auto.js","./formats/pem":"node_modules/sshpk/lib/formats/pem.js","./formats/pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./formats/pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./formats/rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","./formats/ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/dhe.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./utils":"node_modules/sshpk/lib/utils.js","./key":"node_modules/sshpk/lib/key.js","./private-key":"node_modules/sshpk/lib/private-key.js"},"node_modules/sshpk/lib/ed-compat.js":{"assert-plus":"node_modules/assert-plus/assert.js","./signature":"node_modules/sshpk/lib/signature.js"},"node_modules/sshpk/lib/formats/auto.js":{"assert-plus":"node_modules/assert-plus/assert.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./ssh":"node_modules/sshpk/lib/formats/ssh.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js"},"node_modules/sshpk/lib/formats/pem.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../errors":"node_modules/sshpk/lib/errors.js"},"node_modules/asn1/lib/index.js":{"./ber/index":"node_modules/asn1/lib/ber/index.js"},"node_modules/asn1/lib/ber/index.js":{"./errors":"node_modules/asn1/lib/ber/errors.js","./types":"node_modules/asn1/lib/ber/types.js","./reader":"node_modules/asn1/lib/ber/reader.js","./writer":"node_modules/asn1/lib/ber/writer.js"},"node_modules/asn1/lib/ber/reader.js":{"./types":"node_modules/asn1/lib/ber/types.js","./errors":"node_modules/asn1/lib/ber/errors.js"},"node_modules/asn1/lib/ber/writer.js":{"./types":"node_modules/asn1/lib/ber/types.js","./errors":"node_modules/asn1/lib/ber/errors.js"},"node_modules/sshpk/lib/formats/pkcs1.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js"},"node_modules/sshpk/lib/formats/pkcs8.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js"},"node_modules/sshpk/lib/formats/ssh-private.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js","../errors":"node_modules/sshpk/lib/errors.js"},"node_modules/sshpk/lib/formats/rfc4253.js":{"assert-plus":"node_modules/assert-plus/assert.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js"},"node_modules/sshpk/lib/ssh-buffer.js":{"assert-plus":"node_modules/assert-plus/assert.js"},"node_modules/sshpk/lib/formats/ssh.js":{"assert-plus":"node_modules/assert-plus/assert.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/identity.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","asn1":"node_modules/asn1/lib/index.js"},"node_modules/sshpk/lib/formats/openssh-cert.js":{"assert-plus":"node_modules/assert-plus/assert.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js","../algs":"node_modules/sshpk/lib/algs.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","../identity":"node_modules/sshpk/lib/identity.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../signature":"node_modules/sshpk/lib/signature.js","../utils":"node_modules/sshpk/lib/utils.js","../certificate":"node_modules/sshpk/lib/certificate.js"},"node_modules/sshpk/lib/formats/x509.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","../identity":"node_modules/sshpk/lib/identity.js","../signature":"node_modules/sshpk/lib/signature.js","../certificate":"node_modules/sshpk/lib/certificate.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js"},"node_modules/sshpk/lib/formats/x509-pem.js":{"./x509":"node_modules/sshpk/lib/formats/x509.js","assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","../identity":"node_modules/sshpk/lib/identity.js","../signature":"node_modules/sshpk/lib/signature.js","../certificate":"node_modules/sshpk/lib/certificate.js"},"node_modules/http-signature/lib/signer.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js","jsprim":"node_modules/jsprim/lib/jsprim.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/jsprim/lib/jsprim.js":{"assert-plus":"node_modules/assert-plus/assert.js","extsprintf":"node_modules/extsprintf/lib/extsprintf.js","verror":"node_modules/verror/lib/verror.js","json-schema":"node_modules/json-schema/lib/validate.js"},"node_modules/extsprintf/lib/extsprintf.js":{},"node_modules/verror/lib/verror.js":{"assert-plus":"node_modules/assert-plus/assert.js","extsprintf":"node_modules/extsprintf/lib/extsprintf.js","core-util-is":"node_modules/core-util-is/lib/util.js"},"node_modules/http-signature/lib/verify.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/stringstream/stringstream.js":{},"node_modules/forever-agent/index.js":{},"node_modules/form-data/lib/form_data.js":{"combined-stream":"node_modules/combined-stream/lib/combined_stream.js","mime-types":"node_modules/mime-types/index.js","asynckit":"node_modules/asynckit/index.js","./populate.js":"node_modules/form-data/lib/populate.js"},"node_modules/combined-stream/lib/combined_stream.js":{"delayed-stream":"node_modules/delayed-stream/lib/delayed_stream.js"},"node_modules/delayed-stream/lib/delayed_stream.js":{},"node_modules/asynckit/index.js":{"./parallel.js":"node_modules/asynckit/parallel.js","./serial.js":"node_modules/asynckit/serial.js","./serialOrdered.js":"node_modules/asynckit/serialOrdered.js"},"node_modules/asynckit/parallel.js":{"./lib/iterate.js":"node_modules/asynckit/lib/iterate.js","./lib/state.js":"node_modules/asynckit/lib/state.js","./lib/terminator.js":"node_modules/asynckit/lib/terminator.js"},"node_modules/asynckit/lib/iterate.js":{"./async.js":"node_modules/asynckit/lib/async.js","./abort.js":"node_modules/asynckit/lib/abort.js"},"node_modules/asynckit/lib/async.js":{"./defer.js":"node_modules/asynckit/lib/defer.js"},"node_modules/asynckit/lib/terminator.js":{"./abort.js":"node_modules/asynckit/lib/abort.js","./async.js":"node_modules/asynckit/lib/async.js"},"node_modules/asynckit/serial.js":{"./serialOrdered.js":"node_modules/asynckit/serialOrdered.js"},"node_modules/asynckit/serialOrdered.js":{"./lib/iterate.js":"node_modules/asynckit/lib/iterate.js","./lib/state.js":"node_modules/asynckit/lib/state.js","./lib/terminator.js":"node_modules/asynckit/lib/terminator.js"},"node_modules/isstream/isstream.js":{},"node_modules/request/lib/querystring.js":{"qs":"node_modules/qs/lib/index.js"},"node_modules/request/lib/har.js":{"har-validator":"node_modules/har-validator/lib/promise.js","extend":"node_modules/extend/index.js"},"node_modules/har-validator/lib/promise.js":{"ajv":"node_modules/ajv/lib/ajv.js","./error":"node_modules/har-validator/lib/error.js","har-schema":"node_modules/har-schema/lib/index.js"},"node_modules/ajv/lib/ajv.js":{"./compile":"node_modules/ajv/lib/compile/index.js","./compile/resolve":"node_modules/ajv/lib/compile/resolve.js","./cache":"node_modules/ajv/lib/cache.js","./compile/schema_obj":"node_modules/ajv/lib/compile/schema_obj.js","fast-json-stable-stringify":"node_modules/fast-json-stable-stringify/index.js","./compile/formats":"node_modules/ajv/lib/compile/formats.js","./compile/rules":"node_modules/ajv/lib/compile/rules.js","./$data":"node_modules/ajv/lib/$data.js","./patternGroups":"node_modules/ajv/lib/patternGroups.js","./compile/util":"node_modules/ajv/lib/compile/util.js","co":"node_modules/co/index.js","./compile/async":"node_modules/ajv/lib/compile/async.js","./keyword":"node_modules/ajv/lib/keyword.js","./compile/error_classes":"node_modules/ajv/lib/compile/error_classes.js"},"node_modules/ajv/lib/compile/index.js":{"./resolve":"node_modules/ajv/lib/compile/resolve.js","./util":"node_modules/ajv/lib/compile/util.js","./error_classes":"node_modules/ajv/lib/compile/error_classes.js","fast-json-stable-stringify":"node_modules/fast-json-stable-stringify/index.js","../dotjs/validate":"node_modules/ajv/lib/dotjs/validate.js","co":"node_modules/co/index.js","fast-deep-equal":"node_modules/fast-deep-equal/index.js"},"node_modules/ajv/lib/compile/resolve.js":{"fast-deep-equal":"node_modules/fast-deep-equal/index.js","./util":"node_modules/ajv/lib/compile/util.js","./schema_obj":"node_modules/ajv/lib/compile/schema_obj.js","json-schema-traverse":"node_modules/json-schema-traverse/index.js"},"node_modules/ajv/lib/compile/util.js":{"fast-deep-equal":"node_modules/fast-deep-equal/index.js","./ucs2length":"node_modules/ajv/lib/compile/ucs2length.js"},"node_modules/ajv/lib/compile/schema_obj.js":{"./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/error_classes.js":{"./resolve":"node_modules/ajv/lib/compile/resolve.js"},"node_modules/ajv/lib/compile/formats.js":{"./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/rules.js":{"./_rules":"node_modules/ajv/lib/compile/_rules.js","./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/_rules.js":{"../dotjs/ref":"node_modules/ajv/lib/dotjs/ref.js","../dotjs/allOf":"node_modules/ajv/lib/dotjs/allOf.js","../dotjs/anyOf":"node_modules/ajv/lib/dotjs/anyOf.js","../dotjs/const":"node_modules/ajv/lib/dotjs/const.js","../dotjs/contains":"node_modules/ajv/lib/dotjs/contains.js","../dotjs/dependencies":"node_modules/ajv/lib/dotjs/dependencies.js","../dotjs/enum":"node_modules/ajv/lib/dotjs/enum.js","../dotjs/format":"node_modules/ajv/lib/dotjs/format.js","../dotjs/items":"node_modules/ajv/lib/dotjs/items.js","../dotjs/_limit":"node_modules/ajv/lib/dotjs/_limit.js","../dotjs/_limitItems":"node_modules/ajv/lib/dotjs/_limitItems.js","../dotjs/_limitLength":"node_modules/ajv/lib/dotjs/_limitLength.js","../dotjs/_limitProperties":"node_modules/ajv/lib/dotjs/_limitProperties.js","../dotjs/multipleOf":"node_modules/ajv/lib/dotjs/multipleOf.js","../dotjs/not":"node_modules/ajv/lib/dotjs/not.js","../dotjs/oneOf":"node_modules/ajv/lib/dotjs/oneOf.js","../dotjs/pattern":"node_modules/ajv/lib/dotjs/pattern.js","../dotjs/properties":"node_modules/ajv/lib/dotjs/properties.js","../dotjs/propertyNames":"node_modules/ajv/lib/dotjs/propertyNames.js","../dotjs/required":"node_modules/ajv/lib/dotjs/required.js","../dotjs/uniqueItems":"node_modules/ajv/lib/dotjs/uniqueItems.js","../dotjs/validate":"node_modules/ajv/lib/dotjs/validate.js"},"node_modules/ajv/lib/compile/async.js":{"./error_classes":"node_modules/ajv/lib/compile/error_classes.js"},"node_modules/ajv/lib/keyword.js":{"./dotjs/custom":"node_modules/ajv/lib/dotjs/custom.js"},"node_modules/har-schema/lib/index.js":{"./afterRequest.json":"node_modules/har-schema/lib/afterRequest.json","./beforeRequest.json":"node_modules/har-schema/lib/beforeRequest.json","./browser.json":"node_modules/har-schema/lib/browser.json","./cache.json":"node_modules/har-schema/lib/cache.json","./content.json":"node_modules/har-schema/lib/content.json","./cookie.json":"node_modules/har-schema/lib/cookie.json","./creator.json":"node_modules/har-schema/lib/creator.json","./entry.json":"node_modules/har-schema/lib/entry.json","./har.json":"node_modules/har-schema/lib/har.json","./header.json":"node_modules/har-schema/lib/header.json","./log.json":"node_modules/har-schema/lib/log.json","./page.json":"node_modules/har-schema/lib/page.json","./pageTimings.json":"node_modules/har-schema/lib/pageTimings.json","./postData.json":"node_modules/har-schema/lib/postData.json","./query.json":"node_modules/har-schema/lib/query.json","./request.json":"node_modules/har-schema/lib/request.json","./response.json":"node_modules/har-schema/lib/response.json","./timings.json":"node_modules/har-schema/lib/timings.json"},"node_modules/request/lib/auth.js":{"caseless":"node_modules/caseless/index.js","uuid":"node_modules/uuid/index.js","./helpers":"node_modules/request/lib/helpers.js"},"node_modules/uuid/index.js":{"./v1":"node_modules/uuid/v1.js","./v4":"node_modules/uuid/v4.js"},"node_modules/uuid/v1.js":{"./lib/rng":"node_modules/uuid/lib/rng.js","./lib/bytesToUuid":"node_modules/uuid/lib/bytesToUuid.js"},"node_modules/uuid/lib/rng.js":{},"node_modules/uuid/v4.js":{"./lib/rng":"node_modules/uuid/lib/rng.js","./lib/bytesToUuid":"node_modules/uuid/lib/bytesToUuid.js"},"node_modules/request/lib/oauth.js":{"qs":"node_modules/qs/lib/index.js","caseless":"node_modules/caseless/index.js","uuid":"node_modules/uuid/index.js","oauth-sign":"node_modules/oauth-sign/index.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/oauth-sign/index.js":{},"node_modules/request/lib/multipart.js":{"uuid":"node_modules/uuid/index.js","combined-stream":"node_modules/combined-stream/lib/combined_stream.js","isstream":"node_modules/isstream/isstream.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/request/lib/redirect.js":{},"node_modules/request/lib/tunnel.js":{"tunnel-agent":"node_modules/tunnel-agent/index.js"},"node_modules/tunnel-agent/index.js":{"safe-buffer":"node_modules/safe-buffer/index.js"},"backend/modules/util/resolveProductName.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/maxos/safeGuards.js":{"h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/maxos/program.js":{"lodash":"node_modules/lodash/lodash.min.js","deep-equal":"node_modules/deep-equal/index.js","h5.step":"node_modules/h5.step/lib/index.js","./states":"backend/modules/maxos/states/index.js","./Glp2Manager":"backend/modules/maxos/Glp2Manager.js","./labels":"backend/modules/maxos/labels.js"},"node_modules/deep-equal/index.js":{"./lib/keys.js":"node_modules/deep-equal/lib/keys.js","./lib/is_arguments.js":"node_modules/deep-equal/lib/is_arguments.js"},"backend/modules/maxos/states/index.js":{"./idle":"backend/modules/maxos/states/idle.js","./failure":"backend/modules/maxos/states/failure.js","./success":"backend/modules/maxos/states/success.js","./start":"backend/modules/maxos/states/start.js","./safetyTest":"backend/modules/maxos/states/safetyTest.js","./throughWireTest":"backend/modules/maxos/states/throughWireTest.js","./serialNumber":"backend/modules/maxos/states/serialNumber.js","./labels":"backend/modules/maxos/states/labels.js"},"backend/modules/maxos/states/idle.js":{"h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js","../safetyTest":"backend/modules/maxos/safetyTest.js"},"node_modules/glp2/lib/index.js":{"./constants":"node_modules/glp2/lib/constants.js","./util":"node_modules/glp2/lib/util.js","./BusyTesterError":"node_modules/glp2/lib/BusyTesterError.js","./InvalidChecksumError":"node_modules/glp2/lib/InvalidChecksumError.js","./InvalidParametersError":"node_modules/glp2/lib/InvalidParametersError.js","./InvalidResponseError":"node_modules/glp2/lib/InvalidResponseError.js","./NoConnectionError":"node_modules/glp2/lib/NoConnectionError.js","./ResponseTimeoutError":"node_modules/glp2/lib/ResponseTimeoutError.js","./Master":"node_modules/glp2/lib/Master.js","./ActualValuesResponse":"node_modules/glp2/lib/ActualValuesResponse.js","./DeviceOptionsResponse":"node_modules/glp2/lib/DeviceOptionsResponse.js","./InterimActualValuesResponse":"node_modules/glp2/lib/InterimActualValuesResponse.js","./OrderDataDemandResponse":"node_modules/glp2/lib/OrderDataDemandResponse.js","./ProgramStep":"node_modules/glp2/lib/ProgramStep.js","./PeTest":"node_modules/glp2/lib/PeTest.js","./IsoTest":"node_modules/glp2/lib/IsoTest.js","./FctTest":"node_modules/glp2/lib/FctTest.js","./VisTest":"node_modules/glp2/lib/VisTest.js","./TestResult":"node_modules/glp2/lib/TestResult.js","./DefaultTestResult":"node_modules/glp2/lib/DefaultTestResult.js","./HvTestResult":"node_modules/glp2/lib/HvTestResult.js","./VisTestResult":"node_modules/glp2/lib/VisTestResult.js"},"node_modules/glp2/lib/constants.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/util.js":{"transliteration":"node_modules/transliteration/lib/node/index.js","./constants":"node_modules/glp2/lib/constants.js"},"node_modules/glp2/lib/BusyTesterError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/InvalidChecksumError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/InvalidParametersError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/InvalidResponseError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/NoConnectionError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/ResponseTimeoutError.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/Master.js":{"serialport":"node_modules/serialport/lib/serialport.js","h5.buffers":"node_modules/h5.buffers/lib/index.js","./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./NoConnectionError":"node_modules/glp2/lib/NoConnectionError.js","./InvalidParametersError":"node_modules/glp2/lib/InvalidParametersError.js","./ResponseTimeoutError":"node_modules/glp2/lib/ResponseTimeoutError.js","./InvalidResponseError":"node_modules/glp2/lib/InvalidResponseError.js","./InvalidChecksumError":"node_modules/glp2/lib/InvalidChecksumError.js","./BusyTesterError":"node_modules/glp2/lib/BusyTesterError.js","./PeTest":"node_modules/glp2/lib/PeTest.js","./IsoTest":"node_modules/glp2/lib/IsoTest.js","./FctTest":"node_modules/glp2/lib/FctTest.js","./VisTest":"node_modules/glp2/lib/VisTest.js","./ActualValuesResponse":"node_modules/glp2/lib/ActualValuesResponse.js","./OrderDataDemandResponse":"node_modules/glp2/lib/OrderDataDemandResponse.js","./InterimActualValuesResponse":"node_modules/glp2/lib/InterimActualValuesResponse.js","./DeviceOptionsResponse":"node_modules/glp2/lib/DeviceOptionsResponse.js"},"node_modules/h5.buffers/lib/index.js":{"./BufferQueueReader":"node_modules/h5.buffers/lib/BufferQueueReader.js","./BufferReader":"node_modules/h5.buffers/lib/BufferReader.js","./BufferBuilder":"node_modules/h5.buffers/lib/BufferBuilder.js"},"node_modules/h5.buffers/lib/BufferQueueReader.js":{"./helpers":"node_modules/h5.buffers/lib/helpers.js"},"node_modules/h5.buffers/lib/BufferReader.js":{"./helpers":"node_modules/h5.buffers/lib/helpers.js"},"node_modules/glp2/lib/PeTest.js":{"./util":"node_modules/glp2/lib/util.js","./ProgramStep":"node_modules/glp2/lib/ProgramStep.js"},"node_modules/glp2/lib/ProgramStep.js":{"./util":"node_modules/glp2/lib/util.js"},"node_modules/glp2/lib/IsoTest.js":{"./util":"node_modules/glp2/lib/util.js","./ProgramStep":"node_modules/glp2/lib/ProgramStep.js"},"node_modules/glp2/lib/FctTest.js":{"./util":"node_modules/glp2/lib/util.js","./ProgramStep":"node_modules/glp2/lib/ProgramStep.js"},"node_modules/glp2/lib/VisTest.js":{"./util":"node_modules/glp2/lib/util.js","./ProgramStep":"node_modules/glp2/lib/ProgramStep.js"},"node_modules/glp2/lib/ActualValuesResponse.js":{"./util":"node_modules/glp2/lib/util.js","./InvalidResponseError":"node_modules/glp2/lib/InvalidResponseError.js","./Response":"node_modules/glp2/lib/Response.js","./DefaultTestResult":"node_modules/glp2/lib/DefaultTestResult.js","./VisTestResult":"node_modules/glp2/lib/VisTestResult.js","./HvTestResult":"node_modules/glp2/lib/HvTestResult.js"},"node_modules/glp2/lib/DefaultTestResult.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./TestResult":"node_modules/glp2/lib/TestResult.js"},"node_modules/glp2/lib/VisTestResult.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./TestResult":"node_modules/glp2/lib/TestResult.js"},"node_modules/glp2/lib/HvTestResult.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./TestResult":"node_modules/glp2/lib/TestResult.js"},"node_modules/glp2/lib/OrderDataDemandResponse.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./Response":"node_modules/glp2/lib/Response.js"},"node_modules/glp2/lib/InterimActualValuesResponse.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./InvalidResponseError":"node_modules/glp2/lib/InvalidResponseError.js","./Response":"node_modules/glp2/lib/Response.js"},"node_modules/glp2/lib/DeviceOptionsResponse.js":{"./util":"node_modules/glp2/lib/util.js","./constants":"node_modules/glp2/lib/constants.js","./Response":"node_modules/glp2/lib/Response.js"},"backend/modules/maxos/safetyTest.js":{"glp2":"node_modules/glp2/lib/index.js"},"backend/modules/maxos/states/failure.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js"},"backend/modules/maxos/states/success.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js"},"backend/modules/maxos/states/start.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/maxos/states/safetyTest.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js","../safetyTest":"backend/modules/maxos/safetyTest.js"},"backend/modules/maxos/states/throughWireTest.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js"},"backend/modules/maxos/states/serialNumber.js":{"h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/maxos/states/labels.js":{"h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/maxos/Glp2Manager.js":{"h5.step":"node_modules/h5.step/lib/index.js","glp2":"node_modules/glp2/lib/index.js"},"backend/modules/maxos/labels.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","backend/modules/maxos/labels/inside.logos.json":"backend/modules/maxos/labels/inside.logos.json","backend/modules/maxos/labels/outside.logos.json":"backend/modules/maxos/labels/outside.logos.json"},"backend/modules/maxos/client.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/modules/mail/sender.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js"},"backend/modules/messenger/server.js":{"lodash":"node_modules/lodash/lodash.min.js","axon":"node_modules/axon/index.js"},"node_modules/axon/index.js":{"./lib":"node_modules/axon/lib/index.js"},"node_modules/axon/lib/index.js":{"./sockets/pub-emitter":"node_modules/axon/lib/sockets/pub-emitter.js","./sockets/sub-emitter":"node_modules/axon/lib/sockets/sub-emitter.js","./sockets/push":"node_modules/axon/lib/sockets/push.js","./sockets/pull":"node_modules/axon/lib/sockets/pull.js","./sockets/pub":"node_modules/axon/lib/sockets/pub.js","./sockets/sub":"node_modules/axon/lib/sockets/sub.js","./sockets/req":"node_modules/axon/lib/sockets/req.js","./sockets/rep":"node_modules/axon/lib/sockets/rep.js","./sockets/sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/pub-emitter.js":{"./pub":"node_modules/axon/lib/sockets/pub.js"},"node_modules/axon/lib/sockets/pub.js":{"./sock":"node_modules/axon/lib/sockets/sock.js","../utils":"node_modules/axon/lib/utils.js"},"node_modules/axon/lib/sockets/sock.js":{"configurable":"node_modules/configurable/index.js","debug":"node_modules/debug/src/index.js","amp-message":"node_modules/amp-message/index.js","amp":"node_modules/amp/index.js"},"node_modules/configurable/index.js":{"./lib/configurable":"node_modules/configurable/lib/configurable.js"},"node_modules/amp-message/index.js":{"amp":"node_modules/amp/index.js"},"node_modules/amp/index.js":{"./lib/stream":"node_modules/amp/lib/stream.js","./lib/encode":"node_modules/amp/lib/encode.js","./lib/decode":"node_modules/amp/lib/decode.js"},"node_modules/amp/lib/stream.js":{"./encode":"node_modules/amp/lib/encode.js"},"node_modules/axon/lib/sockets/sub-emitter.js":{"amp-message":"node_modules/amp-message/index.js","./sub":"node_modules/axon/lib/sockets/sub.js"},"node_modules/axon/lib/sockets/sub.js":{"debug":"node_modules/debug/src/index.js","escape-regexp":"node_modules/escape-regexp/index.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/push.js":{"../plugins/round-robin":"node_modules/axon/lib/plugins/round-robin.js","../plugins/queue":"node_modules/axon/lib/plugins/queue.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/plugins/round-robin.js":{"../utils":"node_modules/axon/lib/utils.js"},"node_modules/axon/lib/plugins/queue.js":{"debug":"node_modules/debug/src/index.js"},"node_modules/axon/lib/sockets/pull.js":{"./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/req.js":{"debug":"node_modules/debug/src/index.js","../plugins/queue":"node_modules/axon/lib/plugins/queue.js","../utils":"node_modules/axon/lib/utils.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/rep.js":{"../utils":"node_modules/axon/lib/utils.js","debug":"node_modules/debug/src/index.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"backend/modules/messenger/client.js":{"lodash":"node_modules/lodash/lodash.min.js","axon":"node_modules/axon/index.js"},"backend/modules/httpServer.js":{},"backend/modules/sio/index.js":{"lodash":"node_modules/lodash/lodash.min.js","engine.io":"node_modules/engine.io/lib/engine.io.js","socket.io":"node_modules/socket.io/lib/index.js","./SocketIoMultiServer":"backend/modules/sio/SocketIoMultiServer.js","./routes":"backend/modules/sio/routes.js"},"node_modules/engine.io/lib/engine.io.js":{"./server":"node_modules/engine.io/lib/server.js","./socket":"node_modules/engine.io/lib/socket.js","./transport":"node_modules/engine.io/lib/transport.js","./transports":"node_modules/engine.io/lib/transports/index.js","engine.io-parser":"node_modules/engine.io-parser/index.js"},"node_modules/engine.io/lib/server.js":{"base64id":"node_modules/base64id/lib/base64id.js","./transports":"node_modules/engine.io/lib/transports/index.js","./socket":"node_modules/engine.io/lib/socket.js","debug":"node_modules/debug/src/index.js","cookie":"node_modules/cookie/index.js","ws":"node_modules/ws/index.js"},"node_modules/base64id/lib/base64id.js":{},"node_modules/engine.io/lib/transports/index.js":{"./polling-xhr":"node_modules/engine.io/lib/transports/polling-xhr.js","./polling-jsonp":"node_modules/engine.io/lib/transports/polling-jsonp.js","./websocket":"node_modules/engine.io/lib/transports/websocket.js"},"node_modules/engine.io/lib/transports/polling-xhr.js":{"./polling":"node_modules/engine.io/lib/transports/polling.js"},"node_modules/engine.io/lib/transports/polling.js":{"../transport":"node_modules/engine.io/lib/transport.js","engine.io-parser":"node_modules/engine.io-parser/index.js","accepts":"node_modules/accepts/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/engine.io/lib/transport.js":{"engine.io-parser":"node_modules/engine.io-parser/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/engine.io-parser/index.js":{"./lib/":"node_modules/engine.io-parser/lib/index.js"},"node_modules/engine.io-parser/lib/index.js":{"wtf-8":"node_modules/wtf-8/wtf-8.js","after":"node_modules/after/index.js","./keys":"node_modules/engine.io-parser/lib/keys.js"},"node_modules/engine.io/lib/transports/polling-jsonp.js":{"./polling":"node_modules/engine.io/lib/transports/polling.js"},"node_modules/engine.io/lib/transports/websocket.js":{"../transport":"node_modules/engine.io/lib/transport.js","engine.io-parser":"node_modules/engine.io-parser/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/engine.io/lib/socket.js":{"debug":"node_modules/debug/src/index.js"},"node_modules/socket.io/lib/index.js":{"engine.io":"node_modules/engine.io/lib/engine.io.js","socket.io-client":"node_modules/socket.io-client/lib/index.js","socket.io-client/package":"node_modules/socket.io-client/package.json","./client":"node_modules/socket.io/lib/client.js","./namespace":"node_modules/socket.io/lib/namespace.js","socket.io-adapter":"node_modules/socket.io-adapter/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/socket.io-client/lib/index.js":{"./url":"node_modules/socket.io-client/lib/url.js","socket.io-parser":"node_modules/socket.io-parser/index.js","./manager":"node_modules/socket.io-client/lib/manager.js","debug":"node_modules/debug/src/index.js","./socket":"node_modules/socket.io-client/lib/socket.js"},"node_modules/socket.io-client/lib/url.js":{"parseuri":"node_modules/parseuri/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/socket.io-parser/index.js":{"debug":"node_modules/debug/src/index.js","json3":"node_modules/json3/lib/json3.js","component-emitter":"node_modules/component-emitter/index.js","./binary":"node_modules/socket.io-parser/binary.js","./is-buffer":"node_modules/socket.io-parser/is-buffer.js"},"node_modules/socket.io-parser/binary.js":{"isarray":"node_modules/isarray/index.js","./is-buffer":"node_modules/socket.io-parser/is-buffer.js"},"node_modules/socket.io-client/lib/manager.js":{"engine.io-client":"node_modules/engine.io-client/index.js","./socket":"node_modules/socket.io-client/lib/socket.js","component-emitter":"node_modules/component-emitter/index.js","socket.io-parser":"node_modules/socket.io-parser/index.js","./on":"node_modules/socket.io-client/lib/on.js","component-bind":"node_modules/component-bind/index.js","debug":"node_modules/debug/src/index.js","indexof":"node_modules/indexof/index.js","backo2":"node_modules/backo2/index.js"},"node_modules/engine.io-client/index.js":{"./lib/index":"node_modules/engine.io-client/lib/index.js"},"node_modules/engine.io-client/lib/index.js":{"./socket":"node_modules/engine.io-client/lib/socket.js","engine.io-parser":"node_modules/engine.io-parser/index.js"},"node_modules/engine.io-client/lib/socket.js":{"./transports/index":"node_modules/engine.io-client/lib/transports/index.js","component-emitter":"node_modules/component-emitter/index.js","debug":"node_modules/debug/src/index.js","indexof":"node_modules/indexof/index.js","engine.io-parser":"node_modules/engine.io-parser/index.js","parseuri":"node_modules/parseuri/index.js","parsejson":"node_modules/parsejson/index.js","parseqs":"node_modules/parseqs/index.js","./transport":"node_modules/engine.io-client/lib/transport.js"},"node_modules/engine.io-client/lib/transports/index.js":{"xmlhttprequest-ssl":"node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","./polling-xhr":"node_modules/engine.io-client/lib/transports/polling-xhr.js","./polling-jsonp":"node_modules/engine.io-client/lib/transports/polling-jsonp.js","./websocket":"node_modules/engine.io-client/lib/transports/websocket.js"},"node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js":{},"node_modules/engine.io-client/lib/transports/polling-xhr.js":{"xmlhttprequest-ssl":"node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","./polling":"node_modules/engine.io-client/lib/transports/polling.js","component-emitter":"node_modules/component-emitter/index.js","component-inherit":"node_modules/component-inherit/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/engine.io-client/lib/transports/polling.js":{"../transport":"node_modules/engine.io-client/lib/transport.js","parseqs":"node_modules/parseqs/index.js","engine.io-parser":"node_modules/engine.io-parser/index.js","component-inherit":"node_modules/component-inherit/index.js","yeast":"node_modules/yeast/index.js","debug":"node_modules/debug/src/index.js","xmlhttprequest-ssl":"node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js"},"node_modules/engine.io-client/lib/transport.js":{"engine.io-parser":"node_modules/engine.io-parser/index.js","component-emitter":"node_modules/component-emitter/index.js"},"node_modules/engine.io-client/lib/transports/polling-jsonp.js":{"./polling":"node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"node_modules/component-inherit/index.js"},"node_modules/engine.io-client/lib/transports/websocket.js":{"../transport":"node_modules/engine.io-client/lib/transport.js","engine.io-parser":"node_modules/engine.io-parser/index.js","parseqs":"node_modules/parseqs/index.js","component-inherit":"node_modules/component-inherit/index.js","yeast":"node_modules/yeast/index.js","debug":"node_modules/debug/src/index.js","ws":"node_modules/ws/index.js"},"node_modules/ws/index.js":{"./lib/WebSocket":"node_modules/ws/lib/WebSocket.js","./lib/WebSocketServer":"node_modules/ws/lib/WebSocketServer.js","./lib/Sender":"node_modules/ws/lib/Sender.js","./lib/Receiver":"node_modules/ws/lib/Receiver.js"},"node_modules/ws/lib/WebSocket.js":{"ultron":"node_modules/ultron/index.js","options":"node_modules/options/lib/options.js","./Sender":"node_modules/ws/lib/Sender.js","./Receiver":"node_modules/ws/lib/Receiver.js","./Sender.hixie":"node_modules/ws/lib/Sender.hixie.js","./Receiver.hixie":"node_modules/ws/lib/Receiver.hixie.js","./Extensions":"node_modules/ws/lib/Extensions.js","./PerMessageDeflate":"node_modules/ws/lib/PerMessageDeflate.js"},"node_modules/options/lib/options.js":{},"node_modules/ws/lib/Sender.js":{"./ErrorCodes":"node_modules/ws/lib/ErrorCodes.js","./BufferUtil":"node_modules/ws/lib/BufferUtil.js","./PerMessageDeflate":"node_modules/ws/lib/PerMessageDeflate.js"},"node_modules/ws/lib/BufferUtil.js":{"./BufferUtil.fallback":"node_modules/ws/lib/BufferUtil.fallback.js"},"node_modules/ws/lib/PerMessageDeflate.js":{},"node_modules/ws/lib/Receiver.js":{"./Validation":"node_modules/ws/lib/Validation.js","./ErrorCodes":"node_modules/ws/lib/ErrorCodes.js","./BufferPool":"node_modules/ws/lib/BufferPool.js","./BufferUtil":"node_modules/ws/lib/BufferUtil.js","./PerMessageDeflate":"node_modules/ws/lib/PerMessageDeflate.js"},"node_modules/ws/lib/Validation.js":{"./Validation.fallback":"node_modules/ws/lib/Validation.fallback.js"},"node_modules/ws/lib/BufferPool.js":{},"node_modules/ws/lib/Sender.hixie.js":{},"node_modules/ws/lib/Receiver.hixie.js":{},"node_modules/ws/lib/Extensions.js":{},"node_modules/ws/lib/WebSocketServer.js":{"options":"node_modules/options/lib/options.js","./WebSocket":"node_modules/ws/lib/WebSocket.js","./Extensions":"node_modules/ws/lib/Extensions.js","./PerMessageDeflate":"node_modules/ws/lib/PerMessageDeflate.js"},"node_modules/socket.io-client/lib/socket.js":{"socket.io-parser":"node_modules/socket.io-parser/index.js","component-emitter":"node_modules/component-emitter/index.js","to-array":"node_modules/to-array/index.js","./on":"node_modules/socket.io-client/lib/on.js","component-bind":"node_modules/component-bind/index.js","debug":"node_modules/debug/src/index.js","has-binary":"node_modules/has-binary/index.js"},"node_modules/has-binary/index.js":{"isarray":"node_modules/isarray/index.js"},"node_modules/socket.io/lib/client.js":{"socket.io-parser":"node_modules/socket.io-parser/index.js","debug":"node_modules/debug/src/index.js"},"node_modules/socket.io/lib/namespace.js":{"./socket":"node_modules/socket.io/lib/socket.js","socket.io-parser":"node_modules/socket.io-parser/index.js","debug":"node_modules/debug/src/index.js","has-binary":"node_modules/has-binary/index.js"},"node_modules/socket.io/lib/socket.js":{"socket.io-parser":"node_modules/socket.io-parser/index.js","debug":"node_modules/debug/src/index.js","has-binary":"node_modules/has-binary/index.js","object-assign":"node_modules/object-assign/index.js"},"node_modules/socket.io-adapter/index.js":{"socket.io-parser":"node_modules/socket.io-parser/index.js"},"backend/modules/sio/SocketIoMultiServer.js":{},"backend/modules/sio/routes.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/models/alarm.js":{"lodash":"node_modules/lodash/lodash.min.js"},"backend/models/maxosTest.js":{"lodash":"node_modules/lodash/lodash.min.js"},"node_modules/body-parser/lib/types/json.js":{"bytes":"node_modules/bytes/index.js","content-type":"node_modules/content-type/index.js","http-errors":"node_modules/http-errors/index.js","debug":"node_modules/debug/src/index.js","../read":"node_modules/body-parser/lib/read.js","type-is":"node_modules/type-is/index.js"},"node_modules/body-parser/lib/read.js":{"http-errors":"node_modules/http-errors/index.js","raw-body":"node_modules/raw-body/index.js","iconv-lite":"node_modules/iconv-lite/lib/index.js","on-finished":"node_modules/on-finished/index.js"},"node_modules/raw-body/index.js":{"bytes":"node_modules/bytes/index.js","iconv-lite":"node_modules/iconv-lite/lib/index.js","unpipe":"node_modules/unpipe/index.js"},"node_modules/body-parser/lib/types/urlencoded.js":{"bytes":"node_modules/bytes/index.js","content-type":"node_modules/content-type/index.js","http-errors":"node_modules/http-errors/index.js","debug":"node_modules/debug/src/index.js","depd":"node_modules/depd/index.js","../read":"node_modules/body-parser/lib/read.js","type-is":"node_modules/type-is/index.js"},"node_modules/body-parser/lib/types/text.js":{"bytes":"node_modules/bytes/index.js","content-type":"node_modules/content-type/index.js","debug":"node_modules/debug/src/index.js","../read":"node_modules/body-parser/lib/read.js","type-is":"node_modules/type-is/index.js"},"backend/routes/core.js":{"lodash":"node_modules/lodash/lodash.min.js","config/require.js":"config/require.js"}},"sources":{"node_modules/lodash/lodash.min.js":"(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function o(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function f(n,t){return!(null==n||!n.length)&&-1<g(n,t,0)}function c(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function a(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function l(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function s(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function h(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function p(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function _(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function v(n,t,r,e){var u=n.length;for(r+=e?1:-1;e?r--:++r<u;)if(t(n[r],r,n))return r;return-1}function g(n,t,r){if(t==t)n:{--r;for(var e=n.length;++r<e;)if(n[r]===t){n=r;break n}n=-1}else n=v(n,y,r);return n}function d(n,t,r,e){--r;for(var u=n.length;++r<u;)if(e(n[r],t))return r;return-1}function y(n){return n!=n}function b(n,t){var r=null==n?0:n.length;return r?m(n,t)/r:T}function x(n){return function(t){return null==t?D:t[n]}}function j(n){return function(t){return null==n?D:n[t]}}function w(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function m(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==D&&(r=r===D?i:r+i)}return r}function A(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function k(n){return function(t){return n(t)}}function E(n,t){return a(t,function(t){return n[t]})}function O(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&-1<g(t,n[r],0););return r}function I(n,t){for(var r=n.length;r--&&-1<g(t,n[r],0););return r}function R(n){return\"\\\\\"+Ln[n]}function z(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function W(n,t){return function(r){return n(t(r))}}function B(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&\"__lodash_placeholder__\"!==o||(n[r]=\"__lodash_placeholder__\",i[u++]=r)}return i}function L(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function U(n){if(Sn.test(n)){for(var t=En.lastIndex=0;En.test(n);)++t;n=t}else n=Jn(n);return n}function C(n){return Sn.test(n)?n.match(En)||[]:n.split(\"\")}var D,M=1/0,T=NaN,$=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]],F=/\\b__p\\+='';/g,N=/\\b(__p\\+=)''\\+/g,P=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>\"']/g,V=RegExp(Z.source),K=RegExp(q.source),G=/<%-([\\s\\S]+?)%>/g,H=/<%([\\s\\S]+?)%>/g,J=/<%=([\\s\\S]+?)%>/g,Y=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Q=/^\\w*$/,X=/^\\./,nn=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,tn=/[\\\\^$.*+?()[\\]{}|]/g,rn=RegExp(tn.source),en=/^\\s+|\\s+$/g,un=/^\\s+/,on=/\\s+$/,fn=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,cn=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,an=/,? & /,ln=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,sn=/\\\\(\\\\)?/g,hn=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,pn=/\\w*$/,_n=/^[-+]0x[0-9a-f]+$/i,vn=/^0b[01]+$/i,gn=/^\\[object .+?Constructor\\]$/,dn=/^0o[0-7]+$/i,yn=/^(?:0|[1-9]\\d*)$/,bn=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,xn=/($^)/,jn=/['\\n\\r\\u2028\\u2029\\\\]/g,wn=\"[\\\\ufe0e\\\\ufe0f]?(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?(?:\\\\u200d(?:[^\\\\ud800-\\\\udfff]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff])[\\\\ufe0e\\\\ufe0f]?(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?)*\",mn=\"(?:[\\\\u2700-\\\\u27bf]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff])\"+wn,An=RegExp(\"['’]\",\"g\"),kn=RegExp(\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",\"g\"),En=RegExp(\"\\\\ud83c[\\\\udffb-\\\\udfff](?=\\\\ud83c[\\\\udffb-\\\\udfff])|(?:[^\\\\ud800-\\\\udfff][\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]?|[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\ud800-\\\\udfff])\"+wn,\"g\"),On=RegExp([\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]?[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000]|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|$)|(?:[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000]|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde](?:[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])|$)|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]?(?:[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)|\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)|\\\\d+\",mn].join(\"|\"),\"g\"),Sn=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\"),In=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rn=\"Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout\".split(\" \"),zn={};zn[\"[object Float32Array]\"]=zn[\"[object Float64Array]\"]=zn[\"[object Int8Array]\"]=zn[\"[object Int16Array]\"]=zn[\"[object Int32Array]\"]=zn[\"[object Uint8Array]\"]=zn[\"[object Uint8ClampedArray]\"]=zn[\"[object Uint16Array]\"]=zn[\"[object Uint32Array]\"]=!0,zn[\"[object Arguments]\"]=zn[\"[object Array]\"]=zn[\"[object ArrayBuffer]\"]=zn[\"[object Boolean]\"]=zn[\"[object DataView]\"]=zn[\"[object Date]\"]=zn[\"[object Error]\"]=zn[\"[object Function]\"]=zn[\"[object Map]\"]=zn[\"[object Number]\"]=zn[\"[object Object]\"]=zn[\"[object RegExp]\"]=zn[\"[object Set]\"]=zn[\"[object String]\"]=zn[\"[object WeakMap]\"]=!1;var Wn={};Wn[\"[object Arguments]\"]=Wn[\"[object Array]\"]=Wn[\"[object ArrayBuffer]\"]=Wn[\"[object DataView]\"]=Wn[\"[object Boolean]\"]=Wn[\"[object Date]\"]=Wn[\"[object Float32Array]\"]=Wn[\"[object Float64Array]\"]=Wn[\"[object Int8Array]\"]=Wn[\"[object Int16Array]\"]=Wn[\"[object Int32Array]\"]=Wn[\"[object Map]\"]=Wn[\"[object Number]\"]=Wn[\"[object Object]\"]=Wn[\"[object RegExp]\"]=Wn[\"[object Set]\"]=Wn[\"[object String]\"]=Wn[\"[object Symbol]\"]=Wn[\"[object Uint8Array]\"]=Wn[\"[object Uint8ClampedArray]\"]=Wn[\"[object Uint16Array]\"]=Wn[\"[object Uint32Array]\"]=!0,Wn[\"[object Error]\"]=Wn[\"[object Function]\"]=Wn[\"[object WeakMap]\"]=!1;var Bn,Ln={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Un=parseFloat,Cn=parseInt,Dn=\"object\"==typeof global&&global&&global.Object===Object&&global,Mn=\"object\"==typeof self&&self&&self.Object===Object&&self,Tn=Dn||Mn||Function(\"return this\")(),$n=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,Fn=$n&&\"object\"==typeof module&&module&&!module.nodeType&&module,Nn=Fn&&Fn.exports===$n,Pn=Nn&&Dn.process;n:{try{Bn=Pn&&Pn.binding&&Pn.binding(\"util\");break n}catch(n){}Bn=void 0}var Zn=Bn&&Bn.isArrayBuffer,qn=Bn&&Bn.isDate,Vn=Bn&&Bn.isMap,Kn=Bn&&Bn.isRegExp,Gn=Bn&&Bn.isSet,Hn=Bn&&Bn.isTypedArray,Jn=x(\"length\"),Yn=j({\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ą\":\"A\",\"ā\":\"a\",\"ă\":\"a\",\"ą\":\"a\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"Ď\":\"D\",\"Đ\":\"D\",\"ď\":\"d\",\"đ\":\"d\",\"Ē\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ę\":\"E\",\"Ě\":\"E\",\"ē\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ę\":\"e\",\"ě\":\"e\",\"Ĝ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ģ\":\"G\",\"ĝ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"Ħ\":\"H\",\"ĥ\":\"h\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"Į\":\"I\",\"İ\":\"I\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"į\":\"i\",\"ı\":\"i\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"Ļ\":\"L\",\"Ľ\":\"L\",\"Ŀ\":\"L\",\"Ł\":\"L\",\"ĺ\":\"l\",\"ļ\":\"l\",\"ľ\":\"l\",\"ŀ\":\"l\",\"ł\":\"l\",\"Ń\":\"N\",\"Ņ\":\"N\",\"Ň\":\"N\",\"Ŋ\":\"N\",\"ń\":\"n\",\"ņ\":\"n\",\"ň\":\"n\",\"ŋ\":\"n\",\"Ō\":\"O\",\"Ŏ\":\"O\",\"Ő\":\"O\",\"ō\":\"o\",\"ŏ\":\"o\",\"ő\":\"o\",\"Ŕ\":\"R\",\"Ŗ\":\"R\",\"Ř\":\"R\",\"ŕ\":\"r\",\"ŗ\":\"r\",\"ř\":\"r\",\"Ś\":\"S\",\"Ŝ\":\"S\",\"Ş\":\"S\",\"Š\":\"S\",\"ś\":\"s\",\"ŝ\":\"s\",\"ş\":\"s\",\"š\":\"s\",\"Ţ\":\"T\",\"Ť\":\"T\",\"Ŧ\":\"T\",\"ţ\":\"t\",\"ť\":\"t\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"Ū\":\"U\",\"Ŭ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ų\":\"U\",\"ũ\":\"u\",\"ū\":\"u\",\"ŭ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"ź\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Œ\":\"Oe\",\"œ\":\"oe\",\"ŉ\":\"'n\",\"ſ\":\"s\"}),Qn=j({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"}),Xn=j({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"}),nt=function j(wn){function mn(n){if(qe(n)&&!Bo(n)&&!(n instanceof Ln)){if(n instanceof Bn)return n;if(Bu.call(n,\"__wrapped__\"))return ve(n)}return new Bn(n)}function En(){}function Bn(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=D}function Ln(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Mn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function $n(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Fn(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new $n;++t<r;)this.add(n[t])}function Pn(n){this.size=(this.__data__=new Mn(n)).size}function Jn(n,t){var r,e=Bo(n),u=!e&&Wo(n),i=!e&&!u&&Uo(n),o=!e&&!u&&!i&&$o(n),f=(u=(e=e||u||i||o)?A(n.length,Ou):[]).length;for(r in n)!t&&!Bu.call(n,r)||e&&(\"length\"==r||i&&(\"offset\"==r||\"parent\"==r)||o&&(\"buffer\"==r||\"byteLength\"==r||\"byteOffset\"==r)||re(r,f))||u.push(r);return u}function tt(n){var t=n.length;return t?n[qt(0,t-1)]:D}function rt(n,t,r){(r===D||De(n[t],r))&&(r!==D||t in n)||ft(n,t,r)}function et(n,t,r){var e=n[t];Bu.call(n,t)&&De(e,r)&&(r!==D||t in n)||ft(n,t,r)}function ut(n,t){for(var r=n.length;r--;)if(De(n[r][0],t))return r;return-1}function it(n,t,r,e){return zi(n,function(n,u,i){t(e,n,r(n),i)}),e}function ot(n,t){return n&&br(t,iu(t),n)}function ft(n,t,r){\"__proto__\"==t&&Yu?Yu(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function ct(n,t){for(var r=-1,e=t.length,u=xu(e),i=null==n;++r<e;)u[r]=i?D:eu(n,t[r]);return u}function at(n,t,r){return n==n&&(r!==D&&(n=n<=r?n:r),t!==D&&(n=n>=t?n:t)),n}function lt(r,e,i,o,f,c){var a,l=1&e,h=2&e,p=4&e;if(i&&(a=f?i(r,o,f,c):i(r)),a!==D)return a;if(!Ze(r))return r;if(o=Bo(r)){if(a=function(n){var t=n.length,r=n.constructor(t);return t&&\"string\"==typeof n[0]&&Bu.call(n,\"index\")&&(r.index=n.index,r.input=n.input),r}(r),!l)return yr(r,a)}else{var _=Ni(r),v=\"[object Function]\"==_||\"[object GeneratorFunction]\"==_;if(Uo(r))return hr(r,l);if(\"[object Object]\"==_||\"[object Arguments]\"==_||v&&!f){if(a=h||v?{}:ne(r),!l)return h?function(n,t){return br(n,Fi(n),t)}(r,function(n,t){return n&&br(t,ou(t),n)}(a,r)):function(n,t){return br(n,$i(n),t)}(r,ot(a,r))}else{if(!Wn[_])return f?r:{};a=function(r,e,u,i){var o=r.constructor;switch(e){case\"[object ArrayBuffer]\":return pr(r);case\"[object Boolean]\":case\"[object Date]\":return new o(+r);case\"[object DataView]\":return e=i?pr(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return _r(r,i);case\"[object Map]\":return e=i?u(z(r),1):z(r),s(e,n,new r.constructor);case\"[object Number]\":case\"[object String]\":return new o(r);case\"[object RegExp]\":return e=new r.constructor(r.source,pn.exec(r)),e.lastIndex=r.lastIndex,e;case\"[object Set]\":return e=i?u(L(r),1):L(r),s(e,t,new r.constructor);case\"[object Symbol]\":return Si?ku(Si.call(r)):{}}}(r,_,lt,l)}}if(c||(c=new Pn),f=c.get(r))return f;c.set(r,a);h=p?h?Vr:qr:h?ou:iu;var g=o?D:h(r);return u(g||r,function(n,t){g&&(t=n,n=r[t]),et(a,t,lt(n,e,i,t,r,c))}),a}function st(n,t,r){var e=r.length;if(null==n)return!e;for(n=ku(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===D&&!(u in n)||!i(o))return!1}return!0}function ht(n,t,r){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return qi(function(){n.apply(D,r)},t)}function pt(n,t,r,e){var u=-1,i=f,o=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=a(t,k(r))),e?(i=c,o=!1):200<=t.length&&(i=O,o=!1,t=new Fn(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);p=e||0!==p?p:0;if(o&&_==_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function _t(n,t){var r=!0;return zi(n,function(n,e,u){return r=!!t(n,e,u)}),r}function vt(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===D?o==o&&!He(o):r(o,f)))var f=o,c=i}return c}function gt(n,t){var r=[];return zi(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function dt(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=te),u||(u=[]);++i<o;){var f=n[i];0<t&&r(f)?1<t?dt(f,t-1,r,e,u):l(u,f):e||(u[u.length]=f)}return u}function yt(n,t){return n&&Bi(n,t,iu)}function bt(n,t){return n&&Li(n,t,iu)}function xt(n,t){return o(t,function(t){return Fe(n[t])})}function jt(n,t){for(var r=0,e=(t=lr(t,n)).length;null!=n&&r<e;)n=n[he(t[r++])];return r&&r==e?n:D}function wt(n,t,r){return t=t(n),Bo(n)?t:l(t,r(n))}function mt(n){if(null==n)n=n===D?\"[object Undefined]\":\"[object Null]\";else if(Ju&&Ju in ku(n)){var t=Bu.call(n,Ju),r=n[Ju];try{n[Ju]=D;var e=!0}catch(n){}var u=Cu.call(n);e&&(t?n[Ju]=r:delete n[Ju]),n=u}else n=Cu.call(n);return n}function At(n,t){return n>t}function kt(n,t){return null!=n&&Bu.call(n,t)}function Et(n,t){return null!=n&&t in ku(n)}function Ot(n,t,r){for(var e=r?c:f,u=n[0].length,i=n.length,o=i,l=xu(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=a(p,k(t))),s=ai(p.length,s),l[o]=!r&&(t||120<=u&&120<=p.length)?new Fn(o&&p):D}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],d=t?t(g):g;g=r||0!==g?g:0;if(v?!O(v,d):!e(h,d,r)){for(o=i;--o;){var y=l[o];if(y?!O(y,d):!e(n[o],d,r))continue n}v&&v.push(d),h.push(g)}}return h}function St(n,t,e){return t=lr(t,n),n=2>t.length?n:jt(n,Ht(t,0,-1)),null==(t=null==n?n:n[he(xe(t))])?D:r(t,n,e)}function It(n){return qe(n)&&\"[object Arguments]\"==mt(n)}function Rt(n,t,r,e,u){if(n===t)t=!0;else if(null==n||null==t||!qe(n)&&!qe(t))t=n!=n&&t!=t;else n:{var i=Bo(n),o=Bo(t),f=i?\"[object Array]\":Ni(n),c=o?\"[object Array]\":Ni(t),a=\"[object Object]\"==(f=\"[object Arguments]\"==f?\"[object Object]\":f);o=\"[object Object]\"==(c=\"[object Arguments]\"==c?\"[object Object]\":c);if((c=f==c)&&Uo(n)){if(!Uo(t)){t=!1;break n}i=!0,a=!1}if(c&&!a)u||(u=new Pn),t=i||$o(n)?Pr(n,t,r,e,Rt,u):function(n,t,r,e,u,i,o){switch(r){case\"[object DataView]\":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)break;n=n.buffer,t=t.buffer;case\"[object ArrayBuffer]\":if(n.byteLength!=t.byteLength||!i(new Nu(n),new Nu(t)))break;return!0;case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return De(+n,+t);case\"[object Error]\":return n.name==t.name&&n.message==t.message;case\"[object RegExp]\":case\"[object String]\":return n==t+\"\";case\"[object Map]\":var f=z;case\"[object Set]\":if(f||(f=L),n.size!=t.size&&!(1&e))break;return(r=o.get(n))?r==t:(e|=2,o.set(n,t),t=Pr(f(n),f(t),e,u,i,o),o.delete(n),t);case\"[object Symbol]\":if(Si)return Si.call(n)==Si.call(t)}return!1}(n,t,f,r,e,Rt,u);else{if(!(1&r)&&(i=a&&Bu.call(n,\"__wrapped__\"),f=o&&Bu.call(t,\"__wrapped__\"),i||f)){n=i?n.value():n,t=f?t.value():t,u||(u=new Pn),t=Rt(n,t,r,e,u);break n}if(c)t:if(u||(u=new Pn),i=1&r,f=qr(n),o=f.length,c=qr(t).length,o==c||i){for(a=o;a--;){var l=f[a];if(!(i?l in t:Bu.call(t,l))){t=!1;break t}}if((c=u.get(n))&&u.get(t))t=c==t;else{c=!0,u.set(n,t),u.set(t,n);for(var s=i;++a<o;){var h=n[l=f[a]],p=t[l];if(e)var _=i?e(p,h,l,t,n,u):e(h,p,l,n,t,u);if(_===D?h!==p&&!Rt(h,p,r,e,u):!_){c=!1;break}s||(s=\"constructor\"==l)}c&&!s&&(r=n.constructor,e=t.constructor,r!=e&&\"constructor\"in n&&\"constructor\"in t&&!(\"function\"==typeof r&&r instanceof r&&\"function\"==typeof e&&e instanceof e)&&(c=!1)),u.delete(n),u.delete(t),t=c}}else t=!1;else t=!1}}return t}function zt(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ku(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){var c=(f=r[u])[0],a=n[c],l=f[1];if(o&&f[2]){if(a===D&&!(c in n))return!1}else{if(f=new Pn,e)var s=e(a,l,c,n,t,f);if(s===D?!Rt(l,a,3,e,f):!s)return!1}}return!0}function Wt(n){return!(!Ze(n)||Uu&&Uu in n)&&(Fe(n)?Tu:gn).test(pe(n))}function Bt(n){return\"function\"==typeof n?n:null==n?pu:\"object\"==typeof n?Bo(n)?Mt(n[0],n[1]):Dt(n):du(n)}function Lt(n){if(!oe(n))return fi(n);var t,r=[];for(t in ku(n))Bu.call(n,t)&&\"constructor\"!=t&&r.push(t);return r}function Ut(n,t){return n<t}function Ct(n,t){var r=-1,e=Me(n)?xu(n.length):[];return zi(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Dt(n){var t=Yr(n);return 1==t.length&&t[0][2]?fe(t[0][0],t[0][1]):function(r){return r===n||zt(r,n,t)}}function Mt(n,t){return ue(n)&&t==t&&!Ze(t)?fe(he(n),t):function(r){var e=eu(r,n);return e===D&&e===t?uu(r,n):Rt(t,e,3)}}function Tt(n,t,r,e,u){n!==t&&Bi(t,function(i,o){if(Ze(i)){u||(u=new Pn);var f=u,c=n[o],a=t[o];if(_=f.get(a))rt(n,o,_);else{var l=(_=e?e(c,a,o+\"\",n,t,f):D)===D;if(l){var s=Bo(a),h=!s&&Uo(a),p=!s&&!h&&$o(a),_=a;s||h||p?Bo(c)?_=c:Te(c)?_=yr(c):h?(l=!1,_=hr(a,!0)):p?(l=!1,_=_r(a,!0)):_=[]:Ke(a)||Wo(a)?(_=c,Wo(c)?_=tu(c):(!Ze(c)||r&&Fe(c))&&(_=ne(a))):l=!1}l&&(f.set(a,_),Tt(_,a,r,e,f),f.delete(a)),rt(n,o,_)}}else(f=e?e(n[o],i,o+\"\",n,t,u):D)===D&&(f=i),rt(n,o,f)},ou)}function $t(n,t){var r=n.length;if(r)return t+=0>t?r:0,re(t,r)?n[t]:D}function Ft(n,t,r){var e=-1;return t=a(t.length?t:[pu],k(Hr())),n=Ct(n,function(n){return{a:a(t,function(t){return t(n)}),b:++e,c:n}}),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}(n,function(n,t){var e;n:{e=-1;for(var u=n.a,i=t.a,o=u.length,f=r.length;++e<o;){var c=vr(u[e],i[e]);if(c){e=e>=f?c:c*(\"desc\"==r[e]?-1:1);break n}}e=n.b-t.b}return e})}function Nt(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=jt(n,o);r(f,o)&&Gt(i,lr(o,n),f)}return i}function Pt(n,t,r,e){var u=e?d:g,i=-1,o=t.length,f=n;for(n===t&&(t=yr(t)),r&&(f=a(n,k(r)));++i<o;){var c=0,l=t[i];for(l=r?r(l):l;-1<(c=u(f,l,c,e));)f!==n&&Ku.call(f,c,1),Ku.call(n,c,1)}return n}function Zt(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;re(u)?Ku.call(n,u,1):er(n,u)}}}function qt(n,t){return n+ri(hi()*(t-n+1))}function Vt(n,t){var r=\"\";if(!n||1>t||9007199254740991<t)return r;do{t%2&&(r+=n),(t=ri(t/2))&&(n+=n)}while(t);return r}function Kt(n,t){return Vi(ce(n,t,pu),n+\"\")}function Gt(n,t,r,e){if(!Ze(n))return n;for(var u=-1,i=(t=lr(t,n)).length,o=i-1,f=n;null!=f&&++u<i;){var c=he(t[u]),a=r;if(u!=o){var l=f[c];(a=e?e(l,c,f):D)===D&&(a=Ze(l)?l:re(t[u+1])?[]:{})}et(f,c,a),f=f[c]}return n}function Ht(n,t,r){var e=-1,u=n.length;for(0>t&&(t=-t>u?0:u+t),0>(r=r>u?u:r)&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=xu(u);++e<u;)r[e]=n[e+t];return r}function Jt(n,t){var r;return zi(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Yt(n,t,r){var e=0,u=null==n?e:n.length;if(\"number\"==typeof t&&t==t&&2147483647>=u){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!He(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Qt(n,t,pu,r)}function Qt(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!=t,f=null===t,c=He(t),a=t===D;u<i;){var l=ri((u+i)/2),s=r(n[l]),h=s!==D,p=null===s,_=s==s,v=He(s);(o?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t))?u=l+1:i=l}return ai(i,4294967294)}function Xt(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!De(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function nr(n){return\"number\"==typeof n?n:He(n)?T:+n}function tr(n){if(\"string\"==typeof n)return n;if(Bo(n))return a(n,tr)+\"\";if(He(n))return Ii?Ii.call(n):\"\";var t=n+\"\";return\"0\"==t&&1/n==-M?\"-0\":t}function rr(n,t,r){var e=-1,u=f,i=n.length,o=!0,a=[],l=a;if(r)o=!1,u=c;else if(200<=i){if(u=t?null:Mi(n))return L(u);o=!1,u=O,l=new Fn}else l=t?[]:a;n:for(;++e<i;){var s=n[e],h=t?t(s):s;s=r||0!==s?s:0;if(o&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue n;t&&l.push(h),a.push(s)}else u(l,h,r)||(l!==a&&l.push(h),a.push(s))}return a}function er(n,t){return t=lr(t,n),null==(n=2>t.length?n:jt(n,Ht(t,0,-1)))||delete n[he(xe(t))]}function ur(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Ht(n,e?0:i,e?i+1:u):Ht(n,e?i+1:0,e?u:i)}function ir(n,t){var r=n;return r instanceof Ln&&(r=r.value()),s(t,function(n,t){return t.func.apply(t.thisArg,l([n],t.args))},r)}function or(n,t,r){var e=n.length;if(2>e)return e?rr(n[0]):[];for(var u=-1,i=xu(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=pt(i[u]||o,n[f],t,r));return rr(dt(i,1),t,r)}function fr(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:D);return o}function cr(n){return Te(n)?n:[]}function ar(n){return\"function\"==typeof n?n:pu}function lr(n,t){return Bo(n)?n:ue(n,t)?[n]:Ki(ru(n))}function sr(n,t,r){var e=n.length;return r=r===D?e:r,!t&&r>=e?n:Ht(n,t,r)}function hr(n,t){if(t)return n.slice();var r=n.length;r=Pu?Pu(r):new n.constructor(r);return n.copy(r),r}function pr(n){var t=new n.constructor(n.byteLength);return new Nu(t).set(new Nu(n)),t}function _r(n,t){return new n.constructor(t?pr(n.buffer):n.buffer,n.byteOffset,n.length)}function vr(n,t){if(n!==t){var r=n!==D,e=null===n,u=n==n,i=He(n),o=t!==D,f=null===t,c=t==t,a=He(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function gr(n,t,r,e){var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=ci(i-o,0),l=xu(c+a);for(e=!e;++f<c;)l[f]=t[f];for(;++u<o;)(e||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function dr(n,t,r,e){var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=ci(i-f,0),s=xu(l+a);for(e=!e;++u<l;)s[u]=n[u];for(l=u;++c<a;)s[l+c]=t[c];for(;++o<f;)(e||u<i)&&(s[l+r[o]]=n[u++]);return s}function yr(n,t){var r=-1,e=n.length;for(t||(t=xu(e));++r<e;)t[r]=n[r];return t}function br(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):D;c===D&&(c=n[f]),u?ft(r,f,c):et(r,f,c)}return r}function xr(n,t){return function(r,u){var i=Bo(r)?e:it,o=t?t():{};return i(r,n,Hr(u,2),o)}}function jr(n){return Kt(function(t,r){var e=-1,u=r.length,i=1<u?r[u-1]:D,o=2<u?r[2]:D;i=3<n.length&&\"function\"==typeof i?(u--,i):D;for(o&&ee(r[0],r[1],o)&&(i=3>u?D:i,u=1),t=ku(t);++e<u;)(o=r[e])&&n(t,o,e,i);return t})}function wr(n,t){return function(r,e){if(null==r)return r;if(!Me(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ku(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function mr(n){return function(t,r,e){for(var u=-1,i=ku(t),o=(e=e(t)).length;o--;){var f=e[n?o:++u];if(!1===r(i[f],f,i))break}return t}}function Ar(n){return function(t){t=ru(t);var r=Sn.test(t)?C(t):D,e=r?r[0]:t.charAt(0);return t=r?sr(r,1).join(\"\"):t.slice(1),e[n]()+t}}function kr(n){return function(t){return s(su(lu(t).replace(An,\"\")),n,\"\")}}function Er(n){return function(){switch((t=arguments).length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var t,r=Ri(n.prototype);return Ze(t=n.apply(r,t))?t:r}}function Or(n){return function(t,r,e){var u=ku(t);if(!Me(t)){var i=Hr(r,3);t=iu(t),r=function(n){return i(u[n],n,u)}}return-1<(r=n(t,r,e))?u[i?t[r]:r]:D}}function Sr(n){return Zr(function(t){var r=t.length,e=r,u=Bn.prototype.thru;for(n&&t.reverse();e--;){if(\"function\"!=typeof(o=t[e]))throw new Su(\"Expected a function\");if(u&&!i&&\"wrapper\"==Kr(o))var i=new Bn([],!0)}for(e=i?e:r;++e<r;){var o=t[e],f=(u=Kr(o),\"wrapper\"==u?Ti(o):D);i=f&&ie(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?i[Kr(f[0])].apply(i,f[3]):1==o.length&&ie(o)?i[u]():i.thru(o)}return function(){var n=(u=arguments)[0];if(i&&1==u.length&&Bo(n))return i.plant(n).value();for(var e=0,u=r?t[e].apply(this,u):n;++e<r;)u=t[e].call(this,u);return u}})}function Ir(n,t,r,e,u,i,o,f,c,a){function l(){for(var d=arguments.length,y=xu(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=Gr(l);b=y.length;for(x=0;b--;)y[b]===j&&++x}if(e&&(y=gr(y,e,u,_)),i&&(y=dr(y,i,o,_)),d-=x,_&&d<a)return j=B(y,j),Cr(n,t,Ir,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[n]:n,d=y.length,f){x=y.length;for(var w=ai(f.length,x),m=yr(y);w--;){var A=f[w];y[w]=re(A,x)?m[A]:D}}else v&&1<d&&y.reverse();return s&&c<d&&(y.length=c),this&&this!==Tn&&this instanceof l&&(b=g||Er(b)),b.apply(j,y)}var s=128&t,h=1&t,p=2&t,_=24&t,v=512&t,g=p?D:Er(n);return l}function Rr(n,t){return function(r,e){return function(n,t,r){var e={};return yt(n,function(n,u,i){t(e,r(n),u,i)}),e}(r,n,t(e))}}function zr(n,t){return function(r,e){var u;if(r===D&&e===D)return t;if(r!==D&&(u=r),e!==D){if(u===D)return e;\"string\"==typeof r||\"string\"==typeof e?(r=tr(r),e=tr(e)):(r=nr(r),e=nr(e)),u=n(r,e)}return u}}function Wr(n){return Zr(function(t){return t=a(t,k(Hr())),Kt(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function Br(n,t){var r=(t=t===D?\" \":tr(t)).length;return 2>r?r?Vt(t,n):t:(r=Vt(t,ti(n/U(t))),Sn.test(t)?sr(C(r),0,n).join(\"\"):r.slice(0,n))}function Lr(n){return function(t,r,e){e&&\"number\"!=typeof e&&ee(t,r,e)&&(r=e=D),t=Ye(t),r===D?(r=t,t=0):r=Ye(r),e=e===D?t<r?1:-1:Ye(e);var u=-1;r=ci(ti((r-t)/(e||1)),0);for(var i=xu(r);r--;)i[n?r:++u]=t,t+=e;return i}}function Ur(n){return function(t,r){return\"string\"==typeof t&&\"string\"==typeof r||(t=nu(t),r=nu(r)),n(t,r)}}function Cr(n,t,r,e,u,i,o,f,c,a){var l=8&t,s=l?o:D;o=l?D:o;var h=l?i:D;return i=l?D:i,4&(t=(t|(l?32:64))&~(l?64:32))||(t&=-4),u=[n,t,u,h,s,i,o,f,c,a],r=r.apply(D,u),ie(n)&&Zi(r,u),r.placeholder=e,ae(r,n,t)}function Dr(n){var t=Au[n];return function(n,r){if(n=nu(n),r=null==r?0:ai(Qe(r),292)){var e=(ru(n)+\"e\").split(\"e\");return+((e=(ru(e=t(e[0]+\"e\"+(+e[1]+r)))+\"e\").split(\"e\"))[0]+\"e\"+(+e[1]-r))}return t(n)}}function Mr(n){return function(t){var r=Ni(t);return\"[object Map]\"==r?z(t):\"[object Set]\"==r?function(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}(t):function(n,t){return a(t,function(t){return[t,n[t]]})}(t,n(t))}}function Tr(n,t,e,u,i,o,f,c){var a=2&t;if(!a&&\"function\"!=typeof n)throw new Su(\"Expected a function\");var l=u?u.length:0;if(l||(t&=-97,u=i=D),f=f===D?f:ci(Qe(f),0),c=c===D?c:Qe(c),l-=i?i.length:0,64&t){var s=u,h=i;u=i=D}var p=a?D:Ti(n);return o=[n,t,e,u,i,s,h,o,f,c],p&&(e=o[1],n=p[1],t=e|n,u=128==n&&8==e||128==n&&256==e&&o[7].length<=p[8]||384==n&&p[7].length<=p[8]&&8==e,131>t||u)&&(1&n&&(o[2]=p[2],t|=1&e?0:4),(e=p[3])&&(u=o[3],o[3]=u?gr(u,e,p[4]):e,o[4]=u?B(o[3],\"__lodash_placeholder__\"):p[4]),(e=p[5])&&(u=o[5],o[5]=u?dr(u,e,p[6]):e,o[6]=u?B(o[5],\"__lodash_placeholder__\"):p[6]),(e=p[7])&&(o[7]=e),128&n&&(o[8]=null==o[8]?p[8]:ai(o[8],p[8])),null==o[9]&&(o[9]=p[9]),o[0]=p[0],o[1]=t),n=o[0],t=o[1],e=o[2],u=o[3],i=o[4],!(c=o[9]=o[9]===D?a?0:n.length:ci(o[9]-l,0))&&24&t&&(t&=-25),ae((p?Ui:Zi)(t&&1!=t?8==t||16==t?function(n,t,e){function u(){for(var o=arguments.length,f=xu(o),c=o,a=Gr(u);c--;)f[c]=arguments[c];return c=3>o&&f[0]!==a&&f[o-1]!==a?[]:B(f,a),(o-=c.length)<e?Cr(n,t,Ir,u.placeholder,D,f,c,D,D,e-o):r(this&&this!==Tn&&this instanceof u?i:n,this,f)}var i=Er(n);return u}(n,t,c):32!=t&&33!=t||i.length?Ir.apply(D,o):function(n,t,e,u){function i(){for(var t=-1,c=arguments.length,a=-1,l=u.length,s=xu(l+c),h=this&&this!==Tn&&this instanceof i?f:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++t];return r(h,o?e:this,s)}var o=1&t,f=Er(n);return i}(n,t,e,u):function(n,t,r){function e(){return(this&&this!==Tn&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=1&t,i=Er(n);return e}(n,t,e),o),n,t)}function $r(n,t,r,e){return n===D||De(n,Ru[r])&&!Bu.call(e,r)?t:n}function Fr(n,t,r,e,u,i){return Ze(n)&&Ze(t)&&(i.set(t,n),Tt(n,t,D,Fr,i),i.delete(t)),n}function Nr(n){return Ke(n)?D:n}function Pr(n,t,r,e,u,i){var o=1&r,f=n.length;if(f!=(c=t.length)&&!(o&&c>f))return!1;if((c=i.get(n))&&i.get(t))return c==t;var c=-1,a=!0,l=2&r?new Fn:D;for(i.set(n,t),i.set(t,n);++c<f;){var s=n[c],h=t[c];if(e)var _=o?e(h,s,c,t,n,i):e(s,h,c,n,t,i);if(_!==D){if(_)continue;a=!1;break}if(l){if(!p(t,function(n,t){if(!O(l,t)&&(s===n||u(s,n,r,e,i)))return l.push(t)})){a=!1;break}}else if(s!==h&&!u(s,h,r,e,i)){a=!1;break}}return i.delete(n),i.delete(t),a}function Zr(n){return Vi(ce(n,D,ye),n+\"\")}function qr(n){return wt(n,iu,$i)}function Vr(n){return wt(n,ou,Fi)}function Kr(n){for(var t=n.name+\"\",r=ji[t],e=Bu.call(ji,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Gr(n){return(Bu.call(mn,\"placeholder\")?mn:n).placeholder}function Hr(){var n=(n=mn.iteratee||_u)===_u?Bt:n;return arguments.length?n(arguments[0],arguments[1]):n}function Jr(n,t){var r=n.__data__,e=typeof t;return(\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function Yr(n){for(var t=iu(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,u==u&&!Ze(u)]}return t}function Qr(n,t){var r=null==n?D:n[t];return Wt(r)?r:D}function Xr(n,t,r){for(var e=-1,u=(t=lr(t,n)).length,i=!1;++e<u;){var o=he(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&Pe(u)&&re(o,u)&&(Bo(n)||Wo(n))}function ne(n){return\"function\"!=typeof n.constructor||oe(n)?{}:Ri(Zu(n))}function te(n){return Bo(n)||Wo(n)||!!(Gu&&n&&n[Gu])}function re(n,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof n||yn.test(n))&&-1<n&&0==n%1&&n<t}function ee(n,t,r){if(!Ze(r))return!1;var e=typeof t;return!!(\"number\"==e?Me(r)&&re(t,r.length):\"string\"==e&&t in r)&&De(r[t],n)}function ue(n,t){if(Bo(n))return!1;var r=typeof n;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=n&&!He(n))||Q.test(n)||!Y.test(n)||null!=t&&n in ku(t)}function ie(n){var t=Kr(n),r=mn[t];return\"function\"==typeof r&&t in Ln.prototype&&(n===r||!!(t=Ti(r))&&n===t[0])}function oe(n){var t=n&&n.constructor;return n===(\"function\"==typeof t&&t.prototype||Ru)}function fe(n,t){return function(r){return null!=r&&r[n]===t&&(t!==D||n in ku(r))}}function ce(n,t,e){return t=ci(t===D?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=ci(u.length-t,0),f=xu(o);++i<o;)f[i]=u[t+i];for(i=-1,o=xu(t+1);++i<t;)o[i]=u[i];return o[t]=e(f),r(n,this,o)}}function ae(n,t,r){var e=t+\"\";t=Vi;var u,i=_e;return u=(u=e.match(cn))?u[1].split(an):[],r=i(u,r),(i=r.length)&&(u=i-1,r[u]=(1<i?\"& \":\"\")+r[u],r=r.join(2<i?\", \":\" \"),e=e.replace(fn,\"{\\n/* [wrapped with \"+r+\"] */\\n\")),t(n,e)}function le(n){var t=0,r=0;return function(){var e=li(),u=16-(e-r);if(r=e,0<u){if(800<=++t)return arguments[0]}else t=0;return n.apply(D,arguments)}}function se(n,t){var r=-1,e=(u=n.length)-1;for(t=t===D?u:t;++r<t;){var u,i=n[u=qt(r,e)];n[u]=n[r],n[r]=i}return n.length=t,n}function he(n){if(\"string\"==typeof n||He(n))return n;var t=n+\"\";return\"0\"==t&&1/n==-M?\"-0\":t}function pe(n){if(null!=n){try{return Wu.call(n)}catch(n){}return n+\"\"}return\"\"}function _e(n,t){return u($,function(r){var e=\"_.\"+r[0];t&r[1]&&!f(n,e)&&n.push(e)}),n.sort()}function ve(n){if(n instanceof Ln)return n.clone();var t=new Bn(n.__wrapped__,n.__chain__);return t.__actions__=yr(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function ge(n,t,r){var e=null==n?0:n.length;return e?(0>(r=null==r?0:Qe(r))&&(r=ci(e+r,0)),v(n,Hr(t,3),r)):-1}function de(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==D&&(u=Qe(r),u=0>r?ci(e+u,0):ai(u,e-1)),v(n,Hr(t,3),u,!0)}function ye(n){return null!=n&&n.length?dt(n,1):[]}function be(n){return n&&n.length?n[0]:D}function xe(n){var t=null==n?0:n.length;return t?n[t-1]:D}function je(n,t){return n&&n.length&&t&&t.length?Pt(n,t):n}function we(n){return null==n?n:pi.call(n)}function me(n){if(!n||!n.length)return[];var t=0;return n=o(n,function(n){if(Te(n))return t=ci(n.length,t),!0}),A(t,function(t){return a(n,x(t))})}function Ae(n,t){if(!n||!n.length)return[];var e=me(n);return null==t?e:a(e,function(n){return r(t,D,n)})}function ke(n){return n=mn(n),n.__chain__=!0,n}function Ee(n,t){return t(n)}function Oe(n,t){return(Bo(n)?u:zi)(n,Hr(t,3))}function Se(n,t){return(Bo(n)?function(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}:Wi)(n,Hr(t,3))}function Ie(n,t){return(Bo(n)?a:Ct)(n,Hr(t,3))}function Re(n,t,r){return t=r?D:t,t=n&&null==t?n.length:t,Tr(n,128,D,D,D,D,t)}function ze(n,t){var r;if(\"function\"!=typeof t)throw new Su(\"Expected a function\");return n=Qe(n),function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=D),r}}function We(n,t,r){return t=r?D:t,n=Tr(n,8,D,D,D,D,D,t),n.placeholder=We.placeholder,n}function Be(n,t,r){return t=r?D:t,n=Tr(n,16,D,D,D,D,D,t),n.placeholder=Be.placeholder,n}function Le(n,t,r){function e(t){var r=c,e=a;return c=a=D,_=t,s=n.apply(e,r)}function u(n){var r=n-p;return n-=_,p===D||r>=t||0>r||g&&n>=l}function i(){var n=jo();if(u(n))return o(n);var r,e=qi;r=n-_,n=t-(n-p),r=g?ai(n,l-r):n,h=e(i,r)}function o(n){return h=D,d&&c?e(n):(c=a=D,s)}function f(){var n=jo(),r=u(n);if(c=arguments,a=this,p=n,r){if(h===D)return _=n=p,h=qi(i,t),v?e(n):s;if(g)return h=qi(i,t),e(p)}return h===D&&(h=qi(i,t)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,d=!0;if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=nu(t)||0,Ze(r)&&(v=!!r.leading,l=(g=\"maxWait\"in r)?ci(nu(r.maxWait)||0,t):l,d=\"trailing\"in r?!!r.trailing:d),f.cancel=function(){h!==D&&Di(h),_=0,c=p=a=h=D},f.flush=function(){return h===D?s:o(jo())},f}function Ue(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e)||i,e)}if(\"function\"!=typeof n||null!=t&&\"function\"!=typeof t)throw new Su(\"Expected a function\");return r.cache=new(Ue.Cache||$n),r}function Ce(n){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function De(n,t){return n===t||n!=n&&t!=t}function Me(n){return null!=n&&Pe(n.length)&&!Fe(n)}function Te(n){return qe(n)&&Me(n)}function $e(n){if(!qe(n))return!1;var t=mt(n);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof n.message&&\"string\"==typeof n.name&&!Ke(n)}function Fe(n){return!!Ze(n)&&(\"[object Function]\"==(n=mt(n))||\"[object GeneratorFunction]\"==n||\"[object AsyncFunction]\"==n||\"[object Proxy]\"==n)}function Ne(n){return\"number\"==typeof n&&n==Qe(n)}function Pe(n){return\"number\"==typeof n&&-1<n&&0==n%1&&9007199254740991>=n}function Ze(n){var t=typeof n;return null!=n&&(\"object\"==t||\"function\"==t)}function qe(n){return null!=n&&\"object\"==typeof n}function Ve(n){return\"number\"==typeof n||qe(n)&&\"[object Number]\"==mt(n)}function Ke(n){return!(!qe(n)||\"[object Object]\"!=mt(n))&&(null===(n=Zu(n))||\"function\"==typeof(n=Bu.call(n,\"constructor\")&&n.constructor)&&n instanceof n&&Wu.call(n)==Du)}function Ge(n){return\"string\"==typeof n||!Bo(n)&&qe(n)&&\"[object String]\"==mt(n)}function He(n){return\"symbol\"==typeof n||qe(n)&&\"[object Symbol]\"==mt(n)}function Je(n){if(!n)return[];if(Me(n))return Ge(n)?C(n):yr(n);if(Hu&&n[Hu]){n=n[Hu]();for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}return(\"[object Map]\"==(t=Ni(n))?z:\"[object Set]\"==t?L:cu)(n)}function Ye(n){return n?(n=nu(n))===M||n===-M?1.7976931348623157e308*(0>n?-1:1):n==n?n:0:0===n?n:0}function Qe(n){var t=(n=Ye(n))%1;return n==n?t?n-t:n:0}function Xe(n){return n?at(Qe(n),0,4294967295):0}function nu(n){if(\"number\"==typeof n)return n;if(He(n))return T;if(Ze(n)&&(n=\"function\"==typeof n.valueOf?n.valueOf():n,n=Ze(n)?n+\"\":n),\"string\"!=typeof n)return 0===n?n:+n;n=n.replace(en,\"\");var t=vn.test(n);return t||dn.test(n)?Cn(n.slice(2),t?2:8):_n.test(n)?T:+n}function tu(n){return br(n,ou(n))}function ru(n){return null==n?\"\":tr(n)}function eu(n,t,r){return(n=null==n?D:jt(n,t))===D?r:n}function uu(n,t){return null!=n&&Xr(n,t,Et)}function iu(n){return Me(n)?Jn(n):Lt(n)}function ou(n){if(Me(n))n=Jn(n,!0);else if(Ze(n)){var t,r=oe(n),e=[];for(t in n)(\"constructor\"!=t||!r&&Bu.call(n,t))&&e.push(t);n=e}else{if(t=[],null!=n)for(r in ku(n))t.push(r);n=t}return n}function fu(n,t){if(null==n)return{};var r=a(Vr(n),function(n){return[n]});return t=Hr(t),Nt(n,r,function(n,r){return t(n,r[0])})}function cu(n){return null==n?[]:E(n,iu(n))}function au(n){return pf(ru(n).toLowerCase())}function lu(n){return(n=ru(n))&&n.replace(bn,Yn).replace(kn,\"\")}function su(n,t,r){return n=ru(n),(t=r?D:t)===D?In.test(n)?n.match(On)||[]:n.match(ln)||[]:n.match(t)||[]}function hu(n){return function(){return n}}function pu(n){return n}function _u(n){return Bt(\"function\"==typeof n?n:lt(n,1))}function vu(n,t,r){var e=iu(t),i=xt(t,e);null!=r||Ze(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=xt(t,iu(t)));var o=!(Ze(r)&&\"chain\"in r&&!r.chain),f=Fe(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=yr(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,l([this.value()],arguments))})}),n}function gu(){}function du(n){return ue(n)?x(he(n)):function(n){return function(t){return jt(t,n)}}(n)}function yu(){return[]}function bu(){return!1}var xu=(wn=null==wn?Tn:nt.defaults(Tn.Object(),wn,nt.pick(Tn,Rn))).Array,ju=wn.Date,wu=wn.Error,mu=wn.Function,Au=wn.Math,ku=wn.Object,Eu=wn.RegExp,Ou=wn.String,Su=wn.TypeError,Iu=xu.prototype,Ru=ku.prototype,zu=wn[\"__core-js_shared__\"],Wu=mu.prototype.toString,Bu=Ru.hasOwnProperty,Lu=0,Uu=function(){var n=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}(),Cu=Ru.toString,Du=Wu.call(ku),Mu=Tn._,Tu=Eu(\"^\"+Wu.call(Bu).replace(tn,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),$u=Nn?wn.Buffer:D,Fu=wn.Symbol,Nu=wn.Uint8Array,Pu=$u?$u.f:D,Zu=W(ku.getPrototypeOf,ku),qu=ku.create,Vu=Ru.propertyIsEnumerable,Ku=Iu.splice,Gu=Fu?Fu.isConcatSpreadable:D,Hu=Fu?Fu.iterator:D,Ju=Fu?Fu.toStringTag:D,Yu=function(){try{var n=Qr(ku,\"defineProperty\");return n({},\"\",{}),n}catch(n){}}(),Qu=wn.clearTimeout!==Tn.clearTimeout&&wn.clearTimeout,Xu=ju&&ju.now!==Tn.Date.now&&ju.now,ni=wn.setTimeout!==Tn.setTimeout&&wn.setTimeout,ti=Au.ceil,ri=Au.floor,ei=ku.getOwnPropertySymbols,ui=$u?$u.isBuffer:D,ii=wn.isFinite,oi=Iu.join,fi=W(ku.keys,ku),ci=Au.max,ai=Au.min,li=ju.now,si=wn.parseInt,hi=Au.random,pi=Iu.reverse,_i=Qr(wn,\"DataView\"),vi=Qr(wn,\"Map\"),gi=Qr(wn,\"Promise\"),di=Qr(wn,\"Set\"),yi=Qr(wn,\"WeakMap\"),bi=Qr(ku,\"create\"),xi=yi&&new yi,ji={},wi=pe(_i),mi=pe(vi),Ai=pe(gi),ki=pe(di),Ei=pe(yi),Oi=Fu?Fu.prototype:D,Si=Oi?Oi.valueOf:D,Ii=Oi?Oi.toString:D,Ri=function(){function n(){}return function(t){return Ze(t)?qu?qu(t):(n.prototype=t,t=new n,n.prototype=D,t):{}}}();mn.templateSettings={escape:G,evaluate:H,interpolate:J,variable:\"\",imports:{_:mn}},(mn.prototype=En.prototype).constructor=mn,(Bn.prototype=Ri(En.prototype)).constructor=Bn,(Ln.prototype=Ri(En.prototype)).constructor=Ln,Dn.prototype.clear=function(){this.__data__=bi?bi(null):{},this.size=0},Dn.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],this.size-=n?1:0,n},Dn.prototype.get=function(n){var t=this.__data__;return bi?\"__lodash_hash_undefined__\"===(n=t[n])?D:n:Bu.call(t,n)?t[n]:D},Dn.prototype.has=function(n){var t=this.__data__;return bi?t[n]!==D:Bu.call(t,n)},Dn.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=bi&&t===D?\"__lodash_hash_undefined__\":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(n){var t=this.__data__;return!(0>(n=ut(t,n))||(n==t.length-1?t.pop():Ku.call(t,n,1),--this.size,0))},Mn.prototype.get=function(n){var t=this.__data__;return 0>(n=ut(t,n))?D:t[n][1]},Mn.prototype.has=function(n){return-1<ut(this.__data__,n)},Mn.prototype.set=function(n,t){var r=this.__data__,e=ut(r,n);return 0>e?(++this.size,r.push([n,t])):r[e][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(vi||Mn),string:new Dn}},$n.prototype.delete=function(n){return n=Jr(this,n).delete(n),this.size-=n?1:0,n},$n.prototype.get=function(n){return Jr(this,n).get(n)},$n.prototype.has=function(n){return Jr(this,n).has(n)},$n.prototype.set=function(n,t){var r=Jr(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},Fn.prototype.add=Fn.prototype.push=function(n){return this.__data__.set(n,\"__lodash_hash_undefined__\"),this},Fn.prototype.has=function(n){return this.__data__.has(n)},Pn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Pn.prototype.delete=function(n){var t=this.__data__;return n=t.delete(n),this.size=t.size,n},Pn.prototype.get=function(n){return this.__data__.get(n)},Pn.prototype.has=function(n){return this.__data__.has(n)},Pn.prototype.set=function(n,t){var r=this.__data__;if(r instanceof Mn){var e=r.__data__;if(!vi||199>e.length)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new $n(e)}return r.set(n,t),this.size=r.size,this};var zi=wr(yt),Wi=wr(bt,!0),Bi=mr(),Li=mr(!0),Ui=xi?function(n,t){return xi.set(n,t),n}:pu,Ci=Yu?function(n,t){return Yu(n,\"toString\",{configurable:!0,enumerable:!1,value:hu(t),writable:!0})}:pu,Di=Qu||function(n){return Tn.clearTimeout(n)},Mi=di&&1/L(new di([,-0]))[1]==M?function(n){return new di(n)}:gu,Ti=xi?function(n){return xi.get(n)}:gu,$i=ei?function(n){return null==n?[]:(n=ku(n),o(ei(n),function(t){return Vu.call(n,t)}))}:yu,Fi=ei?function(n){for(var t=[];n;)l(t,$i(n)),n=Zu(n);return t}:yu,Ni=mt;(_i&&\"[object DataView]\"!=Ni(new _i(new ArrayBuffer(1)))||vi&&\"[object Map]\"!=Ni(new vi)||gi&&\"[object Promise]\"!=Ni(gi.resolve())||di&&\"[object Set]\"!=Ni(new di)||yi&&\"[object WeakMap]\"!=Ni(new yi))&&(Ni=function(n){var t=mt(n);if(n=(n=\"[object Object]\"==t?n.constructor:D)?pe(n):\"\")switch(n){case wi:return\"[object DataView]\";case mi:return\"[object Map]\";case Ai:return\"[object Promise]\";case ki:return\"[object Set]\";case Ei:return\"[object WeakMap]\"}return t});var Pi=zu?Fe:bu,Zi=le(Ui),qi=ni||function(n,t){return Tn.setTimeout(n,t)},Vi=le(Ci),Ki=function(n){var t=(n=Ue(n,function(n){return 500===t.size&&t.clear(),n})).cache;return n}(function(n){var t=[];return X.test(n)&&t.push(\"\"),n.replace(nn,function(n,r,e,u){t.push(e?u.replace(sn,\"$1\"):r||n)}),t}),Gi=Kt(function(n,t){return Te(n)?pt(n,dt(t,1,Te,!0)):[]}),Hi=Kt(function(n,t){var r=xe(t);return Te(r)&&(r=D),Te(n)?pt(n,dt(t,1,Te,!0),Hr(r,2)):[]}),Ji=Kt(function(n,t){var r=xe(t);return Te(r)&&(r=D),Te(n)?pt(n,dt(t,1,Te,!0),D,r):[]}),Yi=Kt(function(n){var t=a(n,cr);return t.length&&t[0]===n[0]?Ot(t):[]}),Qi=Kt(function(n){var t=xe(n),r=a(n,cr);return t===xe(r)?t=D:r.pop(),r.length&&r[0]===n[0]?Ot(r,Hr(t,2)):[]}),Xi=Kt(function(n){var t=xe(n),r=a(n,cr);return(t=\"function\"==typeof t?t:D)&&r.pop(),r.length&&r[0]===n[0]?Ot(r,D,t):[]}),no=Kt(je),to=Zr(function(n,t){var r=null==n?0:n.length,e=ct(n,t);return Zt(n,a(t,function(n){return re(n,r)?+n:n}).sort(vr)),e}),ro=Kt(function(n){return rr(dt(n,1,Te,!0))}),eo=Kt(function(n){var t=xe(n);return Te(t)&&(t=D),rr(dt(n,1,Te,!0),Hr(t,2))}),uo=Kt(function(n){var t=\"function\"==typeof(t=xe(n))?t:D;return rr(dt(n,1,Te,!0),D,t)}),io=Kt(function(n,t){return Te(n)?pt(n,t):[]}),oo=Kt(function(n){return or(o(n,Te))}),fo=Kt(function(n){var t=xe(n);return Te(t)&&(t=D),or(o(n,Te),Hr(t,2))}),co=Kt(function(n){var t=\"function\"==typeof(t=xe(n))?t:D;return or(o(n,Te),D,t)}),ao=Kt(me),lo=Kt(function(n){var t;return Ae(n,t=\"function\"==typeof(t=1<(t=n.length)?n[t-1]:D)?(n.pop(),t):D)}),so=Zr(function(n){function t(t){return ct(t,n)}var r=n.length,e=r?n[0]:0,u=this.__wrapped__;return!(1<r||this.__actions__.length)&&u instanceof Ln&&re(e)?((u=u.slice(e,+e+(r?1:0))).__actions__.push({func:Ee,args:[t],thisArg:D}),new Bn(u,this.__chain__).thru(function(n){return r&&!n.length&&n.push(D),n})):this.thru(t)}),ho=xr(function(n,t,r){Bu.call(n,r)?++n[r]:ft(n,r,1)}),po=Or(ge),_o=Or(de),vo=xr(function(n,t,r){Bu.call(n,r)?n[r].push(t):ft(n,r,[t])}),go=Kt(function(n,t,e){var u=-1,i=\"function\"==typeof t,o=Me(n)?xu(n.length):[];return zi(n,function(n){o[++u]=i?r(t,n,e):St(n,t,e)}),o}),yo=xr(function(n,t,r){ft(n,r,t)}),bo=xr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),xo=Kt(function(n,t){if(null==n)return[];var r=t.length;return 1<r&&ee(n,t[0],t[1])?t=[]:2<r&&ee(t[0],t[1],t[2])&&(t=[t[0]]),Ft(n,dt(t,1),[])}),jo=Xu||function(){return Tn.Date.now()},wo=Kt(function(n,t,r){var e=1;if(r.length){var u=B(r,Gr(wo));e=32|e}return Tr(n,e,t,r,u)}),mo=Kt(function(n,t,r){var e=3;if(r.length){var u=B(r,Gr(mo));e=32|e}return Tr(t,e,n,r,u)}),Ao=Kt(function(n,t){return ht(n,1,t)}),ko=Kt(function(n,t,r){return ht(n,nu(t)||0,r)});Ue.Cache=$n;var Eo=Kt(function(n,t){var e=(t=1==t.length&&Bo(t[0])?a(t[0],k(Hr())):a(dt(t,1),k(Hr()))).length;return Kt(function(u){for(var i=-1,o=ai(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),Oo=Kt(function(n,t){return Tr(n,32,D,t,B(t,Gr(Oo)))}),So=Kt(function(n,t){return Tr(n,64,D,t,B(t,Gr(So)))}),Io=Zr(function(n,t){return Tr(n,256,D,D,D,t)}),Ro=Ur(At),zo=Ur(function(n,t){return n>=t}),Wo=It(function(){return arguments}())?It:function(n){return qe(n)&&Bu.call(n,\"callee\")&&!Vu.call(n,\"callee\")},Bo=xu.isArray,Lo=Zn?k(Zn):function(n){return qe(n)&&\"[object ArrayBuffer]\"==mt(n)},Uo=ui||bu,Co=qn?k(qn):function(n){return qe(n)&&\"[object Date]\"==mt(n)},Do=Vn?k(Vn):function(n){return qe(n)&&\"[object Map]\"==Ni(n)},Mo=Kn?k(Kn):function(n){return qe(n)&&\"[object RegExp]\"==mt(n)},To=Gn?k(Gn):function(n){return qe(n)&&\"[object Set]\"==Ni(n)},$o=Hn?k(Hn):function(n){return qe(n)&&Pe(n.length)&&!!zn[mt(n)]},Fo=Ur(Ut),No=Ur(function(n,t){return n<=t}),Po=jr(function(n,t){if(oe(t)||Me(t))br(t,iu(t),n);else for(var r in t)Bu.call(t,r)&&et(n,r,t[r])}),Zo=jr(function(n,t){br(t,ou(t),n)}),qo=jr(function(n,t,r,e){br(t,ou(t),n,e)}),Vo=jr(function(n,t,r,e){br(t,iu(t),n,e)}),Ko=Zr(ct),Go=Kt(function(n){return n.push(D,$r),r(qo,D,n)}),Ho=Kt(function(n){return n.push(D,Fr),r(nf,D,n)}),Jo=Rr(function(n,t,r){n[t]=r},hu(pu)),Yo=Rr(function(n,t,r){Bu.call(n,t)?n[t].push(r):n[t]=[r]},Hr),Qo=Kt(St),Xo=jr(function(n,t,r){Tt(n,t,r)}),nf=jr(function(n,t,r,e){Tt(n,t,r,e)}),tf=Zr(function(n,t){var r={};if(null==n)return r;var e=!1;t=a(t,function(t){return t=lr(t,n),e||(e=1<t.length),t}),br(n,Vr(n),r),e&&(r=lt(r,7,Nr));for(var u=t.length;u--;)er(r,t[u]);return r}),rf=Zr(function(n,t){return null==n?{}:function(n,t){return Nt(n,t,function(t,r){return uu(n,r)})}(n,t)}),ef=Mr(iu),uf=Mr(ou),of=kr(function(n,t,r){return t=t.toLowerCase(),n+(r?au(t):t)}),ff=kr(function(n,t,r){return n+(r?\"-\":\"\")+t.toLowerCase()}),cf=kr(function(n,t,r){return n+(r?\" \":\"\")+t.toLowerCase()}),af=Ar(\"toLowerCase\"),lf=kr(function(n,t,r){return n+(r?\"_\":\"\")+t.toLowerCase()}),sf=kr(function(n,t,r){return n+(r?\" \":\"\")+pf(t)}),hf=kr(function(n,t,r){return n+(r?\" \":\"\")+t.toUpperCase()}),pf=Ar(\"toUpperCase\"),_f=Kt(function(n,t){try{return r(n,D,t)}catch(n){return $e(n)?n:new wu(n)}}),vf=Zr(function(n,t){return u(t,function(t){t=he(t),ft(n,t,wo(n[t],n))}),n}),gf=Sr(),df=Sr(!0),yf=Kt(function(n,t){return function(r){return St(r,n,t)}}),bf=Kt(function(n,t){return function(r){return St(n,r,t)}}),xf=Wr(a),jf=Wr(i),wf=Wr(p),mf=Lr(),Af=Lr(!0),kf=zr(function(n,t){return n+t},0),Ef=Dr(\"ceil\"),Of=zr(function(n,t){return n/t},1),Sf=Dr(\"floor\"),If=zr(function(n,t){return n*t},1),Rf=Dr(\"round\"),zf=zr(function(n,t){return n-t},0);return mn.after=function(n,t){if(\"function\"!=typeof t)throw new Su(\"Expected a function\");return n=Qe(n),function(){if(1>--n)return t.apply(this,arguments)}},mn.ary=Re,mn.assign=Po,mn.assignIn=Zo,mn.assignInWith=qo,mn.assignWith=Vo,mn.at=Ko,mn.before=ze,mn.bind=wo,mn.bindAll=vf,mn.bindKey=mo,mn.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return Bo(n)?n:[n]},mn.chain=ke,mn.chunk=function(n,t,r){if(t=(r?ee(n,t,r):t===D)?1:ci(Qe(t),0),!(r=null==n?0:n.length)||1>t)return[];for(var e=0,u=0,i=xu(ti(r/t));e<r;)i[u++]=Ht(n,e,e+=t);return i},mn.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},mn.concat=function(){var n=arguments.length;if(!n)return[];for(var t=xu(n-1),r=arguments[0];n--;)t[n-1]=arguments[n];return l(Bo(r)?yr(r):[r],dt(t,1))},mn.cond=function(n){var t=null==n?0:n.length,e=Hr();return n=t?a(n,function(n){if(\"function\"!=typeof n[1])throw new Su(\"Expected a function\");return[e(n[0]),n[1]]}):[],Kt(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})},mn.conforms=function(n){return function(n){var t=iu(n);return function(r){return st(r,n,t)}}(lt(n,1))},mn.constant=hu,mn.countBy=ho,mn.create=function(n,t){var r=Ri(n);return null==t?r:ot(r,t)},mn.curry=We,mn.curryRight=Be,mn.debounce=Le,mn.defaults=Go,mn.defaultsDeep=Ho,mn.defer=Ao,mn.delay=ko,mn.difference=Gi,mn.differenceBy=Hi,mn.differenceWith=Ji,mn.drop=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),Ht(n,0>t?0:t,e)):[]},mn.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),t=e-t,Ht(n,0,0>t?0:t)):[]},mn.dropRightWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!0,!0):[]},mn.dropWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!0):[]},mn.fill=function(n,t,r,e){var u=null==n?0:n.length;if(!u)return[];for(r&&\"number\"!=typeof r&&ee(n,t,r)&&(r=0,e=u),u=n.length,0>(r=Qe(r))&&(r=-r>u?0:u+r),0>(e=e===D||e>u?u:Qe(e))&&(e+=u),e=r>e?0:Xe(e);r<e;)n[r++]=t;return n},mn.filter=function(n,t){return(Bo(n)?o:gt)(n,Hr(t,3))},mn.flatMap=function(n,t){return dt(Ie(n,t),1)},mn.flatMapDeep=function(n,t){return dt(Ie(n,t),M)},mn.flatMapDepth=function(n,t,r){return r=r===D?1:Qe(r),dt(Ie(n,t),r)},mn.flatten=ye,mn.flattenDeep=function(n){return null!=n&&n.length?dt(n,M):[]},mn.flattenDepth=function(n,t){return null!=n&&n.length?(t=t===D?1:Qe(t),dt(n,t)):[]},mn.flip=function(n){return Tr(n,512)},mn.flow=gf,mn.flowRight=df,mn.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},mn.functions=function(n){return null==n?[]:xt(n,iu(n))},mn.functionsIn=function(n){return null==n?[]:xt(n,ou(n))},mn.groupBy=vo,mn.initial=function(n){return null!=n&&n.length?Ht(n,0,-1):[]},mn.intersection=Yi,mn.intersectionBy=Qi,mn.intersectionWith=Xi,mn.invert=Jo,mn.invertBy=Yo,mn.invokeMap=go,mn.iteratee=_u,mn.keyBy=yo,mn.keys=iu,mn.keysIn=ou,mn.map=Ie,mn.mapKeys=function(n,t){var r={};return t=Hr(t,3),yt(n,function(n,e,u){ft(r,t(n,e,u),n)}),r},mn.mapValues=function(n,t){var r={};return t=Hr(t,3),yt(n,function(n,e,u){ft(r,e,t(n,e,u))}),r},mn.matches=function(n){return Dt(lt(n,1))},mn.matchesProperty=function(n,t){return Mt(n,lt(t,1))},mn.memoize=Ue,mn.merge=Xo,mn.mergeWith=nf,mn.method=yf,mn.methodOf=bf,mn.mixin=vu,mn.negate=Ce,mn.nthArg=function(n){return n=Qe(n),Kt(function(t){return $t(t,n)})},mn.omit=tf,mn.omitBy=function(n,t){return fu(n,Ce(Hr(t)))},mn.once=function(n){return ze(2,n)},mn.orderBy=function(n,t,r,e){return null==n?[]:(Bo(t)||(t=null==t?[]:[t]),r=e?D:r,Bo(r)||(r=null==r?[]:[r]),Ft(n,t,r))},mn.over=xf,mn.overArgs=Eo,mn.overEvery=jf,mn.overSome=wf,mn.partial=Oo,mn.partialRight=So,mn.partition=bo,mn.pick=rf,mn.pickBy=fu,mn.property=du,mn.propertyOf=function(n){return function(t){return null==n?D:jt(n,t)}},mn.pull=no,mn.pullAll=je,mn.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?Pt(n,t,Hr(r,2)):n},mn.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?Pt(n,t,D,r):n},mn.pullAt=to,mn.range=mf,mn.rangeRight=Af,mn.rearg=Io,mn.reject=function(n,t){return(Bo(n)?o:gt)(n,Ce(Hr(t,3)))},mn.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=Hr(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Zt(n,u),r},mn.rest=function(n,t){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=t===D?t:Qe(t),Kt(n,t)},mn.reverse=we,mn.sampleSize=function(n,t,r){return t=(r?ee(n,t,r):t===D)?1:Qe(t),(Bo(n)?function(n,t){return se(yr(n),at(t,0,n.length))}:function(n,t){var r=cu(n);return se(r,at(t,0,r.length))})(n,t)},mn.set=function(n,t,r){return null==n?n:Gt(n,t,r)},mn.setWith=function(n,t,r,e){return e=\"function\"==typeof e?e:D,null==n?n:Gt(n,t,r,e)},mn.shuffle=function(n){return(Bo(n)?function(n){return se(yr(n))}:function(n){return se(cu(n))})(n)},mn.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&\"number\"!=typeof r&&ee(n,t,r)?(t=0,r=e):(t=null==t?0:Qe(t),r=r===D?e:Qe(r)),Ht(n,t,r)):[]},mn.sortBy=xo,mn.sortedUniq=function(n){return n&&n.length?Xt(n):[]},mn.sortedUniqBy=function(n,t){return n&&n.length?Xt(n,Hr(t,2)):[]},mn.split=function(n,t,r){return r&&\"number\"!=typeof r&&ee(n,t,r)&&(t=r=D),(r=r===D?4294967295:r>>>0)?(n=ru(n))&&(\"string\"==typeof t||null!=t&&!Mo(t))&&!(t=tr(t))&&Sn.test(n)?sr(C(n),0,r):n.split(t,r):[]},mn.spread=function(n,t){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=null==t?0:ci(Qe(t),0),Kt(function(e){var u=e[t];return e=sr(e,0,t),u&&l(e,u),r(n,this,e)})},mn.tail=function(n){var t=null==n?0:n.length;return t?Ht(n,1,t):[]},mn.take=function(n,t,r){return n&&n.length?(t=r||t===D?1:Qe(t),Ht(n,0,0>t?0:t)):[]},mn.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),t=e-t,Ht(n,0>t?0:t,e)):[]},mn.takeRightWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!1,!0):[]},mn.takeWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3)):[]},mn.tap=function(n,t){return t(n),n},mn.throttle=function(n,t,r){var e=!0,u=!0;if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return Ze(r)&&(e=\"leading\"in r?!!r.leading:e,u=\"trailing\"in r?!!r.trailing:u),Le(n,t,{leading:e,maxWait:t,trailing:u})},mn.thru=Ee,mn.toArray=Je,mn.toPairs=ef,mn.toPairsIn=uf,mn.toPath=function(n){return Bo(n)?a(n,he):He(n)?[n]:yr(Ki(ru(n)))},mn.toPlainObject=tu,mn.transform=function(n,t,r){var e=Bo(n),i=e||Uo(n)||$o(n);if(t=Hr(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:Ze(n)&&Fe(o)?Ri(Zu(n)):{}}return(i?u:yt)(n,function(n,e,u){return t(r,n,e,u)}),r},mn.unary=function(n){return Re(n,1)},mn.union=ro,mn.unionBy=eo,mn.unionWith=uo,mn.uniq=function(n){return n&&n.length?rr(n):[]},mn.uniqBy=function(n,t){return n&&n.length?rr(n,Hr(t,2)):[]},mn.uniqWith=function(n,t){return t=\"function\"==typeof t?t:D,n&&n.length?rr(n,D,t):[]},mn.unset=function(n,t){return null==n||er(n,t)},mn.unzip=me,mn.unzipWith=Ae,mn.update=function(n,t,r){return null==n?n:Gt(n,t,ar(r)(jt(n,t)),void 0)},mn.updateWith=function(n,t,r,e){return e=\"function\"==typeof e?e:D,null!=n&&(n=Gt(n,t,ar(r)(jt(n,t)),e)),n},mn.values=cu,mn.valuesIn=function(n){return null==n?[]:E(n,ou(n))},mn.without=io,mn.words=su,mn.wrap=function(n,t){return Oo(ar(t),n)},mn.xor=oo,mn.xorBy=fo,mn.xorWith=co,mn.zip=ao,mn.zipObject=function(n,t){return fr(n||[],t||[],et)},mn.zipObjectDeep=function(n,t){return fr(n||[],t||[],Gt)},mn.zipWith=lo,mn.entries=ef,mn.entriesIn=uf,mn.extend=Zo,mn.extendWith=qo,vu(mn,mn),mn.add=kf,mn.attempt=_f,mn.camelCase=of,mn.capitalize=au,mn.ceil=Ef,mn.clamp=function(n,t,r){return r===D&&(r=t,t=D),r!==D&&(r=nu(r),r=r==r?r:0),t!==D&&(t=nu(t),t=t==t?t:0),at(nu(n),t,r)},mn.clone=function(n){return lt(n,4)},mn.cloneDeep=function(n){return lt(n,5)},mn.cloneDeepWith=function(n,t){return t=\"function\"==typeof t?t:D,lt(n,5,t)},mn.cloneWith=function(n,t){return t=\"function\"==typeof t?t:D,lt(n,4,t)},mn.conformsTo=function(n,t){return null==t||st(n,t,iu(t))},mn.deburr=lu,mn.defaultTo=function(n,t){return null==n||n!=n?t:n},mn.divide=Of,mn.endsWith=function(n,t,r){n=ru(n),t=tr(t);var e=n.length;e=r=r===D?e:at(Qe(r),0,e);return 0<=(r-=t.length)&&n.slice(r,e)==t},mn.eq=De,mn.escape=function(n){return(n=ru(n))&&K.test(n)?n.replace(q,Qn):n},mn.escapeRegExp=function(n){return(n=ru(n))&&rn.test(n)?n.replace(tn,\"\\\\$&\"):n},mn.every=function(n,t,r){var e=Bo(n)?i:_t;return r&&ee(n,t,r)&&(t=D),e(n,Hr(t,3))},mn.find=po,mn.findIndex=ge,mn.findKey=function(n,t){return _(n,Hr(t,3),yt)},mn.findLast=_o,mn.findLastIndex=de,mn.findLastKey=function(n,t){return _(n,Hr(t,3),bt)},mn.floor=Sf,mn.forEach=Oe,mn.forEachRight=Se,mn.forIn=function(n,t){return null==n?n:Bi(n,Hr(t,3),ou)},mn.forInRight=function(n,t){return null==n?n:Li(n,Hr(t,3),ou)},mn.forOwn=function(n,t){return n&&yt(n,Hr(t,3))},mn.forOwnRight=function(n,t){return n&&bt(n,Hr(t,3))},mn.get=eu,mn.gt=Ro,mn.gte=zo,mn.has=function(n,t){return null!=n&&Xr(n,t,kt)},mn.hasIn=uu,mn.head=be,mn.identity=pu,mn.includes=function(n,t,r,e){return n=Me(n)?n:cu(n),r=r&&!e?Qe(r):0,e=n.length,0>r&&(r=ci(e+r,0)),Ge(n)?r<=e&&-1<n.indexOf(t,r):!!e&&-1<g(n,t,r)},mn.indexOf=function(n,t,r){var e=null==n?0:n.length;return e?(0>(r=null==r?0:Qe(r))&&(r=ci(e+r,0)),g(n,t,r)):-1},mn.inRange=function(n,t,r){return t=Ye(t),r===D?(r=t,t=0):r=Ye(r),(n=nu(n))>=ai(t,r)&&n<ci(t,r)},mn.invoke=Qo,mn.isArguments=Wo,mn.isArray=Bo,mn.isArrayBuffer=Lo,mn.isArrayLike=Me,mn.isArrayLikeObject=Te,mn.isBoolean=function(n){return!0===n||!1===n||qe(n)&&\"[object Boolean]\"==mt(n)},mn.isBuffer=Uo,mn.isDate=Co,mn.isElement=function(n){return qe(n)&&1===n.nodeType&&!Ke(n)},mn.isEmpty=function(n){if(null==n)return!0;if(Me(n)&&(Bo(n)||\"string\"==typeof n||\"function\"==typeof n.splice||Uo(n)||$o(n)||Wo(n)))return!n.length;var t=Ni(n);if(\"[object Map]\"==t||\"[object Set]\"==t)return!n.size;if(oe(n))return!Lt(n).length;for(var r in n)if(Bu.call(n,r))return!1;return!0},mn.isEqual=function(n,t){return Rt(n,t)},mn.isEqualWith=function(n,t,r){var e=(r=\"function\"==typeof r?r:D)?r(n,t):D;return e===D?Rt(n,t,D,r):!!e},mn.isError=$e,mn.isFinite=function(n){return\"number\"==typeof n&&ii(n)},mn.isFunction=Fe,mn.isInteger=Ne,mn.isLength=Pe,mn.isMap=Do,mn.isMatch=function(n,t){return n===t||zt(n,t,Yr(t))},mn.isMatchWith=function(n,t,r){return r=\"function\"==typeof r?r:D,zt(n,t,Yr(t),r)},mn.isNaN=function(n){return Ve(n)&&n!=+n},mn.isNative=function(n){if(Pi(n))throw new wu(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return Wt(n)},mn.isNil=function(n){return null==n},mn.isNull=function(n){return null===n},mn.isNumber=Ve,mn.isObject=Ze,mn.isObjectLike=qe,mn.isPlainObject=Ke,mn.isRegExp=Mo,mn.isSafeInteger=function(n){return Ne(n)&&-9007199254740991<=n&&9007199254740991>=n},mn.isSet=To,mn.isString=Ge,mn.isSymbol=He,mn.isTypedArray=$o,mn.isUndefined=function(n){return n===D},mn.isWeakMap=function(n){return qe(n)&&\"[object WeakMap]\"==Ni(n)},mn.isWeakSet=function(n){return qe(n)&&\"[object WeakSet]\"==mt(n)},mn.join=function(n,t){return null==n?\"\":oi.call(n,t)},mn.kebabCase=ff,mn.last=xe,mn.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;if(r!==D&&(u=Qe(r),u=0>u?ci(e+u,0):ai(u,e-1)),t==t){for(r=u+1;r--&&n[r]!==t;);n=r}else n=v(n,y,u,!0);return n},mn.lowerCase=cf,mn.lowerFirst=af,mn.lt=Fo,mn.lte=No,mn.max=function(n){return n&&n.length?vt(n,pu,At):D},mn.maxBy=function(n,t){return n&&n.length?vt(n,Hr(t,2),At):D},mn.mean=function(n){return b(n,pu)},mn.meanBy=function(n,t){return b(n,Hr(t,2))},mn.min=function(n){return n&&n.length?vt(n,pu,Ut):D},mn.minBy=function(n,t){return n&&n.length?vt(n,Hr(t,2),Ut):D},mn.stubArray=yu,mn.stubFalse=bu,mn.stubObject=function(){return{}},mn.stubString=function(){return\"\"},mn.stubTrue=function(){return!0},mn.multiply=If,mn.nth=function(n,t){return n&&n.length?$t(n,Qe(t)):D},mn.noConflict=function(){return Tn._===this&&(Tn._=Mu),this},mn.noop=gu,mn.now=jo,mn.pad=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return!t||e>=t?n:(t=(t-e)/2,Br(ri(t),r)+n+Br(ti(t),r))},mn.padEnd=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return t&&e<t?n+Br(t-e,r):n},mn.padStart=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return t&&e<t?Br(t-e,r)+n:n},mn.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),si(ru(n).replace(un,\"\"),t||0)},mn.random=function(n,t,r){if(r&&\"boolean\"!=typeof r&&ee(n,t,r)&&(t=r=D),r===D&&(\"boolean\"==typeof t?(r=t,t=D):\"boolean\"==typeof n&&(r=n,n=D)),n===D&&t===D?(n=0,t=1):(n=Ye(n),t===D?(t=n,n=0):t=Ye(t)),n>t){var e=n;n=t,t=e}return r||n%1||t%1?(r=hi(),ai(n+r*(t-n+Un(\"1e-\"+((r+\"\").length-1))),t)):qt(n,t)},mn.reduce=function(n,t,r){var e=Bo(n)?s:w,u=3>arguments.length;return e(n,Hr(t,4),r,u,zi)},mn.reduceRight=function(n,t,r){var e=Bo(n)?h:w,u=3>arguments.length;return e(n,Hr(t,4),r,u,Wi)},mn.repeat=function(n,t,r){return t=(r?ee(n,t,r):t===D)?1:Qe(t),Vt(ru(n),t)},mn.replace=function(){var n=arguments,t=ru(n[0]);return 3>n.length?t:t.replace(n[1],n[2])},mn.result=function(n,t,r){var e=-1,u=(t=lr(t,n)).length;for(u||(u=1,n=D);++e<u;){var i=null==n?D:n[he(t[e])];i===D&&(e=u,i=r),n=Fe(i)?i.call(n):i}return n},mn.round=Rf,mn.runInContext=j,mn.sample=function(n){return(Bo(n)?tt:function(n){return tt(cu(n))})(n)},mn.size=function(n){if(null==n)return 0;if(Me(n))return Ge(n)?U(n):n.length;var t=Ni(n);return\"[object Map]\"==t||\"[object Set]\"==t?n.size:Lt(n).length},mn.snakeCase=lf,mn.some=function(n,t,r){var e=Bo(n)?p:Jt;return r&&ee(n,t,r)&&(t=D),e(n,Hr(t,3))},mn.sortedIndex=function(n,t){return Yt(n,t)},mn.sortedIndexBy=function(n,t,r){return Qt(n,t,Hr(r,2))},mn.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=Yt(n,t);if(e<r&&De(n[e],t))return e}return-1},mn.sortedLastIndex=function(n,t){return Yt(n,t,!0)},mn.sortedLastIndexBy=function(n,t,r){return Qt(n,t,Hr(r,2),!0)},mn.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=Yt(n,t,!0)-1;if(De(n[r],t))return r}return-1},mn.startCase=sf,mn.startsWith=function(n,t,r){return n=ru(n),r=null==r?0:at(Qe(r),0,n.length),t=tr(t),n.slice(r,r+t.length)==t},mn.subtract=zf,mn.sum=function(n){return n&&n.length?m(n,pu):0},mn.sumBy=function(n,t){return n&&n.length?m(n,Hr(t,2)):0},mn.template=function(n,t,r){var e=mn.templateSettings;r&&ee(n,t,r)&&(t=D),n=ru(n),t=qo({},t,e,$r);var u,i,o=iu(r=qo({},t.imports,e.imports,$r)),f=E(r,o),c=0;r=t.interpolate||xn;var a=\"__p+='\";r=Eu((t.escape||xn).source+\"|\"+r.source+\"|\"+(r===J?hn:xn).source+\"|\"+(t.evaluate||xn).source+\"|$\",\"g\");var l=\"sourceURL\"in t?\"//# sourceURL=\"+t.sourceURL+\"\\n\":\"\";if(n.replace(r,function(t,r,e,o,f,l){return e||(e=o),a+=n.slice(c,l).replace(jn,R),r&&(u=!0,a+=\"'+__e(\"+r+\")+'\"),f&&(i=!0,a+=\"';\"+f+\";\\n__p+='\"),e&&(a+=\"'+((__t=(\"+e+\"))==null?'':__t)+'\"),c=l+t.length,t}),a+=\"';\",(t=t.variable)||(a=\"with(obj){\"+a+\"}\"),a=(i?a.replace(F,\"\"):a).replace(N,\"$1\").replace(P,\"$1;\"),a=\"function(\"+(t||\"obj\")+\"){\"+(t?\"\":\"obj||(obj={});\")+\"var __t,__p=''\"+(u?\",__e=_.escape\":\"\")+(i?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+a+\"return __p}\",t=_f(function(){return mu(o,l+\"return \"+a).apply(D,f)}),t.source=a,$e(t))throw t;return t},mn.times=function(n,t){if(1>(n=Qe(n))||9007199254740991<n)return[];var r=4294967295,e=ai(n,4294967295);for(n-=4294967295,e=A(e,t=Hr(t));++r<n;)t(r);return e},mn.toFinite=Ye,mn.toInteger=Qe,mn.toLength=Xe,mn.toLower=function(n){return ru(n).toLowerCase()},mn.toNumber=nu,mn.toSafeInteger=function(n){return n?at(Qe(n),-9007199254740991,9007199254740991):0===n?n:0},mn.toString=ru,mn.toUpper=function(n){return ru(n).toUpperCase()},mn.trim=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(en,\"\"):n&&(t=tr(t))?(n=C(n),r=C(t),t=S(n,r),r=I(n,r)+1,sr(n,t,r).join(\"\")):n},mn.trimEnd=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(on,\"\"):n&&(t=tr(t))?(n=C(n),t=I(n,C(t))+1,sr(n,0,t).join(\"\")):n},mn.trimStart=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(un,\"\"):n&&(t=tr(t))?(n=C(n),t=S(n,C(t)),sr(n,t).join(\"\")):n},mn.truncate=function(n,t){var r=30,e=\"...\";if(Ze(t)){var u=\"separator\"in t?t.separator:u;r=\"length\"in t?Qe(t.length):r,e=\"omission\"in t?tr(t.omission):e}var i=(n=ru(n)).length;if(Sn.test(n)){var o=C(n);i=o.length}if(r>=i)return n;if(1>(i=r-U(e)))return e;if(r=o?sr(o,0,i).join(\"\"):n.slice(0,i),u===D)return r+e;if(o&&(i+=r.length-i),Mo(u)){if(n.slice(i).search(u)){var f=r;for(u.global||(u=Eu(u.source,ru(pn.exec(u))+\"g\")),u.lastIndex=0;o=u.exec(f);)var c=o.index;r=r.slice(0,c===D?i:c)}}else n.indexOf(tr(u),i)!=i&&-1<(u=r.lastIndexOf(u))&&(r=r.slice(0,u));return r+e},mn.unescape=function(n){return(n=ru(n))&&V.test(n)?n.replace(Z,Xn):n},mn.uniqueId=function(n){var t=++Lu;return ru(n)+t},mn.upperCase=hf,mn.upperFirst=pf,mn.each=Oe,mn.eachRight=Se,mn.first=be,vu(mn,function(){var n={};return yt(mn,function(t,r){Bu.call(mn.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),mn.VERSION=\"4.17.4\",u(\"bind bindKey curry curryRight partial partialRight\".split(\" \"),function(n){mn[n].placeholder=mn}),u([\"drop\",\"take\"],function(n,t){Ln.prototype[n]=function(r){r=r===D?1:ci(Qe(r),0);var e=this.__filtered__&&!t?new Ln(this):this.clone();return e.__filtered__?e.__takeCount__=ai(r,e.__takeCount__):e.__views__.push({size:ai(r,4294967295),type:n+(0>e.__dir__?\"Right\":\"\")}),e},Ln.prototype[n+\"Right\"]=function(t){return this.reverse()[n](t).reverse()}}),u([\"filter\",\"map\",\"takeWhile\"],function(n,t){var r=t+1,e=1==r||3==r;Ln.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:Hr(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u([\"head\",\"last\"],function(n,t){var r=\"take\"+(t?\"Right\":\"\");Ln.prototype[n]=function(){return this[r](1).value()[0]}}),u([\"initial\",\"tail\"],function(n,t){var r=\"drop\"+(t?\"\":\"Right\");Ln.prototype[n]=function(){return this.__filtered__?new Ln(this):this[r](1)}}),Ln.prototype.compact=function(){return this.filter(pu)},Ln.prototype.find=function(n){return this.filter(n).head()},Ln.prototype.findLast=function(n){return this.reverse().find(n)},Ln.prototype.invokeMap=Kt(function(n,t){return\"function\"==typeof n?new Ln(this):this.map(function(r){return St(r,n,t)})}),Ln.prototype.reject=function(n){return this.filter(Ce(Hr(n)))},Ln.prototype.slice=function(n,t){n=Qe(n);var r=this;return r.__filtered__&&(0<n||0>t)?new Ln(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==D&&(t=Qe(t),r=0>t?r.dropRight(-t):r.take(t-n)),r)},Ln.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},yt(Ln.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=mn[e?\"take\"+(\"last\"==t?\"Right\":\"\"):t],i=e||/^find/.test(t);u&&(mn.prototype[t]=function(){function t(n){return n=u.apply(mn,l([n],f)),e&&h?n[0]:n}var o=this.__wrapped__,f=e?[1]:arguments,c=o instanceof Ln,a=f[0],s=c||Bo(o);s&&r&&\"function\"==typeof a&&1!=a.length&&(c=s=!1);var h=this.__chain__,p=!!this.__actions__.length;a=i&&!h,c=c&&!p;return!i&&s?(o=c?o:new Ln(this),(o=n.apply(o,f)).__actions__.push({func:Ee,args:[t],thisArg:D}),new Bn(o,h)):a&&c?n.apply(this,f):(o=this.thru(t),a?e?o.value()[0]:o.value():o)})}),u(\"pop push shift sort splice unshift\".split(\" \"),function(n){var t=Iu[n],r=/^(?:push|sort|unshift)$/.test(n)?\"tap\":\"thru\",e=/^(?:pop|shift)$/.test(n);mn.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(Bo(u)?u:[],n)}return this[r](function(r){return t.apply(Bo(r)?r:[],n)})}}),yt(Ln.prototype,function(n,t){var r=mn[t];if(r){var e=r.name+\"\";(ji[e]||(ji[e]=[])).push({name:t,func:r})}}),ji[Ir(D,2).name]=[{name:\"wrapper\",func:D}],Ln.prototype.clone=function(){var n=new Ln(this.__wrapped__);return n.__actions__=yr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=yr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=yr(this.__views__),n},Ln.prototype.reverse=function(){if(this.__filtered__){var n=new Ln(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n},Ln.prototype.value=function(){var n,t=this.__wrapped__.value(),r=this.__dir__,e=Bo(t),u=0>r,i=e?t.length:0;n=i;for(var o=this.__views__,f=0,c=-1,a=o.length;++c<a;){var l=o[c],s=l.size;switch(l.type){case\"drop\":f+=s;break;case\"dropRight\":n-=s;break;case\"take\":n=ai(n,f+s);break;case\"takeRight\":f=ci(f,n-s)}}if(n={start:f,end:n},o=n.start,f=n.end,n=f-o,o=u?f:o-1,f=this.__iteratees__,c=f.length,a=0,l=ai(n,this.__takeCount__),!e||!u&&i==n&&l==n)return ir(t,this.__actions__);e=[];n:for(;n--&&a<l;){for(u=-1,i=t[o+=r];++u<c;){s=(h=f[u]).type;var h=(0,h.iteratee)(i);if(2==s)i=h;else if(!h){if(1==s)continue n;break n}}e[a++]=i}return e},mn.prototype.at=so,mn.prototype.chain=function(){return ke(this)},mn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},mn.prototype.next=function(){this.__values__===D&&(this.__values__=Je(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?D:this.__values__[this.__index__++]}},mn.prototype.plant=function(n){for(var t,r=this;r instanceof En;){var e=ve(r);e.__index__=0,e.__values__=D,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t},mn.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Ln?(this.__actions__.length&&(n=new Ln(this)),(n=n.reverse()).__actions__.push({func:Ee,args:[we],thisArg:D}),new Bn(n,this.__chain__)):this.thru(we)},mn.prototype.toJSON=mn.prototype.valueOf=mn.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},mn.prototype.first=mn.prototype.head,Hu&&(mn.prototype[Hu]=function(){return this}),mn}();\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd?(Tn._=nt,define(function(){return nt})):Fn?((Fn.exports=nt)._=nt,$n._=nt):Tn._=nt}).call(this);","node_modules/moment/moment.js":"!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){\"use strict\";var e;function t(){return e.apply(null,arguments)}function n(e){return e instanceof Array||\"[object Array]\"===Object.prototype.toString.call(e)}function s(e){return null!=e&&\"[object Object]\"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function r(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||\"[object Date]\"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,\"toString\")&&(e.toString=t.toString),u(t,\"valueOf\")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}var c=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function f(e){if(null==e._isValid){var t=h(e),n=c.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}var _=t.momentProperties=[];function y(e,t){var n,s,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=h(t)),i(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)i(r=t[s=_[n]])||(e[s]=r);return e}var g=!1;function v(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,t.updateOffset(this),g=!1)}function p(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&M(e[s])!==M(t[s]))&&a++;return a+r}function k(e){!1===t.suppressDeprecationWarnings&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+e)}function D(e,n){var s=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i=\"\",\"object\"==typeof arguments[a]){i+=\"\\n[\"+a+\"] \";for(var o in arguments[0])i+=o+\": \"+arguments[0][o]+\", \";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}k(e+\"\\nArguments: \"+Array.prototype.slice.call(r).join(\"\")+\"\\n\"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}var Y={};function O(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Y[e]||(k(n),Y[e]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function x(e){return e instanceof Function||\"[object Function]\"===Object.prototype.toString.call(e)}function T(e,t){var n,i=l({},e);for(n in t)u(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&s(e[n])&&(i[n]=l({},i[n]));return i}function b(e){null!=e&&this.set(e)}var P=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var W={};function R(e,t){var n=e.toLowerCase();W[n]=W[n+\"s\"]=W[t]=e}function C(e){return\"string\"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function F(e){var t,n,s={};for(n in e)u(e,n)&&(t=C(n))&&(s[t]=e[n]);return s}var U={};function H(e,t){U[e]=t}function L(e,n){return function(s){return null!=s?(V(this,e,s),t.updateOffset(this,n),this):G(this,e)}}function G(e,t){return e.isValid()?e._d[\"get\"+(e._isUTC?\"UTC\":\"\")+t]():NaN}function V(e,t,n){e.isValid()&&e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n)}function N(e,t,n){var s=\"\"+Math.abs(e),i=t-s.length;return(e>=0?n?\"+\":\"\":\"-\")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var j=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,E={},I={};function Z(e,t,n,s){var i=s;\"string\"==typeof s&&(i=function(){return this[s]()}),e&&(I[e]=i),t&&(I[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,\"\"):e.replace(/\\\\/g,\"\")}function $(e,t){return e.isValid()?(t=q(t,e.localeData()),E[t]=E[t]||function(e){var t,n,s=e.match(j);for(t=0,n=s.length;t<n;t++)I[s[t]]?s[t]=I[s[t]]:s[t]=z(s[t]);return function(t){var i,r=\"\";for(i=0;i<n;i++)r+=x(s[i])?s[i].call(t,e):s[i];return r}}(t),E[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,s),A.lastIndex=0,n-=1;return e}var J=/\\d/,B=/\\d\\d/,Q=/\\d{3}/,X=/\\d{4}/,K=/[+-]?\\d{6}/,ee=/\\d\\d?/,te=/\\d\\d\\d\\d?/,ne=/\\d\\d\\d\\d\\d\\d?/,se=/\\d{1,3}/,ie=/\\d{1,4}/,re=/[+-]?\\d{1,6}/,ae=/\\d+/,oe=/[+-]?\\d+/,ue=/Z|[+-]\\d\\d:?\\d\\d/gi,le=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,de=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,he={};function ce(e,t,n){he[e]=x(t)?t:function(e,s){return e&&n?n:t}}function fe(e,t){return u(he,e)?he[e](t._strict,t._locale):new RegExp(function(e){return me(e.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}(e))}function me(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}var _e={};function ye(e,t){var n,s=t;for(\"string\"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)_e[e[n]]=s}function ge(e,t){ye(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function ve(e,t,n){null!=t&&u(_e,e)&&_e[e](t,n._a,n,e)}var pe=0,we=1,Me=2,Se=3,ke=4,De=5,Ye=6,Oe=7,xe=8,Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function be(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}Z(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),Z(\"MMM\",0,0,function(e){return this.localeData().monthsShort(this,e)}),Z(\"MMMM\",0,0,function(e){return this.localeData().months(this,e)}),R(\"month\",\"M\"),H(\"month\",8),ce(\"M\",ee),ce(\"MM\",ee,B),ce(\"MMM\",function(e,t){return t.monthsShortRegex(e)}),ce(\"MMMM\",function(e,t){return t.monthsRegex(e)}),ye([\"M\",\"MM\"],function(e,t){t[we]=M(e)-1}),ye([\"MMM\",\"MMMM\"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[we]=i:h(n).invalidMonth=e});var Pe=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,We=\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\");var Re=\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\");function Ce(e,t){var n;if(!e.isValid())return e;if(\"string\"==typeof t)if(/^\\d+$/.test(t))t=M(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),be(e.year(),t)),e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+\"Month\"](t,n),e}function Fe(e){return null!=e?(Ce(this,e),t.updateOffset(this,!0),this):G(this,\"Month\")}var Ue=de;var He=de;function Le(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,\"\")),i.push(this.months(n,\"\")),r.push(this.months(n,\"\")),r.push(this.monthsShort(n,\"\"));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=me(s[t]),i[t]=me(i[t]);for(t=0;t<24;t++)r[t]=me(r[t]);this._monthsRegex=new RegExp(\"^(\"+r.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+s.join(\"|\")+\")\",\"i\")}Z(\"Y\",0,0,function(){var e=this.year();return e<=9999?\"\"+e:\"+\"+e}),Z(0,[\"YY\",2],0,function(){return this.year()%100}),Z(0,[\"YYYY\",4],0,\"year\"),Z(0,[\"YYYYY\",5],0,\"year\"),Z(0,[\"YYYYYY\",6,!0],0,\"year\"),R(\"year\",\"y\"),H(\"year\",1),ce(\"Y\",oe),ce(\"YY\",ee,B),ce(\"YYYY\",ie,X),ce(\"YYYYY\",re,K),ce(\"YYYYYY\",re,K),ye([\"YYYYY\",\"YYYYYY\"],pe),ye(\"YYYY\",function(e,n){n[pe]=2===e.length?t.parseTwoDigitYear(e):M(e)}),ye(\"YY\",function(e,n){n[pe]=t.parseTwoDigitYear(e)}),ye(\"Y\",function(e,t){t[pe]=parseInt(e,10)});function Ge(e){return Ve(e)?366:365}function Ve(e){return e%4==0&&e%100!=0||e%400==0}t.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Ne=L(\"FullYear\",!0);function je(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ae(e,t,n){var s=7+t-n;return-((7+je(e,0,s).getUTCDay()-t)%7)+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ae(e,s,i);return o<=0?a=Ge(r=e-1)+o:o>Ge(e)?(r=e+1,a=o-Ge(e)):(r=e,a=o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ae(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ze(i=e.year()-1,t,n):a>Ze(e.year(),t,n)?(s=a-Ze(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ze(e,t,n){var s=Ae(e,t,n),i=Ae(e+1,t,n);return(Ge(e)-s+i)/7}Z(\"w\",[\"ww\",2],\"wo\",\"week\"),Z(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),R(\"week\",\"w\"),R(\"isoWeek\",\"W\"),H(\"week\",5),H(\"isoWeek\",5),ce(\"w\",ee),ce(\"ww\",ee,B),ce(\"W\",ee),ce(\"WW\",ee,B),ge([\"w\",\"ww\",\"W\",\"WW\"],function(e,t,n,s){t[s.substr(0,1)]=M(e)});Z(\"d\",0,\"do\",\"day\"),Z(\"dd\",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Z(\"ddd\",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Z(\"dddd\",0,0,function(e){return this.localeData().weekdays(this,e)}),Z(\"e\",0,0,\"weekday\"),Z(\"E\",0,0,\"isoWeekday\"),R(\"day\",\"d\"),R(\"weekday\",\"e\"),R(\"isoWeekday\",\"E\"),H(\"day\",11),H(\"weekday\",11),H(\"isoWeekday\",11),ce(\"d\",ee),ce(\"e\",ee),ce(\"E\",ee),ce(\"dd\",function(e,t){return t.weekdaysMinRegex(e)}),ce(\"ddd\",function(e,t){return t.weekdaysShortRegex(e)}),ce(\"dddd\",function(e,t){return t.weekdaysRegex(e)}),ge([\"dd\",\"ddd\",\"dddd\"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),ge([\"d\",\"e\",\"E\"],function(e,t,n,s){t[s]=M(e)});var ze=\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\");var $e=\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\");var qe=\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\");var Je=de;var Be=de;var Qe=de;function Xe(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,\"\"),i=this.weekdaysShort(n,\"\"),r=this.weekdays(n,\"\"),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=me(o[t]),u[t]=me(u[t]),l[t]=me(l[t]);this._weekdaysRegex=new RegExp(\"^(\"+l.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+u.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+o.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+a.join(\"|\")+\")\",\"i\")}function Ke(){return this.hours()%12||12}Z(\"H\",[\"HH\",2],0,\"hour\"),Z(\"h\",[\"hh\",2],0,Ke),Z(\"k\",[\"kk\",2],0,function(){return this.hours()||24}),Z(\"hmm\",0,0,function(){return\"\"+Ke.apply(this)+N(this.minutes(),2)}),Z(\"hmmss\",0,0,function(){return\"\"+Ke.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),Z(\"Hmm\",0,0,function(){return\"\"+this.hours()+N(this.minutes(),2)}),Z(\"Hmmss\",0,0,function(){return\"\"+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)});function et(e,t){Z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}et(\"a\",!0),et(\"A\",!1),R(\"hour\",\"h\"),H(\"hour\",13);function tt(e,t){return t._meridiemParse}ce(\"a\",tt),ce(\"A\",tt),ce(\"H\",ee),ce(\"h\",ee),ce(\"k\",ee),ce(\"HH\",ee,B),ce(\"hh\",ee,B),ce(\"kk\",ee,B),ce(\"hmm\",te),ce(\"hmmss\",ne),ce(\"Hmm\",te),ce(\"Hmmss\",ne),ye([\"H\",\"HH\"],Se),ye([\"k\",\"kk\"],function(e,t,n){var s=M(e);t[Se]=24===s?0:s}),ye([\"a\",\"A\"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ye([\"h\",\"hh\"],function(e,t,n){t[Se]=M(e),h(n).bigHour=!0}),ye(\"hmm\",function(e,t,n){var s=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s)),h(n).bigHour=!0}),ye(\"hmmss\",function(e,t,n){var s=e.length-4,i=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s,2)),t[De]=M(e.substr(i)),h(n).bigHour=!0}),ye(\"Hmm\",function(e,t,n){var s=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s))}),ye(\"Hmmss\",function(e,t,n){var s=e.length-4,i=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s,2)),t[De]=M(e.substr(i))});var nt,st=L(\"Hours\",!0),it={calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},invalidDate:\"Invalid date\",ordinal:\"%d\",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",ss:\"%d seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},months:We,monthsShort:Re,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:qe,weekdaysShort:$e,meridiemParse:/[ap]\\.?m?\\.?/i},rt={},at={};function ot(e){return e?e.toLowerCase().replace(\"_\",\"-\"):e}function ut(e){var t=null;if(!rt[e]&&\"undefined\"!=typeof module&&module&&module.exports)try{t=nt._abbr,require(\"./locale/\"+e),lt(t)}catch(e){}return rt[e]}function lt(e,t){var n;return e&&(n=i(t)?ht(e):dt(e,t))&&(nt=n),nt._abbr}function dt(e,t){if(null!==t){var n=it;if(t.abbr=e,null!=rt[e])O(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),n=rt[e]._config;else if(null!=t.parentLocale){if(null==rt[t.parentLocale])return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;n=rt[t.parentLocale]._config}return rt[e]=new b(T(n,t)),at[e]&&at[e].forEach(function(e){dt(e.name,e.config)}),lt(e),rt[e]}return delete rt[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!n(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=ot(e[r]).split(\"-\")).length,n=(n=ot(e[r+1]))?n.split(\"-\"):null;t>0;){if(s=ut(i.slice(0,t).join(\"-\")))return s;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}r++}return null}(e)}function ct(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[we]<0||n[we]>11?we:n[Me]<1||n[Me]>be(n[pe],n[we])?Me:n[Se]<0||n[Se]>24||24===n[Se]&&(0!==n[ke]||0!==n[De]||0!==n[Ye])?Se:n[ke]<0||n[ke]>59?ke:n[De]<0||n[De]>59?De:n[Ye]<0||n[Ye]>999?Ye:-1,h(e)._overflowDayOfYear&&(t<pe||t>Me)&&(t=Me),h(e)._overflowWeeks&&-1===t&&(t=Oe),h(e)._overflowWeekday&&-1===t&&(t=xe),h(e).overflow=t),e}var ft=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,mt=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,_t=/Z|[+-]\\d\\d(?::?\\d\\d)?/,yt=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],gt=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],vt=/^\\/?Date\\((\\-?\\d+)/i;function pt(e){var t,n,s,i,r,a,o=e._i,u=ft.exec(o)||mt.exec(o);if(u){for(h(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[1])){i=yt[t][0],s=!1!==yt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[3])){r=(u[2]||\" \")+gt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_t.exec(u[4]))return void(e._isValid=!1);a=\"Z\"}e._f=i+(r||\"\")+(a||\"\"),Dt(e)}else e._isValid=!1}var wt=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;function Mt(e){var t,n,s,i,r,a,o,u,l={\" GMT\":\" +0000\",\" EDT\":\" -0400\",\" EST\":\" -0500\",\" CDT\":\" -0500\",\" CST\":\" -0600\",\" MDT\":\" -0600\",\" MST\":\" -0700\",\" PDT\":\" -0700\",\" PST\":\" -0800\"};if(t=e._i.replace(/\\([^\\)]*\\)|[\\n\\t]/g,\" \").replace(/(\\s\\s+)/g,\" \").replace(/^\\s|\\s$/g,\"\"),n=wt.exec(t)){if(s=n[1]?\"ddd\"+(5===n[1].length?\", \":\" \"):\"\",i=\"D MMM \"+(n[2].length>10?\"YYYY \":\"YY \"),r=\"HH:mm\"+(n[4]?\":ss\":\"\"),n[1]){var d=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==d)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:o=0===u?\" +0000\":((u=\"YXWVUTSRQPONZABCDEFGHIKLM\".indexOf(n[5][1].toUpperCase())-12)<0?\" -\":\" +\")+(\"\"+u).replace(/^-?/,\"0\").match(/..$/)[0]+\"00\";break;case 4:o=l[n[5]];break;default:o=l[\" GMT\"]}n[5]=o,e._i=n.splice(1).join(\"\"),a=\" ZZ\",e._f=s+i+r+a,Dt(e),h(e).rfc2822=!0}else e._isValid=!1}t.createFromInputFallback=D(\"value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",function(e){e._d=new Date(e._i+(e._useUTC?\" UTC\":\"\"))});function St(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var n,s,i,r,a=[];if(!e._d){for(i=function(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(e),e._w&&null==e._a[Me]&&null==e._a[we]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=St(t.GG,e._a[pe],Ie(xt(),1,4).year),s=St(t.W,1),((i=St(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(xt(),r,a);n=St(t.gg,e._a[pe],l.year),s=St(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>Ze(n,r,a)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[pe]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=St(e._a[pe],i[pe]),(e._dayOfYear>Ge(r)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),s=je(r,0,e._dayOfYear),e._a[we]=s.getUTCMonth(),e._a[Me]=s.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;n<7;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Se]&&0===e._a[ke]&&0===e._a[De]&&0===e._a[Ye]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?je:function(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24)}}t.ISO_8601=function(){},t.RFC_2822=function(){};function Dt(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],h(e).empty=!0;var n,s,i,r,a,o=\"\"+e._i,u=o.length,l=0;for(i=q(e._f,e._locale).match(j)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(fe(r,e))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&h(e).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),I[r]?(s?h(e).empty=!1:h(e).unusedTokens.push(r),ve(r,s,e)):e._strict&&!s&&h(e).unusedTokens.push(r);h(e).charsLeftOver=u-l,o.length>0&&h(e).unusedInput.push(o),e._a[Se]<=12&&!0===h(e).bigHour&&e._a[Se]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Se]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}(e._locale,e._a[Se],e._meridiem),kt(e),ct(e)}else Mt(e);else pt(e)}function Yt(e){var u=e._i,d=e._f;return e._locale=e._locale||ht(e._l),null===u||void 0===d&&\"\"===u?m({nullInput:!0}):(\"string\"==typeof u&&(e._i=u=e._locale.preparse(u)),p(u)?new v(ct(u)):(a(u)?e._d=u:n(d)?function(e){var t,n,s,i,r;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Dt(t),f(t)&&(r+=h(t).charsLeftOver,r+=10*h(t).unusedTokens.length,h(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}(e):d?Dt(e):function(e){var u=e._i;i(u)?e._d=new Date(t.now()):a(u)?e._d=new Date(u.valueOf()):\"string\"==typeof u?function(e){var n=vt.exec(e._i);null===n?(pt(e),!1===e._isValid&&(delete e._isValid,Mt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}(e):n(u)?(e._a=o(u.slice(0),function(e){return parseInt(e,10)}),kt(e)):s(u)?function(e){if(!e._d){var t=F(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),kt(e)}}(e):r(u)?e._d=new Date(u):t.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Ot(e,t,i,r,a){var o={};return!0!==i&&!1!==i||(r=i,i=void 0),(s(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=i,o._i=e,o._f=t,o._strict=r,function(e){var t=new v(ct(Yt(e)));return t._nextDay&&(t.add(1,\"d\"),t._nextDay=void 0),t}(o)}function xt(e,t,n,s){return Ot(e,t,n,s,!1)}var Tt=D(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),bt=D(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()});function Pt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return xt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}var Wt=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"];function Rt(e){var t=F(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Wt.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Wt.length;++s)if(e[Wt[s]]){if(n)return!1;parseFloat(e[Wt[s]])!==M(e[Wt[s]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble()}function Ct(e){return e instanceof Rt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){Z(e,0,0,function(){var e=this.utcOffset(),n=\"+\";return e<0&&(e=-e,n=\"-\"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}Ut(\"Z\",\":\"),Ut(\"ZZ\",\"\"),ce(\"Z\",le),ce(\"ZZ\",le),ye([\"Z\",\"ZZ\"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(le,e)});var Ht=/([\\+\\-]|\\d\\d)/gi;function Lt(e,t){var n=(t||\"\").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+\"\").match(Ht)||[\"-\",0,0],i=60*s[1]+M(s[2]);return 0===i?0:\"+\"===s[0]?i:-i}function Gt(e,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(e)||a(e)?e.valueOf():xt(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),t.updateOffset(s,!1),s):xt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}t.updateOffset=function(){};function Nt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}var jt=/^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,At=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Et(e,t){var n,s,i,a=e,o=null;return Ct(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=jt.exec(e))?(n=\"-\"===o[1]?-1:1,a={y:0,d:M(o[Me])*n,h:M(o[Se])*n,m:M(o[ke])*n,s:M(o[De])*n,ms:M(Ft(1e3*o[Ye]))*n}):(o=At.exec(e))?(n=\"-\"===o[1]?-1:1,a={y:It(o[2],n),M:It(o[3],n),w:It(o[4],n),d:It(o[5],n),h:It(o[6],n),m:It(o[7],n),s:It(o[8],n)}):null==a?a={}:\"object\"==typeof a&&(\"from\"in a||\"to\"in a)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=Zt(e,t):((n=Zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(xt(a.from),xt(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),s=new Rt(a),Ct(e)&&u(e,\"_locale\")&&(s._locale=e._locale),s}Et.fn=Rt.prototype,Et.invalid=function(){return Et(NaN)};function It(e,t){var n=e&&parseFloat(e.replace(\",\",\".\"));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,\"M\").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,\"M\"),n}function zt(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(O(t,\"moment().\"+t+\"(period, number) is deprecated. Please use moment().\"+t+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),r=n,n=s,s=r),n=\"string\"==typeof n?+n:n,i=Et(n,s),$t(this,i,e),this}}function $t(e,n,s,i){var r=n._milliseconds,a=Ft(n._days),o=Ft(n._months);e.isValid()&&(i=null==i||i,r&&e._d.setTime(e._d.valueOf()+r*s),a&&V(e,\"Date\",G(e,\"Date\")+a*s),o&&Ce(e,G(e,\"Month\")+o*s),i&&t.updateOffset(e,a||o))}var qt=zt(1,\"add\"),Jt=zt(-1,\"subtract\");t.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",t.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";function Bt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}var Qt=D(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(e){return void 0===e?this.localeData():this.locale(e)});function Xt(){return this._locale}Z(0,[\"gg\",2],0,function(){return this.weekYear()%100}),Z(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100});function Kt(e,t){Z(0,[e,e.length],0,t)}Kt(\"gggg\",\"weekYear\"),Kt(\"ggggg\",\"weekYear\"),Kt(\"GGGG\",\"isoWeekYear\"),Kt(\"GGGGG\",\"isoWeekYear\"),R(\"weekYear\",\"gg\"),R(\"isoWeekYear\",\"GG\"),H(\"weekYear\",1),H(\"isoWeekYear\",1),ce(\"G\",oe),ce(\"g\",oe),ce(\"GG\",ee,B),ce(\"gg\",ee,B),ce(\"GGGG\",ie,X),ce(\"gggg\",ie,X),ce(\"GGGGG\",re,K),ce(\"ggggg\",re,K),ge([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(e,t,n,s){t[s.substr(0,2)]=M(e)}),ge([\"gg\",\"GG\"],function(e,n,s,i){n[i]=t.parseTwoDigitYear(e)});function en(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:(r=Ze(e,s,i),t>r&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=je(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}Z(\"Q\",0,\"Qo\",\"quarter\"),R(\"quarter\",\"Q\"),H(\"quarter\",7),ce(\"Q\",J),ye(\"Q\",function(e,t){t[we]=3*(M(e)-1)});Z(\"D\",[\"DD\",2],\"Do\",\"date\"),R(\"date\",\"D\"),H(\"date\",9),ce(\"D\",ee),ce(\"DD\",ee,B),ce(\"Do\",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ye([\"D\",\"DD\"],Me),ye(\"Do\",function(e,t){t[Me]=M(e.match(ee)[0])});var tn=L(\"Date\",!0);Z(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),R(\"dayOfYear\",\"DDD\"),H(\"dayOfYear\",4),ce(\"DDD\",se),ce(\"DDDD\",Q),ye([\"DDD\",\"DDDD\"],function(e,t,n){n._dayOfYear=M(e)});Z(\"m\",[\"mm\",2],0,\"minute\"),R(\"minute\",\"m\"),H(\"minute\",14),ce(\"m\",ee),ce(\"mm\",ee,B),ye([\"m\",\"mm\"],ke);var nn=L(\"Minutes\",!1);Z(\"s\",[\"ss\",2],0,\"second\"),R(\"second\",\"s\"),H(\"second\",15),ce(\"s\",ee),ce(\"ss\",ee,B),ye([\"s\",\"ss\"],De);var sn=L(\"Seconds\",!1);Z(\"S\",0,0,function(){return~~(this.millisecond()/100)}),Z(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),Z(0,[\"SSS\",3],0,\"millisecond\"),Z(0,[\"SSSS\",4],0,function(){return 10*this.millisecond()}),Z(0,[\"SSSSS\",5],0,function(){return 100*this.millisecond()}),Z(0,[\"SSSSSS\",6],0,function(){return 1e3*this.millisecond()}),Z(0,[\"SSSSSSS\",7],0,function(){return 1e4*this.millisecond()}),Z(0,[\"SSSSSSSS\",8],0,function(){return 1e5*this.millisecond()}),Z(0,[\"SSSSSSSSS\",9],0,function(){return 1e6*this.millisecond()}),R(\"millisecond\",\"ms\"),H(\"millisecond\",16),ce(\"S\",se,J),ce(\"SS\",se,B),ce(\"SSS\",se,Q);var rn;for(rn=\"SSSS\";rn.length<=9;rn+=\"S\")ce(rn,ae);function an(e,t){t[Ye]=M(1e3*(\"0.\"+e))}for(rn=\"S\";rn.length<=9;rn+=\"S\")ye(rn,an);var on=L(\"Milliseconds\",!1);Z(\"z\",0,0,\"zoneAbbr\"),Z(\"zz\",0,0,\"zoneName\");var un=v.prototype;un.add=qt,un.calendar=function(e,n){var s=e||xt(),i=Gt(s,this).startOf(\"day\"),r=t.calendarFormat(this,i)||\"sameElse\",a=n&&(x(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,xt(s)))},un.clone=function(){return new v(this)},un.diff=function(e,t,n){var s,i,r,a;return this.isValid()&&(s=Gt(e,this)).isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),\"year\"===(t=C(t))||\"month\"===t||\"quarter\"===t?(a=function(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,\"months\");return t-r<0?(n=e.clone().add(i-1,\"months\"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,\"months\"),s=(t-r)/(n-r)),-(i+s)||0}(this,s),\"quarter\"===t?a/=3:\"year\"===t&&(a/=12)):(r=this-s,a=\"second\"===t?r/1e3:\"minute\"===t?r/6e4:\"hour\"===t?r/36e5:\"day\"===t?(r-i)/864e5:\"week\"===t?(r-i)/6048e5:r),n?a:w(a)):NaN},un.endOf=function(e){return void 0===(e=C(e))||\"millisecond\"===e?this:(\"date\"===e&&(e=\"day\"),this.startOf(e).add(1,\"isoWeek\"===e?\"week\":e).subtract(1,\"ms\"))},un.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=$(this,e);return this.localeData().postformat(n)},un.from=function(e,t){return this.isValid()&&(p(e)&&e.isValid()||xt(e).isValid())?Et({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(xt(),e)},un.to=function(e,t){return this.isValid()&&(p(e)&&e.isValid()||xt(e).isValid())?Et({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(xt(),e)},un.get=function(e){return e=C(e),x(this[e])?this[e]():this},un.invalidAt=function(){return h(this).overflow},un.isAfter=function(e,t){var n=p(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=C(i(t)?\"millisecond\":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=p(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=C(i(t)?\"millisecond\":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,s){return(\"(\"===(s=s||\"()\")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(\")\"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},un.isSame=function(e,t){var n,s=p(e)?e:xt(e);return!(!this.isValid()||!s.isValid())&&(\"millisecond\"===(t=C(t||\"millisecond\"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return f(this)},un.lang=Qt,un.locale=Bt,un.localeData=Xt,un.max=bt,un.min=Tt,un.parsingFlags=function(){return l({},h(this))},un.set=function(e,t){if(\"object\"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=F(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=C(e),x(this[e]))return this[e](t);return this},un.startOf=function(e){switch(e=C(e)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":case\"date\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===e&&this.weekday(0),\"isoWeek\"===e&&this.isoWeekday(1),\"quarter\"===e&&this.month(3*Math.floor(this.month()/3)),this},un.subtract=Jt,un.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},un.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?$(e,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):x(Date.prototype.toISOString)?this.toDate().toISOString():$(e,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},un.inspect=function(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var e=\"moment\",t=\"\";this.isLocal()||(e=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",t=\"Z\");var n=\"[\"+e+'(\"]',s=0<=this.year()&&this.year()<=9999?\"YYYY\":\"YYYYYY\",i=t+'[\")]';return this.format(n+s+\"-MM-DD[T]HH:mm:ss.SSS\"+i)},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=Ne,un.isLeapYear=function(){return Ve(this.year())},un.weekYear=function(e){return en.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return en.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Fe,un.daysInMonth=function(){return be(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),\"d\")},un.isoWeek=un.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),\"d\")},un.weeksInYear=function(){var e=this.localeData()._week;return Ze(this.year(),e.dow,e.doy)},un.isoWeeksInYear=function(){return Ze(this.year(),1,4)},un.date=tn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return\"string\"!=typeof e?e:isNaN(e)?\"number\"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,\"d\")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,\"d\")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return\"string\"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==e?t:this.add(e-t,\"d\")},un.hour=un.hours=st,un.minute=un.minutes=nn,un.second=un.seconds=sn,un.millisecond=un.milliseconds=on,un.utcOffset=function(e,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if(\"string\"==typeof e){if(null===(e=Lt(le,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&n&&(i=Vt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,\"m\"),r!==e&&(!n||this._changeInProgress?$t(this,Et(e-r,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Vt(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),\"m\")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if(\"string\"==typeof this._i){var e=Lt(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=Nt,un.isUTC=Nt,un.zoneAbbr=function(){return this._isUTC?\"UTC\":\"\"},un.zoneName=function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},un.dates=D(\"dates accessor is deprecated. Use date instead.\",tn),un.months=D(\"months accessor is deprecated. Use month instead\",Fe),un.years=D(\"years accessor is deprecated. Use year instead\",Ne),un.zone=D(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",function(e,t){return null!=e?(\"string\"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),un.isDSTShifted=D(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Yt(e))._a){var t=e._isUTC?d(e._a):xt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});function ln(e){return e}var dn=b.prototype;dn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return x(s)?s.call(t,n):s},dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(e){return this._ordinal.replace(\"%d\",e)},dn.preparse=ln,dn.postformat=ln,dn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return x(i)?i(e,t,n,s):i.replace(/%d/i,e)},dn.pastFuture=function(e,t){var n=this._relativeTime[e>0?\"future\":\"past\"];return x(n)?n(t):n.replace(/%s/i,t)},dn.set=function(e){var t,n;for(n in e)x(t=e[n])?this[n]=t:this[\"_\"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+\"|\"+/\\d{1,2}/.source)},dn.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?\"format\":\"standalone\"][e.month()]:n(this._months)?this._months:this._months.standalone},dn.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?\"format\":\"standalone\"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,\"\").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,\"\").toLocaleLowerCase();return n?\"MMM\"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:\"MMM\"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:-1!==(i=Te.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp(\"^\"+this.months(i,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[s]=new RegExp(\"^\"+this.monthsShort(i,\"\").replace(\".\",\"\")+\"$\",\"i\")),n||this._monthsParse[s]||(r=\"^\"+this.months(i,\"\")+\"|^\"+this.monthsShort(i,\"\"),this._monthsParse[s]=new RegExp(r.replace(\".\",\"\"),\"i\")),n&&\"MMMM\"===t&&this._longMonthsParse[s].test(e))return s;if(n&&\"MMM\"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},dn.monthsRegex=function(e){return this._monthsParseExact?(u(this,\"_monthsRegex\")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,\"_monthsRegex\")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,\"_monthsRegex\")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,\"_monthsShortRegex\")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?\"format\":\"standalone\"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},dn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},dn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},dn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,\"\").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,\"\").toLocaleLowerCase();return n?\"dddd\"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:null:\"ddd\"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:\"dddd\"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:\"ddd\"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp(\"^\"+this.weekdays(i,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._shortWeekdaysParse[s]=new RegExp(\"^\"+this.weekdaysShort(i,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._minWeekdaysParse[s]=new RegExp(\"^\"+this.weekdaysMin(i,\"\").replace(\".\",\".?\")+\"$\",\"i\")),this._weekdaysParse[s]||(r=\"^\"+this.weekdays(i,\"\")+\"|^\"+this.weekdaysShort(i,\"\")+\"|^\"+this.weekdaysMin(i,\"\"),this._weekdaysParse[s]=new RegExp(r.replace(\".\",\"\"),\"i\")),n&&\"dddd\"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&\"ddd\"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&\"dd\"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,\"_weekdaysRegex\")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(e){return\"p\"===(e+\"\").toLowerCase().charAt(0)},dn.meridiem=function(e,t,n){return e>11?n?\"pm\":\"PM\":n?\"am\":\"AM\"};function hn(e,t,n,s){var i=ht(),r=d().set(s,t);return i[n](r,e)}function cn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||\"\",null!=t)return hn(e,t,n,\"month\");var s,i=[];for(s=0;s<12;s++)i[s]=hn(e,s,n,\"month\");return i}function fn(e,t,n,s){\"boolean\"==typeof e?(r(t)&&(n=t,t=void 0),t=t||\"\"):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||\"\");var i=ht(),a=e?i._week.dow:0;if(null!=n)return hn(t,(n+a)%7,s,\"day\");var o,u=[];for(o=0;o<7;o++)u[o]=hn(t,(o+a)%7,s,\"day\");return u}lt(\"en\",{dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?\"th\":1===t?\"st\":2===t?\"nd\":3===t?\"rd\":\"th\")}}),t.lang=D(\"moment.lang is deprecated. Use moment.locale instead.\",lt),t.langData=D(\"moment.langData is deprecated. Use moment.localeData instead.\",ht);var mn=Math.abs;function _n(e,t,n,s){var i=Et(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function gn(e){return 4800*e/146097}function vn(e){return 146097*e/4800}function pn(e){return function(){return this.as(e)}}var wn=pn(\"ms\"),Mn=pn(\"s\"),Sn=pn(\"m\"),kn=pn(\"h\"),Dn=pn(\"d\"),Yn=pn(\"w\"),On=pn(\"M\"),xn=pn(\"y\");function Tn(e){return function(){return this.isValid()?this._data[e]:NaN}}var bn=Tn(\"milliseconds\"),Pn=Tn(\"seconds\"),Wn=Tn(\"minutes\"),Rn=Tn(\"hours\"),Cn=Tn(\"days\"),Fn=Tn(\"months\"),Un=Tn(\"years\");var Hn=Math.round,Ln={ss:44,s:45,m:45,h:22,d:26,M:11};var Gn=Math.abs;function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Gn(this._milliseconds)/1e3,s=Gn(this._days),i=Gn(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var r=w(i/12),a=i%=12,o=s,u=t,l=e,d=n,h=this.asSeconds();return h?(h<0?\"-\":\"\")+\"P\"+(r?r+\"Y\":\"\")+(a?a+\"M\":\"\")+(o?o+\"D\":\"\")+(u||l||d?\"T\":\"\")+(u?u+\"H\":\"\")+(l?l+\"M\":\"\")+(d?d+\"S\":\"\"):\"P0D\"}var Nn=Rt.prototype;return Nn.isValid=function(){return this._isValid},Nn.abs=function(){var e=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),e.milliseconds=mn(e.milliseconds),e.seconds=mn(e.seconds),e.minutes=mn(e.minutes),e.hours=mn(e.hours),e.months=mn(e.months),e.years=mn(e.years),this},Nn.add=function(e,t){return _n(this,e,t,1)},Nn.subtract=function(e,t){return _n(this,e,t,-1)},Nn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(\"month\"===(e=C(e))||\"year\"===e)return t=this._days+s/864e5,n=this._months+gn(t),\"month\"===e?n:n/12;switch(t=this._days+Math.round(vn(this._months)),e){case\"week\":return t/7+s/6048e5;case\"day\":return t+s/864e5;case\"hour\":return 24*t+s/36e5;case\"minute\":return 1440*t+s/6e4;case\"second\":return 86400*t+s/1e3;case\"millisecond\":return Math.floor(864e5*t)+s;default:throw new Error(\"Unknown unit \"+e)}},Nn.asMilliseconds=wn,Nn.asSeconds=Mn,Nn.asMinutes=Sn,Nn.asHours=kn,Nn.asDays=Dn,Nn.asWeeks=Yn,Nn.asMonths=On,Nn.asYears=xn,Nn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Nn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*yn(vn(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(gn(a)),o+=i,a-=yn(vn(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},Nn.get=function(e){return e=C(e),this.isValid()?this[e+\"s\"]():NaN},Nn.milliseconds=bn,Nn.seconds=Pn,Nn.minutes=Wn,Nn.hours=Rn,Nn.days=Cn,Nn.weeks=function(){return w(this.days()/7)},Nn.months=Fn,Nn.years=Un,Nn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var s=Et(e).abs(),i=Hn(s.as(\"s\")),r=Hn(s.as(\"m\")),a=Hn(s.as(\"h\")),o=Hn(s.as(\"d\")),u=Hn(s.as(\"M\")),l=Hn(s.as(\"y\")),d=i<=Ln.ss&&[\"s\",i]||i<Ln.s&&[\"ss\",i]||r<=1&&[\"m\"]||r<Ln.m&&[\"mm\",r]||a<=1&&[\"h\"]||a<Ln.h&&[\"hh\",a]||o<=1&&[\"d\"]||o<Ln.d&&[\"dd\",o]||u<=1&&[\"M\"]||u<Ln.M&&[\"MM\",u]||l<=1&&[\"y\"]||[\"yy\",l];return d[2]=t,d[3]=+e>0,d[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,d)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Nn.toISOString=Vn,Nn.toString=Vn,Nn.toJSON=Vn,Nn.locale=Bt,Nn.localeData=Xt,Nn.toIsoString=D(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",Vn),Nn.lang=Qt,Z(\"X\",0,0,\"unix\"),Z(\"x\",0,0,\"valueOf\"),ce(\"x\",oe),ce(\"X\",/[+-]?\\d+(\\.\\d{1,3})?/),ye(\"X\",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ye(\"x\",function(e,t,n){n._d=new Date(M(e))}),t.version=\"2.18.1\",function(t){e=t}(xt),t.fn=un,t.min=function(){return Pt(\"isBefore\",[].slice.call(arguments,0))},t.max=function(){return Pt(\"isAfter\",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=d,t.unix=function(e){return xt(1e3*e)},t.months=function(e,t){return cn(e,t,\"months\")},t.isDate=a,t.locale=lt,t.invalid=m,t.duration=Et,t.isMoment=p,t.weekdays=function(e,t,n){return fn(e,t,n,\"weekdays\")},t.parseZone=function(){return xt.apply(null,arguments).parseZone()},t.localeData=ht,t.isDuration=Ct,t.monthsShort=function(e,t){return cn(e,t,\"monthsShort\")},t.weekdaysMin=function(e,t,n){return fn(e,t,n,\"weekdaysMin\")},t.defineLocale=dt,t.updateLocale=function(e,t){if(null!=t){var n,s=it;null!=rt[e]&&(s=rt[e]._config),(n=new b(t=T(s,t))).parentLocale=rt[e],rt[e]=n,lt(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?rt[e]=rt[e].parentLocale:null!=rt[e]&&delete rt[e]);return rt[e]},t.locales=function(){return P(rt)},t.weekdaysShort=function(e,t,n){return fn(e,t,n,\"weekdaysShort\")},t.normalizeUnits=C,t.relativeTimeRounding=function(e){return void 0===e?Hn:\"function\"==typeof e&&(Hn=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==Ln[e]&&(void 0===t?Ln[e]:(Ln[e]=t,\"s\"===e&&(Ln.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,\"days\",!0);return n<-6?\"sameElse\":n<-1?\"lastWeek\":n<0?\"lastDay\":n<1?\"sameDay\":n<2?\"nextDay\":n<7?\"nextWeek\":\"sameElse\"},t.prototype=un,t});","node_modules/h5.main/lib/index.js":"module.exports=require(\"./main\");","backend/helpers.js":"\"use strict\";exports.formatDate=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getMonth()+1,n=t.getDate();let r=t.getFullYear()+\"-\";return r+=e<10?\"0\"+e:e,r+=n<10?\"-0\"+n:\"-\"+n},exports.formatTime=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();let o=e<10?\"0\"+e:e;return o+=n<10?\":0\"+n:\":\"+n,o+=r<10?\":0\"+r:\":\"+r},exports.formatDateTime=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getMonth()+1,n=t.getDate(),r=t.getHours(),o=t.getMinutes(),a=t.getSeconds();let s=t.getFullYear();return s+=e<10?\"-0\"+e:\"-\"+e,s+=n<10?\"-0\"+n:\"-\"+n,s+=r<10?\" 0\"+r:\" \"+r,s+=o<10?\":0\"+o:\":\"+o,s+=a<10?\":0\"+a:\":\"+a},exports.formatDateUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCMonth()+1,n=t.getUTCDate();let r=t.getUTCFullYear()+\"-\";return r+=e<10?\"0\"+e:e,r+=n<10?\"-0\"+n:\"-\"+n},exports.formatTimeUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds();let o=e<10?\"0\"+e:e;return o+=n<10?\":0\"+n:\":\"+n,o+=r<10?\":0\"+r:\":\"+r},exports.formatDateTimeUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCMonth()+1,n=t.getUTCDate(),r=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds();let s=t.getUTCFullYear();return s+=e<10?\"-0\"+e:\"-\"+e,s+=n<10?\"-0\"+n:\"-\"+n,s+=r<10?\" 0\"+r:\" \"+r,s+=o<10?\":0\"+o:\":\"+o,s+=a<10?\":0\"+a:\":\"+a},exports.createError=function(t,e,n){\"number\"==typeof e&&(n=e,e=void 0);const r=new Error(t);return r.code=e,r.status=n,r};","node_modules/h5.main/lib/main.js":"\"use strict\";var DEFAULT_OPTIONS={moduleStartTimeout:2e3,rootPath:process.cwd(),env:process.env.NODE_ENV||\"development\",startTime:Date.now(),id:\"nonameapp\"},step=require(\"h5.step\"),MessageBroker=require(\"h5.pubsub\").MessageBroker,appUtils=require(\"./utils/app\"),logUtils=require(\"./utils/log\");module.exports=function(e,t){null!==e&&\"object\"==typeof e||(e={}),null!==e.options&&\"object\"==typeof e.options||(e.options={}),Object.keys(DEFAULT_OPTIONS).forEach(function(t){void 0===e.options[t]&&(e.options[t]=DEFAULT_OPTIONS[t])}),e.broker=new MessageBroker,e.main={startedModules:[]},appUtils.extend(e),logUtils.extend(e);function o(t,o,n){return function(s){if(s)return this.skip(s);e.main.startedModules.push(o.name),e[o.name]=o,e.broker.publish(\"app.modules.starting\",o.name),t.currentModuleName=o.name,3===n.start.length?function(t,o,n){e.debug(\"%s module starting asynchronously...\",t.name);var s=e.timeout(e.options.moduleStartTimeout,function(){e.error(\"%s module failed to start in the allowed time of %ds\",t.name,e.options.moduleStartTimeout/1e3),process.exit(1)});o.start(e,t,function(o){clearTimeout(s),o?(o instanceof Error||((o=new Error(o.toString())).stack=null),o.moduleName=t.name):e.broker.publish(\"app.modules.started\",t.name),n(o)})}(o,n,this.next()):(s=function(t,o){e.debug(\"%s module starting synchronously...\",t.name);try{o.start(e,t)}catch(e){return e}return e.broker.publish(\"app.modules.started\",t.name),null}(o,n))&&this.skip(s)}}step(function(){e.info(\"Starting...\");var n=[];t.forEach(function(t,n){\".\"===n.path.charAt(0)?n.path=e.pathTo(n.path):n.path=e.pathTo(\"node_modules\",n.path);var s;try{s=require(n.path)}catch(t){e.error(\"%s module failed to load: %s\",n.name,e.stackOrMessage(t.stack)),process.exit(1)}null!==s&&\"object\"==typeof s&&\"function\"==typeof s.start||(e.error(\"%s is not a valid module: missing the start() function\",n.name),process.exit(1));var r=n.config||{};null!=s.DEFAULT_CONFIG&&Object.keys(s.DEFAULT_CONFIG).forEach(function(e){void 0===r[e]&&(r[e]=s.DEFAULT_CONFIG[e])}),n.config=r,logUtils.extend(n,\"[\"+n.name+\"] \"),t.push(o(t,n,s))}.bind(null,n));var s=this.next();n.push(function(e){e&&!e.moduleName&&(e.moduleName=n.currentModuleName),s(e)}),step(n)},function(t){t&&(e.error(\"%s module failed to start: %s\",t.moduleName,e.stackOrMessage(t)),process.exit(1));var o=e.options.env,n=Date.now()-e.options.startTime;e.info(\"Started the %s environment in %d ms\",o,n),e.broker.publish(\"app.started\",{id:e.options.id,env:o,time:n})})};","node_modules/h5.step/lib/index.js":"module.exports=step;var ACTION_NONE=\"none\",ACTION_NEXT=\"next\",ACTION_SKIP=\"skip\",ACTION_DONE=\"done\",ACTION_GROUP=\"group\",ACTION_PARALLEL=\"parallel\",slice=Array.prototype.slice;function step(){var n=Array.isArray(arguments[0])?arguments[0]:arguments,r=n.length;if(0!==r){var e=-1,l=ACTION_NONE,t=null,u=!1,a=null,N=0,c=0,A=null,O={};Object.defineProperties(O,{next:{value:function(){return-1!==e&&(assertAction(ACTION_NEXT,l),l=ACTION_NEXT),i}},skip:{value:function(){assertAction(ACTION_SKIP,l),l=ACTION_SKIP,t=arguments}},done:{value:function(){assertAction(ACTION_DONE,l),l=ACTION_DONE,t=arguments}},parallel:{value:function(){l===ACTION_PARALLEL?++N:(assertAction(ACTION_PARALLEL,l),l=ACTION_PARALLEL,N=1,c=0,A=[]);var n=N-1;return function(){A[n]=slice.call(arguments),++c,l===ACTION_NONE&&c===N&&s()}}},group:{value:function(){l===ACTION_GROUP?++N:(assertAction(ACTION_GROUP,l),l=ACTION_GROUP,N=1,c=0,A=[]);var n=N-1;return function(){A[n]=slice.call(arguments),++c,l===ACTION_NONE&&c===N&&T()}}}}),i()}function i(){if(l!==ACTION_NONE){if(u)return;return u=!0,a=slice.call(arguments),process.nextTick(function(){l=ACTION_NONE;var n=a;return u=!1,a=null,i.apply(null,n)})}if(!(++e>=r)){var t=n[e].apply(O,arguments);t&&t.then&&t.catch?t.then(function(n){o(null,n)}).catch(function(n){o(n,null)}):o()}}function o(n,u){var a=l,A=t;switch(l=ACTION_NONE,t=null,a){case ACTION_NEXT:return;case ACTION_NONE:return i(n,u);case ACTION_SKIP:var O=r-1;if(e<O)return e=O-1,i.apply(null,slice.call(A));break;case ACTION_DONE:if(0===A.length)return;var o=A[0];if(\"function\"!=typeof o)return;return o.apply(null,slice.call(A,1));case ACTION_PARALLEL:if(N===c)return s();break;case ACTION_GROUP:if(N===c)return T()}}function s(){for(var n=[null],r=0;r<N;++r){var e=A[r];null===n[0]&&e[0]&&(n[0]=e[0]),n.push(e[1])}i.apply(null,n)}function T(){for(var n=null,r=[],e=0;e<N;++e){var l=A[e];null===n&&l[0]&&(n=l[0]),r.push(l[1])}i.call(null,n,r)}}function assertAction(n,r){if(r!==ACTION_NONE)throw new Error(n+\"() cannot be used because \"+r+\"() was already invoked.\")}","node_modules/h5.pubsub/lib/index.js":"\"use strict\";exports.MessageBroker=require(\"./MessageBroker\");","node_modules/h5.main/lib/utils/app.js":"\"use strict\";var fs=require(\"fs\"),path=require(\"path\"),step=require(\"h5.step\");exports.extend=function(t){t.stackOrMessage=function(t){return t?t instanceof Error?t.stack||t.message:t.toString():\"\"},t.timeout=function(t,n){return setTimeout(n,t)},t.pathTo=function(){var n=Array.prototype.slice.call(arguments);return t.options&&t.options.rootPath&&n.unshift(t.options.rootPath),path.join.apply(null,n)},t.loadDir=function(n,e,r){fs.readdir(n,function(i,o){return i?r(i):0===(o=o.filter(function(t){if(\".\"===t[0]||\"index.js\"===t)return!1;var n=t.lastIndexOf(\".\");return-1!==n&&\"js\"===t.substr(n+1,2)})).length?r():void t.loadFiles(n,o,e,r)})},t.loadFiles=function(t,n,e,r){var i=[];n.forEach(function(n){i.push(function(r){if(r)return this.skip(r);var i=require(path.join(t,n));if(\"function\"==typeof i)if(i.length!==e.length+1)try{i.apply(null,e)}catch(r){this.skip(r)}else i.apply(null,[].concat(e,this.next()))})}),i.push(r),step(i)},t.onModuleReady=function(n,e){var r=[].concat(n);if(!r.some(function(t){return!t})){var i=t.broker.subscribe(\"app.modules.started\",o);[].concat(r).forEach(o)}function o(n){if(-1!==t.main.startedModules.indexOf(n)){var o=r.indexOf(n);-1!==o&&(r.splice(o,1),0===r.length&&(i.cancel(),e()))}}}};","node_modules/h5.main/lib/utils/log.js":"\"use strict\";var format=require(\"util\").format;exports.extend=function(t,e){[\"debug\",\"info\",\"warn\",\"error\"].forEach(function(r){t[r]=function(){log(r,e,Array.prototype.slice.call(arguments))}})};function log(t,e,r){var n=t+\"\\t\"+getDateString()+\"\\t\"+(e||\"\")+format.apply(null,r).trim()+\"\\n\";\"error\"===t?process.stderr.write(n):process.stdout.write(n)}function getDateString(){var t=new Date,e=t.getFullYear().toString().substr(2)+\"-\"+pad0(t.getMonth()+1)+\"-\"+pad0(t.getDate())+\" \"+pad0(t.getHours())+\":\"+pad0(t.getMinutes())+\":\"+pad0(t.getSeconds())+\".\",r=t.getMilliseconds();return r<10?e+=\"00\":r<100&&(e+=\"0\"),e+=r,e+=\"+\"+pad0(t.getTimezoneOffset()/60*-1)}function pad0(t){return(1===t.toString().length?\"0\":\"\")+t}","backend/modules/updater/index.js":"\"use strict\";const fs=require(\"fs\"),_=require(\"lodash\"),setUpRoutes=require(\"./routes\"),setUpCommands=require(\"./commands\"),expressMiddleware=require(\"./expressMiddleware\");exports.DEFAULT_CONFIG={expressId:\"express\",sioId:\"sio\",packageJsonPath:\"package.json\",versionsKey:\"wmes\",backendVersionKey:\"backend\",frontendVersionKey:\"frontend\",manifestPath:null,restartDelay:15e3,errorTemplate:\"error503\",pull:{exe:\"git\",cwd:process.cwd(),timeout:6e4},manifests:[],captureSigint:!0},exports.start=function(e,n){let o=null,r=null;n.config.packageJsonPath=require.resolve(n.config.packageJsonPath),n.package=s(),n.restarting=0,n.manifest=n.config.manifestPath?fs.readFileSync(n.config.manifestPath,\"utf8\"):null,n.getVersions=function(e){n.package.updater||(n.package.updater={});const o=n.package.updater,r=n.config.versionsKey;return o[r]||(o[r]={},o[r][n.config.backendVersionKey]=-1,o[r][n.config.frontendVersionKey]=-1),o[r].package=n.package.version,!1===e?o[r]:_.cloneDeep(o[r])},n.getBackendVersion=function(e){return n.getVersions(!1)[e||n.config.backendVersionKey]},n.getFrontendVersion=function(e){return n.getVersions(!1)[e||n.config.frontendVersionKey]},n.updateFrontendVersion=function(e){const o=n.getVersions(!1);void 0===o[e]&&(e=n.config.frontendVersionKey),o[e]=Date.now()},e.broker.subscribe(\"express.beforeMiddleware\").setLimit(1).on(\"message\",function(o){o.module.app.use(expressMiddleware.bind(null,e,n))}),e.onModuleReady(n.config.expressId,setUpRoutes.bind(null,e,n)),e.onModuleReady(n.config.sioId,setUpCommands.bind(null,e,n)),fs.watch(n.config.packageJsonPath,function(){null!==o&&clearTimeout(o),o=setTimeout(t,1e3)}),n.config.captureSigint&&process.on(\"SIGINT\",a);function s(){delete require.cache[n.config.packageJsonPath];try{n.package=require(n.config.packageJsonPath)}catch(e){}return n.package}function t(){o=null;const r=n.getVersions(!0),t=n.getBackendVersion(),a=n.getFrontendVersion();s();const c=n.getVersions(!1),d=n.getBackendVersion(),u=n.getFrontendVersion();d!==t?(n.info(\"Backend version changed from [%s] to [%s]...\",t,d),i(t,d)):u!==a&&(n.info(\"Frontend version changed from [%s] to [%s]...\",a,u),function(n,o){e.broker.publish(\"updater.newVersion\",{service:\"frontend\",oldVersion:n,newVersion:o})}(a,u)),_.forEach(c,function(n,o){const s=r[o]||0;n!==s&&e.broker.publish(\"updater.newVersion\",{service:o,oldVersion:s,newVersion:n})})}function i(o,s){return null===r&&(n.restarting=Date.now(),n.info(\"Restarting in %d seconds...\",n.config.restartDelay/1e3),r=setTimeout(c,n.config.restartDelay),e.broker.publish(\"updater.newVersion\",{service:\"backend\",oldVersion:o,newVersion:s,delay:n.config.restartDelay}),e.broker.publish(\"updater.restarting\"),!0)}function a(){const e=n.getBackendVersion();i(e,e)||(n.info(\"Forcing shutdown...\"),c())}function c(){n.info(\"Exiting the process...\"),setImmediate(process.exit.bind(process))}};","backend/modules/mongoose/index.js":"\"use strict\";const _=require(\"lodash\"),mongoose=require(\"mongoose\"),autoIncrement=require(\"mongoose-auto-increment\"),expressMiddleware=require(\"./expressMiddleware\");exports.DEFAULT_CONFIG={maxConnectTries:10,connectAttemptDelay:500,uri:\"mongodb://localhost/test\",mongoClient:{},models:null,keepAliveQueryInterval:3e4,stopOnConnectError:!0},exports.start=function(e,n,o){let t=!1,c=!1;(n=e[n.name]=_.assign(mongoose,n)).Promise=global.Promise,n.connection.on(\"connecting\",()=>n.debug(\"Connecting...\")),n.connection.on(\"connected\",()=>n.debug(\"Connected.\")),n.connection.on(\"open\",()=>n.debug(\"Open.\")),n.connection.on(\"reconnected\",()=>n.debug(\"Reconnected.\")),n.connection.on(\"disconnecting\",()=>n.warn(\"Disconnecting...\")),n.connection.on(\"disconnected\",()=>n.warn(\"Disconnected.\")),n.connection.on(\"close\",()=>n.warn(\"Closed.\")),n.connection.on(\"unauthorized\",()=>n.warn(\"Unauthorized.\")),n.connection.on(\"error\",e=>n.error(e.stack)),e.broker.subscribe(\"express.beforeMiddleware\",function(o){o.module.app.use(expressMiddleware.bind(null,e,n))}).setLimit(1),i(0);function i(e){if(n.connection.readyState===mongoose.Connection.STATES.connected||n.connection.readyState===mongoose.Connection.STATES.connecting)return;const o=n.config.uri,t=Object.assign({useMongoClient:!0},n.config.mongoClient);n.connect(o,t).then(()=>r()).catch(o=>e>=n.config.maxConnectTries?r(o):setTimeout(i.bind(null,e+1),n.config.connectAttemptDelay))}function r(t){if(t){if(n.config.stopOnConnectError)return o(t);n.error(t.message),setTimeout(i,1e4,0)}c||(c=!0,autoIncrement.initialize(n.connection),s(),function(){const t=e.pathTo(\"models\"),c=n.config.models||require(e.pathTo(\"models\",\"index\"));e.loadFiles(t,c,[e,n],o)}())}function s(){n.config.keepAliveQueryInterval&&n.connection.db.stats(function(e,o){e?(t||n.error(`Keep alive query failed: ${e.message}`),t=!0):(t&&n.debug(`Kept alive: ${JSON.stringify(o)}`),t=!1),setTimeout(s,n.config.keepAliveQueryInterval)})}};","backend/modules/settings/index.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),setUpRoutes=require(\"./routes\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",expressId:\"express\",sioId:\"sio\",userId:\"user\"},exports.start=function(e,t){const n=e[t.config.mongooseId];if(!n)throw new Error(\"mongoose module is required!\");const o=n.model(\"Setting\");e.onModuleReady(t.config.expressId,setUpRoutes.bind(null,e,t)),t.Setting=o,t.findById=function(e,n){t.find({_id:e},function(e,t){n(e,Array.isArray(t)&&t.length?t[0]:null)})},t.find=function(e,t){o.find(e,{value:1}).lean().exec(t)},t.findValues=function(e,n,o){\"string\"==typeof e&&\"function\"==typeof n&&(o=n,n=e,e={_id:new RegExp(\"^\"+_.escapeRegExp(n))}),t.find(e,function(e,t){if(e)return o(e,null);const s={};for(let e=0,o=t.length;e<o;++e){const o=t[e];s[o._id.replace(n,\"\")]=o.value}o(null,s)})},t.update=function(n,s,r,u){const i=new Date,d={$set:{value:s,updater:r,updatedAt:i}};o.update({_id:n},d,{upsert:!0},function(o){o?t.error(\"Failed to set the [%s] setting to [%s]: %s\",n,s,o.stack):e.broker.publish(\"settings.updated.\"+n,{_id:n,value:s,updater:r,updatedAt:i}),u(o)})},t.multiUpdate=function(e,n,o){step(function(){const o=this;_.forEach(e,function(s){t.update(s,e[s],n,o.parallel())})},o)},t.updateRoute=function(n,o,s){if(\"string\"!=typeof n.body._id||0===n.body._id.trim().length)return s(new Error(\"INVALID_ID\"));if(void 0===n.body.value)return s(new Error(\"MISSING_VALUE\"));const r=e[t.config.userId];t.update(n.body._id,n.body.value,r?r.createUserInfo(n.session.user,n):null,function(e){return e?s(e):o.sendStatus(204)})}};","backend/modules/events/index.js":"\"use strict\";const _=require(\"lodash\"),setUpEventsRoutes=require(\"./routes\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",userId:\"user\",expressId:\"express\",collection:function(e){return e.mongodb.db.collection(\"events\")},insertDelay:1e3,topics:[\"events.**\"],blacklist:[],print:[]},exports.start=function(e,n){const t=n.config.collection(e);let s=null,i=0,o=null,r=0;const c={};n.types={},n.getPendingEvents=function(){return s||[]},n.insertEvents=f,e.onModuleReady([n.config.mongooseId,n.config.userId,n.config.expressId],setUpEventsRoutes.bind(null,e,n)),n.config.blacklist.forEach(e=>{c[e]=!0}),function(){if(Array.isArray(n.config.topics)){const t=a.bind(null,\"info\");_.forEach(n.config.topics,function(n){e.broker.subscribe(n,t)})}else _.forEach(n.config.topics,function(n,t){const s=a.bind(null,t);_.forEach(n,function(n){e.broker.subscribe(n,s)})});_.forEach(n.config.print,function(n){e.broker.subscribe(n,u)})}(),e.broker.subscribe(\"app.started\").setLimit(1).on(\"message\",function(){l(),setInterval(d,5e3)});function l(){const e=Date.now()-i;e<6e4?null===o&&(o=setTimeout(l,e)):t.distinct(\"type\",null,null,function(e,t){e?n.error(\"Failed to fetch event types: %s\",e.message):_.forEach(t,function(e){n.types[e]=1}),i=Date.now(),o=null})}function u(e,t){n.debug(\"[%s]\",t,e)}function a(e,t,i){if(\"events.saved\"===i)return l();if(c[i])return;let o=null;const u=t.user;_.isObject(u)&&(o={_id:String(u._id||u.id),name:u.lastName&&u.firstName?u.lastName+\" \"+u.firstName:u.login||u.label,login:u.login||u.label,ipAddress:u.ipAddress||u.ip}),t=_.isObject(t)?JSON.parse(JSON.stringify(t)):{};const a=i.replace(/^events\\./,\"\");_.isString(t.severity)&&(e=t.severity,delete t.severity),null!==o&&delete t.user;const d={type:a,severity:e,time:Date.now(),user:o,data:t};null===s&&(s=[],setTimeout(f,n.config.insertDelay),r=d.time),s.push(d),n.types[a]=1}function f(){if(null===s)return;const i=s;s=null,t.insert(i,function(t){t?n.error(\"Failed to save %d events: %s\",i.length,t.message):e.broker.publish(\"events.saved\",i)})}function d(){null!==s&&Date.now()-r>3333&&(n.warn(\"Blocked! Forcing insert of %d pending events!\",s.length),f())}};","backend/modules/pubsub.js":"\"use strict\";const _=require(\"lodash\"),pubsub=require(\"h5.pubsub\");exports.DEFAULT_CONFIG={sioId:\"sio\",statsPublishInterval:1e3,republishMaxDelay:3,republishTopics:[]},exports.start=function(s,n){const i={publishedMessages:0,receivedMessages:0,sentMessages:0,ignoredEchoes:0,ignoredDuplications:0,totalSubscriptions:0,currentSubscriptions:0,unsubscriptions:0};let e=0,t={},o={};const u=/^(\\s*|\\s*\\.\\s*)+$/,c=_.debounce(function(){const e=s[n.config.sioId].sockets.connected,u=Object.keys(o);for(let s=0,n=u.length;s<n;++s){const n=u[s],c=e[n];if(void 0===c)continue;const r=o[n],b=Object.keys(r);for(let s=0,n=b.length;s<n;++s){const n=t[b[s]],e=n[0],o=n[1],u=n[2];u.json||(u.payload=JSON.stringify(u.payload),u.json=!0),c.emit(\"pubsub.message\",e,o,u),++i.sentMessages}}o={},t={}},n.config.republishMaxDelay,{trailing:!0,leading:!1});n=s[n.name]=_.assign(new pubsub.MessageBroker,n),_.forEach(n.config.republishTopics,function(i){s.broker.subscribe(i,function(s,i){n.publish(i,s)})}),n.on(\"message\",function(s,n,o){0!==i.currentSubscriptions&&(++i.publishedMessages,void 0===o.messageId&&(o.messageId=function(){4294967295==++e&&(e=1);return e.toString(36)}()),void 0===o.json&&(o.json=!1),t[o.messageId]=[s,n,o],c())}),n.on(\"subscribe\",function(){++i.totalSubscriptions,++i.currentSubscriptions}),n.on(\"cancel\",function(){--i.currentSubscriptions,++i.unsubscriptions}),s.onModuleReady(n.config.sioId,function(){s[n.config.sioId].sockets.on(\"connection\",function(s){s.pubsub=n.sandbox(),s.pubsub.onSubscriptionMessage=function(s,n,e,t){if(t.socketId===s.id)return void++i.ignoredEchoes;let u=o[s.id];u||(u=o[s.id]={});if(u[t.messageId])return void++i.ignoredDuplications;u[t.messageId]=!0}.bind(null,s),s.on(\"disconnect\",b),s.on(\"pubsub.subscribe\",p),s.on(\"pubsub.unsubscribe\",a),s.on(\"pubsub.publish\",l)})}),r();function r(){const s=n.config.statsPublishInterval;s<=0||(n.publish(\"stats.pubsub\",i),setTimeout(r,s))}function b(){delete o[this.id],this.pubsub&&(this.pubsub.destroy(),this.pubsub.onSubscriptionMessage=null,this.pubsub=null)}function p(s,n){const i=\"function\"==typeof n;if(!Array.isArray(s))return void(i&&n(\"First argument must be an array of topics.\"));const e=this.pubsub;if(!e)return;const t=[];for(let n=0,i=s.length;n<i;++n){const i=s[n];f(i)?e.subscribe(i,e.onSubscriptionMessage):t.push(i)}i&&n(null,t)}function a(s){if(!Array.isArray(s))return;const n=this.pubsub;if(n)for(let i=0,e=s.length;i<e;++i){const e=s[i];f(e)&&n.unsubscribe(e)}}function l(s,n,e,t){this.pubsub?(++i.receivedMessages,e.socketId=this.id,this.pubsub.publish(s,n,e),\"function\"==typeof t&&t()):\"function\"==typeof t&&t()}function f(s){return\"string\"==typeof s&&s.length>0&&!1===u.test(s)}};","backend/modules/user.js":"\"use strict\";const os=require(\"os\"),cookie=require(\"cookie\"),cookieParser=require(\"cookie-parser\"),_=require(\"lodash\"),bcrypt=require(\"bcrypt\"),step=require(\"h5.step\"),ObjectId=require(\"mongoose\").Types.ObjectId,resolveIpAddress=require(\"./util/resolveIpAddress\");exports.DEFAULT_CONFIG={sioId:\"sio\",expressId:\"express\",mongooseId:\"mongoose\",privileges:[],root:{password:\"$2a$10$qSJWcm1LtN0OzlSHkSRl..ZezbqHAjW2ZuHzBd.F0CTQoWBvf0uQi\"},guest:{},localAddresses:null,loginFailureDelay:1e3,userInfoIdProperty:\"_id\"},exports.start=function(e,s){const n=s.config.localAddresses||function(){const e=[];return _.forEach(os.networkInterfaces(),function(s){_.forEach(s,function(s){\"IPv4\"===s.family&&e.push(s.address.replace(/\\.[0-9]+$/,\"\"))})}),e}();s.root=_.assign(s.config.root,{loggedIn:!0,super:!0,_id:\"52a33b8bfb955dac8a92261b\",login:\"root\",privileges:[]}),s.guest=_.assign({privileges:[]},s.config.guest,{loggedIn:!1,super:!1,_id:\"52a33b9cfb955dac8a92261c\",login:\"guest\",password:void 0}),s.auth=function(){const e=[];for(let s=0,n=arguments.length;s<n;++s){let n=arguments[s];Array.isArray(n)||(n=[n]),e.push(n)}return function(n,o,r){if(n.session){let o=n.session.user;if(o||(o=n.session.user=t(d({},n))),i(o,e))return r();s.debug(\"[auth] %s (%s) tried to access [%s] without sufficient privileges :(\",o.login,o.ipAddress,n.url)}return o.sendStatus(403)}},s.authenticate=function(n,o){if(!_.isString(n.login)||_.isEmpty(n.login)||!_.isString(n.password)||_.isEmpty(n.password))return c(new Error(\"INVALID_CREDENTIALS\"),400,o);step(function(){const o=this.next();if(n.login.toLowerCase()===s.root.login.toLowerCase())o(null,_.assign({},s.root));else{const t=e[s.config.mongooseId].model(\"User\"),i=/^.*?@.*?\\.[a-zA-Z]+$/.test(n.login)?\"email\":\"login\",r={[i]:new RegExp(\"^\"+_.escapeRegExp(n.login)+\"$\",\"i\")};t.schema.path(\"active\")&&(r.active=!0),t.findOne(r,o)}},function(e,s){return e?this.done(c.bind(null,e,500,o)):s?(_.isFunction(s.toObject)&&(s=s.toObject()),void(this.userData=s)):this.done(c.bind(null,new Error(\"INVALID_LOGIN\"),401,o))},function(){bcrypt.compare(n.password,this.userData.password,this.next())},function(e,s){return e?this.done(c.bind(null,e,500,o)):s?this.done(o,null,this.userData):this.done(c.bind(null,new Error(\"INVALID_PASSWORD\"),401,o))})},s.getRealIp=d,s.isLocalIpAddress=o,s.isAllowedTo=i,s.createUserInfo=function(e,n){e||(e={});const o={[s.config.userInfoIdProperty]:null,ip:\"\",label:\"\"};try{o[s.config.userInfoIdProperty]=ObjectId.createFromHexString(String(e._id||e.id))}catch(e){}\"string\"==typeof e.label?o.label=e.label:e.firstName&&e.lastName?o.label=e.lastName+\" \"+e.firstName:o.label=e.login||\"?\";return o.ip=d(e,n),o},e.onModuleReady([s.config.expressId,s.config.sioId],function(){const n=e[s.config.sioId],o=e[s.config.expressId],i={},u={};n.use(function(e,s){const n=e.handshake,i=cookie.parse(String(n.headers.cookie)),r=i[o.config.sessionCookieKey];if(\"string\"!=typeof r)return n.sessionId=String(Date.now()+Math.random()),n.user=t(d({},n)),s();const u=cookieParser.signedCookie(r,o.config.cookieSecret);o.sessionStore.get(u,function(e,o){return e?s(e):(n.sessionId=u,n.user=o&&o.user?o.user:t(d({},n)),s())})}),n.sockets.on(\"connection\",function(e){const s=e.handshake;s.sessionId&&(e.sessionId=s.sessionId,void 0===i[e.sessionId]&&(i[e.sessionId]={}),i[e.sessionId][e.id]=!0),s.user&&e.emit(\"user.reload\",e.handshake.user),c(e),e.on(\"disconnect\",function(){const s=e.handshake.user?u[e.handshake.user._id]:null;s&&(delete s[e.id],0===Object.keys(s).length&&delete s[e.handshake.user._id]);const n=i[e.sessionId];n&&(delete n[e.id],0===Object.keys(n).length&&delete n[e.sessionId])})}),e.broker.subscribe(\"users.login\",function(e){const s=l(e.oldSessionId,e.newSessionId);_.forEach(s,function(s){s.handshake.sessionId=e.newSessionId,s.handshake.user=e.user,c(s),s.emit(\"user.reload\",e.user)})}),e.broker.subscribe(\"users.logout\",function(e){const s=l(e.oldSessionId,e.newSessionId),n=e.user._id,o=u[n];_.forEach(s,function(s){s.handshake.sessionId=e.newSessionId,s.handshake.user=t(d({},s)),o&&o[s.id]&&(delete o[s.id],0===Object.keys(o).length&&delete u[n]),s.emit(\"user.reload\",s.handshake.user)})}),e.broker.subscribe(\"users.edited\",function(e){const o=u[e.model._id];o&&function(e,o){const t=o._id.toString();delete o._id,r(o),function(e,n){const o=a();if(!o)return;const t={\"data.user._id\":e},i={$set:{}};_.forEach(n,function(e,s){i.$set[\"data.user.\"+s]=e}),o.update(t,i,{multi:!0},function(e){if(e)return s.error(\"Failed to update user sessions: %s\",e.message)})}(t,o),function(e,s){_.forEach(e,function(e,o){const t=n.sockets.connected[o];t&&(_.assign(t.handshake.user,s),t.emit(\"user.reload\",t.handshake.user))})}(e,o)}(o,e.model.toJSON())}),e.broker.subscribe(\"users.deleted\",function(e){const o=u[e.model._id];o&&function(e,o){(function(e){const n=a();if(!n)return;n.remove({\"data.user._id\":e.toString()},function(e){if(e)return s.error(\"Failed to remove user sessions: %s\",e.message)})})(o),_.forEach(e,function(e,s){const o=n.sockets.connected[s];o&&o.emit(\"user.deleted\")})}(o,e.model._id)});function c(e){const s=e.handshake;if(s.user&&s.user.loggedIn){const n=s.user._id;u[n]||(u[n]={}),u[n][e.id]=!0}}function l(e,s){const o=[];return\"object\"!=typeof i[e]?o:(_.forEach(Object.keys(i[e]),function(t){const r=n.sockets.connected[t];void 0===r?delete i[e][t]:(r.sessionId=s,o.push(r))}),s!==e&&(i[s]=i[e],delete i[e]),o)}function a(){const e=o.sessionStore;return\"function\"==typeof e.collection?e.collection():null}}),e.broker.subscribe(\"express.beforeRouter\").setLimit(1).on(\"message\",function(e){e.module.app.use(u)});function o(e){if(\"127.0.0.1\"===e)return!0;for(let s=0,o=n.length;s<o;++s){const o=n[s];if(\"string\"==typeof o){if(0===e.indexOf(o))return!0}else if(o.test(e))return!0}return!1}function t(e){const n=_.cloneDeep(s.guest);return n.ipAddress=e,n.local=o(e),n}function i(e,s){if(!e)return!1;if(e.super)return!0;if(\"string\"==typeof s&&(s=[[s]]),s.length&&e.local&&s[0].some(function(e){return\"LOCAL\"===e}))return!0;if(!e.privileges)return!1;if(!s.length)return!0;for(let n=0,o=s.length;n<o;++n){const o=s[n];let t=0;for(let s=0;s<o.length;++s){const n=o[s];\"USER\"===n?t+=e.loggedIn?1:0:/^FN:/.test(n)?t+=e.prodFunction===n.substring(3)?1:0:t+=function(e,s){_.isEmpty(e.privilegesString)&&r(e);if(\"*\"===s.charAt(s.length-1))return-1!==e.privilegesString.indexOf(\"|\"+s.substr(0,s.length-1));return!0===e.privilegesMap[s]}(e,o[s])?1:0}if(t===o.length)return!0}return!1}function r(e){return Array.isArray(e.privileges)||(e.privileges=[]),e.privilegesString=\"|\"+e.privileges.join(\"|\"),e.privilegesMap={},_.forEach(e.privileges,function(s){e.privilegesMap[s]=!0}),e}function u(e,s,n){if(!e.session)return n();return e.session.user||(e.session.user=t(d({},e))),n()}function c(e,n,o){e.status=n,setTimeout(o,s.config.loginFailureDelay,e)}function d(e,s){let n=\"\";return s&&(n=resolveIpAddress(s)),\"\"===n&&(n=e.ip||e.ipAddress||\"0.0.0.0\"),n}};","backend/modules/express/index.js":"\"use strict\";const path=require(\"path\"),_=require(\"lodash\"),step=require(\"h5.step\"),express=require(\"express\"),ExpressView=require(\"express/lib/view\"),methods=require(\"methods\"),ejsAmd=require(\"ejs-amd\"),messageFormatAmd=require(\"messageformat-amd\"),wrapAmd=require(\"./wrapAmd\"),rqlMiddleware=require(\"./rqlMiddleware\"),errorHandlerMiddleware=require(\"./errorHandlerMiddleware\"),crud=require(\"./crud\"),monkeyPatch=require(\"./monkeyPatch\");let cookieParser=null,bodyParser=null,session=null,pmx=null,MongoStore=null;try{cookieParser=require(\"cookie-parser\")}catch(e){console.log(\"Failed to load cookie-parser: %s\",e.message)}try{bodyParser=require(\"body-parser\")}catch(e){console.log(\"Failed to load body-parser: %s\",e.message)}try{require(\"iconv-lite\").encodingExists(\"UTF-8\")}catch(e){console.log(\"Failed to load iconv-lite: %s\",e.message)}try{session=require(\"express-session\")}catch(e){console.log(\"Failed to load express-session: %s\",e.message)}try{pmx=require(\"pmx\")}catch(e){console.log(\"Failed to load pmx: %s\",e.message)}try{MongoStore=require(\"./MongoStore\")}catch(e){console.log(\"Failed to load MongoStore %s\",e.message)}exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",userId:\"user\",staticPath:\"public\",staticBuildPath:\"public-build\",sessionCookieKey:\"express.sid\",sessionCookie:{maxAge:null,path:\"/\",httpOnly:!0},sessionStore:{},cookieSecret:null,ejsAmdHelpers:{},title:\"express\",jsonBody:{},textBody:{},urlencodedBody:{},ignoredErrorCodes:[\"ECONNRESET\",\"ECONNABORTED\"],jsonToXlsxExe:null,longRouteDuration:0,routes:(e,s)=>{}},exports.start=function(e,s,o){const r=s.config,t=e[r.mongooseId],n=\"development\"===e.options.env,i=r[n?\"staticPath\":\"staticBuildPath\"],l=express();if(s.staticPath=i,s.app=l,s.crud=crud,s.sessionStore=t?new MongoStore(t.connection.db,r.sessionStore):session?new session.MemoryStore:null,s.router=express.Router(),s.createHttpError=function(e,s){const o=new Error(e);return o.status=s||400,o},_.forEach(methods,function(e){s[e]=function(){return s.router[e].apply(s.router,arguments)}}),l.set(\"trust proxy\",!0),l.set(\"view engine\",\"ejs\"),l.set(\"views\",e.pathTo(\"templates\")),n&&l.set(\"json spaces\",2),l.use(function(e,s,o){e.isFrontendRequest=/^\\/(app|assets|vendor)/.test(e.url)||/\\.(js|css|png|ico)$/.test(e.url),o()}),e.broker.publish(\"express.beforeMiddleware\",{module:s}),n&&function(e){ejsAmd.wrapAmd=function(e,s){return wrapAmd(\"return \"+s,e)}.bind(null,r.ejsAmdHelpers);const s=/^\\/app\\/([a-zA-Z0-9\\-]+)\\/templates\\/(.*?)\\.js$/,o=ejsAmd.middleware({views:e});l.use(function(e,r,t){const n=e.url.match(s);if(null===n)return t();o(e,r,t)}),l.use(\"/app/nls/locale/\",messageFormatAmd.localeMiddleware()),l.use(\"/app/nls/\",messageFormatAmd.nlsMiddleware({localeModulePrefix:\"app/nls/locale/\",jsonPath:function(s,o){const r=(null===s?\"root\":s)+\".json\";return path.join(e,\"app\",o,\"nls\",r)}}))}(i),r.cookieSecret&&cookieParser&&l.use(cookieParser(r.cookieSecret)),bodyParser&&(l.use(bodyParser.json(r.jsonBody)),l.use(bodyParser.urlencoded(_.assign({extended:!1},r.urlencodedBody))),l.use(bodyParser.text(_.defaults({type:\"text/*\"},r.textBody)))),l.use(rqlMiddleware()),s.sessionStore){const e=session({store:s.sessionStore,key:r.sessionCookieKey,cookie:r.sessionCookie,secret:r.cookieSecret,saveUninitialized:!0,resave:!1,rolling:!0});l.use(function(s,o,r){s.isFrontendRequest?r():e(s,o,r)})}s.config.longRouteDuration>0&&l.use(a),e.broker.publish(\"express.beforeRouter\",{module:s}),l.use(\"/\",s.router),\"function\"==typeof s.config.routes&&s.config.routes(e,s),step(function(){e.loadDir(e.pathTo(\"routes\"),[e,s],this.next())},function(o){if(o)return this.skip(o);l.use(express.static(i)),null!==pmx&&l.use(pmx.expressErrorHandler());const t={title:r.title,basePath:path.resolve(__dirname,\"../../../\")};l.use(errorHandlerMiddleware(s,t)),monkeyPatch(e,s,{View:ExpressView})},o);function a(e,o,r){const t=()=>clearTimeout(o.longRequestTimer);o.longRequestTimer=setTimeout(u,s.config.longRouteDuration,e),o.once(\"close\",t),o.once(\"finish\",t),r()}function u(o){const r=o.session?o.session.user:{},t=e[s.config.userId]?e[s.config.userId].createUserInfo(r,o):r;s.debug(\"Long request: \"+JSON.stringify({url:o.url,user:t},null,2))}};","backend/modules/users/index.js":"\"use strict\";const moment=require(\"moment\"),setUpRoutes=require(\"./routes\"),setUpCommands=require(\"./commands\"),syncUsers=require(\"./syncUsers\"),setUpPresenceChecker=require(\"./presenceChecker\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",expressId:\"express\",userId:\"user\",sioId:\"sio\",companiesId:\"companies\",settingsId:\"settings\",mailSenderId:\"mail/sender\",tediousConnection:null,emailGenerator:null,browsePrivileges:[\"USERS:VIEW\"]},exports.start=function(e,s){s.syncing=!1,s.syncUsers=function(o){s.syncing||(s.info(\"Syncing...\"),s.syncing=!0,syncUsers(e,s,function(i,r){s.syncing=!1,i?(s.error(\"Failed to sync: %s\",i.message),e.broker.publish(\"users.syncFailed\",{user:o,error:i.message})):(s.info(\"Synced: %s\",JSON.stringify(r)),e.broker.publish(\"users.synced\",r)),o||n()}))},e.onModuleReady([s.config.mongooseId,s.config.userId,s.config.expressId,s.config.settingsId],setUpRoutes.bind(null,e,s)),e.onModuleReady([s.config.mongooseId,s.config.userId,s.config.sioId,s.config.companiesId],setUpCommands.bind(null,e,s)),e.onModuleReady([s.config.mongooseId,s.config.settingsId],setUpPresenceChecker.bind(null,e,s)),s.config.tediousConnection&&e.broker.subscribe(\"app.started\",n).setLimit(1);function n(){const n=moment().add(30,\"seconds\").hours(),o=moment().startOf(\"day\");n<5?o.hours(5).minutes(30):n>=18?o.add(1,\"days\").hours(5).minutes(30):o.hours(18),s.info(`Next sync at ${e.formatDateTime(o.toDate())}.`),setTimeout(s.syncUsers,o.diff())}};","backend/modules/controller/index.js":"\"use strict\";const _=require(\"lodash\"),setUpControllerRoutes=require(\"./routes\");exports.DEFAULT_CONFIG={messengerClientId:\"messenger/client\",pubsubId:\"pubsub\",sioId:\"sio\",mongooseId:\"mongoose\",userId:\"user\",expressId:\"express\"},exports.start=function(e,s){let n=e[s.config.messengerClientId];s.values={},s.tags=[],e.onModuleReady(s.config.sioId,function(){e[s.config.sioId].sockets.on(\"connection\",function(o){o.on(\"controller.setTagValue\",function(o,t,i,r){_.isFunction(r)||(r=function(){});if(!function(e){const{headers:s,user:n}=e.handshake;if(n&&(n.super||n.local||_.includes(n.privileges,\"SETTINGS:MANAGE\")))return!0;if(s&&_.isString(s[\"user-agent\"])&&s[\"user-agent\"].includes(\"X11; Linux\"))return!0;return!1}(o))return void r({message:\"Not allowed.\",code:\"TAG_WRITE_NO_PERM\"});const u=s.values[t];!function(e,o,t){if(!_.isString(e))return void t({message:\"Tag name must be a string.\",code:\"TAG_WRITE_INVALID_NAME\"});const i=s.tags[e];if(!i)return void t({message:\"Unknown tag.\",code:\"TAG_WRITE_UNKNOWN\"});if(!i.writable)return void t({message:\"Tag is not writable.\",code:\"TAG_WRITE_NOT_WRITABLE\"});if(!_.isString(o)&&!_.isNumber(o)&&!_.isBoolean(o)&&\"object\"!=typeof o)return void t({message:\"Tag value must be an object, a string, a number or a boolean.\",code:\"TAG_WRITE_INVALID_VALUE\"});n.request(\"modbus.setTagValue\",{name:e,value:o},function(e){t(e,i)})}(t,i,function(n,a){r(n),n?s.error(`Failed to set tag [${t}] to [${i}]: ${n.message}`):(s.info(`Tag [${t}] was set to [${i}].`),e.broker.publish(`controller.${\"setting\"===a.kind?\"settingChanged\":\"tagValueSet\"}`,{severity:\"debug\",user:o.handshake.user,tag:t,newValue:i,oldValue:u}))})}.bind(null,o))})}),e.onModuleReady([s.config.mongooseId,s.config.userId,s.config.expressId],setUpControllerRoutes.bind(null,e,s)),e.broker.subscribe(\"modbus.tagsChanged\",t),e.broker.subscribe(\"modbus.tagValuesChanged\",i),n?n.isConnected()&&setImmediate(o):e.onModuleReady(s.config.messengerClientId,()=>{n=e[s.config.messengerClientId]}),e.broker.subscribe(\"messenger.client.connected\",o).setFilter(e=>\"req\"===e.socketType&&e.moduleName===s.config.messengerClientId);function o(){n.request(\"modbus.sync\",null,function(e,n){e&&s.error(`Failed to sync: ${e.message}`),_.isObject(n)&&(n.tags&&(s.info(\"Synced tag definitions.\"),t(n.tags)),n.values&&(s.info(\"Synced tag values.\"),i(n.values)))})}function t(n){_.isObject(n)&&(s.tags=n,e.broker.publish(\"controller.tagsChanged\",_.values(n)))}function i(n){_.isObject(n)&&(_.forEach(n,function(e,n){s.values[n]=e;const o=s.tags[n];o&&(o.value=e)}),n[\"@timestamp\"]=Date.now(),e.broker.publish(\"controller.tagValuesChanged\",n))}};","backend/modules/alarms/frontend.js":"\"use strict\";const setUpAlarmsRoutes=require(\"./routes\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",messengerClientId:\"messenger/client\",expressId:\"express\",userId:\"user\",controllerId:\"controller\"},exports.start=function(e,s){e.onModuleReady([s.config.messengerClientId],function(){[\"alarms.added\",\"alarms.edited\",\"alarms.deleted\"].forEach(function(n){e.broker.subscribe(n,function(r){e[s.config.messengerClientId].request(n,{alarmId:r.model._id})})})}),e.onModuleReady([s.config.mongooseId,s.config.userId,s.config.expressId,s.config.controllerId,s.config.messengerClientId],setUpAlarmsRoutes.bind(null,e,s)),s.ack=function(n,r,o){e[s.config.messengerClientId].request(\"alarms.ack\",{alarmId:n,user:r},o)},s.run=function(n,r,o){e[s.config.messengerClientId].request(\"alarms.run\",{alarmId:n,user:r},o)},s.stop=function(n,r,o){e[s.config.messengerClientId].request(\"alarms.stop\",{alarmId:n,user:r},o)}};","backend/modules/maxos/index.js":"\"use strict\";const setUpRoutes=require(\"./routes\"),setUpCommands=require(\"./commands\"),setUpSafeGuards=require(\"./safeGuards\"),setUpProgram=require(\"./program\"),setUpClient=require(\"./client\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",expressId:\"express\",sioId:\"sio\",userId:\"user\",modbusId:\"modbus\",controllerId:\"controller\",messengerClientId:\"messenger/client\",messengerServerId:\"messenger/server\",testerAddress:\"127.0.0.1:4001\",spoolExe:\"spool.exe\"},exports.start=function(e,s){e.onModuleReady([s.config.mongooseId,s.config.userId,s.config.expressId,s.config.controllerId,s.config.messengerClientId],setUpRoutes.bind(null,e,s)),e.onModuleReady([s.config.userId,s.config.sioId,s.config.messengerClientId],setUpCommands.bind(null,e,s)),e.onModuleReady([s.config.modbusId],setUpSafeGuards.bind(null,e,s)),e.onModuleReady([s.config.mongooseId,s.config.modbusId,s.config.messengerServerId],setUpProgram.bind(null,e,s)),e.onModuleReady([s.config.messengerClientId],setUpClient.bind(null,e,s))};","backend/modules/mail/sender.js":"\"use strict\";const path=require(\"path\"),fs=require(\"fs\"),_=require(\"lodash\"),step=require(\"h5.step\");exports.DEFAULT_CONFIG={smtp:null,from:\"someone@the.net\",bcc:\"\",replyTo:\"someone@the.net\",expressId:\"express\",secretKey:null,remoteSenderUrl:null,emailsPath:null};const HEADERS={to:\"to\",cc:\"cc\",bcc:\"bcc\",from:\"from\",replyto:\"replyTo\",subject:\"subject\",html:\"html\"};exports.start=function(e,t){let n,o;if(t.config.smtp&&t.config.remoteSenderUrl)throw new Error(\"`smtp` and `remoteSenderUrl` cannot be used at the same time!\");t.config.smtp||t.config.remoteSenderUrl||t.config.emailsPath?t.config.smtp?n=require(\"nodemailer\"):t.config.remoteSenderUrl&&(o=require(\"request\")):t.warn(\"No `smtp`, `remoteSenderUrl` or `emailsPath` specified.\");const s=t.config.smtp?n.createTransport(t.config.smtp):null,r={};e.broker.subscribe(\"directoryWatcher.changed\").setFilter(function(e){return/\\.email$/.test(e.fileName)}).on(\"message\",i),setInterval(function(){const e=Date.now()-18e5;_.forEach(r,function(t,n){t<e&&delete r[n]})},18e5),t.send=function(e,n,r,i){let c;if(arguments.length>2?c={to:e,subject:n,text:r}:(c=e,i=n),_.isEmpty(c.to))return t.debug(\"Not sending e-mail: %s\",JSON.stringify(c)),setImmediate(i);null!==t.config.remoteSenderUrl?function(e,n){const s={url:t.config.remoteSenderUrl,method:\"POST\",json:!0,body:_.defaults(_.assign(e,{secretKey:t.config.secretKey}),{from:t.config.from||void 0,bcc:t.config.bcc||void 0,replyTo:t.config.replyTo||void 0})};o(s,function(e,t){return e?n(e):204!==t.statusCode?n(new Error(\"INVALID_REMOTE_RESPONSE\")):n()})}(c,i):null!==s?function(e,n){_.defaults(e,{from:String(t.config.from),bcc:String(t.config.bcc),replyTo:String(t.config.replyTo)}),s.sendMail(e,n)}(c,i):null!==t.config.emailsPath?function(e,n){_.defaults(e,{from:String(t.config.from),bcc:String(t.config.bcc),replyTo:String(t.config.replyTo)});const o=[];_.forEach([\"subject\",\"to\",\"cc\",\"bcc\",\"from\",\"replyTo\"],function(t){_.isEmpty(e[t])||o.push(t+\": \"+e[t])});const s=_.isString(e.html)&&!_.isEmpty(e.html);s&&o.push(\"html: 1\");o.push(\"Body:\",e[s?\"html\":\"text\"]||\"\"),step(function(){const e=(Date.now()+99999999*Math.random()).toString(36).toUpperCase()+\".email\";fs.open(path.join(t.config.emailsPath,e),\"wx+\",this.next())},function(e,t){if(e)return this.done(n,e);this.fd=t,fs.write(t,o.join(\"\\r\\n\"),0,\"utf8\",this.next())},function(e){const t=this.fd;if(this.fd=null,e)return fs.close(t,function(){}),n(e);fs.close(t,n)})}(c,i):(t.debug(\"Not sending e-mail: %s\",JSON.stringify(c)),setImmediate(i))};function i(e){r[e.fileName]||(r[e.fileName]=Date.now(),fs.readFile(e.filePath,\"utf8\",function(n,o){if(n)return t.error(\"Failed to read contents of file [%s]: %s\",e.fileName,n.message);let s=o.indexOf(\"Body:\");-1===s&&(s=o.indexOf(\"body:\"));const r=o.substring(0,s).trim().split(\"\\n\"),i=o.substring(s+\"Body:\".length).trim(),l={};_.forEach(r,function(e){const t=e.indexOf(\":\"),n=HEADERS[e.substring(0,t).trim().toLowerCase()],o=e.substring(t+1).trim();n&&(l[n]=o)}),l.html?l.html=i:l.text=i,t.send(l,function(n){n?(t.error(\"Failed to send email from file [%s]: %s\",e.fileName,n.message),setTimeout(c,6e4,e)):fs.unlink(e.filePath,function(){})})}))}function c(e){delete r[e.fileName],i(e)}e.onModuleReady(t.config.expressId,function(){const n=e[t.config.expressId];n.options(\"/mail;send\",function(e,t){t.set(\"Access-Control-Allow-Origin\",\"*\"),t.set(\"Access-Control-Allow-Headers\",\"Content-Type\"),t.end()}),n.post(\"/mail;send\",function(e,o,s){if(o.set(\"Access-Control-Allow-Origin\",\"*\"),o.set(\"Access-Control-Allow-Headers\",\"Content-Type\"),null!==t.config.secretKey&&e.body.secretKey!==t.config.secretKey)return s(n.createHttpError(\"INVALID_SECRET_KEY\",401));t.send(e.body,function(n){if(n)return t.error(\"Failed to send e-mail [%s] to [%s]: %s\",e.body.subject,e.body.to,n.message),s(n);t.debug(\"Sent e-mail to [%s]: %s\",e.body.to,e.body.subject),o.sendStatus(204)})})})};","backend/modules/messenger/server.js":"\"use strict\";const _=require(\"lodash\"),axon=require(\"axon\");exports.DEFAULT_CONFIG={pubHost:\"0.0.0.0\",pubPort:5050,repHost:\"0.0.0.0\",repPort:5051,pullHost:null,pullPort:5052,broadcastTopics:[]},exports.start=function(n,o,e){const t={\"@broadcast\":function(o,e){n.broker.publish(o.topic,o.message,o.meta),e()}};let r=null,c=null,s=null;_.forEach(o.config.broadcastTopics,function(e){n.broker.subscribe(e,function(n,e){o.broadcast(e,void 0===n?null:n)})}),function(){if(!o.config.pullHost)return o.debug(\"pull socket not used.\");let e=!1;(s=axon.socket(\"rep\")).set(\"hwm\",10),s.connect(o.config.pullPort,o.config.pullHost),s.on(\"error\",function(n){o.error(\"[pull] %s\",n.message)}),s.on(\"connect\",function(){e=!0,o.debug(\"[pull] Connected on port %d...\",o.config.pullPort),n.broker.publish(\"messenger.client.connected\",{moduleName:o.name,socketType:\"pull\",host:o.config.pullHost,port:o.config.pullPort})}),s.on(\"reconnect attempt\",function(){e&&(o.debug(\"[pull] Disconnected. Reconnecting...\"),e=!1)}),s.on(\"message\",i)}(),function(n){const e=axon.socket(\"pub\");e.set(\"hwm\",10),e.bind(o.config.pubPort,o.config.pubHost),e.once(\"error\",n),e.on(\"bind\",function(){e.removeListener(\"error\",n),n(null,e)})}(function(n,t){if(n)return e(n);r=t,o.debug(\"pub socket listening on port %d...\",o.config.pubPort),function(n){const e=axon.socket(\"rep\");e.set(\"hwm\",10),e.bind(o.config.repPort,o.config.repHost),e.once(\"error\",n),e.on(\"bind\",function(){e.removeListener(\"error\",n),e.on(\"message\",i),n(null,e)})}(function(n,t){if(n)return e(n);c=t,o.debug(\"rep socket listening on port %d...\",o.config.repPort),e()})}),o.handle=function(n,o){t[n]=o},o.broadcast=function(n,o){r&&r.send(n,o)};function i(n,o,e){if(!_.isString(n)||!_.isFunction(e))return;const r=t[n];_.isFunction(r)&&r(_.isObject(o)?o:{},function(n){n instanceof Error&&(arguments[0]={message:n.message,name:n.name,code:n.code}),e.apply(null,arguments)})}};","backend/modules/messenger/client.js":"\"use strict\";const _=require(\"lodash\"),axon=require(\"axon\");exports.DEFAULT_CONFIG={pubHost:\"127.0.0.1\",pubPort:5050,repHost:\"127.0.0.1\",repPort:5051,pushHost:null,pushPort:5052,responseTimeout:5e3,broadcastTopics:[]},exports.start=function(e,n,o){let t,c,r=null;_.forEach(n.config.broadcastTopics,function(o){e.broker.subscribe(o,function(e,o,t){n.request(\"@broadcast\",{topic:o,message:e,meta:t})})}),function(){let o=!1;(t=axon.socket(\"sub\")).set(\"hwm\",10),t.connect(n.config.pubPort,n.config.pubHost),t.on(\"error\",function(e){n.error(\"[sub] %s\",e.message)}),t.on(\"connect\",function(){o=!0,n.debug(\"[sub] Connected on port %d...\",n.config.pubPort),e.broker.publish(\"messenger.client.connected\",{moduleName:n.name,socketType:\"sub\",host:n.config.pubHost,port:n.config.pubPort})}),t.on(\"reconnect attempt\",function(){o&&(n.debug(\"[sub] Disconnected. Reconnecting...\"),o=!1)}),t.on(\"message\",u)}(),function(){let o=!1;(c=axon.socket(\"req\")).set(\"hwm\",10),c.connect(n.config.repPort,n.config.repHost),c.on(\"error\",function(e){n.error(\"[req] %s\",e.message)}),c.on(\"connect\",function(){o=!0,n.debug(\"[req] Connected on port %d...\",n.config.repPort),e.broker.publish(\"messenger.client.connected\",{moduleName:n.name,socketType:\"req\",host:n.config.repHost,port:n.config.repPort})}),c.on(\"reconnect attempt\",function(){o&&(n.debug(\"[req] Disconnected. Reconnecting...\"),o=!1,e.broker.publish(\"messenger.client.disconnected\",{moduleName:n.name,socketType:\"req\",host:n.config.repHost,port:n.config.repPort}))})}(),function(e){if(!n.config.pushHost)return e(null,null);const o=axon.socket(\"req\");o.set(\"hwm\",10),o.bind(n.config.pushPort,n.config.pushHost),o.once(\"error\",e),o.on(\"bind\",function(){o.removeListener(\"error\",e),e(null,o)})}(function(e,t){if(e)return setImmediate(o,e);null===(r=t)?n.debug(\"push socket not used.\"):n.debug(\"push socket listening on port %d...\",n.config.pushPort),setImmediate(o)}),n.isConnected=function(){return t&&t.connected&&c&&c.connected},n.request=function(e,n,o){s(c,e,n,o)},n.push=function(e,n,o){if(null===r)return o(new Error(\"NO_PUSH_SOCKET\"));s(r,e,n,o)};function s(o,t,c,r){r=_.isFunction(r)?_.once(r):function(){};let s=null,u=null;if(u=_.once(function(e){null!==s&&clearTimeout(s),_.isString(e)&&(arguments[0]={message:e}),r.apply(null,arguments)}),\"client\"===o.type&&!o.connected||\"server\"===o.type&&0===o.socks.length)return u({code:\"NO_CONNECTION\",message:\"client\"===o.type?\"Not connected to the server.\":\"No clients connected.\"});o.send(t,c,u),s=e.timeout(c&&c.responseTimeout||n.config.responseTimeout,function(){s=null,u({code:\"RESPONSE_TIMEOUT\",message:\"Response timeout.\"})})}function u(n,o){e.broker.publish(n,o)}};","backend/modules/httpServer.js":"\"use strict\";const util=require(\"util\"),http=require(\"http\"),domain=require(\"domain\");exports.DEFAULT_CONFIG={expressId:\"express\",host:\"0.0.0.0\",port:80,availabilityTopics:[]},exports.start=function(e,r,t){let o=r.config.availabilityTopics.slice();o.forEach(r=>{e.broker.subscribe(r).setLimit(1).on(\"message\",()=>{o=o.filter(e=>e!==r)})}),r.isAvailable=(()=>0===o.length);function i(e){return\"EADDRINUSE\"===e.code?t(new Error(util.format(\"port %d already in use?\",r.config.port))):t(e)}domain.create().run(function(){r.server=http.createServer(function(t,o){const i=domain.create();i.add(t),i.add(o),i.on(\"error\",function(e){\"ECONNRESET\"!==e.code&&r.error(e.stack||e.message||e),i.dispose();try{o.statusCode=500,o.end()}catch(e){r.error(e.stack)}});const s=e[r.config.expressId];r.isAvailable()&&s?s.app(t,o):(o.writeHead(503),o.end())}),r.server.once(\"error\",i),r.server.listen(r.config.port,r.config.host,function(){return r.server.removeListener(\"error\",i),r.debug(\"Listening on port %d...\",r.config.port),t()})})};","backend/modules/sio/index.js":"\"use strict\";const{exec:exec}=require(\"child_process\"),_=require(\"lodash\"),engineIo=require(\"engine.io\"),socketIo=require(\"socket.io\"),SocketIoMultiServer=require(\"./SocketIoMultiServer\"),setUpRoutes=require(\"./routes\");let pmx=null;try{pmx=require(\"pmx\")}catch(e){}engineIo.Server.errors.SERVER_UNAVAILABLE=503,engineIo.Server.errorMessages[503]=\"Server unavailable\",exports.DEFAULT_CONFIG={httpServerIds:[\"httpServer\"],expressId:\"express\",userId:\"user\",pingsId:\"pings\",path:\"/sio\",socketIo:{pingInterval:3e4,pingTimeout:1e4},netstatCmd:\"\"},exports.start=function(e,t,n){t.config.socketIo=_.assign({},t.config.socketIo,{path:t.config.path,transports:[\"websocket\",\"xhr-polling\"],serveClient:!1,allowRequest:function(n,o){if(!t.config.httpServerIds.every(t=>e[t].isAvailable()))return o(engineIo.Server.errors.SERVER_UNAVAILABLE,!1);return t.checkRequest(n,o)}});let o=0;const s={currentUsersCounter:null,totalConnectionTime:null,totalConnectionCount:null};if(pmx){const e=pmx.probe();s.currentUsersCounter=e.counter({name:\"sio:currentUsers\"}),s.totalConnectionTime=e.histogram({name:\"sio:totalConnectionTime\",measurement:\"sum\"}),s.totalConnectionCount=e.histogram({name:\"sio:totalConnectionCount\",measurement:\"sum\"})}const r=new SocketIoMultiServer;e.onModuleReady(t.config.httpServerIds,function(){_.forEach(t.config.httpServerIds,function(t){r.addServer(e[t].server)}),function(){const n=socketIo(r,t.config.socketIo);t=e[t.name]=_.assign(n,t),n.sockets.setMaxListeners(25),e.onModuleReady([t.config.expressId,t.config.userId],setUpRoutes.bind(null,e,t)),t.on(\"connection\",function(n){++o,n.handshake.connectedAt=Date.now(),pmx&&s.currentUsersCounter.inc(),e[t.config.pingsId]&&e[t.config.pingsId].recordHttpRequest(n.conn.request),e.broker.publish(\"sockets.connected\",{socket:{_id:n.id,headers:n.handshake.headers||{},user:n.handshake.user||{}},socketCount:o}),n.on(\"disconnect\",function(){--o,pmx&&(s.totalConnectionCount.update(1),s.totalConnectionTime.update((Date.now()-n.handshake.connectedAt)/1e3),s.currentUsersCounter.dec()),e.broker.publish(\"sockets.disconnected\",{socketId:n.id,socketCount:o})}),n.on(\"echo\",function(){n.emit.apply(n,[\"echo\"].concat(Array.prototype.slice.call(arguments)))}),n.on(\"time\",function(e){_.isFunction(e)&&e(Date.now(),\"Europe/Warsaw\")}),n.on(\"killZombies\",function(){n.handshake&&n.handshake.user&&n.handshake.user.super&&function(e){const n=\"win32\"===process.platform,o=t.config.netstatCmd||(n?\"netstat -p tcp -n\":\"netstat -ant | grep ESTABLISHED\");exec(o,(t,o)=>{const s=new Set,r=n?2:4;(o||\"\").trim().split(\"\\n\").forEach(e=>{const t=e.replace(/\\s+/g,\" \").trim().split(\" \"),n=t[r],o=t[r+1];\"ESTABLISHED\"===o&&s.add(n)}),e(t,s)})}((e,n)=>{const o=Object.keys(t.sockets.connected);o.forEach(e=>{const o=t.sockets.connected[e],s=o.request.socket,r=`${s.remoteAddress}:${s.remotePort}`;n.has(r)&&s.readable&&s.writable&&!s.destroyed||o.disconnect(!0)});const s=Object.keys(t.sockets.connected);s.length<o.length&&t.debug(`Killed ${o.length-s.length} zombies!`)})})})}(),n()})};","node_modules/h5.pubsub/lib/MessageBroker.js":"\"use strict\";var Subscriptions=require(\"./Subscriptions\"),Subscription=require(\"./Subscription\"),Sandbox=require(\"./Sandbox\");module.exports=MessageBroker;function MessageBroker(){this.subscriptions=new Subscriptions(this),this.nextSubscriptionId=0,this.listeners={subscribe:[],cancel:[],\"new topic\":[],\"empty topic\":[],message:[]}}MessageBroker.prototype.destroy=function(){this.subscriptions.destroy(),this.subscriptions=null,this.listeners=null},MessageBroker.prototype.sandbox=function(){return new Sandbox(this)},MessageBroker.prototype.publish=function(e,t,s){return void 0===s&&(s={}),this.emit(\"message\",e,t,s),this.subscriptions.send(e,t,s),this},MessageBroker.prototype.subscribe=function(e,t){var s=new Subscription(this.getNextSubscriptionId(),e);return\"function\"==typeof t&&s.on(\"message\",t),this.subscriptions.add(s),this.emit(\"subscribe\",s),s},MessageBroker.prototype.unsubscribe=function(e){return this.subscriptions.remove(e),this},MessageBroker.prototype.count=function(){var e={};if(null===this.subscriptions)return e;return this.subscriptions.count(\"\",e),e},MessageBroker.prototype.on=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);return s.push(t),this},MessageBroker.prototype.off=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);var r=s.indexOf(t);return-1!==r&&s.splice(r,1),this},MessageBroker.prototype.emit=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);if(!s.length)return this;var r=arguments.length;r>4&&(t=Array.prototype.slice.call(arguments)).shift();for(var i=0,n=s.length;i<n;++i){var o=s[i];switch(r){case 4:o(arguments[1],arguments[2],arguments[3]);break;case 3:o(arguments[1],arguments[2]);break;case 2:o(arguments[1]);break;default:o.apply(null,t)}}return this},MessageBroker.prototype.getNextSubscriptionId=function(){return(this.nextSubscriptionId++).toString(36)};","node_modules/h5.pubsub/lib/Subscriptions.js":"\"use strict\";module.exports=Subscriptions;var EMPTY_TOPIC_PARTS=[];function Subscriptions(i){this.messageBroker=i,this.children={},this.subscriptions=[],this.subscriptionsPendingRemoval=[],this.sendingMessagesCount=0,this.removeSubscription=this.removeSubscription.bind(this)}Subscriptions.TOKEN={SEPARATOR:\".\",ANY:\"*\",ALL:\"**\"},Subscriptions.prototype.destroy=function(){for(var i=this.children,s=Object.keys(i),t=0,e=s.length;t<e;++t)i[s[t]].destroy();this.children=null,this.removeSubscriptions(),this.subscriptionsPendingRemoval=null,this.messageBroker=null},Subscriptions.prototype.count=function(i,s){this.subscriptions.length&&(s[i]=this.subscriptions.length);var t=Object.keys(this.children),e=t.length;if(e){0!==i.length&&(i+=Subscriptions.TOKEN.SEPARATOR);for(var n=0;n<e;++n){var o=t[n];this.children[o].count(i+o,s)}}},Subscriptions.prototype.add=function(i){var s=this.splitTopic(i.getTopic());this.addSubscription(s,i)},Subscriptions.prototype.remove=function(i){this.removeSubscriptions(this.splitTopic(i))},Subscriptions.prototype.send=function(i,s,t){var e=this.splitTopic(i);this.sendMessage(e,i,s,t)},Subscriptions.prototype.addSubscription=function(i,s){if(0===i.length)return this.subscriptions.push(s),s.on(\"cancel\",this.removeSubscription),void(1===this.subscriptions.length&&this.messageBroker.emit(\"new topic\",s.getTopic()));var t=this.children,e=i.shift();void 0===t[e]&&(t[e]=new Subscriptions(this.messageBroker)),t[e].addSubscription(i,s)},Subscriptions.prototype.removeSubscriptions=function(i){var s,t;if(void 0!==i&&0!==i.length){var e=i.shift();void 0!==this.children[e]&&this.children[e].removeSubscriptions(i)}else{var n=this.subscriptions;if(!n.length)return;this.subscriptions=[];var o=n[0].getTopic();for(s=0,t=n.length;s<t;++s)n[s].cancel();this.messageBroker.emit(\"empty topic\",o)}},Subscriptions.prototype.sendMessage=function(i,s,t,e){if(++this.sendingMessagesCount,void 0!==this.children[Subscriptions.TOKEN.ALL]&&this.children[Subscriptions.TOKEN.ALL].sendMessage(EMPTY_TOPIC_PARTS,s,t,e),0===i.length)for(var n=0,o=this.subscriptions.length;n<o;++n)this.subscriptions[n].send(s,t,e);else{var r=i.shift();void 0!==this.children[Subscriptions.TOKEN.ANY]&&this.children[Subscriptions.TOKEN.ANY].sendMessage([].concat(i),s,t,e),void 0!==this.children[r]&&this.children[r].sendMessage(i,s,t,e)}--this.sendingMessagesCount,this.removePendingSubscriptions()},Subscriptions.prototype.splitTopic=function(i){var s=i.split(Subscriptions.TOKEN.SEPARATOR).filter(function(i){return 0!==i.length});if(0===s.length)throw new Error(\"Invalid subscription topic: \"+i);return s},Subscriptions.prototype.removeSubscription=function(i){if(this.messageBroker.emit(\"cancel\",i),0!==this.subscriptions.length)return 1===this.subscriptions.length&&this.subscriptions[0]===i?(this.subscriptions.length=0,void this.messageBroker.emit(\"empty topic\",i.getTopic())):void this.removeOrQueueRemoval(i)},Subscriptions.prototype.removeOrQueueRemoval=function(i){0===this.sendingMessagesCount?this.subscriptions.splice(this.subscriptions.indexOf(i),1):this.subscriptionsPendingRemoval.push(i)},Subscriptions.prototype.removePendingSubscriptions=function(){var i=this.subscriptionsPendingRemoval,s=i.length;if(s&&!this.sendingMessagesCount){var t=this.subscriptions;if(s===t.length)return i.length=0,void(t.length=0);var e,n,o=[];for(e=0;e<s;++e)o.push(t.indexOf(i[e]));for(o.sort(function(i,s){return s-i}),e=0,n=o.length;e<n;++e)t.splice(o[e],1);i.length=0}};","node_modules/h5.pubsub/lib/Subscription.js":"\"use strict\";module.exports=Subscription;function Subscription(t,i){this.cancelled=!1,this.id=t,this.topic=i,this.messageFilter=null,this.messageLimit=0,this.messageCount=0,this.doFilter=null,this.listeners={cancel:null,message:null}}Subscription.compileFilter=function(){throw new Error(\"Subscription.compileFilter() is not implemented!\")},Subscription.prototype.toJSON=function(){var t=this.getFilter();return\"function\"==typeof t&&(t=t.toString()),{id:this.getId(),topic:this.getTopic(),limit:this.getLimit(),filter:t}},Subscription.prototype.getId=function(){return this.id},Subscription.prototype.getTopic=function(){return this.topic},Subscription.prototype.getFilter=function(){return this.messageFilter},Subscription.prototype.setFilter=function(t){if(this.messageFilter=t,\"function\"==typeof t)this.doFilter=t;else if(this.doFilter=Subscription.compileFilter(t),\"function\"!=typeof this.doFilter)throw new Error(\"Subscription.compileFilter() must return a function.\");return this},Subscription.prototype.getLimit=function(){return this.messageLimit},Subscription.prototype.setLimit=function(t){if(t<1)throw new Error(\"Subscription limit must be greater than 0.\");return this.messageLimit=t,this},Subscription.prototype.getMessageCount=function(){return this.messageCount},Subscription.prototype.on=function(t,i){if(this.cancelled)return this;var e=this.listeners[t],n=typeof e;if(\"undefined\"===n)throw new Error(\"Unknown event: \"+t);return\"function\"===n?this.listeners[t]=[e,i]:null===e?this.listeners[t]=i:this.listeners[t].push(i),this},Subscription.prototype.off=function(t,i){if(this.cancelled)return this;var e=this.listeners[t],n=typeof e;if(\"undefined\"===n)throw new Error(\"Unknown event: \"+t);if(\"function\"===n&&e===i)this.listeners[t]=null;else if(\"object\"===n&&null!==e){for(var s=-1,r=e.length,o=0;o<r;++o)if(e[o]===i){s=o;break}-1!==s&&(e.splice(s,1),2===r&&(this.listeners[t]=e[0]))}return this},Subscription.prototype.cancel=function(){this.cancelled||(this.cancelled=!0,this.emit(\"cancel\",this),this.listeners=null,this.doFilter=null)},Subscription.prototype.send=function(t,i,e){this.cancelled||null!==this.doFilter&&!this.doFilter(i,t,e,this)||(++this.messageCount,this.emit(\"message\",i,t,e,this),this.messageCount===this.messageLimit&&this.cancel())},Subscription.prototype.emit=function(t){var i=this.listeners[t];if(null!==i){var e=arguments.length;if(\"function\"!=typeof i)for(var n=0,s=i.length;n<s;++n)5===e?i[n](arguments[1],arguments[2],arguments[3],arguments[4]):i[n](arguments[1]);else 5===e?i(arguments[1],arguments[2],arguments[3],arguments[4]):i(arguments[1])}};","node_modules/h5.pubsub/lib/Sandbox.js":"\"use strict\";module.exports=Sandbox;function Sandbox(t){this.broker=t,this.subscriptions={},this.removeSubscription=this.removeSubscription.bind(this)}Sandbox.prototype.destroy=function(){var t=this.subscriptions;null!==t&&Object.keys(t).forEach(function(o){t[o].cancel()}),this.subscriptions=null,this.broker=null},Sandbox.prototype.sandbox=function(){return new Sandbox(this)},Sandbox.prototype.publish=function(t,o,s){return this.broker.publish(t,o,s),this},Sandbox.prototype.subscribe=function(t,o){var s=this.broker.subscribe(t,o);return s.on(\"cancel\",this.removeSubscription),this.subscriptions[s.getId()]=s,s},Sandbox.prototype.unsubscribe=function(t){var o=[],s=this.subscriptions;for(var i in s)s.hasOwnProperty(i)&&s[i].getTopic()===t&&o.push(i);for(var n=0,r=o.length;n<r;++n)s[o[n]].cancel();return this},Sandbox.prototype.removeSubscription=function(t){delete this.subscriptions[t.getId()]};","backend/models/setting.js":"\"use strict\";module.exports=function(t,e){var i=e.Schema({_id:{type:String,required:!0,trim:!0},value:{},updatedAt:Date,updater:{}},{id:!1});i.statics.TOPIC_PREFIX=\"settings\",i.statics.BROWSE_LIMIT=1e3,e.model(\"Setting\",i)};","backend/models/event.js":"\"use strict\";module.exports=function(e,t){var i=t.Schema({type:{type:String,trim:!0,required:!0},severity:{type:String,enum:[\"debug\",\"info\",\"success\",\"warning\",\"error\"],default:\"info\"},time:{type:Number,default:Date.now},user:{type:Object},data:{type:Object}},{id:!1});i.statics.TOPIC_PREFIX=\"events\",i.index({time:-1}),i.index({severity:1,time:-1}),i.index({type:1,time:-1}),t.model(\"Event\",i)};","backend/models/user.js":"\"use strict\";module.exports=function(e,t){var r=t.Schema({fromTime:{type:String,required:!0,pattern:/^[0-9]{2}:[0-9]{2}$/},toTime:{type:String,required:!0,pattern:/^[0-9]{2}:[0-9]{2}$/},number:{type:String,required:!0}},{_id:!1}),i=t.Schema({login:{type:String,trim:!0,required:!0},password:{type:String,trim:!0,required:!0},email:String,privileges:[String],firstName:String,lastName:String,gender:{type:String,enum:[\"female\",\"male\"],default:\"male\"},mobile:[r]},{id:!1,toJSON:{transform:function(e,t){return delete t.password,t}}});i.index({login:1}),i.index({lastName:1}),i.index({privileges:1}),i.statics.TOPIC_PREFIX=\"users\",i.statics.customizeLeanObject=function(e){return delete e.password,e},t.model(\"User\",i)};","backend/models/passwordResetRequest.js":"\"use strict\";module.exports=function(e,t){var r=new t.Schema({_id:String,createdAt:Date,creator:{},user:{type:t.Schema.Types.ObjectId,ref:\"User\"},password:String},{id:!1});t.model(\"PasswordResetRequest\",r)};","backend/models/alarm.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(t,e){const n={STOPPED:0,RUNNING:1,ACTIVE:2},i={MANUAL:\"manual\",NEGATED:\"negated\",SPECIFIED:\"specified\"},s={DEBUG:\"debug\",INFO:\"info\",SUCCESS:\"success\",WARNING:\"warning\",ERROR:\"error\"},r=new e.Schema({type:{type:String,enum:[\"sms\",\"email\",\"call\",\"severity\"],required:!0},parameters:{type:e.Schema.Types.Mixed},delay:{type:Number,min:0,max:86400,default:0},severity:{type:String,enum:_.values(s),default:s.WARNING}},{_id:!1}),o=new e.Schema({name:{type:String,trim:!0,required:!0},state:{type:Number,min:0,max:2,default:n.STOPPED},lastStateChangeTime:{type:Number,min:0,default:0},startCondition:{type:String},startConditionTags:[String],startFunction:{type:String,default:\"\"},startActions:[r],stopConditionMode:{type:String,enum:_.values(i)},stopCondition:{type:String},stopConditionTags:[String],stopFunction:{type:String,default:\"\"},stopActions:[r]},{toJSON:{virtuals:!0,transform:function(t,e){return delete e.startFunction,delete e.stopFunction,e}}},{id:!1});o.index({state:-1}),o.path(\"startActions\").validate(function(t){return Array.isArray(t)&&t.length>0},\"INVALID_ACTIONS\"),o.pre(\"save\",function(t){this.isDirectModified(\"state\")&&(this.lastStateChangeTime=Date.now()),t()}),o.statics.State=n,o.statics.StopConditionMode=i,o.statics.customizeLeanObject=function(t,e){const n=_.isEmpty(e);if(n||e.actionIndex||e.severity){const i=a(t);(n||e.actionIndex)&&(t.actionIndex=i),(n||e.severity)&&(t.severity=u(t,i))}return t},o.virtual(\"actionIndex\").get(function(){return a(this)}),o.virtual(\"severity\").get(function(){return u(this,a(this))}),o.methods.getCurrentStartActionIndex=function(t){const e=this.startActions,n=Date.now()-t;let i=-1,s=0;for(let t=0;t<e.length&&(s+=1e3*e[t].delay,!(n<s));++t)i=t;return i},o.methods.getStartActionExecutionTime=function(t,e){if(t<0||t>=this.startActions.length)return-1;let n=e;for(let e=0;e<=t;++e)n+=1e3*this.startActions[e].delay;return n},o.methods.isStopped=function(){return this.state===n.STOPPED},o.methods.isRunning=function(){return this.state===n.RUNNING},o.methods.isActive=function(){return this.state===n.ACTIVE},o.methods.isManualStop=function(){return this.stopConditionMode===i.MANUAL},o.methods.isNegatedStop=function(){return this.stopConditionMode===i.NEGATED},o.methods.isSpecifiedStop=function(){return this.stopConditionMode===i.SPECIFIED},e.model(\"Alarm\",o);function a(t){if(t.state!==n.ACTIVE||\"number\"!=typeof t.lastStateChangeTime)return-1;var e=t.startActions;if(!Array.isArray(e)||0===e.length)return-1;const i=Date.now()-t.lastStateChangeTime;let s=0;for(let t=0;t<e.length;++t)if(s+=1e3*e[t].delay,i<s)return t;return e.length-1}function u(t,e){return-1===e?t.state===n.ACTIVE?\"debug\":null:t.startActions[e].severity}};","backend/models/maxosTest.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(t,e){const s=new e.Schema({status:{type:String,enum:[\"idle\",\"running\",\"failure\",\"success\"],default:\"idle\"},reason:{type:String,default:\"\"},error:{type:String,default:\"\"},updatedAt:{type:Date,default:null},startedAt:{type:Date,default:null},finishedAt:{type:Date,default:null},messages:[{}],order:{},safetyTest:{},throughWireTest:{},serialNumber:String,itemNumber:Number},{id:!1,minimize:!1,retainKeyOrder:!0,usePushEach:!0});s.statics.TOPIC_PREFIX=\"maxos.tests\",s.index({status:1,startedAt:-1}),s.index({reason:1,startedAt:-1}),s.index({startedAt:-1}),s.index({serialNumber:1,status:1}),s.index({\"order._id\":1,status:1,itemNumber:-1}),s.statics.findLastSerialNumber=function(t,e){const s={\"order._id\":t,status:\"success\"};this.find(s,{_id:0,serialNumber:1}).sort({\"order._id\":1,status:1,itemNumber:-1}).limit(1).lean().exec((t,s)=>{if(t)return e(t);const r=s.length?s[0].serialNumber:null;e(null,r||\"0000.000000000.0000\")})},s.statics.findQuantityDone=function(t,e){const s=[{$match:{\"order._id\":t,status:\"success\"}},{$group:{_id:null,quantityDone:{$sum:1}}}];this.aggregate(s,(t,s)=>{if(t)return e(t,0);e(null,s.length?s[0].quantityDone:0)})},s.methods.isRunning=function(){return\"running\"===this.status},s.methods.update=function(e,s){return e.updatedAt=new Date,this.set(e),s?this.save(function(r){t.broker.publish(\"maxos.test.updated\",e),s(r,e)}):t.broker.publish(\"maxos.test.updated\",e),this},s.methods.fail=function(t,e,s){return this.update({status:\"failure\",reason:t||\"\",error:e||\"\",finishedAt:new Date},s)},s.methods.finish=function(t){return this.update({status:\"success\",finishedAt:new Date},t)},s.methods.run=function(t,e){return this.update({status:\"running\",startedAt:new Date,order:t},e)},s.methods.copySafetyTest=function(t){const e={config:_.cloneDeep(t(\"safetyTest.config\")),pe2:t(\"safetyTest.pe2\"),results:[t(\"program.safetyTest.1.pe1\"),t(\"program.safetyTest.1.iso\"),t(\"program.safetyTest.1.pe2\"),t(\"program.safetyTest.2.pe1\"),t(\"program.safetyTest.2.iso\"),t(\"program.safetyTest.2.pe2\")]};this.update({safetyTest:e})},s.methods.copyThroughWireTest=function(t){const e={checkAllCores:t(\"throughWireTest.checkAllCores\"),checkDelay:t(\"throughWireTest.checkDelay\"),results:[null,[],[]],aside:[null],status:[null]};for(let s=1;s<=2;++s)for(let r=1;r<=7;++r)e.results[s].push(t(`program.throughWireTest.${s}.${r}`));const s=t(\"powerConnector.1\"),r=t(\"powerConnector.2\");for(let n=1;n<=10;++n){e.aside.push(t(`L.${n}.aside`));const i=n===s||n===r?\"control\":\"status\",u=[null];for(let e=1;e<=7;++e)u.push(t(`L.${n}.${e}.${i}`));e.status.push(u)}this.update({throughWireTest:e})},s.methods.generateSerialNumber=function(t){const e=this.order._id;this.constructor.findLastSerialNumber(e,(s,r)=>{if(s)return t(s);const n=((/\\.[0-9]+\\.[0-9]+$/.test(r)?+r.split(\".\")[2].replace(/^0+/,\"\"):0)+1).toString(),i=`${this.order.factoryCode||\"????\"}.${e}.${n.padStart(4,\"0\")}`;this.update({serialNumber:i,itemNumber:n},t)})},s.methods.findQuantityDone=function(t){if(!this.order)return t(null,0);this.constructor.findQuantityDone(this.order._id,t)},e.model(\"MaxosTest\",s)};","backend/routes/core.js":"\"use strict\";const path=require(\"path\"),_=require(\"lodash\");module.exports=function(e,i){const t=\"development\"===e.options.env,n=e[e.options.updaterId||\"updater\"],o=e[e.options.userId||\"user\"],s=JSON.stringify(_.omit(o.root,\"password\")),r=JSON.stringify(o.guest),a=JSON.stringify(o.config.privileges),c=JSON.stringify(e.options.modules.map(e=>e.id||e)),d=JSON.stringify(e.options.dashboardUrlAfterLogIn||\"/\");let f=null,p=null;e.broker.subscribe(\"updater.newVersion\",u).setFilter(i=>i.service===e.options.id),u(),n&&e.options.dictionaryModules&&_.forEach(Object.keys(e.options.dictionaryModules),g),i.get(\"/\",function(i,o){const f=i.session.user,p=f&&f.locale?f.locale:\"pl\",u={ENV:JSON.stringify(e.options.env),VERSIONS:JSON.stringify(n?n.getVersions():{}),TIME:JSON.stringify(Date.now()),LOCALE:JSON.stringify(p),ROOT_USER:s,GUEST_USER:r,PRIVILEGES:a,MODULES:c,DASHBOARD_URL_AFTER_LOG_IN:d};_.forEach(e.options.dictionaryModules,function(i,t){const n=e[t].models;0!==n.length?\"function\"==typeof n[0].toDictionaryObject?u[i]=JSON.stringify(_.invokeMap(n,\"toDictionaryObject\")):u[i]=JSON.stringify(n):u[i]=\"[]\"}),_.forEach(e.options.frontendAppData,function(i,t){u[t]=JSON.stringify(_.isFunction(i)?i(e):i)});let g=\"\";!t&&e.updater&&_.forEach(e.updater.config.manifests,function(e){\"frontend\"!==e.frontendVersionKey&&e.frontendVersionKey||(g=e.path)});o.render(\"index\",{appCacheManifest:g,appData:u,mainJsFile:e.options.mainJsFile||\"main.js\",mainCssFile:e.options.mainCssFile||\"assets/main.css\"})}),i.get(\"/redirect\",function(e,i){i.redirect(e.query.referrer||\"/\")}),i.get(\"/time\",(e,i)=>i.send(Date.now().toString())),i.get(\"/maxos\",(e,i)=>i.redirect(\"/#maxos\")),i.get(\"/config.js\",function(e,i){i.type(\"js\"),i.render(\"config.js.ejs\",{paths:f,shim:p})}),i.get(\"/favicon.ico\",function(n,o){const s=path.join(i.config[t?\"staticPath\":\"staticBuildPath\"],e.options.faviconFile||\"favicon.ico\");o.type(\"image/x-icon\"),o.sendFile(s)});function u(){const e=require.resolve(\"../../config/require\");delete require.cache[e];const i=require(e);f=JSON.stringify(i.paths),p=JSON.stringify(i.shim)}function g(i){e.broker.subscribe(`${i}.added`,n.updateFrontendVersion),e.broker.subscribe(`${i}.edited`,n.updateFrontendVersion),e.broker.subscribe(`${i}.deleted`,n.updateFrontendVersion)}};","node_modules/moment/locale/pl.js":"!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module&&\"function\"==typeof require?t(require(\"../moment\")):\"function\"==typeof define&&define.amd?define([\"../moment\"],t):t(e.moment)}(this,function(e){\"use strict\";var t=\"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień\".split(\"_\"),i=\"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia\".split(\"_\");function n(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,i){var a=e+\" \";switch(i){case\"m\":return t?\"minuta\":\"minutę\";case\"mm\":return a+(n(e)?\"minuty\":\"minut\");case\"h\":return t?\"godzina\":\"godzinę\";case\"hh\":return a+(n(e)?\"godziny\":\"godzin\");case\"MM\":return a+(n(e)?\"miesiące\":\"miesięcy\");case\"yy\":return a+(n(e)?\"lata\":\"lat\")}}return e.defineLocale(\"pl\",{months:function(e,n){return e?\"\"===n?\"(\"+i[e.month()]+\"|\"+t[e.month()]+\")\":/D MMMM/.test(n)?i[e.month()]:t[e.month()]:t},monthsShort:\"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru\".split(\"_\"),weekdays:\"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota\".split(\"_\"),weekdaysShort:\"ndz_pon_wt_śr_czw_pt_sob\".split(\"_\"),weekdaysMin:\"Nd_Pn_Wt_Śr_Cz_Pt_So\".split(\"_\"),longDateFormat:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD.MM.YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd, D MMMM YYYY HH:mm\"},calendar:{sameDay:\"[Dziś o] LT\",nextDay:\"[Jutro o] LT\",nextWeek:\"[W] dddd [o] LT\",lastDay:\"[Wczoraj o] LT\",lastWeek:function(){switch(this.day()){case 0:return\"[W zeszłą niedzielę o] LT\";case 3:return\"[W zeszłą środę o] LT\";case 6:return\"[W zeszłą sobotę o] LT\";default:return\"[W zeszły] dddd [o] LT\"}},sameElse:\"L\"},relativeTime:{future:\"za %s\",past:\"%s temu\",s:\"kilka sekund\",m:a,mm:a,h:a,hh:a,d:\"1 dzień\",dd:\"%d dni\",M:\"miesiąc\",MM:a,y:\"rok\",yy:a},dayOfMonthOrdinalParse:/\\d{1,2}\\./,ordinal:\"%d.\",week:{dow:1,doy:4}})});","backend/modules/updater/routes.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(e,n){const t=e[n.config.expressId];_.forEach(n.config.manifests,function(s){t.get(s.path,function(t,i){const o=s.template||n.manifest;if(\"development\"===e.options.env||\"string\"!=typeof o)return i.sendStatus(404);const r=o.replace(\"{version}\",\"v\"+n.getFrontendVersion(s.frontendVersionKey)).replace(\"{mainJsFile}\",s.mainJsFile).replace(\"{mainCssFile}\",s.mainCssFile);i.type(\"text/cache-manifest\"),i.send(r)})})};","backend/modules/updater/commands.js":"\"use strict\";const exec=require(\"child_process\").exec;module.exports=function(e,t){e[t.config.sioId].sockets.on(\"connection\",function(e){e.emit(\"updater.versions\",t.getVersions()),e.on(\"updater.pull\",function(n){\"function\"!=typeof n&&(n=function(){});const o=e.handshake.user;if(!o||!o.super)return t.warn(\"Unauthorized pull attempt from:\",JSON.stringify(e.handshake)),n(new Error(\"AUTH\"));const u='\"'+t.config.pull.exe+'\" pull';t.debug(\"Attempting a pull...\"),exec(u,t.config.pull,function(e,o,u){e?t.error(\"Failed the pull: %s\",e.stack):u&&u.length?t.debug(\"Failed the pull :(\"):t.debug(\"Pull succeeded :)\"),n(e,{stdout:o,stderr:u})})})})};","backend/modules/updater/expressMiddleware.js":"\"use strict\";module.exports=function(e,t,r,n,a){if(!t.restarting)return a();const s=t.config.restartDelay-(Date.now()-t.restarting)+5e3;n.status(503).format({text:function(){n.send(\"503 - Service Unavailable - Restarting... try again in \"+Math.ceil(s/1e3)+\"s\")},html:function(){n.render(t.config.errorTemplate,{restartDelay:s})},json:function(){n.send({error:{message:\"503\"},restartDelay:s})}})};","package.json":{"private":true,"guid":"EFD6FD4E-DE2B-44F8-9C1E-4406BDAC4F2E","name":"walkner-maxos","version":"0.0.0","updater":{"maxos":{"backend":1,"frontend":1,"alarms":1,"controller":1,"watchdog":1,"mailer":1}},"description":"Cable testing application in Node.js.","license":"CC BY-NC-SA 4.0","homepage":"https://github.com/morkai/walkner-maxos","author":{"name":"Łukasz Walukiewicz","email":"lukasz@miracle.systems","url":"https://miracle.systems/"},"bugs":"https://github.com/morkai/walkner-maxos/issues","repository":{"type":"git","url":"https://github.com/morkai/walkner-maxos.git"},"engine":["node >=8.0.0"],"main":"./backend/main","dependencies":{"axon":"~2.0.3","bcrypt":"~1.0.2","blocked":"~1.2.1","body-parser":"~1.17.2","cookie":"~0.3.1","cookie-parser":"~1.4.3","csv":"~1.1.1","deep-equal":"~1.0.1","ejs":"~2.5.7","ejs-amd":"~1.0.0","escodegen":"~1.8.0","esprima":"~2.7.2","estraverse":"~4.2.0","express":"~4.15.4","express-session":"~1.15.5","fs-extra":"~4.0.1","glp2":"git+http://github.com/morkai/node-glp2.git#a384cd9791e","h5.main":"git+http://github.com/morkai/h5.main.git#7fb51e2571","h5.modbus":"git+http://github.com/morkai/h5.modbus#552e2c3f6f","h5.pubsub":"git+http://github.com/morkai/h5.pubsub.git#c1a899cb7e","h5.rql":"git+http://github.com/morkai/h5.rql.git#5622189665","h5.step":"git+http://github.com/morkai/h5.step.git#14ea69a759","https-proxy-agent":"~1.0.0","later":"~1.2.0","lodash":"~4.17.4","mail-listener2":"~0.3.1","messageformat":"~0.2.2","messageformat-amd":"git+http://github.com/morkai/messageformat-amd.git#d41fd5caba","methods":"~1.1.2","moment":"~2.18.1","mongodb":"~2.2.31","mongoose":"~4.11.7","mongoose-auto-increment":"~5.0.1","multer":"~1.3.0","nodemailer":"~4.0.1","request":"~2.83.0","socket.io":"~1.7.4","transliteration":"~1.6.2","twilio":"~3.6.0","uuid":"~3.1.0"},"devDependencies":{"grunt":"~1.0.1","grunt-contrib-clean":"~1.1.0","grunt-contrib-concat":"~1.0.1","grunt-contrib-copy":"~1.0.0","grunt-contrib-requirejs":"~1.0.0","grunt-ejs-amd":"git+http://github.com/morkai/grunt-ejs-amd.git#07b9f7ae3a","grunt-eslint":"~20.0.0","grunt-messageformat-amd":"git+http://github.com/morkai/grunt-messageformat-amd.git#052e4d4ee5","grunt-run":"~0.7.0","grunt-text-replace":"~0.4.0"}},"node_modules/mongoose/index.js":"module.exports=require(\"./lib/\");","node_modules/mongoose-auto-increment/index.js":"var counterSchema,IdentityCounter,mongoose=require(\"mongoose\"),extend=require(\"extend\");exports.initialize=function(e){try{IdentityCounter=e.model(\"IdentityCounter\")}catch(t){if(\"MissingSchemaError\"!==t.name)throw t;(counterSchema=new mongoose.Schema({model:{type:String,require:!0},field:{type:String,require:!0},count:{type:Number,default:0}})).index({field:1,model:1},{unique:!0}),IdentityCounter=e.model(\"IdentityCounter\",counterSchema)}},exports.plugin=function(e,t){if(!counterSchema||!IdentityCounter)throw new Error(\"mongoose-auto-increment has not been initialized\");var n={model:null,field:\"_id\",startAt:0,incrementBy:1,unique:!0},i={},o=!1;switch(typeof t){case\"string\":n.model=t;break;case\"object\":extend(n,t)}if(null==n.model)throw new Error(\"model must be set\");i[n.field]={type:Number,require:!0},\"_id\"!==n.field&&(i[n.field].unique=n.unique),e.add(i),IdentityCounter.findOne({model:n.model,field:n.field},function(e,t){t?o=!0:(t=new IdentityCounter({model:n.model,field:n.field,count:n.startAt-n.incrementBy})).save(function(){o=!0})});var d=function(e){IdentityCounter.findOne({model:n.model,field:n.field},function(t,i){if(t)return e(t);e(null,null===i?n.startAt:i.count+n.incrementBy)})};e.method(\"nextCount\",d),e.static(\"nextCount\",d);var r=function(e){IdentityCounter.findOneAndUpdate({model:n.model,field:n.field},{count:n.startAt-n.incrementBy},{new:!0},function(t){if(t)return e(t);e(null,n.startAt)})};e.method(\"resetCount\",r),e.static(\"resetCount\",r),e.pre(\"save\",function(e){var t=this;t.isNew?function i(){o?\"number\"==typeof t[n.field]?IdentityCounter.findOneAndUpdate({model:n.model,field:n.field,count:{$lt:t[n.field]}},{count:t[n.field]},function(t){if(t)return e(t);e()}):IdentityCounter.findOneAndUpdate({model:n.model,field:n.field},{$inc:{count:n.incrementBy}},{new:!0},function(i,o){if(i)return e(i);t[n.field]=o.count,e()}):setTimeout(i,5)}():e()})};","backend/modules/mongoose/expressMiddleware.js":"\"use strict\";const mongoose=require(\"mongoose\");module.exports=function(e,n,o,t,a){if(n.connection.readyState===mongoose.Connection.STATES.connected)return a();t.status(503).format({text:function(){t.send(\"503 - Service Unavailable - No database connection. Please try again later.\")},html:function(){t.render(\"mongoose:unavailable\")},json:function(){t.json({error:{message:\"503\"}})}})};","node_modules/mongoose/lib/index.js":"\"use strict\";var Schema=require(\"./schema\"),SchemaType=require(\"./schematype\"),VirtualType=require(\"./virtualtype\"),STATES=require(\"./connectionstate\"),Types=require(\"./types\"),Query=require(\"./query\"),Model=require(\"./model\"),Document=require(\"./document\"),utils=require(\"./utils\"),format=utils.toCollectionName,pkg=require(\"../package.json\"),querystring=require(\"querystring\"),saveSubdocs=require(\"./plugins/saveSubdocs\"),validateBeforeSave=require(\"./plugins/validateBeforeSave\"),Aggregate=require(\"./aggregate\"),PromiseProvider=require(\"./promise_provider\"),shardingPlugin=require(\"./plugins/sharding\");function Mongoose(){this.connections=[],this.models={},this.modelSchemas={},this.options={pluralization:!0};this.createConnection().models=this.models,Object.defineProperty(this,\"plugins\",{configurable:!1,enumerable:!0,writable:!1,value:[[saveSubdocs,{deduplicate:!0}],[validateBeforeSave,{deduplicate:!0}],[shardingPlugin,{deduplicate:!0}]]})}Mongoose.prototype.STATES=STATES,Mongoose.prototype.set=function(e,o){return 1===arguments.length?this.options[e]:(this.options[e]=o,this)},Mongoose.prototype.set.$hasSideEffects=!0,Mongoose.prototype.get=Mongoose.prototype.set;var rgxReplSet=/^.+,.+$/,checkReplicaSetInUri=function(e){if(!e)return!1;var o=e.indexOf(\"?\"),t=!1;if(-1!==o)try{var n=querystring.parse(e.substr(o+1));n&&n.replicaSet&&(t=!0)}catch(e){return!1}return t};Mongoose.prototype.createConnection=function(e,o){var t=new Connection(this);this.connections.push(t);var n=o&&(o.replset||o.replSet);return o&&o.useMongoClient?t.openUri(e,o):(arguments.length&&(rgxReplSet.test(arguments[0])||checkReplicaSetInUri(arguments[0])?t._openSetWithoutPromise.apply(t,arguments):n&&(n.replicaSet||n.rs_name)?t._openSetWithoutPromise.apply(t,arguments):t._openWithoutPromise.apply(t,arguments)),t)},Mongoose.prototype.createConnection.$hasSideEffects=!0,Mongoose.prototype.connect=function(){var e=this.connection;return 2!==arguments.length&&3!==arguments.length||\"string\"!=typeof arguments[0]||\"object\"!=typeof arguments[1]||!0!==arguments[1].useMongoClient?rgxReplSet.test(arguments[0])||checkReplicaSetInUri(arguments[0])?new MongooseThenable(this,e.openSet.apply(e,arguments)):new MongooseThenable(this,e.open.apply(e,arguments)):e.openUri(arguments[0],arguments[1],arguments[2])},Mongoose.prototype.connect.$hasSideEffects=!0,Mongoose.prototype.disconnect=function(e){var o=this;return new MongooseThenable(this,new(PromiseProvider.get().ES6)(function(t,n){var r=o.connections.length;if(r<=0)return e&&e(),void t();o.connections.forEach(function(o){o.close(function(o){if(o)return e&&e(o),void n(o);--r||(e&&e(),t())})})}))},Mongoose.prototype.disconnect.$hasSideEffects=!0,Mongoose.prototype.model=function(e,o,t,n){var r;if(\"function\"==typeof e&&(r=e,e=r.name,!(r.prototype instanceof Model)))throw new mongoose.Error(\"The provided class \"+e+\" must extend Model\");if(\"string\"==typeof o&&(t=o,o=!1),utils.isObject(o)&&!o.instanceOfSchema&&(o=new Schema(o)),o&&!o.instanceOfSchema)throw new Error(\"The 2nd parameter to `mongoose.model()` should be a schema or a POJO\");\"boolean\"==typeof t&&(n=t,t=null);var i;if(n&&utils.isObject(n)?(i=n,n=!0):i={},!this.modelSchemas[e]){if(!o)throw new mongoose.Error.MissingSchemaError(e);this.modelSchemas[e]=o}o&&this._applyPlugins(o);if(this.models[e]&&!1!==i.cache){if(o&&o.instanceOfSchema&&o!==this.models[e].schema)throw new mongoose.Error.OverwriteModelError(e);return t?(r=this.models[e],o=r.prototype.schema,r.__subclass(this.connection,o,t)):this.models[e]}if(!o&&!(o=this.modelSchemas[e]))throw new mongoose.Error.MissingSchemaError(e);\"pluralization\"in o.options||(o.options.pluralization=this.options.pluralization),t||(t=o.get(\"collection\")||format(e,o.options));var s=i.connection||this.connection;return r=this.Model.compile(r||e,o,t,s,this),n||r.init(),!1===i.cache?r:(this.models[e]=r,this.models[e])},Mongoose.prototype.model.$hasSideEffects=!0,Mongoose.prototype.modelNames=function(){return Object.keys(this.models)},Mongoose.prototype.modelNames.$hasSideEffects=!0,Mongoose.prototype._applyPlugins=function(e){if(!e.$globalPluginsApplied){var o,t;for(o=0,t=this.plugins.length;o<t;++o)e.plugin(this.plugins[o][0],this.plugins[o][1]);for(e.$globalPluginsApplied=!0,o=0,t=e.childSchemas.length;o<t;++o)this._applyPlugins(e.childSchemas[o].schema)}},Mongoose.prototype._applyPlugins.$hasSideEffects=!0,Mongoose.prototype.plugin=function(e,o){return this.plugins.push([e,o]),this},Mongoose.prototype.plugin.$hasSideEffects=!0,Mongoose.prototype.__defineGetter__(\"connection\",function(){return this.connections[0]}),Mongoose.prototype.__defineSetter__(\"connection\",function(e){this.connections[0]=e});var driver=global.MONGOOSE_DRIVER_PATH||\"./drivers/node-mongodb-native\",Connection=require(driver+\"/connection\"),Collection=require(driver+\"/collection\");Mongoose.prototype.Aggregate=Aggregate,Mongoose.prototype.Collection=Collection,Mongoose.prototype.Connection=Connection,Mongoose.prototype.version=pkg.version,Mongoose.prototype.Mongoose=Mongoose,Mongoose.prototype.Schema=Schema,Mongoose.prototype.SchemaType=SchemaType,Mongoose.prototype.SchemaTypes=Schema.Types,Mongoose.prototype.VirtualType=VirtualType,Mongoose.prototype.Types=Types,Mongoose.prototype.Query=Query,Object.defineProperty(Mongoose.prototype,\"Promise\",{get:function(){return PromiseProvider.get()},set:function(e){PromiseProvider.set(e)}}),Mongoose.prototype.getPromiseConstructor=function(){return PromiseProvider.get().ES6},Mongoose.prototype.PromiseProvider=PromiseProvider,Mongoose.prototype.Model=Model,Mongoose.prototype.Document=Document,Mongoose.prototype.DocumentProvider=require(\"./document_provider\"),Mongoose.prototype.Error=require(\"./error\"),Mongoose.prototype.CastError=require(\"./error/cast\"),Mongoose.prototype.mongo=require(\"mongodb\"),Mongoose.prototype.mquery=require(\"mquery\");function MongooseThenable(e,o){var t=this;for(var n in e)\"function\"==typeof e[n]&&e[n].$hasSideEffects?function(o){t[o]=function(){return e[o].apply(e,arguments)}}(n):-1!==[\"connection\",\"connections\"].indexOf(n)&&(t[n]=e[n]);this.$opPromise=o}MongooseThenable.prototype=new Mongoose,MongooseThenable.prototype.then=function(e,o){var t=PromiseProvider.get();return this.$opPromise?(this.$opPromise.$hasHandler=!0,this.$opPromise.then(e,o)):new t.ES6(function(e,o){o(new Error(\"Can only call `.then()` if connect() or disconnect() has been called\"))}).then(e,o)},MongooseThenable.prototype.catch=function(e){return this.then(null,e)};var mongoose=module.exports=exports=new Mongoose;","node_modules/mongoose/lib/schema.js":"var MongooseTypes,readPref=require(\"./drivers\").ReadPreference,EventEmitter=require(\"events\").EventEmitter,VirtualType=require(\"./virtualtype\"),utils=require(\"./utils\"),Kareem=require(\"kareem\"),{each:each}=require(\"async\"),SchemaType=require(\"./schematype\"),mpath=require(\"mpath\"),IS_KAREEM_HOOK={count:!0,find:!0,findOne:!0,findOneAndUpdate:!0,findOneAndRemove:!0,insertMany:!0,update:!0,updateMany:!0,updateOne:!0};function Schema(e,t){if(!(this instanceof Schema))return new Schema(e,t);this.obj=e,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods={},this.statics={},this.tree={},this.query={},this.childSchemas=[],this.plugins=[],this.s={hooks:new Kareem,kareemHooks:IS_KAREEM_HOOK},this.options=this.defaultOptions(t),e&&this.add(e);var s=e&&e._id&&utils.isObject(e._id);if(!this.paths._id&&!this.options.noId&&this.options._id&&!s){var i={_id:{auto:!0}};i._id[this.options.typeKey]=Schema.ObjectId,this.add(i)}for(var r=0;r<this._defaultMiddleware.length;++r){var n=this._defaultMiddleware[r];this[n.kind](n.hook,!!n.isAsync,n.fn)}this.options.timestamps&&this.setupTimestamp(this.options.timestamps),aliasFields(this)}function aliasFields(e){for(var t in e.paths)if(e.paths[t].options){var s=e.paths[t].path,i=e.paths[t].options.alias;if(i){if(!(\"string\"==typeof i&&i.length>0))throw new Error(\"Invalid value for alias option on \"+s+\", got \"+i);if(e.aliases[i])throw new Error(\"Duplicate alias, alias \"+i+\" is used more than once\");e.aliases[i]=s,e.virtual(i).get(function(e){return function(){return this.get(e)}}(s)).set(function(e){return function(t){return this.set(e,t)}}(s))}}}Schema.prototype=Object.create(EventEmitter.prototype),Schema.prototype.constructor=Schema,Schema.prototype.instanceOfSchema=!0,Object.defineProperty(Schema.prototype,\"_defaultMiddleware\",{configurable:!1,enumerable:!1,writable:!1,value:[{kind:\"pre\",hook:\"remove\",isAsync:!0,fn:function(e,t){if(this.ownerDocument)return t(),void e();var s=this.$__getAllSubdocs();if(!s.length)return t(),void e();each(s,function(e,t){e.remove({noop:!0},function(e){t(e)})},function(s){s?t(s):(e(),t())})}}]}),Schema.prototype.obj,Schema.prototype.paths,Schema.prototype.tree,Schema.prototype.clone=function(){var e=new Schema(this.paths,this.options);return e.callQueue=this.callQueue.map(function(e){return e}),e.methods=utils.clone(this.methods),e.statics=utils.clone(this.statics),e.plugins=Array.prototype.slice.call(this.plugins),e._indexes=utils.clone(this._indexes),e.s.hooks=this.s.hooks.clone(),e},Schema.prototype.defaultOptions=function(e){return e&&!1===e.safe&&(e.safe={w:0}),e&&e.safe&&0===e.safe.w&&(e.versionKey=!1),(e=utils.options({strict:!0,bufferCommands:!0,capped:!1,versionKey:\"__v\",discriminatorKey:\"__t\",minimize:!0,autoIndex:null,shardKey:null,read:null,validateBeforeSave:!0,noId:!1,_id:!0,noVirtualId:!1,id:!0,typeKey:\"type\",retainKeyOrder:!1},e)).read&&(e.read=readPref(e.read)),e},Schema.prototype.add=function(e,t){t=t||\"\";for(var s=Object.keys(e),i=0;i<s.length;++i){var r=s[i];if(null==e[r])throw new TypeError(\"Invalid value for schema path `\"+t+r+\"`\");if(Array.isArray(e[r])&&1===e[r].length&&null==e[r][0])throw new TypeError(\"Invalid value for schema Array path `\"+t+r+\"`\");!utils.isObject(e[r])||e[r].constructor&&\"Object\"!==utils.getFunctionName(e[r].constructor)||e[r][this.options.typeKey]&&(\"type\"!==this.options.typeKey||!e[r].type.type)?(t&&(this.nested[t.substr(0,t.length-1)]=!0),this.path(t+r,e[r])):Object.keys(e[r]).length?(this.nested[t+r]=!0,this.add(e[r],t+r+\".\")):(t&&(this.nested[t.substr(0,t.length-1)]=!0),this.path(t+r,e[r]))}},Schema.reserved=Object.create(null);var reserved=Schema.reserved;reserved.prototype=reserved.emit=reserved.on=reserved.once=reserved.listeners=reserved.removeListener=reserved.collection=reserved.db=reserved.errors=reserved.init=reserved.isModified=reserved.isNew=reserved.get=reserved.modelName=reserved.save=reserved.schema=reserved.set=reserved.toObject=reserved.validate=reserved.remove=reserved._pres=reserved._posts=1;var warnings={};warnings.increment=\"`increment` should not be used as a schema path name unless you have disabled versioning.\",Schema.prototype.path=function(e,t){if(void 0===t)return this.paths[e]?this.paths[e]:this.subpaths[e]?this.subpaths[e]:this.singleNestedPaths[e]?this.singleNestedPaths[e]:/\\.\\d+\\.?.*$/.test(e)?getPositionalPath(this,e):void 0;if(reserved[e])throw new Error(\"`\"+e+\"` may not be used as a schema pathname\");warnings[e]&&console.log(\"WARN: \"+warnings[e]);var s=e.split(/\\./),i=s.pop(),r=this.tree;if(s.forEach(function(t,i){if(r[t]||(r[t]={}),\"object\"!=typeof r[t]){var n=\"Cannot set nested path `\"+e+\"`. Parent path `\"+s.slice(0,i).concat([t]).join(\".\")+\"` already set to type \"+r[t].name+\".\";throw new Error(n)}r=r[t]}),r[i]=utils.clone(t),this.paths[e]=Schema.interpretAsType(e,t,this.options),this.paths[e].$isSingleNested){for(var n in this.paths[e].schema.paths)this.singleNestedPaths[e+\".\"+n]=this.paths[e].schema.paths[n];for(n in this.paths[e].schema.singleNestedPaths)this.singleNestedPaths[e+\".\"+n]=this.paths[e].schema.singleNestedPaths[n];this.childSchemas.push({schema:this.paths[e].schema,model:this.paths[e].caster})}else this.paths[e].$isMongooseDocumentArray&&this.childSchemas.push({schema:this.paths[e].schema,model:this.paths[e].casterConstructor});return this},Schema.interpretAsType=function(e,t,s){if(t instanceof SchemaType)return t;if(t.constructor){if(\"Object\"!==utils.getFunctionName(t.constructor)){var i=t;(t={})[s.typeKey]=i}}var r=!t[s.typeKey]||\"type\"===s.typeKey&&t.type.type?{}:t[s.typeKey];if(\"Object\"===utils.getFunctionName(r.constructor)||\"mixed\"===r)return new MongooseTypes.Mixed(e,t);if(Array.isArray(r)||Array===r||\"array\"===r){var n=Array===r||\"array\"===r?t.cast:r[0];if(n&&n.instanceOfSchema)return new MongooseTypes.DocumentArray(e,n,t);if(n&&n[s.typeKey]&&n[s.typeKey].instanceOfSchema)return new MongooseTypes.DocumentArray(e,n[s.typeKey],t);if(Array.isArray(n))return new MongooseTypes.Array(e,Schema.interpretAsType(e,n,s),t);if(\"string\"==typeof n)n=MongooseTypes[n.charAt(0).toUpperCase()+n.substring(1)];else if(n&&(!n[s.typeKey]||\"type\"===s.typeKey&&n.type.type)&&\"Object\"===utils.getFunctionName(n.constructor)){if(Object.keys(n).length){var a={minimize:s.minimize};s.typeKey&&(a.typeKey=s.typeKey),s.hasOwnProperty(\"strict\")&&(a.strict=s.strict),s.hasOwnProperty(\"runSettersOnQuery\")&&(a.runSettersOnQuery=s.runSettersOnQuery);var o=new Schema(n,a);return o.$implicitlyCreated=!0,new MongooseTypes.DocumentArray(e,o,t)}return new MongooseTypes.Array(e,MongooseTypes.Mixed,t)}if(n&&(r=!n[s.typeKey]||\"type\"===s.typeKey&&n.type.type?n:n[s.typeKey],!((h=\"string\"==typeof r?r:r.schemaName||utils.getFunctionName(r))in MongooseTypes)))throw new TypeError(\"Undefined type `\"+h+\"` at array `\"+e+\"`\");return new MongooseTypes.Array(e,n||MongooseTypes.Mixed,t,s)}if(r&&r.instanceOfSchema)return new MongooseTypes.Embedded(r,e,t);var h;if((h=Buffer.isBuffer(r)?\"Buffer\":\"string\"==typeof r?r:r.schemaName||utils.getFunctionName(r))&&(h=h.charAt(0).toUpperCase()+h.substring(1)),void 0==MongooseTypes[h])throw new TypeError(\"Undefined type `\"+h+\"` at `\"+e+\"`\\n  Did you try nesting Schemas? You can only nest using refs or arrays.\");return\"runSettersOnQuery\"in(t=utils.clone(t,{retainKeyOrder:!0}))||(t.runSettersOnQuery=s.runSettersOnQuery),new MongooseTypes[h](e,t)},Schema.prototype.eachPath=function(e){for(var t=Object.keys(this.paths),s=t.length,i=0;i<s;++i)e(t[i],this.paths[t[i]]);return this},Schema.prototype.requiredPaths=function(e){if(this._requiredpaths&&!e)return this._requiredpaths;for(var t=Object.keys(this.paths),s=t.length,i=[];s--;){var r=t[s];this.paths[r].isRequired&&i.push(r)}return this._requiredpaths=i,this._requiredpaths},Schema.prototype.indexedPaths=function(){return this._indexedpaths?this._indexedpaths:(this._indexedpaths=this.indexes(),this._indexedpaths)},Schema.prototype.pathType=function(e){return e in this.paths?\"real\":e in this.virtuals?\"virtual\":e in this.nested?\"nested\":e in this.subpaths?\"real\":e in this.singleNestedPaths?\"real\":/\\.\\d+\\.|\\.\\d+$/.test(e)?getPositionalPathType(this,e):\"adhocOrUndefined\"},Schema.prototype.hasMixedParent=function(e){var t=e.split(/\\./g);e=\"\";for(var s=0;s<t.length;++s)if((e=s>0?e+\".\"+t[s]:t[s])in this.paths&&this.paths[e]instanceof MongooseTypes.Mixed)return!0;return!1},Schema.prototype.setupTimestamp=function(e){if(e){var t=[\"createdAt\",\"updatedAt\"].map(handleTimestampOption.bind(null,e)),s=t[0],i=t[1],r=t.reduce(function(e,t){if(null!=t){var s=t.split(\".\");if(\"adhocOrUndefined\"===this.pathType(t))for(var i=0;i<s.length;++i)e[s[i]]=i<s.length-1?e[s[i]]||{}:Date}return e}.bind(this),{});this.add(r),this.pre(\"save\",function(e){var t=new Date,r=this._id&&this._id.auto;if(null!=s&&!this.get(s)&&this.isSelected(s)&&this.set(s,r?this._id.getTimestamp():t),null!=i&&(this.isNew||this.isModified())){var n=t;this.isNew&&(null!=s?n=this.get(s):r&&(n=this._id.getTimestamp())),this.set(i,n)}e()});var n=function(e,t){var r=new Date,n={},a=n;return t?(e&&e.$set&&(e=e.$set,n.$set={},a=n.$set),null==i||e[i]||(a[i]=r),null==s||e[s]||(a[s]=r),n):(n={$set:{}},e=e||{},null==i||e.$currentDate&&e.$currentDate[i]||(n.$set[i]=r),null!=s&&(e[s]&&delete e[s],e.$set&&e.$set[s]&&delete e.$set[s],n.$setOnInsert={},n.$setOnInsert[s]=r),n)};this.methods.initializeTimestamps=function(){return this.get(s)||this.set(s,new Date),this.get(i)||this.set(i,new Date),this},this.pre(\"findOneAndUpdate\",function(e){var t=this.options.overwrite;this.findOneAndUpdate({},n(this.getUpdate(),t),{overwrite:t}),applyTimestampsToChildren(this),e()}),this.pre(\"update\",function(e){var t=this.options.overwrite;this.update({},n(this.getUpdate(),t),{overwrite:t}),applyTimestampsToChildren(this),e()})}};function handleTimestampOption(e,t){return\"boolean\"==typeof e?t:\"boolean\"==typeof e[t]?e[t]?t:null:t in e?e[t]:t}function applyTimestampsToChildren(e){var t,s,i,r,n,a,o=new Date,h=e.getUpdate(),p=Object.keys(h),u=e.model.schema;if(p.length&&\"$\"===p[0].charAt(0)){if(h.$push)for(t in h.$push){var c=u.path(t);h.$push[t]&&c&&c.$isMongooseDocumentArray&&c.schema.options.timestamps&&(n=c.schema.options.timestamps,i=handleTimestampOption(n,\"createdAt\"),r=handleTimestampOption(n,\"updatedAt\"),h.$push[t].$each?h.$push[t].$each.forEach(function(e){null!=r&&(e[r]=o),null!=i&&(e[i]=o)}):(null!=r&&(h.$push[t][r]=o),null!=i&&(h.$push[t][i]=o)))}if(h.$set)for(t in h.$set)if(a=u.path(t))if(Array.isArray(h.$set[t])&&a.$isMongooseDocumentArray){if(s=h.$set[t].length,n=u.path(t).schema.options.timestamps){i=handleTimestampOption(n,\"createdAt\"),r=handleTimestampOption(n,\"updatedAt\");for(var l=0;l<s;++l)null!=r&&(h.$set[t][l][r]=o),null!=i&&(h.$set[t][l][i]=o)}}else h.$set[t]&&a.$isSingleNested&&(n=u.path(t).schema.options.timestamps)&&(i=handleTimestampOption(n,\"createdAt\"),null!=(r=handleTimestampOption(n,\"updatedAt\"))&&(h.$set[t][r]=o),null!=i&&(h.$set[t][i]=o))}}function getPositionalPathType(e,t){var s=t.split(/\\.(\\d+)\\.|\\.(\\d+)$/).filter(Boolean);if(s.length<2)return e.paths[s[0]];var i=e.path(s[0]),r=!1;if(!i)return i;for(var n,a=s.length-1,o=1;o<s.length;++o){if(r=!1,n=s[o],o===a&&i&&!/\\D/.test(n)){if(i.$isMongooseDocumentArray){var h=i;(i=new SchemaType(n)).cast=function(e,t,s){return h.cast(e,t,s)[0]},i.caster=h.caster,i.schema=h.schema}else i=i instanceof MongooseTypes.Array?i.caster:void 0;break}if(/\\D/.test(n)){if(!i||!i.schema){i=void 0;break}r=\"nested\"===i.schema.pathType(n),i=i.schema.path(n)}}return e.subpaths[t]=i,i?\"real\":r?\"nested\":\"adhocOrUndefined\"}function getPositionalPath(e,t){return getPositionalPathType(e,t),e.subpaths[t]}Schema.prototype.queue=function(e,t){return this.callQueue.push([e,t]),this},Schema.prototype.pre=function(){var e=arguments[0];return IS_KAREEM_HOOK[e]?(this.s.hooks.pre.apply(this.s.hooks,arguments),this):this.queue(\"pre\",arguments)},Schema.prototype.post=function(e,t){return IS_KAREEM_HOOK[e]?(this.s.hooks.post.apply(this.s.hooks,arguments),this):t.length<2?this.queue(\"on\",[arguments[0],function(e){return t.call(e,e)}]):3===t.length?(this.s.hooks.post(e+\":error\",t),this):this.queue(\"post\",[arguments[0],function(e){var s=this,i=Array.prototype.slice.call(arguments,1);t.call(this,this,function(t){return e.apply(s,[t].concat(i))})}])},Schema.prototype.plugin=function(e,t){if(\"function\"!=typeof e)throw new Error('First param to `schema.plugin()` must be a function, got \"'+typeof e+'\"');if(t&&t.deduplicate)for(var s=0;s<this.plugins.length;++s)if(this.plugins[s].fn===e)return this;return this.plugins.push({fn:e,opts:t}),e(this,t),this},Schema.prototype.method=function(e,t){if(\"string\"!=typeof e)for(var s in e)this.methods[s]=e[s];else this.methods[e]=t;return this},Schema.prototype.static=function(e,t){if(\"string\"!=typeof e)for(var s in e)this.statics[s]=e[s];else this.statics[e]=t;return this},Schema.prototype.index=function(e,t){return t||(t={}),t.expires&&utils.expires(t),this._indexes.push([e,t]),this},Schema.prototype.set=function(e,t,s){if(1===arguments.length)return this.options[e];switch(e){case\"read\":this.options[e]=readPref(t,s);break;case\"safe\":this.options[e]=!1===t?{w:0}:t;break;case\"timestamps\":this.setupTimestamp(t),this.options[e]=t;break;default:this.options[e]=t}return this},Schema.prototype.get=function(e){return this.options[e]};var indexTypes=\"2d 2dsphere hashed text\".split(\" \");Object.defineProperty(Schema,\"indexTypes\",{get:function(){return indexTypes},set:function(){throw new Error(\"Cannot overwrite Schema.indexTypes\")}}),Schema.prototype.indexes=function(){\"use strict\";var e=[],t=[],s=function(i,r){if(-1===t.indexOf(i)){t.push(i),r=r||\"\";for(var n,a,o,h,p,u,c,l=Object.keys(i.paths),d=0;d<l.length;++d)n=l[d],(a=i.paths[n])instanceof MongooseTypes.DocumentArray||a.$isSingleNested?s(a.schema,r+n+\".\"):!1!==(o=a._index||a.caster&&a.caster._index)&&null!==o&&void 0!==o&&(h={},u=(p=utils.isObject(o))?o:{},(c=\"string\"==typeof o?o:!!p&&o.type)&&~Schema.indexTypes.indexOf(c)?h[r+n]=c:u.text?(h[r+n]=\"text\",delete u.text):h[r+n]=1,delete u.type,\"background\"in u||(u.background=!0),e.push([h,u]));t.pop(),r?function(t,s){var i,r,n,a,o,h,p=t._indexes,u=p.length,c=0;for(c=0;c<u;++c){for(i=p[c][0],a=Object.keys(i),n=a.length,r={},h=0;h<n;++h)o=a[h],r[s+o]=i[o];e.push([r,p[c][1]])}}(i,r):(i._indexes.forEach(function(e){\"background\"in e[1]||(e[1].background=!0)}),e=e.concat(i._indexes))}};return s(this),e},Schema.prototype.virtual=function(e,t){if(t&&t.ref){if(!t.localField)throw new Error(\"Reference virtuals require `localField` option\");if(!t.foreignField)throw new Error(\"Reference virtuals require `foreignField` option\");this.pre(\"init\",function(s,i){if(mpath.has(e,i)){var r=mpath.get(e,i);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),t.justOne?this.$$populatedVirtuals[e]=Array.isArray(r)?r[0]:r:this.$$populatedVirtuals[e]=Array.isArray(r)?r:null==r?[]:[r],mpath.unset(e,i)}if(this.ownerDocument)return s(),this;s()});var s=this.virtual(e);return s.options=t,s.get(function(){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e in this.$$populatedVirtuals?this.$$populatedVirtuals[e]:null}).set(function(s){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),t.justOne?(this.$$populatedVirtuals[e]=Array.isArray(s)?s[0]:s,\"object\"!=typeof this.$$populatedVirtuals[e]&&(this.$$populatedVirtuals[e]=null)):(this.$$populatedVirtuals[e]=Array.isArray(s)?s:null==s?[]:[s],this.$$populatedVirtuals[e]=this.$$populatedVirtuals[e].filter(function(e){return e&&\"object\"==typeof e}))})}var i=this.virtuals,r=e.split(\".\");if(\"real\"===this.pathType(e))throw new Error('Virtual path \"'+e+'\" conflicts with a real path in the schema');return i[e]=r.reduce(function(s,i,n){return s[i]||(s[i]=n===r.length-1?new VirtualType(t,e):{}),s[i]},this.tree),i[e]},Schema.prototype._getVirtual=function(e){return _getVirtual(this,e)};function _getVirtual(e,t){if(e.virtuals[t])return e.virtuals[t];for(var s=t.split(\".\"),i=\"\",r=\"\",n=0;n<s.length;++n)if(i+=(i.length>0?\".\":\"\")+s[n],e.virtuals[i]){if(n===s.length-1)return e.virtuals[i].$nestedSchemaPath=r,e.virtuals[i]}else{if(!e.paths[i]||!e.paths[i].schema)return null;e=e.paths[i].schema,r+=(r.length>0?\".\":\"\")+i,i=\"\"}}Schema.prototype.virtualpath=function(e){return this.virtuals[e]},Schema.prototype.remove=function(e){\"string\"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach(function(e){if(this.path(e)){delete this.paths[e];for(var t=e.split(\".\"),s=t.pop(),i=this.tree,r=0;r<t.length;++r)i=i[t[r]];delete i[s]}},this)},Schema.prototype.loadClass=function(e,t){return e===Object.prototype||e===Function.prototype||e.prototype.hasOwnProperty(\"$isMongooseModelPrototype\")?this:(this.loadClass(Object.getPrototypeOf(e)),t||Object.getOwnPropertyNames(e).forEach(function(t){if(!t.match(/^(length|name|prototype)$/)){var s=Object.getOwnPropertyDescriptor(e,t);\"function\"==typeof s.value&&this.static(t,s.value)}},this),Object.getOwnPropertyNames(e.prototype).forEach(function(s){if(!s.match(/^(constructor)$/)){var i=Object.getOwnPropertyDescriptor(e.prototype,s);t||\"function\"==typeof i.value&&this.method(s,i.value),\"function\"==typeof i.get&&this.virtual(s).get(i.get),\"function\"==typeof i.set&&this.virtual(s).set(i.set)}},this),this)},Schema.prototype._getSchema=function(e){var t=this.path(e),s=[];if(t)return t.$fullPath=e,t;function i(e,t){for(var r,n,a=e.length+1;a--;)if(n=e.slice(0,a).join(\".\"),r=t.path(n)){if(s.push(n),r.caster){if(r.caster instanceof MongooseTypes.Mixed)return r.caster.$fullPath=s.join(\".\"),r.caster;if(a!==e.length&&r.schema){var o;return\"$\"===e[a]?a+1===e.length?r:((o=i(e.slice(a+1),r.schema))&&(o.$isUnderneathDocArray=o.$isUnderneathDocArray||!r.schema.$isSingleNested),o):((o=i(e.slice(a),r.schema))&&(o.$isUnderneathDocArray=o.$isUnderneathDocArray||!r.schema.$isSingleNested),o)}}return r.$fullPath=s.join(\".\"),r}}for(var r=e.split(\".\"),n=0;n<r.length;++n)\"$\"===r[n]&&(r[n]=\"0\");return i(r,this)},Schema.prototype._getPathType=function(e){if(this.path(e))return\"real\";function t(e,s){for(var i,r,n=e.length+1;n--;){if(r=e.slice(0,n).join(\".\"),i=s.path(r))return i.caster?i.caster instanceof MongooseTypes.Mixed?{schema:i,pathType:\"mixed\"}:n!==e.length&&i.schema?\"$\"===e[n]?n===e.length-1?{schema:i,pathType:\"nested\"}:t(e.slice(n+1),i.schema):t(e.slice(n),i.schema):{schema:i,pathType:i.$isSingleNested?\"nested\":\"array\"}:{schema:i,pathType:\"real\"};if(n===e.length&&s.nested[r])return{schema:s,pathType:\"nested\"}}return{schema:i||s,pathType:\"undefined\"}}return t(e.split(\".\"),this)},module.exports=exports=Schema,Schema.Types=MongooseTypes=require(\"./schema/index\"),exports.ObjectId=MongooseTypes.ObjectId;","node_modules/mongoose/lib/schematype.js":"var $exists=require(\"./schema/operators/exists\"),$type=require(\"./schema/operators/type\"),utils=require(\"./utils\"),MongooseError=require(\"./error\"),CastError=MongooseError.CastError,ValidatorError=MongooseError.ValidatorError;function SchemaType(t,e,i){this.path=t,this.instance=i,this.validators=[],this.setters=[],this.getters=[],this.options=e,this._index=null,this.selected;for(var r in e)if(this[r]&&\"function\"==typeof this[r]){if(\"index\"===r&&this._index)continue;var n=Array.isArray(e[r])?e[r]:[e[r]];this[r].apply(this,n)}}SchemaType.prototype.default=function(t){return 1===arguments.length?void 0===t?void(this.defaultValue=void 0):(this.defaultValue=t,this.defaultValue):(arguments.length>1&&(this.defaultValue=utils.args(arguments)),this.defaultValue)},SchemaType.prototype.index=function(t){return this._index=t,utils.expires(this._index),this},SchemaType.prototype.unique=function(t){if(!1===this._index){if(!t)return;throw new Error('Path \"'+this.path+'\" may not have `index` set to false and `unique` set to true')}return null==this._index||!0===this._index?this._index={}:\"string\"==typeof this._index&&(this._index={type:this._index}),this._index.unique=t,this},SchemaType.prototype.text=function(t){return null===this._index||void 0===this._index||\"boolean\"==typeof this._index?this._index={}:\"string\"==typeof this._index&&(this._index={type:this._index}),this._index.text=t,this},SchemaType.prototype.sparse=function(t){return null===this._index||void 0===this._index||\"boolean\"==typeof this._index?this._index={}:\"string\"==typeof this._index&&(this._index={type:this._index}),this._index.sparse=t,this},SchemaType.prototype.set=function(t){if(\"function\"!=typeof t)throw new TypeError(\"A setter must be a function.\");return this.setters.push(t),this},SchemaType.prototype.get=function(t){if(\"function\"!=typeof t)throw new TypeError(\"A getter must be a function.\");return this.getters.push(t),this},SchemaType.prototype.validate=function(t,e,i){if(\"function\"==typeof t||t&&\"RegExp\"===utils.getFunctionName(t.constructor)){var r;return e instanceof Object&&!i?((r=utils.clone(e)).message||(r.message=r.msg),r.validator=t,r.type=r.type||\"user defined\"):(e||(e=MongooseError.messages.general.default),i||(i=\"user defined\"),r={message:e,type:i,validator:t}),this.validators.push(r),this}var n,o,s;for(n=0,o=arguments.length;n<o;n++){if(!(s=arguments[n])||\"Object\"!==utils.getFunctionName(s.constructor)){var a=\"Invalid validator. Received (\"+typeof s+\") \"+s+\". See http://mongoosejs.com/docs/api.html#schematype_SchemaType-validate\";throw new Error(a)}this.validate(s.validator,s)}return this},SchemaType.prototype.required=function(t,e){var i={};if(\"object\"==typeof t&&(e=(i=t).message||e,t=t.isRequired),!1===t)return this.validators=this.validators.filter(function(t){return t.validator!==this.requiredValidator},this),this.isRequired=!1,this;var r=this;this.isRequired=!0,this.requiredValidator=function(e){return\"isSelected\"in this&&!this.isSelected(r.path)&&!this.isModified(r.path)||(\"function\"==typeof t&&!t.apply(this)||r.checkRequired(e,this))},this.originalRequiredValue=t,\"string\"==typeof t&&(e=t,t=void 0);var n=e||MongooseError.messages.general.required;return this.validators.unshift(utils.assign({},i,{validator:this.requiredValidator,message:n,type:\"required\"})),this},SchemaType.prototype.getDefault=function(t,e){var i=\"function\"==typeof this.defaultValue?this.defaultValue.call(t):this.defaultValue;if(null!==i&&void 0!==i){\"object\"!=typeof i||this.options&&this.options.shared||(i=utils.clone(i,{retainKeyOrder:!0}));var r=this.cast(i,t,e);return r&&r.$isSingleNested&&(r.$parent=t),r}return i},SchemaType.prototype._applySetters=function(t,e,i,r){for(var n=t,o=this.setters,s=o.length,a=this.caster;s--;)n=o[s].call(e,n,this);if(Array.isArray(n)&&a&&a.setters){for(var u=[],h=0;h<n.length;h++)u.push(a.applySetters(n[h],e,i,r));n=u}return n},SchemaType.prototype.applySetters=function(t,e,i,r,n){var o=this._applySetters(t,e,i,r,n);return null==o?o:o=this.cast(o,e,i,r,n)},SchemaType.prototype.applyGetters=function(t,e){var i=t,r=this.getters,n=r.length;if(!n)return i;for(;n--;)i=r[n].call(e,i,this);return i},SchemaType.prototype.select=function(t){return this.selected=!!t,this},SchemaType.prototype.doValidate=function(t,e,i){var r=!1,n=this.path,o=this.validators.length;if(!o)return e(null);var s=function(t,i){if(!r)if(void 0===t||t)--o||e(null);else{var n=i.ErrorConstructor||ValidatorError;(r=new n(i)).$isValidatorError=!0,e(r)}},a=this;this.validators.forEach(function(e){if(!r){var o,u=e.validator,h=utils.clone(e);if(h.path=n,h.value=t,u instanceof RegExp)s(u.test(t),h);else if(\"function\"==typeof u){if(void 0===t&&u!==a.requiredValidator)return void s(!0,h);if(h.isAsync)asyncValidate(u,i,t,h,s);else if(2!==u.length||\"isAsync\"in h){try{o=u.call(i,t)}catch(t){o=!1,h.reason=t}o&&\"function\"==typeof o.then?o.then(function(t){s(t,h)},function(t){h.reason=t,s(o=!1,h)}):s(o,h)}else legacyAsyncValidate(u,i,t,h,s)}}})};function asyncValidate(t,e,i,r,n){var o=!1,s=t.call(e,i,function(t,e){o||(o=!0,\"boolean\"!=typeof s&&(e&&(r.message=e),n(t,r)))});\"boolean\"==typeof s?(o=!0,n(s,r)):s&&\"function\"==typeof s.then&&s.then(function(t){o||(o=!0,n(t,r))},function(t){o||(o=!0,r.reason=t,n(!1,r))})}var legacyAsyncValidate=require(\"util\").deprecate(asyncValidate,\"Implicit async custom validators (custom validators that take 2 arguments) are deprecated in mongoose >= 4.9.0. See http://mongoosejs.com/docs/validation.html#async-custom-validators for more info.\");SchemaType.prototype.doValidateSync=function(t,e){var i=null,r=this.path;if(!this.validators.length)return null;var n=function(t,e){if(!i&&void 0!==t&&!t){var r=e.ErrorConstructor||ValidatorError;(i=new r(e)).$isValidatorError=!0}},o=this.validators;if(void 0===t){if(!(this.validators.length>0&&\"required\"===this.validators[0].type))return null;o=[this.validators[0]]}return o.forEach(function(o){if(!i){var s=o.validator,a=utils.clone(o);a.path=r,a.value=t;var u;if(s instanceof RegExp)n(s.test(t),a);else if(\"function\"==typeof s&&2!==s.length&&!a.isAsync){try{u=s.call(e,t)}catch(t){u=!1,a.reason=t}n(u,a)}}}),i},SchemaType._isRef=function(t,e,i,r){var n=r&&t.options&&t.options.ref;if(!n&&i&&i.$__fullPath){var o=i.$__fullPath(t.path);n=(i.ownerDocument?i.ownerDocument():i).populated(o)}if(n){if(null==e)return!0;if(!Buffer.isBuffer(e)&&\"Binary\"!==e._bsontype&&utils.isObject(e))return!0}return!1};function handleSingle(t){return this.castForQuery(t)}function handleArray(t){var e=this;return Array.isArray(t)?t.map(function(t){return e.castForQuery(t)}):[this.castForQuery(t)]}SchemaType.prototype.$conditionalHandlers={$all:handleArray,$eq:handleSingle,$in:handleArray,$ne:handleSingle,$nin:handleArray,$exists:$exists,$type:$type},SchemaType.prototype.castForQueryWrapper=function(t){return this.$$context=t.context,\"$conditional\"in t?this.castForQuery(t.$conditional,t.val):t.$skipQueryCastForUpdate?this._castForQuery(t.val):this.castForQuery(t.val)},SchemaType.prototype.castForQuery=function(t,e){var i;if(2===arguments.length){if(!(i=this.$conditionalHandlers[t]))throw new Error(\"Can't use \"+t);return i.call(this,e)}return e=t,this._castForQuery(e)},SchemaType.prototype._castForQuery=function(t){var e=!1;return this.$$context&&this.$$context.options&&\"runSettersOnQuery\"in this.$$context.options?e=this.$$context.options.runSettersOnQuery:this.options&&\"runSettersOnQuery\"in this.options&&(e=this.options.runSettersOnQuery),e?this.applySetters(t,this.$$context):this.cast(t)},SchemaType.prototype.checkRequired=function(t){return null!=t},module.exports=exports=SchemaType,exports.CastError=CastError,exports.ValidatorError=ValidatorError;","node_modules/mongoose/lib/virtualtype.js":"function VirtualType(t,e){this.path=e,this.getters=[],this.setters=[],this.options=t||{}}VirtualType.prototype.get=function(t){return this.getters.push(t),this},VirtualType.prototype.set=function(t){return this.setters.push(t),this},VirtualType.prototype.applyGetters=function(t,e){for(var r=t,s=this.getters.length-1;s>=0;s--)r=this.getters[s].call(e,r,this);return r},VirtualType.prototype.applySetters=function(t,e){for(var r=t,s=this.setters.length-1;s>=0;s--)r=this.setters[s].call(e,r,this);return r},module.exports=VirtualType;","node_modules/mongoose/lib/connectionstate.js":"var STATES=module.exports=exports=Object.create(null),disconnected=\"disconnected\",connected=\"connected\",connecting=\"connecting\",disconnecting=\"disconnecting\",unauthorized=\"unauthorized\",uninitialized=\"uninitialized\";STATES[0]=disconnected,STATES[1]=connected,STATES[2]=connecting,STATES[3]=disconnecting,STATES[4]=unauthorized,STATES[99]=uninitialized,STATES[disconnected]=0,STATES[connected]=1,STATES[connecting]=2,STATES[disconnecting]=3,STATES[unauthorized]=4,STATES[uninitialized]=99;","node_modules/mongoose/lib/types/index.js":"exports.Array=require(\"./array\"),exports.Buffer=require(\"./buffer\"),exports.Document=exports.Embedded=require(\"./embedded\"),exports.DocumentArray=require(\"./documentarray\"),exports.Decimal128=require(\"./decimal128\"),exports.ObjectId=require(\"./objectid\"),exports.Subdocument=require(\"./subdocument\");","node_modules/mongoose/lib/query.js":"var PromiseProvider=require(\"./promise_provider\"),QueryCursor=require(\"./cursor/QueryCursor\"),QueryStream=require(\"./querystream\"),cast=require(\"./cast\"),castUpdate=require(\"./services/query/castUpdate\"),hasDollarKeys=require(\"./services/query/hasDollarKeys\"),helpers=require(\"./queryhelpers\"),mquery=require(\"mquery\"),readPref=require(\"./drivers\").ReadPreference,selectPopulatedFields=require(\"./services/query/selectPopulatedFields\"),setDefaultsOnInsert=require(\"./services/setDefaultsOnInsert\"),updateValidators=require(\"./services/updateValidators\"),util=require(\"util\"),utils=require(\"./utils\");function Query(t,e,r,i){if(this._mongooseOptions||(this._mongooseOptions={}),e)for(var o,s=Object.keys(e),n=0;n<s.length;++n)o=s[n],this._mongooseOptions[o]=e[o];if(i&&(this.mongooseCollection=i),r&&(this.model=r,this.schema=r.schema),this.model&&this.model._mapreduce&&this.lean(),mquery.call(this,this.mongooseCollection,e),t&&this.find(t),this.schema){var u={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0};this._count=this.model.hooks.createWrapper(\"count\",Query.prototype._count,this,u),this._execUpdate=this.model.hooks.createWrapper(\"update\",Query.prototype._execUpdate,this,u),this._find=this.model.hooks.createWrapper(\"find\",Query.prototype._find,this,u),this._findOne=this.model.hooks.createWrapper(\"findOne\",Query.prototype._findOne,this,u),this._findOneAndRemove=this.model.hooks.createWrapper(\"findOneAndRemove\",Query.prototype._findOneAndRemove,this,u),this._findOneAndUpdate=this.model.hooks.createWrapper(\"findOneAndUpdate\",Query.prototype._findOneAndUpdate,this,u),this._replaceOne=this.model.hooks.createWrapper(\"replaceOne\",Query.prototype._replaceOne,this,u),this._updateMany=this.model.hooks.createWrapper(\"updateMany\",Query.prototype._updateMany,this,u),this._updateOne=this.model.hooks.createWrapper(\"updateOne\",Query.prototype._updateOne,this,u)}}Query.prototype=new mquery,Query.prototype.constructor=Query,Query.base=mquery.prototype,Query.use$geoWithin=mquery.use$geoWithin,Query.prototype.toConstructor=function(){var t=this.model,e=this.mongooseCollection,r=function(o,s){return this instanceof r?(this._mongooseOptions=utils.clone(i._mongooseOptions),void Query.call(this,o,s||null,t,e)):new r(o,s)};util.inherits(r,Query);var i=r.prototype;return i.options={},i.setOptions(this.options),i.op=this.op,i._conditions=utils.clone(this._conditions,{retainKeyOrder:!0}),i._fields=utils.clone(this._fields),i._update=utils.clone(this._update,{flattenDecimals:!1,retainKeyOrder:!0}),i._path=this._path,i._distinct=this._distinct,i._collection=this._collection,i._mongooseOptions=this._mongooseOptions,r},Query.prototype.select=function(){var t=arguments[0];if(!t)return this;var e,r;if(1!==arguments.length)throw new Error(\"Invalid select: select only takes 1 argument\");this._validate(\"select\");var i=this._fields||(this._fields={}),o=this._userProvidedFields||(this._userProvidedFields={}),s=typeof t;if((\"string\"==s||\"[object Arguments]\"===Object.prototype.toString.call(t))&&\"number\"==typeof t.length||Array.isArray(t)){for(\"string\"==s&&(t=t.split(/\\s+/)),e=0,r=t.length;e<r;++e){var n=t[e];if(n){var u=\"-\"==n[0]?0:1;0==u&&(n=n.substring(1)),i[n]=u,o[n]=u}}return this}if(utils.isObject(t)){var a=Object.keys(t);for(e=0;e<a.length;++e)i[a[e]]=t[a[e]],o[a[e]]=t[a[e]];return this}throw new TypeError(\"Invalid select() argument. Must be string or object.\")},Query.prototype.read=function(t,e){var r=readPref.call(readPref,t,e);return this.options.readPreference=r,this},Query.prototype.setOptions=function(t,e){if(e)return this._mongooseOptions=t&&utils.clone(t)||{},this.options=t||{},\"populate\"in t&&this.populate(this._mongooseOptions),this;if(!t||\"Object\"!==t.constructor.name)return this;if(t&&Array.isArray(t.populate)){var r=t.populate;delete t.populate;for(var i=r.length,o=0;o<i;++o)this.populate(r[o])}return Query.base.setOptions.call(this,t)},Query.prototype.getQuery=function(){return this._conditions},Query.prototype.getUpdate=function(){return this._update},Query.prototype._updateForExec=function(){for(var t,e=utils.clone(this._update,{retainKeyOrder:!0,transform:!1,depopulate:!0}),r=Object.keys(e),i=r.length,o={};i--;)t=r[i],this.options.overwrite?o[t]=e[t]:\"$\"===t[0]?\"$set\"===t?!o.$set&&(o[t]=e[t]):o[t]=e[t]:(!o.$set&&(e.$set?o.$set=e.$set:o.$set={}),o.$set[t]=e[t],r.splice(i,1),!~r.indexOf(\"$set\")&&r.push(\"$set\"));return o},Query.prototype._optionsForExec=function(t){var e=Query.base._optionsForExec.call(this);return delete e.populate,delete e.retainKeyOrder,(t=t||this.model)?(!(\"safe\"in e)&&t.schema.options.safe&&(e.safe=t.schema.options.safe),!(\"readPreference\"in e)&&t.schema.options.read&&(e.readPreference=t.schema.options.read),e):e},Query.prototype.lean=function(t){return this._mongooseOptions.lean=!arguments.length||t,this},Query.prototype.mongooseOptions=function(t){return 0<arguments.length&&(this._mongooseOptions=t),this._mongooseOptions},Query.prototype._castConditions=function(){try{this.cast(this.model),this._castError=null}catch(t){this._castError=t}},Query.prototype._find=function(t){if(this._castConditions(),this._castError)return t(this._castError),this;this._applyPaths(),this._fields=this._castFields(this._fields);var e=this._fieldsForExec(),r=this._mongooseOptions,i=this,o=i._userProvidedFields||{};return Query.base.find.call(this,{},function(s,n){if(s)return t(s);if(0===n.length)return t(null,n);if(!r.populate)return 1==!!r.lean?t(null,n):completeMany(i.model,n,e,o,null,t);var u=helpers.preparePopulationOptionsMQ(i,r);u.__noPromise=!0,i.model.populate(n,u,function(s,n){return s?t(s):1==!!r.lean?t(null,n):completeMany(i.model,n,e,o,u,t)})})},Query.prototype.find=function(t,e){return\"function\"==typeof t&&(e=t,t={}),t=utils.toObject(t),mquery.canMerge(t)&&this.merge(t),prepareDiscriminatorCriteria(this),e?(this._find(e),this):Query.base.find.call(this)},Query.prototype.merge=function(t){if(!t)return this;var e={retainKeyOrder:this.options.retainKeyOrder,overwrite:!0};return t instanceof Query?(t._conditions&&utils.merge(this._conditions,t._conditions,e),t._fields&&(this._fields||(this._fields={}),utils.merge(this._fields,t._fields,e)),t.options&&(this.options||(this.options={}),utils.merge(this.options,t.options,e)),t._update&&(this._update||(this._update={}),utils.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(utils.merge(this._conditions,t,e),this)};function completeMany(t,e,r,i,o,s){function n(t){return null==c?null==t?void(--a||s(null,u)):(c=t,s(c)):void 0}for(var u=[],a=e.length,p=a,l=o?{populated:o}:void 0,c=null,h=0;h<p;++h)u[h]=helpers.createModel(t,e[h],r,i),u[h].init(e[h],l,n)}Query.prototype.collation=function(t){return null==this.options&&(this.options={}),this.options.collation=t,this},Query.prototype._findOne=function(t){if(this._castConditions(),this._castError)return t(this._castError);this._applyPaths(),this._fields=this._castFields(this._fields);var e=this._mongooseOptions,r=this._fieldsForExec(),i=this._userProvidedFields||{},o=this;Query.base.findOne.call(o,{},function(s,n){if(s)return t(s);if(!n)return t(null,null);if(!e.populate)return 1==!!e.lean?t(null,n):completeOne(o.model,n,null,{},r,i,null,t);var u=helpers.preparePopulationOptionsMQ(o,e);u.__noPromise=!0,o.model.populate(n,u,function(s,n){return s?t(s):1==!!e.lean?t(null,n):completeOne(o.model,n,null,{},r,i,u,t)})})},Query.prototype.findOne=function(t,e,r,i){if(\"function\"==typeof t?(i=t,t=null,e=null,r=null):\"function\"==typeof e?(i=e,r=null,e=null):\"function\"==typeof r&&(i=r,r=null),t=utils.toObject(t),this.op=\"findOne\",r&&this.setOptions(r),e&&this.select(e),mquery.canMerge(t))this.merge(t);else if(null!=t)throw new Error(\"Invalid argument to findOne(): \"+util.inspect(t));prepareDiscriminatorCriteria(this);try{this.cast(this.model),this._castError=null}catch(t){this._castError=t}return i?(this._findOne(i),this):Query.base.findOne.call(this)},Query.prototype._count=function(t){try{this.cast(this.model)}catch(e){return process.nextTick(function(){t(e)}),this}var e=this._conditions,r=this._optionsForExec();this._collection.count(e,r,utils.tick(t))},Query.prototype.count=function(t,e){return\"function\"==typeof t&&(e=t,t=void 0),mquery.canMerge(t)&&this.merge(t),this.op=\"count\",e?(this._count(e),this):this},Query.prototype.distinct=function(t,e,r){r||(\"function\"==typeof e?(r=e,e=void 0):\"function\"==typeof t&&(r=t,t=void 0,e=void 0)),e=utils.toObject(e),mquery.canMerge(e)&&this.merge(e);try{this.cast(this.model)}catch(t){if(!r)throw t;return r(t),this}return Query.base.distinct.call(this,{},t,r)},Query.prototype.sort=function(t){if(1<arguments.length)throw new Error(\"sort() only takes 1 Argument\");return Query.base.sort.call(this,t)},Query.prototype.remove=function(t,e){\"function\"==typeof t&&(e=t,t=null),t=utils.toObject(t,{retainKeyOrder:!0});try{this.cast(this.model,t),this.merge(t)}catch(t){this._castError=t}return prepareDiscriminatorCriteria(this),e?this._remove(e):Query.base.remove.call(this)},Query.prototype._remove=function(t){return this._castError?(t(this._castError),this):Query.base.remove.call(this,t)},Query.prototype.deleteOne=function(t,e){\"function\"==typeof t&&(e=t,t=null),t=utils.toObject(t,{retainKeyOrder:!0});try{this.cast(this.model,t),this.merge(t)}catch(t){this._castError=t}return prepareDiscriminatorCriteria(this),e?this._deleteOne.call(this,e):Query.base.deleteOne.call(this)},Query.prototype._deleteOne=function(t){return this._castError?(t(this._castError),this):Query.base.deleteOne.call(this,t)},Query.prototype.deleteMany=function(t,e){\"function\"==typeof t&&(e=t,t=null),t=utils.toObject(t,{retainKeyOrder:!0});try{this.cast(this.model,t),this.merge(t)}catch(t){this._castError=t}return prepareDiscriminatorCriteria(this),e?this._deleteMany.call(this,e):Query.base.deleteMany.call(this)},Query.prototype._deleteMany=function(t){return this._castError?(t(this._castError),this):Query.base.deleteMany.call(this,t)};function completeOne(t,e,r,i,o,s,n,u){var a=n?{populated:n}:void 0,p=helpers.createModel(t,e,o,s);p.init(e,a,function(t){return t?u(t):i.rawResult?(r.value=p,u(null,r)):i.passRawResult?u(null,p,decorateResult(r)):void u(null,p)})}function prepareDiscriminatorCriteria(t){if(t&&t.model&&t.model.schema){var e=t.model.schema;e&&e.discriminatorMapping&&!e.discriminatorMapping.isRoot&&(t._conditions[e.discriminatorMapping.key]=e.discriminatorMapping.value)}}Query.prototype.findOneAndUpdate=function(t,e,r,i){switch(this.op=\"findOneAndUpdate\",this._validate(),arguments.length){case 3:\"function\"==typeof r&&(i=r,r={});break;case 2:\"function\"==typeof e&&(i=e,e=t,t=void 0),r=void 0;break;case 1:\"function\"==typeof t?(i=t,t=r=e=void 0):(e=t,t=r=void 0)}return mquery.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),r&&((r=utils.clone(r,{retainKeyOrder:!0})).projection&&(this.select(r.projection),delete r.projection),r.fields&&(this.select(r.fields),delete r.fields),this.setOptions(r)),i?this._findOneAndUpdate(i):this},Query.prototype._findOneAndUpdate=function(t){return this._castConditions(),this._castError?t(this._castError):(this._findAndModify(\"update\",t),this)},Query.prototype.findOneAndRemove=function(t,e,r){switch(this.op=\"findOneAndRemove\",this._validate(),arguments.length){case 2:\"function\"==typeof e&&(r=e,e={});break;case 1:\"function\"==typeof t&&(r=t,t=void 0,e=void 0)}return mquery.canMerge(t)&&this.merge(t),e&&this.setOptions(e),r?(this._findOneAndRemove(r),this):this},Query.prototype._findOneAndRemove=function(t){return this._castConditions(),this._castError?t(this._castError):void Query.base.findOneAndRemove.call(this,t)};function decorateResult(t){return t&&(t._kareemIgnore=!0),t}Query.prototype._findAndModify=function(t,e){if(\"function\"!=typeof e)throw new Error(\"Expected callback in _findAndModify\");var r,i,o,s,n=this.model,u=n.schema,a=this,p=this._update;if((r=castQuery(this))instanceof Error)return e(r);\"strict\"in(o=this._optionsForExec(n))&&(this._mongooseOptions.strict=o.strict);var l=this.options.overwrite&&!hasDollarKeys(p);if(l&&(p=new this.model(p,null,!0)),\"remove\"===t)o.remove=!0;else if(\"new\"in o||(o.new=!1),\"upsert\"in o||(o.upsert=!1),(o.upsert||o.new)&&(o.remove=!1),l)s=function(t){p.validate(t)};else{if(p=castDoc(this,o.overwrite),p=setDefaultsOnInsert(this,u,p,o)){if(p instanceof Error)return e(p);p.$set&&0===Object.keys(p.$set).length&&delete p.$set}else{if(!o.upsert)return this.findOne(e);var c=utils.clone(r);delete c._id,p={$set:c}}s=updateValidators(this,u,p,o)}this._applyPaths();var h=this._userProvidedFields||{},d=this._mongooseOptions;if(this._fields&&(i=utils.clone(this._fields),o.fields=this._castFields(i),o.fields instanceof Error))return e(o.fields);o.sort&&convertSortToArray(o);var f=function(t,r,s){if(t)return e(t);if(!r||utils.isObject(r)&&0===Object.keys(r).length)return o.rawResult?e(null,s):o.passRawResult?e(null,null,decorateResult(s)):e(null,null);if(!d.populate)return 1==!!d.lean?_completeOneLean(r,s,o,e):completeOne(a.model,r,s,o,i,h,null,e);var n=helpers.preparePopulationOptionsMQ(a,d);n.__noPromise=!0,a.model.populate(r,n,function(t,r){return t?e(t):1==!!d.lean?_completeOneLean(r,s,o,e):completeOne(a.model,r,s,o,i,h,n,e)})};if(o.runValidators&&s){var y=function(t){return t?e(t):(p&&p.toBSON&&(p=p.toBSON()),void a._collection.findAndModify(r,p,o,utils.tick(function(t,e){return f(t,e?e.value:e,e)})))};try{s(y)}catch(t){e(t)}}else p&&p.toBSON&&(p=p.toBSON()),this._collection.findAndModify(r,p,o,utils.tick(function(t,e){return f(t,e?e.value:e,e)}));return this};function _completeOneLean(t,e,r,i){return r.rawResult?i(null,e):r.passRawResult?i(null,t,decorateResult(e)):i(null,t)}Query.prototype._mergeUpdate=function(t){this._update||(this._update={}),t instanceof Query?t._update&&utils.mergeClone(this._update,t._update):utils.mergeClone(this._update,t)};function convertSortToArray(t){if(!Array.isArray(t.sort)&&utils.isObject(t.sort)){var e=[];for(var r in t.sort)utils.object.hasOwnProperty(t.sort,r)&&e.push([r,t.sort[r]]);t.sort=e}}Query.prototype._execUpdate=function(t){var e,r,i=this.model.schema;this._castConditions();var o=this._conditions,s=this._update,n=this.options;if(this._castError)return t(this._castError),this;var u=this.options.overwrite&&!hasDollarKeys(s);if(u&&(s=new this.model(s,null,!0)),this.options.runValidators){r=this,e=u?function(t){s.validate(t)}:updateValidators(this,i,s,n);var a=function(e){return e?t(e):(s.toBSON&&(s=s.toBSON()),void Query.base.update.call(r,o,s,n,t))};try{e(a)}catch(e){process.nextTick(function(){t(e)})}return this}return s.toBSON&&(s=s.toBSON()),Query.base.update.call(this,o,s,n,t),this},Query.prototype._updateMany=function(t){var e,r,i=this.model.schema;this._castConditions();var o=this._conditions,s=this._update,n=this.options;if(this._castError)return t(this._castError),this;if(this.options.runValidators){r=this,e=updateValidators(this,i,s,n);var u=function(e){return e?t(e):void Query.base.updateMany.call(r,o,s,n,t)};try{e(u)}catch(e){process.nextTick(function(){t(e)})}return this}return Query.base.updateMany.call(this,o,s,n,t),this},Query.prototype._updateOne=function(t){var e,r,i=this.model.schema;this._castConditions();var o=this._conditions,s=this._update,n=this.options;if(this._castError)return t(this._castError),this;if(this.options.runValidators){r=this,e=updateValidators(this,i,s,n);var u=function(e){return e?t(e):void Query.base.updateOne.call(r,o,s,n,t)};try{e(u)}catch(e){process.nextTick(function(){t(e)})}return this}return Query.base.updateOne.call(this,o,s,n,t),this},Query.prototype._replaceOne=function(t){var e,r,i=this.model.schema,o=this._conditions,s=this._update,n=this.options;if(this._castError)return t(this._castError),this;if(this.options.runValidators){r=this,e=updateValidators(this,i,s,n);var u=function(e){return e?t(e):void Query.base.replaceOne.call(r,o,s,n,t)};try{e(u)}catch(e){process.nextTick(function(){t(e)})}return this}return Query.base.replaceOne.call(this,o,s,n,t),this},Query.prototype.update=function(t,e,r,i){return\"function\"==typeof r?(i=r,r=null):\"function\"==typeof e?(i=e,e=t,t={},r=null):\"function\"==typeof t?(i=t,t=void 0,e=void 0,r=void 0):\"object\"==typeof t&&!e&&!r&&!i&&(e=t,t=void 0,r=void 0,i=void 0),_update(this,\"update\",t,e,r,i)},Query.prototype.updateMany=function(t,e,r,i){return\"function\"==typeof r?(i=r,r=null):\"function\"==typeof e?(i=e,e=t,t={},r=null):\"function\"==typeof t?(i=t,t=void 0,e=void 0,r=void 0):\"object\"==typeof t&&!e&&!r&&!i&&(e=t,t=void 0,r=void 0,i=void 0),_update(this,\"updateMany\",t,e,r,i)},Query.prototype.updateOne=function(t,e,r,i){return\"function\"==typeof r?(i=r,r=null):\"function\"==typeof e?(i=e,e=t,t={},r=null):\"function\"==typeof t?(i=t,t=void 0,e=void 0,r=void 0):\"object\"==typeof t&&!e&&!r&&!i&&(e=t,t=void 0,r=void 0,i=void 0),_update(this,\"updateOne\",t,e,r,i)},Query.prototype.replaceOne=function(t,e,r,i){return\"function\"==typeof r?(i=r,r=null):\"function\"==typeof e?(i=e,e=t,t={},r=null):\"function\"==typeof t?(i=t,t=void 0,e=void 0,r=void 0):\"object\"==typeof t&&!e&&!r&&!i&&(e=t,t=void 0,r=void 0,i=void 0),this.setOptions({overwrite:!0}),_update(this,\"replaceOne\",t,e,r,i)};function _update(t,e,r,i,o,s){t.op=e,r=utils.toObject(r);var n=s;if(n){if(\"function\"!=typeof n)throw new Error(\"Invalid callback() argument.\");s=function(t,e){n(t,e?e.result:{ok:0,n:0,nModified:0})}}o&&\"strict\"in o&&(t._mongooseOptions.strict=o.strict),!i&&t._update&&(i=t._updateForExec()),mquery.canMerge(r)&&t.merge(r);var u=castQuery(t);if(u instanceof Error){if(t._castError=u,s)return s(u),t;if(!o||!o.dontThrowCastError)throw u}var a;try{var p={retainKeyOrder:!0};o&&o.minimize&&(p.minimize=!0),a=t._castUpdate(utils.clone(i,p),o&&o.overwrite||\"replaceOne\"===e)}catch(e){if(t._castError=u,s)return s(e),t;if(!o||!o.dontThrowCastError)throw e}return(a=setDefaultsOnInsert(t,t.schema,a,o))?(utils.isObject(o)&&t.setOptions(o),t._update||(t._update=a),s?\"update\"===e?t._execUpdate(s):t[\"_\"+e](s):Query.base[e].call(t,u,a,o,s)):(t.op=e,s&&s(null),t)}Query.prototype.exec=function(t,e){var r=PromiseProvider.get(),i=this;\"function\"==typeof t?(e=t,t=null):\"string\"==typeof t&&(this.op=t);var o,s=new r.ES6(function(t,e){return i.op?void i[i.op].call(i,function(r,i){return r?void e(r):(o=arguments,void t(i))}):void t()});return e&&s.then(function(){return e.apply(null,o),null},function(t){e(t,null)}).catch(function(t){setImmediate(function(){i.model.emit(\"error\",t)})}),s},Query.prototype.then=function(t,e){return this.exec().then(t,e)},Query.prototype.catch=function(t){return this.exec().then(null,t)},Query.prototype._castUpdate=function(t,e){var r;return r=\"strict\"in this._mongooseOptions?this._mongooseOptions.strict:!this.schema||!this.schema.options||this.schema.options.strict,castUpdate(this.schema,t,{overwrite:e,strict:r},this)};function castQuery(t){try{return t.cast(t.model)}catch(t){return t}}function castDoc(t,e){try{return t._castUpdate(t._update,e)}catch(t){return t}}Query.prototype.populate=function(){if(0===arguments.length)return this;var t,e=utils.populate.apply(null,arguments);if(this.options&&null!=this.options.readPreference)for(t=0;t<e.length;++t)e[t].options&&null!=e[t].options.readPreference||(e[t].options=e[t].options||{},e[t].options.readPreference=this.options.readPreference);var r=this._mongooseOptions;utils.isObject(r.populate)||(r.populate={});var i=r.populate;for(t=0;t<e.length;++t){var o=e[t].path;i[o]&&i[o].populate&&e[t].populate&&(e[t].populate=i[o].populate.concat(e[t].populate)),i[e[t].path]=e[t]}return this},Query.prototype.cast=function(t,e){e||(e=this._conditions);try{return cast(t.schema,e,{upsert:this.options&&this.options.upsert,strict:this.options&&\"strict\"in this.options?this.options.strict:t.schema.options&&t.schema.options.strict,strictQuery:this.options&&this.options.strictQuery||t.schema.options&&t.schema.options.strictQuery},this)}catch(e){throw\"function\"==typeof e.setModel&&e.setModel(t),e}},Query.prototype._castFields=function(t){var e,r,i,o,s,n;if(t)for(i=Object.keys(t),r=[],n=i.length;n--;)o=i[n],t[o].$elemMatch&&(e||(e={}),e[o]=t[o],r.push(o));if(e){try{s=this.cast(this.model,e)}catch(t){return t}for(n=r.length;n--;)o=r[n],t[o]=s[o]}return t},Query.prototype._applyPaths=function(){this._fields=this._fields||{},helpers.applyPaths(this._fields,this.model.schema),selectPopulatedFields(this)},Query.prototype.stream=function(t){return this._applyPaths(),this._fields=this._castFields(this._fields),this._castConditions(),new QueryStream(this,t)},Query.prototype.stream=util.deprecate(Query.prototype.stream,\"Mongoose: Query.prototype.stream() is deprecated in mongoose >= 4.5.0, use Query.prototype.cursor() instead\"),Query.prototype.cursor=function(t){this._applyPaths(),this._fields=this._castFields(this._fields),this.setOptions({fields:this._fieldsForExec()}),t&&this.setOptions(t);try{this.cast(this.model)}catch(t){return new QueryCursor(this,this.options)._markError(t)}return new QueryCursor(this,this.options)},Query.prototype.maxscan=Query.base.maxScan,Query.prototype.tailable=function(t,e){if(t&&\"Object\"===t.constructor.name&&(e=t,t=!0),void 0===t&&(t=!0),e&&\"object\"==typeof e)for(var r in e)this.options[r]=\"awaitdata\"===r?!!e[r]:e[r];return Query.base.tailable.call(this,t)},Query.prototype.near=function(){var t=[],e=this._mongooseOptions.nearSphere;if(1===arguments.length)if(Array.isArray(arguments[0]))t.push({center:arguments[0],spherical:e});else if(\"string\"==typeof arguments[0])t.push(arguments[0]);else{if(!utils.isObject(arguments[0]))throw new TypeError(\"invalid argument\");\"boolean\"!=typeof arguments[0].spherical&&(arguments[0].spherical=e),t.push(arguments[0])}else if(2===arguments.length)if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1])t.push({center:[arguments[0],arguments[1]],spherical:e});else if(\"string\"==typeof arguments[0]&&Array.isArray(arguments[1]))t.push(arguments[0]),t.push({center:arguments[1],spherical:e});else{if(\"string\"!=typeof arguments[0]||!utils.isObject(arguments[1]))throw new TypeError(\"invalid argument\");t.push(arguments[0]),\"boolean\"!=typeof arguments[1].spherical&&(arguments[1].spherical=e),t.push(arguments[1])}else{if(3!==arguments.length)throw new TypeError(\"invalid argument\");if(\"string\"!=typeof arguments[0]||\"number\"!=typeof arguments[1]||\"number\"!=typeof arguments[2])throw new TypeError(\"invalid argument\");t.push(arguments[0]),t.push({center:[arguments[1],arguments[2]],spherical:e})}return Query.base.near.apply(this,t)},Query.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this},Query.prototype.box=function(t,e){return!Array.isArray(t)&&utils.isObject(t)&&(e=t.ur,t=t.ll),Query.base.box.call(this,t,e)},Query.prototype.center=Query.base.circle,Query.prototype.centerSphere=function(){arguments[0]&&\"Object\"===arguments[0].constructor.name&&(arguments[0].spherical=!0),arguments[1]&&\"Object\"===arguments[1].constructor.name&&(arguments[1].spherical=!0),Query.base.circle.apply(this,arguments)},Query.prototype.selectedExclusively=function(){if(!this._fields)return!1;var t=Object.keys(this._fields);if(0===t.length)return!1;for(var e,r=0;r<t.length;++r)if(\"_id\"!==(e=t[r])&&0===this._fields[e])return!0;return!1},module.exports=Query;","node_modules/mongoose/lib/model.js":"var Aggregate=require(\"./aggregate\"),Document=require(\"./document\"),DocumentNotFoundError=require(\"./error\").DocumentNotFoundError,DivergentArrayError=require(\"./error\").DivergentArrayError,Error=require(\"./error\"),EventEmitter=require(\"events\").EventEmitter,OverwriteModelError=require(\"./error\").OverwriteModelError,PromiseProvider=require(\"./promise_provider\"),Query=require(\"./query\"),Schema=require(\"./schema\"),VersionError=require(\"./error\").VersionError,applyHooks=require(\"./services/model/applyHooks\"),applyMethods=require(\"./services/model/applyMethods\"),applyStatics=require(\"./services/model/applyStatics\"),cast=require(\"./cast\"),castUpdate=require(\"./services/query/castUpdate\"),discriminator=require(\"./services/model/discriminator\"),isPathSelectedInclusive=require(\"./services/projection/isPathSelectedInclusive\"),mpath=require(\"mpath\"),{parallelLimit:parallelLimit,parallel:parallel}=require(\"async\"),util=require(\"util\"),utils=require(\"./utils\"),VERSION_WHERE=1,VERSION_INC=2,VERSION_ALL=VERSION_WHERE|VERSION_INC;function Model(e,t,o){Document.call(this,e,t,o,!0)}Model.prototype.__proto__=Document.prototype,Model.prototype.$isMongooseModelPrototype=!0,Model.prototype.db,Model.prototype.collection,Model.prototype.modelName,Model.prototype.$where,Model.prototype.baseModelName,Model.prototype.$__handleSave=function(e,t){var o,n,i,r=this;!e.safe&&this.schema.options.safe&&(e.safe=this.schema.options.safe),\"boolean\"==typeof e.safe&&(e.safe=null);var s=e.safe?utils.clone(e.safe,{retainKeyOrder:!0}):e.safe;if(this.isNew){var a={retainKeyOrder:this.schema.options.retainKeyOrder,depopulate:1,_skipDepopulateTopLevel:!0,transform:!1,flattenDecimals:!1},l=this.toObject(a);if(void 0===(l||{})._id)return void setTimeout(function(){t(new Error(\"document must have an _id before saving\"))},0);this.$__version(!0,l),this.collection.insert(l,s,function(e,o){return e?(r.isNew=!0,r.emit(\"isNew\",!0),r.constructor.emit(\"isNew\",!0),void t(e)):void t(null,o)}),this.$__reset(),this.isNew=!1,this.emit(\"isNew\",!1),this.constructor.emit(\"isNew\",!1),this.$__.inserting=!0}else{this.$__.inserting=!1;var u=this.$__delta();if(!u)return this.$__reset(),void t();if(u instanceof Error)return void t(u);var c=this.$__where(u[0]);if(c instanceof Error)return void t(c);if(this.$where)for(n=Object.keys(this.$where),i=n.length,o=0;o<i;++o)c[n[o]]=this.$where[n[o]];this.collection.update(c,u[1],s,function(e,o){return e?void t(e):(o.$where=c,void t(null,o))}),this.emit(\"isNew\",!1),this.constructor.emit(\"isNew\",!1)}},Model.prototype.$__save=function(e,t){var o=this;o.$__handleSave(e,function(e,n){if(e)return o.schema.s.hooks.execPost(\"save:error\",o,[o],{error:e},function(e){t(e)});o.$__reset();var i=0;if(n&&(i=Array.isArray(n)?n.length:n.result&&void 0!==n.result.n?n.result.n:n.result&&void 0!==n.result.nModified?n.result.nModified:n),o.schema.options&&o.schema.options.saveErrorIfNotFound&&0>=i)return e=new DocumentNotFoundError(n.$where),o.schema.s.hooks.execPost(\"save:error\",o,[o],{error:e},function(e){t(e)});if(o.$__.version&&!o.$__.inserting){var r=VERSION_INC==(VERSION_INC&o.$__.version);if(o.$__.version=void 0,0>=i){var s=new VersionError(o);return t(s)}if(r){var a=o.schema.options.versionKey,l=0|o.getValue(a);o.setValue(a,l+1)}}o.emit(\"save\",o,i),o.constructor.emit(\"save\",o,i),t(null,o,i)})},Model.prototype.save=function(e,t){return\"function\"==typeof e&&(t=e,e=void 0),e||(e={}),t&&(t=this.constructor.$wrapCallback(t)),this.$__save(e,t)};function shouldSkipVersioning(e,t){var o=e.schema.options.skipVersioning;return!!o&&(t=t.replace(/\\.\\d+\\./,\".\"),o[t])}function operand(e,t,o,n,i,r){if(r||(r=\"$set\"),o[r]||(o[r]={}),o[r][n.path]=i,!1!==e.schema.options.versionKey&&!shouldSkipVersioning(e,n.path)&&VERSION_ALL!=(VERSION_ALL&e.$__.version)){switch(r){case\"$set\":case\"$unset\":case\"$pop\":case\"$pull\":case\"$pullAll\":case\"$push\":case\"$pushAll\":case\"$addToSet\":break;default:return}\"$push\"===r||\"$pushAll\"===r||\"$addToSet\"===r?e.$__.version=VERSION_INC:/^\\$p/.test(r)?e.increment():Array.isArray(i)?e.increment():/\\.\\d+\\.|\\.\\d+$/.test(n.path)&&(e.$__.version=VERSION_WHERE)}}function handleAtomics(e,t,o,n,i){function r(e){return utils.isMongooseObject(e)?e.toObject({depopulate:1,_isNested:!0}):e}if(!o.$set||!o.$set[n.path]){if(\"function\"==typeof i.$__getAtomics)return void i.$__getAtomics().forEach(function(i){var r=i[0],s=i[1];e.schema.options.usePushEach&&\"$pushAll\"===r&&(r=\"$push\",s={$each:s}),operand(e,t,o,n,s,r)});var s,a,l=i._atomics,u=Object.keys(l),c=u.length;if(0===c)return utils.isMongooseObject(i)?i=i.toObject({depopulate:1,_isNested:!0}):i.valueOf&&(i=i.valueOf()),operand(e,t,o,n,i);for(;c--;)a=u[c],s=l[a],utils.isMongooseObject(s)?s=s.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(s)?s=s.map(r):s.valueOf&&(s=s.valueOf()),\"$addToSet\"===a&&(s={$each:s}),operand(e,t,o,n,s,a)}}Model.prototype.$__delta=function(){var e=this.$__dirty();if(e.length||VERSION_ALL===this.$__.version){var t={},o={},n=e.length,i=[],r=0;for(t._id=this._doc._id,t._id.toObject&&(t._id=t._id.toObject({transform:!1,depopulate:!0}));r<n;++r){var s=e[r],a=s.value,l=checkDivergentArray(this,s.path,a);if(l)i.push(l);else{if(!this.populated(s.path,!0)&&this.$__.selected){var u=s.path.split(\".\"),c=u[0];if(this.$__.selected[c]&&this.$__.selected[c].$elemMatch){if(!(1<u.length&&0==u[1]&&void 0===t[c])){i.push(s.path);continue}t[c]=this.$__.selected[c],u[1]=\"$\",s.path=u.join(\".\")}}i.length||(void 0===a?operand(this,t,o,s,1,\"$unset\"):null===a?operand(this,t,o,s,null):a._path&&a._atomics?handleAtomics(this,t,o,s,a):a._path&&Buffer.isBuffer(a)?(a=a.toObject(),operand(this,t,o,s,a)):(a=utils.clone(a,{depopulate:1,_isNested:!0}),operand(this,t,o,s,a)))}}return i.length?new DivergentArrayError(i):(this.$__.version&&this.$__version(t,o),[t,o])}};function checkDivergentArray(e,t,o){var n=e.populated(t,!0);if(!n&&e.$__.selected){var i=t.split(\".\")[0];if(e.$__.selected[i+\".$\"])return i}if(n&&o&&o.isMongooseArray){if(n.options.match||n.options.options&&utils.object.hasOwnProperty(n.options.options,\"limit\")||n.options.options&&n.options.options.skip||n.options.select&&(0===n.options.select._id||/\\s?-_id\\s?/.test(n.options.select))){var r=o._atomics;if(0===Object.keys(r).length||r.$set||r.$pop)return t}}}for(var i in Model.prototype.$__version=function(e,t){var o=this.schema.options.versionKey;if(!0!==e){if(this.isSelected(o)){if(VERSION_WHERE==(VERSION_WHERE&this.$__.version)){var n=this.getValue(o);null!=n&&(e[o]=n)}VERSION_INC!=(VERSION_INC&this.$__.version)||t.$set&&void 0!==t.$set[o]||(t.$inc||(t.$inc={}),t.$inc[o]=1)}}else o&&this.setValue(o,t[o]=0)},Model.prototype.increment=function(){return this.$__.version=VERSION_ALL,this},Model.prototype.$__where=function(e){return e||(e={}),e._id||(e._id=this._doc._id),null==this._doc._id?new Error(\"No _id found on document!\"):e},Model.prototype.remove=function(e,t){if(\"function\"==typeof e&&(t=e,e=void 0),e||(e={}),this.$__.removing)return t&&this.$__.removing.then(function(e){t(null,e)},function(e){t(e)}),this;var o=this,n=PromiseProvider.get();return t&&(t=this.constructor.$wrapCallback(t)),this.$__.removing=new n.ES6(function(n,i){var r=o.$__where();return r instanceof Error?(i(r),void(t&&t(r))):(!e.safe&&o.schema.options.safe&&(e.safe=o.schema.options.safe),void o.collection.remove(r,e,function(e){return e?(i(e),void(t&&t(e))):(o.emit(\"remove\",o),o.constructor.emit(\"remove\",o),n(o),void(t&&t(null,o)))}))}),this.$__.removing},Model.prototype.model=function(e){return this.db.model(e)},Model.discriminator=function(e,t){var o;if(\"function\"==typeof e&&(o=e,e=utils.getFunctionName(o),!(o.prototype instanceof Model)))throw new Error(\"The provided class \"+e+\" must extend Model\");if(t=discriminator(this,e,t),this.db.models[e])throw new OverwriteModelError(e);t.$isRootDiscriminator=!0,o=this.db.model(o||e,t,this.collection.name),this.discriminators[e]=o;var n=this.discriminators[e];return n.prototype.__proto__=this.prototype,Object.defineProperty(n,\"baseModelName\",{value:this.modelName,configurable:!0,writable:!1}),applyMethods(n,t),applyStatics(n,t),n},EventEmitter.prototype)Model[i]=EventEmitter.prototype[i];Model.init=function(e){if(this.schema.emit(\"init\",this),this.$init)return this.$init;var t=this,o=PromiseProvider.get();return this.$init=new o.ES6(function(o,n){return(t.schema.options.autoIndex||null==t.schema.options.autoIndex&&t.db.config.autoIndex)&&t.ensureIndexes({_automatic:!0,__noPromise:!0},function(i){return i?(e&&e(i),n(i)):(e&&e(null,t),void o(t))}),t}),this.$init},Model.ensureIndexes=function(e,t){if(\"function\"==typeof e&&(t=e,e=null),!e||!e.__noPromise){t&&(t=this.$wrapCallback(t));var o=this;return new(PromiseProvider.get().ES6)(function(n,i){_ensureIndexes(o,e||{},function(e){e&&(t&&t(e),i(e)),t&&t(),n()})})}_ensureIndexes(this,e,t)};function _ensureIndexes(e,t,o){var n=e.schema.indexes(),i=function(t){t&&e.schema.options.emitIndexErrors&&e.emit(\"error\",t),e.emit(\"index\",t),o&&o(t)};if(n.length){var r=function(){if(t&&t._automatic&&(!1===e.schema.options.autoIndex||null==e.schema.options.autoIndex&&!1===e.db.config.autoIndex))return i();var o=n.shift();if(!o)return i();var s=o[0],a=o[1];_handleSafe(t),function(t,o){e.emit(\"index-single-start\",t,o)}(s,t),e.collection.ensureIndex(s,a,utils.tick(function(t,o){return function(t,o,n,i){e.emit(\"index-single-done\",t,o,n,i)}(t,s,a,o),t?i(t):void r()}))};setImmediate(function(){t._automatic&&!e.collection.collection?e.collection.addQueue(r,[]):r()})}else setImmediate(function(){i()})}function _handleSafe(e){e.safe&&(\"boolean\"==typeof e.safe&&(e.w=e.safe,delete e.safe),\"object\"==typeof e.safe&&(e.w=e.safe.w,e.j=e.safe.j,e.wtimeout=e.safe.wtimeout,delete e.safe))}Model.schema,Model.db,Model.collection,Model.base,Model.discriminators,Model.translateAliases=function(e){var t=this.schema.aliases;if(\"object\"==typeof e){for(var o in e)t[o]&&(e[t[o]]=e[o],delete e[o]);return e}return e},Model.remove=function(e,t){\"function\"==typeof e&&(t=e,e={});var o=new this.Query({},{},this,this.collection);return t&&(t=this.$wrapCallback(t)),o.remove(e,t)},Model.deleteOne=function(e,t){\"function\"==typeof e&&(t=e,e={});var o=new this.Query(e,{},this,this.collection);return t&&(t=this.$wrapCallback(t)),o.deleteOne(t)},Model.deleteMany=function(e,t){\"function\"==typeof e&&(t=e,e={});var o=new this.Query(e,{},this,this.collection);return t&&(t=this.$wrapCallback(t)),o.deleteMany(t)},Model.find=function(e,t,o,n){\"function\"==typeof e?(n=e,e={},t=null,o=null):\"function\"==typeof t?(n=t,t=null,o=null):\"function\"==typeof o&&(n=o,o=null);var i=new this.Query({},{},this,this.collection);return i.select(t),i.setOptions(o),this.schema.discriminatorMapping&&this.schema.discriminatorMapping.isRoot&&i.selectedInclusively()&&i.select(this.schema.options.discriminatorKey),n&&(n=this.$wrapCallback(n)),i.find(e,n)},Model.findById=function(e,t,o,n){return void 0===e&&(e=null),n&&(n=this.$wrapCallback(n)),this.findOne({_id:e},t,o,n)},Model.findOne=function(e,t,o,n){\"function\"==typeof o?(n=o,o=null):\"function\"==typeof t?(n=t,t=null,o=null):\"function\"==typeof e&&(n=e,e={},t=null,o=null);var i=new this.Query({},{},this,this.collection);return i.select(t),i.setOptions(o),this.schema.discriminatorMapping&&this.schema.discriminatorMapping.isRoot&&i.selectedInclusively()&&i.select(this.schema.options.discriminatorKey),n&&(n=this.$wrapCallback(n)),i.findOne(e,n)},Model.count=function(e,t){\"function\"==typeof e&&(t=e,e={});var o=new this.Query({},{},this,this.collection);return t&&(t=this.$wrapCallback(t)),o.count(e,t)},Model.distinct=function(e,t,o){var n=new this.Query({},{},this,this.collection);return\"function\"==typeof t&&(o=t,t={}),o&&(o=this.$wrapCallback(o)),n.distinct(e,t,o)},Model.where=function(e,t){var o=new this.Query({},{},this,this.collection).find({});return o.where.apply(o,arguments)},Model.$where=function(){var e=new this.Query({},{},this,this.collection).find({});return e.$where.apply(e,arguments)},Model.findOneAndUpdate=function(e,t,o,n){if(\"function\"==typeof o)n=o,o=null;else if(1===arguments.length){if(\"function\"==typeof e){var i=\"Model.findOneAndUpdate(): First argument must not be a function.\\n\\n  \"+this.modelName+\".findOneAndUpdate(conditions, update, options, callback)\\n  \"+this.modelName+\".findOneAndUpdate(conditions, update, options)\\n  \"+this.modelName+\".findOneAndUpdate(conditions, update)\\n  \"+this.modelName+\".findOneAndUpdate(update)\\n  \"+this.modelName+\".findOneAndUpdate()\\n\";throw new TypeError(i)}t=e,e=void 0}n&&(n=this.$wrapCallback(n));var r;o&&o.fields&&(r=o.fields),t=utils.clone(t,{depopulate:1,_isNested:!0}),this.schema.options.versionKey&&o&&o.upsert&&(o.overwrite?t[this.schema.options.versionKey]=0:(!t.$setOnInsert&&(t.$setOnInsert={}),t.$setOnInsert[this.schema.options.versionKey]=0));var s=new this.Query({},{},this,this.collection);return s.select(r),s.findOneAndUpdate(e,t,o,n)},Model.findByIdAndUpdate=function(e,t,o,n){if(n&&(n=this.$wrapCallback(n)),1===arguments.length){if(\"function\"==typeof e){var i=\"Model.findByIdAndUpdate(): First argument must not be a function.\\n\\n  \"+this.modelName+\".findByIdAndUpdate(id, callback)\\n  \"+this.modelName+\".findByIdAndUpdate(id)\\n  \"+this.modelName+\".findByIdAndUpdate()\\n\";throw new TypeError(i)}return this.findOneAndUpdate({_id:e},void 0)}return e instanceof Document&&(e=e._id),this.findOneAndUpdate.call(this,{_id:e},t,o,n)},Model.findOneAndRemove=function(e,t,o){if(1===arguments.length&&\"function\"==typeof e){var n=\"Model.findOneAndRemove(): First argument must not be a function.\\n\\n  \"+this.modelName+\".findOneAndRemove(conditions, callback)\\n  \"+this.modelName+\".findOneAndRemove(conditions)\\n  \"+this.modelName+\".findOneAndRemove()\\n\";throw new TypeError(n)}\"function\"==typeof t&&(o=t,t=void 0),o&&(o=this.$wrapCallback(o));var i;t&&(i=t.select,t.select=void 0);var r=new this.Query({},{},this,this.collection);return r.select(i),r.findOneAndRemove(e,t,o)},Model.findByIdAndRemove=function(e,t,o){if(1===arguments.length&&\"function\"==typeof e){var n=\"Model.findByIdAndRemove(): First argument must not be a function.\\n\\n  \"+this.modelName+\".findByIdAndRemove(id, callback)\\n  \"+this.modelName+\".findByIdAndRemove(id)\\n  \"+this.modelName+\".findByIdAndRemove()\\n\";throw new TypeError(n)}return o&&(o=this.$wrapCallback(o)),this.findOneAndRemove({_id:e},t,o)},Model.create=function(e,t){var o,n,i=this.schema.options.discriminatorKey;if(Array.isArray(e))o=e,n=t;else{var r=arguments[arguments.length-1];\"function\"!=typeof r&&r?o=utils.args(arguments):(n=r,o=utils.args(arguments,0,arguments.length-1))}var s=PromiseProvider.get(),a=this;n&&(n=this.$wrapCallback(n));var l=new s.ES6(function(t,r){if(0!==o.length){var s,u=[];o.forEach(function(e){u.push(function(t){var o=a.discriminators&&e[i]?a.discriminators[e[i]]:a,n=e instanceof o?e:new o(e),r=function(e,o){return e?(s||(s=e),t(null,{error:e})):void t(null,{doc:o})};n.$__original_save?n.$__original_save({__noPromise:!0},r):n.save({__noPromise:!0},r)})}),parallel(u,function(o,i){for(var u=[],c=i.length,d=0;d<c;++d)i[d].doc&&u.push(i[d].doc);return s?void(n?n(s,u):r(s)):void(e instanceof Array?(t(u),n&&n.call(a,null,u)):(t.apply(l,u),n&&n.apply(a,[null].concat(u))))})}else setImmediate(function(){n&&n(null),t(null)})});return l};var INSERT_MANY_CONVERT_OPTIONS={depopulate:!0,transform:!1,_skipDepopulateTopLevel:!0,flattenDecimals:!1};Model.insertMany=function(e,t,o){var n=this;\"function\"==typeof t&&(o=t,t=null),o&&(o=this.$wrapCallback(o));var i=t&&t.limit;\"number\"!=typeof i&&(i=1e3),Array.isArray(e)||(e=[e]);var r=[];e.forEach(function(e){r.push(function(o){(e=new n(e)).validate({__noPromise:!0},function(n){return n?null!=t&&\"object\"==typeof t&&!1===t.ordered?o(null,null):o(n):void o(null,e)})})}),parallelLimit(r,i,function(e,i){if(e)o&&o(e);else{var r=i.filter(function(e){return null!=e});if(1>r.length)o&&o(null,[]);else{var s=r.map(function(e){return e.schema.options.versionKey&&(e[e.schema.options.versionKey]=0),e.initializeTimestamps?e.initializeTimestamps().toObject(INSERT_MANY_CONVERT_OPTIONS):e.toObject(INSERT_MANY_CONVERT_OPTIONS)});n.collection.insertMany(s,t,function(e){if(e)o&&o(e);else{for(var t=0;t<r.length;++t)r[t].isNew=!1,r[t].emit(\"isNew\",!1),r[t].constructor.emit(\"isNew\",!1);o&&o(null,r)}})}}})},Model.bulkWrite=function(e,t,o){var n=PromiseProvider.get(),i=this;\"function\"==typeof t&&(o=t,t=null),o&&(o=this.$wrapCallback(o)),t=t||{};var r=e.map(function(e){return e.insertOne?function(t){e.insertOne.document=new i(e.insertOne.document),e.insertOne.document.validate({__noPromise:!0},function(e){return e?t(e):void t(null)})}:e.updateOne?function(t){try{e.updateOne.filter=cast(i.schema,e.updateOne.filter),e.updateOne.update=castUpdate(i.schema,e.updateOne.update,i.schema.options.strict)}catch(e){return t(e)}t(null)}:e.updateMany?function(t){try{e.updateMany.filter=cast(i.schema,e.updateMany.filter),e.updateMany.update=castUpdate(i.schema,e.updateMany.update,{strict:i.schema.options.strict,overwrite:!1})}catch(e){return t(e)}t(null)}:e.replaceOne?function(t){try{e.replaceOne.filter=cast(i.schema,e.replaceOne.filter)}catch(e){return t(e)}e.replaceOne.replacement=new i(e.replaceOne.replacement,null,!0),e.replaceOne.replacement.validate({__noPromise:!0},function(e){return e?t(e):void t(null)})}:e.deleteOne?function(t){try{e.deleteOne.filter=cast(i.schema,e.deleteOne.filter)}catch(e){return t(e)}t(null)}:e.deleteMany?function(t){try{e.deleteMany.filter=cast(i.schema,e.deleteMany.filter)}catch(e){return t(e)}t(null)}:function(e){e(new Error(\"Invalid op passed to `bulkWrite()`\"))}});return new n.ES6(function(n,s){parallel(r,function(r){return r?(o&&o(r),s(r)):void i.collection.bulkWrite(e,t,function(e,t){return e?(o&&o(e),s(e)):(o&&o(null,t),void n(t))})})})},Model.hydrate=function(e){var t=require(\"./queryhelpers\").createModel(this,e);return t.init(e),t},Model.update=function(e,t,o,n){return _update(this,\"update\",e,t,o,n)},Model.updateMany=function(e,t,o,n){return _update(this,\"updateMany\",e,t,o,n)},Model.updateOne=function(e,t,o,n){return _update(this,\"updateOne\",e,t,o,n)},Model.replaceOne=function(e,t,o,n){return _update(this,\"replaceOne\",e,t,o,n)};function _update(e,t,o,n,i,r){var s=new e.Query({},{},e,e.collection);return r&&(r=e.$wrapCallback(r)),o=o instanceof Document?o.toObject():utils.clone(o,{retainKeyOrder:!0}),i=\"function\"==typeof i?i:utils.clone(i),e.schema.options.versionKey&&i&&i.upsert&&(i.overwrite?n[e.schema.options.versionKey]=0:(!n.$setOnInsert&&(n.$setOnInsert={}),n.$setOnInsert[e.schema.options.versionKey]=0)),s[t](o,n,i,r)}Model.mapReduce=function(e,t){var o=this;t&&(t=this.$wrapCallback(t));var n=e.resolveToObject;return new(PromiseProvider.get().ES6)(function(i,r){if(Model.mapReduce.schema||(Model.mapReduce.schema=new Schema({},{noId:!0,noVirtualId:!0,strict:!1})),e.out||(e.out={inline:1}),!1!==e.verbose&&(e.verbose=!0),e.map+=\"\",e.reduce+=\"\",e.query){var s=new o.Query(e.query);s.cast(o),e.query=s._conditions,s=void 0}o.collection.mapReduce(null,null,e,function(e,s,a){if(e)return t&&t(e),void r(e);if(s.findOne&&s.mapReduce){var l=Model.compile(\"_mapreduce_\"+s.collectionName,Model.mapReduce.schema,s.collectionName,o.db,o.base);return l._mapreduce=!0,t&&t(null,l,a),n?i({model:l,stats:a}):i(l,a)}return t&&t(null,s,a),n?i({model:s,stats:a}):void i(s,a)})})},Model.geoNear=function(e,t,o){\"function\"==typeof t&&(o=t,t={}),o&&(o=this.$wrapCallback(o));var n=this,i=PromiseProvider.get();if(!e)return new i.ES6(function(e,t){var n=new Error(\"Must pass a near option to geoNear\");t(n),o&&o(n)});var r,s;return new i.ES6(function(i,a){var l=function(e,r){function s(e){return e&&!c?(c=!0,a(e),void(o&&o(e))):void(0>=--l&&(i(r.results,r.stats),o&&o(null,r.results,r.stats)))}if(e)return a(e),void(o&&o(e));if(t.lean)return i(r.results,r.stats),void(o&&o(null,r.results,r.stats));var l=r.results.length;if(0===l)return i(r.results,r.stats),void(o&&o(null,r.results,r.stats));for(var u,c=!1,d=0;d<r.results.length;d++)u=r.results[d].obj,r.results[d].obj=new n,r.results[d].obj.init(u,s)};if(Array.isArray(e)){if(2!==e.length){var u=new Error(\"If using legacy coordinates, must be an array of size 2 for geoNear\");return a(u),void(o&&o(u))}r=e[0],s=e[1],n.collection.geoNear(r,s,t,l)}else{if(\"Point\"!==e.type||!Array.isArray(e.coordinates))return u=new Error(\"Must pass either a legacy coordinate array or GeoJSON Point to geoNear\"),a(u),void(o&&o(u));n.collection.geoNear(e,t,l)}})},Model.aggregate=function(){var e,t,o=[].slice.call(arguments);return\"function\"==typeof o[o.length-1]&&(t=o.pop()),(e=1===o.length&&util.isArray(o[0])?new Aggregate(o[0]):new Aggregate(o)).model(this),void 0===t?e:(t&&(t=this.$wrapCallback(t)),void e.exec(t))},Model.geoSearch=function(e,t,o){\"function\"==typeof t&&(o=t,t={}),o&&(o=this.$wrapCallback(o));var n=this;return new(PromiseProvider.get().ES6)(function(i,r){var s;return void 0!==e&&utils.isObject(e)?t.near?!Array.isArray(t.near)&&(s=new Error(\"near option must be an array [x, y]\")):s=new Error(\"Must specify the near option in geoSearch\"):s=new Error(\"Must pass conditions to geoSearch\"),s?(o&&o(s),void r(s)):(t.search=e,void n.collection.geoHaystackSearch(t.near[0],t.near[1],t,function(e,s){function a(e){return e&&!c?(o&&o(e),void r(e)):void(!--l&&!c&&(o&&o(null,s.results,s.stats),i(s.results,s.stats)))}if(e)return o&&o(e),void r(e);var l=s.results.length;if(t.lean||0===l)return o&&o(null,s.results,s.stats),void i(s.results,s.stats);for(var u,c=!1,d=0;d<s.results.length;d++)u=s.results[d],s.results[d]=new n,s.results[d].init(u,{},a)}))})},Model.populate=function(e,t,o){var n=this;o&&(o=this.$wrapCallback(o));var i=t&&!!t.__noPromise;t=utils.populate(t);var r={};if(!i){return new(PromiseProvider.get().ES6)(function(i,s){_populate(n,e,t,r,function(e,t){e?(o&&o(e),s(e)):(o&&o(null,t),i(t))})})}_populate(this,e,t,r,o)};function _populate(e,t,o,n,i){function r(e){return e?i(e):void(--s||i(null,t))}var s=o.length;if(0===s)return i(null,t);for(var a,l=s;l--;)a=o[l],populate(e,t,a,r)}var excludeIdReg=/\\s?-_id\\s?/,excludeIdRegGlobal=/\\s?-_id\\s?/g;function populate(e,t,o,n){function i(e){return void 0!==e}function r(t,o,i,r){return l.options.options&&l.options.options.limit&&(l.options.options.limit=o.originalLimit),i?n(i):(p=p.concat(r),function(t,o,i,r){if(t)return n(t);for(var s,a,l,u=i.options,c=i.isVirtual,d=i.justOne,p=u.options&&u.options.lean,f=o.length,h={},m={},v=[].concat(i.allIds.map(function(e){return Array.isArray(e)?[].concat(e):e})),y=0;y<f;y++)if(l=o[y]){if(s=utils.getValue(i.foreignField,l),Array.isArray(s))for(var _,g=s.length,w=0;w<g;++w)(_=s[w])instanceof Document&&(_=_._id),a=_+\"\",m[a]?Array.isArray(m[a])?(m[a].push(l),h[a].push(y)):(m[a]=[m[a],l],h[a]=[h[a],y]):c&&!d?(m[a]=[l],h[a]=[y]):(m[a]=l,h[a]=y);else s instanceof Document&&(s=s._id),a=s+\"\",m[a]?Array.isArray(m[a])?(m[a].push(l),h[a].push(y)):(m[a]=[m[a],l],h[a]=[h[a],y]):(m[a]=l,h[a]=y);p||(l.$__.wasPopulated=!0)}assignVals({originalModel:e,rawIds:i.allIds,allIds:v,localField:i.localField,foreignField:i.foreignField,rawDocs:m,rawOrder:h,docs:i.docs,path:u.path,options:r,justOne:i.justOne,isVirtual:i.isVirtual,allOptions:i})}(null,p,t,o),void(0==--f&&n()))}var s;if(Array.isArray(t)||(t=[t]),0===t.length||t.every(utils.isNullOrUndefined))return n();if((s=getModelsMapForPopulate(e,t,o))instanceof Error)return setImmediate(function(){n(s)});var a,l,u,c,d=s.length,p=[],f=d,h=!1;for(a=0;a<d;a++){c=(l=s[a]).options.select,u=l.options.match?utils.object.shallowCopy(l.options.match):{};var m=utils.array.flatten(l.ids,i);if(0===(m=utils.array.unique(m)).length||m.every(utils.isNullOrUndefined))--f;else{h=!0,\"_id\"===l.foreignField&&u._id||(u[l.foreignField]={$in:m});var v={};v.sort=l.options.options&&l.options.options.sort||void 0,v.excludeId=excludeIdReg.test(c)||c&&0===c._id,v.excludeId&&(\"string\"==typeof c?c=c.replace(excludeIdRegGlobal,\" \"):(c=utils.object.shallowCopy(c),delete c._id)),l.options.options&&l.options.options.limit&&(v.originalLimit=l.options.options.limit,l.options.options.limit*=m.length);var y=l.options.populate,_=l.Model.find(u,c,l.options.options);\"_id\"!==l.foreignField&&_.selectedInclusively()&&!isPathSelectedInclusive(_._fields,l.foreignField)&&_.select(l.foreignField),y&&_.populate(y),_.exec(r.bind(this,l,v))}}return h?void 0:n()}function assignVals(e){function t(e){return valueFilter(e,i)}assignRawDocsToIdStructure(e.rawIds,e.rawDocs,e.rawOrder,e.options,e.localField,e.foreignField);for(var o=e.docs,n=e.rawIds,i=e.options,r=0;r<o.length;++r)if(null!=utils.getValue(e.path,o[r])||e.originalModel.schema._getVirtual(e.path))if(!e.isVirtual||e.justOne||Array.isArray(n[r])||(null==n[r]?n[r]=[]:n[r]=[n[r]]),e.isVirtual&&\"model\"===o[r].constructor.name)mpath.set(e.path,n[r],o[r]);else{for(var s=e.path.split(\".\"),a=o[r],l=0;l<s.length-1;++l)null==a[s[l]]&&(a[s[l]]={}),a=a[s[l]];o[r].$__&&o[r].populated(e.path,e.allIds[r],e.allOptions),utils.setValue(e.path,n[r],o[r],t)}}function assignRawDocsToIdStructure(e,t,o,n,i,r,s){for(var a,l,u,c=[],d=n.sort&&1<e.length,p=0;p<e.length;++p)u=e[p],Array.isArray(u)?(assignRawDocsToIdStructure(u,t,o,n,i,r,!0),c.push(u)):null!==u||d?(l=u+\"\",s?(a=t[l])?d?c[o[l]]=a:c.push(a):c.push(u):c[p]=a=t[l]||null):c.push(u);e.length=0,c.length&&c.forEach(function(t,o){t&&(e[o]=t)})}function getModelsMapForPopulate(e,t,o){var n,i,r,s,a,l,u,c,d,p,f=t.length,h={},m=[],v=o.model&&o.model.modelName||o.model,y=o.model,_=!1,g=!1;if((r=e._getSchema(o.path))&&r.$isUnderneathDocArray&&o&&o.options&&o.options.sort)return new Error(\"Cannot populate with `sort` on path \"+o.path+\" because it is a subproperty of a document array\");for(r&&r.caster&&(r=r.caster),!r&&e.discriminators&&(d=e.schema.discriminatorMapping.key),s=r&&r.options&&r.options.refPath,n=0;n<f;n++){if(i=t[n],s)u=utils.getValue(s,i),g=Array.isArray(u);else if(v)u=[v];else{var w,M=e;if(r||!d)w=r;else if(p=utils.getValue(d,i)){try{M=e.db.model(p)}catch(e){return e}(w=M._getSchema(o.path))&&w.caster&&(w=w.caster)}var $=M.schema._getVirtual(o.path);w&&w.options&&w.options.ref?u=[w.options.ref]:$&&$.options&&$.options.ref?(u=[$&&$.options&&$.options.ref],_=!0):u=d?null:[e.modelName]}if(u){Array.isArray(u)||(u=[u]);var O=($=e.schema._getVirtual(o.path))&&$.options?($.$nestedSchemaPath?$.$nestedSchemaPath+\".\":\"\")+$.options.localField:o.path,b=$&&$.options?$.options.foreignField:\"_id\",A=$&&$.options&&$.options.justOne;if($&&$.options&&$.options.ref&&(_=!0),$&&(!O||!b))throw new Error(\"If you are populating a virtual, you must set the localField and foreignField options\");o.isVirtual=_;var I=convertTo_id(utils.getValue(O,i)),N=utils.getValue(b,i)+\"\";o._docs[N]=Array.isArray(I)?I.slice():I;for(var E=u.length;E--;)if(null!=(c=u[E])){var S=Array.isArray(i)&&g?i[E]:i,R=Array.isArray(I)&&g?I[E]:I;try{a=y&&y.modelName?y:e.db.model(c)}catch(e){return e}h[c]?(h[c].docs.push(S),h[c].ids.push(R),h[c].allIds.push(I)):(l={model:a},_&&$.options&&$.options.options&&(l.options=utils.clone($.options.options,{retainKeyOrder:!0})),utils.merge(l,o),r&&!d&&(l.model=a),o.model=a,h[c]={Model:a,options:l,docs:[S],ids:[R],allIds:[I],localField:O,foreignField:b,justOne:A,isVirtual:_},m.push(h[c]))}}}return m}function convertTo_id(e){if(e instanceof Model)return e._id;if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]instanceof Model&&(e[t]=e[t]._id);return e.isMongooseArray?e._schema.cast(e,e._parent):[].concat(e)}return e}function valueFilter(e,t){if(Array.isArray(e)){for(var o,n=[],i=e.length,r=0;r<i&&(o=e[r],!(isDoc(o)&&(maybeRemoveId(o,t),n.push(o),t.originalLimit&&n.length>=t.originalLimit)));++r);for(;e.length>n.length;)Array.prototype.pop.apply(e,[]);for(r=0;r<n.length;++r)e[r]=n[r];return e}return isDoc(e)?(maybeRemoveId(e,t),e):null}function maybeRemoveId(e,t){t.excludeId&&(\"function\"==typeof e.setValue?delete e._doc._id:delete e._id)}function isDoc(e){if(null==e)return!1;var t=typeof e;return\"string\"!=t&&\"number\"!=t&&!Buffer.isBuffer(e)&&\"ObjectID\"!==e.constructor.name}Model._getSchema=function(e){return this.schema._getSchema(e)},Model.compile=function(e,t,o,n,i){if(!1!==t.options.versionKey&&!t.paths[t.options.versionKey]){var r={};r[t.options.versionKey]=Number,t.add(r)}var s;\"function\"==typeof e&&e.prototype instanceof Model?(s=e,e=s.name,t.loadClass(s,!1),s.prototype.$isMongooseModelPrototype=!0):s=function e(t,o,n){return this instanceof e?void Model.call(this,t,o,n):new e(t,o,n)},s.hooks=t.s.hooks.clone(),s.base=i,s.modelName=e,s.prototype instanceof Model||(s.__proto__=Model,s.prototype.__proto__=Model.prototype),s.model=Model.prototype.model,s.db=s.prototype.db=n,s.discriminators=s.prototype.discriminators=void 0,s.prototype.$__setSchema(t);var a={bufferCommands:t.options.bufferCommands,capped:t.options.capped};return s.prototype.collection=n.collection(o,a),applyMethods(s,t),applyStatics(s,t),applyHooks(s,t),s.schema=s.prototype.schema,s.collection=s.prototype.collection,s.Query=function(){Query.apply(this,arguments),this.options.retainKeyOrder=s.schema.options.retainKeyOrder},s.Query.prototype=Object.create(Query.prototype),s.Query.base=Query.base,applyQueryMethods(s,t.query),s.$__insertMany=s.hooks.createWrapper(\"insertMany\",s.insertMany,s,{useErrorHandlers:!0,numCallbackParams:1}),s.insertMany=function(e,t,o){var n=PromiseProvider.get();return\"function\"==typeof t&&(o=t,t=null),new n.ES6(function(n,i){s.$__insertMany(e,t,function(e,t){return e?(o&&o(e),i(e)):(o&&o(null,t),void n(t))})})},s};function applyQueryMethods(e,t){for(var o in t)e.Query.prototype[o]=t[o]}Model.__subclass=function(e,t,o){var n=this,i=function e(t,o,i){return this instanceof e?void n.call(this,t,o,i):new e(t,o,i)};i.__proto__=n,i.prototype.__proto__=n.prototype,i.db=i.prototype.db=e;var r=t&&\"string\"!=typeof t?t:n.prototype.schema,s=r.options||{};o||(o=n.prototype.schema.get(\"collection\")||utils.toCollectionName(n.modelName,s));var a={bufferCommands:!r||s.bufferCommands,capped:r&&s.capped};return i.prototype.collection=e.collection(o,a),i.collection=i.prototype.collection,i.init(),i},Model.$wrapCallback=function(e){var t=this;return function(){try{e.apply(null,arguments)}catch(e){t.emit(\"error\",e)}}},module.exports=exports=Model;","node_modules/mongoose/lib/document.js":"var DocumentArray,MongooseArray,Embedded,EventEmitter=require(\"events\").EventEmitter,MongooseError=require(\"./error\"),MixedSchema=require(\"./schema/mixed\"),Schema=require(\"./schema\"),ObjectExpectedError=require(\"./error/objectExpected\"),StrictModeError=require(\"./error/strict\"),ValidatorError=require(\"./schematype\").ValidatorError,VirtualType=require(\"./virtualtype\"),utils=require(\"./utils\"),clone=utils.clone,isMongooseObject=utils.isMongooseObject,inspect=require(\"util\").inspect,ValidationError=MongooseError.ValidationError,InternalCache=require(\"./internal\"),cleanModifiedSubpaths=require(\"./services/document/cleanModifiedSubpaths\"),compile=require(\"./services/document/compile\").compile,deepEqual=utils.deepEqual,defineKey=require(\"./services/document/compile\").defineKey,hooks=require(\"hooks-fixed\"),PromiseProvider=require(\"./promise_provider\"),flatten=require(\"./services/common\").flatten,mpath=require(\"mpath\"),idGetter=require(\"./plugins/idGetter\");function Document(t,e,i){this.$__=new InternalCache,this.$__.emitter=new EventEmitter,this.isNew=!0,this.errors=void 0;var r=this.schema;\"boolean\"==typeof e?(this.$__.strictMode=e,e=void 0):(this.$__.strictMode=r.options&&r.options.strict,this.$__.selected=e);for(var o=r.requiredPaths(!0),s=0;s<o.length;++s)this.$__.activePaths.require(o[s]);if(this.$__.emitter.setMaxListeners(0),this._doc=this.$__buildDoc(t,e,i),t&&(t instanceof Document&&(this.isNew=t.isNew),this.$__original_set?this.$__original_set(t,void 0,!0):this.set(t,void 0,!0)),this.$__._id=this._id,!r.options.strict&&t){var n=this;Object.keys(this._doc).forEach(function(t){t in r.tree||defineKey(t,null,n)})}applyQueue(this)}utils.each([\"on\",\"once\",\"emit\",\"listeners\",\"removeListener\",\"setMaxListeners\",\"removeAllListeners\",\"addListener\"],function(t){Document.prototype[t]=function(){return this.$__.emitter[t].apply(this.$__.emitter,arguments)}}),Document.prototype.constructor=Document,Document.prototype.schema,Document.prototype.isNew,Document.prototype.id,Document.prototype.errors,Document.prototype.$__buildDoc=function(t,e,i){var r,o,s={},n=null;if(e&&\"Object\"===utils.getFunctionName(e.constructor))if(r=Object.keys(e),1===(o=r.length)&&\"_id\"===r[0])n=!!e[r[o]];else for(;o--;){var a=!e[r[o]]||\"object\"!=typeof e[r[o]]||null!=e[r[o]].$elemMatch;if(\"_id\"!==r[o]&&a){n=!e[r[o]];break}}var c=Object.keys(this.schema.paths),u=c.length,h=0,l={};if(!1===n&&e){r=Object.keys(e);for(var d=0;d<r.length;++d)for(var p=r[d].split(\".\"),f=[],_=0;_<p.length;++_)f.push(p[_]),l[f.join(\".\")]=1}for(;h<u;++h){var m=c[h];if(\"_id\"===m){if(i)continue;if(t&&\"_id\"in t)continue}for(var v=this.schema.paths[m],y=m.split(\".\"),$=y.length,g=$-1,D=\"\",b=s,E=0,O=!1;E<$;++E){var j,k=y[E];if(D+=(D.length?\".\":\"\")+k,!0===n){if(D in e)break}else if(!1===n&&e&&!O)if(D in e)O=!0;else if(!l[D])break;if(E===g)if(e&&null!==n)if(!0===n){if(m in e)continue;void 0!==(j=v.getDefault(this,!1))&&(b[k]=j,this.$__.activePaths.default(m))}else O&&void 0!==(j=v.getDefault(this,!1))&&(b[k]=j,this.$__.activePaths.default(m));else void 0!==(j=v.getDefault(this,!1))&&(b[k]=j,this.$__.activePaths.default(m));else b=b[k]||(b[k]={})}}return s},Document.prototype.toBSON=function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},Document.prototype.init=function(t,e,i){if(\"function\"==typeof e&&(i=e,e=null),this.isNew=!1,this.$init=!0,null!==t._id&&void 0!==t._id&&e&&e.populated&&e.populated.length)for(var r=String(t._id),o=0;o<e.populated.length;++o){var s=e.populated[o];s.isVirtual?this.populated(s.path,utils.getValue(s.path,t),s):this.populated(s.path,s._docs[r],s)}return init(this,t,this._doc),this.emit(\"init\",this),this.constructor.emit(\"init\",this),this.$__._id=this._id,i&&i(null),this};function init(t,e,i,r){r=r||\"\";var o,s,n,a=Object.keys(e),c=a.length,u=0;if(t.schema.options.retainKeyOrder)for(;u<c;)h(u++);else for(;c--;)h(c);function h(c){if(n=a[c],s=r+n,o=t.schema.path(s),!t.schema.$isRootDiscriminator||t.isSelected(s))if(o||!utils.isObject(e[n])||e[n].constructor&&\"Object\"!==utils.getFunctionName(e[n].constructor))if(o){if(null===e[n])i[n]=null;else if(void 0!==e[n])if(o)try{i[n]=o.cast(e[n],t,!0)}catch(e){t.invalidate(e.path,new ValidatorError({path:e.path,message:e.message,type:\"cast\",value:e.value}))}else i[n]=e[n];t.isModified(s)||t.$__.activePaths.init(s)}else i[n]=e[n];else i[n]||(i[n]={}),init(t,e[n],i[n],s+\".\")}}for(var k in hooks)\"pre\"===k||\"post\"===k?Document.prototype[\"$\"+k]=Document[\"$\"+k]=hooks[k]:Document.prototype[k]=Document[k]=hooks[k];Document.prototype.update=function(){var t=utils.args(arguments);return t.unshift({_id:this._id}),this.constructor.update.apply(this.constructor,t)},Document.prototype.set=function(t,e,i,r){i&&\"Object\"===utils.getFunctionName(i.constructor)&&(r=i,i=void 0);var o=(r=r||{}).merge,s=i&&!0!==i,n=!0===i,a=\"strict\"in r?r.strict:this.$__.strictMode;if(s&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[t]=Schema.interpretAsType(t,i,this.schema.options)),\"string\"!=typeof t){if(null!==t&&void 0!==t){var c=e?e+\".\":\"\";t instanceof Document&&(t=t.$__isNested?t.toObject():t._doc);var u,h,l=Object.keys(t),d=l.length,p=0;if(0===d&&!this.schema.options.minimize)return e&&this.set(e,{}),this;if(this.schema.options.retainKeyOrder)for(;p<d;)_.call(this,p++);else for(;d--;)_.call(this,d);return this}var f=t;t=e,e=f}function _(e){h=l[e];var i=c+h;if(u=this.schema.pathType(i),null===t[h]||void 0===t[h]||!utils.isObject(t[h])||t[h].constructor&&\"Object\"!==utils.getFunctionName(t[h].constructor)||\"virtual\"===u||\"real\"===u||this.$__path(i)instanceof MixedSchema||this.schema.paths[i]&&this.schema.paths[i].options&&this.schema.paths[i].options.ref)if(a){if(n&&void 0===t[h]&&void 0!==this.get(h))return;if(\"real\"===u||\"virtual\"===u){var r=t[h];this.schema.paths[i]&&this.schema.paths[i].$isSingleNested&&t[h]instanceof Document&&(r=r.toObject({virtuals:!1,transform:!1})),this.set(c+h,r,n)}else if(\"nested\"===u&&t[h]instanceof Document)this.set(c+h,t[h].toObject({transform:!1}),n);else if(\"throw\"===a)throw\"nested\"===u?new ObjectExpectedError(h,t[h]):new StrictModeError(h)}else void 0!==t[h]&&this.set(c+h,t[h],n);else this.set(t[h],c+h,n)}var m=this.schema.pathType(t);if(\"nested\"===m&&e)return!utils.isObject(e)||e.constructor&&\"Object\"!==utils.getFunctionName(e.constructor)?(this.invalidate(t,new MongooseError.CastError(\"Object\",e,t)),this):(o||(this.setValue(t,null),cleanModifiedSubpaths(this,t)),0===Object.keys(e).length?(this.setValue(t,{}),this.markModified(t),cleanModifiedSubpaths(this,t)):this.set(e,t,n),this);var v,y=t.split(\".\");if(\"adhocOrUndefined\"===m&&a){var $;for(p=0;p<y.length;++p){var g=y.slice(0,p+1).join(\".\");if((v=this.schema.path(g))instanceof MixedSchema){$=!0;break}if(p+1<y.length&&\"virtual\"===this.schema.pathType(g))return mpath.set(t,e,this),this}if(!$){if(\"throw\"===a)throw new StrictModeError(t);return this}}else{if(\"virtual\"===m)return(v=this.schema.virtualpath(t)).applySetters(e,this),this;v=this.$__path(t)}var D=this._doc,b=\"\";for(p=0;p<y.length-1;++p)D=D[y[p]],b+=(b.length>0?\".\":\"\")+y[p],D||(this.set(b,{}),D=this.getValue(b));var E;if(y.length<=1)E=t;else{for(p=0;p<y.length;++p)if(g=y.slice(0,p+1).join(\".\"),this.isDirectModified(g)||null===this.get(g)){E=g;break}E||(E=t)}var O=n?void 0:this.getValue(t);if(!v)return this.$__set(E,t,n,y,v,e,O),this;var j=!0;try{var k=!1;v.options&&v.options.ref&&e instanceof Document&&(v.options.ref===e.constructor.modelName||v.options.ref===e.constructor.baseModelName)&&(this.ownerDocument?this.ownerDocument().populated(this.$__fullPath(t),e._id,{model:e.constructor}):this.populated(t,e._id,{model:e.constructor}),k=!0);var P;v.options&&Array.isArray(v.options[this.schema.options.typeKey])&&v.options[this.schema.options.typeKey].length&&v.options[this.schema.options.typeKey][0].ref&&Array.isArray(e)&&e.length>0&&e[0]instanceof Document&&e[0].constructor.modelName&&(v.options[this.schema.options.typeKey][0].ref===e[0].constructor.baseModelName||v.options[this.schema.options.typeKey][0].ref===e[0].constructor.modelName)&&(this.ownerDocument?(P={model:e[0].constructor},this.ownerDocument().populated(this.$__fullPath(t),e.map(function(t){return t._id}),P)):(P={model:e[0].constructor},this.populated(t,e.map(function(t){return t._id}),P)),k=!0),e=v.applySetters(e,this,!1,O),!k&&this.$__.populated&&delete this.$__.populated[t],this.$markValid(t)}catch(i){this.invalidate(t,new MongooseError.CastError(v.instance,e,t,i)),j=!1}return j&&this.$__set(E,t,n,y,v,e,O),v.$isSingleNested&&(this.isDirectModified(t)||null==e)&&cleanModifiedSubpaths(this,t),this},Document.prototype.$__shouldModify=function(t,e,i,r,o,s,n){return!!this.isNew||(void 0===s&&!this.isSelected(e)||!(void 0===s&&e in this.$__.activePaths.states.default)&&(!(this.populated(e)&&s instanceof Document&&deepEqual(s._id,n))&&(!deepEqual(s,n||this.get(e))||!!(!i&&null!==s&&void 0!==s&&e in this.$__.activePaths.states.default&&deepEqual(s,o.getDefault(this,i))))))},Document.prototype.$__set=function(t,e,i,r,o,s,n){Embedded=Embedded||require(\"./types/embedded\");var a=this;this.$__shouldModify(t,e,i,r,o,s,n)&&(this.markModified(t),MongooseArray||(MongooseArray=require(\"./types/array\")),s&&s.isMongooseArray&&(s._registerAtomic(\"$set\",s),s.isMongooseDocumentArray&&s.forEach(function(t){t&&t.__parentArray&&(t.__parentArray=s)}),this.$__.activePaths.forEach(function(t){0===t.indexOf(e+\".\")&&a.$__.activePaths.ignore(t)})));for(var c=this._doc,u=0,h=r.length,l=\"\";u<h;u++){var d=u+1===h;l+=l?\".\"+r[u]:r[u],d?c[r[u]]=s:c[r[u]]&&\"Object\"===utils.getFunctionName(c[r[u]].constructor)?c=c[r[u]]:c[r[u]]&&c[r[u]]instanceof Embedded?c=c[r[u]]:c[r[u]]&&c[r[u]].$isSingleNested?c=c[r[u]]:c[r[u]]&&Array.isArray(c[r[u]])?c=c[r[u]]:(c[r[u]]=c[r[u]]||{},c=c[r[u]])}},Document.prototype.getValue=function(t){return utils.getValue(t,this._doc)},Document.prototype.setValue=function(t,e){return utils.setValue(t,e,this._doc),this},Document.prototype.get=function(t,e){var i;e&&(i=Schema.interpretAsType(t,e,this.schema.options));var r=this.$__path(t)||this.schema.virtualpath(t),o=t.split(\".\"),s=this._doc;if(r instanceof VirtualType)return r.applyGetters(null,this);for(var n=0,a=o.length;n<a;n++)s=null===s||void 0===s?void 0:s[o[n]];return i&&(s=i.cast(s)),r&&(s=r.applyGetters(s,this)),s},Document.prototype.$__path=function(t){var e=this.$__.adhocPaths,i=e&&e[t];return i||this.schema.path(t)},Document.prototype.markModified=function(t,e){this.$__.activePaths.modify(t),null==e||this.ownerDocument||(this.$__.pathsToScopes[t]=e)},Document.prototype.unmarkModified=function(t){this.$__.activePaths.init(t),delete this.$__.pathsToScopes[t]},Document.prototype.$ignore=function(t){this.$__.activePaths.ignore(t)},Document.prototype.modifiedPaths=function(){return Object.keys(this.$__.activePaths.states.modify).reduce(function(t,e){var i=e.split(\".\");return t.concat(i.reduce(function(t,e,r){return t.concat(i.slice(0,r).concat(e).join(\".\"))},[]).filter(function(e){return-1===t.indexOf(e)}))},[])},Document.prototype.isModified=function(t){if(t){Array.isArray(t)||(t=t.split(\" \"));var e=this.modifiedPaths(),i=Object.keys(this.$__.activePaths.states.modify);return t.some(function(t){return!!~e.indexOf(t)})||t.some(function(t){return i.some(function(e){return e===t||0===t.indexOf(e+\".\")})})}return this.$__.activePaths.some(\"modify\")},Document.prototype.$isDefault=function(t){return t in this.$__.activePaths.states.default},Document.prototype.isDirectModified=function(t){return t in this.$__.activePaths.states.modify},Document.prototype.isInit=function(t){return t in this.$__.activePaths.states.init},Document.prototype.isSelected=function(t){if(this.$__.selected){if(\"_id\"===t)return 0!==this.$__.selected._id;var e,i=Object.keys(this.$__.selected),r=i.length,o=null;if(1===r&&\"_id\"===i[0])return 0===this.$__.selected._id;for(;r--;)if(!(\"_id\"===(e=i[r])||this.$__.selected[e]&&this.$__.selected[e].$meta)){o=!!this.$__.selected[e];break}if(null===o)return!0;if(t in this.$__.selected)return o;r=i.length;for(var s=t+\".\";r--;)if(\"_id\"!==(e=i[r])){if(0===e.indexOf(s))return o||e!==s;if(0===s.indexOf(e+\".\"))return o}return!o}return!0},Document.prototype.isDirectSelected=function(t){if(this.$__.selected){if(\"_id\"===t)return 0!==this.$__.selected._id;var e,i=Object.keys(this.$__.selected),r=i.length,o=null;if(1===r&&\"_id\"===i[0])return 0===this.$__.selected._id;for(;r--;)if(!(\"_id\"===(e=i[r])||this.$__.selected[e]&&this.$__.selected[e].$meta)){o=!!this.$__.selected[e];break}return null===o||(t in this.$__.selected?o:!o)}return!0},Document.prototype.validate=function(t,e){\"function\"==typeof t&&(e=t,t=null),this.$__validate(e||function(){})};function _getPathsToValidate(t){var e,i,r=Object.keys(t.$__.activePaths.states.require).filter(function(e){if(!t.isSelected(e)&&!t.isModified(e))return!1;var i=t.schema.path(e);return\"function\"!=typeof i.originalRequiredValue||i.originalRequiredValue.call(t)});if(r=r.concat(Object.keys(t.$__.activePaths.states.init)),r=r.concat(Object.keys(t.$__.activePaths.states.modify)),r=r.concat(Object.keys(t.$__.activePaths.states.default)),!t.ownerDocument){var o,s=t.$__getAllSubdocs();for(i=s.length,e=0;e<i;++e)(o=s[e]).$isSingleNested&&t.isModified(o.$basePath)&&!t.isDirectModified(o.$basePath)&&r.push(o.$basePath)}for(i=r.length,e=0;e<i;++e){var n=r[e],a=t.schema.path(n);if(a&&a.$isMongooseArray&&!a.$isMongooseDocumentArray){var c=t.getValue(n);if(c)for(var u=c.length,h=0;h<u;++h)r.push(n+\".\"+h)}}var l={skipArrays:!0};for(i=r.length,e=0;e<i;++e){var d=r[e];if(t.schema.nested[d]){var p=t.getValue(d);isMongooseObject(p)&&(p=p.toObject({transform:!1}));var f=flatten(p,\"\",l),_=Object.keys(f).map(function(t){return d+\".\"+t});r=r.concat(_)}}return r}Document.prototype.$__validate=function(t){var e=this,i=function(){var t=e.$__.validationError;if(e.$__.validationError=void 0,e.emit(\"validate\",e),e.constructor.emit(\"validate\",e),t){for(var i in t.errors)!e.__parent&&t.errors[i]instanceof MongooseError.CastError&&e.invalidate(i,t.errors[i]);return t}},r=_getPathsToValidate(this);if(0===r.length)return process.nextTick(function(){var r=i();if(r)return e.schema.s.hooks.execPost(\"validate:error\",e,[e],{error:r},function(e){t(e)});t()});for(var o={},s=0,n=function(){var r=i();if(r)return e.schema.s.hooks.execPost(\"validate:error\",e,[e],{error:r},function(e){t(e)});t()},a=function(t){o[t]||(o[t]=!0,s++,process.nextTick(function(){var i=e.schema.path(t);if(!i)return--s||n();if(e.$isValid(t)){var r=e.getValue(t),o=t in e.$__.pathsToScopes?e.$__.pathsToScopes[t]:e;i.doValidate(r,function(i){i&&e.invalidate(t,i,void 0,!0),--s||n()},o)}else--s||n()}))},c=r.length,u=0;u<c;++u)a(r[u])},Document.prototype.validateSync=function(t){var e=this;\"string\"==typeof t&&(t=t.split(\" \"));var i=_getPathsToValidate(this);if(t&&t.length){for(var r=[],o=0;o<i.length;++o)-1!==t.indexOf(i[o])&&r.push(i[o]);i=r}var s={};i.forEach(function(t){if(!s[t]){s[t]=!0;var i=e.schema.path(t);if(i&&e.$isValid(t)){var r=e.getValue(t),o=i.doValidateSync(r,e);o&&e.invalidate(t,o,void 0,!0)}}});var n=e.$__.validationError;if(e.$__.validationError=void 0,e.emit(\"validate\",e),e.constructor.emit(\"validate\",e),n)for(var a in n.errors)n.errors[a]instanceof MongooseError.CastError&&e.invalidate(a,n.errors[a]);return n},Document.prototype.invalidate=function(t,e,i,r){if(this.$__.validationError||(this.$__.validationError=new ValidationError(this)),!this.$__.validationError.errors[t])return e&&\"string\"!=typeof e||(e=new ValidatorError({path:t,message:e,type:r||\"user defined\",value:i})),this.$__.validationError===e?this.$__.validationError:(this.$__.validationError.addError(t,e),this.$__.validationError)},Document.prototype.$markValid=function(t){this.$__.validationError&&this.$__.validationError.errors[t]&&(delete this.$__.validationError.errors[t],0===Object.keys(this.$__.validationError.errors).length&&(this.$__.validationError=null))},Document.prototype.$isValid=function(t){return!this.$__.validationError||!this.$__.validationError.errors[t]},Document.prototype.$__reset=function(){var t=this;return DocumentArray||(DocumentArray=require(\"./types/documentarray\")),this.$__.activePaths.map(\"init\",\"modify\",function(e){return t.getValue(e)}).filter(function(t){return t&&t instanceof Array&&t.isMongooseDocumentArray&&t.length}).forEach(function(t){for(var e=t.length;e--;){var i=t[e];i&&i.$__reset()}}),this.$__.activePaths.map(\"init\",\"modify\",function(e){return t.getValue(e)}).filter(function(t){return t&&t.$isSingleNested}).forEach(function(t){t.$__reset()}),this.$__dirty().forEach(function(t){var e=t.value;e&&e._atomics&&(e._atomics={})}),this.$__.activePaths.clear(\"modify\"),this.$__.activePaths.clear(\"default\"),this.$__.validationError=void 0,this.errors=void 0,t=this,this.schema.requiredPaths().forEach(function(e){t.$__.activePaths.require(e)}),this},Document.prototype.$__dirty=function(){var t=this,e=this.$__.activePaths.map(\"modify\",function(e){return{path:e,value:t.getValue(e),schema:t.$__path(e)}});(e=e.concat(this.$__.activePaths.map(\"default\",function(e){if(\"_id\"!==e&&t.getValue(e))return{path:e,value:t.getValue(e),schema:t.$__path(e)}}))).sort(function(t,e){return t.path<e.path?-1:t.path>e.path?1:0});var i,r,o=[];return e.forEach(function(t){t&&(0!==t.path.indexOf(i)?(i=t.path+\".\",o.push(t),r=t):r.value&&r.value._atomics&&r.value.hasAtomics()&&(r.value._atomics={},r.value._atomics.$set=r.value))}),r=i=null,o},Document.prototype.$__setSchema=function(t){t.plugin(idGetter,{deduplicate:!0}),compile(t.tree,this,void 0,t.options),this.schema=t},Document.prototype.$__getArrayPathsToValidate=function(){return DocumentArray||(DocumentArray=require(\"./types/documentarray\")),this.$__.activePaths.map(\"init\",\"modify\",function(t){return this.getValue(t)}.bind(this)).filter(function(t){return t&&t instanceof Array&&t.isMongooseDocumentArray&&t.length}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t})},Document.prototype.$__getAllSubdocs=function(){DocumentArray||(DocumentArray=require(\"./types/documentarray\")),Embedded=Embedded||require(\"./types/embedded\");function t(e,i,r){var o=e[r];return o instanceof Embedded&&i.push(o),o&&o.$isSingleNested&&(i=Object.keys(o._doc).reduce(function(e,i){return t(o._doc,e,i)},i)).push(o),o&&o.isMongooseDocumentArray?o.forEach(function(e){e&&e._doc&&(e instanceof Embedded&&i.push(e),i=Object.keys(e._doc).reduce(function(i,r){return t(e._doc,i,r)},i))}):o instanceof Document&&o.$__isNested&&o&&(i=Object.keys(o).reduce(function(e,i){return t(o,e,i)},i)),i}var e=this;return Object.keys(this._doc).reduce(function(i,r){return t(e,i,r)},[])};function applyQueue(t){var e=t.schema&&t.schema.callQueue;if(e.length)for(var i,r=0;r<e.length;++r)\"pre\"!==(i=e[r])[0]&&\"post\"!==i[0]&&\"on\"!==i[0]&&t[i[0]].apply(t,i[1])}Document.prototype.$__handleReject=function(t){this.listeners(\"error\").length?this.emit(\"error\",t):this.constructor.listeners&&this.constructor.listeners(\"error\").length?this.constructor.emit(\"error\",t):this.listeners&&this.listeners(\"error\").length&&this.emit(\"error\",t)},Document.prototype.$toObject=function(t,e){var i={transform:!0,json:e,retainKeyOrder:this.schema.options.retainKeyOrder,flattenDecimals:!0};if(t&&t.depopulate&&t._isNested&&this.$__.wasPopulated)return clone(this._id,t);(!t||\"Object\"!==utils.getFunctionName(t.constructor)||t&&t._useSchemaOptions)&&(e?((t=this.schema.options.toJSON?clone(this.schema.options.toJSON):{}).json=!0,t._useSchemaOptions=!0):((t=this.schema.options.toObject?clone(this.schema.options.toObject):{}).json=!1,t._useSchemaOptions=!0));for(var r in i)void 0===t[r]&&(t[r]=i[r]);\"minimize\"in t||(t.minimize=this.schema.options.minimize);var o=t.transform;t._isNested=!0;var s=clone(this._doc,t)||{};t.getters&&(applyGetters(this,s,\"paths\",t),t.minimize&&(s=minimize(s)||{})),(t.virtuals||t.getters&&!1!==t.virtuals)&&applyGetters(this,s,\"virtuals\",t),!1===t.versionKey&&this.schema.options.versionKey&&delete s[this.schema.options.versionKey];var n=t.transform;if(!0===n||this.schema.options.toObject&&n){var a=t.json?this.schema.options.toJSON:this.schema.options.toObject;a&&(n=\"function\"==typeof t.transform?t.transform:a.transform)}else t.transform=o;if(\"function\"==typeof n){var c=n(this,s,t);void 0!==c&&(s=c)}return s},Document.prototype.toObject=function(t){return this.$toObject(t)};function minimize(t){for(var e,i,r,o=Object.keys(t),s=o.length;s--;)r=t[i=o[s]],utils.isObject(r)&&!Buffer.isBuffer(r)&&(t[i]=minimize(r)),void 0!==t[i]?e=!0:delete t[i];return e?t:void 0}function applyGetters(t,e,i,r){var o,s,n=t.schema,a=Object.keys(n[i]),c=a.length,u=c,h=t._doc;if(!h)return e;if(\"virtuals\"===i){for(c=0;c<u;++c)if(o=a[c],p=o.split(\".\"),void 0!==(s=clone(t.get(o),r))){f=p.length,h=e;for(var l=0;l<f-1;++l)h[p[l]]=h[p[l]]||{},h=h[p[l]];h[p[f-1]]=s}return e}for(;c--;){var d,p=(o=a[c]).split(\".\"),f=p.length,_=f-1,m=e;h=t._doc;for(var v=0;v<f;++v){if(d=p[v],s=h[d],v===_)m[d]=clone(t.get(o),r);else{if(null==s){d in h&&(m[d]=s);break}m=m[d]||(m[d]={})}h=s}}return e}Document.prototype.toJSON=function(t){return this.$toObject(t,!0)},Document.prototype.inspect=function(t){var e;return t&&\"Object\"===utils.getFunctionName(t.constructor)&&((e=t).minimize=!1,e.retainKeyOrder=!0),this.toObject(e)},Document.prototype.toString=function(){return inspect(this.inspect())},Document.prototype.equals=function(t){if(!t)return!1;var e=this.get(\"_id\"),i=t.get?t.get(\"_id\"):t;return e||i?e&&e.equals?e.equals(i):e===i:deepEqual(this,t)},Document.prototype.populate=function(){if(0===arguments.length)return this;var t,e=this.$__.populate||(this.$__.populate={}),i=utils.args(arguments);if(\"function\"==typeof i[i.length-1]&&(t=i.pop()),i.length)for(var r=utils.populate.apply(null,i),o=0;o<r.length;++o)e[r[o].path]=r[o];if(t){var s=utils.object.vals(e);this.$__.populate=void 0,s.__noPromise=!0,this.constructor.populate(this,s,t)}return this},Document.prototype.execPopulate=function(){var t=this;return new(PromiseProvider.get().ES6)(function(e,i){t.populate(function(t,r){t?i(t):e(r)})})},Document.prototype.populated=function(t,e,i){if(null!==e&&void 0!==e){if(!0===e){if(!this.$__.populated)return;return this.$__.populated[t]}return this.$__.populated||(this.$__.populated={}),this.$__.populated[t]={value:e,options:i},e}if(this.$__.populated){var r=this.$__.populated[t];return r?r.value:void 0}},Document.prototype.depopulate=function(t){var e=this.populated(t);if(e)return delete this.$__.populated[t],this.set(t,e),this},Document.prototype.$__fullPath=function(t){return t||\"\"},Document.ValidationError=ValidationError,module.exports=exports=Document;","node_modules/mongoose/lib/utils.js":"var MongooseBuffer,MongooseArray,Document,Decimal=require(\"./types/decimal128\"),ObjectId=require(\"./types/objectid\"),cloneRegExp=require(\"regexp-clone\"),sliced=require(\"sliced\"),mpath=require(\"mpath\"),ms=require(\"ms\");exports.toCollectionName=function(e,t){return t=t||{},\"system.profile\"===e?e:\"system.indexes\"===e?e:!1===t.pluralization?e:pluralize(e.toLowerCase())},exports.pluralization=[[/(m)an$/gi,\"$1en\"],[/(pe)rson$/gi,\"$1ople\"],[/(child)$/gi,\"$1ren\"],[/^(ox)$/gi,\"$1en\"],[/(ax|test)is$/gi,\"$1es\"],[/(octop|vir)us$/gi,\"$1i\"],[/(alias|status)$/gi,\"$1es\"],[/(bu)s$/gi,\"$1ses\"],[/(buffal|tomat|potat)o$/gi,\"$1oes\"],[/([ti])um$/gi,\"$1a\"],[/sis$/gi,\"ses\"],[/(?:([^f])fe|([lr])f)$/gi,\"$1$2ves\"],[/(hive)$/gi,\"$1s\"],[/([^aeiouy]|qu)y$/gi,\"$1ies\"],[/(x|ch|ss|sh)$/gi,\"$1es\"],[/(matr|vert|ind)ix|ex$/gi,\"$1ices\"],[/([m|l])ouse$/gi,\"$1ice\"],[/(kn|w|l)ife$/gi,\"$1ives\"],[/(quiz)$/gi,\"$1zes\"],[/s$/gi,\"s\"],[/([^a-z])$/,\"$1\"],[/$/gi,\"s\"]];var rules=exports.pluralization;exports.uncountables=[\"advice\",\"energy\",\"excretion\",\"digestion\",\"cooperation\",\"health\",\"justice\",\"labour\",\"machinery\",\"equipment\",\"information\",\"pollution\",\"sewage\",\"paper\",\"money\",\"species\",\"series\",\"rain\",\"rice\",\"fish\",\"sheep\",\"moose\",\"deer\",\"news\",\"expertise\",\"status\",\"media\"];var uncountables=exports.uncountables;function pluralize(e){var t;return!~uncountables.indexOf(e.toLowerCase())&&(t=rules.filter(function(t){return e.match(t[0])}))[0]?e.replace(t[0][0],t[0][1]):e}exports.deepEqual=function e(t,r){if(t===r)return!0;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(t instanceof ObjectId&&r instanceof ObjectId||t instanceof Decimal&&r instanceof Decimal)return t.toString()===r.toString();if(t instanceof RegExp&&r instanceof RegExp)return t.source===r.source&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline&&t.global===r.global;if(\"object\"!=typeof t&&\"object\"!=typeof r)return t==r;if(null===t||null===r||void 0===t||void 0===r)return!1;if(t.prototype!==r.prototype)return!1;if(t instanceof Number&&r instanceof Number)return t.valueOf()===r.valueOf();if(Buffer.isBuffer(t))return exports.buffer.areEqual(t,r);isMongooseObject(t)&&(t=t.toObject()),isMongooseObject(r)&&(r=r.toObject());try{var o,n,i=Object.keys(t),s=Object.keys(r)}catch(e){return!1}if(i.length!==s.length)return!1;for(i.sort(),s.sort(),n=i.length-1;n>=0;n--)if(i[n]!==s[n])return!1;for(n=i.length-1;n>=0;n--)if(o=i[n],!e(t[o],r[o]))return!1;return!0},exports.clone=function(e,t){if(void 0===e||null===e)return e;if(Array.isArray(e))return cloneArray(e,t);if(isMongooseObject(e))return t&&t.json&&\"function\"==typeof e.toJSON?e.toJSON(t):e.toObject(t);if(e.constructor)switch(exports.getFunctionName(e.constructor)){case\"Object\":return cloneObject(e,t);case\"Date\":return new e.constructor(+e);case\"RegExp\":return cloneRegExp(e)}return e instanceof ObjectId?new ObjectId(e.id):e instanceof Decimal?t&&t.flattenDecimals?e.toJSON():Decimal.fromString(e.toString()):!e.constructor&&exports.isObject(e)?cloneObject(e,t):e.valueOf?e.valueOf():void 0};var clone=exports.clone;exports.assign=function(e){for(var t=1;t<arguments.length;++t){var r=arguments[t];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e};function cloneObject(e,t){var r,o,n,i,s,u=t&&t.retainKeyOrder,c=t&&t.minimize,a={};if(u)for(i in e)n=clone(e[i],t),c&&void 0===n||(r||(r=!0),a[i]=n);else for(s=(o=Object.keys(e)).length;s--;)i=o[s],n=clone(e[i],t),c&&void 0===n||(r||(r=!0),a[i]=n);return c?r&&a:a}function cloneArray(e,t){for(var r=[],o=0,n=e.length;o<n;o++)r.push(clone(e[o],t));return r}exports.options=function(e,t){var r,o=Object.keys(e),n=o.length;for(t=t||{};n--;)(r=o[n])in t||(t[r]=e[r]);return t},exports.random=function(){return Math.random().toString().substr(3)},exports.merge=function e(t,r,o){o=o||{};var n,i=Object.keys(r),s=0,u=i.length;if(o.retainKeyOrder)for(;s<u;)null==t[n=i[s++]]?t[n]=r[n]:exports.isObject(r[n])?e(t[n],r[n],o):o.overwrite&&(t[n]=r[n]);else for(;u--;)null==t[n=i[u]]?t[n]=r[n]:exports.isObject(r[n])?e(t[n],r[n],o):o.overwrite&&(t[n]=r[n])},exports.toObject=function e(t){Document||(Document=require(\"./document\"));var r;if(exports.isNullOrUndefined(t))return t;if(t instanceof Document)return t.toObject();if(Array.isArray(t)){r=[];for(var o=0,n=t.length;o<n;++o)r.push(e(t[o]));return r}if(t.constructor&&\"Object\"===exports.getFunctionName(t.constructor)||!t.constructor&&exports.isObject(t)){r={};for(var i in t)r[i]=e(t[i]);return r}return t},exports.isObject=function(e){return!!Buffer.isBuffer(e)||\"[object Object]\"===Object.prototype.toString.call(e)},exports.args=sliced,exports.tick=function(e){if(\"function\"==typeof e)return function(){try{e.apply(this,arguments)}catch(e){process.nextTick(function(){throw e})}}},exports.isMongooseObject=function(e){return Document||(Document=require(\"./document\")),MongooseArray||(MongooseArray=require(\"./types\").Array),MongooseBuffer||(MongooseBuffer=require(\"./types\").Buffer),e instanceof Document||e&&e.isMongooseArray||e&&e.isMongooseBuffer};var isMongooseObject=exports.isMongooseObject;exports.expires=function(e){if(e&&\"Object\"===e.constructor.name&&\"expires\"in e){var t;t=\"string\"!=typeof e.expires?e.expires:Math.round(ms(e.expires)/1e3),e.expireAfterSeconds=t,delete e.expires}};function PopulateOptions(e,t,r,o,n,i){this.path=e,this.match=r,this.select=t,this.options=o,this.model=n,\"object\"==typeof i&&(this.populate=i),this._docs={}}PopulateOptions.prototype.constructor=Object,exports.PopulateOptions=PopulateOptions,exports.populate=function(e,t,r,o,n,i){if(1===arguments.length){if(e instanceof PopulateOptions)return[e];if(Array.isArray(e))return e.map(function(e){return exports.populate(e)[0]});exports.isObject(e)&&(o=e.match,n=e.options,t=e.select,r=e.model,i=e.populate,e=e.path)}else\"string\"!=typeof r&&\"function\"!=typeof r&&(n=o,o=r,r=void 0);if(\"string\"!=typeof e)throw new TypeError(\"utils.populate: invalid path. Expected string. Got typeof `\"+typeof e+\"`\");\"object\"==typeof i&&(i=exports.populate(i));var s=[],u=e.split(\" \");n=exports.clone(n,{retainKeyOrder:!0});for(var c=0;c<u.length;++c)s.push(new PopulateOptions(u[c],t,o,n,r,i));return s},exports.getValue=function(e,t,r){return mpath.get(e,t,\"_doc\",r)},exports.setValue=function(e,t,r,o){mpath.set(e,t,r,\"_doc\",o)},exports.object={},exports.object.vals=function(e){for(var t=Object.keys(e),r=t.length,o=[];r--;)o.push(e[t[r]]);return o},exports.object.shallowCopy=exports.options;var hop=Object.prototype.hasOwnProperty;exports.object.hasOwnProperty=function(e,t){return hop.call(e,t)},exports.isNullOrUndefined=function(e){return null===e||void 0===e},exports.array={},exports.array.flatten=function e(t,r,o){return o||(o=[]),t.forEach(function(t){Array.isArray(t)?e(t,r,o):r&&!r(t)||o.push(t)}),o},exports.array.unique=function(e){for(var t={},r={},o=[],n=e.length,i=0;i<n;++i)if(\"number\"==typeof e[i]||\"string\"==typeof e[i]){if(t[e[i]])continue;o.push(e[i]),t[e[i]]=!0}else if(e[i]instanceof ObjectId){if(r[e[i].toString()])continue;o.push(e[i]),r[e[i].toString()]=!0}else o.push(e[i]);return o},exports.buffer={},exports.buffer.areEqual=function(e,t){if(!Buffer.isBuffer(e))return!1;if(!Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;++r)if(e[r]!==t[r])return!1;return!0},exports.getFunctionName=function(e){return e.name?e.name:(e.toString().trim().match(/^function\\s*([^\\s(]+)/)||[])[1]},exports.decorate=function(e,t){for(var r in t)e[r]=t[r]},exports.mergeClone=function(e,t){for(var r,o=Object.keys(t),n=o.length,i=0;i<n;)if(r=o[i++],void 0===e[r])e[r]=exports.clone(t[r],{retainKeyOrder:1,flattenDecimals:!1});else if(exports.isObject(t[r])){var s=t[r];isMongooseObject(t[r])&&!t[r].isMongooseBuffer&&(s=s.toObject({transform:!1,virtuals:!1})),t[r].isMongooseBuffer&&(s=new Buffer(s)),exports.mergeClone(e[r],s)}else e[r]=exports.clone(t[r],{retainKeyOrder:1,flattenDecimals:!1})},exports.each=function(e,t){for(var r=0;r<e.length;++r)t(e[r])};","node_modules/mongoose/package.json":{"_from":"mongoose@~4.11.7","_id":"mongoose@4.11.14","_inBundle":false,"_integrity":"sha512-dZA7LA/YiBUcuYw8QarB+pMyeQt9ekRQPwMlwzakqn3PawVZ4Ywtr55XHP5Ga9fHV9atXSxNP3sQYjy2BzB4DA==","_location":"/mongoose","_phantomChildren":{"bson":"1.0.4","buffer-shims":"1.0.0","core-util-is":"1.0.2","es6-promise":"3.2.1","inherits":"2.0.3","isarray":"1.0.0","lodash":"4.17.4","process-nextick-args":"1.0.7","require_optional":"1.0.1","string_decoder":"1.0.3","util-deprecate":"1.0.2"},"_requested":{"type":"range","registry":true,"raw":"mongoose@~4.11.7","name":"mongoose","escapedName":"mongoose","rawSpec":"~4.11.7","saveSpec":null,"fetchSpec":"~4.11.7"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/mongoose/-/mongoose-4.11.14.tgz","_shasum":"b85402aaf28c5c3e45c8ef93fe69544eaa5d00f3","_spec":"mongoose@~4.11.7","_where":"c:\\Workspace\\walkner\\walkner-maxos","author":{"name":"Guillermo Rauch","email":"guillermo@learnboost.com"},"browser":"lib/browser.js","browserDependencies":{"browserify":"4.1.10","chai":"3.5.0","karma":"0.12.16","karma-chai":"0.1.0","karma-mocha":"0.1.4","karma-chrome-launcher":"0.1.4","karma-sauce-launcher":"0.2.8"},"bugs":{"url":"https://github.com/Automattic/mongoose/issues/new","email":"mongoose-orm@googlegroups.com"},"bundleDependencies":false,"dependencies":{"async":"2.1.4","bson":"~1.0.4","hooks-fixed":"2.0.0","kareem":"1.5.0","mongodb":"2.2.31","mpath":"0.3.0","mpromise":"0.5.5","mquery":"2.3.2","ms":"2.0.0","muri":"1.2.2","regexp-clone":"0.0.1","sliced":"1.0.1"},"deprecated":false,"description":"Mongoose MongoDB ODM","devDependencies":{"acquit":"0.4.1","acquit-ignore":"0.0.3","benchmark":"2.1.2","bluebird":"3.5.0","co":"4.6.0","dox":"0.3.1","eslint":"2.4.0","highlight.js":"7.0.1","istanbul":"0.4.4","jade":"0.26.3","lodash":"4.16.6","markdown":"0.3.1","marked":"0.3.6","mocha":"3.2.0","mongodb-topology-manager":"1.0.11","mongoose-long":"0.1.1","node-static":"0.7.7","nsp":"~2.8.1","power-assert":"1.4.1","q":"1.4.1","tbd":"0.6.4","uglify-js":"2.7.0","uuid":"2.0.3","uuid-parse":"1.0.0","validator":"5.4.0"},"directories":{"lib":"./lib/mongoose"},"engines":{"node":">=0.6.19"},"homepage":"http://mongoosejs.com","keywords":["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],"license":"MIT","main":"./index.js","name":"mongoose","repository":{"type":"git","url":"git://github.com/Automattic/mongoose.git"},"scripts":{"fix-lint":"eslint . --fix","install-browser":"npm install `node format_deps.js`","lint":"eslint . --quiet","nsp":"nsp check","test":"mocha test/*.test.js test/**/*.test.js","test-cov":"istanbul cover --report text --report html _mocha test/*.test.js"},"version":"4.11.14"},"node_modules/mongoose/lib/plugins/saveSubdocs.js":"\"use strict\";var{each:each}=require(\"async\");module.exports=function(e){e.callQueue.unshift([\"pre\",[\"save\",function(e){if(this.ownerDocument)e();else{var n=this,t=this.$__getAllSubdocs();t.length?each(t,function(e,n){e.save(function(e){n(e)})},function(t){if(t)return n.schema.s.hooks.execPost(\"save:error\",n,[n],{error:t},function(n){e(n)});e()}):e()}}]])};","node_modules/mongoose/lib/plugins/validateBeforeSave.js":"\"use strict\";module.exports=function(e){e.callQueue.unshift([\"pre\",[\"save\",function(e,o){var t=this;if(this.ownerDocument)return e();(o&&\"object\"==typeof o&&\"validateBeforeSave\"in o?!!o.validateBeforeSave:this.schema.options.validateBeforeSave)?this.$__original_validate?this.$__original_validate({__noPromise:!0},function(o){return t.schema.s.hooks.execPost(\"save:error\",t,[t],{error:o},function(o){e(o)})}):this.validate({__noPromise:!0},function(o){return t.schema.s.hooks.execPost(\"save:error\",t,[t],{error:o},function(o){e(o)})}):e()}]])};","node_modules/mongoose/lib/aggregate.js":"var AggregationCursor=require(\"./cursor/AggregationCursor\"),PromiseProvider=require(\"./promise_provider\"),Query=require(\"./query\"),eachAsync=require(\"./services/cursor/eachAsync\"),util=require(\"util\"),utils=require(\"./utils\"),read=Query.prototype.read;function Aggregate(){this._pipeline=[],this._model=void 0,this.options={},1===arguments.length&&util.isArray(arguments[0])?this.append.apply(this,arguments[0]):this.append.apply(this,arguments)}Aggregate.prototype.model=function(e){return this._model=e,null==this.options.readPreference&&e.schema&&null!=e.schema.options.read&&(this.options.readPreference=e.schema.options.read),this},Aggregate.prototype.append=function(){var e=1===arguments.length&&util.isArray(arguments[0])?arguments[0]:utils.args(arguments);if(!e.every(isOperator))throw new Error(\"Arguments must be aggregate pipeline operators\");return this._pipeline=this._pipeline.concat(e),this},Aggregate.prototype.project=function(e){var t={};if(\"object\"!=typeof e||util.isArray(e)){if(1!==arguments.length||\"string\"!=typeof e)throw new Error(\"Invalid project() argument. Must be string or object\");e.split(/\\s+/).forEach(function(e){if(e){var r=\"-\"===e[0]?0:1;0===r&&(e=e.substring(1)),t[e]=r}})}else Object.keys(e).forEach(function(r){t[r]=e[r]});return this.append({$project:t})},Aggregate.prototype.near=function(e){var t={};return t.$geoNear=e,this.append(t)},\"group match skip limit out\".split(\" \").forEach(function(e){Aggregate.prototype[e]=function(t){var r={};return r[\"$\"+e]=t,this.append(r)}}),Aggregate.prototype.unwind=function(){for(var e=utils.args(arguments),t=[],r=0;r<e.length;++r){var o=e[r];if(o&&\"object\"==typeof o)t.push({$unwind:o});else{if(\"string\"!=typeof o)throw new Error('Invalid arg \"'+o+'\" to unwind(), must be string or object');t.push({$unwind:o&&\"$\"===o.charAt(0)?o:\"$\"+o})}}return this.append.apply(this,t)},Aggregate.prototype.lookup=function(e){return this.append({$lookup:e})},Aggregate.prototype.graphLookup=function(e){var t={};if(e){if(!utils.isObject(e))throw new TypeError(\"Invalid graphLookup() argument. Must be an object.\");utils.mergeClone(t,e);var r=t.startWith;r&&\"string\"==typeof r&&(t.startWith=\"$\"===t.startWith.charAt(0)?t.startWith:\"$\"+t.startWith)}return this.append({$graphLookup:t})},Aggregate.prototype.sample=function(e){return this.append({$sample:{size:e}})},Aggregate.prototype.sort=function(e){var t={};if(\"Object\"===e.constructor.name){var r=[\"desc\",\"descending\",-1];Object.keys(e).forEach(function(o){e[o]instanceof Object&&e[o].$meta?t[o]=e[o]:t[o]=-1===r.indexOf(e[o])?1:-1})}else{if(1!==arguments.length||\"string\"!=typeof e)throw new TypeError(\"Invalid sort() argument. Must be a string or object.\");e.split(/\\s+/).forEach(function(e){if(e){var r=\"-\"===e[0]?-1:1;-1===r&&(e=e.substring(1)),t[e]=r}})}return this.append({$sort:t})},Aggregate.prototype.read=function(e,t){return this.options||(this.options={}),read.call(this,e,t),this},Aggregate.prototype.explain=function(e){var t=this;return new(PromiseProvider.get().ES6)(function(r,o){if(!t._pipeline.length){var i=new Error(\"Aggregate has empty pipeline\");return e&&e(i),void o(i)}prepareDiscriminatorPipeline(t),t._model.collection.aggregate(t._pipeline,t.options||{}).explain(function(t,i){if(t)return e&&e(t),void o(t);e&&e(null,i),r(i)})})},Aggregate.prototype.allowDiskUse=function(e){return this.options||(this.options={}),this.options.allowDiskUse=e,this},Aggregate.prototype.cursor=function(e){return this.options||(this.options={}),this.options.cursor=e||{},this},Aggregate.prototype.addCursorFlag=function(e,t){return this.options||(this.options={}),this.options[e]=t,this},Aggregate.prototype.collation=function(e){return this.options||(this.options={}),this.options.collation=e,this},Aggregate.prototype.facet=function(e){return this.append({$facet:e})},Aggregate.prototype.exec=function(e){if(!this._model)throw new Error(\"Aggregate not bound to any Model\");var t=this,r=PromiseProvider.get(),o=utils.clone(this.options);if(o&&o.cursor){if(o.cursor.async)return delete o.cursor.async,new r.ES6(function(r){t._model.collection.buffer?t._model.collection.emitter.once(\"queue\",function(){var i=t._model.collection.aggregate(t._pipeline,o||{});decorateCursor(i),r(i),e&&e(null,i)}):process.nextTick(function(){var i=t._model.collection.aggregate(t._pipeline,o||{});decorateCursor(i),r(i),e&&e(null,i)})});if(o.cursor.useMongooseAggCursor)return delete o.cursor.useMongooseAggCursor,new AggregationCursor(this);var i=this._model.collection.aggregate(this._pipeline,this.options||{});return decorateCursor(i),i}return new r.ES6(function(r,o){if(!t._pipeline.length){var i=new Error(\"Aggregate has empty pipeline\");return e&&e(i),void o(i)}prepareDiscriminatorPipeline(t),t._model.collection.aggregate(t._pipeline,t.options||{},function(t,i){if(t)return e&&e(t),void o(t);e&&e(null,i),r(i)})})};function decorateCursor(e){e.eachAsync=function(t,r,o){return\"function\"==typeof r&&(o=r,r={}),r=r||{},eachAsync(function(t){return e.next(t)},t,r,o)}}Aggregate.prototype.then=function(e,t){return this.exec().then(e,t)};function isOperator(e){var t;return\"object\"==typeof e&&(1===(t=Object.keys(e)).length&&t.some(function(e){return\"$\"===e[0]}))}function prepareDiscriminatorPipeline(e){var t=e._model.schema,r=t&&t.discriminatorMapping;if(r&&!r.isRoot){var o=e._pipeline,i=r.key,n=r.value;if(o[0]&&o[0].$match&&!o[0].$match[i])o[0].$match[i]=n;else if(o[0]&&o[0].$geoNear)o[0].$geoNear.query=o[0].$geoNear.query||{},o[0].$geoNear.query[i]=n;else{var s={};s[i]=n,e._pipeline=[{$match:s}].concat(o)}}}module.exports=Aggregate;","node_modules/mongoose/lib/promise_provider.js":"var MPromise=require(\"./promise\"),Promise={_promise:MPromise};Promise.get=function(){return Promise._promise},Promise.set=function(e){if(e===MPromise)return Promise.reset();Promise._promise=require(\"./ES6Promise\"),Promise._promise.use(e),require(\"mquery\").Promise=Promise._promise.ES6},Promise.reset=function(){Promise._promise=MPromise},module.exports=Promise;","node_modules/mongoose/lib/plugins/sharding.js":"\"use strict\";var utils=require(\"../utils\");module.exports=function(t){t.post(\"init\",function(){return storeShard.call(this),this}),t.pre(\"save\",function(t){applyWhere.call(this),t()}),t.post(\"save\",function(){storeShard.call(this)})};function applyWhere(){var t,e;if(this.$__.shardval){e=(t=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var s=0;s<e;++s)this.$where[t[s]]=this.$__.shardval[t[s]]}}module.exports.storeShard=storeShard;function storeShard(){var t=this.schema.options.shardKey||this.schema.options.shardkey;if(t&&\"Object\"===utils.getFunctionName(t.constructor))for(var e,s=this.$__.shardval={},r=Object.keys(t),i=r.length,o=0;o<i;++o)e=this.getValue(r[o]),utils.isMongooseObject(e)?s[r[o]]=e.toObject({depopulate:!0,_isNested:!0}):null===e||void 0===e||!e.valueOf||e.constructor&&\"Date\"===utils.getFunctionName(e.constructor)?s[r[o]]=e:s[r[o]]=e.valueOf()}","node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js":"var MongooseConnection=require(\"../../connection\"),mongo=require(\"mongodb\"),Db=mongo.Db,Server=mongo.Server,Mongos=mongo.Mongos,STATES=require(\"../../connectionstate\"),ReplSetServers=mongo.ReplSet,DisconnectedError=require(\"../../error/disconnected\");function NativeConnection(){MongooseConnection.apply(this,arguments),this._listening=!1}NativeConnection.STATES=STATES,NativeConnection.prototype.__proto__=MongooseConnection.prototype,NativeConnection.prototype.doOpen=function(e){var t=this,o=new Server(this.host,this.port,this.options.server);if(this.options&&this.options.mongos){var s=new Mongos([o],this.options.mongos);this.db=new Db(this.name,s,this.options.db)}else this.db=new Db(this.name,o,this.options.db);return this.db.open(function(n){if(listen(t),s||o.s.server.on(\"error\",function(e){/after \\d+ attempts/.test(e.message)&&t.emit(\"error\",new DisconnectedError(o.s.server.name))}),n)return e(n);e()}),this},NativeConnection.prototype.useDb=function(e){var t=new this.constructor;t.name=e,t.base=this.base,t.collections={},t.models={},t.replica=this.replica,t.hosts=this.hosts,t.host=this.host,t.port=this.port,t.user=this.user,t.pass=this.pass,t.options=this.options,t._readyState=this._readyState,t._closeCalled=this._closeCalled,t._hasOpened=this._hasOpened,t._listening=!1;var o=this;this.db&&this._readyState===STATES.connected?s():this.once(\"connected\",s);function s(){t.db=o.db.db(e),t.onOpen(),listen(t)}return t.name=e,this.otherDbs.push(t),t.otherDbs.push(this),t};function listen(e){e.db._listening||(e.db._listening=!0,e.db.on(\"close\",function(t){if(!e._closeCalled)return e.db.serverConfig.autoReconnect?(e.readyState=STATES.disconnected,void e.emit(\"close\")):void e.onClose(t)}),e.db.on(\"error\",function(t){e.emit(\"error\",t)}),e.db.on(\"reconnect\",function(){e.readyState=STATES.connected,e.emit(\"reconnected\"),e.onOpen()}),e.db.on(\"timeout\",function(t){e.emit(\"timeout\",t)}),e.db.on(\"open\",function(t,o){STATES.disconnected===e.readyState&&o&&o.databaseName&&(e.readyState=STATES.connected,e.emit(\"reconnected\"))}),e.db.on(\"parseError\",function(t){e.emit(\"parseError\",t)}))}NativeConnection.prototype.doOpenSet=function(e){var t=[],o=this;this.hosts.forEach(function(e){var s=e.host||e.ipc,n=e.port||27017;t.push(new Server(s,n,o.options.server))});var s=this.options.mongos?new Mongos(t,this.options.mongos):new ReplSetServers(t,this.options.replset||this.options.replSet);return this.db=new Db(this.name,s,this.options.db),this.db.on(\"fullsetup\",function(){o.emit(\"fullsetup\")}),this.db.on(\"all\",function(){o.emit(\"all\")}),this.db.open(function(t){if(t)return e(t);e(),listen(o)}),this},NativeConnection.prototype.doClose=function(e,t){return this.db.close(e,t),this},NativeConnection.prototype.parseOptions=function(e,t){var o=e?require(\"../../utils\").clone(e):{};o.db||(o.db={}),o.auth||(o.auth={}),o.server||(o.server={}),o.replset||(o.replset=o.replSet)||(o.replset={}),o.server.socketOptions||(o.server.socketOptions={}),o.replset.socketOptions||(o.replset.socketOptions={}),o.mongos||(o.mongos=t&&t.mongos),!0===o.mongos&&(o.mongos={});var s=t||{};return Object.keys(s).forEach(function(e){switch(e){case\"ssl\":o.server.ssl=s.ssl,o.replset.ssl=s.ssl,o.mongos&&(o.mongos.ssl=s.ssl);break;case\"poolSize\":void 0===o.server[e]&&(o.server[e]=o.replset[e]=s[e]);break;case\"slaveOk\":void 0===o.server.slave_ok&&(o.server.slave_ok=s[e]);break;case\"autoReconnect\":void 0===o.server.auto_reconnect&&(o.server.auto_reconnect=s[e]);break;case\"socketTimeoutMS\":case\"connectTimeoutMS\":void 0===o.server.socketOptions[e]&&(o.server.socketOptions[e]=o.replset.socketOptions[e]=s[e]);break;case\"authdb\":void 0===o.auth.authdb&&(o.auth.authdb=s[e]);break;case\"authSource\":void 0===o.auth.authSource&&(o.auth.authSource=s[e]);break;case\"authMechanism\":void 0===o.auth.authMechanism&&(o.auth.authMechanism=s[e]);break;case\"retries\":case\"reconnectWait\":case\"rs_name\":void 0===o.replset[e]&&(o.replset[e]=s[e]);break;case\"replicaSet\":void 0===o.replset.rs_name&&(o.replset.rs_name=s[e]);break;case\"readSecondary\":void 0===o.replset.read_secondary&&(o.replset.read_secondary=s[e]);break;case\"nativeParser\":void 0===o.db.native_parser&&(o.db.native_parser=s[e]);break;case\"w\":case\"safe\":case\"fsync\":case\"journal\":case\"wtimeoutMS\":void 0===o.db[e]&&(o.db[e]=s[e]);break;case\"readPreference\":void 0===o.db.readPreference&&(o.db.readPreference=s[e]);break;case\"readPreferenceTags\":void 0===o.db.read_preference_tags&&(o.db.read_preference_tags=s[e]);break;case\"sslValidate\":o.server.sslValidate=s.sslValidate,o.replset.sslValidate=s.sslValidate,o.mongos&&(o.mongos.sslValidate=s.sslValidate)}}),\"auto_reconnect\"in o.server||(o.server.auto_reconnect=!0),o.db.forceServerObjectId=!1,\"journal\"in o.db||\"j\"in o.db||\"fsync\"in o.db||\"safe\"in o.db||\"w\"in o.db||(o.db.w=1),o.promiseLibrary&&(o.db.promiseLibrary=o.promiseLibrary),validate(o),o};function validate(e){if((-1===e.db.w||0===e.db.w)&&(e.db.journal||e.db.fsync||e.db.safe))throw new Error(\"Invalid writeConcern: w set to -1 or 0 cannot be combined with safe|fsync|journal\")}module.exports=NativeConnection;","node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js":"var MongooseCollection=require(\"../../collection\"),Collection=require(\"mongodb\").Collection,utils=require(\"../../utils\");function NativeCollection(){this.collection=null,MongooseCollection.apply(this,arguments)}NativeCollection.prototype.__proto__=MongooseCollection.prototype,NativeCollection.prototype.onOpen=function(){var t=this;return t.opts.capped.size?t.conn.db.collection(t.name,function(e,n){if(e)return o(e);t.conn.db.listCollections({name:t.name}).toArray(function(e,i){if(e)return o(e);var r=i[0];if(!!r)if(r.options&&r.options.capped)o(null,n);else{var c=\"A non-capped collection exists with the name: \"+t.name+\"\\n\\n To use this collection as a capped collection, please first convert it.\\n http://www.mongodb.org/display/DOCS/Capped+Collections#CappedCollections-Convertingacollectiontocapped\";o(e=new Error(c))}else{var l=utils.clone(t.opts.capped);l.capped=!0,t.conn.db.createCollection(t.name,l,o)}})}):(o(null,t.conn.db.collection(t.name)),t.collection);function o(o,e){o?t.conn.emit(\"error\",o):(t.collection=e,MongooseCollection.prototype.onOpen.call(t))}},NativeCollection.prototype.onClose=function(t){MongooseCollection.prototype.onClose.call(this,t)};function iter(t){NativeCollection.prototype[t]=function(){if(this.opts.$wasForceClosed)return this.conn.db.collection(this.name)[t].apply(o,e);if(this.buffer)this.addQueue(t,arguments);else{var o=this.collection,e=arguments,n=this.conn.base.options.debug;n&&(\"function\"==typeof n?n.apply(this,[this.name,t].concat(utils.args(e,0,e.length-1))):this.$print(this.name,t,e));try{return o[t].apply(o,e)}catch(t){if(!(e.length>0&&\"function\"==typeof e[e.length-1]))throw t;e[e.length-1](t)}}}}for(var i in Collection.prototype){try{if(\"function\"!=typeof Collection.prototype[i])continue}catch(t){continue}iter(i)}NativeCollection.prototype.$print=function(t,o,e){for(var n=[t,o].join(\".\"),i=[],r=e.length-1;r>=0;--r)(this.$format(e[r])||i.length)&&i.unshift(this.$format(e[r]));var c=\"(\"+i.join(\", \")+\")\";console.error(\"\u001b[0;36mMongoose:\u001b[0m \"+n+c)},NativeCollection.prototype.$format=function(t){var o=typeof t;return\"function\"===o||\"undefined\"===o?\"\":format(t)};function map(t){return format(t,!0)}function formatObjectId(t,o){var e='ObjectId(\"'+t[o].toHexString()+'\")';t[o]={inspect:function(){return e}}}function formatDate(t,o){var e='new Date(\"'+t[o].toUTCString()+'\")';t[o]={inspect:function(){return e}}}function format(t,o){t&&\"function\"==typeof t.toBSON&&(t=t.toBSON());var e,n=utils.clone(t,{retainKeyOrder:1,transform:!1});if(null!=n){if(\"Binary\"===n.constructor.name)n=\"BinData(\"+n.sub_type+', \"'+n.toString(\"base64\")+'\")';else if(\"ObjectID\"===n.constructor.name)e='ObjectId(\"'+n.toHexString()+'\")',n={inspect:function(){return e}};else if(\"Date\"===n.constructor.name)e='new Date(\"'+n.toUTCString()+'\")',n={inspect:function(){return e}};else if(\"Object\"===n.constructor.name)for(var i,r=Object.keys(n),c=r.length,l=0;l<c;++l)n[i=r[l]]&&(\"function\"==typeof n[i].toBSON&&(n[i]=n[i].toBSON()),\"Binary\"===n[i].constructor.name?n[i]=\"BinData(\"+n[i].sub_type+', \"'+n[i].buffer.toString(\"base64\")+'\")':\"Object\"===n[i].constructor.name?n[i]=format(n[i],!0):\"ObjectID\"===n[i].constructor.name?formatObjectId(n,i):\"Date\"===n[i].constructor.name?formatDate(n,i):Array.isArray(n[i])&&(n[i]=n[i].map(map)));if(o)return n}return require(\"util\").inspect(n,!1,10,!0).replace(/\\n/g,\"\").replace(/\\s{2,}/g,\" \")}NativeCollection.prototype.getIndexes=NativeCollection.prototype.indexInformation,module.exports=NativeCollection;","node_modules/mongoose/lib/document_provider.js":"\"use strict\";var Document=require(\"./document.js\"),BrowserDocument=require(\"./browserDocument.js\"),isBrowser=!1;module.exports=function(){return isBrowser?BrowserDocument:Document},module.exports.setBrowser=function(e){isBrowser=e};","node_modules/mongoose/lib/error.js":"function MongooseError(r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.message=r,this.name=\"MongooseError\"}MongooseError.prototype=Object.create(Error.prototype),MongooseError.prototype.constructor=Error,module.exports=exports=MongooseError,MongooseError.messages=require(\"./error/messages\"),MongooseError.Messages=MongooseError.messages,MongooseError.DocumentNotFoundError=require(\"./error/notFound\"),MongooseError.CastError=require(\"./error/cast\"),MongooseError.ValidationError=require(\"./error/validation\"),MongooseError.ValidatorError=require(\"./error/validator\"),MongooseError.VersionError=require(\"./error/version\"),MongooseError.OverwriteModelError=require(\"./error/overwriteModel\"),MongooseError.MissingSchemaError=require(\"./error/missingSchema\"),MongooseError.DivergentArrayError=require(\"./error/divergentArray\");","node_modules/mongoose/lib/error/cast.js":"var MongooseError=require(\"../error.js\"),util=require(\"util\");function CastError(r,t,o,e){var a=util.inspect(t);'\"'!==(a=a.replace(/^'/,'\"').replace(/'$/,'\"')).charAt(0)&&(a='\"'+a+'\"'),MongooseError.call(this,\"Cast to \"+r+\" failed for value \"+a+' at path \"'+o+'\"'),this.name=\"CastError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.stringValue=a,this.kind=r,this.value=t,this.path=o,this.reason=e}CastError.prototype=Object.create(MongooseError.prototype),CastError.prototype.constructor=MongooseError,CastError.prototype.setModel=function(r){this.model=r,this.message=\"Cast to \"+this.kind+\" failed for value \"+this.stringValue+' at path \"'+this.path+'\" for model \"'+r.modelName+'\"'},module.exports=CastError;","node_modules/mongodb/index.js":"var core=require(\"mongodb-core\"),Instrumentation=require(\"./lib/apm\"),connect=require(\"./lib/mongo_client\").connect;connect.MongoError=core.MongoError,connect.Admin=require(\"./lib/admin\"),connect.MongoClient=require(\"./lib/mongo_client\"),connect.Db=require(\"./lib/db\"),connect.Collection=require(\"./lib/collection\"),connect.Server=require(\"./lib/server\"),connect.ReplSet=require(\"./lib/replset\"),connect.Mongos=require(\"./lib/mongos\"),connect.ReadPreference=require(\"./lib/read_preference\"),connect.GridStore=require(\"./lib/gridfs/grid_store\"),connect.Chunk=require(\"./lib/gridfs/chunk\"),connect.Logger=core.Logger,connect.Cursor=require(\"./lib/cursor\"),connect.GridFSBucket=require(\"./lib/gridfs-stream\"),connect.CoreServer=require(\"mongodb-core\").Server,connect.CoreConnection=require(\"mongodb-core\").Connection,connect.Binary=core.BSON.Binary,connect.Code=core.BSON.Code,connect.Map=core.BSON.Map,connect.DBRef=core.BSON.DBRef,connect.Double=core.BSON.Double,connect.Int32=core.BSON.Int32,connect.Long=core.BSON.Long,connect.MinKey=core.BSON.MinKey,connect.MaxKey=core.BSON.MaxKey,connect.ObjectID=core.BSON.ObjectID,connect.ObjectId=core.BSON.ObjectID,connect.Symbol=core.BSON.Symbol,connect.Timestamp=core.BSON.Timestamp,connect.BSONRegExp=core.BSON.BSONRegExp,connect.Decimal128=core.BSON.Decimal128,connect.connect=connect,connect.instrument=function(e,n){return\"function\"==typeof e&&(n=e,e={}),new Instrumentation(core,e,n)},module.exports=connect;","node_modules/mquery/lib/mquery.js":"\"use strict\";var slice=require(\"sliced\"),assert=require(\"assert\"),util=require(\"util\"),utils=require(\"./utils\"),debug=require(\"debug\")(\"mquery\");function Query(t,e){if(!(this instanceof Query))return new Query(t,e);var i=this.constructor.prototype;this.op=i.op||void 0,this.options={},this.setOptions(i.options),this._conditions=i._conditions?utils.clone(i._conditions,{retainKeyOrder:this.options.retainKeyOrder}):{},this._fields=i._fields?utils.clone(i._fields,{retainKeyOrder:this.options.retainKeyOrder}):void 0,this._update=i._update?utils.clone(i._update,{retainKeyOrder:this.options.retainKeyOrder}):void 0,this._path=i._path||void 0,this._distinct=i._distinct||void 0,this._collection=i._collection||void 0,this._traceFunction=i._traceFunction||void 0,e&&this.setOptions(e),t&&(t.find&&t.remove&&t.update?this.collection(t):this.find(t))}var $withinCmd=\"$geoWithin\";Object.defineProperty(Query,\"use$geoWithin\",{get:function(){return\"$geoWithin\"==$withinCmd},set:function(t){$withinCmd=!0===t?\"$geoWithin\":\"$within\"}}),Query.prototype.toConstructor=function(){function t(e,i){if(!(this instanceof t))return new t(e,i);Query.call(this,e,i)}utils.inherits(t,Query);var e=t.prototype;return e.options={},e.setOptions(this.options),e.op=this.op,e._conditions=utils.clone(this._conditions,{retainKeyOrder:this.options.retainKeyOrder}),e._fields=utils.clone(this._fields,{retainKeyOrder:this.options.retainKeyOrder}),e._update=utils.clone(this._update,{retainKeyOrder:this.options.retainKeyOrder}),e._path=this._path,e._distinct=this._distinct,e._collection=this._collection,e._traceFunction=this._traceFunction,t},Query.prototype.setOptions=function(t){if(!t||!utils.isObject(t))return this;for(var e,i=utils.keys(t),n=0;n<i.length;++n)if(e=i[n],\"function\"==typeof this[e]){var r=utils.isArray(t[e])?t[e]:[t[e]];this[e].apply(this,r)}else this.options[e]=t[e];return this},Query.prototype.collection=function(t){return this._collection=new Query.Collection(t),this},Query.prototype.$where=function(t){return this._conditions.$where=t,this},Query.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op=\"find\");var t=typeof arguments[0];if(\"string\"==t)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if(\"object\"==t&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError(\"path must be a string or object\")},Query.prototype.equals=function(t){this._ensurePath(\"equals\");var e=this._path;return this._conditions[e]=t,this},Query.prototype.eq=function(t){this._ensurePath(\"eq\");var e=this._path;return this._conditions[e]=t,this},Query.prototype.or=function(t){var e=this._conditions.$or||(this._conditions.$or=[]);return utils.isArray(t)||(t=[t]),e.push.apply(e,t),this},Query.prototype.nor=function(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return utils.isArray(t)||(t=[t]),e.push.apply(e,t),this},Query.prototype.and=function(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},\"gt gte lt lte ne in nin all regex size maxDistance minDistance\".split(\" \").forEach(function(t){Query.prototype[t]=function(){var e,i;1===arguments.length?(this._ensurePath(t),i=arguments[0],e=this._path):(i=arguments[1],e=arguments[0]);return(null===this._conditions[e]||\"object\"==typeof this._conditions[e]?this._conditions[e]:this._conditions[e]={})[\"$\"+t]=i,this}}),Query.prototype.mod=function(){var t,e;1===arguments.length?(this._ensurePath(\"mod\"),t=arguments[0],e=this._path):2!==arguments.length||utils.isArray(arguments[1])?3===arguments.length?(t=slice(arguments,1),e=arguments[0]):(t=arguments[1],e=arguments[0]):(this._ensurePath(\"mod\"),t=slice(arguments),e=this._path);return(this._conditions[e]||(this._conditions[e]={})).$mod=t,this},Query.prototype.exists=function(){var t,e;0===arguments.length?(this._ensurePath(\"exists\"),t=this._path,e=!0):1===arguments.length?\"boolean\"==typeof arguments[0]?(this._ensurePath(\"exists\"),t=this._path,e=arguments[0]):(t=arguments[0],e=!0):2===arguments.length&&(t=arguments[0],e=arguments[1]);return(this._conditions[t]||(this._conditions[t]={})).$exists=e,this},Query.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError(\"Invalid argument\");var t,e,i;if(\"function\"==typeof arguments[0])this._ensurePath(\"elemMatch\"),e=this._path,t=arguments[0];else if(utils.isObject(arguments[0]))this._ensurePath(\"elemMatch\"),e=this._path,i=arguments[0];else if(\"function\"==typeof arguments[1])e=arguments[0],t=arguments[1];else{if(!arguments[1]||!utils.isObject(arguments[1]))throw new TypeError(\"Invalid argument\");e=arguments[0],i=arguments[1]}t&&(t(i=new Query),i=i._conditions);return(this._conditions[e]||(this._conditions[e]={})).$elemMatch=i,this},Query.prototype.within=function(){if(this._ensurePath(\"within\"),this._geoComparison=$withinCmd,0===arguments.length)return this;if(2===arguments.length)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);var t=arguments[0];if(!t)throw new TypeError(\"Invalid argument\");if(t.center)return this.circle(t);if(t.box)return this.box.apply(this,t.box);if(t.polygon)return this.polygon.apply(this,t.polygon);if(t.type&&t.coordinates)return this.geometry(t);throw new TypeError(\"Invalid argument\")},Query.prototype.box=function(){var t,e;if(3===arguments.length)t=arguments[0],e=[arguments[1],arguments[2]];else{if(2!==arguments.length)throw new TypeError(\"Invalid argument\");this._ensurePath(\"box\"),t=this._path,e=[arguments[0],arguments[1]]}return(this._conditions[t]||(this._conditions[t]={}))[this._geoComparison||$withinCmd]={$box:e},this},Query.prototype.polygon=function(){var t,e;\"string\"==typeof arguments[0]?(e=arguments[0],t=slice(arguments,1)):(this._ensurePath(\"polygon\"),e=this._path,t=slice(arguments));return(this._conditions[e]||(this._conditions[e]={}))[this._geoComparison||$withinCmd]={$polygon:t},this},Query.prototype.circle=function(){var t,e;if(1===arguments.length)this._ensurePath(\"circle\"),t=this._path,e=arguments[0];else{if(2!==arguments.length)throw new TypeError(\"Invalid argument\");t=arguments[0],e=arguments[1]}if(!(\"radius\"in e&&e.center))throw new Error(\"center and radius are required\");var i=this._conditions[t]||(this._conditions[t]={}),n=e.spherical?\"$centerSphere\":\"$center\",r=this._geoComparison||$withinCmd;return i[r]={},i[r][n]=[e.center,e.radius],\"unique\"in e&&(i[r].$uniqueDocs=!!e.unique),this},Query.prototype.near=function(){var t,e;if(this._geoComparison=\"$near\",0===arguments.length)return this;if(1===arguments.length)this._ensurePath(\"near\"),t=this._path,e=arguments[0];else{if(2!==arguments.length)throw new TypeError(\"Invalid argument\");t=arguments[0],e=arguments[1]}if(!e.center)throw new Error(\"center is required\");var i=this._conditions[t]||(this._conditions[t]={}),n=e.spherical?\"$nearSphere\":\"$near\";if(Array.isArray(e.center)){i[n]=e.center;var r=\"maxDistance\"in e?e.maxDistance:null;null!=r&&(i.$maxDistance=r),null!=e.minDistance&&(i.$minDistance=e.minDistance)}else{if(\"Point\"!=e.center.type||!Array.isArray(e.center.coordinates))throw new Error(util.format(\"Invalid GeoJSON specified for %s\",n));i[n]={$geometry:e.center},\"maxDistance\"in e&&(i[n].$maxDistance=e.maxDistance),\"minDistance\"in e&&(i[n].$minDistance=e.minDistance)}return this},Query.prototype.intersects=function(){if(this._ensurePath(\"intersects\"),this._geoComparison=\"$geoIntersects\",0===arguments.length)return this;var t=arguments[0];if(null!=t&&t.type&&t.coordinates)return this.geometry(t);throw new TypeError(\"Invalid argument\")},Query.prototype.geometry=function(){if(\"$within\"!=this._geoComparison&&\"$geoWithin\"!=this._geoComparison&&\"$near\"!=this._geoComparison&&\"$geoIntersects\"!=this._geoComparison)throw new Error(\"geometry() must come after `within()`, `intersects()`, or `near()\");var t,e;if(1!==arguments.length)throw new TypeError(\"Invalid argument\");if(this._ensurePath(\"geometry\"),e=this._path,!(t=arguments[0]).type||!Array.isArray(t.coordinates))throw new TypeError(\"Invalid argument\");return(this._conditions[e]||(this._conditions[e]={}))[this._geoComparison]={$geometry:t},this},Query.prototype.select=function(){var t=arguments[0];if(!t)return this;if(1!==arguments.length)throw new Error(\"Invalid select: select only takes 1 argument\");this._validate(\"select\");var e=this._fields||(this._fields={}),i=typeof t;if((\"string\"==i||utils.isArgumentsObject(t))&&\"number\"==typeof t.length||Array.isArray(t)){\"string\"==i&&(t=t.split(/\\s+/));for(var n=0,r=t.length;n<r;++n){var o=t[n];if(o){var s=\"-\"==o[0]?0:1;0===s&&(o=o.substring(1)),e[o]=s}}return this}if(utils.isObject(t)){var a=utils.keys(t);for(n=0;n<a.length;++n)e[a[n]]=t[a[n]];return this}throw new TypeError(\"Invalid select() argument. Must be string or object.\")},Query.prototype.slice=function(){if(0===arguments.length)return this;this._validate(\"slice\");var t,e;if(1===arguments.length){var i=arguments[0];if(\"object\"==typeof i&&!Array.isArray(i)){for(var n=Object.keys(i),r=n.length,o=0;o<r;++o)this.slice(n[o],i[n[o]]);return this}this._ensurePath(\"slice\"),t=this._path,e=arguments[0]}else 2===arguments.length?\"number\"==typeof arguments[0]?(this._ensurePath(\"slice\"),t=this._path,e=slice(arguments)):(t=arguments[0],e=arguments[1]):3===arguments.length&&(t=arguments[0],e=slice(arguments,1));return(this._fields||(this._fields={}))[t]={$slice:e},this},Query.prototype.sort=function(t){if(!t)return this;var e;this._validate(\"sort\");var i=typeof t;if(Array.isArray(t)){e=t.length;for(var n=0;n<t.length;++n){if(!Array.isArray(t[n]))throw new Error(\"Invalid sort() argument, must be array of arrays\");_pushArr(this.options,t[n][0],t[n][1])}return this}if(1===arguments.length&&\"string\"==i){e=(t=t.split(/\\s+/)).length;for(n=0;n<e;++n){if(s=t[n]){var r=\"-\"==s[0]?-1:1;-1===r&&(s=s.substring(1)),push(this.options,s,r)}}return this}if(utils.isObject(t)){var o=utils.keys(t);for(n=0;n<o.length;++n){var s=o[n];push(this.options,s,t[s])}return this}if(\"undefined\"!=typeof Map&&t instanceof Map)return _pushMap(this.options,t),this;throw new TypeError(\"Invalid sort() argument. Must be a string, object, or array.\")};function push(t,e,i){if(Array.isArray(t.sort))throw new TypeError(\"Can't mix sort syntaxes. Use either array or object:\\n- `.sort([['field', 1], ['test', -1]])`\\n- `.sort({ field: 1, test: -1 })`\");if(i&&i.$meta){(r=t.sort||(t.sort={}))[e]={$meta:i.$meta}}else{var n=String(i||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(n))throw utils.isArray(i)&&(i=\"[\"+i+\"]\"),new TypeError(\"Invalid sort value: {\"+e+\": \"+i+\" }\");var r=t.sort||(t.sort={}),o=i.toString().replace(\"asc\",\"1\").replace(\"ascending\",\"1\").replace(\"desc\",\"-1\").replace(\"descending\",\"-1\");r[e]=parseInt(o,10)}}function _pushArr(t,e,i){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw new TypeError(\"Can't mix sort syntaxes. Use either array or object:\\n- `.sort([['field', 1], ['test', -1]])`\\n- `.sort({ field: 1, test: -1 })`\");i.toString().replace(\"asc\",\"1\").replace(\"ascending\",\"1\").replace(\"desc\",\"-1\").replace(\"descending\",\"-1\");t.sort.push([e,i])}function _pushMap(t,e){if(t.sort=t.sort||new Map,!(t.sort instanceof Map))throw new TypeError(\"Can't mix sort syntaxes. Use either array or object or map consistently\");e.forEach(function(e,i){var n=e.toString().replace(\"asc\",\"1\").replace(\"ascending\",\"1\").replace(\"desc\",\"-1\").replace(\"descending\",\"-1\");t.sort.set(i,n)})}[\"limit\",\"skip\",\"maxScan\",\"batchSize\",\"comment\"].forEach(function(t){Query.prototype[t]=function(e){return this._validate(t),this.options[t]=e,this}}),Query.prototype.maxTime=function(t){return this._validate(\"maxTime\"),this.options.maxTimeMS=t,this},Query.prototype.snapshot=function(){return this._validate(\"snapshot\"),this.options.snapshot=!arguments.length||!!arguments[0],this},Query.prototype.hint=function(){if(0===arguments.length)return this;this._validate(\"hint\");var t=arguments[0];if(utils.isObject(t)){var e=this.options.hint||(this.options.hint={});for(var i in t)e[i]=t[i];return this}if(\"string\"==typeof t)return this.options.hint=t,this;throw new TypeError(\"Invalid hint. \"+t)},Query.prototype.slaveOk=function(t){return this.options.slaveOk=!arguments.length||!!t,this},Query.prototype.read=function(t){return arguments.length>1&&!Query.prototype.read.deprecationWarningIssued&&(console.error(\"Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead.\"),Query.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=utils.readPref(t),this},Query.prototype.tailable=function(){return this._validate(\"tailable\"),this.options.tailable=!arguments.length||!!arguments[0],this},Query.prototype.merge=function(t){if(!t)return this;if(!Query.canMerge(t))throw new TypeError(\"Invalid argument. Expected instanceof mquery or plain object\");return t instanceof Query?(t._conditions&&utils.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),utils.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),utils.merge(this.options,t.options)),t._update&&(this._update||(this._update={}),utils.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(utils.merge(this._conditions,t),this)},Query.prototype.find=function(t,e){if(this.op=\"find\",\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)&&this.merge(t),!e)return this;var i=this._conditions,n=this._optionsForExec();return n.fields=this._fieldsForExec(),debug(\"find\",this._collection.collectionName,i,n),e=this._wrapCallback(\"find\",e,{conditions:i,options:n}),this._collection.find(i,n,utils.tick(e)),this},Query.prototype.cursor=function(t){if(this.op){if(\"find\"!==this.op)throw new TypeError(\".cursor only support .find method\")}else this.find(t);var e=this._conditions,i=this._optionsForExec();return i.fields=this._fieldsForExec(),debug(\"findCursor\",this._collection.collectionName,e,i),this._collection.findCursor(e,i)},Query.prototype.findOne=function(t,e){if(this.op=\"findOne\",\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)&&this.merge(t),!e)return this;var i=this._conditions,n=this._optionsForExec();return n.fields=this._fieldsForExec(),debug(\"findOne\",this._collection.collectionName,i,n),e=this._wrapCallback(\"findOne\",e,{conditions:i,options:n}),this._collection.findOne(i,n,utils.tick(e)),this},Query.prototype.count=function(t,e){if(this.op=\"count\",this._validate(),\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)&&this.merge(t),!e)return this;var i=this._conditions,n=this._optionsForExec();return debug(\"count\",this._collection.collectionName,i,n),e=this._wrapCallback(\"count\",e,{conditions:i,options:n}),this._collection.count(i,n,utils.tick(e)),this},Query.prototype.distinct=function(t,e,i){if(this.op=\"distinct\",this._validate(),!i){switch(typeof e){case\"function\":i=e,\"string\"==typeof t&&(e=t,t=void 0);break;case\"undefined\":case\"string\":break;default:throw new TypeError(\"Invalid `field` argument. Must be string or function\")}switch(typeof t){case\"function\":i=t,t=e=void 0;break;case\"string\":e=t,t=void 0}}if(\"string\"==typeof e&&(this._distinct=e),Query.canMerge(t)&&this.merge(t),!i)return this;if(!this._distinct)throw new Error(\"No value for `distinct` has been declared\");var n=this._conditions,r=this._optionsForExec();return debug(\"distinct\",this._collection.collectionName,n,r),i=this._wrapCallback(\"distinct\",i,{conditions:n,options:r}),this._collection.distinct(this._distinct,n,r,utils.tick(i)),this},Query.prototype.update=function(t,e,i,n){var r;switch(arguments.length){case 3:\"function\"==typeof i&&(n=i,i=void 0);break;case 2:\"function\"==typeof e&&(n=e,e=t,t=void 0);break;case 1:switch(typeof t){case\"function\":n=t,t=i=e=void 0;break;case\"boolean\":r=t,t=void 0;break;default:e=t,t=i=void 0}}return _update(this,\"update\",t,e,i,r,n)},Query.prototype.updateMany=function(t,e,i,n){var r;switch(arguments.length){case 3:\"function\"==typeof i&&(n=i,i=void 0);break;case 2:\"function\"==typeof e&&(n=e,e=t,t=void 0);break;case 1:switch(typeof t){case\"function\":n=t,t=i=e=void 0;break;case\"boolean\":r=t,t=void 0;break;default:e=t,t=i=void 0}}return _update(this,\"updateMany\",t,e,i,r,n)},Query.prototype.updateOne=function(t,e,i,n){var r;switch(arguments.length){case 3:\"function\"==typeof i&&(n=i,i=void 0);break;case 2:\"function\"==typeof e&&(n=e,e=t,t=void 0);break;case 1:switch(typeof t){case\"function\":n=t,t=i=e=void 0;break;case\"boolean\":r=t,t=void 0;break;default:e=t,t=i=void 0}}return _update(this,\"updateOne\",t,e,i,r,n)},Query.prototype.replaceOne=function(t,e,i,n){var r;switch(arguments.length){case 3:\"function\"==typeof i&&(n=i,i=void 0);break;case 2:\"function\"==typeof e&&(n=e,e=t,t=void 0);break;case 1:switch(typeof t){case\"function\":n=t,t=i=e=void 0;break;case\"boolean\":r=t,t=void 0;break;default:e=t,t=i=void 0}}return this.setOptions({overwrite:!0}),_update(this,\"replaceOne\",t,e,i,r,n)};function _update(t,e,i,n,r,o,s){if(t.op=e,Query.canMerge(i)&&t.merge(i),n&&t._mergeUpdate(n),utils.isObject(r)&&t.setOptions(r),!o&&!s)return t;if(!t._update||!t.options.overwrite&&0===utils.keys(t._update).length)return s&&utils.soon(s.bind(null,null,0)),t;r=t._optionsForExec(),s||(r.safe=!1);i=t._conditions;return n=t._updateForExec(),debug(\"update\",t._collection.collectionName,i,n,r),s=t._wrapCallback(e,s,{conditions:i,doc:n,options:r}),t._collection[e](i,n,r,utils.tick(s)),t}Query.prototype.remove=function(t,e){this.op=\"remove\";var i;if(\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)?this.merge(t):!0===t&&(i=t,t=void 0),!i&&!e)return this;var n=this._optionsForExec();e||(n.safe=!1);var r=this._conditions;return debug(\"remove\",this._collection.collectionName,r,n),e=this._wrapCallback(\"remove\",e,{conditions:r,options:n}),this._collection.remove(r,n,utils.tick(e)),this},Query.prototype.deleteOne=function(t,e){this.op=\"deleteOne\";var i;if(\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)?this.merge(t):!0===t&&(i=t,t=void 0),!i&&!e)return this;var n=this._optionsForExec();e||(n.safe=!1),delete n.justOne;var r=this._conditions;return debug(\"deleteOne\",this._collection.collectionName,r,n),e=this._wrapCallback(\"deleteOne\",e,{conditions:r,options:n}),this._collection.deleteOne(r,n,utils.tick(e)),this},Query.prototype.deleteMany=function(t,e){this.op=\"deleteMany\";var i;if(\"function\"==typeof t?(e=t,t=void 0):Query.canMerge(t)?this.merge(t):!0===t&&(i=t,t=void 0),!i&&!e)return this;var n=this._optionsForExec();e||(n.safe=!1),delete n.justOne;var r=this._conditions;return debug(\"deleteOne\",this._collection.collectionName,r,n),e=this._wrapCallback(\"deleteOne\",e,{conditions:r,options:n}),this._collection.deleteMany(r,n,utils.tick(e)),this},Query.prototype.findOneAndUpdate=function(t,e,i,n){switch(this.op=\"findOneAndUpdate\",this._validate(),arguments.length){case 3:\"function\"==typeof i&&(n=i,i={});break;case 2:\"function\"==typeof e&&(n=e,e=t,t=void 0),i=void 0;break;case 1:\"function\"==typeof t?(n=t,t=i=e=void 0):(e=t,t=i=void 0)}return Query.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),i&&this.setOptions(i),n?this._findAndModify(\"update\",n):this},Query.prototype.findOneAndRemove=function(t,e,i){return this.op=\"findOneAndRemove\",this._validate(),\"function\"==typeof e?(i=e,e=void 0):\"function\"==typeof t&&(i=t,t=void 0),Query.canMerge(t)&&this.merge(t),e&&this.setOptions(e),i?this._findAndModify(\"remove\",i):this},Query.prototype._findAndModify=function(t,e){assert.equal(\"function\",typeof e);var i,n=this._optionsForExec();if(\"remove\"==t)n.remove=!0;else if(\"new\"in n||(n.new=!0),\"upsert\"in n||(n.upsert=!1),!(i=this._updateForExec())){if(!n.upsert)return this.findOne(e);i={$set:{}}}var r;(r=this._fieldsForExec())&&(n.fields=r);var o=this._conditions;return debug(\"findAndModify\",this._collection.collectionName,o,i,n),e=this._wrapCallback(\"findAndModify\",e,{conditions:o,doc:i,options:n}),this._collection.findAndModify(o,i,n,utils.tick(e)),this},Query.prototype._wrapCallback=function(t,e,i){var n=this._traceFunction||Query.traceFunction;if(n){i.collectionName=this._collection.collectionName;var r=n&&n.call(null,t,i,this),o=(new Date).getTime();return function(t,i){if(r){var n=(new Date).getTime()-o;r.call(null,t,i,n)}e&&e.apply(null,arguments)}}return e},Query.prototype.setTraceFunction=function(t){return this._traceFunction=t,this},Query.prototype.exec=function(t,e){switch(typeof t){case\"function\":e=t,t=null;break;case\"string\":this.op=t}assert.ok(this.op,\"Missing query type: (find, update, etc)\"),\"update\"!=this.op&&\"remove\"!=this.op||e||(e=!0);var i=this;if(\"function\"!=typeof e)return new Query.Promise(function(t,e){i[i.op](function(n,r){n?e(n):t(r),i=t=e=null})});this[this.op](e)},Query.prototype.thunk=function(){var t=this;return function(e){t.exec(e)}},Query.prototype.then=function(t,e){var i=this;return new Query.Promise(function(t,e){i.exec(function(n,r){n?e(n):t(r),i=t=e=null})}).then(t,e)},Query.prototype.stream=function(t){if(\"find\"!=this.op)throw new Error(\"stream() is only available for find\");var e=this._conditions,i=this._optionsForExec();return i.fields=this._fieldsForExec(),debug(\"stream\",this._collection.collectionName,e,i,t),this._collection.findStream(e,i,t)},Query.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)},Query.prototype.selectedInclusively=function(){if(!this._fields)return!1;var t=Object.keys(this._fields);if(0===t.length)return!1;for(var e=0;e<t.length;++e){var i=t[e];if(0===this._fields[i])return!1;if(this._fields[i]&&\"object\"==typeof this._fields[i]&&this._fields[i].$meta)return!1}return!0},Query.prototype.selectedExclusively=function(){if(!this._fields)return!1;var t=Object.keys(this._fields);if(0===t.length)return!1;for(var e=0;e<t.length;++e){var i=t[e];if(0===this._fields[i])return!0}return!1},Query.prototype._mergeUpdate=function(t){this._update||(this._update={}),t instanceof Query?t._update&&utils.mergeClone(this._update,t._update):utils.mergeClone(this._update,t)},Query.prototype._optionsForExec=function(){return utils.clone(this.options,{retainKeyOrder:!0})},Query.prototype._fieldsForExec=function(){return utils.clone(this._fields,{retainKeyOrder:!0})},Query.prototype._updateForExec=function(){for(var t=utils.clone(this._update,{retainKeyOrder:!0}),e=utils.keys(t),i=e.length,n={};i--;){var r=e[i];this.options.overwrite?n[r]=t[r]:\"$\"!==r[0]?(n.$set||(t.$set?n.$set=t.$set:n.$set={}),n.$set[r]=t[r],e.splice(i,1),~e.indexOf(\"$set\")||e.push(\"$set\")):\"$set\"===r?n.$set||(n[r]=t[r]):n[r]=t[r]}return this._compiledUpdate=n,n},Query.prototype._ensurePath=function(t){if(!this._path){var e=t+\"() must be used after where() when called with these arguments\";throw new Error(e)}},Query.permissions=require(\"./permissions\"),Query._isPermitted=function(t,e){var i=Query.permissions[e];return!i||!0!==i[t]},Query.prototype._validate=function(t){var e,i;if(void 0===t){if(\"function\"!=typeof(i=Query.permissions[this.op]))return!0;e=i(this)}else Query._isPermitted(t,this.op)||(e=t);if(e)throw new Error(e+\" cannot be used with \"+this.op)},Query.canMerge=function(t){return t instanceof Query||utils.isObject(t)},Query.setGlobalTraceFunction=function(t){Query.traceFunction=t},Query.utils=utils,Query.env=require(\"./env\"),Query.Collection=require(\"./collection\"),Query.BaseCollection=require(\"./collection/collection\"),Query.Promise=require(\"bluebird\"),module.exports=exports=Query;","node_modules/mongoose/lib/drivers/index.js":"var driver;\"undefined\"==typeof window?(driver=require(\"./node-mongodb-native\"),global.MONGOOSE_DRIVER_PATH&&(driver=require(global.MONGOOSE_DRIVER_PATH))):driver=require(\"./browser\"),module.exports=driver;","node_modules/kareem/index.js":"\"use strict\";function Kareem(){this._pres={},this._posts={}}Kareem.prototype.execPre=function(n,e,r,t){3===arguments.length&&(t=r,r=[]);var o=this._pres[n]||[],s=o.length,l=o.numAsync||0,p=0,c=l,i=!1,u=r;if(!s)return process.nextTick(function(){t(null)});var a=function(){if(!(p>=s)){var n=o[p];if(n.isAsync)n.fn.call(e,function(n){if(n){if(i)return;return i=!0,t(n)}++p,a.apply(e,arguments)},function(n){if(n){if(i)return;return i=!0,t(n)}if(0==--l)return t(null)});else if(n.fn.length>0){for(var r=[function(n){if(n){if(i)return;return i=!0,t(n)}if(++p>=s)return c>0?void 0:t(null);a.apply(e,arguments)}],f=arguments.length>=2?arguments:[null].concat(u),h=1;h<f.length;++h)r.push(f[h]);n.fn.apply(e,r)}else{if(n.fn.call(e),++p>=s)return c>0?void 0:process.nextTick(function(){t(null)});a()}}};a.apply(null,[null].concat(r))},Kareem.prototype.execPreSync=function(n,e){for(var r=this._pres[n]||[],t=r.length,o=0;o<t;++o)r[o].fn.call(e)},Kareem.prototype.execPost=function(n,e,r,t,o){arguments.length<5&&(o=t,t=null);var s=this._posts[n]||[],l=s.length,p=0,c=null;if(t&&t.error&&(c=t.error),!l)return process.nextTick(function(){o.apply(null,[c].concat(r))});var i=function(){for(var n=s[p],t=0,u=r.length,a=[],f=0;f<u;++f)t+=r[f]&&r[f]._kareemIgnore?0:1,r[f]&&r[f]._kareemIgnore||a.push(r[f]);if(c)if(n.length===t+2)n.apply(e,[c].concat(a).concat(function(n){if(n&&(c=n),++p>=l)return o.call(null,c);i()}));else{if(++p>=l)return o.call(null,c);i()}else{if(n.length===t+2)return++p>=l?o.apply(null,[null].concat(r)):i();if(n.length===t+1)n.apply(e,a.concat(function(n){return n?(c=n,i()):++p>=l?o.apply(null,[null].concat(r)):void i()}));else{if(n.apply(e,a),++p>=l)return o.apply(null,[null].concat(r));i()}}};i()},Kareem.prototype.execPostSync=function(n,e){for(var r=this._posts[n]||[],t=r.length,o=0;o<t;++o)r[o].call(e)};function _handleWrapError(n,e,r,t,o,s,l){if(s.useErrorHandlers){var p={error:e};return n.execPost(r,t,o,p,function(n){return\"function\"==typeof l&&l(n)})}return\"function\"==typeof l?l(e):void 0}Kareem.prototype.wrap=function(n,e,r,t,o){var s,l=t.length>0?t[t.length-1]:null,p=(\"function\"==typeof l&&t.slice(0,t.length-1),this);s=\"object\"==typeof o?o&&o.useLegacyPost:o,o=o||{},this.execPre(n,r,t,function(c){if(c){for(var i=o.numCallbackParams||0,u=[],a=0;a<i;++a)u.push(null);return _handleWrapError(p,c,n,r,u,o,l)}var f=\"function\"==typeof l?t.length-1:t.length;e.apply(r,t.slice(0,f).concat(function(){var e=Array.prototype.slice.call(arguments,1);if(o.nullResultByDefault&&0===e.length&&e.push(null),arguments[0])return _handleWrapError(p,arguments[0],n,r,e,o,l);s&&\"function\"==typeof l&&l.apply(r,arguments),p.execPost(n,r,e,function(){return arguments[0]?\"function\"==typeof l?l(arguments[0]):void 0:\"function\"!=typeof l||s?void 0:l.apply(r,arguments)})}))})},Kareem.prototype.createWrapper=function(n,e,r,t){var o=this;return function(){var s=Array.prototype.slice.call(arguments);o.wrap(n,e,r,s,t)}},Kareem.prototype.pre=function(n,e,r,t){\"boolean\"!=typeof arguments[1]&&(r,r=e,e=!1),this._pres[n]=this._pres[n]||[];var o=this._pres[n];return e&&(o.numAsync=o.numAsync||0,++o.numAsync),o.push({fn:r,isAsync:e}),this},Kareem.prototype.post=function(n,e){return(this._posts[n]=this._posts[n]||[]).push(e),this},Kareem.prototype.clone=function(){var n=new Kareem;for(var e in this._pres)this._pres.hasOwnProperty(e)&&(n._pres[e]=this._pres[e].slice(),n._pres[e].numAsync=this._pres[e].numAsync);for(var e in this._posts)this._posts.hasOwnProperty(e)&&(n._posts[e]=this._posts[e].slice());return n},Kareem.prototype.merge=function(n){var e=this.clone();for(var r in n._pres)n._pres.hasOwnProperty(r)&&(e._pres[r]=(e._pres[r]||[]).concat(n._pres[r].slice()),e._pres[r].numAsync+=n._pres[r].numAsync);for(var r in n._posts)n._posts.hasOwnProperty(r)&&(e._posts[r]=(e._posts[r]||[]).concat(n._posts[r].slice()));return e},module.exports=Kareem;","node_modules/async/lib/async.js":"!function(){var n,t,e={};null!=(n=this)&&(t=n.async),e.noConflict=function(){return n.async=t,e};function r(t){var e=!1;return function(){if(e)throw new Error(\"Callback was already called.\");e=!0,t.apply(n,arguments)}}var i=Object.prototype.toString,u=Array.isArray||function(n){return\"[object Array]\"===i.call(n)},c=function(n,t){for(var e=0;e<n.length;e+=1)t(n[e],e,n)},o=function(n,t){if(n.map)return n.map(t);var e=[];return c(n,function(n,r,i){e.push(t(n,r,i))}),e},a=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};\"undefined\"!=typeof process&&process.nextTick?(e.nextTick=process.nextTick,\"undefined\"!=typeof setImmediate?e.setImmediate=function(n){setImmediate(n)}:e.setImmediate=e.nextTick):\"function\"==typeof setImmediate?(e.nextTick=function(n){setImmediate(n)},e.setImmediate=e.nextTick):(e.nextTick=function(n){setTimeout(n,0)},e.setImmediate=e.nextTick),e.each=function(n,t,e){if(e=e||function(){},!n.length)return e();var i=0;c(n,function(n){t(n,r(u))});function u(t){t?(e(t),e=function(){}):(i+=1)>=n.length&&e()}},e.forEach=e.each,e.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,i=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1)>=n.length?e():i()})};i()},e.forEachSeries=e.eachSeries,e.eachLimit=function(n,t,e,r){l(t).apply(null,[n,e,r])},e.forEachLimit=e.eachLimit;var l=function(n){return function(t,e,r){if(r=r||function(){},!t.length||n<=0)return r();var i=0,u=0,c=0;!function o(){if(i>=t.length)return r();for(;c<n&&u<t.length;)c+=1,e(t[(u+=1)-1],function(n){n?(r(n),r=function(){}):(c-=1,(i+=1)>=t.length?r():o())})}()}},f=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[e.each].concat(t))}},s=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[e.eachSeries].concat(t))}},p=function(n,t,e,r){if(t=o(t,function(n,t){return{index:t,value:n}}),r){var i=[];n(t,function(n,t){e(n.value,function(e,r){i[n.index]=r,t(e)})},function(n){r(n,i)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};e.map=f(p),e.mapSeries=s(p),e.mapLimit=function(n,t,e,r){return y(t)(n,e,r)};var y=function(n){return function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[l(n)].concat(e))}}(n,p)};e.reduce=function(n,t,r,i){e.eachSeries(n,function(n,e){r(t,n,function(n,r){t=r,e(n)})},function(n){i(n,t)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(n,t,r,i){var u=o(n,function(n){return n}).reverse();e.reduce(u,t,r,i)},e.foldr=e.reduceRight;var d=function(n,t,e,r){var i=[];n(t=o(t,function(n,t){return{index:t,value:n}}),function(n,t){e(n.value,function(e){e&&i.push(n),t()})},function(n){r(o(i.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};e.filter=f(d),e.filterSeries=s(d),e.select=e.filter,e.selectSeries=e.filterSeries;var v=function(n,t,e,r){var i=[];n(t=o(t,function(n,t){return{index:t,value:n}}),function(n,t){e(n.value,function(e){e||i.push(n),t()})},function(n){r(o(i.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};e.reject=f(v),e.rejectSeries=s(v);var h=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};e.detect=f(h),e.detectSeries=s(h),e.some=function(n,t,r){e.each(n,function(n,e){t(n,function(n){n&&(r(!0),r=function(){}),e()})},function(n){r(!1)})},e.any=e.some,e.every=function(n,t,r){e.each(n,function(n,e){t(n,function(n){n||(r(!1),r=function(){}),e()})},function(n){r(!0)})},e.all=e.every,e.sortBy=function(n,t,r){e.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return r(n);var e=function(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:e>r?1:0};r(null,o(t.sort(e),function(n){return n.value}))})},e.auto=function(n,t){t=t||function(){};var r=a(n),i=r.length;if(!i)return t();var o={},l=[],f=function(n){l.unshift(n)},s=function(){i--,c(l.slice(0),function(n){n()})};f(function(){if(!i){var n=t;t=function(){},n(null,o)}}),c(r,function(r){var i=u(n[r])?n[r]:[n[r]],p=function(n){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),n){var u={};c(a(o),function(n){u[n]=o[n]}),u[r]=i,t(n,u),t=function(){}}else o[r]=i,e.setImmediate(s)},y=i.slice(0,Math.abs(i.length-1))||[],d=function(){return function(n,t,e){return n.reduce?n.reduce(t,e):(c(n,function(n,r,i){e=t(e,n,r,i)}),e)}(y,function(n,t){return n&&o.hasOwnProperty(t)},!0)&&!o.hasOwnProperty(r)};if(d())i[i.length-1](p,o);else{var v=function(){d()&&(!function(n){for(var t=0;t<l.length;t+=1)if(l[t]===n)return void l.splice(t,1)}(v),i[i.length-1](p,o))};f(v)}})},e.retry=function(n,t,r){var i=[];\"function\"==typeof n&&(r=t,t=n,n=5),n=parseInt(n,10)||5;var u=function(u,c){for(var o=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},c)}};n;)i.push(o(t,!(n-=1)));e.series(i,function(n,t){t=t[t.length-1],(u||r)(t.err,t.result)})};return r?u():u},e.waterfall=function(n,t){if(t=t||function(){},!u(n)){var r=new Error(\"First argument to waterfall must be an array of functions\");return t(r)}if(!n.length)return t();var i=function(n){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var u=Array.prototype.slice.call(arguments,1),c=n.next();c?u.push(i(c)):u.push(t),e.setImmediate(function(){n.apply(null,u)})}}};i(e.iterator(n))()};var m=function(n,t,e){if(e=e||function(){},u(t))n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(a(t),function(n,e){t[n](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[n]=i,e(t)})},function(n){e(n,r)})}};e.parallel=function(n,t){m({map:e.map,each:e.each},n,t)},e.parallelLimit=function(n,t,e){m({map:y(t),each:l(t)},n,e)},e.series=function(n,t){if(t=t||function(){},u(n))e.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var r={};e.eachSeries(a(n),function(t,e){n[t](function(n){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,e(n)})},function(n){t(n,r)})}},e.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},e.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var g=function(n,t,e,r){var i=[];n(t,function(n,t){e(n,function(n,e){i=i.concat(e||[]),t(n)})},function(n){r(n,i)})};e.concat=f(g),e.concatSeries=s(g),e.whilst=function(n,t,r){n()?t(function(i){if(i)return r(i);e.whilst(n,t,r)}):r()},e.doWhilst=function(n,t,r){n(function(i){if(i)return r(i);var u=Array.prototype.slice.call(arguments,1);t.apply(null,u)?e.doWhilst(n,t,r):r()})},e.until=function(n,t,r){n()?r():t(function(i){if(i)return r(i);e.until(n,t,r)})},e.doUntil=function(n,t,r){n(function(i){if(i)return r(i);var u=Array.prototype.slice.call(arguments,1);t.apply(null,u)?r():e.doUntil(n,t,r)})},e.queue=function(n,t){void 0===t&&(t=1);function i(n,t,r,i){if(n.started||(n.started=!0),u(t)||(t=[t]),0==t.length)return e.setImmediate(function(){n.drain&&n.drain()});c(t,function(t){var u={data:t,callback:\"function\"==typeof i?i:null};r?n.tasks.unshift(u):n.tasks.push(u),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),e.setImmediate(n.process)})}var o=0,a={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){i(a,n,!1,t)},kill:function(){a.drain=null,a.tasks=[]},unshift:function(n,t){i(a,n,!0,t)},process:function(){if(!a.paused&&o<a.concurrency&&a.tasks.length){var t=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),o+=1;var e=r(function(){o-=1,t.callback&&t.callback.apply(t,arguments),a.drain&&a.tasks.length+o===0&&a.drain(),a.process()});n(t.data,e)}},length:function(){return a.tasks.length},running:function(){return o},idle:function(){return a.tasks.length+o===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var n=1;n<=a.concurrency;n++)e.setImmediate(a.process)}}};return a},e.priorityQueue=function(n,t){function r(n,t){return n.priority-t.priority}var i=e.queue(n,t);return i.push=function(n,t,o){!function(n,t,i,o){if(n.started||(n.started=!0),u(t)||(t=[t]),0==t.length)return e.setImmediate(function(){n.drain&&n.drain()});c(t,function(t){var u={data:t,priority:i,callback:\"function\"==typeof o?o:null};n.tasks.splice(function(n,t,e){for(var r=-1,i=n.length-1;r<i;){var u=r+(i-r+1>>>1);e(t,n[u])>=0?r=u:i=u-1}return r}(n.tasks,u,r)+1,0,u),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),e.setImmediate(n.process)})}(i,n,t,o)},delete i.unshift,i},e.cargo=function(n,t){var r=!1,i=[],a={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,r){u(n)||(n=[n]),c(n,function(n){i.push({data:n,callback:\"function\"==typeof r?r:null}),a.drained=!1,a.saturated&&i.length===t&&a.saturated()}),e.setImmediate(a.process)},process:function e(){if(!r){if(0===i.length)return a.drain&&!a.drained&&a.drain(),void(a.drained=!0);var u=\"number\"==typeof t?i.splice(0,t):i.splice(0,i.length),l=o(u,function(n){return n.data});a.empty&&a.empty(),r=!0,n(l,function(){r=!1;var n=arguments;c(u,function(t){t.callback&&t.callback.apply(null,n)}),e()})}},length:function(){return i.length},running:function(){return r}};return a};var k=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);\"undefined\"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};e.log=k(\"log\"),e.dir=k(\"dir\"),e.memoize=function(n,t){var r={},i={};t=t||function(n){return n};var u=function(){var u=Array.prototype.slice.call(arguments),c=u.pop(),o=t.apply(null,u);o in r?e.nextTick(function(){c.apply(null,r[o])}):o in i?i[o].push(c):(i[o]=[c],n.apply(null,u.concat([function(){r[o]=arguments;var n=i[o];delete i[o];for(var t=0,e=n.length;t<e;t++)n[t].apply(null,arguments)}])))};return u.memo=r,u.unmemoized=n,u},e.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},e.times=function(n,t,r){for(var i=[],u=0;u<n;u++)i.push(u);return e.map(i,t,r)},e.timesSeries=function(n,t,r){for(var i=[],u=0;u<n;u++)i.push(u);return e.mapSeries(i,t,r)},e.seq=function(){var n=arguments;return function(){var t=this,r=Array.prototype.slice.call(arguments),i=r.pop();e.reduce(n,r,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){i.apply(t,[n].concat(e))})}},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};e.applyEach=f(A),e.applyEachSeries=s(A),e.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},\"undefined\"!=typeof module&&module.exports?module.exports=e:\"undefined\"!=typeof define&&define.amd?define([],function(){return e}):n.async=e}();","node_modules/mpath/index.js":"module.exports=exports=require(\"./lib\");","node_modules/mongoose/lib/schema/index.js":"exports.String=require(\"./string\"),exports.Number=require(\"./number\"),exports.Boolean=require(\"./boolean\"),exports.DocumentArray=require(\"./documentarray\"),exports.Embedded=require(\"./embedded\"),exports.Array=require(\"./array\"),exports.Buffer=require(\"./buffer\"),exports.Date=require(\"./date\"),exports.ObjectId=require(\"./objectid\"),exports.Mixed=require(\"./mixed\"),exports.Decimal128=exports.Decimal=require(\"./decimal128\"),exports.Oid=exports.ObjectId,exports.Object=exports.Mixed,exports.Bool=exports.Boolean;","node_modules/mongoose/lib/drivers/node-mongodb-native/index.js":"exports.Binary=require(\"./binary\"),exports.ObjectId=require(\"./objectid\"),exports.ReadPreference=require(\"./ReadPreference\");","node_modules/mongoose/lib/drivers/node-mongodb-native/binary.js":"var Binary=require(\"mongodb\").Binary;module.exports=exports=Binary;","node_modules/mongoose/lib/drivers/node-mongodb-native/objectid.js":"var ObjectId=require(\"mongodb\").ObjectId;module.exports=exports=ObjectId;","node_modules/mongoose/lib/drivers/node-mongodb-native/ReadPreference.js":"var mongodb=require(\"mongodb\"),ReadPref=mongodb.ReadPreference;module.exports=function(e,r){if(Array.isArray(e)&&(r=e[1],e=e[0]),e instanceof ReadPref)return e;switch(e){case\"p\":e=\"primary\";break;case\"pp\":e=\"primaryPreferred\";break;case\"s\":e=\"secondary\";break;case\"sp\":e=\"secondaryPreferred\";break;case\"n\":e=\"nearest\"}return new ReadPref(e,r)};","node_modules/mongodb-core/index.js":"var BSON=require(\"bson\"),require_optional=require(\"require_optional\");try{var BSONNative=require_optional(\"bson-ext\");BSONNative&&(BSON=BSONNative)}catch(e){}module.exports={MongoError:require(\"./lib/error\"),Connection:require(\"./lib/connection/connection\"),Server:require(\"./lib/topologies/server\"),ReplSet:require(\"./lib/topologies/replset\"),Mongos:require(\"./lib/topologies/mongos\"),Logger:require(\"./lib/connection/logger\"),Cursor:require(\"./lib/cursor\"),ReadPreference:require(\"./lib/topologies/read_preference\"),BSON:BSON,Query:require(\"./lib/connection/commands\").Query,MongoCR:require(\"./lib/auth/mongocr\"),X509:require(\"./lib/auth/x509\"),Plain:require(\"./lib/auth/plain\"),GSSAPI:require(\"./lib/auth/gssapi\"),ScramSHA1:require(\"./lib/auth/scram\")};","node_modules/mongodb/lib/apm.js":"var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),OrderedBulkOperation=require(\"./bulk/ordered\").OrderedBulkOperation,UnorderedBulkOperation=require(\"./bulk/unordered\").UnorderedBulkOperation,GridStore=require(\"./gridfs/grid_store\"),Cursor=require(\"./cursor\"),Collection=require(\"./collection\"),Db=require(\"./db\"),basicOperationIdGenerator={operationId:1,next:function(){return this.operationId++}},basicTimestampGenerator={current:function(){return(new Date).getTime()},duration:function(e,r){return r-e}},senstiveCommands=[\"authenticate\",\"saslStart\",\"saslContinue\",\"getnonce\",\"createUser\",\"updateUser\",\"copydbgetnonce\",\"copydbsaslstart\",\"copydb\"],Instrumentation=function(e,r,t){var o=(r=r||{}).operationIdGenerator||basicOperationIdGenerator,n=r.timestampGenerator||basicTimestampGenerator;EventEmitter.call(this),this.overloads=[];\"function\"==typeof t&&function(e){for(var r=[],t=[GridStore,OrderedBulkOperation,UnorderedBulkOperation,CommandCursor,AggregationCursor,Cursor,Collection,Db],o=0;o<t.length;o++)t[o].define&&r.push(t[o].define.generate());e(null,r)}(t);var i=this,a=[\"command\",\"insert\",\"update\",\"remove\"],s=e.Server.prototype;a.forEach(function(r){var t=s[r];i.overloads.push({proto:s,name:r,func:t}),s[r]=function(){var a=e.Query.nextRequestId(),s=Array.prototype.slice.call(arguments,0),c=s[0],u=s[1],d=s[2]||{},l=Object.keys(u)[0],m=c.split(\".\")[0],p=c.split(\".\");p.shift(),p=p.join(\".\"),\"insert\"==r?(l=\"insert\",u={insert:p,documents:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered):\"update\"==r?(l=\"update\",u={update:p,updates:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered):\"remove\"==r&&(l=\"delete\",u={delete:p,deletes:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered);var h=s.pop(),f=h.operationId||o.next(),v=this.s.pool.get(),C={command:u,databaseName:m,commandName:l,requestId:a,operationId:f,connectionId:v};-1!=senstiveCommands.indexOf(l.toLowerCase())&&(C.commandObj={},C.commandObj[l]=!0),i.emit(\"started\",C);var y=n.current();s.push(function(e,r){var t=n.current(),o={duration:n.duration(y,t),commandName:l,requestId:a,operationId:f,connectionId:v};e||r&&r.result&&0==r.result.ok?(o.failure=e||r.result.writeErrors||r.result,-1!=senstiveCommands.indexOf(l.toLowerCase())&&(o.failure={}),i.emit(\"failed\",o)):u&&u.writeConcern&&0==u.writeConcern.w?(o.reply={ok:1},i.emit(\"succeeded\",o)):(o.reply=r&&r.result?r.result:r,-1!=senstiveCommands.indexOf(l.toLowerCase())&&(o.reply={}),i.emit(\"succeeded\",o)),h(e,r)}),t.apply(this,s)}}),a=[\"execute\"];var c=[require(\"./bulk/ordered\").Bulk.prototype,require(\"./bulk/unordered\").Bulk.prototype];c.forEach(function(e){a.forEach(function(r){var t=e[r];i.overloads.push({proto:e,name:r,func:t}),e[r]=function(){var e=Array.prototype.slice.call(arguments,0);this.operationId=o.next();var r=e.pop();if(\"function\"!=typeof r)return t.apply(this,e);e.push(function(e,t){r(e,t)}),t.apply(this,e)}})}),a=[\"_find\",\"_getmore\",\"_killcursor\"];var u={_find:\"find\",_getmore:\"getMore\",_killcursor:\"killCursors\",_explain:\"explain\"};(c=[require(\"./cursor\").prototype,require(\"./command_cursor\").prototype,require(\"./aggregation_cursor\").prototype]).forEach(function(r){a.forEach(function(t){var a=r[t];i.overloads.push({proto:r,name:t,func:a}),r[t]=function(){var r=this,s=e.Query.nextRequestId(),c=o.next(),d=this.ns.split(\".\"),l=d[0];d.shift();var m=d.join(\".\"),p=this.query,h=this.s.cmd;\"_find\"==t&&(r.operationId=c),\"_getmore\"==t?(p={getMore:this.cursorState.cursorId,collection:m,batchSize:h.batchSize},h.maxTimeMS&&(p.maxTimeMS=h.maxTimeMS)):\"_killcursor\"==t?p={killCursors:m,cursors:[this.cursorState.cursorId]}:h.find?(p={find:m,filter:h.query},h.sort&&(p.sort=h.sort),h.fields&&(p.projection=h.fields),h.limit&&h.limit<0?(p.limit=Math.abs(h.limit),p.singleBatch=!0):h.limit&&(p.limit=Math.abs(h.limit)),h.skip&&(p.skip=h.skip),h.hint&&(p.hint=h.hint),h.batchSize&&(p.batchSize=h.batchSize),\"boolean\"==typeof h.returnKey&&(p.returnKey=h.returnKey),h.comment&&(p.comment=h.comment),h.min&&(p.min=h.min),h.max&&(p.max=h.max),h.maxScan&&(p.maxScan=h.maxScan),h.maxTimeMS&&(p.maxTimeMS=h.maxTimeMS),\"boolean\"==typeof h.awaitData&&(p.awaitData=h.awaitData),\"boolean\"==typeof h.snapshot&&(p.snapshot=h.snapshot),\"boolean\"==typeof h.tailable&&(p.tailable=h.tailable),\"boolean\"==typeof h.oplogReplay&&(p.oplogReplay=h.oplogReplay),\"boolean\"==typeof h.noCursorTimeout&&(p.noCursorTimeout=h.noCursorTimeout),\"boolean\"==typeof h.partial&&(p.partial=h.partial),\"boolean\"==typeof h.showDiskLoc&&(p.showRecordId=h.showDiskLoc),h.readConcern&&(p.readConcern=h.readConcern),h.explain&&(p.explain=h.explain),h.exhaust&&(p.exhaust=h.exhaust),h.explain&&(p={explain:p,verbosity:\"allPlansExecution\"},h.readConcern&&(p.readConcern=h.readConcern),t=\"_explain\")):p=h;var f=null;this.connection&&(f=this.connection),!f&&this.server&&this.server.getConnection&&(f=this.server.getConnection());var v=\"_find\"==t?Object.keys(p)[0]:u[t];p={command:p,databaseName:l,commandName:v,requestId:s,operationId:this.operationId,connectionId:f};var C=Array.prototype.slice.call(arguments,0),y=C.pop();if(\"function\"!=typeof y&&\"killCursors\"!=p.commandName){C.push(y);var I=a.apply(this,C);return new r.s.promiseLibrary(function(e,t){var o=n.current();i.emit(\"started\",p),I.then(function(){var e={duration:n.duration(o,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:r.cursorState.documents};i.emit(\"succeeded\",e)}).catch(function(e){var a={duration:n.duration(o,n.current()),commandName:v,requestId:s,operationId:c,connectionId:r.server.getConnection(),failure:e};i.emit(\"failed\",a),t(e)})})}var g=n.current();if(i.emit(\"started\",p),\"killCursors\"==p.commandName&&this.server.lastIsMaster()&&this.server.lastIsMaster().maxWireVersion<4)return p={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:[{ok:1}]},C.push(y),a.apply(this,C),i.emit(\"succeeded\",p);C.push(function(e,t){if(e){var o={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:c,connectionId:r.server.getConnection(),failure:e};i.emit(\"failed\",o)}else\"getmore\"==v.toLowerCase()&&null==t?t={cursor:{id:r.cursorState.cursorId,ns:r.ns,nextBatch:r.cursorState.documents},ok:1}:\"find\"!=v.toLowerCase()&&\"aggregate\"!=v.toLowerCase()&&\"listcollections\"!=v.toLowerCase()||null!=t?\"killcursors\"==v.toLowerCase()&&null==t&&(t={cursorsUnknown:[r.cursorState.lastCursorId],ok:1}):t={cursor:{id:r.cursorState.cursorId,ns:r.ns,firstBatch:r.cursorState.documents},ok:1},o={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:t&&t.result?t.result:t},i.emit(\"succeeded\",o);y&&y(e,t)}),a.apply(this,C)}})})};inherits(Instrumentation,EventEmitter),Instrumentation.prototype.uninstrument=function(){for(var e=0;e<this.overloads.length;e++){var r=this.overloads[e];r.proto[r.name]=r.func}this.removeAllListeners(\"started\"),this.removeAllListeners(\"succeeded\"),this.removeAllListeners(\"failed\")},module.exports=Instrumentation;","node_modules/mongodb/lib/mongo_client.js":"\"use strict\";var parse=require(\"./url_parser\"),Server=require(\"./server\"),Mongos=require(\"./mongos\"),ReplSet=require(\"./replset\"),EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,Define=require(\"./metadata\"),ReadPreference=require(\"./read_preference\"),Logger=require(\"mongodb-core\").Logger,MongoError=require(\"mongodb-core\").MongoError,Db=require(\"./db\"),f=require(\"util\").format,assign=require(\"./utils\").assign,shallowClone=require(\"./utils\").shallowClone,authenticate=require(\"./authenticate\"),validOptionNames=[\"poolSize\",\"ssl\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslKey\",\"sslPass\",\"sslCRL\",\"autoReconnect\",\"noDelay\",\"keepAlive\",\"connectTimeoutMS\",\"family\",\"socketTimeoutMS\",\"reconnectTries\",\"reconnectInterval\",\"ha\",\"haInterval\",\"replicaSet\",\"secondaryAcceptableLatencyMS\",\"acceptableLatencyMS\",\"connectWithNoPrimary\",\"authSource\",\"w\",\"wtimeout\",\"j\",\"forceServerObjectId\",\"serializeFunctions\",\"ignoreUndefined\",\"raw\",\"bufferMaxEntries\",\"readPreference\",\"pkFactory\",\"promiseLibrary\",\"readConcern\",\"maxStalenessSeconds\",\"loggerLevel\",\"logger\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\",\"domainsEnabled\",\"keepAliveInitialDelay\",\"checkServerIdentity\",\"validateOptions\",\"appname\",\"auth\"],ignoreOptionNames=[\"native_parser\"],legacyOptionNames=[\"server\",\"replset\",\"replSet\",\"mongos\",\"db\"];function validOptions(e){var n=validOptionNames.concat(legacyOptionNames);for(var r in e)if(-1==ignoreOptionNames.indexOf(r)){if(-1==n.indexOf(r)&&e.validateOptions)return new MongoError(f(\"option %s is not supported\",r));-1==n.indexOf(r)&&console.warn(f(\"the options [%s] is not supported\",r)),-1!=legacyOptionNames.indexOf(r)&&console.warn(f(\"the server/replset/mongos options are deprecated, all their options are supported at the top level of the options object [%s]\",validOptionNames))}}function MongoClient(){if(!(this instanceof MongoClient))return new MongoClient;EventEmitter.call(this),this.connect=MongoClient.connect}inherits(MongoClient,EventEmitter);var define=MongoClient.define=new Define(\"MongoClient\",MongoClient,!1);MongoClient.connect=function(e,n,r){var t=Array.prototype.slice.call(arguments,1);r=\"function\"==typeof t[t.length-1]?t.pop():null;var o=this,i=validOptions(n=(n=t.length?t.shift():null)||{}),s=n.promiseLibrary;return s||(s=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"!=typeof r?new s(function(r,t){if(i)return t(i);connect(o,e,n,function(e,n){if(e)return t(e);r(n)})}):i?r(i):void connect(o,e,n,r)},define.staticMethod(\"connect\",{callback:!0,promise:!0});var mergeOptions=function(e,n,r){for(var t in n)n[t]&&\"object\"==typeof n[t]&&r?e=mergeOptions(e,n[t],r):e[t]=n[t];return e},createUnifiedOptions=function(e,n){var r=[\"mongos\",\"server\",\"db\",\"replset\",\"db_options\",\"server_options\",\"rs_options\",\"mongos_options\"],t=[\"readconcern\"];for(var o in n)-1!=t.indexOf(o.toLowerCase())?e[o]=n[o]:-1!=r.indexOf(o.toLowerCase())?e=mergeOptions(e,n[o],!1):!n[o]||\"object\"!=typeof n[o]||Buffer.isBuffer(n[o])||Array.isArray(n[o])?e[o]=n[o]:e=mergeOptions(e,n[o],!0);return e};function translateOptions(e){return\"string\"!=typeof e.readPreference&&\"string\"!=typeof e.read_preference||(e.readPreference=new ReadPreference(e.readPreference||e.read_preference)),e.readPreference&&(e.readPreferenceTags||e.read_preference_tags)&&(e.readPreference.tags=e.readPreferenceTags||e.read_preference_tags),e.maxStalenessSeconds&&(e.readPreference.maxStalenessSeconds=e.maxStalenessSeconds),null==e.socketTimeoutMS&&(e.socketTimeoutMS=36e4),null==e.connectTimeoutMS&&(e.connectTimeoutMS=3e4),e.servers.map(function(n){return n.domain_socket?new Server(n.domain_socket,27017,e):new Server(n.host,n.port,e)})}function collectEvents(e,n){var r=[];if(e instanceof MongoClient){[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(e){n.serverConfig.on(e,function(n,t){r.push({event:e,object1:n,object2:t})})})}return r}function replayEvents(e,n){for(var r=0;r<n.length;r++)e.emit(n[r].event,n[r].object1,n[r].object2)}function relayEvents(e,n){if(e instanceof MongoClient){[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(r){n.serverConfig.on(r,function(n,t){e.emit(r,n,t)})})}}function createReplicaset(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,new ReplSet(t,n),n);relayEvents(e,o),o.open(r)}function createMongos(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,new Mongos(t,n),n);relayEvents(e,o),o.open(r)}function createServer(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,t[0],n),i=collectEvents(e,o);o.open(function(t,o){if(t)return r(t);var s=o.serverConfig.lastIsMaster();if(s&&\"isdbgrid\"==s.msg)return o.close(),createMongos(e,n,r);replayEvents(e,i),relayEvents(e,o),r(t,o)})}function connectHandler(e,n){return function(r,t){if(r)return process.nextTick(function(){try{n(r,null)}catch(e){throw t&&t.close(),e}});if(!e.auth)return process.nextTick(function(){try{n(r,t)}catch(e){throw t&&t.close(),e}});var o=t;e.authSource&&(o=t.db(e.authSource)),authenticate(o,e.user,e.password,e,function(r,o){o?process.nextTick(function(){try{n(null,t)}catch(e){throw t&&t.close(),e}}):(t&&t.close(),process.nextTick(function(){try{n(r||new Error(\"Could not authenticate user \"+e.auth[0]),null)}catch(e){throw t&&t.close(),e}}))})}}var connect=function(e,n,r,t){if(r=r||{},r=shallowClone(r),null==t)throw new Error(\"no callback function provided\");var o=Logger(\"MongoClient\",r),i=parse(n,r),s=createUnifiedOptions({},i);if(s=mergeOptions(s,i,!1),null==(s=createUnifiedOptions(s,r)).socketTimeoutMS&&(s.socketTimeoutMS=36e4),null==s.connectTimeoutMS&&(s.connectTimeoutMS=3e4),s.db_options&&s.db_options.auth&&delete s.db_options.auth,0==i.servers.length)throw new Error(\"connection string must contain at least one seed host\");function a(e,n){if(e&&\"no mongos proxies found in seed list\"==e.message)return o.isWarn()&&o.warn(f(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\")),t(new MongoError(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\"));t(e,n)}return s.replicaSet||s.rs_name?createReplicaset(e,s,connectHandler(s,a)):i.servers.length>1?createMongos(e,s,connectHandler(s,a)):createServer(e,s,connectHandler(s,a))};module.exports=MongoClient;","node_modules/mongodb/lib/admin.js":"\"use strict\";var toError=require(\"./utils\").toError,Define=require(\"./metadata\"),shallowClone=require(\"./utils\").shallowClone,assign=require(\"./utils\").assign,authenticate=require(\"./authenticate\"),Admin=function(n,e,t){if(!(this instanceof Admin))return new Admin(n,e);this.s={db:n,topology:e,promiseLibrary:t}},define=Admin.define=new Define(\"Admin\",Admin,!1);Admin.prototype.command=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},\"function\"==typeof t?this.s.db.executeDbAdminCommand(n,e,function(n,e){return null!=t?t(n,e):null}):new this.s.promiseLibrary(function(t,r){i.s.db.executeDbAdminCommand(n,e,function(n,e){if(n)return r(n);t(e)})})},define.classMethod(\"command\",{callback:!0,promise:!0}),Admin.prototype.buildInfo=function(n){var e=this;return\"function\"==typeof n?this.serverInfo(n):new this.s.promiseLibrary(function(n,t){e.serverInfo(function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"buildInfo\",{callback:!0,promise:!0}),Admin.prototype.serverInfo=function(n){var e=this;return\"function\"==typeof n?this.s.db.executeDbAdminCommand({buildinfo:1},function(e,t){if(null!=e)return n(e,null);n(null,t)}):new this.s.promiseLibrary(function(n,t){e.s.db.executeDbAdminCommand({buildinfo:1},function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"serverInfo\",{callback:!0,promise:!0}),Admin.prototype.serverStatus=function(n){var e=this;return\"function\"==typeof n?serverStatus(e,n):new this.s.promiseLibrary(function(n,t){serverStatus(e,function(e,i){if(e)return t(e);n(i)})})};var serverStatus=function(n,e){n.s.db.executeDbAdminCommand({serverStatus:1},function(n,t){if(null!=n||1!==t.ok)return e(n||toError(t),!1);e(null,t)})};define.classMethod(\"serverStatus\",{callback:!0,promise:!0}),Admin.prototype.profilingLevel=function(n){var e=this;return\"function\"==typeof n?profilingLevel(e,n):new this.s.promiseLibrary(function(n,t){profilingLevel(e,function(e,i){if(e)return t(e);n(i)})})};var profilingLevel=function(n,e){n.s.db.executeDbAdminCommand({profile:-1},function(n,t){if(null==n&&1===t.ok){var i=t.was;return 0==i?e(null,\"off\"):1==i?e(null,\"slow_only\"):2==i?e(null,\"all\"):e(new Error(\"Error: illegal profiling level value \"+i),null)}e(null!=n?n:new Error(\"Error with profile command\"),null)})};define.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),Admin.prototype.ping=function(n,e){var t=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(e=i.pop())&&i.push(e),\"function\"==typeof e?this.s.db.executeDbAdminCommand({ping:1},e):new this.s.promiseLibrary(function(n,e){t.s.db.executeDbAdminCommand({ping:1},function(t,i){if(t)return e(t);n(i)})})},define.classMethod(\"ping\",{callback:!0,promise:!0}),Admin.prototype.authenticate=function(n,e,t,i){console.warn(\"Admin.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\");var r=[this.s.db];return\"string\"==typeof n&&r.push(n),\"string\"==typeof e&&r.push(e),\"function\"==typeof t?(r.push({authdb:\"admin\"}),r.push(t)):r.push(assign({},t,{authdb:\"admin\"})),\"function\"==typeof i&&r.push(i),authenticate.apply(this.s.db,r)},define.classMethod(\"authenticate\",{callback:!0,promise:!0}),Admin.prototype.logout=function(n){var e=this;return\"function\"==typeof n?this.s.db.logout({dbName:\"admin\"},n):new this.s.promiseLibrary(function(n,t){e.s.db.logout({dbName:\"admin\"},function(e){if(e)return t(e);n(!0)})})},define.classMethod(\"logout\",{callback:!0,promise:!0});var writeConcern=function(n,e){return(n=shallowClone(n)).w||n.wtimeout||n.j||n.fsync?n:(e.writeConcern&&(n.w&&(n.w=e.writeConcern.w),n.wtimeout&&(n.wtimeout=e.writeConcern.wtimeout),n.j&&(n.j=e.writeConcern.j),n.fsync&&(n.fsync=e.writeConcern.fsync)),n)};Admin.prototype.addUser=function(n,e,t,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),t=o.length?o.shift():{},t=t||{},t=writeConcern(t,r.s.db),t.dbName=\"admin\",\"function\"==typeof i?r.s.db.addUser(n,e,t,i):new this.s.promiseLibrary(function(i,o){r.s.db.addUser(n,e,t,function(n,e){if(n)return o(n);i(e)})})},define.classMethod(\"addUser\",{callback:!0,promise:!0}),Admin.prototype.removeUser=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},e=e||{},e=writeConcern(e,i.s.db),e.dbName=\"admin\",\"function\"==typeof t?i.s.db.removeUser(n,e,t):new this.s.promiseLibrary(function(t,r){i.s.db.removeUser(n,e,function(n,e){if(n)return r(n);t(e)})})},define.classMethod(\"removeUser\",{callback:!0,promise:!0}),Admin.prototype.setProfilingLevel=function(n,e){var t=this;return\"function\"==typeof e?setProfilingLevel(t,n,e):new this.s.promiseLibrary(function(e,i){setProfilingLevel(t,n,function(n,t){if(n)return i(n);e(t)})})};var setProfilingLevel=function(n,e,t){var i={},r=0;if(\"off\"==e)r=0;else if(\"slow_only\"==e)r=1;else{if(\"all\"!=e)return t(new Error(\"Error: illegal profiling level value \"+e));r=2}i.profile=r,n.s.db.executeDbAdminCommand(i,function(n,i){return null==n&&1===i.ok?t(null,e):t(null!=n?n:new Error(\"Error with profile command\"),null)})};define.classMethod(\"setProfilingLevel\",{callback:!0,promise:!0}),Admin.prototype.profilingInfo=function(n){var e=this;return\"function\"==typeof n?profilingInfo(e,n):new this.s.promiseLibrary(function(n,t){profilingInfo(e,function(e,i){if(e)return t(e);n(i)})})};var profilingInfo=function(n,e){try{n.s.topology.cursor(\"admin.system.profile\",{find:\"system.profile\",query:{}},{}).toArray(e)}catch(n){return e(n,null)}};define.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),Admin.prototype.validateCollection=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},e=e||{},\"function\"==typeof t?validateCollection(i,n,e,t):new this.s.promiseLibrary(function(t,r){validateCollection(i,n,e,function(n,e){if(n)return r(n);t(e)})})};var validateCollection=function(n,e,t,i){for(var r={validate:e},o=Object.keys(t),l=0;l<o.length;l++)t.hasOwnProperty(o[l])&&(r[o[l]]=t[o[l]]);n.s.db.command(r,function(n,t){return null!=n?i(n,null):0===t.ok?i(new Error(\"Error with validate command\"),null):null!=t.result&&t.result.constructor!=String?i(new Error(\"Error with validation data\"),null):null!=t.result&&null!=t.result.match(/exception|corrupt/)?i(new Error(\"Error: invalid collection \"+e),null):null==t.valid||t.valid?i(null,t):i(new Error(\"Error: invalid collection \"+e),null)})};define.classMethod(\"validateCollection\",{callback:!0,promise:!0}),Admin.prototype.listDatabases=function(n){var e=this;return\"function\"==typeof n?e.s.db.executeDbAdminCommand({listDatabases:1},{},n):new this.s.promiseLibrary(function(n,t){e.s.db.executeDbAdminCommand({listDatabases:1},{},function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"listDatabases\",{callback:!0,promise:!0}),Admin.prototype.replSetGetStatus=function(n){var e=this;return\"function\"==typeof n?replSetGetStatus(e,n):new this.s.promiseLibrary(function(n,t){replSetGetStatus(e,function(e,i){if(e)return t(e);n(i)})})};var replSetGetStatus=function(n,e){n.s.db.executeDbAdminCommand({replSetGetStatus:1},function(n,t){return null==n&&1===t.ok?e(null,t):n?e(n,!1):void e(toError(t),!1)})};define.classMethod(\"replSetGetStatus\",{callback:!0,promise:!0}),module.exports=Admin;","node_modules/mongodb/lib/db.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,authenticate=require(\"./authenticate\"),inherits=require(\"util\").inherits,getSingleProperty=require(\"./utils\").getSingleProperty,shallowClone=require(\"./utils\").shallowClone,parseIndexOptions=require(\"./utils\").parseIndexOptions,debugOptions=require(\"./utils\").debugOptions,CommandCursor=require(\"./command_cursor\"),handleCallback=require(\"./utils\").handleCallback,filterOptions=require(\"./utils\").filterOptions,toError=require(\"./utils\").toError,ReadPreference=require(\"./read_preference\"),f=require(\"util\").format,Admin=require(\"./admin\"),Code=require(\"mongodb-core\").BSON.Code,CoreReadPreference=require(\"mongodb-core\").ReadPreference,MongoError=require(\"mongodb-core\").MongoError,ObjectID=require(\"mongodb-core\").ObjectID,Define=require(\"./metadata\"),Logger=require(\"mongodb-core\").Logger,Collection=require(\"./collection\"),crypto=require(\"crypto\"),mergeOptionsAndWriteConcern=require(\"./utils\").mergeOptionsAndWriteConcern,assign=require(\"./utils\").assign,debugFields=[\"authSource\",\"w\",\"wtimeout\",\"j\",\"native_parser\",\"forceServerObjectId\",\"serializeFunctions\",\"raw\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"bufferMaxEntries\",\"numberOfRetries\",\"retryMiliSeconds\",\"readPreference\",\"pkFactory\",\"parentDb\",\"promiseLibrary\",\"noListener\"],illegalCommandFields=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"autoIndexId\",\"strict\",\"serializeFunctions\",\"pkFactory\",\"raw\",\"readPreference\"],legalOptionNames=[\"w\",\"wtimeout\",\"fsync\",\"j\",\"readPreference\",\"readPreferenceTags\",\"native_parser\",\"forceServerObjectId\",\"pkFactory\",\"serializeFunctions\",\"raw\",\"bufferMaxEntries\",\"authSource\",\"ignoreUndefined\",\"promoteLongs\",\"promiseLibrary\",\"readConcern\",\"retryMiliSeconds\",\"numberOfRetries\",\"parentDb\",\"noListener\",\"loggerLevel\",\"logger\",\"promoteBuffers\",\"promoteLongs\",\"promoteValues\"],Db=function(e,r,n){if(n=n||{},!(this instanceof Db))return new Db(e,r,n);EventEmitter.call(this);var o=n.promiseLibrary;o||(o=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),(n=filterOptions(n,legalOptionNames)).promiseLibrary=o,this.s={databaseName:e,dbCache:{},children:[],topology:r,options:n,logger:Logger(\"Db\",n),bson:r?r.bson:null,authSource:n.authSource,readPreference:n.readPreference,bufferMaxEntries:\"number\"==typeof n.bufferMaxEntries?n.bufferMaxEntries:-1,parentDb:n.parentDb||null,pkFactory:n.pkFactory||ObjectID,nativeParser:n.nativeParser||n.native_parser,promiseLibrary:o,noListener:\"boolean\"==typeof n.noListener&&n.noListener,readConcern:n.readConcern},validateDatabaseName(this.s.databaseName),getSingleProperty(this,\"serverConfig\",this.s.topology),getSingleProperty(this,\"bufferMaxEntries\",this.s.bufferMaxEntries),getSingleProperty(this,\"databaseName\",this.s.databaseName),n.parentDb||this.s.noListener||(r.on(\"error\",createListener(this,\"error\",this)),r.on(\"timeout\",createListener(this,\"timeout\",this)),r.on(\"close\",createListener(this,\"close\",this)),r.on(\"parseError\",createListener(this,\"parseError\",this)),r.once(\"open\",createListener(this,\"open\",this)),r.once(\"fullsetup\",createListener(this,\"fullsetup\",this)),r.once(\"all\",createListener(this,\"all\",this)),r.on(\"reconnect\",createListener(this,\"reconnect\",this)),r.on(\"reconnectFailed\",createListener(this,\"reconnectFailed\",this)))};inherits(Db,EventEmitter);var define=Db.define=new Define(\"Db\",Db,!1);Object.defineProperty(Db.prototype,\"topology\",{enumerable:!0,get:function(){return this.s.topology}}),Object.defineProperty(Db.prototype,\"options\",{enumerable:!0,get:function(){return this.s.options}}),Object.defineProperty(Db.prototype,\"slaveOk\",{enumerable:!0,get:function(){return null!=this.s.options.readPreference&&(\"primary\"!=this.s.options.readPreference||\"primary\"!=this.s.options.readPreference.mode)}}),Object.defineProperty(Db.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}});var open=function(e,r){e.s.topology.connect(e,e.s.options,function(n){if(null!=r){var o=r;if(n)return e.close(),o(n);o(null,e)}})};Db.prototype.open=function(e){var r=this;return\"function\"==typeof e?open(r,e):new r.s.promiseLibrary(function(e,n){open(r,function(r,o){if(r)return n(r);e(o)})})},define.classMethod(\"open\",{callback:!0,promise:!0});var convertReadPreference=function(e){if(e&&\"string\"==typeof e)return new CoreReadPreference(e);if(e instanceof ReadPreference)return new CoreReadPreference(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds});if(e&&\"object\"==typeof e){var r=e.mode||e.preference;r&&\"string\"==typeof r&&(e=new CoreReadPreference(r,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}))}return e},executeCommand=function(e,r,n,o){if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var t=n.dbName||n.authdb||e.s.databaseName;null==n.readPreference&&e.s.readPreference&&(n.readPreference=e.s.readPreference),n.readPreference?n.readPreference=convertReadPreference(n.readPreference):n.readPreference=CoreReadPreference.primary,e.s.logger.isDebug()&&e.s.logger.debug(f(\"executing command %s against %s with options [%s]\",JSON.stringify(r),f(\"%s.$cmd\",t),JSON.stringify(debugOptions(debugFields,n)))),e.s.topology.command(f(\"%s.$cmd\",t),r,n,function(e,r){return e?handleCallback(o,e):n.full?handleCallback(o,null,r):void handleCallback(o,null,r.result)})};Db.prototype.command=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=shallowClone(r),\"function\"==typeof n?executeCommand(o,e,r,n):new this.s.promiseLibrary(function(n,t){executeCommand(o,e,r,function(e,r){if(e)return t(e);n(r)})})},define.classMethod(\"command\",{callback:!0,promise:!0}),Db.prototype.close=function(e,r){\"function\"==typeof e&&(r=e,e=!1),this.s.topology.close(e);if(this.listeners(\"close\").length>0){if(this.emit(\"close\"),null==this.parentDb)for(var n=0;n<this.s.children.length;n++)this.s.children[n].emit(\"close\");this.removeAllListeners(\"close\")}return this.s.parentDb&&this.s.parentDb.close(),\"function\"==typeof r?process.nextTick(function(){handleCallback(r,null)}):new this.s.promiseLibrary(function(e){e()})},define.classMethod(\"close\",{callback:!0,promise:!0}),Db.prototype.admin=function(){return new Admin(this,this.s.topology,this.s.promiseLibrary)},define.classMethod(\"admin\",{callback:!1,promise:!1,returns:[Admin]});var collectionKeys=[\"pkFactory\",\"readPreference\",\"serializeFunctions\",\"strict\",\"readConcern\",\"ignoreUndefined\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\"];Db.prototype.collection=function(e,r,n){var o=this;if(\"function\"==typeof r&&(n=r,r={}),r=r||{},r=shallowClone(r),r.promiseLibrary=this.s.promiseLibrary,r.readConcern=r.readConcern||this.s.readConcern,this.s.options.ignoreUndefined&&(r.ignoreUndefined=this.s.options.ignoreUndefined),null==(r=mergeOptionsAndWriteConcern(r,this.s.options,collectionKeys,!0))||!r.strict)try{var t=new Collection(this,this.s.topology,this.s.databaseName,e,this.s.pkFactory,r);return n&&n(null,t),t}catch(e){if(n)return n(e);throw e}if(\"function\"!=typeof n)throw toError(f(\"A callback is required in strict mode. While getting collection %s.\",e));if(o.serverConfig&&o.serverConfig.isDestroyed())return n(new MongoError(\"topology was destroyed\"));this.listCollections({name:e},r).toArray(function(t,a){if(null!=t)return handleCallback(n,t,null);if(0==a.length)return handleCallback(n,toError(f(\"Collection %s does not exist. Currently in strict mode.\",e)),null);try{return handleCallback(n,null,new Collection(o,o.s.topology,o.s.databaseName,e,o.s.pkFactory,r))}catch(t){return handleCallback(n,t,null)}})},define.classMethod(\"collection\",{callback:!0,promise:!1,returns:[Collection]});function decorateWithWriteConcern(e,r,n){if(r.s.topology.capabilities().commandsTakeWriteConcern){var o=writeConcern(shallowClone(n),r,n);o.writeConcern&&(e.writeConcern=o.writeConcern)}}var createCollection=function(e,r,n,o){var t=writeConcern(shallowClone(n),e,n);if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));e.listCollections({name:r}).setReadPreference(ReadPreference.PRIMARY).toArray(function(a,i){if(null!=a)return handleCallback(o,a,null);if(i.length>0&&t.strict)return handleCallback(o,MongoError.create({message:f(\"Collection %s already exists. Currently in strict mode.\",r),driver:!0}),null);if(i.length>0)try{return handleCallback(o,null,new Collection(e,e.s.topology,e.s.databaseName,r,e.s.pkFactory,n))}catch(a){return handleCallback(o,a)}var s={create:r};decorateWithWriteConcern(s,e,n);for(var l in n)null!=n[l]&&\"function\"!=typeof n[l]&&-1==illegalCommandFields.indexOf(l)&&(s[l]=n[l]);t.readPreference=ReadPreference.PRIMARY,e.command(s,t,function(t){if(t)return handleCallback(o,t);handleCallback(o,null,new Collection(e,e.s.topology,e.s.databaseName,r,e.s.pkFactory,n))})})};Db.prototype.createCollection=function(e,r,n){var o=this,t=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=t.pop())&&t.push(n),e=t.length?t.shift():null,r=t.length?t.shift()||{}:{},r.promiseLibrary=r.promiseLibrary||this.s.promiseLibrary,\"string\"==typeof n&&(e=n),\"function\"==typeof n?createCollection(o,e,r,n):new this.s.promiseLibrary(function(n,t){createCollection(o,e,r,function(e,r){if(e)return t(e);n(r)})})},define.classMethod(\"createCollection\",{callback:!0,promise:!0}),Db.prototype.stats=function(e,r){\"function\"==typeof e&&(r=e,e={});var n={dbStats:!0};return null!=(e=e||{}).scale&&(n.scale=e.scale),null==e.readPreference&&this.s.readPreference&&(e.readPreference=this.s.readPreference),this.command(n,e,r)},define.classMethod(\"stats\",{callback:!0,promise:!0});var listCollectionsTranforms=function(e){var r=f(\"%s.\",e);return{doc:function(e){var n=e.name.indexOf(r);return e.name&&0==n&&(e.name=e.name.substr(n+r.length)),e}}};Db.prototype.listCollections=function(e,r){if(e=e||{},r=r||{},r=shallowClone(r),r.promiseLibrary=this.s.promiseLibrary,r.readPreference&&(r.readPreference=convertReadPreference(r.readPreference)),this.serverConfig.capabilities().hasListCollectionsCommand){var n=r.batchSize?{batchSize:r.batchSize}:{},o={listCollections:!0,filter:e,cursor:n};return r.cursorFactory=CommandCursor,n=this.s.topology.cursor(f(\"%s.$cmd\",this.s.databaseName),o,r),r.readPreference&&n.setReadPreference(r.readPreference),n}this.serverConfig.capabilities().hasListCollectionsCommand||\"string\"!=typeof e.name||new RegExp(\"^\"+this.databaseName+\"\\\\.\").test(e.name)||((e=shallowClone(e)).name=f(\"%s.%s\",this.s.databaseName,e.name)),null==e&&(e.name=f(\"/%s/\",this.s.databaseName)),e=e.name?{$and:[{name:e.name},{name:/^((?!\\$).)*$/}]}:{name:/^((?!\\$).)*$/};var t={transforms:listCollectionsTranforms(this.s.databaseName)};return n=this.collection(Db.SYSTEM_NAMESPACE_COLLECTION).find(e,t),r.readPreference&&n.setReadPreference(r.readPreference),r.batchSize&&(n=n.batchSize(r.batchSize)),n},define.classMethod(\"listCollections\",{callback:!1,promise:!1,returns:[CommandCursor]});var evaluate=function(e,r,n,o,t){var a=r,i=[];if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));a&&\"Code\"==a._bsontype||(a=new Code(a)),null==n||Array.isArray(n)||\"function\"==typeof n?null!=n&&Array.isArray(n)&&\"function\"!=typeof n&&(i=n):i=[n];var s={$eval:a,args:i};o.nolock&&(s.nolock=o.nolock),o.readPreference=new CoreReadPreference(ReadPreference.PRIMARY),e.command(s,o,function(e,r){return e?handleCallback(t,e,null):r&&1==r.ok?handleCallback(t,null,r.retval):r?handleCallback(t,MongoError.create({message:f(\"eval failed: %s\",r.errmsg),driver:!0}),null):void handleCallback(t,e,r)})};Db.prototype.eval=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(o=a.pop())&&a.push(o),r=a.length?a.shift():r,n=a.length?a.shift()||{}:{},\"function\"==typeof o?evaluate(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){evaluate(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"eval\",{callback:!0,promise:!0}),Db.prototype.renameCollection=function(e,r,n,o){var t=this;return\"function\"==typeof n&&(o=n,n={}),n=n||{},n.new_collection=!0,\"function\"==typeof o?this.collection(e).rename(r,n,o):new this.s.promiseLibrary(function(o,a){t.collection(e).rename(r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"renameCollection\",{callback:!0,promise:!0}),Db.prototype.dropCollection=function(e,r,n){var o=this;\"function\"==typeof r&&(n=r,r={});var t={drop:e};return decorateWithWriteConcern(t,o,r=r||{}),r=assign({},this.s.options,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof n?this.command(t,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):e?handleCallback(n,e):r.ok?handleCallback(n,null,!0):void handleCallback(n,null,!1)}):(r=shallowClone(o.s.options),r.readPreference=ReadPreference.PRIMARY,new this.s.promiseLibrary(function(e,n){o.command(t,r,function(r,t){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):r?n(r):t.ok?e(!0):void e(!1)})}))},define.classMethod(\"dropCollection\",{callback:!0,promise:!0}),Db.prototype.dropDatabase=function(e,r){var n=this;\"function\"==typeof e&&(r=e,e={});var o={dropDatabase:1};return decorateWithWriteConcern(o,n,e=e||{}),e=assign({},this.s.options,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof r?this.command(o,e,function(e,o){if(n.serverConfig&&n.serverConfig.isDestroyed())return r(new MongoError(\"topology was destroyed\"));if(null!=r)return e?handleCallback(r,e,null):void handleCallback(r,null,!!o.ok)}):new this.s.promiseLibrary(function(r,t){n.command(o,e,function(e,o){return n.serverConfig&&n.serverConfig.isDestroyed()?t(new MongoError(\"topology was destroyed\")):e?t(e):o.ok?r(!0):void r(!1)})})},define.classMethod(\"dropDatabase\",{callback:!0,promise:!0});var collections=function(e,r){e.listCollections().toArray(function(n,o){if(null!=n)return handleCallback(r,n,null);o=o.filter(function(e){return-1==e.name.indexOf(\"$\")}),handleCallback(r,null,o.map(function(r){return new Collection(e,e.s.topology,e.s.databaseName,r.name,e.s.pkFactory,e.s.options)}))})};Db.prototype.collections=function(e){var r=this;return\"function\"==typeof e?collections(r,e):new r.s.promiseLibrary(function(e,n){collections(r,function(r,o){if(r)return n(r);e(o)})})},define.classMethod(\"collections\",{callback:!0,promise:!0}),Db.prototype.executeDbAdminCommand=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=r||{},\"function\"==typeof n?(r.readPreference&&(r.readPreference=convertReadPreference(r.readPreference)),o.s.topology.command(\"admin.$cmd\",e,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):e?handleCallback(n,e):void handleCallback(n,null,r.result)})):new o.s.promiseLibrary(function(n,t){o.s.topology.command(\"admin.$cmd\",e,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?t(new MongoError(\"topology was destroyed\")):e?t(e):void n(r.result)})})},define.classMethod(\"executeDbAdminCommand\",{callback:!0,promise:!0}),Db.prototype.createIndex=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=a.pop())&&a.push(o),n=a.length?a.shift()||{}:{},n=\"function\"==typeof o?n:o,n=null==n?{}:n,n=shallowClone(n),\"function\"==typeof o?createIndex(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){createIndex(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})};var createIndex=function(e,r,n,o,t){var a=writeConcern({},e,o,{readPreference:ReadPreference.PRIMARY});if(a.writeConcern&&\"function\"!=typeof t)throw MongoError.create({message:\"Cannot use a writeConcern without a provided callback\",driver:!0});if(o.readPreference=ReadPreference.PRIMARY,e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));createIndexUsingCreateIndexes(e,r,n,o,function(i,s){if(null==i)return handleCallback(t,i,s);if(67===i.code||11e3==i.code||85===i.code||11600==i.code)return handleCallback(t,i,s);var l=createCreateIndexCommand(e,r,n,o);a.checkKeys=!1,e.s.topology.insert(f(\"%s.%s\",e.s.databaseName,Db.SYSTEM_INDEX_COLLECTION),l,a,function(e,r){if(null!=t)return e?handleCallback(t,e):null==r?handleCallback(t,null,null):r.result.writeErrors?handleCallback(t,MongoError.create(r.result.writeErrors[0]),null):void handleCallback(t,null,l.name)})})};define.classMethod(\"createIndex\",{callback:!0,promise:!0}),Db.prototype.ensureIndex=function(e,r,n,o){var t=this;return\"function\"==typeof n&&(o=n,n={}),n=n||{},\"function\"==typeof o?ensureIndex(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){ensureIndex(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})};var ensureIndex=function(e,r,n,o,t){var a=writeConcern({},e,o),i=createCreateIndexCommand(e,r,n,o).name;if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));a.readPreference=ReadPreference.PRIMARY,e.indexInformation(r,a,function(a,s){if(null!=a&&26!=a.code)return handleCallback(t,a,null);if(null!=s&&s[i]){if(\"function\"==typeof t)return handleCallback(t,null,i)}else e.createIndex(r,n,o,t)})};define.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),Db.prototype.addChild=function(e){if(this.s.parentDb)return this.s.parentDb.addChild(e);this.s.children.push(e)},Db.prototype.db=function(e,r){r=r||{};var n=assign({},this.options,r);if(this.s.dbCache[e]&&!0!==n.returnNonCachedInstance)return this.s.dbCache[e];null!=n.noListener&&0!=n.noListener||(n.parentDb=this),n.promiseLibrary=this.s.promiseLibrary;var o=new Db(e,this.s.topology,n);return null!=n.noListener&&0!=n.noListener||this.addChild(o),this.s.dbCache[e]=o,o},define.classMethod(\"db\",{callback:!1,promise:!1,returns:[Db]});var _executeAuthCreateUserCommand=function(e,r,n,o,t){if(\"string\"==typeof r&&null!=n&&\"object\"==typeof n&&(o=n,n=null),\"function\"==typeof o&&(t=o,o={}),null!=o.digestPassword)throw toError(\"The digestPassword option is not supported via add_user. Please use db.command('createUser', ...) instead for this option.\");var a=null!=o.customData?o.customData:{},i=Array.isArray(o.roles)?o.roles:[],s=\"number\"==typeof o.maxTimeMS?o.maxTimeMS:null;0==i.length&&console.log(\"Creating a user without roles is deprecated in MongoDB >= 2.6\");var l={writeCommand:!0};o.dbName&&(l.dbName=o.dbName),null!=s&&(l.maxTimeMS=s),\"admin\"!=e.databaseName.toLowerCase()&&\"admin\"!=o.dbName||Array.isArray(o.roles)?Array.isArray(o.roles)||(i=[\"dbOwner\"]):i=[\"root\"];var c={createUser:r,customData:a,roles:i,digestPassword:!1};c=writeConcern(c,e,o);var d=crypto.createHash(\"md5\");d.update(r+\":mongo:\"+n);var u=d.digest(\"hex\");\"string\"==typeof n&&(c.pwd=u),l.readPreference=ReadPreference.primary,e.command(c,l,function(e,n){return e&&0==e.ok&&void 0==e.code?handleCallback(t,{code:-5e3},null):e?handleCallback(t,e,null):void handleCallback(t,n.ok?null:toError(n),n.ok?[{user:r,pwd:\"\"}]:null)})},addUser=function(e,r,n,o,t){if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));_executeAuthCreateUserCommand(e,r,n,o,function(a,i){if(a&&-5e3==a.code){var s=writeConcern(shallowClone(o),e,o),l=crypto.createHash(\"md5\");l.update(r+\":mongo:\"+n);var c=l.digest(\"hex\"),d=(o.dbName?e.db(o.dbName):e).collection(Db.SYSTEM_USER_COLLECTION);d.count({},function(e,n){if(null!=e)return handleCallback(t,e,null);d.find({user:r},{dbName:o.dbName}).toArray(function(e){if(null!=e)return handleCallback(t,e,null);s.upsert=!0,d.update({user:r},{$set:{user:r,pwd:c}},s,function(e){return 0==n&&e?handleCallback(t,null,[{user:r,pwd:c}]):e?handleCallback(t,e,null):void handleCallback(t,null,[{user:r,pwd:c}])})})})}else{if(a)return handleCallback(t,a);handleCallback(t,a,i)}})};Db.prototype.addUser=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=a.pop())&&a.push(o),n=a.length?a.shift()||{}:{},\"function\"==typeof o?addUser(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){addUser(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"addUser\",{callback:!0,promise:!0});var _executeAuthRemoveUserCommand=function(e,r,n,o){if(\"function\"==typeof n&&(o=n,n={}),e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var t={writeCommand:!0};n.dbName&&(t.dbName=n.dbName);var a=\"number\"==typeof n.maxTimeMS?n.maxTimeMS:null;null!=a&&(t.maxTimeMS=a);var i={dropUser:r};i=writeConcern(i,e,n),t.readPreference=ReadPreference.primary,e.command(i,t,function(e,r){return e&&!e.ok&&void 0==e.code?handleCallback(o,{code:-5e3}):e?handleCallback(o,e,null):void handleCallback(o,null,!!r.ok)})},removeUser=function(e,r,n,o){_executeAuthRemoveUserCommand(e,r,n,function(t,a){if(t&&-5e3==t.code){var i=writeConcern(shallowClone(n),e,n),s=(n.dbName?e.db(n.dbName):e).collection(Db.SYSTEM_USER_COLLECTION);s.findOne({user:r},{},function(e,n){if(null==n)return handleCallback(o,e,!1);s.remove({user:r},i,function(e){handleCallback(o,e,!0)})})}else{if(t)return handleCallback(o,t);handleCallback(o,t,a)}})};define.classMethod(\"removeUser\",{callback:!0,promise:!0}),Db.prototype.removeUser=function(e,r,n){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=t.pop())&&t.push(n),r=t.length?t.shift()||{}:{},\"function\"==typeof n?removeUser(o,e,r,n):new this.s.promiseLibrary(function(n,t){removeUser(o,e,r,function(e,r){if(e)return t(e);n(r)})})},Db.prototype.authenticate=function(e,r,n,o){return console.warn(\"Db.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\"),authenticate.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},define.classMethod(\"authenticate\",{callback:!0,promise:!0}),Db.prototype.logout=function(e,r){var n=this;\"function\"==typeof e&&(r=e,e={}),e=e||{};var o=this.s.authSource?this.s.authSource:this.s.databaseName;return o=e.dbName?e.dbName:o,\"function\"==typeof r?n.s.topology.logout(o,function(e){if(e)return r(e);r(null,!0)}):new this.s.promiseLibrary(function(e,r){n.s.topology.logout(o,function(n){if(n)return r(n);e(!0)})})},define.classMethod(\"logout\",{callback:!0,promise:!0}),Db.prototype.indexInformation=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=r||{},\"function\"==typeof n?indexInformation(o,e,r,n):new this.s.promiseLibrary(function(n,t){indexInformation(o,e,r,function(e,r){if(e)return t(e);n(r)})})};var indexInformation=function(e,r,n,o){var t=null!=n.full&&n.full;if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));e.collection(r).listIndexes(n).toArray(function(e,r){return e?o(toError(e)):Array.isArray(r)?t?handleCallback(o,null,r):void handleCallback(o,null,function(e){for(var r={},n=0;n<e.length;n++){var o=e[n];r[o.name]=[];for(var t in o.key)r[o.name].push([t,o.key[t]])}return r}(r)):handleCallback(o,null,[])})};define.classMethod(\"indexInformation\",{callback:!0,promise:!0});var createCreateIndexCommand=function(e,r,n,o){var t=parseIndexOptions(n),a=t.fieldHash,i=\"string\"==typeof o.name?o.name:t.name,s={ns:e.databaseName+\".\"+r,key:a,name:i},l=null!=o&&\"object\"!=typeof o&&o;o=null==o||\"boolean\"==typeof o?{}:o;var c=Object.keys(s);for(var d in o)-1==c.indexOf(d)&&(s[d]=o[d]);null==s.unique&&(s.unique=l);for(var u=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],f=0;f<u.length;f++)delete s[u[f]];return s},createIndexUsingCreateIndexes=function(e,r,n,o,t){var a=parseIndexOptions(n),i=\"string\"==typeof o.name?o.name:a.name,s=[{name:i,key:a.fieldHash}],l=Object.keys(s[0]);for(var c in o){-1==l.indexOf(c)&&(s[0][c]=o[c]);for(var d=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],u=0;u<d.length;u++)delete s[0][d[u]]}var p=e.s.topology.capabilities();if(s[0].collation&&p&&!p.commandsTakeCollation){var m=new MongoError(f(\"server/primary/mongos does not support collation\"));return m.code=67,t(m)}var h=writeConcern({createIndexes:r,indexes:s},e,o);decorateWithWriteConcern(h,e,o),o.readPreference=ReadPreference.PRIMARY,e.command(h,o,function(e,r){return e?handleCallback(t,e,null):0==r.ok?handleCallback(t,toError(r),null):void handleCallback(t,null,i)})},validateDatabaseName=function(e){if(\"string\"!=typeof e)throw MongoError.create({message:\"database name must be a string\",driver:!0});if(0===e.length)throw MongoError.create({message:\"database name cannot be the empty string\",driver:!0});if(\"$external\"!=e)for(var r=[\" \",\".\",\"$\",\"/\",\"\\\\\"],n=0;n<r.length;n++)if(-1!=e.indexOf(r[n]))throw MongoError.create({message:\"database names cannot contain the character '\"+r[n]+\"'\",driver:!0})},writeConcern=function(e,r,n){if(null!=n.w||null!=n.j||null!=n.fsync){var o={};n.w&&(o.w=n.w),n.wtimeout&&(o.wtimeout=n.wtimeout),n.j&&(o.j=n.j),n.fsync&&(o.fsync=n.fsync),e.writeConcern=o}else null==r.writeConcern.w&&null==r.writeConcern.j&&null==r.writeConcern.fsync||(e.writeConcern=r.writeConcern);return e},createListener=function(e,r,n){return function(o){if(n.listeners(r).length>0){n.emit(r,o,e);for(var t=0;t<e.s.children.length;t++)e.s.children[t].emit(r,o,e.s.children[t])}}};Db.prototype.unref=function(){this.s.topology.unref()},Db.SYSTEM_NAMESPACE_COLLECTION=\"system.namespaces\",Db.SYSTEM_INDEX_COLLECTION=\"system.indexes\",Db.SYSTEM_PROFILE_COLLECTION=\"system.profile\",Db.SYSTEM_USER_COLLECTION=\"system.users\",Db.SYSTEM_COMMAND_COLLECTION=\"$cmd\",Db.SYSTEM_JS_COLLECTION=\"system.js\",module.exports=Db;","node_modules/mongodb/lib/collection.js":"\"use strict\";var checkCollectionName=require(\"./utils\").checkCollectionName,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Long=require(\"mongodb-core\").BSON.Long,Code=require(\"mongodb-core\").BSON.Code,f=require(\"util\").format,AggregationCursor=require(\"./aggregation_cursor\"),MongoError=require(\"mongodb-core\").MongoError,shallowClone=require(\"./utils\").shallowClone,isObject=require(\"./utils\").isObject,toError=require(\"./utils\").toError,normalizeHintField=require(\"./utils\").normalizeHintField,handleCallback=require(\"./utils\").handleCallback,decorateCommand=require(\"./utils\").decorateCommand,formattedOrderClause=require(\"./utils\").formattedOrderClause,ReadPreference=require(\"./read_preference\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,CommandCursor=require(\"./command_cursor\"),Define=require(\"./metadata\"),Cursor=require(\"./cursor\"),unordered=require(\"./bulk/unordered\"),ordered=require(\"./bulk/ordered\"),assign=require(\"./utils\").assign,mergeKeys=[\"readPreference\",\"ignoreUndefined\"],Collection=function(e,n,r,o,t,i){checkCollectionName(o);var l=null==i||null==i.slaveOk?e.slaveOk:i.slaveOk,a=null==i||null==i.serializeFunctions?e.s.options.serializeFunctions:i.serializeFunctions,s=null==i||null==i.raw?e.s.options.raw:i.raw,c=null==i||null==i.promoteLongs?e.s.options.promoteLongs:i.promoteLongs,u=null==i||null==i.promoteValues?e.s.options.promoteValues:i.promoteValues,d=null==i||null==i.promoteBuffers?e.s.options.promoteBuffers:i.promoteBuffers,p=null,h=f(\"%s.%s\",r,o),m=i.promiseLibrary;m||(m=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),i&&i.readPreference?p=i.readPreference:e.options.readPreference&&(p=e.options.readPreference),t=null==t?ObjectID:t,this.s={pkFactory:t,db:e,topology:n,dbName:r,options:i,namespace:h,readPreference:p,slaveOk:l,serializeFunctions:a,raw:s,promoteLongs:c,promoteValues:u,promoteBuffers:d,internalHint:null,collectionHint:null,name:o,promiseLibrary:m,readConcern:i.readConcern}},define=Collection.define=new Define(\"Collection\",Collection,!1);Object.defineProperty(Collection.prototype,\"collectionName\",{enumerable:!0,get:function(){return this.s.name}}),Object.defineProperty(Collection.prototype,\"namespace\",{enumerable:!0,get:function(){return this.s.namespace}}),Object.defineProperty(Collection.prototype,\"readConcern\",{enumerable:!0,get:function(){return this.s.readConcern||{level:\"local\"}}}),Object.defineProperty(Collection.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}}),Object.defineProperty(Collection.prototype,\"hint\",{enumerable:!0,get:function(){return this.s.collectionHint},set:function(e){this.s.collectionHint=normalizeHintField(e)}}),Collection.prototype.find=function(){var e,n=Array.prototype.slice.call(arguments,0),r=\"function\"==typeof n[n.length-1],o=\"function\"==typeof n[0],t=r?n.pop():o?n.shift():null,i=n.length,l=i>=1?n[0]:{},a=i>=2?n[1]:void 0;if(1===i&&o&&(l={},e=n[0]),2!==i||void 0===a||Array.isArray(a)){if(2===i&&Array.isArray(a)&&!Array.isArray(a[0])){var s={};for(d=0;d<a.length;d++)s[a[d]]=1;a=s}}else{for(var c=Object.keys(a),u=!1,d=0;d<c.length;d++)if(null!=testForFields[c[d]]){u=!0;break}u?(e=a,a=void 0):e={}}3===i&&(e=n[2]);var f=l=null==l?{}:l;if(Buffer.isBuffer(f)){var p=f[0]|f[1]<<8|f[2]<<16|f[3]<<24;if(p!=f.length){var h=new Error(\"query selector raw message size does not match message header size [\"+f.length+\"] != [\"+p+\"]\");throw h.name=\"MongoError\",h}}if(f=a,Buffer.isBuffer(f)&&(p=f[0]|f[1]<<8|f[2]<<16|f[3]<<24)!=f.length)throw h=new Error(\"query fields raw message size does not match message header size [\"+f.length+\"] != [\"+p+\"]\"),h.name=\"MongoError\",h;if(null!=l&&\"ObjectID\"==l._bsontype&&(l={_id:l}),e&&e.fields&&!Buffer.isBuffer(e.fields))if(a={},Array.isArray(e.fields))if(e.fields.length){var m=e.fields.length;for(d=0;d<m;d++)a[e.fields[d]]=1}else a._id=1;else a=e.fields;e||(e={});var y={};for(var b in this.s.options)-1!=mergeKeys.indexOf(b)&&(y[b]=this.s.options[b]);for(var b in e)y[b]=e[b];if(y.skip=i>3?n[2]:e.skip?e.skip:0,y.limit=i>3?n[3]:e.limit?e.limit:0,y.raw=null!=e.raw&&\"boolean\"==typeof e.raw?e.raw:this.s.raw,y.hint=null!=e.hint?normalizeHintField(e.hint):this.s.collectionHint,y.timeout=5==i?n[4]:void 0===e.timeout?void 0:e.timeout,y.slaveOk=null!=e.slaveOk?e.slaveOk:this.s.db.slaveOk,null==(y=getReadPreference(this,y,this.s.db,this)).readPreference||\"primary\"==y.readPreference&&\"primary\"==y.readPreference.mode||(y.slaveOk=!0),null!=l&&\"object\"!=typeof l)throw MongoError.create({message:\"query selector must be an object\",driver:!0});var C={find:this.s.namespace,limit:y.limit,skip:y.skip,query:l};\"boolean\"==typeof y.awaitdata&&(y.awaitData=y.awaitdata),\"boolean\"==typeof y.timeout&&(y.noCursorTimeout=y.timeout);for(var g in y)null!=y[g]&&(C[g]=y[g]);return a&&(C.fields=function(e){var n={};if(Array.isArray(e))for(var r=0;r<e.length;r++)Array.isArray(e[r])?n[e[r][0]]=e[r][1]:n[e[r][0]]=1;else n=e;return n}(a)),y.db=this.s.db,y.promiseLibrary=this.s.promiseLibrary,null==y.raw&&\"boolean\"==typeof this.s.raw&&(y.raw=this.s.raw),null==y.promoteLongs&&\"boolean\"==typeof this.s.promoteLongs&&(y.promoteLongs=this.s.promoteLongs),null==y.promoteValues&&\"boolean\"==typeof this.s.promoteValues&&(y.promoteValues=this.s.promoteValues),null==y.promoteBuffers&&\"boolean\"==typeof this.s.promoteBuffers&&(y.promoteBuffers=this.s.promoteBuffers),C.sort&&(C.sort=formattedOrderClause(C.sort)),this.s.readConcern&&(C.readConcern=this.s.readConcern),decorateWithCollation(C,this,e),\"function\"==typeof t?handleCallback(t,null,this.s.topology.cursor(this.s.namespace,C,y)):this.s.topology.cursor(this.s.namespace,C,y)},define.classMethod(\"find\",{callback:!1,promise:!1,returns:[Cursor]}),Collection.prototype.insertOne=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},Array.isArray(e)&&\"function\"==typeof r?r(MongoError.create({message:\"doc parameter must be an object\",driver:!0})):Array.isArray(e)?new this.s.promiseLibrary(function(e,n){n(MongoError.create({message:\"doc parameter must be an object\",driver:!0}))}):(this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?insertOne(o,e,n,r):new this.s.promiseLibrary(function(r,t){insertOne(o,e,n,function(e,n){if(e)return t(e);r(n)})}))};var insertOne=function(e,n,r,o){insertDocuments(e,[n],r,function(e,r){if(null!=o){if(e&&o)return o(e);if(null==r)return o(null,{result:{ok:1}});r.insertedCount=r.result.n,r.insertedId=n._id,o&&o(null,r)}})},mapInsertManyResults=function(e,n){for(var r=n.getInsertedIds(),o=Object.keys(r),t=new Array(o.length),i=0;i<o.length;i++)r[o[i]]._id&&(t[r[o[i]].index]=r[o[i]]._id);var l={result:{ok:1,n:n.insertedCount},ops:e,insertedCount:n.insertedCount,insertedIds:t};return n.getLastOp()&&(l.result.opTime=n.getLastOp()),l};define.classMethod(\"insertOne\",{callback:!0,promise:!0}),Collection.prototype.insertMany=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n?shallowClone(n):{ordered:!0},!Array.isArray(e)&&\"function\"==typeof r)return r(MongoError.create({message:\"docs parameter must be an array of documents\",driver:!0}));if(!Array.isArray(e))return new this.s.promiseLibrary(function(e,n){n(MongoError.create({message:\"docs parameter must be an array of documents\",driver:!0}))});\"boolean\"!=typeof n.checkKeys&&(n.checkKeys=!0),n.serializeFunctions=n.serializeFunctions||o.s.serializeFunctions;if(!0!==(\"boolean\"==typeof n.forceServerObjectId?n.forceServerObjectId:o.s.db.options.forceServerObjectId))for(var t=0;t<e.length;t++)null==e[t]._id&&(e[t]._id=o.s.pkFactory.createPk());var i=[{insertMany:e}];return\"function\"==typeof r?bulkWrite(o,i,n,function(n,o){if(n)return r(n,o);r(null,mapInsertManyResults(e,o))}):new this.s.promiseLibrary(function(r,t){bulkWrite(o,i,n,function(n,o){if(n)return t(n);r(mapInsertManyResults(e,o))})})},define.classMethod(\"insertMany\",{callback:!0,promise:!0}),Collection.prototype.bulkWrite=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n||{ordered:!0},!Array.isArray(e))throw MongoError.create({message:\"operations must be an array of documents\",driver:!0});return\"function\"==typeof r?bulkWrite(o,e,n,r):new this.s.promiseLibrary(function(r,t){bulkWrite(o,e,n,function(e,n){if(e&&null==n)return t(e);r(n)})})};var bulkWrite=function(e,n,r,o){e.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=e.s.options.ignoreUndefined);var t=1==r.ordered||null==r.ordered?e.initializeOrderedBulkOp(r):e.initializeUnorderedBulkOp(r),i=!1;try{for(var l=0;l<n.length;l++){var a=Object.keys(n[l])[0];n[l][a].collation&&(i=!0),t.raw(n[l])}}catch(e){return o(e,null)}var s=writeConcern(shallowClone(r),e.s.db,e,r),c=s.writeConcern?s.writeConcern:{},u=e.s.topology.capabilities();if(i&&u&&!u.commandsTakeCollation)return o(new MongoError(f(\"server/primary/mongos does not support collation\")));t.execute(c,function(e,n){if(!n&&e)return o(e,null);if(n&&n.hasWriteErrors()&&1==n.getWriteErrorCount())return o(toError(n.getWriteErrorAt(0)),n);n.insertedCount=n.nInserted,n.matchedCount=n.nMatched,n.modifiedCount=n.nModified||0,n.deletedCount=n.nRemoved,n.upsertedCount=n.getUpsertedIds().length,n.upsertedIds={},n.insertedIds={},n.n=n.insertedCount;for(var r=n.getInsertedIds(),t=0;t<r.length;t++)n.insertedIds[r[t].index]=r[t]._id;var i=n.getUpsertedIds();for(t=0;t<i.length;t++)n.upsertedIds[i[t].index]=i[t]._id;if(n.hasWriteErrors()){var l=n.getWriteErrors();return o(toError({message:\"write operation failed\",code:l[0].code,writeErrors:l}),n)}if(n.getWriteConcernError())return o(toError(n.getWriteConcernError()),n);o(null,n)})},insertDocuments=function(e,n,r,o){\"function\"==typeof r&&(o=r,r={}),r=r||{},n=Array.isArray(n)?n:[n];var t=writeConcern(shallowClone(r),e.s.db,e,r);\"boolean\"!=typeof t.checkKeys&&(t.checkKeys=!0),1==t.keepGoing&&(t.ordered=!1),t.serializeFunctions=r.serializeFunctions||e.s.serializeFunctions;if(!0!==(\"boolean\"==typeof r.forceServerObjectId?r.forceServerObjectId:e.s.db.options.forceServerObjectId))for(var i=0;i<n.length;i++)void 0===n[i]._id&&(n[i]._id=e.s.pkFactory.createPk());e.s.topology.insert(e.s.namespace,n,t,function(e,r){if(null!=o){if(e)return handleCallback(o,e);if(null==r)return handleCallback(o,null,null);if(r.result.code)return handleCallback(o,toError(r.result));if(r.result.writeErrors)return handleCallback(o,toError(r.result.writeErrors[0]));r.ops=n,handleCallback(o,null,r)}})};define.classMethod(\"bulkWrite\",{callback:!0,promise:!0}),Collection.prototype.insert=function(e,n,r){return\"function\"==typeof n&&(r=n,n={}),n=n||{ordered:!1},e=Array.isArray(e)?e:[e],1==n.keepGoing&&(n.ordered=!1),this.insertMany(e,n,r)},define.classMethod(\"insert\",{callback:!0,promise:!0}),Collection.prototype.updateOne=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateOne(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateOne(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var updateOne=function(e,n,r,o,t){o.multi=!1,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,t&&t(null,n)}})};define.classMethod(\"updateOne\",{callback:!0,promise:!0}),Collection.prototype.replaceOne=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?replaceOne(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){replaceOne(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var replaceOne=function(e,n,r,o,t){o.multi=!1,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,n.ops=[r],t&&t(null,n)}})};define.classMethod(\"replaceOne\",{callback:!0,promise:!0}),Collection.prototype.updateMany=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateMany(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateMany(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var updateMany=function(e,n,r,o,t){o.multi=!0,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,t&&t(null,n)}})};define.classMethod(\"updateMany\",{callback:!0,promise:!0});var updateDocuments=function(e,n,r,o,t){if(\"function\"==typeof o&&(t=o,o=null),null==o&&(o={}),\"function\"!=typeof t&&(t=null),null==n||\"object\"!=typeof n)return t(toError(\"selector must be a valid JavaScript object\"));if(null==r||\"object\"!=typeof r)return t(toError(\"document must be a valid JavaScript object\"));var i=writeConcern(shallowClone(o),e.s.db,e,o);i.serializeFunctions=o.serializeFunctions||e.s.serializeFunctions;var l={q:n,u:r};l.upsert=\"boolean\"==typeof o.upsert&&o.upsert,l.multi=\"boolean\"==typeof o.multi&&o.multi,decorateWithCollation(i,e,o),e.s.topology.update(e.s.namespace,[l],i,function(e,n){if(null!=t)return e?handleCallback(t,e,null):null==n?handleCallback(t,null,null):n.result.code?handleCallback(t,toError(n.result)):n.result.writeErrors?handleCallback(t,toError(n.result.writeErrors[0])):void handleCallback(t,null,n)})};Collection.prototype.update=function(e,n,r,o){var t=this;return this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateDocuments(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateDocuments(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})},define.classMethod(\"update\",{callback:!0,promise:!0}),Collection.prototype.deleteOne=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=shallowClone(n),this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?deleteOne(o,e,n,r):new this.s.promiseLibrary(function(r,t){deleteOne(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var deleteOne=function(e,n,r,o){r.single=!0,removeDocuments(e,n,r,function(e,n){if(null!=o){if(e&&o)return o(e);if(null==n)return o(null,{result:{ok:1}});n.deletedCount=n.result.n,o&&o(null,n)}})};define.classMethod(\"deleteOne\",{callback:!0,promise:!0}),Collection.prototype.removeOne=Collection.prototype.deleteOne,define.classMethod(\"removeOne\",{callback:!0,promise:!0}),Collection.prototype.deleteMany=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=shallowClone(n),this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?deleteMany(o,e,n,r):new this.s.promiseLibrary(function(r,t){deleteMany(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var deleteMany=function(e,n,r,o){r.single=!1,removeDocuments(e,n,r,function(e,n){if(null!=o){if(e&&o)return o(e);if(null==n)return o(null,{result:{ok:1}});n.deletedCount=n.result.n,o&&o(null,n)}})},removeDocuments=function(e,n,r,o){\"function\"==typeof r?(o=r,r={}):\"function\"==typeof n&&(o=n,r={},n={});var t=writeConcern(shallowClone(r=r||{}),e.s.db,e,r);null==n&&(n={});var i={q:n,limit:0};r.single&&(i.limit=1),decorateWithCollation(t,e,r),e.s.topology.remove(e.s.namespace,[i],t,function(e,n){if(null!=o)return e?handleCallback(o,e,null):null==n?handleCallback(o,null,null):n.result.code?handleCallback(o,toError(n.result)):n.result.writeErrors?handleCallback(o,toError(n.result.writeErrors[0])):void handleCallback(o,null,n)})};define.classMethod(\"deleteMany\",{callback:!0,promise:!0}),Collection.prototype.removeMany=Collection.prototype.deleteMany,define.classMethod(\"removeMany\",{callback:!0,promise:!0}),Collection.prototype.remove=function(e,n,r){var o=this;return this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?removeDocuments(o,e,n,r):new this.s.promiseLibrary(function(r,t){removeDocuments(o,e,n,function(e,n){if(e)return t(e);r(n)})})},define.classMethod(\"remove\",{callback:!0,promise:!0}),Collection.prototype.save=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?save(o,e,n,r):new this.s.promiseLibrary(function(r,t){save(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var save=function(e,n,r,o){var t=writeConcern(shallowClone(r),e.s.db,e,r);if(null!=n._id)return t.upsert=!0,updateDocuments(e,{_id:n._id},n,t,o);insertDocuments(e,[n],r,function(e,r){if(null!=o)return null==n?handleCallback(o,null,null):e?handleCallback(o,e,null):void handleCallback(o,null,r)})};define.classMethod(\"save\",{callback:!0,promise:!0}),Collection.prototype.findOne=function(){var e=this,n=Array.prototype.slice.call(arguments,0),r=n.pop();return\"function\"!=typeof r&&n.push(r),\"function\"==typeof r?findOne(e,n,r):new this.s.promiseLibrary(function(r,o){findOne(e,n,function(e,n){if(e)return o(e);r(n)})})};var findOne=function(e,n,r){e.find.apply(e,n).limit(-1).batchSize(1).next(function(e,n){if(null!=e)return handleCallback(r,toError(e),null);handleCallback(r,null,n)})};define.classMethod(\"findOne\",{callback:!0,promise:!0}),Collection.prototype.rename=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=assign({},n,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof r?rename(o,e,n,r):new this.s.promiseLibrary(function(r,t){rename(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var rename=function(e,n,r,o){checkCollectionName(n);var t={renameCollection:f(\"%s.%s\",e.s.dbName,e.s.name),to:f(\"%s.%s\",e.s.dbName,n),dropTarget:\"boolean\"==typeof r.dropTarget&&r.dropTarget};decorateWithWriteConcern(t,e,r),e.s.db.admin().command(t,r,function(r,t){if(r)return handleCallback(o,r,null);if(t.errmsg)return handleCallback(o,toError(t),null);try{return handleCallback(o,null,new Collection(e.s.db,e.s.topology,e.s.dbName,n,e.s.pkFactory,e.s.options))}catch(r){return handleCallback(o,toError(r),null)}})};define.classMethod(\"rename\",{callback:!0,promise:!0}),Collection.prototype.drop=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?r.s.db.dropCollection(r.s.name,e,n):new this.s.promiseLibrary(function(n,o){r.s.db.dropCollection(r.s.name,e,function(e,r){if(e)return o(e);n(r)})})},define.classMethod(\"drop\",{callback:!0,promise:!0}),Collection.prototype.options=function(e){var n=this;return\"function\"==typeof e?options(n,e):new this.s.promiseLibrary(function(e,r){options(n,function(n,o){if(n)return r(n);e(o)})})};var options=function(e,n){e.s.db.listCollections({name:e.s.name}).toArray(function(r,o){return r?handleCallback(n,r):0==o.length?handleCallback(n,MongoError.create({message:f(\"collection %s not found\",e.s.namespace),driver:!0})):void handleCallback(n,r,o[0].options||null)})};define.classMethod(\"options\",{callback:!0,promise:!0}),Collection.prototype.isCapped=function(e){var n=this;return\"function\"==typeof e?isCapped(n,e):new this.s.promiseLibrary(function(e,r){isCapped(n,function(n,o){if(n)return r(n);e(o)})})};var isCapped=function(e,n){e.options(function(e,r){if(e)return handleCallback(n,e);handleCallback(n,null,r&&r.capped)})};define.classMethod(\"isCapped\",{callback:!0,promise:!0}),Collection.prototype.createIndex=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(r=t.pop())&&t.push(r),n=t.length?t.shift()||{}:{},n=\"function\"==typeof r?n:r,n=null==n?{}:n,\"function\"==typeof r?createIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){createIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var createIndex=function(e,n,r,o){e.s.db.createIndex(e.s.name,n,r,o)};define.classMethod(\"createIndex\",{callback:!0,promise:!0}),Collection.prototype.createIndexes=function(e,n){var r=this;return\"function\"==typeof n?createIndexes(r,e,n):new this.s.promiseLibrary(function(n,o){createIndexes(r,e,function(e,r){if(e)return o(e);n(r)})})};var createIndexes=function(e,n,r){for(var o=e.s.topology.capabilities(),t=0;t<n.length;t++)if(null==n[t].name){var i=[];if(n[t].collation&&o&&!o.commandsTakeCollation)return r(new MongoError(f(\"server/primary/mongos does not support collation\")));for(var l in n[t].key)i.push(f(\"%s_%s\",l,n[t].key[l]));n[t].name=i.join(\"_\")}e.s.db.command({createIndexes:e.s.name,indexes:n},{readPreference:ReadPreference.PRIMARY},r)};define.classMethod(\"createIndexes\",{callback:!0,promise:!0}),Collection.prototype.dropIndex=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(r=t.pop())&&t.push(r),n=t.length?t.shift()||{}:{},n.readPreference=ReadPreference.PRIMARY,\"function\"==typeof r?dropIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){dropIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var dropIndex=function(e,n,r,o){var t={dropIndexes:e.s.name,index:n};decorateWithWriteConcern(t,e,r),e.s.db.command(t,r,function(e,n){if(\"function\"==typeof o)return e?handleCallback(o,e,null):void handleCallback(o,null,n)})};define.classMethod(\"dropIndex\",{callback:!0,promise:!0}),Collection.prototype.dropIndexes=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?dropIndexes(r,e,n):new this.s.promiseLibrary(function(e,n){dropIndexes(r,function(r,o){if(r)return n(r);e(o)})})};var dropIndexes=function(e,n,r){e.dropIndex(\"*\",n,function(e){if(e)return handleCallback(r,e,!1);handleCallback(r,null,!0)})};define.classMethod(\"dropIndexes\",{callback:!0,promise:!0}),Collection.prototype.dropAllIndexes=Collection.prototype.dropIndexes,define.classMethod(\"dropAllIndexes\",{callback:!0,promise:!0}),Collection.prototype.reIndex=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?reIndex(r,e,n):new this.s.promiseLibrary(function(n,o){reIndex(r,e,function(e,r){if(e)return o(e);n(r)})})};var reIndex=function(e,n,r){var o={reIndex:e.s.name};e.s.db.command(o,n,function(e,n){if(null!=r)return e?handleCallback(r,e,null):void handleCallback(r,null,!!n.ok)})};define.classMethod(\"reIndex\",{callback:!0,promise:!0}),Collection.prototype.listIndexes=function(e){if(e=e||{},e=shallowClone(e),e=getReadPreference(this,e,this.s.db,this),e.cursorFactory=CommandCursor,e.promiseLibrary=this.s.promiseLibrary,!this.s.topology.capabilities())throw new MongoError(\"cannot connect to server\");if(this.s.topology.capabilities().hasListIndexesCommand){var n=e.batchSize?{batchSize:e.batchSize}:{},r={listIndexes:this.s.name,cursor:n};return n=this.s.topology.cursor(f(\"%s.$cmd\",this.s.dbName),r,e),e.readPreference&&n.setReadPreference(e.readPreference),n}var o=f(\"%s.system.indexes\",this.s.dbName);return n=this.s.topology.cursor(o,{find:o,query:{ns:this.s.namespace}},e),e.readPreference&&n.setReadPreference(e.readPreference),e.batchSize&&(n=n.batchSize(e.batchSize)),n},define.classMethod(\"listIndexes\",{callback:!1,promise:!1,returns:[CommandCursor]}),Collection.prototype.ensureIndex=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},\"function\"==typeof r?ensureIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){ensureIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var ensureIndex=function(e,n,r,o){e.s.db.ensureIndex(e.s.name,n,r,o)};define.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),Collection.prototype.indexExists=function(e,n){var r=this;return\"function\"==typeof n?indexExists(r,e,n):new this.s.promiseLibrary(function(n,o){indexExists(r,e,function(e,r){if(e)return o(e);n(r)})})};var indexExists=function(e,n,r){e.indexInformation(function(e,o){if(null!=e)return handleCallback(r,e,null);if(!Array.isArray(n))return handleCallback(r,null,null!=o[n]);for(var t=0;t<n.length;t++)if(null==o[n[t]])return handleCallback(r,null,!1);return handleCallback(r,null,!0)})};define.classMethod(\"indexExists\",{callback:!0,promise:!0}),Collection.prototype.indexInformation=function(e,n){var r=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=o.pop())&&o.push(n),e=o.length?o.shift()||{}:{},\"function\"==typeof n?indexInformation(r,e,n):new this.s.promiseLibrary(function(n,o){indexInformation(r,e,function(e,r){if(e)return o(e);n(r)})})};var indexInformation=function(e,n,r){e.s.db.indexInformation(e.s.name,n,r)};define.classMethod(\"indexInformation\",{callback:!0,promise:!0}),Collection.prototype.count=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(r=t.pop())&&t.push(r);var i=t.length?t.shift()||{}:{},l=t.length?t.shift()||{}:{};return\"function\"==typeof r?count(o,i,l,r):(e=e||{},n=n||{},new this.s.promiseLibrary(function(r,t){count(o,e,n,function(e,n){if(e)return t(e);r(n)})}))};var count=function(e,n,r,o){var t=r.skip,i=r.limit,l=r.hint,a=r.maxTimeMS,s={count:e.s.name,query:n};\"number\"==typeof t&&(s.skip=t),\"number\"==typeof i&&(s.limit=i),\"number\"==typeof a&&(s.maxTimeMS=a),l&&(s.hint=l),r=shallowClone(r),r=getReadPreference(e,r,e.s.db,e),e.s.readConcern&&(s.readConcern=e.s.readConcern),decorateWithCollation(s,e,r),e.s.db.command(s,r,function(e,n){if(e)return handleCallback(o,e);handleCallback(o,null,n.n)})};define.classMethod(\"count\",{callback:!0,promise:!0}),Collection.prototype.distinct=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(o=i.pop())&&i.push(o);var l=i.length?i.shift()||{}:{},a=i.length?i.shift()||{}:{};return\"function\"==typeof o?distinct(t,e,l,a,o):(n=n||{},r=r||{},new this.s.promiseLibrary(function(o,i){distinct(t,e,n,r,function(e,n){if(e)return i(e);o(n)})}))};var distinct=function(e,n,r,o,t){var i=o.maxTimeMS,l={distinct:e.s.name,key:n,query:r};o=shallowClone(o),o=getReadPreference(e,o,e.s.db,e),\"number\"==typeof i&&(l.maxTimeMS=i),e.s.readConcern&&(l.readConcern=e.s.readConcern),decorateWithCollation(l,e,o),e.s.db.command(l,o,function(e,n){if(e)return handleCallback(t,e);handleCallback(t,null,n.values)})};define.classMethod(\"distinct\",{callback:!0,promise:!0}),Collection.prototype.indexes=function(e){var n=this;return\"function\"==typeof e?indexes(n,e):new this.s.promiseLibrary(function(e,r){indexes(n,function(n,o){if(n)return r(n);e(o)})})};var indexes=function(e,n){e.s.db.indexInformation(e.s.name,{full:!0},n)};define.classMethod(\"indexes\",{callback:!0,promise:!0}),Collection.prototype.stats=function(e,n){var r=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=o.pop())&&o.push(n),e=o.length?o.shift()||{}:{},\"function\"==typeof n?stats(r,e,n):new this.s.promiseLibrary(function(n,o){stats(r,e,function(e,r){if(e)return o(e);n(r)})})};var stats=function(e,n,r){var o={collStats:e.s.name};null!=n.scale&&(o.scale=n.scale),n=shallowClone(n),n=getReadPreference(e,n,e.s.db,e),e.s.db.command(o,n,r)};define.classMethod(\"stats\",{callback:!0,promise:!0}),Collection.prototype.findOneAndDelete=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");return\"function\"==typeof r?findOneAndDelete(o,e,n,r):new this.s.promiseLibrary(function(r,t){findOneAndDelete(o,e,n=n||{},function(e,n){if(e)return t(e);r(n)})})};var findOneAndDelete=function(e,n,r,o){var t=shallowClone(r);t.fields=r.projection,t.remove=!0,e.findAndModify(n,r.sort,null,t,o)};define.classMethod(\"findOneAndDelete\",{callback:!0,promise:!0}),Collection.prototype.findOneAndReplace=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),r=r||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");if(null==n||\"object\"!=typeof n)throw toError(\"replacement parameter must be an object\");return\"function\"==typeof o?findOneAndReplace(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findOneAndReplace(t,e,n,r=r||{},function(e,n){if(e)return i(e);o(n)})})};var findOneAndReplace=function(e,n,r,o,t){var i=shallowClone(o);i.fields=o.projection,i.update=!0,i.new=\"boolean\"==typeof o.returnOriginal&&!o.returnOriginal,i.upsert=\"boolean\"==typeof o.upsert&&o.upsert,e.findAndModify(n,o.sort,r,i,t)};define.classMethod(\"findOneAndReplace\",{callback:!0,promise:!0}),Collection.prototype.findOneAndUpdate=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),r=r||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");if(null==n||\"object\"!=typeof n)throw toError(\"update parameter must be an object\");return\"function\"==typeof o?findOneAndUpdate(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findOneAndUpdate(t,e,n,r=r||{},function(e,n){if(e)return i(e);o(n)})})};var findOneAndUpdate=function(e,n,r,o,t){var i=shallowClone(o);i.fields=o.projection,i.update=!0,i.new=\"boolean\"==typeof o.returnOriginal&&!o.returnOriginal,i.upsert=\"boolean\"==typeof o.upsert&&o.upsert,e.findAndModify(n,o.sort,r,i,t)};define.classMethod(\"findOneAndUpdate\",{callback:!0,promise:!0}),Collection.prototype.findAndModify=function(e,n,r,o,t){var i=this,l=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=l.pop())&&l.push(t),n=l.length?l.shift()||[]:[],r=l.length?l.shift():null,o=l.length?l.shift()||{}:{},o=shallowClone(o),o.readPreference=ReadPreference.PRIMARY,\"function\"==typeof t?findAndModify(i,e,n,r,o,t):new this.s.promiseLibrary(function(t,l){findAndModify(i,e,n,r,o=o||{},function(e,n){if(e)return l(e);t(n)})})};var findAndModify=function(e,n,r,o,t,i){var l={findandmodify:e.s.name,query:n};(r=formattedOrderClause(r))&&(l.sort=r),l.new=!!t.new,l.remove=!!t.remove,l.upsert=!!t.upsert,t.fields&&(l.fields=t.fields),o&&!t.remove&&(l.update=o),t.maxTimeMS&&(l.maxTimeMS=t.maxTimeMS),null!=t.serializeFunctions?t.serializeFunctions=t.serializeFunctions:t.serializeFunctions=e.s.serializeFunctions,t.checkKeys=!1;var a=writeConcern(t,e.s.db,e,t);a.writeConcern&&(l.writeConcern=a.writeConcern),\"boolean\"==typeof a.bypassDocumentValidation&&(l.bypassDocumentValidation=a.bypassDocumentValidation),decorateWithCollation(l,e,t),e.s.db.command(l,t,function(e,n){return e?handleCallback(i,e,null):handleCallback(i,null,n)})};define.classMethod(\"findAndModify\",{callback:!0,promise:!0}),Collection.prototype.findAndRemove=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(o=i.pop())&&i.push(o),n=i.length?i.shift()||[]:[],r=i.length?i.shift()||{}:{},\"function\"==typeof o?findAndRemove(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findAndRemove(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var findAndRemove=function(e,n,r,o,t){o.remove=!0,e.findAndModify(n,r,null,o,t)};define.classMethod(\"findAndRemove\",{callback:!0,promise:!0});function decorateWithWriteConcern(e,n,r){var o=n.s.topology.capabilities();if(o&&o.commandsTakeWriteConcern){var t=writeConcern(shallowClone(r),n.s.db,n,r);t.writeConcern&&(e.writeConcern=t.writeConcern)}}function decorateWithCollation(e,n,r){var o=n.s.topology.capabilities();o&&o.commandsTakeCollation&&r.collation&&\"object\"==typeof r.collation&&(e.collation=r.collation)}Collection.prototype.aggregate=function(e,n,r){if(Array.isArray(e))\"function\"==typeof n&&(r=n,n={}),null==n&&null==r&&(n={});else{var o=Array.prototype.slice.call(arguments,0);r=o.pop();var t=o[o.length-1];n=t&&(t.readPreference||t.explain||t.cursor||t.out||t.maxTimeMS||t.allowDiskUse)?o.pop():{},e=o}var i=!1,l={aggregate:this.s.name,pipeline:e};if(\"string\"==typeof n.out?(e.push({$out:n.out}),i=!0):e.length>0&&e[e.length-1].$out&&(i=!0),e.length>0&&e[e.length-1].$out&&decorateWithWriteConcern(l,this,n),decorateWithCollation(l,this,n),\"boolean\"==typeof n.bypassDocumentValidation&&(l.bypassDocumentValidation=n.bypassDocumentValidation),!i&&this.s.readConcern&&(l.readConcern=this.s.readConcern),n.allowDiskUse&&(l.allowDiskUse=n.allowDiskUse),\"number\"==typeof n.maxTimeMS&&(l.maxTimeMS=n.maxTimeMS),n=shallowClone(n),(n=getReadPreference(this,n,this.s.db,this)).explain&&(l.explain=n.explain),null!=n.cursor&&\"object\"!=typeof n.cursor)throw toError(\"cursor options must be an object\");if(this.s.topology.capabilities().hasAggregationCursor&&(n.cursor=n.cursor||{batchSize:1e3},l.cursor=n.cursor),n.promiseLibrary=this.s.promiseLibrary,n.cursorFactory=AggregationCursor,\"function\"!=typeof r){if(!this.s.topology.capabilities())throw new MongoError(\"cannot connect to server\");return\"boolean\"==typeof n.allowDiskUse&&(l.allowDiskUse=n.allowDiskUse),\"number\"==typeof n.maxTimeMS&&(l.maxTimeMS=n.maxTimeMS),this.s.topology.cursor(this.s.namespace,l,n)}if(n.cursor){return this.s.topology.cursor(this.s.namespace,l,n).toArray(function(e,n){if(e)return handleCallback(r,e);handleCallback(r,null,n)})}this.s.db.command(l,n,function(e,n){e?handleCallback(r,e):n.err||n.errmsg?handleCallback(r,toError(n)):\"object\"==typeof n&&n.serverPipeline?handleCallback(r,null,n.serverPipeline):\"object\"==typeof n&&n.stages?handleCallback(r,null,n.stages):handleCallback(r,null,n.result)})},define.classMethod(\"aggregate\",{callback:!0,promise:!1}),Collection.prototype.parallelCollectionScan=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={numCursors:1}),e.numCursors=e.numCursors||1,e.batchSize=e.batchSize||1e3,e=shallowClone(e),e=getReadPreference(this,e,this.s.db,this),e.promiseLibrary=this.s.promiseLibrary,\"function\"==typeof n?parallelCollectionScan(r,e,n):new this.s.promiseLibrary(function(n,o){parallelCollectionScan(r,e,function(e,r){if(e)return o(e);n(r)})})};var parallelCollectionScan=function(e,n,r){var o={parallelCollectionScan:e.s.name,numCursors:n.numCursors};e.s.readConcern&&(o.readConcern=e.s.readConcern);var t=n.raw;delete n.raw,e.s.db.command(o,n,function(o,i){if(o)return handleCallback(r,o,null);if(null==i)return handleCallback(r,new Error(\"no result returned for parallelCollectionScan\"),null);var l=[];t&&(n.raw=t);for(var a=0;a<i.cursors.length;a++){var s=i.cursors[a].cursor.id,c=\"number\"==typeof s?Long.fromNumber(s):s;l.push(e.s.topology.cursor(e.s.namespace,c,n))}handleCallback(r,null,l)})};define.classMethod(\"parallelCollectionScan\",{callback:!0,promise:!0}),Collection.prototype.geoNear=function(e,n,r,o){var t=this,i=\"object\"==typeof e&&e,l=Array.prototype.slice.call(arguments,i?1:2);return\"function\"!=typeof(o=l.pop())&&l.push(o),r=l.length?l.shift()||{}:{},\"function\"==typeof o?geoNear(t,e,n,i,r,o):new this.s.promiseLibrary(function(o,l){geoNear(t,e,n,i,r,function(e,n){if(e)return l(e);o(n)})})};var geoNear=function(e,n,r,o,t,i){var l={geoNear:e.s.name,near:o||[n,r]};t=shallowClone(t),t=getReadPreference(e,t,e.s.db,e);l=decorateCommand(l,t,{readPreference:!0,geoNear:!0,near:!0}),e.s.readConcern&&(l.readConcern=e.s.readConcern),decorateWithCollation(l,e,t),e.s.db.command(l,t,function(e,n){return e?handleCallback(i,e):n.err||n.errmsg?handleCallback(i,toError(n)):void handleCallback(i,null,n)})};define.classMethod(\"geoNear\",{callback:!0,promise:!0}),Collection.prototype.geoHaystackSearch=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=i.pop())&&i.push(o),r=i.length?i.shift()||{}:{},\"function\"==typeof o?geoHaystackSearch(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){geoHaystackSearch(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var geoHaystackSearch=function(e,n,r,o,t){var i={geoSearch:e.s.name,near:[n,r]};i=decorateCommand(i,o,{readPreference:!0}),o=shallowClone(o),o=getReadPreference(e,o,e.s.db,e),e.s.readConcern&&(i.readConcern=e.s.readConcern),e.s.db.command(i,o,function(e,n){if(e)return handleCallback(t,e);(n.err||n.errmsg)&&handleCallback(t,toError(n)),handleCallback(t,null,n)})};define.classMethod(\"geoHaystackSearch\",{callback:!0,promise:!0});var groupFunction='function () {\\nvar c = db[ns].find(condition);\\nvar map = new Map();\\nvar reduce_function = reduce;\\n\\nwhile (c.hasNext()) {\\nvar obj = c.next();\\nvar key = {};\\n\\nfor (var i = 0, len = keys.length; i < len; ++i) {\\nvar k = keys[i];\\nkey[k] = obj[k];\\n}\\n\\nvar aggObj = map.get(key);\\n\\nif (aggObj == null) {\\nvar newObj = Object.extend({}, key);\\naggObj = Object.extend(newObj, initial);\\nmap.put(key, aggObj);\\n}\\n\\nreduce_function(obj, aggObj);\\n}\\n\\nreturn { \"result\": map.values() };\\n}';Collection.prototype.group=function(e,n,r,o,t,i,l,a){var s=this,c=Array.prototype.slice.call(arguments,3);return\"function\"!=typeof(a=c.pop())&&c.push(a),o=c.length?c.shift():null,t=c.length?c.shift():null,i=c.length?c.shift():null,l=c.length?c.shift()||{}:{},\"function\"!=typeof t&&(i=t,t=null),!Array.isArray(e)&&e instanceof Object&&\"function\"!=typeof e&&\"Code\"!=e._bsontype&&(e=Object.keys(e)),\"function\"==typeof o&&(o=o.toString()),\"function\"==typeof t&&(t=t.toString()),i=null==i||i,\"function\"==typeof a?group(s,e,n,r,o,t,i,l,a):new this.s.promiseLibrary(function(a,c){group(s,e,n,r,o,t,i,l,function(e,n){if(e)return c(e);a(n)})})};var group=function(e,n,r,o,t,i,l,a,s){if(l){var c=t&&\"Code\"==t._bsontype?t:new Code(t),u={group:{ns:e.s.name,$reduce:c,cond:r,initial:o,out:\"inline\"}};if(null!=i&&(u.group.finalize=i),\"function\"==typeof n||n&&\"Code\"==n._bsontype)u.group.$keyf=n&&\"Code\"==n._bsontype?n:new Code(n);else{var d={};n.forEach(function(e){d[e]=1}),u.group.key=d}a=shallowClone(a),a=getReadPreference(e,a,e.s.db,e),e.s.readConcern&&(u.readConcern=e.s.readConcern),decorateWithCollation(u,e,a),e.s.db.command(u,a,function(e,n){if(e)return handleCallback(s,e,null);handleCallback(s,null,n.retval)})}else{var f=null!=t&&\"Code\"==t._bsontype?t.scope:{};f.ns=e.s.name,f.keys=n,f.condition=r,f.initial=o;var p=groupFunction.replace(/ reduce;/,t.toString()+\";\");e.s.db.eval(new Code(p,f),function(e,n){if(e)return handleCallback(s,e,null);handleCallback(s,null,n.result||n)})}};define.classMethod(\"group\",{callback:!0,promise:!0});function processScope(e){if(!isObject(e)||\"ObjectID\"==e._bsontype)return e;for(var n,r=Object.keys(e),o=r.length,t={};o--;)\"function\"==typeof e[n=r[o]]?t[n]=new Code(String(e[n])):t[n]=processScope(e[n]);return t}Collection.prototype.mapReduce=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),null==r.out)throw new Error(\"the out option parameter must be defined, see mongodb docs for possible values\");return\"function\"==typeof e&&(e=e.toString()),\"function\"==typeof n&&(n=n.toString()),\"function\"==typeof r.finalize&&(r.finalize=r.finalize.toString()),\"function\"==typeof o?mapReduce(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){mapReduce(t,e,n,r,function(e,n,r){return e?i(e):r?void o({results:n,stats:r}):o(n)})})};var mapReduce=function(e,n,r,o,t){var i={mapreduce:e.s.name,map:n,reduce:r},l=[\"readPreference\"];for(var a in o)\"scope\"==a?i[a]=processScope(o[a]):-1==l.indexOf(a)&&(i[a]=o[a]);o=shallowClone(o),0!=(o=getReadPreference(e,o,e.s.db,e)).readPreference&&\"primary\"!=o.readPreference&&o.out&&1!=o.out.inline&&\"inline\"!=o.out?(o.readPreference=\"primary\",decorateWithWriteConcern(i,e,o)):e.s.readConcern&&(i.readConcern=e.s.readConcern),\"boolean\"==typeof o.bypassDocumentValidation&&(i.bypassDocumentValidation=o.bypassDocumentValidation),decorateWithCollation(i,e,o),e.s.db.command(i,{readPreference:o.readPreference},function(n,r){if(n)return handleCallback(t,n);if(1!=r.ok||r.err||r.errmsg)return handleCallback(t,toError(r));var i={};if(r.timeMillis&&(i.processtime=r.timeMillis),r.counts&&(i.counts=r.counts),r.timing&&(i.timing=r.timing),r.results)return null!=o.verbose&&o.verbose?handleCallback(t,null,r.results,i):handleCallback(t,null,r.results);var l=null;if(null!=r.result&&\"object\"==typeof r.result){var a=r.result;l=e.s.db.db(a.db).collection(a.collection)}else l=e.s.db.collection(r.result);if(null==o.verbose||!o.verbose)return handleCallback(t,n,l);handleCallback(t,n,l,i)})};define.classMethod(\"mapReduce\",{callback:!0,promise:!0}),Collection.prototype.initializeUnorderedBulkOp=function(e){return e=e||{},e.promiseLibrary=this.s.promiseLibrary,unordered(this.s.topology,this,e)},define.classMethod(\"initializeUnorderedBulkOp\",{callback:!1,promise:!1,returns:[ordered.UnorderedBulkOperation]}),Collection.prototype.initializeOrderedBulkOp=function(e){return e=e||{},e.promiseLibrary=this.s.promiseLibrary,ordered(this.s.topology,this,e)},define.classMethod(\"initializeOrderedBulkOp\",{callback:!1,promise:!1,returns:[ordered.OrderedBulkOperation]});var writeConcern=function(e,n,r,o){if(null!=o.w||null!=o.j||null!=o.fsync){var t={};null!=o.w&&(t.w=o.w),null!=o.wtimeout&&(t.wtimeout=o.wtimeout),null!=o.j&&(t.j=o.j),null!=o.fsync&&(t.fsync=o.fsync),e.writeConcern=t}else null!=r.writeConcern.w||null!=r.writeConcern.j||null!=r.writeConcern.fsync?e.writeConcern=r.writeConcern:null==n.writeConcern.w&&null==n.writeConcern.j&&null==n.writeConcern.fsync||(e.writeConcern=n.writeConcern);return e},getReadPreference=function(e,n,r){var o=null;if(n.readPreference?o=n.readPreference:e.s.readPreference?o=e.s.readPreference:r.s.readPreference&&(o=r.s.readPreference),o instanceof ReadPreference)n.readPreference=new CoreReadPreference(o.mode,o.tags,{maxStalenessSeconds:o.maxStalenessSeconds});else if(\"string\"==typeof o)n.readPreference=new CoreReadPreference(o);else if(o&&!(o instanceof ReadPreference)&&\"object\"==typeof o){var t=o.mode||o.preference;t&&\"string\"==typeof t&&(n.readPreference=new CoreReadPreference(t,o.tags,{maxStalenessSeconds:o.maxStalenessSeconds}))}return n},testForFields={limit:1,sort:1,fields:1,skip:1,hint:1,explain:1,snapshot:1,timeout:1,tailable:1,tailableRetryInterval:1,numberOfRetries:1,awaitdata:1,awaitData:1,exhaust:1,batchSize:1,returnKey:1,maxScan:1,min:1,max:1,showDiskLoc:1,comment:1,raw:1,readPreference:1,partial:1,read:1,dbName:1,oplogReplay:1,connection:1,maxTimeMS:1,transforms:1,collation:1,noCursorTimeout:1};module.exports=Collection;","node_modules/mongodb/lib/server.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,CServer=require(\"mongodb-core\").Server,Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),f=require(\"util\").format,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,Store=require(\"./topology_base\").Store,Define=require(\"./metadata\"),MongoError=require(\"mongodb-core\").MongoError,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,mergeOptions=require(\"./utils\").mergeOptions,getReadPreference=require(\"./utils\").getReadPreference,os=require(\"os\"),driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),legalOptionNames=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"reconnectInterval\",\"monitoring\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],Server=function(e,r,t){if(t=t||{},!(this instanceof Server))return new Server(e,r,t);EventEmitter.call(this);var o={force:!1,bufferMaxEntries:\"number\"==typeof(t=filterOptions(t,legalOptionNames)).bufferMaxEntries?t.bufferMaxEntries:MAX_JS_INT},s=t.store||new Store(this,o);if(-1!=e.indexOf(\"/\"))null!=r&&\"object\"==typeof r&&(t=r,r=null);else if(null==r)throw MongoError.create({message:\"port must be specified\",driver:!0});var n=\"boolean\"!=typeof t.auto_reconnect||t.auto_reconnect;n=\"boolean\"==typeof t.autoReconnect?t.autoReconnect:n;var i=mergeOptions({},{host:e,port:r,disconnectHandler:s,cursorFactory:Cursor,reconnect:n,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5});i=translateOptions(i,t);var c=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;\"number\"==typeof(i=translateOptions(i,c)).keepAlive&&(i.keepAliveInitialDelay=i.keepAlive,i.keepAlive=i.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},i.clientInfo=this.clientInfo,t.appname&&(i.clientInfo.application={name:t.appname});var a=new CServer(i);this.s={server:a,sCapabilities:null,clonedOptions:i,reconnect:i.reconnect,emitError:i.emitError,poolSize:i.size,storeOptions:o,store:s,host:e,port:r,options:t}};inherits(Server,EventEmitter);var define=Server.define=new Define(\"Server\",Server,!1);Object.defineProperty(Server.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.server.s.bson}}),Object.defineProperty(Server.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.server.lastIsMaster()}}),Object.defineProperty(Server.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.server.parserType}}),Object.defineProperty(Server.prototype,\"poolSize\",{enumerable:!0,get:function(){return this.s.server.connections().length}}),Object.defineProperty(Server.prototype,\"autoReconnect\",{enumerable:!0,get:function(){return this.s.reconnect}}),Object.defineProperty(Server.prototype,\"host\",{enumerable:!0,get:function(){return this.s.host}}),Object.defineProperty(Server.prototype,\"port\",{enumerable:!0,get:function(){return this.s.port}}),Server.prototype.connect=function(e,r,t){var o=this;\"function\"==typeof r&&(t=r,r={}),null==r&&(r={}),\"function\"!=typeof t&&(t=null),o.s.options=r,o.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var s=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){o.s.server.removeListener(e,a[e])}),o.s.server.removeListener(\"connect\",s);try{t(e)}catch(e){process.nextTick(function(){throw e})}}},n=function(e){return function(r){\"error\"!=e&&o.emit(e,r)}},i=function(){o.s.store.flush()},c=function(e){return function(r,t){o.emit(e,r,t)}},a={timeout:s(\"timeout\"),error:s(\"error\"),close:s(\"close\")};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){o.s.server.removeAllListeners(e)}),o.s.server.once(\"timeout\",a.timeout),o.s.server.once(\"error\",a.error),o.s.server.once(\"close\",a.close),o.s.server.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"destroy\"].forEach(function(e){o.s.server.removeAllListeners(e)}),o.s.server.on(\"timeout\",n(\"timeout\")),o.s.server.once(\"error\",n(\"error\")),o.s.server.on(\"close\",n(\"close\")),o.s.server.on(\"destroy\",i),o.emit(\"open\",null,o);try{t(null,o)}catch(e){console.log(e.stack),process.nextTick(function(){throw e})}}),o.s.server.on(\"reconnect\",function(){o.emit(\"reconnect\",o),o.s.store.execute()}),o.s.server.on(\"reconnectFailed\",function(e){o.emit(\"reconnectFailed\",e),o.s.store.flush(e)}),o.s.server.on(\"serverDescriptionChanged\",c(\"serverDescriptionChanged\")),o.s.server.on(\"serverHeartbeatStarted\",c(\"serverHeartbeatStarted\")),o.s.server.on(\"serverHeartbeatSucceeded\",c(\"serverHeartbeatSucceeded\")),o.s.server.on(\"serverHeartbeatFailed\",c(\"serverHeartbeatFailed\")),o.s.server.on(\"serverOpening\",c(\"serverOpening\")),o.s.server.on(\"serverClosed\",c(\"serverClosed\")),o.s.server.on(\"topologyOpening\",c(\"topologyOpening\")),o.s.server.on(\"topologyClosed\",c(\"topologyClosed\")),o.s.server.on(\"topologyDescriptionChanged\",c(\"topologyDescriptionChanged\")),o.s.server.on(\"attemptReconnect\",c(\"attemptReconnect\")),o.s.server.on(\"monitoring\",c(\"monitoring\")),o.s.server.connect(r)},Server.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.server.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.server.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),Server.prototype.command=function(e,r,t,o){this.s.server.command(e,r,getReadPreference(t),o)},define.classMethod(\"command\",{callback:!0,promise:!1}),Server.prototype.insert=function(e,r,t,o){this.s.server.insert(e,r,t,o)},define.classMethod(\"insert\",{callback:!0,promise:!1}),Server.prototype.update=function(e,r,t,o){this.s.server.update(e,r,t,o)},define.classMethod(\"update\",{callback:!0,promise:!1}),Server.prototype.remove=function(e,r,t,o){this.s.server.remove(e,r,t,o)},define.classMethod(\"remove\",{callback:!0,promise:!1}),Server.prototype.isConnected=function(){return this.s.server.isConnected()},Server.prototype.isDestroyed=function(){return this.s.server.isDestroyed()},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),Server.prototype.cursor=function(e,r,t){return t.disconnectHandler=this.s.store,this.s.server.cursor(e,r,t)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),Server.prototype.lastIsMaster=function(){return this.s.server.lastIsMaster()},Server.prototype.unref=function(){this.s.server.unref()},Server.prototype.close=function(e){this.s.server.destroy(),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},define.classMethod(\"close\",{callback:!1,promise:!1}),Server.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.auth.apply(this.s.server,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),Server.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.logout.apply(this.s.server,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),Server.prototype.connections=function(){return this.s.server.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=Server;","node_modules/mongodb/lib/replset.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,f=require(\"util\").format,Server=require(\"./server\"),Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,Store=require(\"./topology_base\").Store,Define=require(\"./metadata\"),CReplSet=require(\"mongodb-core\").ReplSet,CoreReadPreference=require(\"mongodb-core\").ReadPreference,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,getReadPreference=require(\"./utils\").getReadPreference,mergeOptions=require(\"./utils\").mergeOptions,os=require(\"os\"),legalOptionNames=[\"ha\",\"haInterval\",\"replicaSet\",\"rs_name\",\"secondaryAcceptableLatencyMS\",\"connectWithNoPrimary\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslCRL\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"strategy\",\"debug\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"maxStalenessSeconds\"],driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),ReplSet=function(e,r){if(!(this instanceof ReplSet))return new ReplSet(e,r);r=r||{};var t=this;EventEmitter.call(this),r=filterOptions(r,legalOptionNames);for(var s=0;s<e.length;s++)if(!(e[s]instanceof Server))throw MongoError.create({message:\"all seed list instances must be of the Server type\",driver:!0});var o={force:!1,bufferMaxEntries:\"number\"==typeof r.bufferMaxEntries?r.bufferMaxEntries:MAX_JS_INT},n=r.store||new Store(t,o),i=e.map(function(e){return{host:e.host,port:e.port}}),l=mergeOptions({},{disconnectHandler:n,cursorFactory:Cursor,reconnect:!1,emitError:\"boolean\"!=typeof r.emitError||r.emitError,size:\"number\"==typeof r.poolSize?r.poolSize:5});l=translateOptions(l,r);var a=r.socketOptions&&Object.keys(r.socketOptions).length>0?r.socketOptions:r;\"number\"==typeof(l=translateOptions(l,a)).keepAlive&&(l.keepAliveInitialDelay=l.keepAlive,l.keepAlive=l.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},l.clientInfo=this.clientInfo,r.appname&&(l.clientInfo.application={name:r.appname});var p=new CReplSet(i,l);p.on(\"reconnect\",function(){t.emit(\"reconnect\"),n.execute()}),this.s={replset:p,sCapabilities:null,tag:r.tag,storeOptions:o,clonedOptions:l,store:n,options:r},l.debug&&Object.defineProperty(this,\"replset\",{enumerable:!0,get:function(){return p}})};inherits(ReplSet,EventEmitter),Object.defineProperty(ReplSet.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.replset.lastIsMaster()}}),Object.defineProperty(ReplSet.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.replset.parserType}}),Object.defineProperty(ReplSet.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.replset.s.bson}}),Object.defineProperty(ReplSet.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.replset.s.haInterval}});var define=ReplSet.define=new Define(\"ReplSet\",ReplSet,!1),translateReadPreference=function(e){return\"string\"==typeof e.readPreference?e.readPreference=new CoreReadPreference(e.readPreference):e.readPreference instanceof ReadPreference&&(e.readPreference=new CoreReadPreference(e.readPreference.mode,e.readPreference.tags,{maxStalenessSeconds:e.readPreference.maxStalenessSeconds})),e};ReplSet.prototype.connect=function(e,r,t){var s=this;\"function\"==typeof r&&(t=r,r={}),null==r&&(r={}),\"function\"!=typeof t&&(t=null),s.s.options=r,s.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var o=function(e){return function(r){\"error\"!=e&&s.emit(e,r)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\"].forEach(function(e){s.s.replset.removeAllListeners(e)});var n=function(e){return function(r,t){s.emit(e,r,t)}};s.s.replset.on(\"joined\",function(e){return function(r,t){s.emit(e,r,t.lastIsMaster(),t)}}(\"joined\")),s.s.replset.on(\"left\",n(\"left\")),s.s.replset.on(\"ping\",n(\"ping\")),s.s.replset.on(\"ha\",function(e,r){s.emit(\"ha\",e,r),\"start\"==e?s.emit(\"ha_connect\",e,r):\"end\"==e&&s.emit(\"ha_ismaster\",e,r)}),s.s.replset.on(\"serverDescriptionChanged\",n(\"serverDescriptionChanged\")),s.s.replset.on(\"serverHeartbeatStarted\",n(\"serverHeartbeatStarted\")),s.s.replset.on(\"serverHeartbeatSucceeded\",n(\"serverHeartbeatSucceeded\")),s.s.replset.on(\"serverHeartbeatFailed\",n(\"serverHeartbeatFailed\")),s.s.replset.on(\"serverOpening\",n(\"serverOpening\")),s.s.replset.on(\"serverClosed\",n(\"serverClosed\")),s.s.replset.on(\"topologyOpening\",n(\"topologyOpening\")),s.s.replset.on(\"topologyClosed\",n(\"topologyClosed\")),s.s.replset.on(\"topologyDescriptionChanged\",n(\"topologyDescriptionChanged\")),s.s.replset.on(\"fullsetup\",function(){s.emit(\"fullsetup\",s,s)}),s.s.replset.on(\"all\",function(){s.emit(\"all\",null,s)});var i=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){s.s.replset.removeListener(e,i)}),s.s.replset.removeListener(\"connect\",i),s.s.replset.destroy();try{t(e)}catch(e){s.s.replset.isConnected()||process.nextTick(function(){throw e})}}};s.s.replset.once(\"timeout\",i(\"timeout\")),s.s.replset.once(\"error\",i(\"error\")),s.s.replset.once(\"close\",i(\"close\")),s.s.replset.once(\"connect\",function(){s.s.replset.once(\"timeout\",o(\"timeout\")),s.s.replset.once(\"error\",o(\"error\")),s.s.replset.once(\"close\",o(\"close\")),s.emit(\"open\",null,s);try{t(null,s)}catch(e){process.nextTick(function(){throw e})}}),s.s.replset.connect(r)},ReplSet.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.replset.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.replset.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),ReplSet.prototype.command=function(e,r,t,s){this.s.replset.command(e,r,getReadPreference(t),s)},define.classMethod(\"command\",{callback:!0,promise:!1}),ReplSet.prototype.insert=function(e,r,t,s){this.s.replset.insert(e,r,t,s)},define.classMethod(\"insert\",{callback:!0,promise:!1}),ReplSet.prototype.update=function(e,r,t,s){this.s.replset.update(e,r,t,s)},define.classMethod(\"update\",{callback:!0,promise:!1}),ReplSet.prototype.remove=function(e,r,t,s){this.s.replset.remove(e,r,t,s)},define.classMethod(\"remove\",{callback:!0,promise:!1}),ReplSet.prototype.isDestroyed=function(){return this.s.replset.isDestroyed()},ReplSet.prototype.isConnected=function(e){return(e=e||{}).readPreference&&(e.readPreference=translateReadPreference(e.readPreference)),this.s.replset.isConnected(e)},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),ReplSet.prototype.cursor=function(e,r,t){return t=translateReadPreference(t),t.disconnectHandler=this.s.store,this.s.replset.cursor(e,r,t)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),ReplSet.prototype.lastIsMaster=function(){return this.s.replset.lastIsMaster()},ReplSet.prototype.unref=function(){return this.s.replset.unref()},ReplSet.prototype.close=function(e){var r=this;this.s.replset.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush());[\"timeout\",\"error\",\"close\",\"joined\",\"left\"].forEach(function(e){r.removeAllListeners(e)})},define.classMethod(\"close\",{callback:!1,promise:!1}),ReplSet.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.auth.apply(this.s.replset,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),ReplSet.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.logout.apply(this.s.replset,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),ReplSet.prototype.connections=function(){return this.s.replset.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=ReplSet;","node_modules/mongodb/lib/mongos.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,f=require(\"util\").format,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,MongoError=require(\"mongodb-core\").MongoError,CMongos=require(\"mongodb-core\").Mongos,Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),Define=require(\"./metadata\"),Server=require(\"./server\"),Store=require(\"./topology_base\").Store,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,mergeOptions=require(\"./utils\").mergeOptions,getReadPreference=require(\"./utils\").getReadPreference,os=require(\"os\"),driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),legalOptionNames=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],Mongos=function(e,o){if(!(this instanceof Mongos))return new Mongos(e,o);o=filterOptions(o=o||{},legalOptionNames);for(var s=0;s<e.length;s++)if(!(e[s]instanceof Server))throw MongoError.create({message:\"all seed list instances must be of the Server type\",driver:!0});var t={force:!1,bufferMaxEntries:\"number\"==typeof o.bufferMaxEntries?o.bufferMaxEntries:MAX_JS_INT},r=o.store||new Store(this,t);EventEmitter.call(this);var n=e.map(function(e){return{host:e.host,port:e.port}}),i=\"boolean\"!=typeof o.auto_reconnect||o.auto_reconnect;i=\"boolean\"==typeof o.autoReconnect?o.autoReconnect:i;var a=mergeOptions({},{disconnectHandler:r,cursorFactory:Cursor,reconnect:i,emitError:\"boolean\"!=typeof o.emitError||o.emitError,size:\"number\"==typeof o.poolSize?o.poolSize:5});a=translateOptions(a,o);var c=o.socketOptions&&Object.keys(o.socketOptions).length>0?o.socketOptions:o;\"number\"==typeof(a=translateOptions(a,c)).keepAlive&&(a.keepAliveInitialDelay=a.keepAlive,a.keepAlive=a.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},a.clientInfo=this.clientInfo,o.appname&&(a.clientInfo.application={name:o.appname});var l=new CMongos(n,a);this.s={mongos:l,sCapabilities:null,debug:a.debug,storeOptions:t,clonedOptions:a,store:r,options:o}},define=Mongos.define=new Define(\"Mongos\",Mongos,!1);inherits(Mongos,EventEmitter),Object.defineProperty(Mongos.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.mongos.lastIsMaster()}}),Object.defineProperty(Mongos.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.mongos.parserType}}),Object.defineProperty(Mongos.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.mongos.s.bson}}),Object.defineProperty(Mongos.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.mongos.s.haInterval}}),Mongos.prototype.connect=function(e,o,s){var t=this;\"function\"==typeof o&&(s=o,o={}),null==o&&(o={}),\"function\"!=typeof s&&(s=null),t.s.options=o,t.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){t.removeListener(e,r)}),t.s.mongos.removeListener(\"connect\",r);try{s(e)}catch(e){process.nextTick(function(){throw e})}}},n=function(e){return function(o){\"error\"!=e&&t.emit(e,o)}},i=function(e){return function(o,s){t.emit(e,o,s)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){t.s.mongos.removeAllListeners(e)}),t.s.mongos.on(\"serverDescriptionChanged\",i(\"serverDescriptionChanged\")),t.s.mongos.on(\"serverHeartbeatStarted\",i(\"serverHeartbeatStarted\")),t.s.mongos.on(\"serverHeartbeatSucceeded\",i(\"serverHeartbeatSucceeded\")),t.s.mongos.on(\"serverHeartbeatFailed\",i(\"serverHeartbeatFailed\")),t.s.mongos.on(\"serverOpening\",i(\"serverOpening\")),t.s.mongos.on(\"serverClosed\",i(\"serverClosed\")),t.s.mongos.on(\"topologyOpening\",i(\"topologyOpening\")),t.s.mongos.on(\"topologyClosed\",i(\"topologyClosed\")),t.s.mongos.on(\"topologyDescriptionChanged\",i(\"topologyDescriptionChanged\")),t.s.mongos.once(\"timeout\",r(\"timeout\")),t.s.mongos.once(\"error\",r(\"error\")),t.s.mongos.once(\"close\",r(\"close\")),t.s.mongos.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"fullsetup\"].forEach(function(e){t.s.mongos.removeAllListeners(e)}),t.s.mongos.once(\"timeout\",n(\"timeout\")),t.s.mongos.once(\"error\",n(\"error\")),t.s.mongos.once(\"close\",n(\"close\")),t.s.mongos.on(\"fullsetup\",function(){t.emit(\"fullsetup\",t)}),t.emit(\"open\",null,t);try{s(null,t)}catch(e){process.nextTick(function(){throw e})}}),t.s.mongos.on(\"joined\",i(\"joined\")),t.s.mongos.on(\"left\",i(\"left\")),t.s.mongos.on(\"reconnect\",function(){t.emit(\"reconnect\"),t.s.store.execute()}),t.s.mongos.connect(o)},Mongos.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.mongos.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.mongos.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),Mongos.prototype.command=function(e,o,s,t){this.s.mongos.command(e,o,getReadPreference(s),t)},define.classMethod(\"command\",{callback:!0,promise:!1}),Mongos.prototype.insert=function(e,o,s,t){this.s.mongos.insert(e,o,s,function(e,o){t(e,o)})},define.classMethod(\"insert\",{callback:!0,promise:!1}),Mongos.prototype.update=function(e,o,s,t){this.s.mongos.update(e,o,s,t)},define.classMethod(\"update\",{callback:!0,promise:!1}),Mongos.prototype.remove=function(e,o,s,t){this.s.mongos.remove(e,o,s,t)},define.classMethod(\"remove\",{callback:!0,promise:!1}),Mongos.prototype.isDestroyed=function(){return this.s.mongos.isDestroyed()},Mongos.prototype.isConnected=function(){return this.s.mongos.isConnected()},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),Mongos.prototype.cursor=function(e,o,s){return s.disconnectHandler=this.s.store,this.s.mongos.cursor(e,o,s)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),Mongos.prototype.lastIsMaster=function(){return this.s.mongos.lastIsMaster()},Mongos.prototype.unref=function(){return this.s.mongos.unref()},Mongos.prototype.close=function(e){this.s.mongos.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},define.classMethod(\"close\",{callback:!1,promise:!1}),Mongos.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.auth.apply(this.s.mongos,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),Mongos.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.logout.apply(this.s.mongos,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),Mongos.prototype.connections=function(){return this.s.mongos.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=Mongos;","node_modules/mongodb/lib/read_preference.js":"\"use strict\";var ReadPreference=function(e,r,t){if(!(this instanceof ReadPreference))return new ReadPreference(e,r,t);this._type=\"ReadPreference\",this.mode=e,this.tags=r,this.options=t,r&&\"object\"==typeof r&&!Array.isArray(r)&&r.maxStalenessSeconds&&(this.options=r,this.tags=null),this.options&&this.options.maxStalenessSeconds&&(this.maxStalenessSeconds=this.options.maxStalenessSeconds)};ReadPreference.isValid=function(e){return e==ReadPreference.PRIMARY||e==ReadPreference.PRIMARY_PREFERRED||e==ReadPreference.SECONDARY||e==ReadPreference.SECONDARY_PREFERRED||e==ReadPreference.NEAREST||1==e||0==e||null==e},ReadPreference.prototype.isValid=function(e){var r=\"string\"==typeof e?e:this.mode;return ReadPreference.isValid(r)},ReadPreference.prototype.toObject=function(){var e={mode:this.mode};return null!=this.tags&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},ReadPreference.prototype.toJSON=function(){return this.toObject()},ReadPreference.PRIMARY=\"primary\",ReadPreference.PRIMARY_PREFERRED=\"primaryPreferred\",ReadPreference.SECONDARY=\"secondary\",ReadPreference.SECONDARY_PREFERRED=\"secondaryPreferred\",ReadPreference.NEAREST=\"nearest\",module.exports=ReadPreference;","node_modules/mongodb/lib/gridfs/grid_store.js":"\"use strict\";var Chunk=require(\"./chunk\"),ObjectID=require(\"mongodb-core\").BSON.ObjectID,ReadPreference=require(\"../read_preference\"),Buffer=require(\"buffer\").Buffer,Collection=require(\"../collection\"),fs=require(\"fs\"),f=require(\"util\").format,util=require(\"util\"),Define=require(\"../metadata\"),MongoError=require(\"mongodb-core\").MongoError,inherits=util.inherits,Duplex=require(\"stream\").Duplex||require(\"readable-stream\").Duplex,shallowClone=require(\"../utils\").shallowClone,REFERENCE_BY_FILENAME=0,REFERENCE_BY_ID=1,GridStore=function e(n,t,i,o,r){if(!(this instanceof e))return new e(n,t,i,o,r);this.db=n,void 0===r&&(r={}),void 0===o?(o=i,i=void 0):\"object\"==typeof o&&(r=o,o=i,i=void 0),t&&\"ObjectID\"==t._bsontype?(this.referenceBy=REFERENCE_BY_ID,this.fileId=t,this.filename=i):void 0===i?(this.referenceBy=REFERENCE_BY_FILENAME,this.filename=t,null!=o.indexOf(\"w\")&&(this.fileId=new ObjectID)):(this.referenceBy=REFERENCE_BY_ID,this.fileId=t,this.filename=i),this.mode=null==o?\"r\":o,this.options=r||{},this.isOpen=!1,this.root=null==this.options.root?e.DEFAULT_ROOT_COLLECTION:this.options.root,this.position=0,this.readPreference=this.options.readPreference||n.options.readPreference||ReadPreference.PRIMARY,this.writeConcern=_getWriteConcern(n,this.options),this.internalChunkSize=null==this.options.chunkSize?Chunk.DEFAULT_CHUNK_SIZE:this.options.chunkSize;var l=this.options.promiseLibrary;l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),this.promiseLibrary=l,Object.defineProperty(this,\"chunkSize\",{enumerable:!0,get:function(){return this.internalChunkSize},set:function(e){\"w\"!=this.mode[0]||0!=this.position||null!=this.uploadDate?this.internalChunkSize=this.internalChunkSize:this.internalChunkSize=e}}),Object.defineProperty(this,\"md5\",{enumerable:!0,get:function(){return this.internalMd5}}),Object.defineProperty(this,\"chunkNumber\",{enumerable:!0,get:function(){return this.currentChunk&&this.currentChunk.chunkNumber?this.currentChunk.chunkNumber:null}})},define=GridStore.define=new Define(\"Gridstore\",GridStore,!0);GridStore.prototype.open=function(e){var n=this;if(\"w\"!=this.mode&&\"w+\"!=this.mode&&\"r\"!=this.mode)throw MongoError.create({message:\"Illegal mode \"+this.mode,driver:!0});return\"function\"==typeof e?open(n,e):new n.promiseLibrary(function(e,t){open(n,function(n,i){if(n)return t(n);e(i)})})};var open=function(e,n){var t=_getWriteConcern(e.db,e.options);if(\"w\"==e.mode||\"w+\"==e.mode){e.collection().ensureIndex([[\"filename\",1]],t,function(){var i=e.chunkCollection(),o=shallowClone(t);o.unique=!0,i.ensureIndex([[\"files_id\",1],[\"n\",1]],o,function(){_open(e,t,function(t,i){if(t)return n(t);e.isOpen=!0,n(t,i)})})})}else _open(e,t,function(t,i){if(t)return n(t);e.isOpen=!0,n(t,i)})};define.classMethod(\"open\",{callback:!0,promise:!0}),GridStore.prototype.eof=function(){return this.position==this.length},define.classMethod(\"eof\",{callback:!1,promise:!1,returns:[Boolean]}),GridStore.prototype.getc=function(e){var n=this;return\"function\"==typeof e?eof(n,e):new n.promiseLibrary(function(e,t){eof(n,function(n,i){if(n)return t(n);e(i)})})};var eof=function(e,n){e.eof()?n(null,null):e.currentChunk.eof()?nthChunk(e,e.currentChunk.chunkNumber+1,function(t,i){e.currentChunk=i,e.position=e.position+1,n(t,e.currentChunk.getc())}):(e.position=e.position+1,n(null,e.currentChunk.getc()))};define.classMethod(\"getc\",{callback:!0,promise:!0}),GridStore.prototype.puts=function(e,n){var t=this,i=null==e.match(/\\n$/)?e+\"\\n\":e;return\"function\"==typeof n?this.write(i,n):new t.promiseLibrary(function(e,n){t.write(i,function(t,i){if(t)return n(t);e(i)})})},define.classMethod(\"puts\",{callback:!0,promise:!0}),GridStore.prototype.stream=function(){return new GridStoreStream(this)},define.classMethod(\"stream\",{callback:!1,promise:!1,returns:[GridStoreStream]}),GridStore.prototype.write=function(e,n,t){var i=this;return\"function\"==typeof t?_writeNormal(this,e,n,t):new i.promiseLibrary(function(t,o){_writeNormal(i,e,n,function(e,n){if(e)return o(e);t(n)})})},define.classMethod(\"write\",{callback:!0,promise:!0}),GridStore.prototype.destroy=function(){this.writable&&(this.readable=!1,this.writable&&(this.writable=!1,this._q.length=0,this.emit(\"close\")))},define.classMethod(\"destroy\",{callback:!1,promise:!1}),GridStore.prototype.writeFile=function(e,n){var t=this;return\"function\"==typeof n?writeFile(t,e,n):new t.promiseLibrary(function(n,i){writeFile(t,e,function(e,t){if(e)return i(e);n(t)})})};var writeFile=function(e,n,t){\"string\"!=typeof n?e.open(function(e,i){if(e)return t(e,i);fs.fstat(n,function(e,o){if(e)return t(e,i);var r=0,l=0,u=function(){var e=new Buffer(i.chunkSize);fs.read(n,e,0,e.length,r,function(e,s,a){if(e)return t(e,i);r+=s;new Chunk(i,{n:l++},i.writeConcern).write(a.slice(0,s),function(e,l){if(e)return t(e,i);l.save({},function(e){return e?t(e,i):(i.position=i.position+s,i.currentChunk=l,r>=o.size?(fs.close(n),void i.close(function(e){return t(e||null,i)})):process.nextTick(u))})})})};process.nextTick(u)})}):fs.open(n,\"r\",function(n,i){if(n)return t(n);e.writeFile(i,t)})};define.classMethod(\"writeFile\",{callback:!0,promise:!0}),GridStore.prototype.close=function(e){var n=this;return\"function\"==typeof e?close(n,e):new n.promiseLibrary(function(e,t){close(n,function(n,i){if(n)return t(n);e(i)})})};var close=function(e,n){if(\"w\"==e.mode[0]){var t=e.writeConcern;null!=e.currentChunk&&e.currentChunk.position>0?e.currentChunk.save({},function(i){if(i&&\"function\"==typeof n)return n(i);e.collection(function(i,o){if(i&&\"function\"==typeof n)return n(i);null!=e.uploadDate?buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})}):(e.uploadDate=new Date,buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})}))})}):e.collection(function(i,o){if(i&&\"function\"==typeof n)return n(i);e.uploadDate=new Date,buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})})})}else\"r\"==e.mode[0]?\"function\"==typeof n&&n(null,null):\"function\"==typeof n&&n(MongoError.create({message:f(\"Illegal mode %s\",e.mode),driver:!0}))};define.classMethod(\"close\",{callback:!0,promise:!0}),GridStore.prototype.chunkCollection=function(e){return\"function\"==typeof e?this.db.collection(this.root+\".chunks\",e):this.db.collection(this.root+\".chunks\")},define.classMethod(\"chunkCollection\",{callback:!0,promise:!1,returns:[Collection]}),GridStore.prototype.unlink=function(e){var n=this;return\"function\"==typeof e?unlink(n,e):new n.promiseLibrary(function(e,t){unlink(n,function(n,i){if(n)return t(n);e(i)})})};var unlink=function(e,n){deleteChunks(e,function(t){if(null!==t)return t.message=\"at deleteChunks: \"+t.message,n(t);e.collection(function(t,i){if(null!==t)return t.message=\"at collection: \"+t.message,n(t);i.remove({_id:e.fileId},e.writeConcern,function(t){n(t,e)})})})};define.classMethod(\"unlink\",{callback:!0,promise:!0}),GridStore.prototype.collection=function(e){return\"function\"==typeof e&&this.db.collection(this.root+\".files\",e),this.db.collection(this.root+\".files\")},define.classMethod(\"collection\",{callback:!0,promise:!1,returns:[Collection]}),GridStore.prototype.readlines=function(e,n){var t=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=i.pop())&&i.push(n),e=i.length?i.shift():\"\\n\",e=e||\"\\n\",\"function\"==typeof n?readlines(t,e,n):new t.promiseLibrary(function(n,i){readlines(t,e,function(e,t){if(e)return i(e);n(t)})})};var readlines=function(e,n,t){e.read(function(e,i){if(e)return t(e);var o=i.toString().split(n);o=o.length>0?o.splice(0,o.length-1):[];for(var r=0;r<o.length;r++)o[r]=o[r]+n;t(null,o)})};define.classMethod(\"readlines\",{callback:!0,promise:!0}),GridStore.prototype.rewind=function(e){var n=this;return\"function\"==typeof e?rewind(n,e):new n.promiseLibrary(function(e,t){rewind(n,function(n,i){if(n)return t(n);e(i)})})};var rewind=function(e,n){0!=e.currentChunk.chunkNumber?\"w\"==e.mode[0]?deleteChunks(e,function(t){if(t)return n(t);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.position=0,n(null,e)}):e.currentChunk(0,function(t,i){if(t)return n(t);e.currentChunk=i,e.currentChunk.rewind(),e.position=0,n(null,e)}):(e.currentChunk.rewind(),e.position=0,n(null,e))};define.classMethod(\"rewind\",{callback:!0,promise:!0}),GridStore.prototype.read=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=o.pop())&&o.push(t),e=o.length?o.shift():null,n=o.length?o.shift():null,\"function\"==typeof t?read(i,e,n,t):new i.promiseLibrary(function(t,o){read(i,e,n,function(e,n){if(e)return o(e);t(n)})})};var read=function(e,n,t,i){var o=null==n?e.length-e.position:n,r=null==t?new Buffer(o):t;if(r._index=null!=t&&null!=t._index?t._index:0,e.currentChunk.length()-e.currentChunk.position+r._index>=o){var l=e.currentChunk.readSlice(o-r._index);return l.copy(r,r._index),e.position=e.position+r.length,0==o&&0==r.length?i(MongoError.create({message:\"File does not exist\",driver:!0}),null):i(null,r)}(l=e.currentChunk.readSlice(e.currentChunk.length()-e.currentChunk.position)).copy(r,r._index),r._index+=l.length,nthChunk(e,e.currentChunk.chunkNumber+1,function(t,o){if(t)return i(t);o.length()>0?(e.currentChunk=o,e.read(n,r,i)):r._index>0?i(null,r):i(MongoError.create({message:\"no chunks found for file, possibly corrupt\",driver:!0}),null)})};define.classMethod(\"read\",{callback:!0,promise:!0}),GridStore.prototype.tell=function(e){var n=this;return\"function\"==typeof e?e(null,this.position):new n.promiseLibrary(function(e){e(n.position)})},define.classMethod(\"tell\",{callback:!0,promise:!0}),GridStore.prototype.seek=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=o.pop())&&o.push(t),n=o.length?o.shift():null,\"function\"==typeof t?seek(i,e,n,t):new i.promiseLibrary(function(t,o){seek(i,e,n,function(e,n){if(e)return o(e);t(n)})})};var seek=function(e,n,t,i){if(\"r\"!=e.mode)return i(MongoError.create({message:\"seek is only supported for mode r\",driver:!0}));var o=null==t?GridStore.IO_SEEK_SET:t,r=n,l=0;l=o==GridStore.IO_SEEK_CUR?e.position+r:o==GridStore.IO_SEEK_END?e.length+r:r;var u=Math.floor(l/e.chunkSize);nthChunk(e,u,function(n,t){return n?i(n,null):null==t?i(new Error(\"no chunk found\")):(e.currentChunk=t,e.position=l,e.currentChunk.position=e.position%e.chunkSize,void i(n,e))})};define.classMethod(\"seek\",{callback:!0,promise:!0});var _open=function(e,n,t){var i=e.collection(),o=e.referenceBy==REFERENCE_BY_ID?{_id:e.fileId}:{filename:e.filename};o=null==e.fileId&&null==e.filename?null:o,n.readPreference=e.readPreference,null!=o?i.findOne(o,n,function(i,o){if(i)return r(i);if(null!=o)e.fileId=o._id,e.filename=\"r\"==e.mode||void 0==e.filename?o.filename:e.filename,e.contentType=o.contentType,e.internalChunkSize=o.chunkSize,e.uploadDate=o.uploadDate,e.aliases=o.aliases,e.length=o.length,e.metadata=o.metadata,e.internalMd5=o.md5;else{if(\"r\"==e.mode){e.length=0;var l=\"ObjectID\"==e.fileId._bsontype?e.fileId.toHexString():e.fileId;return r(MongoError.create({message:f(\"file with id %s not opened for writing\",e.referenceBy==REFERENCE_BY_ID?l:e.filename),driver:!0}))}e.fileId=null==e.fileId?new ObjectID:e.fileId,e.contentType=GridStore.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?Chunk.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0}\"r\"==e.mode?nthChunk(e,0,n,function(n,i){if(n)return r(n);e.currentChunk=i,e.position=0,t(null,e)}):\"w\"==e.mode&&o?deleteChunks(e,n,function(n){if(n)return r(n);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)}):\"w\"==e.mode?(e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)):\"w+\"==e.mode&&nthChunk(e,lastChunkNumber(e),n,function(n,i){if(n)return r(n);e.currentChunk=null==i?new Chunk(e,{n:0},e.writeConcern):i,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,t(null,e)})}):(e.fileId=null==e.fileId?new ObjectID:e.fileId,e.contentType=GridStore.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?Chunk.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0,\"w\"==e.mode?deleteChunks(e,n,function(n){if(n)return r(n);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)}):\"w+\"==e.mode&&nthChunk(e,lastChunkNumber(e),n,function(n,i){if(n)return r(n);e.currentChunk=null==i?new Chunk(e,{n:0},e.writeConcern):i,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,t(null,e)}));function r(e){r.err||t(r.err=e)}},writeBuffer=function(e,n,t,i){\"function\"==typeof t&&(i=t,t=null);var o=\"boolean\"==typeof t&&t;if(\"w\"!=e.mode)i(MongoError.create({message:f(\"file with id %s not opened for writing\",e.referenceBy==REFERENCE_BY_ID?e.referenceBy:e.filename),driver:!0}),null);else{if(!(e.currentChunk.position+n.length>=e.chunkSize))return e.position=e.position+n.length,e.currentChunk.write(n),o?e.close(function(n){i(n,e)}):i(null,e);for(var r=e.currentChunk.chunkNumber,l=e.chunkSize-e.currentChunk.position,u=n.slice(0,l),s=n.slice(l),a=[e.currentChunk.write(u)];s.length>=e.chunkSize;){var c=new Chunk(e,{n:r+1},e.writeConcern);u=s.slice(0,e.chunkSize),s=s.slice(e.chunkSize),r+=1,c.write(u),a.push(c)}e.currentChunk=new Chunk(e,{n:r+1},e.writeConcern),s.length>0&&e.currentChunk.write(s),e.position=e.position+n.length;for(var p=a.length,h=0;h<a.length;h++)a[h].save({},function(n){return n?i(n):(p-=1)<=0?o?e.close(function(n){i(n,e)}):i(null,e):void 0})}},buildMongoObject=function(e,n){var t={_id:e.fileId,filename:e.filename,contentType:e.contentType,length:e.position?e.position:0,chunkSize:e.chunkSize,uploadDate:e.uploadDate,aliases:e.aliases,metadata:e.metadata},i={filemd5:e.fileId,root:e.root};e.db.command(i,function(e,i){if(e)return n(e);t.md5=i.md5,n(null,t)})},nthChunk=function(e,n,t,i){\"function\"==typeof t&&(i=t,t={}),(t=t||e.writeConcern).readPreference=e.readPreference,e.chunkCollection().findOne({files_id:e.fileId,n:n},t,function(n,t){if(n)return i(n);i(null,new Chunk(e,null==t?{}:t,e.writeConcern))})},lastChunkNumber=function(e){return Math.floor((e.length?e.length-1:0)/e.chunkSize)},deleteChunks=function(e,n,t){\"function\"==typeof n&&(t=n,n={}),n=n||e.writeConcern,null!=e.fileId?e.chunkCollection().remove({files_id:e.fileId},n,function(e){if(e)return t(e,!1);t(null,!0)}):t(null,!0)};GridStore.DEFAULT_ROOT_COLLECTION=\"fs\",GridStore.DEFAULT_CONTENT_TYPE=\"binary/octet-stream\",GridStore.IO_SEEK_SET=0,GridStore.IO_SEEK_CUR=1,GridStore.IO_SEEK_END=2,GridStore.exist=function(e,n,t,i,o){var r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=r.pop())&&r.push(o),t=r.length?r.shift():null;var l=(i=(i=r.length?r.shift():{})||{}).promiseLibrary;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof o?exists(e,n,t,i,o):new l(function(o,r){exists(e,n,t,i,function(e,n){if(e)return r(e);o(n)})})};var exists=function(e,n,t,i,o){var r=i.readPreference||ReadPreference.PRIMARY,l=null!=t?t:GridStore.DEFAULT_ROOT_COLLECTION;e.collection(l+\".files\",function(e,t){if(e)return o(e);var i=\"string\"==typeof n||\"[object RegExp]\"==Object.prototype.toString.call(n)?{filename:n}:{_id:n};null!=n&&\"object\"==typeof n&&\"[object RegExp]\"!=Object.prototype.toString.call(n)&&(i=n),t.findOne(i,{readPreference:r},function(e,n){if(e)return o(e);o(null,null!=n)})})};define.staticMethod(\"exist\",{callback:!0,promise:!0}),GridStore.list=function(e,n,t,i){var o=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length?o.shift():null;var r=(t=(t=o.length?o.shift():{})||{}).promiseLibrary;return r||(r=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof i?list(e,n,t,i):new r(function(i,o){list(e,n,t,function(e,n){if(e)return o(e);i(n)})})};var list=function(e,n,t,i){null!=n&&\"object\"==typeof n&&(t=n,n=null);var o=t.readPreference||ReadPreference.PRIMARY,r=null!=t.id&&t.id,l=null!=n?n:GridStore.DEFAULT_ROOT_COLLECTION,u=[];e.collection(l+\".files\",function(e,n){if(e)return i(e);n.find({},{readPreference:o},function(e,n){if(e)return i(e);n.each(function(e,n){null!=n?u.push(r?n._id:n.filename):i(e,u)})})})};define.staticMethod(\"list\",{callback:!0,promise:!0}),GridStore.read=function(e,n,t,i,o,r){var l=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(r=l.pop())&&l.push(r),t=l.length?l.shift():null,i=l.length?l.shift():null;var u=(o=(o=l.length?l.shift():null)||{})?o.promiseLibrary:null;return u||(u=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof r?readStatic(e,n,t,i,o,r):new u(function(r,l){readStatic(e,n,t,i,o,function(e,n){if(e)return l(e);r(n)})})};var readStatic=function(e,n,t,i,o,r){new GridStore(e,n,\"r\",o).open(function(e,n){return e?r(e):i&&i>=n.length?r(\"offset larger than size of file\",null):t&&t>n.length?r(\"length is larger than the size of the file\",null):i&&t&&i+t>n.length?r(\"offset and length is larger than the size of the file\",null):void(null!=i?n.seek(i,function(e,n){if(e)return r(e);n.read(t,r)}):n.read(t,r))})};define.staticMethod(\"read\",{callback:!0,promise:!0}),GridStore.readlines=function(e,n,t,i,o){var r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=r.pop())&&r.push(o),t=r.length?r.shift():null;var l=(i=(i=r.length?r.shift():null)||{})?i.promiseLibrary:null;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof o?readlinesStatic(e,n,t,i,o):new l(function(o,r){readlinesStatic(e,n,t,i,function(e,n){if(e)return r(e);o(n)})})};var readlinesStatic=function(e,n,t,i,o){var r=null==t?\"\\n\":t;new GridStore(e,n,\"r\",i).open(function(e,n){if(e)return o(e);n.readlines(r,o)})};define.staticMethod(\"readlines\",{callback:!0,promise:!0}),GridStore.unlink=function(e,n,t,i){var o=this,r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(i=r.pop())&&r.push(i);var l=(t=(t=r.length?r.shift():{})||{}).promiseLibrary;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof i?unlinkStatic(o,e,n,t,i):new l(function(i,r){unlinkStatic(o,e,n,t,function(e,n){if(e)return r(e);i(n)})})};var unlinkStatic=function(e,n,t,i,o){var r=_getWriteConcern(n,i);if(t.constructor==Array)for(var l=0,u=0;u<t.length;u++)++l,GridStore.unlink(n,t[u],i,function(){0==--l&&o(null,e)});else new GridStore(n,t,\"w\",i).open(function(n,t){if(n)return o(n);deleteChunks(t,function(n){if(n)return o(n);t.collection(function(n,i){if(n)return o(n);i.remove({_id:t.fileId},r,function(n){o(n,e)})})})})};define.staticMethod(\"unlink\",{callback:!0,promise:!0});var _writeNormal=function(e,n,t,i){return Buffer.isBuffer(n)?writeBuffer(e,n,t,i):writeBuffer(e,new Buffer(n,\"binary\"),t,i)},_setWriteConcernHash=function(e){var n={};return null!=e.w&&(n.w=e.w),1==e.journal&&(n.j=e.journal),1==e.j&&(n.j=e.j),1==e.fsync&&(n.fsync=e.fsync),null!=e.wtimeout&&(n.wtimeout=e.wtimeout),n},_getWriteConcern=function(e,n){var t={w:1};if(null!=(n=n||{}).w||\"boolean\"==typeof n.j||\"boolean\"==typeof n.journal||\"boolean\"==typeof n.fsync?t=_setWriteConcernHash(n):null!=n.safe&&\"object\"==typeof n.safe?t=_setWriteConcernHash(n.safe):\"boolean\"==typeof n.safe?t={w:n.safe?1:0}:null!=e.options.w||\"boolean\"==typeof e.options.j||\"boolean\"==typeof e.options.journal||\"boolean\"==typeof e.options.fsync?t=_setWriteConcernHash(e.options):!e.safe||null==e.safe.w&&\"boolean\"!=typeof e.safe.j&&\"boolean\"!=typeof e.safe.journal&&\"boolean\"!=typeof e.safe.fsync?\"boolean\"==typeof e.safe&&(t={w:e.safe?1:0}):t=_setWriteConcernHash(e.safe),t.w<1&&(1==t.journal||1==t.j||1==t.fsync))throw MongoError.create({message:\"No acknowledgement using w < 1 cannot be combined with journal:true or fsync:true\",driver:!0});return t},GridStoreStream=function(e){Duplex.call(this),this.gs=e,this.endCalled=!1,this.totalBytesToRead=this.gs.length-this.gs.position,this.seekPosition=this.gs.position};inherits(GridStoreStream,Duplex),GridStoreStream.prototype._pipe=GridStoreStream.prototype.pipe,GridStoreStream.prototype.pipe=function(e){var n=this;return n.gs.isOpen?(n.totalBytesToRead=n.gs.length-n.gs.position,n._pipe.apply(n,[e])):n.gs.open(function(t){if(t)return n.emit(\"error\",t);n.totalBytesToRead=n.gs.length-n.gs.position,n._pipe.apply(n,[e])}),e},GridStoreStream.prototype._read=function(){var e=this,n=function(){e.gs.read(t,function(n,t){return n&&!e.endCalled?e.emit(\"error\",n):e.endCalled||null==t?e.push(null):(t.length<=e.totalBytesToRead?(e.totalBytesToRead=e.totalBytesToRead-t.length,e.push(t)):t.length>e.totalBytesToRead&&(e.totalBytesToRead=e.totalBytesToRead-t._index,e.push(t.slice(0,t._index))),void(e.totalBytesToRead<=0&&(e.endCalled=!0)))})},t=e.gs.length<e.gs.chunkSize?e.gs.length-e.seekPosition:e.gs.chunkSize;e.gs.isOpen?n():e.gs.open(function(t){if(e.totalBytesToRead=e.gs.length-e.gs.position,t)return e.emit(\"error\",t);n()})},GridStoreStream.prototype.destroy=function(){this.pause(),this.endCalled=!0,this.gs.close(),this.emit(\"end\")},GridStoreStream.prototype.write=function(e){var n=this;return n.endCalled?n.emit(\"error\",MongoError.create({message:\"attempting to write to stream after end called\",driver:!0})):n.gs.isOpen?(n.gs.write(e,function(){n.emit(\"drain\")}),!0):(n.gs.open(function(){n.gs.isOpen=!0,n.gs.write(e,function(){process.nextTick(function(){n.emit(\"drain\")})})}),!1)},GridStoreStream.prototype.end=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(t=o.pop())&&o.push(t),e=o.length?o.shift():null,o.length&&o.shift(),i.endCalled=!0,e&&i.gs.write(e,function(){i.gs.close(function(){\"function\"==typeof t&&t(),i.emit(\"end\")})}),i.gs.close(function(){\"function\"==typeof t&&t(),i.emit(\"end\")})},module.exports=GridStore;","node_modules/mongodb/lib/gridfs/chunk.js":"\"use strict\";var Binary=require(\"mongodb-core\").BSON.Binary,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Chunk=function(t,n,i){if(!(this instanceof Chunk))return new Chunk(t,n);this.file=t;var e=null==n?{}:n;if(this.writeConcern=i||{w:1},this.objectId=null==e._id?new ObjectID:e._id,this.chunkNumber=null==e.n?0:e.n,this.data=new Binary,\"string\"==typeof e.data){var r=new Buffer(e.data.length);r.write(e.data,0,e.data.length,\"binary\"),this.data=new Binary(r)}else if(Array.isArray(e.data)){r=new Buffer(e.data.length);var o=e.data.join(\"\");r.write(o,0,o.length,\"binary\"),this.data=new Binary(r)}else if(e.data&&\"Binary\"===e.data._bsontype)this.data=e.data;else if(!Buffer.isBuffer(e.data)&&null!=e.data)throw Error(\"Illegal chunk format\");this.internalPosition=0};Chunk.prototype.write=function(t,n){return this.data.write(t,this.internalPosition,t.length,\"binary\"),this.internalPosition=this.data.length(),null!=n?n(null,this):this},Chunk.prototype.read=function(t){if(t=null==t||0==t?this.length():t,this.length()-this.internalPosition+1>=t){var n=this.data.read(this.internalPosition,t);return this.internalPosition=this.internalPosition+t,n}return\"\"},Chunk.prototype.readSlice=function(t){if(this.length()-this.internalPosition>=t){var n=null;return null!=this.data.buffer?n=this.data.buffer.slice(this.internalPosition,this.internalPosition+t):(n=new Buffer(t),t=this.data.readInto(n,this.internalPosition)),this.internalPosition=this.internalPosition+t,n}return null},Chunk.prototype.eof=function(){return this.internalPosition==this.length()},Chunk.prototype.getc=function(){return this.read(1)},Chunk.prototype.rewind=function(){this.internalPosition=0,this.data=new Binary},Chunk.prototype.save=function(t,n){var i=this;\"function\"==typeof t&&(n=t,t={}),i.file.chunkCollection(function(e,r){if(e)return n(e);var o={upsert:!0};for(var a in t)o[a]=t[a];for(a in i.writeConcern)o[a]=i.writeConcern[a];i.data.length()>0?i.buildMongoObject(function(t){var e={forceServerObjectId:!0};for(var a in i.writeConcern)e[a]=i.writeConcern[a];r.replaceOne({_id:i.objectId},t,o,function(t){n(t,i)})}):n(null,i)})},Chunk.prototype.buildMongoObject=function(t){var n={files_id:this.file.fileId,n:this.chunkNumber,data:this.data};null!=this.objectId&&(n._id=this.objectId),t(n)},Chunk.prototype.length=function(){return this.data.length()},Object.defineProperty(Chunk.prototype,\"position\",{enumerable:!0,get:function(){return this.internalPosition},set:function(t){this.internalPosition=t}}),Chunk.DEFAULT_CHUNK_SIZE=261120,module.exports=Chunk;","node_modules/mongodb/lib/cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,formattedOrderClause=require(\"./utils\").formattedOrderClause,handleCallback=require(\"./utils\").handleCallback,ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"mongodb-core\").Cursor,Map=require(\"mongodb-core\").BSON.Map,CoreReadPreference=require(\"mongodb-core\").ReadPreference,flags=[\"tailable\",\"oplogReplay\",\"noCursorTimeout\",\"awaitData\",\"exhaust\",\"partial\"],fields=[\"numberOfRetries\",\"tailableRetryInterval\"],push=Array.prototype.push,Cursor=function(r,e,s,t,o,i){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var n=Cursor.INIT,a=t.numberOfRetries||5,u=t.tailableRetryInterval||500,c=a,l=t.promiseLibrary;l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={numberOfRetries:a,tailableRetryInterval:u,currentNumberOfRetries:c,state:n,streamOptions:{},bson:r,ns:e,cmd:s,options:t,topology:o,topologyOptions:i,promiseLibrary:l,currentDoc:null},1==this.s.options.noCursorTimeout&&this.addCursorFlag(\"noCursorTimeout\",!0),this.sortValue=this.s.cmd.sort;var d=s.cursor&&s.cursor.batchSize?s.cursor&&s.cursor.batchSize:t.cursor&&t.cursor.batchSize?t.cursor.batchSize:1e3;this.setCursorBatchSize(d)};inherits(Cursor,Readable),CoreCursor.prototype._next=CoreCursor.prototype.next;for(var name in CoreCursor.prototype)Cursor.prototype[name]=CoreCursor.prototype[name];var define=Cursor.define=new Define(\"Cursor\",Cursor,!0);Cursor.prototype.hasNext=function(r){var e=this;return\"function\"==typeof r?e.s.currentDoc?r(null,!0):nextObject(e,function(s,t){return s?r(s,null):t?(e.s.currentDoc=t,void r(null,!0)):r(null,!1)}):new this.s.promiseLibrary(function(r,s){e.s.currentDoc?r(!0):nextObject(e,function(t,o){return e.s.state==Cursor.CLOSED||e.isDead()?r(!1):t?s(t):o?(e.s.currentDoc=o,void r(!0)):r(!1)})})},define.classMethod(\"hasNext\",{callback:!0,promise:!0}),Cursor.prototype.next=function(r){var e=this;if(\"function\"==typeof r){if(e.s.currentDoc){var s=e.s.currentDoc;return e.s.currentDoc=null,r(null,s)}return nextObject(e,r)}return new this.s.promiseLibrary(function(r,s){if(e.s.currentDoc){var t=e.s.currentDoc;return e.s.currentDoc=null,r(t)}nextObject(e,function(e,t){if(e)return s(e);r(t)})})},define.classMethod(\"next\",{callback:!0,promise:!0}),Cursor.prototype.filter=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.query=r,this},define.classMethod(\"filter\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxScan=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxScan=r,this},define.classMethod(\"maxScan\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.hint=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.hint=r,this},define.classMethod(\"hint\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.min=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.min=r,this},define.classMethod(\"min\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.max=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.max=r,this},define.classMethod(\"max\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.returnKey=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.returnKey=r,this},define.classMethod(\"returnKey\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.showRecordId=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.showDiskLoc=r,this},define.classMethod(\"showRecordId\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.snapshot=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.snapshot=r,this},define.classMethod(\"snapshot\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.setCursorOption=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(-1==fields.indexOf(r))throw MongoError.create({message:f(\"option %s not a supported option %s\",r,fields),driver:!0});return this.s[r]=e,\"numberOfRetries\"==r&&(this.s.currentNumberOfRetries=e),this},define.classMethod(\"setCursorOption\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.addCursorFlag=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(-1==flags.indexOf(r))throw MongoError.create({message:f(\"flag %s not a supported flag %s\",r,flags),driver:!0});if(\"boolean\"!=typeof e)throw MongoError.create({message:f(\"flag %s must be a boolean value\",r),driver:!0});return this.s.cmd[r]=e,this},define.classMethod(\"addCursorFlag\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.addQueryModifier=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"$\"!=r[0])throw MongoError.create({message:f(\"%s is not a valid query modifier\"),driver:!0});var s=r.substr(1);return this.s.cmd[s]=e,\"orderby\"==s&&(this.s.cmd.sort=this.s.cmd[s]),this},define.classMethod(\"addQueryModifier\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.comment=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.comment=r,this},define.classMethod(\"comment\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxAwaitTimeMS=function(r){if(\"number\"!=typeof r)throw MongoError.create({message:\"maxAwaitTimeMS must be a number\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxAwaitTimeMS=r,this},define.classMethod(\"maxAwaitTimeMS\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxTimeMS=function(r){if(\"number\"!=typeof r)throw MongoError.create({message:\"maxTimeMS must be a number\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxTimeMS=r,this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxTimeMs=Cursor.prototype.maxTimeMS,define.classMethod(\"maxTimeMs\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.project=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.fields=r,this},define.classMethod(\"project\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.sort=function(r,e){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support sorting\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});var s=r;return Array.isArray(s)&&Array.isArray(s[0])&&(s=new Map(s.map(function(r){var e=[r[0],null];if(\"asc\"==r[1])e[1]=1;else if(\"desc\"==r[1])e[1]=-1;else{if(1!=r[1]&&-1!=r[1])throw new MongoError(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");e[1]=r[1]}return e}))),null!=e&&(s=[[r,e]]),this.s.cmd.sort=s,this.sortValue=s,this},define.classMethod(\"sort\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.batchSize=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support batchSize\",driver:!0});if(this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.batchSize=r,this.setCursorBatchSize(r),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.collation=function(r){return this.s.cmd.collation=r,this},define.classMethod(\"collation\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.limit=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support limit\",driver:!0});if(this.s.state==Cursor.OPEN||this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"limit requires an integer\",driver:!0});return this.s.cmd.limit=r,this.setCursorLimit(r),this},define.classMethod(\"limit\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.skip=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support skip\",driver:!0});if(this.s.state==Cursor.OPEN||this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"skip requires an integer\",driver:!0});return this.s.cmd.skip=r,this.setCursorSkip(r),this},define.classMethod(\"skip\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.nextObject=Cursor.prototype.next;var nextObject=function(r,e){if(r.s.state==Cursor.CLOSED||r.isDead&&r.isDead())return handleCallback(e,MongoError.create({message:\"Cursor is closed\",driver:!0}));if(r.s.state==Cursor.INIT&&r.s.cmd.sort)try{r.s.cmd.sort=formattedOrderClause(r.s.cmd.sort)}catch(r){return handleCallback(e,r)}r._next(function(s,t){if(r.s.state=Cursor.OPEN,s)return handleCallback(e,s);handleCallback(e,null,t)})};define.classMethod(\"nextObject\",{callback:!0,promise:!0});var loop=function(r,e){if(0!=r.bufferedCount())return r._next(e),loop};Cursor.prototype.next=Cursor.prototype.nextObject,define.classMethod(\"next\",{callback:!0,promise:!0}),Cursor.prototype.each=function(r){this.rewind(),this.s.state=Cursor.INIT,_each(this,r)},define.classMethod(\"each\",{callback:!0,promise:!1});var _each=function(r,e){if(!e)throw MongoError.create({message:\"callback is mandatory\",driver:!0});if(!r.isNotified()){if(r.s.state==Cursor.CLOSED||r.isDead())return handleCallback(e,MongoError.create({message:\"Cursor is closed\",driver:!0}));r.s.state==Cursor.INIT&&(r.s.state=Cursor.OPEN);var s=null;if(r.bufferedCount()>0){for(;s=loop(r,e);)s(r,e);_each(r,e)}else r.next(function(s,t){return s?handleCallback(e,s):null==t?(r.s.state=Cursor.CLOSED,handleCallback(e,null,null)):void(0!=handleCallback(e,null,t)&&_each(r,e))})}};Cursor.prototype.forEach=function(r,e){this.each(function(s,t){if(s)return e(s),!1;if(null!=t)return r(t),!0;if(null==t&&e){var o=e;return e=null,o(null),!1}})},define.classMethod(\"forEach\",{callback:!0,promise:!1}),Cursor.prototype.setReadPreference=function(r){if(this.s.state!=Cursor.INIT)throw MongoError.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return r instanceof ReadPreference?this.s.options.readPreference=new CoreReadPreference(r.mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}):\"string\"==typeof r?this.s.options.readPreference=new CoreReadPreference(r):r instanceof CoreReadPreference&&(this.s.options.readPreference=r),this},define.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.toArray=function(r){var e=this;if(e.s.options.tailable)throw MongoError.create({message:\"Tailable cursor cannot be converted to array\",driver:!0});return\"function\"==typeof r?toArray(e,r):new this.s.promiseLibrary(function(r,s){toArray(e,function(e,t){if(e)return s(e);r(t)})})};var toArray=function(r,e){var s=[];r.rewind(),r.s.state=Cursor.INIT;var t=function(){r._next(function(o,i){if(o)return handleCallback(e,o);if(null==i)return r.s.state=Cursor.CLOSED,handleCallback(e,null,s);if(s.push(i),r.bufferedCount()>0){var n=r.readBufferedDocuments(r.bufferedCount());r.s.transforms&&\"function\"==typeof r.s.transforms.doc&&(n=n.map(r.s.transforms.doc)),push.apply(s,n)}t()})};t()};define.classMethod(\"toArray\",{callback:!0,promise:!0}),Cursor.prototype.count=function(r,e,s){var t=this;if(null==t.s.cmd.query)throw MongoError.create({message:\"count can only be used with find command\",driver:!0});return\"function\"==typeof e&&(s=e,e={}),e=e||{},\"function\"==typeof s?count(t,r,e,s):new this.s.promiseLibrary(function(s,o){count(t,r,e,function(r,e){if(r)return o(r);s(e)})})};var count=function(r,e,s,t){\"function\"==typeof e&&(t=e,e=!0),e&&(\"number\"==typeof r.cursorSkip()&&(s.skip=r.cursorSkip()),\"number\"==typeof r.cursorLimit()&&(s.limit=r.cursorLimit()));var o=r.s.ns.indexOf(\".\"),i={count:r.s.ns.substr(o+1),query:r.s.cmd.query};r.s.cmd.readConcern&&(i.readConcern=r.s.cmd.readConcern),r.s.cmd.hint&&(i.hint=r.s.cmd.hint),\"number\"==typeof s.maxTimeMS?i.maxTimeMS=s.maxTimeMS:r.s.cmd&&\"number\"==typeof r.s.cmd.maxTimeMS&&(i.maxTimeMS=r.s.cmd.maxTimeMS),s.skip&&(i.skip=s.skip),s.limit&&(i.limit=s.limit),r.s.options.hint&&(i.hint=r.s.options.hint),r.server=r.topology,r.topology.command(f(\"%s.$cmd\",r.s.ns.substr(0,o)),i,function(r,e){t(r,e?e.result.n:null)},r.options)};define.classMethod(\"count\",{callback:!0,promise:!0}),Cursor.prototype.close=function(r){return this.s.state=Cursor.CLOSED,this.kill(),this.emit(\"close\"),\"function\"==typeof r?handleCallback(r,null,this):new this.s.promiseLibrary(function(r){r()})},define.classMethod(\"close\",{callback:!0,promise:!0}),Cursor.prototype.map=function(r){if(this.cursorState.transforms&&this.cursorState.transforms.doc){var e=this.cursorState.transforms.doc;this.cursorState.transforms.doc=function(s){return r(e(s))}}else this.cursorState.transforms={doc:r};return this},define.classMethod(\"map\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.isClosed=function(){return this.isDead()},define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),Cursor.prototype.destroy=function(r){r&&this.emit(\"error\",r),this.pause(),this.close()},define.classMethod(\"destroy\",{callback:!1,promise:!1}),Cursor.prototype.stream=function(r){return this.s.streamOptions=r||{},this},define.classMethod(\"stream\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.explain=function(r){var e=this;return this.s.cmd.explain=!0,this.s.cmd.readConcern&&delete this.s.cmd.readConcern,\"function\"==typeof r?this._next(r):new this.s.promiseLibrary(function(r,s){e._next(function(e,t){if(e)return s(e);r(t)})})},define.classMethod(\"explain\",{callback:!0,promise:!0}),Cursor.prototype._read=function(){var r=this;if(r.s.state==Cursor.CLOSED||r.isDead())return r.push(null);r.nextObject(function(e,s){return e?(r.listeners(\"error\")&&r.listeners(\"error\").length>0&&r.emit(\"error\",e),r.isDead()||r.close(),r.emit(\"end\"),r.emit(\"finish\")):\"function\"==typeof r.s.streamOptions.transform&&null!=s?r.push(r.s.streamOptions.transform(s)):r.cursorState.transforms&&\"function\"==typeof r.cursorState.transforms.doc&&null!=s?r.push(r.cursorState.transforms.doc(s)):void r.push(s)})},Object.defineProperty(Cursor.prototype,\"readPreference\",{enumerable:!0,get:function(){return this&&this.s?this.s.options.readPreference:null}}),Object.defineProperty(Cursor.prototype,\"namespace\",{enumerable:!0,get:function(){if(!this||!this.s)return null;var r=this.s.ns||\"\",e=r.indexOf(\".\");return e<0?{database:this.s.ns,collection:\"\"}:{database:r.substr(0,e),collection:r.substr(e+1)}}}),Cursor.INIT=0,Cursor.OPEN=1,Cursor.CLOSED=2,Cursor.GET_MORE=3,module.exports=Cursor;","node_modules/mongodb/lib/gridfs-stream/index.js":"var Emitter=require(\"events\").EventEmitter,GridFSBucketReadStream=require(\"./download\"),GridFSBucketWriteStream=require(\"./upload\"),shallowClone=require(\"../utils\").shallowClone,toError=require(\"../utils\").toError,util=require(\"util\"),DEFAULT_GRIDFS_BUCKET_OPTIONS={bucketName:\"fs\",chunkSizeBytes:261120};module.exports=GridFSBucket;function GridFSBucket(e,t){if(Emitter.apply(this),this.setMaxListeners(0),t&&\"object\"==typeof t){t=shallowClone(t);for(var i=Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS),r=0;r<i.length;++r)t[i[r]]||(t[i[r]]=DEFAULT_GRIDFS_BUCKET_OPTIONS[i[r]])}else t=DEFAULT_GRIDFS_BUCKET_OPTIONS;this.s={db:e,options:t,_chunksCollection:e.collection(t.bucketName+\".chunks\"),_filesCollection:e.collection(t.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:e.s.promiseLibrary||(\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise)}}util.inherits(GridFSBucket,Emitter),GridFSBucket.prototype.openUploadStream=function(e,t){return(t=t?shallowClone(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new GridFSBucketWriteStream(this,e,t)},GridFSBucket.prototype.openUploadStreamWithId=function(e,t,i){return(i=i?shallowClone(i):{}).chunkSizeBytes||(i.chunkSizeBytes=this.s.options.chunkSizeBytes),i.id=e,new GridFSBucketWriteStream(this,t,i)},GridFSBucket.prototype.openDownloadStream=function(e,t){var i={_id:e};return t={start:t&&t.start,end:t&&t.end},new GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,i,t)},GridFSBucket.prototype.delete=function(e,t){if(\"function\"==typeof t)return _delete(this,e,t);var i=this;return new this.s.promiseLibrary(function(t,r){_delete(i,e,function(e,i){e?r(e):t(i)})})};function _delete(e,t,i){e.s._filesCollection.deleteOne({_id:t},function(r,n){if(r)return i(r);e.s._chunksCollection.deleteMany({files_id:t},function(e){if(e)return i(e);if(!n.result.n){var r=\"FileNotFound: no file with id \"+t+\" found\";return i(new Error(r))}i()})})}GridFSBucket.prototype.find=function(e,t){e=e||{},t=t||{};var i=this.s._filesCollection.find(e);return null!=t.batchSize&&i.batchSize(t.batchSize),null!=t.limit&&i.limit(t.limit),null!=t.maxTimeMS&&i.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&i.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&i.skip(t.skip),null!=t.sort&&i.sort(t.sort),i},GridFSBucket.prototype.openDownloadStreamByName=function(e,t){var i={uploadDate:-1},r=null;t&&null!=t.revision&&(t.revision>=0?(i={uploadDate:1},r=t.revision):r=-t.revision-1);var n={filename:e};return t={sort:i,skip:r,start:t&&t.start,end:t&&t.end},new GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,n,t)},GridFSBucket.prototype.rename=function(e,t,i){if(\"function\"==typeof i)return _rename(this,e,t,i);var r=this;return new this.s.promiseLibrary(function(i,n){_rename(r,e,t,function(e,t){e?n(e):i(t)})})};function _rename(e,t,i,r){var n={_id:t},o={$set:{filename:i}};e.s._filesCollection.updateOne(n,o,function(e,i){return e?r(e):i.result.n?void r():r(toError(\"File with id \"+t+\" not found\"))})}GridFSBucket.prototype.drop=function(e){if(\"function\"==typeof e)return _drop(this,e);var t=this;return new this.s.promiseLibrary(function(e,i){_drop(t,function(t,r){t?i(t):e(r)})})};function _drop(e,t){e.s._filesCollection.drop(function(i){if(i)return t(i);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}","node_modules/bson/index.js":"var BSON=require(\"./lib/bson/bson\"),Binary=require(\"./lib/bson/binary\"),Code=require(\"./lib/bson/code\"),DBRef=require(\"./lib/bson/db_ref\"),Decimal128=require(\"./lib/bson/decimal128\"),Double=require(\"./lib/bson/double\"),Int32=require(\"./lib/bson/int_32\"),Long=require(\"./lib/bson/long\"),Map=require(\"./lib/bson/map\"),MaxKey=require(\"./lib/bson/max_key\"),MinKey=require(\"./lib/bson/min_key\"),ObjectId=require(\"./lib/bson/objectid\"),BSONRegExp=require(\"./lib/bson/regexp\"),Symbol=require(\"./lib/bson/symbol\"),Timestamp=require(\"./lib/bson/timestamp\");BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992,BSON.Binary=Binary,BSON.Code=Code,BSON.DBRef=DBRef,BSON.Decimal128=Decimal128,BSON.Double=Double,BSON.Int32=Int32,BSON.Long=Long,BSON.Map=Map,BSON.MaxKey=MaxKey,BSON.MinKey=MinKey,BSON.ObjectId=ObjectId,BSON.ObjectID=ObjectId,BSON.BSONRegExp=BSONRegExp,BSON.Symbol=Symbol,BSON.Timestamp=Timestamp,module.exports=BSON;","node_modules/require_optional/index.js":"var path=require(\"path\"),fs=require(\"fs\"),f=require(\"util\").format,resolveFrom=require(\"resolve-from\"),semver=require(\"semver\"),exists=fs.existsSync||path.existsSync,find_package_json=function(e){for(var r=!1;!r;)if(exists(e+\"/package.json\"))r=e;else{if(\"/\"===e)return!1;e=path.dirname(e)}return e},find_package_json_with_name=function(e){for(var r=module,n=!1;r;){i=r.filename;var i=find_package_json(i);if(i){var t=JSON.parse(fs.readFileSync(f(\"%s/package.json\",i))),a=e.split(/\\//);if(t.peerOptionalDependencies&&(!t.peerOptionalDependencies||t.peerOptionalDependencies[a[0]])){n=!0;break}r=r.parent}else r=r.parent}if(!n)throw new Error(f(\"no optional dependency [%s] defined in peerOptionalDependencies in any package.json\",a[0]));return{object:t,parts:a}},require_optional=function(e,r){(r=r||{}).strict=\"boolean\"!=typeof r.strict||r.strict;var n=find_package_json_with_name(e),i=n.object,t=n.parts,a=i.peerOptionalDependencies[t[0]],o=void 0,s=e;try{o=require(s)}catch(r){try{if(null==(s=resolveFrom(process.cwd(),e)))return;o=require(s)}catch(e){if(\"MODULE_NOT_FOUND\"===e.code)return}}var p=find_package_json(require.resolve(s));if(!p)throw new Error(\"package.json can not be located\");var c=JSON.parse(fs.readFileSync(f(\"%s/package.json\",p))).version;if(0==semver.satisfies(c,a)&&r.strict){var d=new Error(f(\"optional dependency [%s] found but version [%s] did not satisfy constraint [%s]\",t[0],c,a));throw d.code=\"OPTIONAL_MODULE_NOT_FOUND\",d}return o};require_optional.exists=function(e){try{return void 0!==require_optional(e)}catch(e){return!1}},module.exports=require_optional;","node_modules/mongodb-core/lib/error.js":"\"use strict\";function MongoError(r){this.name=\"MongoError\",this.message=r,Error.captureStackTrace(this,MongoError)}MongoError.create=function(r){var o=null;if(r instanceof Error)(o=new MongoError(r.message)).stack=r.stack;else if(\"string\"==typeof r)o=new MongoError(r);else{o=new MongoError(r.message||r.errmsg||r.$err||\"n/a\");for(var e in r)o[e]=r[e]}return o},MongoError.prototype=new Error,module.exports=MongoError;","node_modules/mongodb-core/lib/connection/connection.js":"\"use strict\";var inherits=require(\"util\").inherits,EventEmitter=require(\"events\").EventEmitter,net=require(\"net\"),tls=require(\"tls\"),crypto=require(\"crypto\"),f=require(\"util\").format,debugOptions=require(\"./utils\").debugOptions,Response=require(\"./commands\").Response,MongoError=require(\"../error\"),Logger=require(\"./logger\"),_id=0,debugFields=[\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"checkServerIdentity\"],connectionAccounting=!1,connections={},Connection=function(e,t){if(EventEmitter.call(this),this.options=t||{},this.id=_id++,this.logger=Logger(\"Connection\",t),!t.bson)throw new Error(\"must pass in valid bson parser\");this.bson=t.bson,this.tag=t.tag,this.messageHandler=e,this.maxBsonMessageSize=t.maxBsonMessageSize||67108864,this.logger.isDebug()&&this.logger.debug(f(\"creating connection %s with options [%s]\",this.id,JSON.stringify(debugOptions(debugFields,t)))),this.port=t.port||27017,this.host=t.host||\"localhost\",this.family=\"number\"==typeof t.family?t.family:4,this.keepAlive=\"boolean\"!=typeof t.keepAlive||t.keepAlive,this.keepAliveInitialDelay=\"number\"==typeof t.keepAliveInitialDelay?t.keepAliveInitialDelay:3e5,this.noDelay=\"boolean\"!=typeof t.noDelay||t.noDelay,this.connectionTimeout=\"number\"==typeof t.connectionTimeout?t.connectionTimeout:3e4,this.socketTimeout=\"number\"==typeof t.socketTimeout?t.socketTimeout:36e4,this.keepAliveInitialDelay>this.socketTimeout&&(this.keepAliveInitialDelay=Math.round(this.socketTimeout/2)),this.destroyed=!1,this.domainSocket=-1!=this.host.indexOf(\"/\"),this.singleBufferSerializtion=\"boolean\"!=typeof t.singleBufferSerializtion||t.singleBufferSerializtion,this.serializationFunction=this.singleBufferSerializtion?\"toBinUnified\":\"toBin\",this.ca=t.ca||null,this.crl=t.crl||null,this.cert=t.cert||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.ssl=\"boolean\"==typeof t.ssl&&t.ssl,this.rejectUnauthorized=\"boolean\"!=typeof t.rejectUnauthorized||t.rejectUnauthorized,this.checkServerIdentity=\"boolean\"!=typeof t.checkServerIdentity&&\"function\"!=typeof t.checkServerIdentity||t.checkServerIdentity,this.ssl||(this.rejectUnauthorized=!1),this.responseOptions={promoteLongs:\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,promoteValues:\"boolean\"!=typeof t.promoteValues||t.promoteValues,promoteBuffers:\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers},this.flushing=!1,this.queue=[],this.connection=null,this.writeStream=null;var n=crypto.createHash(\"sha1\");n.update(f(\"%s:%s\",this.host,this.port)),this.hashedName=n.digest(\"hex\"),this.workItems=[]};inherits(Connection,EventEmitter),Connection.prototype.setSocketTimeout=function(e){this.connection&&this.connection.setTimeout(e)},Connection.prototype.resetSocketTimeout=function(){this.connection&&this.connection.setTimeout(this.socketTimeout)},Connection.enableConnectionAccounting=function(){connectionAccounting=!0,connections={}},Connection.disableConnectionAccounting=function(){connectionAccounting=!1},Connection.connections=function(){return connections};function deleteConnection(e){delete connections[e]}function addConnection(e,t){connections[e]=t}var errorHandler=function(e){return function(t){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s for [%s:%s] errored out with [%s]\",e.id,e.host,e.port,JSON.stringify(t))),e.listeners(\"error\").length>0&&e.emit(\"error\",MongoError.create(t),e)}},timeoutHandler=function(e){return function(){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s for [%s:%s] timed out\",e.id,e.host,e.port)),e.emit(\"timeout\",MongoError.create(f(\"connection %s to %s:%s timed out\",e.id,e.host,e.port)),e)}},closeHandler=function(e){return function(t){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s with for [%s:%s] closed\",e.id,e.host,e.port)),t||e.emit(\"close\",MongoError.create(f(\"connection %s to %s:%s closed\",e.id,e.host,e.port)),e)}},dataHandler=function(e){return function(t){for(;t.length>0;)if(e.bytesRead>0&&e.sizeOfMessage>0){var n=e.sizeOfMessage-e.bytesRead;if(n>t.length)t.copy(e.buffer,e.bytesRead),e.bytesRead=e.bytesRead+t.length,t=new Buffer(0);else{t.copy(e.buffer,e.bytesRead,0,n),t=t.slice(n);try{var o=e.buffer;e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,e.messageHandler(new Response(e.bson,o,e.responseOptions),e)}catch(t){var i={err:\"socketHandler\",trace:t,bin:e.buffer,parseState:{sizeOfMessage:e.sizeOfMessage,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}};e.emit(\"parseError\",i,e)}}}else if(null!=e.stubBuffer&&e.stubBuffer.length>0)if(e.stubBuffer.length+t.length>4){var s=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(s,0),t.copy(s,e.stubBuffer.length),t=s,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null}else{var r=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(r,0),t.copy(r,e.stubBuffer.length),t=new Buffer(0)}else if(t.length>4){var c=t[0]|t[1]<<8|t[2]<<16|t[3]<<24;if(c<0||c>e.maxBsonMessageSize)return i={err:\"socketHandler\",trace:\"\",bin:e.buffer,parseState:{sizeOfMessage:c,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}},void e.emit(\"parseError\",i,e);if(c>4&&c<e.maxBsonMessageSize&&c>t.length)e.buffer=new Buffer(c),t.copy(e.buffer,0),e.bytesRead=t.length,e.sizeOfMessage=c,e.stubBuffer=null,t=new Buffer(0);else if(c>4&&c<e.maxBsonMessageSize&&c==t.length)try{o=t,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0),e.messageHandler(new Response(e.bson,o,e.responseOptions),e)}catch(t){e.emit(\"parseError\",t,e)}else c<=4||c>e.maxBsonMessageSize?(i={err:\"socketHandler\",trace:null,bin:t,parseState:{sizeOfMessage:c,bytesRead:0,buffer:null,stubBuffer:null}},e.emit(\"parseError\",i,e),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0)):(o=t.slice(0,c),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=t.slice(c),e.messageHandler(new Response(e.bson,o,e.responseOptions),e))}else e.stubBuffer=new Buffer(t.length),t.copy(e.stubBuffer,0),t=new Buffer(0)}},legalSslSocketOptions=[\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"NPNProtocols\",\"ALPNProtocols\",\"servername\",\"secureProtocol\",\"secureContext\",\"session\",\"minDHSize\"];function merge(e,t){for(var n in t)null!=t[n]&&-1!=legalSslSocketOptions.indexOf(n)&&(e[n]=t[n])}Connection.prototype.connect=function(e){var t=this;e=e||{},connectionAccounting&&addConnection(this.id,this),\"boolean\"==typeof e.promoteLongs&&(t.responseOptions.promoteLongs=e.promoteLongs,t.responseOptions.promoteValues=e.promoteValues,t.responseOptions.promoteBuffers=e.promoteBuffers);var n=t.domainSocket?{path:t.host}:{port:t.port,host:t.host,family:t.family};if(t.connection=net.createConnection(n),t.connection.setKeepAlive(t.keepAlive,t.keepAliveInitialDelay),t.connection.setTimeout(t.connectionTimeout),t.connection.setNoDelay(t.noDelay),t.ssl){var o={socket:t.connection,rejectUnauthorized:t.rejectUnauthorized};merge(o,this.options),merge(o,e),t.ca&&(o.ca=t.ca),t.crl&&(o.crl=t.crl),t.cert&&(o.cert=t.cert),t.key&&(o.key=t.key),t.passphrase&&(o.passphrase=t.passphrase),0==t.checkServerIdentity?o.checkServerIdentity=function(){}:\"function\"==typeof t.checkServerIdentity&&(o.checkServerIdentity=t.checkServerIdentity),null==o.servername&&(o.servername=t.host),t.connection=tls.connect(t.port,t.host,o,function(){if(t.connection.authorizationError&&t.rejectUnauthorized)return t.emit(\"error\",t.connection.authorizationError,t,{ssl:!0});t.connection.setTimeout(t.socketTimeout),t.emit(\"connect\",t)}),t.connection.setTimeout(t.connectionTimeout)}else t.connection.on(\"connect\",function(){t.connection.setTimeout(t.socketTimeout),t.emit(\"connect\",t)});t.connection.once(\"error\",errorHandler(t)),t.connection.once(\"timeout\",timeoutHandler(t)),t.connection.once(\"close\",closeHandler(t)),t.connection.on(\"data\",dataHandler(t))},Connection.prototype.unref=function(){if(this.connection)this.connection.unref();else{var e=this;this.once(\"connect\",function(){e.connection.unref()})}},Connection.prototype.destroy=function(){if(connectionAccounting&&deleteConnection(this.id),this.connection){try{this.connection.end()}catch(e){}this.connection.destroy()}this.destroyed=!0},Connection.prototype.write=function(e){var t;if(this.logger.isDebug())if(Array.isArray(e))for(t=0;t<e.length;t++)this.logger.debug(f(\"writing buffer [%s] to %s:%s\",e[t].toString(\"hex\"),this.host,this.port));else this.logger.debug(f(\"writing buffer [%s] to %s:%s\",e.toString(\"hex\"),this.host,this.port));if(!1===this.connection.destroyed){if(!Array.isArray(e))return this.connection.write(e,\"binary\"),!0;for(t=0;t<e.length;t++)this.connection.write(e[t],\"binary\");return!0}return!1},Connection.prototype.toString=function(){return\"\"+this.id},Connection.prototype.toJSON=function(){return{id:this.id,host:this.host,port:this.port}},Connection.prototype.isConnected=function(){return!this.destroyed&&(!this.connection.destroyed&&this.connection.writable)},module.exports=Connection;","node_modules/mongodb-core/lib/topologies/server.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,ReadPreference=require(\"./read_preference\"),Logger=require(\"../connection/logger\"),debugOptions=require(\"../connection/utils\").debugOptions,retrieveBSON=require(\"../connection/utils\").retrieveBSON,Pool=require(\"../connection/pool\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),PreTwoSixWireProtocolSupport=require(\"../wireprotocol/2_4_support\"),TwoSixWireProtocolSupport=require(\"../wireprotocol/2_6_support\"),ThreeTwoWireProtocolSupport=require(\"../wireprotocol/3_2_support\"),BasicCursor=require(\"../cursor\"),sdam=require(\"./shared\"),assign=require(\"../utils\").assign,createClientInfo=require(\"./shared\").createClientInfo,debugFields=[\"reconnect\",\"reconnectTries\",\"reconnectInterval\",\"emitError\",\"cursorFactory\",\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"checkServerIdentity\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"key\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"servername\"],id=0,serverAccounting=!1,servers={},BSON=retrieveBSON(),Server=function(e){e=e||{},EventEmitter.call(this),this.id=id++,this.s={options:e,logger:Logger(\"Server\",e),Cursor:e.cursorFactory||BasicCursor,bson:e.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),pool:null,disconnectHandler:e.disconnectHandler,monitoring:\"boolean\"!=typeof e.monitoring||e.monitoring,inTopology:\"boolean\"==typeof e.inTopology&&e.inTopology,monitoringInterval:\"number\"==typeof e.monitoringInterval?e.monitoringInterval:5e3,topologyId:-1},this.ismaster=null,this.lastIsMasterMS=-1,this.monitoringProcessId=null,this.initalConnect=!0,this.wireProtocolHandler=new PreTwoSixWireProtocolSupport,this._type=\"server\",this.clientInfo=createClientInfo(e),this.lastUpdateTime=0,this.lastWriteDate=0,this.staleness=0};inherits(Server,EventEmitter),Object.defineProperty(Server.prototype,\"type\",{enumerable:!0,get:function(){return this._type}}),Object.defineProperty(Server.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}}),Server.enableServerAccounting=function(){serverAccounting=!0,servers={}},Server.disableServerAccounting=function(){serverAccounting=!1},Server.servers=function(){return servers},Object.defineProperty(Server.prototype,\"name\",{enumerable:!0,get:function(){return this.s.options.host+\":\"+this.s.options.port}});function configureWireProtocolHandler(e,o){return o.maxWireVersion>=4?new ThreeTwoWireProtocolSupport(new TwoSixWireProtocolSupport):o.maxWireVersion>=2?new TwoSixWireProtocolSupport:new PreTwoSixWireProtocolSupport}function disconnectHandler(e,o,r,t,s,n){return e.s.pool.isConnected()||!e.s.options.reconnect||null==e.s.disconnectHandler||s.monitoring?e.s.pool.isConnected()?void 0:(n(MongoError.create(f(\"no connection available to server %s\",e.name))),!0):(e.s.disconnectHandler.add(o,r,t,s,n),!0)}function monitoringProcess(e){return function(){if(!e.s.pool.isDestroyed()){e.emit(\"monitoring\",e);var o=new Query(e.s.bson,\"admin.$cmd\",{ismaster:!0},{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),r=(new Date).getTime();e.s.pool.write(o,{socketTimeout:\"number\"!=typeof e.s.options.connectionTimeout?2e3:e.s.options.connectionTimeout,monitoring:!0},function(o,t){e.lastIsMasterMS=(new Date).getTime()-r,e.s.pool.isDestroyed()||(t&&(e.ismaster=t.result),e.monitoringProcessId=setTimeout(monitoringProcess(e),e.s.monitoringInterval))})}}}var eventHandler=function(e,o){return function(r){if(e.s.logger.isInfo()){var t=r instanceof MongoError?JSON.stringify(r):{};e.s.logger.info(f(\"server %s fired event %s out with message %s\",e.name,o,t))}if(\"connect\"==o){var s={numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0},n=new Query(e.s.bson,\"admin.$cmd\",{ismaster:!0,client:e.clientInfo},s),i=(new Date).getTime();e.s.pool.write(n,{socketTimeout:e.s.options.connectionTimeout||2e3},function(o,r){if(e.lastIsMasterMS=(new Date).getTime()-i,o)return e.destroy(),void(e.listeners(\"error\").length>0&&e.emit(\"error\",o));e.initalConnect=!1,e.ismaster=r.result,\"isdbgrid\"==e.ismaster.msg&&(e._type=\"mongos\"),e.wireProtocolHandler=configureWireProtocolHandler(e,e.ismaster),e.s.monitoring&&(e.monitoringProcessId=setTimeout(monitoringProcess(e),e.s.monitoringInterval)),sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}),e.s.inTopology||sdam.emitTopologyDescriptionChanged(e,{topologyType:\"Single\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}]}),e.s.logger.isInfo()&&e.s.logger.info(f(\"server %s connected with ismaster [%s]\",e.name,JSON.stringify(e.ismaster))),e.emit(\"connect\",e)})}else{if(serverAccounting&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\",\"reconnectFailed\"].indexOf(o)&&(e.s.inTopology||e.emit(\"topologyOpening\",{topologyId:e.id}),delete servers[e.id]),\"close\"===o&&sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),\"reconnectFailed\"==o)return e.emit(\"reconnectFailed\",r),void(e.listeners(\"error\").length>0&&e.emit(\"error\",r));if(\"disconnected\"==e.s.pool.state&&e.initalConnect&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\"].indexOf(o))return e.initalConnect=!1,e.emit(\"error\",new MongoError(f(\"failed to connect to server [%s] on first connect [%s]\",e.name,r)));if(\"reconnect\"==o)return sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}),e.emit(o,e);e.emit(o,r)}}};Server.prototype.connect=function(e){if(e=e||{},serverAccounting&&(servers[this.id]=this),this.s.pool&&!this.s.pool.isDisconnected()&&!this.s.pool.isDestroyed())throw MongoError.create(f(\"server instance in invalid state %s\",this.s.pool.state));this.s.pool=new Pool(assign(this.s.options,e,{bson:this.s.bson})),this.s.pool.on(\"close\",eventHandler(this,\"close\")),this.s.pool.on(\"error\",eventHandler(this,\"error\")),this.s.pool.on(\"timeout\",eventHandler(this,\"timeout\")),this.s.pool.on(\"parseError\",eventHandler(this,\"parseError\")),this.s.pool.on(\"connect\",eventHandler(this,\"connect\")),this.s.pool.on(\"reconnect\",eventHandler(this,\"reconnect\")),this.s.pool.on(\"reconnectFailed\",eventHandler(this,\"reconnectFailed\")),this.s.inTopology||this.emit(\"topologyOpening\",{topologyId:this.id}),this.emit(\"serverOpening\",{topologyId:-1!=this.s.topologyId?this.s.topologyId:this.id,address:this.name}),e.auth?this.s.pool.connect.apply(this.s.pool,e.auth):this.s.pool.connect()},Server.prototype.getDescription=function(){var e=this.ismaster||{},o={type:sdam.getTopologyType(this),address:this.name};return e.hosts&&(o.hosts=e.hosts),e.arbiters&&(o.arbiters=e.arbiters),e.passives&&(o.passives=e.passives),e.setName&&(o.setName=e.setName),o},Server.prototype.lastIsMaster=function(){return this.ismaster},Server.prototype.unref=function(){this.s.pool.unref()},Server.prototype.isConnected=function(){return!!this.s.pool&&this.s.pool.isConnected()},Server.prototype.isDestroyed=function(){return!!this.s.pool&&this.s.pool.isDestroyed()};function basicWriteValidations(e){return e.s.pool?e.s.pool.isDestroyed()?MongoError.create(\"server instance pool was destroyed\"):void 0:MongoError.create(\"server instance is not connected\")}function basicReadValidations(e,o){if(basicWriteValidations(e,o),o.readPreference&&!(o.readPreference instanceof ReadPreference))throw new Error(\"readPreference must be an instance of ReadPreference\")}Server.prototype.command=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicReadValidations(this,r);if(s)return t(s);if(r=assign({},r,{wireProtocolCommand:!1}),this.s.logger.isDebug()&&this.s.logger.debug(f(\"executing command [%s] against %s\",JSON.stringify({ns:e,cmd:o,options:debugOptions(debugFields,r)}),this.name)),!disconnectHandler(this,\"command\",e,o,r,t)){if(this.ismaster&&this.ismaster.maxWireVersion<5&&o.collation)return t(new MongoError(f(\"server %s does not support collation\",this.name)));\"boolean\"==typeof r.checkKeys&&r.checkKeys,\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined;var n=r.topology||{},i=this.wireProtocolHandler.command(this.s.bson,e,o,{},n,r);i.slaveOk=!!r.readPreference&&r.readPreference.slaveOk();var a={raw:\"boolean\"==typeof r.raw&&r.raw,promoteLongs:\"boolean\"!=typeof r.promoteLongs||r.promoteLongs,promoteValues:\"boolean\"!=typeof r.promoteValues||r.promoteValues,promoteBuffers:\"boolean\"==typeof r.promoteBuffers&&r.promoteBuffers,command:!0,monitoring:\"boolean\"==typeof r.monitoring&&r.monitoring,fullResult:\"boolean\"==typeof r.fullResult&&r.fullResult,requestId:i.requestId,socketTimeout:\"number\"==typeof r.socketTimeout?r.socketTimeout:null};this.s.pool.write(i,a,t)}},Server.prototype.insert=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"insert\",e,o,r,t))return o=Array.isArray(o)?o:[o],this.wireProtocolHandler.insert(this.s.pool,this.ismaster,e,this.s.bson,o,r,t)},Server.prototype.update=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"update\",e,o,r,t))return this.ismaster&&this.ismaster.maxWireVersion<5&&r.collation?t(new MongoError(f(\"server %s does not support collation\",this.name))):(o=Array.isArray(o)?o:[o],this.wireProtocolHandler.update(this.s.pool,this.ismaster,e,this.s.bson,o,r,t))},Server.prototype.remove=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"remove\",e,o,r,t))return this.ismaster&&this.ismaster.maxWireVersion<5&&r.collation?t(new MongoError(f(\"server %s does not support collation\",this.name))):(o=Array.isArray(o)?o:[o],this.wireProtocolHandler.remove(this.s.pool,this.ismaster,e,this.s.bson,o,r,t))},Server.prototype.cursor=function(e,o,r){var t=this.s;return new((r=r||{}).cursorFactory||t.Cursor)(t.bson,e,o,r,this,t.options)},Server.prototype.logout=function(e,o){this.s.pool.logout(e,o)},Server.prototype.auth=function(e,o){\"default\"==e&&this.ismaster&&this.ismaster.maxWireVersion>=3?e=\"scram-sha-1\":\"default\"==e&&(e=\"mongocr\");var r=Array.prototype.slice.call(arguments,0);r[0]=e;var t=r[r.length-1];if(!disconnectHandler(this,\"auth\",o,r,{},t))return this.lastIsMaster()&&this.lastIsMaster().arbiterOnly?t(null,!0):void this.s.pool.auth.apply(this.s.pool,r)},Server.prototype.equals=function(e){return\"string\"==typeof e?this.name.toLowerCase()==e.toLowerCase():!!e.name&&this.name.toLowerCase()==e.name.toLowerCase()},Server.prototype.connections=function(){return this.s.pool.allConnections()},Server.prototype.getServer=function(){return this},Server.prototype.getConnection=function(){return this.s.pool.get()};var listeners=[\"close\",\"error\",\"timeout\",\"parseError\",\"connect\"];Server.prototype.destroy=function(e){e=e||{};var o=this;serverAccounting&&delete servers[this.id],this.monitoringProcessId&&clearTimeout(this.monitoringProcessId),o.s.pool&&(e.emitClose&&o.emit(\"close\",o),e.emitDestroy&&o.emit(\"destroy\",o),listeners.forEach(function(e){o.s.pool.removeAllListeners(e)}),o.listeners(\"serverClosed\").length>0&&o.emit(\"serverClosed\",{topologyId:-1!=o.s.topologyId?o.s.topologyId:o.id,address:o.name}),o.listeners(\"topologyClosed\").length>0&&!o.s.inTopology&&o.emit(\"topologyClosed\",{topologyId:o.id}),o.s.logger.isDebug()&&o.s.logger.debug(f(\"destroy called on server %s\",o.name)),this.s.pool.destroy(e.force))},module.exports=Server;","node_modules/mongodb-core/lib/topologies/replset.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,ReadPreference=require(\"./read_preference\"),BasicCursor=require(\"../cursor\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,Logger=require(\"../connection/logger\"),MongoError=require(\"../error\"),Server=require(\"./server\"),ReplSetState=require(\"./replset_state\"),assign=require(\"../utils\").assign,clone=require(\"./shared\").clone,Timeout=require(\"./shared\").Timeout,Interval=require(\"./shared\").Interval,createClientInfo=require(\"./shared\").createClientInfo,MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),BSON=retrieveBSON(),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",UNREFERENCED=\"unreferenced\",DESTROYED=\"destroyed\";function stateTransition(e,t){var r={disconnected:[CONNECTING,DESTROYED,DISCONNECTED],connecting:[CONNECTING,DESTROYED,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYED,UNREFERENCED],unreferenced:[UNREFERENCED,DESTROYED],destroyed:[DESTROYED]}[e.state];r&&-1!=r.indexOf(t)?e.state=t:e.s.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,r))}var id=1,handlers=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],ReplSet=function(e,t){var r=this;if(t=t||{},!Array.isArray(e))throw new MongoError(\"seedlist must be an array\");if(0==e.length)throw new MongoError(\"seedlist must contain at least one entry\");e.forEach(function(e){if(\"string\"!=typeof e.host||\"number\"!=typeof e.port)throw new MongoError(\"seedlist entry must contain a host and port\")}),EventEmitter.call(this),this.id=id++;var n=t.localThresholdMS||15;t.acceptableLatency&&(n=t.acceptableLatency);var s=Logger(\"ReplSet\",t);this.s={options:assign({},t),bson:t.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),Cursor:t.cursorFactory||BasicCursor,logger:s,seedlist:e,replicaSetState:new ReplSetState({id:this.id,setName:t.setName,acceptableLatency:n,heartbeatFrequencyMS:t.haInterval?t.haInterval:1e4,logger:s}),connectingServers:[],haInterval:t.haInterval?t.haInterval:1e4,minHeartbeatFrequencyMS:500,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,clientInfo:createClientInfo(t),authenticationContexts:[]},this.s.replicaSetState.on(\"topologyDescriptionChanged\",function(e){r.emit(\"topologyDescriptionChanged\",e)}),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(f(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new MongoCR(this.s.bson),x509:new X509(this.s.bson),plain:new Plain(this.s.bson),gssapi:new GSSAPI(this.s.bson),sspi:new SSPI(this.s.bson),\"scram-sha-1\":new ScramSHA1(this.s.bson)};[\"joined\",\"left\"].forEach(function(e){r.s.replicaSetState.on(e,function(t,n){r.emit(e,t,n)})}),this.initialConnectState={connect:!1,fullsetup:!1,all:!1},this.state=DISCONNECTED,this.haTimeoutId=null,this.authenticating=!1,this.ismaster=null,this.intervalIds=[]};inherits(ReplSet,EventEmitter),Object.defineProperty(ReplSet.prototype,\"type\",{enumerable:!0,get:function(){return\"replset\"}}),Object.defineProperty(ReplSet.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}});function rexecuteOperations(e){e.s.replicaSetState.hasPrimaryAndSecondary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute():e.s.replicaSetState.hasPrimary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute({executePrimary:!0}):e.s.replicaSetState.hasSecondary()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute({executeSecondary:!0})}function connectNewServers(e,t,r){var n=t.length,s=null,i=function(e,t){return function(i){var o=this;if(n-=1,e.state==DESTROYED||e.state==UNREFERENCED)return this.destroy({force:!0});if(\"connect\"!=t||e.authenticating)\"connect\"==t&&e.authenticating?this.destroy({force:!0}):\"error\"==t&&(s=i);else{if(e.state==DESTROYED||e.state==UNREFERENCED)return o.destroy({force:!0});applyAuthenticationContexts(e,o,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return o.destroy({force:!0});if(e.s.replicaSetState.update(o)){o.lastIsMaster()&&o.lastIsMaster().ismaster&&(e.ismaster=o.lastIsMaster());for(var t=0;t<handlers.length;t++)o.removeAllListeners(handlers[t]);o.on(\"error\",handleEvent(e,\"error\")),o.on(\"close\",handleEvent(e,\"close\")),o.on(\"timeout\",handleEvent(e,\"timeout\")),o.on(\"parseError\",handleEvent(e,\"parseError\")),monitorServer(o.lastIsMaster().me,e,{}),rexecuteOperations(e)}else o.destroy({force:!0})})}rexecuteOperations(e),0==n&&r(s)}};if(0==n)return r();function o(t,r){setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){var r=new Server(assign({},e.s.options,{host:t.split(\":\")[0],port:parseInt(t.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(e.s.clientInfo)}));r.once(\"connect\",i(e,\"connect\")),r.once(\"close\",i(e,\"close\")),r.once(\"timeout\",i(e,\"timeout\")),r.once(\"error\",i(e,\"error\")),r.once(\"parseError\",i(e,\"parseError\")),r.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),r.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),r.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),r.connect(e.s.connectOptions)}},r)}for(var a=0;a<t.length;a++)o(t[a],a)}var pingServer=function(e,t,r){var n=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:t.name}),t.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(s,i){if(e.state==DESTROYED||e.state==UNREFERENCED)return t.destroy({force:!0}),r(s,i);var o=(new Date).getTime()-n,a=process.hrtime();t.lastUpdateTime=1e3*a[0]+Math.round(a[1]/1e3),s?(emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:o,failure:s,connectionId:t.name}),e.s.replicaSetState.remove(t)):(t.ismaster=i.result,t.ismaster.lastWrite&&t.ismaster.lastWrite.lastWriteDate&&(t.lastWriteDate=t.ismaster.lastWrite.lastWriteDate.getTime()),-1==t.lastIsMasterMS?t.lastIsMasterMS=o:t.lastIsMasterMS&&(t.lastIsMasterMS=.2*o+.8*t.lastIsMasterMS),e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:o,reply:i.result,connectionId:t.name})),e.s.replicaSetState.updateServerMaxStaleness(t,e.s.haInterval),r(s,i)})},monitorServer=function(e,t,r){if(!r.haInterval)for(var n=0;n<t.intervalIds.length;n++)if(t.intervalIds[n].__host===e)return;var s=r.haInterval?Timeout:Interval,i=r.haInterval?r.haInterval:t.s.haInterval,o=new s(function(){if(t.state!=DESTROYED&&t.state!=UNREFERENCED){var r=t.s.replicaSetState.get(e);return r?pingServer(t,r,function(e){t.state!=DESTROYED&&t.state!=UNREFERENCED?(t.intervalIds=t.intervalIds.filter(function(e){return e.isRunning()}),s===Timeout?t.state==CONNECTING&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=CONNECTED,process.nextTick(function(){t.emit(\"connect\",t)}),topologyMonitor(t,{})):t.state==DISCONNECTED&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=CONNECTED,rexecuteOperations(t),process.nextTick(function(){t.emit(\"reconnect\",t)})),t.initialConnectState.connect&&!t.initialConnectState.fullsetup&&t.s.replicaSetState.hasPrimaryAndSecondary()&&(t.initialConnectState.fullsetup=!0,t.initialConnectState.all=!0,process.nextTick(function(){t.emit(\"fullsetup\",t),t.emit(\"all\",t)}))):o.stop()}):void 0}o.stop()},i);o.start(),o.__host=e,t.intervalIds.push(o)};function topologyMonitor(e,t){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){t=t||{};var r=Object.keys(e.s.replicaSetState.set),n=t.haInterval?Timeout:Interval,s=t.haInterval?t.haInterval:e.s.haInterval;if(n===Timeout)return connectNewServers(e,e.s.replicaSetState.unknownServers,function(n){if(e.state!==DESTROYED&&e.state!==UNREFERENCED){if(!e.s.replicaSetState.hasPrimary()&&!e.s.options.secondaryOnlyConnectionAllowed)return n?e.emit(\"error\",n):(e.emit(\"error\",new MongoError(\"no primary found in replicaset\")),e.destroy({force:!0}));if(!e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)return n?e.emit(\"error\",n):(e.emit(\"error\",new MongoError(\"no secondary found in replicaset\")),e.destroy({force:!0}));for(var s=0;s<r.length;s++)monitorServer(r[s],e,t)}});for(var i=0;i<r.length;i++)monitorServer(r[i],e,t);var o=e.s.replicaSetState.hasPrimary()?s:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new Timeout(a(e),o).start())}function a(e){return function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&connectNewServers(e,e.s.replicaSetState.unknownServers,function(){var t=e.s.replicaSetState.hasPrimary()?s:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new Timeout(a(e),t).start())})}}}function addServerToList(e,t){for(var r=0;r<e.length;r++)if(e[r].name.toLowerCase()===t.name.toLowerCase())return!0;e.push(t)}function handleEvent(e,t){return function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.s.replicaSetState.remove(this),e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()||!e.s.options.secondaryOnlyConnectionAllowed?e.s.replicaSetState.hasPrimary()||stateTransition(e,DISCONNECTED):stateTransition(e,DISCONNECTED),addServerToList(e.s.connectingServers,this)))}}function applyAuthenticationContexts(e,t,r){if(0==e.s.authenticationContexts.length)return r();if(t.lastIsMaster()&&t.lastIsMaster().arbiterOnly)return r();function n(e,t,r){if(0==e.length)return r();var s=e.shift().slice(0);s.push(function(s){n(e,t,r)}),t.auth.apply(t,s)}n(e.s.authenticationContexts.slice(0),t,r)}function handleInitialConnectEvent(e,t){return function(){var r=this;if(e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleInitialConnectEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.state==DESTROYED||e.state==UNREFERENCED)return this.destroy({force:!0});\"connect\"==t?applyAuthenticationContexts(e,r,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return r.destroy({force:!0});var n=e.s.replicaSetState.update(r);if(1==n){r.lastIsMaster()&&r.lastIsMaster().ismaster&&(e.ismaster=r.lastIsMaster()),e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleInitialConnectEvent %s from server %s in replset with id %s has state [%s]\",t,r.name,e.id,JSON.stringify(e.s.replicaSetState.set)));for(var s=0;s<handlers.length;s++)r.removeAllListeners(handlers[s]);r.on(\"error\",handleEvent(e,\"error\")),r.on(\"close\",handleEvent(e,\"close\")),r.on(\"timeout\",handleEvent(e,\"timeout\")),r.on(\"parseError\",handleEvent(e,\"parseError\")),(e.state===CONNECTING&&e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)&&(e.state=CONNECTED,e.initialConnectState.connect=!0,process.nextTick(function(){e.emit(\"connect\",e)}),topologyMonitor(e,{}))}else{if(n instanceof MongoError)return r.destroy({force:!0}),e.destroy({force:!0}),e.emit(\"error\",n);r.destroy({force:!0})}}):(e.emit(\"failed\",this),addServerToList(e.s.connectingServers,this),e.s.replicaSetState.remove(this)),e.initialConnectState.connect&&!e.initialConnectState.fullsetup&&e.s.replicaSetState.hasPrimaryAndSecondary()&&(e.initialConnectState.fullsetup=!0,e.initialConnectState.all=!0,process.nextTick(function(){e.emit(\"fullsetup\",e),e.emit(\"all\",e)}));for(var n=0;n<e.s.connectingServers.length;n++)e.s.connectingServers[n].equals(this)&&e.s.connectingServers.splice(n,1);0==e.s.connectingServers.length&&e.state==CONNECTING&&topologyMonitor(e,{haInterval:1})}}function connectServers(e,t){e.s.connectingServers=e.s.connectingServers.concat(t);var r=0;function n(t,r){setTimeout(function(){e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),t.once(\"close\",handleInitialConnectEvent(e,\"close\")),t.once(\"timeout\",handleInitialConnectEvent(e,\"timeout\")),t.once(\"parseError\",handleInitialConnectEvent(e,\"parseError\")),t.once(\"error\",handleInitialConnectEvent(e,\"error\")),t.once(\"connect\",handleInitialConnectEvent(e,\"connect\")),t.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),t.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),t.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),t.connect(e.s.connectOptions)},r)}for(;t.length>0;)n(t.shift(),r++)}function emitSDAMEvent(e,t,r){e.listeners(t).length>0&&e.emit(t,r)}ReplSet.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},stateTransition(this,CONNECTING);var r=this.s.seedlist.map(function(e){return new Server(assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(t.s.clientInfo)}))});if(this.s.options.socketTimeout>0&&this.s.options.socketTimeout<=this.s.options.haInterval)return t.emit(\"error\",new MongoError(f(\"haInterval [%s] MS must be set to less than socketTimeout [%s] MS\",this.s.options.haInterval,this.s.options.socketTimeout)));emitSDAMEvent(this,\"topologyOpening\",{topologyId:this.id}),connectServers(t,r)},ReplSet.prototype.destroy=function(e){e=e||{},stateTransition(this,DESTROYED),this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.replicaSetState.destroy(e),this.s.authenticationContexts=[],this.s.connectingServers.forEach(function(t){t.destroy(e)});for(var t=0;t<this.intervalIds.length;t++)this.intervalIds[t].stop(),this.intervalIds[t].stop();this.intervalIds=[],emitSDAMEvent(this,\"topologyClosed\",{topologyId:this.id})},ReplSet.prototype.unref=function(){stateTransition(this,UNREFERENCED),this.s.replicaSetState.allServers().forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},ReplSet.prototype.lastIsMaster=function(){return this.s.options.secondaryOnlyConnectionAllowed&&!this.s.replicaSetState.hasPrimary()&&this.s.replicaSetState.hasSecondary()?this.s.replicaSetState.secondaries[0].lastIsMaster():this.s.replicaSetState.primary?this.s.replicaSetState.primary.lastIsMaster():this.ismaster},ReplSet.prototype.connections=function(){for(var e=this.s.replicaSetState.allServers(),t=[],r=0;r<e.length;r++)t=t.concat(e[r].connections());return t},ReplSet.prototype.isConnected=function(e){return e=e||{},!this.authenticating&&(e.readPreference&&e.readPreference.equals(ReadPreference.secondary)?this.s.replicaSetState.hasSecondary():e.readPreference&&e.readPreference.equals(ReadPreference.primary)?this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(ReadPreference.primaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(ReadPreference.secondaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():!(!this.s.options.secondaryOnlyConnectionAllowed||!this.s.replicaSetState.hasSecondary())||this.s.replicaSetState.hasPrimary())},ReplSet.prototype.isDestroyed=function(){return this.state==DESTROYED},ReplSet.prototype.getServer=function(e){e=e||{};var t=this.s.replicaSetState.pickServer(e.readPreference);return this.s.debug&&this.emit(\"pickedServer\",e.readPreference,t),t},ReplSet.prototype.getConnection=function(e){var t=this.getServer(e);if(t)return t.getConnection()},ReplSet.prototype.getServers=function(){return this.s.replicaSetState.allServers()};var executeWriteOperation=function(e,t,r,n,s,i){if(\"function\"==typeof s&&(i=s,s={},s=s||{}),s=s||{},null==e.s.replicaSetState.primary)return i(new MongoError(\"no primary server found\"));e.s.replicaSetState.primary[t](r,n,s,i)};ReplSet.prototype.insert=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"insert\",e,t,r,n):this.s.disconnectHandler.add(\"insert\",e,t,r,n)},ReplSet.prototype.update=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"update\",e,t,r,n):this.s.disconnectHandler.add(\"update\",e,t,r,n)},ReplSet.prototype.remove=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"remove\",e,t,r,n):this.s.disconnectHandler.add(\"remove\",e,t,r,n)},ReplSet.prototype.command=function(e,t,r,n){if(\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED)return n(new MongoError(f(\"topology was destroyed\")));var s=r.readPreference?r.readPreference:ReadPreference.primary;if(\"primary\"==s.preference&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);if(\"secondary\"==s.preference&&!this.s.replicaSetState.hasSecondary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);if(\"primary\"!=s.preference&&!this.s.replicaSetState.hasSecondary()&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);var i=this.s.replicaSetState.pickServer(s);return i instanceof Server?(this.s.debug&&this.emit(\"pickedServer\",ReadPreference.primary,i),null==i?n(new MongoError(f(\"no server found that matches the provided readPreference %s\",s))):void i.command(e,t,r,n)):n(i)},ReplSet.prototype.auth=function(e,t){var r=Array.prototype.slice.call(arguments,0).slice(0),n=this,s=Array.prototype.slice.call(arguments,2),i=s.pop(),o=0;if(null==this.authProviders[e]&&\"default\"!=e)return i(new MongoError(f(\"auth provider %s does not exist\",e)));if(this.authenticating)return i(new MongoError(\"authentication or logout allready in process\"));if(null!=n.s.disconnectHandler){if(!n.s.replicaSetState.hasPrimary()&&!n.s.options.secondaryOnlyConnectionAllowed)return n.s.disconnectHandler.add(\"auth\",t,r,{},i);if(!n.s.replicaSetState.hasSecondary()&&n.s.options.secondaryOnlyConnectionAllowed)return n.s.disconnectHandler.add(\"auth\",t,r,{},i)}this.authenticating=!0;var a=[],c=this.s.replicaSetState.allServers();0==c.length&&(this.authenticating=!1,i(null,!0));function l(r){var c=[e,t].concat(s.slice(0)).concat([function(e){if(u-=1,e&&a.push({name:r.name,err:e}),0==u){if(n.authenticating=!1,a.length)return n.s.authenticationContexts.splice(o,0),i(MongoError.create({message:\"authentication fail\",errors:a}),!1);i(null,n)}}]);r.lastIsMaster().arbiterOnly?c.pop()(null):r.auth.apply(r,c)}var u=c.length;for(o=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(s.slice(0)));c.length>0;)l(c.shift())},ReplSet.prototype.logout=function(e,t){var r=this;if(this.authenticating)throw new MongoError(\"authentication or logout allready in process\");this.authenticating=!0;for(var n=Object.keys(this.authProviders),s=0;s<n.length;s++)this.authProviders[n[s]].logout(e);r.s.authenticationContexts=r.s.authenticationContexts.filter(function(t){return t[1]!==e});var i=this.s.replicaSetState.allServers(),o=i.length;if(0==o)return t();var a=[];function c(t,r){t.logout(e,function(e){e&&a.push({name:t.name,err:e}),r()})}for(s=0;s<i.length;s++)c(i[s],function(){if(0==(o-=1)){if(r.authenticating=!1,a.length)return t(MongoError.create({message:f(\"logout failed against db %s\",e),errors:a}),!1);t()}})},ReplSet.prototype.cursor=function(e,t,r){return new((r=r||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,r,this,this.s.options)},module.exports=ReplSet;","node_modules/mongodb-core/lib/topologies/mongos.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,BasicCursor=require(\"../cursor\"),Logger=require(\"../connection/logger\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,MongoError=require(\"../error\"),Server=require(\"./server\"),assign=require(\"../utils\").assign,clone=require(\"./shared\").clone,sdam=require(\"./shared\"),diff=require(\"./shared\").diff,cloneOptions=require(\"./shared\").cloneOptions,createClientInfo=require(\"./shared\").createClientInfo,BSON=retrieveBSON(),MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",UNREFERENCED=\"unreferenced\",DESTROYED=\"destroyed\";function stateTransition(e,t){var n={disconnected:[CONNECTING,DESTROYED,DISCONNECTED],connecting:[CONNECTING,DESTROYED,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYED,UNREFERENCED],unreferenced:[UNREFERENCED,DESTROYED],destroyed:[DESTROYED]}[e.state];n&&-1!=n.indexOf(t)?e.state=t:e.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var id=1,handlers=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],Mongos=function(e,t){t=t||{},this.id=id++,this.s={options:assign({},t),bson:t.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),Cursor:t.cursorFactory||BasicCursor,logger:Logger(\"Mongos\",t),seedlist:e,haInterval:t.haInterval?t.haInterval:1e4,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,localThresholdMS:t.localThresholdMS||15,clientInfo:createClientInfo(t),authenticationContexts:[]},this.s.options.clientInfo=createClientInfo(t),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(f(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new MongoCR(this.s.bson),x509:new X509(this.s.bson),plain:new Plain(this.s.bson),gssapi:new GSSAPI(this.s.bson),sspi:new SSPI(this.s.bson),\"scram-sha-1\":new ScramSHA1(this.s.bson)},this.state=DISCONNECTED,this.connectingProxies=[],this.connectedProxies=[],this.disconnectedProxies=[],this.authenticating=!1,this.index=0,this.haTimeoutId=null,this.ismaster=null,this.topologyDescription={topologyType:\"Unknown\",servers:[]},EventEmitter.call(this)};inherits(Mongos,EventEmitter),Object.defineProperty(Mongos.prototype,\"type\",{enumerable:!0,get:function(){return\"mongos\"}}),Object.defineProperty(Mongos.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}});function emitSDAMEvent(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}Mongos.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},stateTransition(this,CONNECTING);var n=this.s.seedlist.map(function(e){return new Server(assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(t.s.clientInfo)}))});n.forEach(function(e){e.on(\"serverDescriptionChanged\",function(e){t.emit(\"serverDescriptionChanged\",e)})}),emitSDAMEvent(this,\"topologyOpening\",{topologyId:this.id}),connectProxies(t,n)};function handleEvent(e){return function(){e.state!=DESTROYED&&(moveServerFrom(e.connectedProxies,e.disconnectedProxies,this),emitTopologyDescriptionChanged(e),e.emit(\"left\",\"mongos\",this),e.emit(\"serverClosed\",{topologyId:e.id,address:this.name}))}}function handleInitialConnectEvent(e,t){return function(){var n=this;if(e.state==DESTROYED)return emitTopologyDescriptionChanged(e),moveServerFrom(e.connectingProxies,e.disconnectedProxies,this),this.destroy();if(\"connect\"==t?applyAuthenticationContexts(e,n,function(){if(e.ismaster=n.lastIsMaster(),\"isdbgrid\"==e.ismaster.msg){for(var t=0;t<e.connectedProxies.length;t++)if(e.connectedProxies[t].name==n.name)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,n),emitTopologyDescriptionChanged(e),n.destroy(),e.emit(\"failed\",n);for(t=0;t<handlers.length;t++)n.removeAllListeners(handlers[t]);n.on(\"error\",handleEvent(e,\"error\")),n.on(\"close\",handleEvent(e,\"close\")),n.on(\"timeout\",handleEvent(e,\"timeout\")),n.on(\"parseError\",handleEvent(e,\"parseError\")),moveServerFrom(e.connectingProxies,e.connectedProxies,n),e.emit(\"joined\",\"mongos\",n)}else{if(e.s.logger.isWarn()){var o=\"expected mongos proxy, but found replicaset member mongod for server %s\";e.ismaster.hosts||(o=\"expected mongos proxy, but found standalone mongod for server %s\"),e.s.logger.warn(f(o,n.name))}removeProxyFrom(e.connectingProxies,n),e.emit(\"left\",\"server\",n),e.emit(\"failed\",n)}}):(moveServerFrom(e.connectingProxies,e.disconnectedProxies,this),e.emit(\"left\",\"mongos\",this),e.emit(\"failed\",this)),emitTopologyDescriptionChanged(e),0==e.connectingProxies.length){if(e.connectedProxies.length>0)stateTransition(e,CONNECTED),e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e);else if(0==e.disconnectedProxies.length)return e.s.logger.isWarn()&&e.s.logger.warn(f(\"no mongos proxies found in seed list, did you mean to connect to a replicaset\")),e.emit(\"error\",new MongoError(\"no mongos proxies found in seed list\"));topologyMonitor(e,{firstConnect:!0})}}}function connectProxies(e,t){e.connectingProxies=e.connectingProxies.concat(t);var n=0;function o(t,n){setTimeout(function(){e.emit(\"serverOpening\",{topologyId:e.id,address:t.name}),emitTopologyDescriptionChanged(e),t.once(\"close\",handleInitialConnectEvent(e,\"close\")),t.once(\"timeout\",handleInitialConnectEvent(e,\"timeout\")),t.once(\"parseError\",handleInitialConnectEvent(e,\"parseError\")),t.once(\"error\",handleInitialConnectEvent(e,\"error\")),t.once(\"connect\",handleInitialConnectEvent(e,\"connect\")),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)o(t.shift(),n++)}function pickProxy(e){for(var t=e.connectedProxies.slice(0),n=Number.MAX_VALUE,o=0;o<t.length;o++)t[o].lastIsMasterMS<n&&(n=t[o].lastIsMasterMS);if(0==(t=t.filter(function(t){if(t.lastIsMasterMS<=n+e.s.localThresholdMS&&t.isConnected())return!0})).length)return e.connectedProxies[0];var r=t[e.index%t.length];return e.index=(e.index+1)%t.length,r}function moveServerFrom(e,t,n){for(var o=0;o<e.length;o++)e[o].name==n.name&&e.splice(o,1);for(o=0;o<t.length;o++)t[o].name==n.name&&t.splice(o,1);t.push(n)}function removeProxyFrom(e,t){for(var n=0;n<e.length;n++)e[n].name==t.name&&e.splice(n,1)}function reconnectProxies(e,t,n){var o=t.length,r=function(e,t){return function(){var r=this;if(o-=1,e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),this.destroy();\"connect\"!=t||e.authenticating?\"connect\"==t&&e.authenticating&&(moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),this.destroy()):applyAuthenticationContexts(e,r,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),r.destroy();for(var t=0;t<handlers.length;t++)r.removeAllListeners(handlers[t]);r.on(\"error\",handleEvent(e,\"error\")),r.on(\"close\",handleEvent(e,\"close\")),r.on(\"timeout\",handleEvent(e,\"timeout\")),r.on(\"parseError\",handleEvent(e,\"parseError\")),moveServerFrom(e.disconnectedProxies,e.connectedProxies,r),emitTopologyDescriptionChanged(e),e.emit(\"joined\",\"mongos\",r)}),0==o&&n()}};if(0==o)return n();function i(t,n){setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){var n=new Server(assign({},e.s.options,{host:t.name.split(\":\")[0],port:parseInt(t.name.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(e.s.clientInfo)}));n.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),e.emit(\"serverOpening\",{topologyId:-1!=n.s.topologyId?n.s.topologyId:e.id,address:n.name}),n.once(\"connect\",r(e,\"connect\")),n.once(\"close\",r(e,\"close\")),n.once(\"timeout\",r(e,\"timeout\")),n.once(\"error\",r(e,\"error\")),n.once(\"parseError\",r(e,\"parseError\")),n.connect(e.s.connectOptions)}},n)}for(var s=0;s<t.length;s++)i(t[s],s)}function applyAuthenticationContexts(e,t,n){if(0==e.s.authenticationContexts.length)return n();function o(e,t,n){if(0==e.length)return n();var r=e.shift().slice(0);r.push(function(r){o(e,t,n)}),t.auth.apply(t,r)}o(e.s.authenticationContexts.slice(0),t,n)}function topologyMonitor(e,t){t=t||{},e.haTimeoutId=setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){e.isConnected()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute();var n=e.connectedProxies.slice(0),o=n.length;if(0==n.length)return e.listeners(\"close\").length>0&&e.state==CONNECTING?e.emit(\"error\",new MongoError(\"no mongos proxy available\")):e.emit(\"close\",e),reconnectProxies(e,e.disconnectedProxies,function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.state==CONNECTING&&t.firstConnect?(e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e)):e.isConnected()?e.emit(\"reconnect\",e):!e.isConnected()&&e.listeners(\"close\").length>0&&e.emit(\"close\",e),topologyMonitor(e))});for(var r=0;r<n.length;r++)i(0,n[r],function(){if(0==(o-=1)){if(e.state==DESTROYED||e.state==UNREFERENCED)return;reconnectProxies(e,e.disconnectedProxies,function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&topologyMonitor(e)})}})}function i(t,n,o){var r=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:n.name}),n.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(t,i){if(e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectedProxies,e.disconnectedProxies,n),n.destroy(),o(t,i);var s=(new Date).getTime()-r;t?(emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:s,failure:t,connectionId:n.name}),moveServerFrom(e.connectedProxies,e.disconnectedProxies,n)):(n.ismaster=i.result,n.lastIsMasterMS=s,emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:s,reply:i.result,connectionId:n.name})),o(t,i)})}},e.s.haInterval)}Mongos.prototype.lastIsMaster=function(){return this.ismaster},Mongos.prototype.unref=function(){stateTransition(this,UNREFERENCED);this.connectedProxies.concat(this.connectingProxies).forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},Mongos.prototype.destroy=function(e){var t=this;stateTransition(this,DESTROYED);var n=this.connectedProxies.concat(this.connectingProxies);this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.authenticationContexts=[],n.forEach(function(n){t.emit(\"serverClosed\",{topologyId:t.id,address:n.name}),n.destroy(e),moveServerFrom(t.connectedProxies,t.disconnectedProxies,n)}),emitTopologyDescriptionChanged(t),emitSDAMEvent(this,\"topologyClosed\",{topologyId:this.id})},Mongos.prototype.isConnected=function(){return this.connectedProxies.length>0},Mongos.prototype.isDestroyed=function(){return this.state==DESTROYED};var executeWriteOperation=function(e,t,n,o,r,i){\"function\"==typeof r&&(i=r,r={},r=r||{}),r=r||{};var s=pickProxy(e);if(!s)return i(new MongoError(\"no mongos proxy available\"));s[t](n,o,r,i)};Mongos.prototype.insert=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"insert\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"insert\",e,t,n,o)},Mongos.prototype.update=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"update\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"update\",e,t,n,o)},Mongos.prototype.remove=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"remove\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"remove\",e,t,n,o)},Mongos.prototype.command=function(e,t,n,o){if(\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED)return o(new MongoError(f(\"topology was destroyed\")));var r=pickProxy(this);if((null==r||!r.isConnected())&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,o);if(null==r)return o(new MongoError(\"no mongos proxy available\"));var i=cloneOptions(n);i.topology=this,r.command(e,t,i,o)},Mongos.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,this,this.s.options)},Mongos.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),o=this,r=Array.prototype.slice.call(arguments,2),i=r.pop(),s=0;if(null==this.authProviders[e]&&\"default\"!=e)return i(new MongoError(f(\"auth provider %s does not exist\",e)));if(this.authenticating)return i(new MongoError(\"authentication or logout allready in process\"));if(!o.isConnected()&&null!=o.s.disconnectHandler)return o.s.disconnectHandler.add(\"auth\",t,n,{},i);this.authenticating=!0;var c=[],a=this.connectedProxies.slice(0);0==a.length&&(this.authenticating=!1,i(null,!0));function l(n){var a=[e,t].concat(r.slice(0)).concat([function(e){if(d-=1,e&&c.push({name:n.name,err:e}),0==d){if(o.authenticating=!1,c.length)return o.s.authenticationContexts.splice(s,0),i(MongoError.create({message:\"authentication fail\",errors:c}),!1);i(null,o)}}]);n.lastIsMaster().arbiterOnly||n.auth.apply(n,a)}s=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(r.slice(0)));for(var d=a.length;a.length>0;)l(a.shift())},Mongos.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new MongoError(\"authentication or logout allready in process\");this.authenticating=!0;for(var o=Object.keys(this.authProviders),r=0;r<o.length;r++)this.authProviders[o[r]].logout(e);var i=this.connectedProxies.slice(0),s=i.length;if(0==s)return t();var c=[];function a(t,n){t.logout(e,function(e){e&&c.push({name:t.name,err:e}),n()})}for(r=0;r<i.length;r++)a(i[r],function(){if(0==(s-=1)){if(n.authenticating=!1,c.length)return t(MongoError.create({message:f(\"logout failed against db %s\",e),errors:c}),!1);t()}})},Mongos.prototype.getServer=function(){var e=pickProxy(this);return this.s.debug&&this.emit(\"pickedServer\",null,e),e},Mongos.prototype.getConnection=function(){var e=this.getServer();if(e)return e.getConnection()},Mongos.prototype.connections=function(){for(var e=[],t=0;t<this.connectedProxies.length;t++)e=e.concat(this.connectedProxies[t].connections());return e};function emitTopologyDescriptionChanged(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\";e.setName;e.connectedProxies.length>0&&(t=\"Sharded\");var n={topologyType:t,servers:[]},o=e.disconnectedProxies.concat(e.connectingProxies);n.servers=n.servers.concat(o.map(function(e){var t=e.getDescription();return t.type=\"Unknown\",t})),n.servers=n.servers.concat(e.connectedProxies.map(function(e){var t=e.getDescription();return t.type=\"Mongos\",t}));var r=diff(e.topologyDescription,n),i={topologyId:e.id,previousDescription:e.topologyDescription,newDescription:n,diff:r};r.servers.length>0&&e.emit(\"topologyDescriptionChanged\",i),e.topologyDescription=n}}module.exports=Mongos;","node_modules/mongodb-core/lib/connection/logger.js":"\"use strict\";var f=require(\"util\").format,MongoError=require(\"../error\"),classFilters={},filteredClasses={},level=null,pid=process.pid,currentLogger=null,Logger=function(e,s){if(!(this instanceof Logger))return new Logger(e,s);s=s||{},this.className=e,s.logger?currentLogger=s.logger:null==currentLogger&&(currentLogger=console.log),s.loggerLevel&&(level=s.loggerLevel||\"error\"),null==filteredClasses[this.className]&&(classFilters[this.className]=!0)};Logger.prototype.debug=function(e,s){if(this.isDebug()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"DEBUG\",this.className,pid,r,e),l={type:\"debug\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.warn=function(e,s){if(this.isWarn()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"WARN\",this.className,pid,r,e),l={type:\"warn\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.info=function(e,s){if(this.isInfo()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"INFO\",this.className,pid,r,e),l={type:\"info\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.error=function(e,s){if(this.isError()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"ERROR\",this.className,pid,r,e),l={type:\"error\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.isInfo=function(){return\"info\"==level||\"debug\"==level},Logger.prototype.isError=function(){return\"error\"==level||\"info\"==level||\"debug\"==level},Logger.prototype.isWarn=function(){return\"error\"==level||\"warn\"==level||\"info\"==level||\"debug\"==level},Logger.prototype.isDebug=function(){return\"debug\"==level},Logger.reset=function(){level=\"error\",filteredClasses={}},Logger.currentLogger=function(){return currentLogger},Logger.setCurrentLogger=function(e){if(\"function\"!=typeof e)throw new MongoError(\"current logger must be a function\");currentLogger=e},Logger.filter=function(e,s){\"class\"==e&&Array.isArray(s)&&(filteredClasses={},s.forEach(function(e){filteredClasses[e]=!0}))},Logger.setLevel=function(e){if(\"info\"!=e&&\"error\"!=e&&\"debug\"!=e&&\"warn\"!=e)throw new Error(f(\"%s is an illegal logging level\",e));level=e},module.exports=Logger;","node_modules/mongodb-core/lib/cursor.js":"\"use strict\";var Logger=require(\"./connection/logger\"),retrieveBSON=require(\"./connection/utils\").retrieveBSON,MongoError=require(\"./error\"),f=require(\"util\").format,BSON=retrieveBSON(),Long=BSON.Long,Cursor=function(r,t,o,e,s,u){e=e||{},this.pool=null,this.server=null,this.disconnectHandler=e.disconnectHandler,this.bson=r,this.ns=t,this.cmd=o,this.options=e,this.topology=s,this.cursorState={cursorId:null,cmd:o,documents:e.documents||[],cursorIndex:0,dead:!1,killed:!1,init:!1,notified:!1,limit:e.limit||o.limit||0,skip:e.skip||o.skip||0,batchSize:e.batchSize||o.batchSize||1e3,currentLimit:0,transforms:e.transforms},\"boolean\"==typeof u.promoteLongs?this.cursorState.promoteLongs=u.promoteLongs:\"boolean\"==typeof e.promoteLongs&&(this.cursorState.promoteLongs=e.promoteLongs),\"boolean\"==typeof u.promoteValues?this.cursorState.promoteValues=u.promoteValues:\"boolean\"==typeof e.promoteValues&&(this.cursorState.promoteValues=e.promoteValues),\"boolean\"==typeof u.promoteBuffers?this.cursorState.promoteBuffers=u.promoteBuffers:\"boolean\"==typeof e.promoteBuffers&&(this.cursorState.promoteBuffers=e.promoteBuffers),this.logger=Logger(\"Cursor\",u),\"number\"==typeof o?(this.cursorState.cursorId=Long.fromNumber(o),this.cursorState.lastCursorId=this.cursorState.cursorId):o instanceof Long&&(this.cursorState.cursorId=o,this.cursorState.lastCursorId=o)};Cursor.prototype.setCursorBatchSize=function(r){this.cursorState.batchSize=r},Cursor.prototype.cursorBatchSize=function(){return this.cursorState.batchSize},Cursor.prototype.setCursorLimit=function(r){this.cursorState.limit=r},Cursor.prototype.cursorLimit=function(){return this.cursorState.limit},Cursor.prototype.setCursorSkip=function(r){this.cursorState.skip=r},Cursor.prototype.cursorSkip=function(){return this.cursorState.skip};var handleCallback=function(r,t,o){try{r(t,o)}catch(t){process.nextTick(function(){throw t})}};Cursor.prototype._find=function(r){var t=this;t.logger.isDebug()&&t.logger.debug(f(\"issue initial query [%s] with flags [%s]\",JSON.stringify(t.cmd),JSON.stringify(t.query)));var o={};(t.options.raw||t.cmd.raw)&&(o.raw=t.options.raw||t.cmd.raw),\"string\"==typeof t.query.documentsReturnedIn&&(o.documentsReturnedIn=t.query.documentsReturnedIn),\"boolean\"==typeof t.cursorState.promoteLongs&&(o.promoteLongs=t.cursorState.promoteLongs),\"boolean\"==typeof t.cursorState.promoteValues&&(o.promoteValues=t.cursorState.promoteValues),\"boolean\"==typeof t.cursorState.promoteBuffers&&(o.promoteBuffers=t.cursorState.promoteBuffers),t.server.s.pool.write(t.query,o,function(o,e){if(o)return r(o);var s=e.message;if(s.queryFailure)return r(MongoError.create(s.documents[0]),null);if(Array.isArray(s.documents)&&1==s.documents.length&&(!t.cmd.find||t.cmd.find&&0==t.cmd.virtual)&&(\"string\"!=s.documents[0].cursor||s.documents[0].$err||s.documents[0].errmsg||Array.isArray(s.documents[0].result))){if(s.documents[0].$err||s.documents[0].errmsg)return r(MongoError.create(s.documents[0]),null);if(null!=s.documents[0].cursor&&\"string\"!=typeof s.documents[0].cursor){var u=s.documents[0].cursor.id;return s.documents[0].cursor.ns&&(t.ns=s.documents[0].cursor.ns),t.cursorState.cursorId=\"number\"==typeof u?Long.fromNumber(u):u,t.cursorState.lastCursorId=t.cursorState.cursorId,Array.isArray(s.documents[0].cursor.firstBatch)&&(t.cursorState.documents=s.documents[0].cursor.firstBatch),r(null,null)}if(Array.isArray(s.documents[0].result))return t.cursorState.documents=s.documents[0].result,t.cursorState.cursorId=Long.ZERO,r(null,null)}t.cursorState.cursorId=s.cursorId,t.cursorState.documents=s.documents,t.cursorState.lastCursorId=s.cursorId,t.cursorState.transforms&&\"function\"==typeof t.cursorState.transforms.query&&(t.cursorState.documents=t.cursorState.transforms.query(s)),r(null,null)})},Cursor.prototype._getmore=function(r){this.logger.isDebug()&&this.logger.debug(f(\"schedule getMore call for query [%s]\",JSON.stringify(this.query)));var t=this.options.raw||this.cmd.raw,o=this.cursorState.batchSize;this.cursorState.limit>0&&this.cursorState.currentLimit+o>this.cursorState.limit&&(o=this.cursorState.limit-this.cursorState.currentLimit);var e=this.server.s.pool;this.server.wireProtocolHandler.getMore(this.bson,this.ns,this.cursorState,o,t,e,this.options,r)},Cursor.prototype._killcursor=function(r){if(this.cursorState.dead=!0,this.cursorState.killed=!0,this.cursorState.documents=[],null==this.cursorState.cursorId||this.cursorState.cursorId.isZero()||0==this.cursorState.init)r&&r(null,null);else{var t=this.server.s.pool;this.server.wireProtocolHandler.killCursor(this.bson,this.ns,this.cursorState.cursorId,t,r)}},Cursor.prototype.clone=function(){return this.topology.cursor(this.ns,this.cmd,this.options)},Cursor.prototype.isDead=function(){return 1==this.cursorState.dead},Cursor.prototype.isKilled=function(){return 1==this.cursorState.killed},Cursor.prototype.isNotified=function(){return 1==this.cursorState.notified},Cursor.prototype.bufferedCount=function(){return this.cursorState.documents.length-this.cursorState.cursorIndex},Cursor.prototype.readBufferedDocuments=function(r){var t=this.cursorState.documents.length-this.cursorState.cursorIndex,o=r<t?r:t,e=this.cursorState.documents.slice(this.cursorState.cursorIndex,this.cursorState.cursorIndex+o);if(this.cursorState.transforms&&\"function\"==typeof this.cursorState.transforms.doc)for(var s=0;s<e.length;s++)e[s]=this.cursorState.transforms.doc(e[s]);return this.cursorState.limit>0&&this.cursorState.currentLimit+e.length>this.cursorState.limit&&(e=e.slice(0,this.cursorState.limit-this.cursorState.currentLimit),this.kill()),this.cursorState.currentLimit=this.cursorState.currentLimit+e.length,this.cursorState.cursorIndex=this.cursorState.cursorIndex+e.length,e},Cursor.prototype.kill=function(r){this._killcursor(r)},Cursor.prototype.rewind=function(){this.cursorState.init&&(this.cursorState.dead||this.kill(),this.cursorState.currentLimit=0,this.cursorState.init=!1,this.cursorState.dead=!1,this.cursorState.killed=!1,this.cursorState.notified=!1,this.cursorState.documents=[],this.cursorState.cursorId=null,this.cursorState.cursorIndex=0)};var isConnectionDead=function(r,t){return!(!r.pool||!r.pool.isDestroyed())&&(r.cursorState.notified=!0,r.cursorState.killed=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,t(MongoError.create(f(\"connection to host %s:%s was destroyed\",r.pool.host,r.pool.port))),!0)},isCursorDeadButNotkilled=function(r,t){return!(!r.cursorState.dead||r.cursorState.killed)&&(r.cursorState.notified=!0,r.cursorState.killed=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null),!0)},isCursorDeadAndKilled=function(r,t){return!(!r.cursorState.dead||!r.cursorState.killed)&&(handleCallback(t,MongoError.create(\"cursor is dead\")),!0)},isCursorKilled=function(r,t){return!!r.cursorState.killed&&(r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null),!0)},setCursorDeadAndNotified=function(r,t){r.cursorState.dead=!0,r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null)},setCursorNotified=function(r,t){r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null)},nextFunction=function(r,t){if(r.cursorState.notified)return t(new Error(\"cursor is exhausted\"));if(!isCursorKilled(r,t)&&!isCursorDeadButNotkilled(r,t)&&!isCursorDeadAndKilled(r,t)){if(!r.cursorState.init){if(!r.topology.isConnected(r.options)){if(!r.topology.s.options.reconnect)return t(new MongoError(\"no connection available\"));if(null!=r.disconnectHandler)return r.topology.isDestroyed()?t(new MongoError(\"Topology was destroyed\")):r.disconnectHandler.addObjectAndMethod(\"cursor\",r,\"next\",[t],t)}try{r.server=r.topology.getServer(r.options)}catch(o){return null!=r.disconnectHandler?r.disconnectHandler.addObjectAndMethod(\"cursor\",r,\"next\",[t],t):t(o)}if(r.cursorState.init=!0,r.cmd&&r.cmd.collation&&r.server.ismaster.maxWireVersion<5)return t(new MongoError(f(\"server %s does not support collation\",r.server.name)));try{r.query=r.server.wireProtocolHandler.command(r.bson,r.ns,r.cmd,r.cursorState,r.topology,r.options)}catch(r){return t(r)}}if(null==r.cursorState.cursorId){if(isConnectionDead(r,t))return;if(r.topology.isDestroyed())return t(new MongoError(\"connection destroyed, not possible to instantiate cursor\"));r._find(function(o){return o?handleCallback(t,o,null):0==r.cursorState.documents.length&&r.cursorState.cursorId&&r.cursorState.cursorId.isZero()&&!r.cmd.tailable&&!r.cmd.awaitData?setCursorNotified(r,t):void nextFunction(r,t)})}else{if(r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit)return r.kill(),setCursorDeadAndNotified(r,t);if(r.cursorState.cursorIndex!=r.cursorState.documents.length||Long.ZERO.equals(r.cursorState.cursorId)){if(r.cursorState.documents.length==r.cursorState.cursorIndex&&r.cmd.tailable&&Long.ZERO.equals(r.cursorState.cursorId))return handleCallback(t,MongoError.create({message:\"No more documents in tailed cursor\",tailable:r.cmd.tailable,awaitData:r.cmd.awaitData}));if(r.cursorState.documents.length==r.cursorState.cursorIndex&&Long.ZERO.equals(r.cursorState.cursorId))setCursorDeadAndNotified(r,t);else{if(r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit)return r.kill(),setCursorDeadAndNotified(r,t);r.cursorState.currentLimit+=1;var o=r.cursorState.documents[r.cursorState.cursorIndex++];if(!o||o.$err)return r.kill(),setCursorDeadAndNotified(r,function(){handleCallback(t,new MongoError(o?o.$err:void 0))});r.cursorState.transforms&&\"function\"==typeof r.cursorState.transforms.doc&&(o=r.cursorState.transforms.doc(o)),handleCallback(t,null,o)}}else{if(r.cursorState.documents=[],r.cursorState.cursorIndex=0,r.topology.isDestroyed())return t(new MongoError(\"connection destroyed, not possible to instantiate cursor\"));if(isConnectionDead(r,t))return;r._getmore(function(o,e,s){return o?handleCallback(t,o):(r.connection=s,0==r.cursorState.documents.length&&r.cmd.tailable&&Long.ZERO.equals(r.cursorState.cursorId)?handleCallback(t,MongoError.create({message:\"No more documents in tailed cursor\",tailable:r.cmd.tailable,awaitData:r.cmd.awaitData})):0==r.cursorState.documents.length&&r.cmd.tailable&&!Long.ZERO.equals(r.cursorState.cursorId)?nextFunction(r,t):r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit?setCursorDeadAndNotified(r,t):void nextFunction(r,t))})}}}};Cursor.prototype.next=function(r){nextFunction(this,r)},module.exports=Cursor;","node_modules/mongodb-core/lib/topologies/read_preference.js":"\"use strict\";var needSlaveOk=[\"primaryPreferred\",\"secondary\",\"secondaryPreferred\",\"nearest\"],ReadPreference=function(e,r,n){this.preference=e,this.tags=r,this.options=n,this.options&&null!=this.options.maxStalenessSeconds?(this.options=n,this.maxStalenessSeconds=this.options.maxStalenessSeconds>=0?this.options.maxStalenessSeconds:null):r&&\"object\"==typeof r&&(this.options=r,r=null)};ReadPreference.prototype.slaveOk=function(){return-1!=needSlaveOk.indexOf(this.preference)},ReadPreference.prototype.equals=function(e){return e.preference==this.preference},ReadPreference.prototype.toJSON=function(){var e={mode:this.preference};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},ReadPreference.primary=new ReadPreference(\"primary\"),ReadPreference.primaryPreferred=new ReadPreference(\"primaryPreferred\"),ReadPreference.secondary=new ReadPreference(\"secondary\"),ReadPreference.secondaryPreferred=new ReadPreference(\"secondaryPreferred\"),ReadPreference.nearest=new ReadPreference(\"nearest\"),module.exports=ReadPreference;","node_modules/mongodb-core/lib/connection/commands.js":"\"use strict\";var retrieveBSON=require(\"../connection/utils\").retrieveBSON,BSON=retrieveBSON(),Long=BSON.Long,_requestId=0,OP_QUERY=2004,OP_GETMORE=2005,OP_KILL_CURSORS=2007,OPTS_TAILABLE_CURSOR=2,OPTS_SLAVE=4,OPTS_OPLOG_REPLAY=8,OPTS_NO_CURSOR_TIMEOUT=16,OPTS_AWAIT_DATA=32,OPTS_EXHAUST=64,OPTS_PARTIAL=128,CURSOR_NOT_FOUND=0,QUERY_FAILURE=2,SHARD_CONFIG_STALE=4,AWAIT_CAPABLE=8,Query=function(e,t,s,i){if(null==t)throw new Error(\"ns must be specified for query\");if(null==s)throw new Error(\"query must be specified for query\");if(~t.indexOf(\"\\0\"))throw new Error(\"namespace cannot contain a null character\");this.bson=e,this.ns=t,this.query=s,this.options=i||{},this.numberToSkip=i.numberToSkip||0,this.numberToReturn=i.numberToReturn||0,this.returnFieldSelector=i.returnFieldSelector||null,this.requestId=Query.getRequestId(),this.serializeFunctions=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.maxBsonSize=i.maxBsonSize||16777216,this.checkKeys=\"boolean\"!=typeof i.checkKeys||i.checkKeys,this.batchSize=this.numberToReturn,this.tailable=!1,this.slaveOk=\"boolean\"==typeof i.slaveOk&&i.slaveOk,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1};Query.prototype.incRequestId=function(){this.requestId=_requestId++},Query.nextRequestId=function(){return _requestId+1},Query.prototype.toBin=function(){var e=[],t=null,s=0;this.tailable&&(s|=OPTS_TAILABLE_CURSOR),this.slaveOk&&(s|=OPTS_SLAVE),this.oplogReplay&&(s|=OPTS_OPLOG_REPLAY),this.noCursorTimeout&&(s|=OPTS_NO_CURSOR_TIMEOUT),this.awaitData&&(s|=OPTS_AWAIT_DATA),this.exhaust&&(s|=OPTS_EXHAUST),this.partial&&(s|=OPTS_PARTIAL),this.batchSize!=this.numberToReturn&&(this.numberToReturn=this.batchSize);var i=new Buffer(20+Buffer.byteLength(this.ns)+1+4+4);e.push(i);var r=this.bson.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(r),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(t=this.bson.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(t));var n=i.length+r.length+(t?t.length:0),o=4;return i[3]=n>>24&255,i[2]=n>>16&255,i[1]=n>>8&255,i[0]=255&n,i[o+3]=this.requestId>>24&255,i[o+2]=this.requestId>>16&255,i[o+1]=this.requestId>>8&255,i[o]=255&this.requestId,o+=4,i[o+3]=0,i[o+2]=0,i[o+1]=0,i[o]=0,o+=4,i[o+3]=OP_QUERY>>24&255,i[o+2]=OP_QUERY>>16&255,i[o+1]=OP_QUERY>>8&255,i[o]=255&OP_QUERY,o+=4,i[o+3]=s>>24&255,i[o+2]=s>>16&255,i[o+1]=s>>8&255,i[o]=255&s,o+=4,o=o+i.write(this.ns,o,\"utf8\")+1,i[o-1]=0,i[o+3]=this.numberToSkip>>24&255,i[o+2]=this.numberToSkip>>16&255,i[o+1]=this.numberToSkip>>8&255,i[o]=255&this.numberToSkip,o+=4,i[o+3]=this.numberToReturn>>24&255,i[o+2]=this.numberToReturn>>16&255,i[o+1]=this.numberToReturn>>8&255,i[o]=255&this.numberToReturn,o+=4,e},Query.getRequestId=function(){return++_requestId};var GetMore=function(e,t,s,i){i=i||{},this.numberToReturn=i.numberToReturn||0,this.requestId=_requestId++,this.bson=e,this.ns=t,this.cursorId=s};GetMore.prototype.toBin=function(){var e=4+Buffer.byteLength(this.ns)+1+4+8+16,t=0,s=new Buffer(e);return s[t+3]=e>>24&255,s[t+2]=e>>16&255,s[t+1]=e>>8&255,s[t]=255&e,t+=4,s[t+3]=this.requestId>>24&255,s[t+2]=this.requestId>>16&255,s[t+1]=this.requestId>>8&255,s[t]=255&this.requestId,t+=4,s[t+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,t+=4,s[t+3]=OP_GETMORE>>24&255,s[t+2]=OP_GETMORE>>16&255,s[t+1]=OP_GETMORE>>8&255,s[t]=255&OP_GETMORE,t+=4,s[t+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,t+=4,t=t+s.write(this.ns,t,\"utf8\")+1,s[t-1]=0,s[t+3]=this.numberToReturn>>24&255,s[t+2]=this.numberToReturn>>16&255,s[t+1]=this.numberToReturn>>8&255,s[t]=255&this.numberToReturn,t+=4,s[t+3]=this.cursorId.getLowBits()>>24&255,s[t+2]=this.cursorId.getLowBits()>>16&255,s[t+1]=this.cursorId.getLowBits()>>8&255,s[t]=255&this.cursorId.getLowBits(),t+=4,s[t+3]=this.cursorId.getHighBits()>>24&255,s[t+2]=this.cursorId.getHighBits()>>16&255,s[t+1]=this.cursorId.getHighBits()>>8&255,s[t]=255&this.cursorId.getHighBits(),t+=4,s};var KillCursor=function(e,t){this.requestId=_requestId++,this.cursorIds=t};KillCursor.prototype.toBin=function(){var e=24+8*this.cursorIds.length,t=0,s=new Buffer(e);s[t+3]=e>>24&255,s[t+2]=e>>16&255,s[t+1]=e>>8&255,s[t]=255&e,s[(t+=4)+3]=this.requestId>>24&255,s[t+2]=this.requestId>>16&255,s[t+1]=this.requestId>>8&255,s[t]=255&this.requestId,s[(t+=4)+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,s[(t+=4)+3]=OP_KILL_CURSORS>>24&255,s[t+2]=OP_KILL_CURSORS>>16&255,s[t+1]=OP_KILL_CURSORS>>8&255,s[t]=255&OP_KILL_CURSORS,s[(t+=4)+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,s[(t+=4)+3]=this.cursorIds.length>>24&255,s[t+2]=this.cursorIds.length>>16&255,s[t+1]=this.cursorIds.length>>8&255,s[t]=255&this.cursorIds.length,t+=4;for(var i=0;i<this.cursorIds.length;i++)s[t+3]=this.cursorIds[i].getLowBits()>>24&255,s[t+2]=this.cursorIds[i].getLowBits()>>16&255,s[t+1]=this.cursorIds[i].getLowBits()>>8&255,s[t]=255&this.cursorIds[i].getLowBits(),s[(t+=4)+3]=this.cursorIds[i].getHighBits()>>24&255,s[t+2]=this.cursorIds[i].getHighBits()>>16&255,s[t+1]=this.cursorIds[i].getHighBits()>>8&255,s[t]=255&this.cursorIds[i].getHighBits(),t+=4;return s};var Response=function(e,t,s){s=s||{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1},this.parsed=!1,this.index=0,this.raw=t,this.data=t,this.bson=e,this.opts=s,this.length=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.requestId=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.responseTo=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.index=this.index+4,this.responseFlags=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4;var i=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4;var r=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4,this.cursorId=new Long(i,r),this.startingFrom=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.numberReturned=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.documents=new Array(this.numberReturned),this.cursorNotFound=0!=(this.responseFlags&CURSOR_NOT_FOUND),this.queryFailure=0!=(this.responseFlags&QUERY_FAILURE),this.shardConfigStale=0!=(this.responseFlags&SHARD_CONFIG_STALE),this.awaitCapable=0!=(this.responseFlags&AWAIT_CAPABLE),this.promoteLongs=\"boolean\"!=typeof s.promoteLongs||s.promoteLongs,this.promoteValues=\"boolean\"!=typeof s.promoteValues||s.promoteValues,this.promoteBuffers=\"boolean\"==typeof s.promoteBuffers&&s.promoteBuffers};Response.prototype.isParsed=function(){return this.parsed},Response.prototype.parse=function(e){if(!this.parsed){var t,s,i=(e=e||{}).raw||!1,r=e.documentsReturnedIn||null;if(s={promoteLongs:\"boolean\"==typeof e.promoteLongs?e.promoteLongs:this.opts.promoteLongs,promoteValues:\"boolean\"==typeof e.promoteValues?e.promoteValues:this.opts.promoteValues,promoteBuffers:\"boolean\"==typeof e.promoteBuffers?e.promoteBuffers:this.opts.promoteBuffers},1==this.numberReturned&&null!=r&&i){t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24;var n=this.data.slice(this.index,this.index+t),o={};o[r]=!0,s.fieldsAsRaw=o;var h=this.bson.deserialize(n,s);return this.documents=h.cursor[r],this.numberReturned=this.documents.length,this.cursorId=\"number\"==typeof h.cursor.id?Long.fromNumber(h.cursor.id):h.cursor.id,this.index=this.index+t,void(this.parsed=!0)}for(var u=0;u<this.numberReturned;u++)t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,this.documents[u]=i?this.data.slice(this.index,this.index+t):this.bson.deserialize(this.data.slice(this.index,this.index+t),s),this.index=this.index+t;this.parsed=!0}},module.exports={Query:Query,GetMore:GetMore,Response:Response,KillCursor:KillCursor};","node_modules/mongodb-core/lib/auth/mongocr.js":"\"use strict\";var f=require(\"util\").format,crypto=require(\"crypto\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(t,e,n){this.db=t,this.username=e,this.password=n};AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var MongoCR=function(t){this.bson=t,this.authStore=[]},addAuthSession=function(t,e){for(var n=!1,r=0;r<t.length;r++)if(t[r].equal(e)){n=!0;break}n||t.push(e)};MongoCR.prototype.auth=function(t,e,n,r,o,u){var s=this,i=e.length;if(0==i)return u(null,null);for(var a=0,l=null;e.length>0;){(function(e){process.nextTick(function(){!function(e){t(e,new Query(s.bson,f(\"%s.$cmd\",n),{getnonce:1},{numberToSkip:0,numberToReturn:1}),function(h,c){var d=null,p=null;if(null==h){d=c.result.nonce;var g=crypto.createHash(\"md5\");g.update(r+\":mongo:\"+o,\"utf8\");var m=g.digest(\"hex\");(g=crypto.createHash(\"md5\")).update(d+r+m,\"utf8\"),p=g.digest(\"hex\")}t(e,new Query(s.bson,f(\"%s.$cmd\",n),{authenticate:1,user:r,nonce:d,key:p},{numberToSkip:0,numberToReturn:1}),function(t,e){i-=1,t?l=t:e.result.$err?l=e.result:e.result.errmsg?l=e.result:a+=1,0==i&&a>0?(addAuthSession(s.authStore,new AuthSession(n,r,o)),u(null,!0)):0==i&&(null==l&&(l=new MongoError(f(\"failed to authenticate using mongocr\"))),u(l,!1))})})}(e)})})(e.shift())}},MongoCR.prototype.logout=function(t){this.authStore=this.authStore.filter(function(e){return e.db!=t})},MongoCR.prototype.reauthenticate=function(t,e,n){var r=this.authStore.slice(0),o=r.length;if(0==o)return n(null,null);for(var u=0;u<r.length;u++)this.auth(t,e,r[u].db,r[u].username,r[u].password,function(t){0==(o-=1)&&n(t,null)})},module.exports=MongoCR;","node_modules/mongodb-core/lib/auth/x509.js":"\"use strict\";var f=require(\"util\").format,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(t,e,r){this.db=t,this.username=e,this.password=r};AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var X509=function(t){this.bson=t,this.authStore=[]};X509.prototype.auth=function(t,e,r,n,u,o){var s=this,i=e.length;if(0==i)return o(null,null);for(var a=0,h=null;e.length>0;){(function(e){process.nextTick(function(){!function(e){var l={authenticate:1,mechanism:\"MONGODB-X509\"};n&&(l.user=n),t(e,new Query(s.bson,\"$external.$cmd\",l,{numberToSkip:0,numberToReturn:1}),function(t,e){i-=1,t?h=t:e.result.$err?h=e.result:e.result.errmsg?h=e.result:a+=1,0==i&&a>0?(addAuthSession(s.authStore,new AuthSession(r,n,u)),o(null,!0)):0==i&&(null==h&&(h=new MongoError(f(\"failed to authenticate using mongocr\"))),o(h,!1))})}(e)})})(e.shift())}};var addAuthSession=function(t,e){for(var r=!1,n=0;n<t.length;n++)if(t[n].equal(e)){r=!0;break}r||t.push(e)};X509.prototype.logout=function(t){this.authStore=this.authStore.filter(function(e){return e.db!=t})},X509.prototype.reauthenticate=function(t,e,r){var n=this.authStore.slice(0),u=n.length;if(0==u)return r(null,null);for(var o=0;o<n.length;o++)this.auth(t,e,n[o].db,n[o].username,n[o].password,function(t){0==(u-=1)&&r(t,null)})},module.exports=X509;","node_modules/mongodb-core/lib/auth/plain.js":"\"use strict\";var BSON=require(\"bson\"),f=require(\"util\").format,Binary=BSON.Binary,retrieveBSON=require(\"../connection/utils\").retrieveBSON,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=(BSON=retrieveBSON(),function(t,r,e){this.db=t,this.username=r,this.password=e});AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var Plain=function(t){this.bson=t,this.authStore=[]};Plain.prototype.auth=function(t,r,e,n,u,o){var i=this,s=r.length;if(0==s)return o(null,null);for(var a=0,l=null;r.length>0;){(function(r){process.nextTick(function(){!function(r){var h={saslStart:1,mechanism:\"PLAIN\",payload:new Binary(f(\"\\0%s\\0%s\",n,u)),autoAuthorize:1};t(r,new Query(i.bson,\"$external.$cmd\",h,{numberToSkip:0,numberToReturn:1}),function(t,r){s-=1,t?l=t:r.result.$err?l=r.result:r.result.errmsg?l=r.result:a+=1,0==s&&a>0?(addAuthSession(i.authStore,new AuthSession(e,n,u)),o(null,!0)):0==s&&(null==l&&(l=new MongoError(f(\"failed to authenticate using mongocr\"))),o(l,!1))})}(r)})})(r.shift())}};var addAuthSession=function(t,r){for(var e=!1,n=0;n<t.length;n++)if(t[n].equal(r)){e=!0;break}e||t.push(r)};Plain.prototype.logout=function(t){this.authStore=this.authStore.filter(function(r){return r.db!=t})},Plain.prototype.reauthenticate=function(t,r,e){var n=this.authStore.slice(0),u=n.length;if(0==u)return e(null,null);for(var o=0;o<n.length;o++)this.auth(t,r,n[o].db,n[o].username,n[o].password,function(t){0==(u-=1)&&e(t,null)})},module.exports=Plain;","node_modules/mongodb-core/lib/auth/gssapi.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(n,r,t,e){this.db=n,this.username=r,this.password=t,this.options=e};AuthSession.prototype.equal=function(n){return n.db==this.db&&n.username==this.username&&n.password==this.password};var Kerberos=null,MongoAuthProcess=null;try{Kerberos=require_optional(\"kerberos\").Kerberos,MongoAuthProcess=require_optional(\"kerberos\").processes.MongoAuthProcess}catch(n){}var GSSAPI=function(n){this.bson=n,this.authStore=[]};GSSAPI.prototype.auth=function(n,r,t,e,o,i,u){var s=this;if(null==Kerberos)return u(new Error(\"Kerberos library is not installed\"));var a=i.gssapiServiceName||\"mongodb\",l=r.length;if(0==l)return u(null,null);for(var c=0,S=null;r.length>0;){(function(r){process.nextTick(function(){!function(r){GSSAPIInitialize(s,t,e,o,t,a,n,r,i,function(n,r){l-=1,n?S=n:r.result.$err?S=r.result:r.result.errmsg?S=r.result:c+=1,0==l&&c>0?(addAuthSession(s.authStore,new AuthSession(t,e,o,i)),u(null,!0)):0==l&&(null==S&&(S=new MongoError(f(\"failed to authenticate using mongocr\"))),u(S,!1))})}(r)})})(r.shift())}};var GSSAPIInitialize=function(n,r,t,e,o,i,u,s,a,l){var c=new MongoAuthProcess(s.host,s.port,i,a);c.init(t,e,function(i){if(i)return l(i,!1);c.transition(\"\",function(i,a){if(i)return l(i,!1);MongoDBGSSAPIFirstStep(n,c,a,r,t,e,o,u,s,l)})})},MongoDBGSSAPIFirstStep=function(n,r,t,e,o,i,u,s,a,l){var c={saslStart:1,mechanism:\"GSSAPI\",payload:t,autoAuthorize:1};s(a,new Query(n.bson,\"$external.$cmd\",c,{numberToSkip:0,numberToReturn:1}),function(t,c){if(t)return l(t,!1);var S=c.result;r.transition(c.result.payload,function(t,c){if(t)return l(t,!1);MongoDBGSSAPISecondStep(n,r,c,S,e,o,i,u,s,a,l)})})},MongoDBGSSAPISecondStep=function(n,r,t,e,o,i,u,s,a,l,c){var S={saslContinue:1,conversationId:e.conversationId,payload:t};a(l,new Query(n.bson,\"$external.$cmd\",S,{numberToSkip:0,numberToReturn:1}),function(t,e){if(t)return c(t,!1);var S=e.result;r.transition(S.payload,function(t,e){if(t)return c(t,!1);MongoDBGSSAPIThirdStep(n,r,e,S,o,i,u,s,a,l,c)})})},MongoDBGSSAPIThirdStep=function(n,r,t,e,o,i,u,s,a,l,c){var S={saslContinue:1,conversationId:e.conversationId,payload:t};a(l,new Query(n.bson,\"$external.$cmd\",S,{numberToSkip:0,numberToReturn:1}),function(n,t){if(n)return c(n,!1);r.transition(null,function(n){if(n)return c(n,null);c(null,t)})})},addAuthSession=function(n,r){for(var t=!1,e=0;e<n.length;e++)if(n[e].equal(r)){t=!0;break}t||n.push(r)};GSSAPI.prototype.logout=function(n){this.authStore=this.authStore.filter(function(r){return r.db!=n})},GSSAPI.prototype.reauthenticate=function(n,r,t){var e=this.authStore.slice(0),o=e.length;if(0==o)return t(null,null);for(var i=0;i<e.length;i++)this.auth(n,r,e[i].db,e[i].username,e[i].password,e[i].options,function(n){0==(o-=1)&&t(n,null)})},module.exports=GSSAPI;","node_modules/mongodb-core/lib/auth/scram.js":"\"use strict\";var f=require(\"util\").format,crypto=require(\"crypto\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),BSON=retrieveBSON(),Binary=BSON.Binary,AuthSession=function(e,r,t){this.db=e,this.username=r,this.password=t};AuthSession.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var id=0,ScramSHA1=function(e){this.bson=e,this.authStore=[],this.id=id++},parsePayload=function(e){for(var r={},t=e.split(\",\"),n=0;n<t.length;n++){var o=t[n].split(\"=\");r[o[0]]=o[1]}return r},passwordDigest=function(e,r){if(\"string\"!=typeof e)throw new MongoError(\"username must be a string\");if(\"string\"!=typeof r)throw new MongoError(\"password must be a string\");if(0==r.length)throw new MongoError(\"password cannot be empty\");var t=crypto.createHash(\"md5\");return t.update(e+\":mongo:\"+r,\"utf8\"),t.digest(\"hex\")},xor=function(e,r){Buffer.isBuffer(e)||(e=new Buffer(e)),Buffer.isBuffer(r)||(r=new Buffer(r));var t=[];if(e.length>r.length)for(var n=0;n<r.length;n++)t.push(e[n]^r[n]);else for(n=0;n<e.length;n++)t.push(e[n]^r[n]);return new Buffer(t)},_hiCache={},_hiCacheCount=0,_hiCachePurge=function(){_hiCache={},_hiCacheCount=0},hi=function(e,r,t){var n=[e,r.toString(\"base64\"),t].join(\"_\");if(void 0!==_hiCache[n])return _hiCache[n];var o=crypto.pbkdf2Sync(e,r,t,20,\"sha1\");return _hiCacheCount>=200&&_hiCachePurge(),_hiCache[n]=o,_hiCacheCount+=1,o};ScramSHA1.prototype.auth=function(e,r,t,n,o,u){var a=this,s=r.length;if(0==s)return u(null,null);for(var i=0,h=null,c=function(r){n=n.replace(\"=\",\"=3D\").replace(\",\",\"=2C\");var c=crypto.randomBytes(24).toString(\"base64\"),l=f(\"n=%s,r=%s\",n,c),d={saslStart:1,mechanism:\"SCRAM-SHA-1\",payload:new Binary(f(\"n,,%s\",l)),autoAuthorize:1},p=function(e,r){return e?(i-=1,h=e,!1):r.result.$err?(h=r.result,!1):r.result.errmsg?(h=r.result,!1):(i+=1,!0)},S=function(e,r){p(e,r),function(e,r){0==e&&r>0?(addAuthSession(a.authStore,new AuthSession(t,n,o)),u(null,!0)):0==e&&(null==h&&(h=new MongoError(f(\"failed to authenticate using scram\"))),u(h,!1))}(s-=1,i)};e(r,new Query(a.bson,f(\"%s.$cmd\",t),d,{numberToSkip:0,numberToReturn:1}),function(c,d){if(0!=p(c,d)){var g=parsePayload(d.result.payload.value()),m=parseInt(g.i,10),w=g.s,y=g.r,b=f(\"c=biws,r=%s\",y),v=passwordDigest(n,o),B=hi(v,new Buffer(w,\"base64\"),m),C=crypto.createHmac(\"sha1\",B);C.update(new Buffer(\"Client Key\"));var A=new Buffer(C.digest(\"base64\"),\"base64\"),_=crypto.createHash(\"sha1\");_.update(A);var H=new Buffer(_.digest(\"base64\"),\"base64\"),q=[l,d.result.payload.value().toString(\"base64\"),b].join(\",\");(C=crypto.createHmac(\"sha1\",H)).update(new Buffer(q));var M=new Buffer(C.digest(\"base64\"),\"base64\"),T=[b,f(\"p=%s\",new Buffer(xor(A,M)).toString(\"base64\"))].join(\",\"),k={saslContinue:1,conversationId:d.result.conversationId,payload:new Binary(new Buffer(T))};e(r,new Query(a.bson,f(\"%s.$cmd\",t),k,{numberToSkip:0,numberToReturn:1}),function(n,o){if(o&&0==o.result.done){var u={saslContinue:1,conversationId:o.result.conversationId,payload:new Buffer(0)};e(r,new Query(a.bson,f(\"%s.$cmd\",t),u,{numberToSkip:0,numberToReturn:1}),function(e,r){S(e,r)})}else S(n,o)})}else{if(0==(s-=1)&&i>0)return addAuthSession(a.authStore,new AuthSession(t,n,o)),u(null,!0);if(0==s)return null==h&&(h=new MongoError(f(\"failed to authenticate using scram\"))),u(h,!1)}})},l=function(e){process.nextTick(function(){c(e)})};r.length>0;)l(r.shift())};var addAuthSession=function(e,r){for(var t=!1,n=0;n<e.length;n++)if(e[n].equal(r)){t=!0;break}t||e.push(r)};ScramSHA1.prototype.logout=function(e){this.authStore=this.authStore.filter(function(r){return r.db!=e})},ScramSHA1.prototype.reauthenticate=function(e,r,t){var n=this.authStore.slice(0),o=n.length;if(0==o)return t(null,null);for(var u=0;u<n.length;u++)this.auth(e,r,n[u].db,n[u].username,n[u].password,function(e){0==(o-=1)&&t(e,null)})},module.exports=ScramSHA1;","node_modules/bson/lib/bson/bson.js":"\"use strict\";var writeIEEE754=require(\"./float_parser\").writeIEEE754,readIEEE754=require(\"./float_parser\").readIEEE754,Map=require(\"./map\"),Long=require(\"./long\"),Double=require(\"./double\"),Timestamp=require(\"./timestamp\"),ObjectID=require(\"./objectid\"),BSONRegExp=require(\"./regexp\"),Symbol=require(\"./symbol\"),Int32=require(\"./int_32\"),Code=require(\"./code\"),Decimal128=require(\"./decimal128\"),MinKey=require(\"./min_key\"),MaxKey=require(\"./max_key\"),DBRef=require(\"./db_ref\"),Binary=require(\"./binary\"),deserialize=require(\"./parser/deserializer\"),serializer=require(\"./parser/serializer\"),calculateObjectSize=require(\"./parser/calculate_size\"),MAXSIZE=17825792,buffer=new Buffer(MAXSIZE),BSON=function(){};BSON.prototype.serialize=function(e,r){var o=\"boolean\"==typeof(r=r||{}).checkKeys&&r.checkKeys,i=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,N=\"boolean\"!=typeof r.ignoreUndefined||r.ignoreUndefined,B=serializer(buffer,e,o,0,0,i,N,[]),S=new Buffer(B);return buffer.copy(S,0,0,S.length),S},BSON.prototype.serializeWithBufferAndIndex=function(e,r,o){var i=\"boolean\"==typeof(o=o||{}).checkKeys&&o.checkKeys,N=\"boolean\"==typeof o.serializeFunctions&&o.serializeFunctions,B=\"boolean\"!=typeof o.ignoreUndefined||o.ignoreUndefined,S=\"number\"==typeof o.index?o.index:0,O=serializer(buffer,e,i,S||0,0,N,B);return buffer.copy(r,S,0,O),O-1},BSON.prototype.deserialize=function(e,r){return deserialize(e,r)},BSON.prototype.calculateObjectSize=function(e,r){var o=\"boolean\"==typeof(r=r||{}).serializeFunctions&&r.serializeFunctions,i=\"boolean\"!=typeof r.ignoreUndefined||r.ignoreUndefined;return calculateObjectSize(e,o,i)},BSON.prototype.deserializeStream=function(e,r,o,i,N,B){B=null!=B?B:{};for(var S=r,O=0;O<o;O++){var _=e[S]|e[S+1]<<8|e[S+2]<<16|e[S+3]<<24;B.index=S,i[N+O]=this.deserialize(e,B),S+=_}return S},BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,module.exports=BSON,module.exports.Code=Code,module.exports.Map=Map,module.exports.Symbol=Symbol,module.exports.BSON=BSON,module.exports.DBRef=DBRef,module.exports.Binary=Binary,module.exports.ObjectID=ObjectID,module.exports.Long=Long,module.exports.Timestamp=Timestamp,module.exports.Double=Double,module.exports.Int32=Int32,module.exports.MinKey=MinKey,module.exports.MaxKey=MaxKey,module.exports.BSONRegExp=BSONRegExp,module.exports.Decimal128=Decimal128;","node_modules/bson/lib/bson/binary.js":"if(\"undefined\"!=typeof global)var Buffer=require(\"buffer\").Buffer;function Binary(r,t){if(!(this instanceof Binary))return new Binary(r,t);if(this._bsontype=\"Binary\",r instanceof Number?(this.sub_type=r,this.position=0):(this.sub_type=null==t?BSON_BINARY_SUBTYPE_DEFAULT:t,this.position=0),null==r||r instanceof Number)void 0!==Buffer?this.buffer=new Buffer(Binary.BUFFER_SIZE):\"undefined\"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE)):this.buffer=new Array(Binary.BUFFER_SIZE),this.position=0;else{if(\"string\"==typeof r)if(void 0!==Buffer)this.buffer=new Buffer(r);else{if(\"undefined\"==typeof Uint8Array&&\"[object Array]\"!=Object.prototype.toString.call(r))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");this.buffer=writeStringToArray(r)}else this.buffer=r;this.position=r.length}}Binary.prototype.put=function(r){if(null!=r.length&&\"number\"!=typeof r&&1!=r.length)throw new Error(\"only accepts single character String, Uint8Array or Array\");if(\"number\"!=typeof r&&r<0||r>255)throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");var t=null;if(t=\"string\"==typeof r?r.charCodeAt(0):null!=r.length?r[0]:r,this.buffer.length>this.position)this.buffer[this.position++]=t;else if(void 0!==Buffer&&Buffer.isBuffer(this.buffer)){var i=new Buffer(Binary.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=t}else{i=null;i=\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE+this.buffer.length)):new Array(Binary.BUFFER_SIZE+this.buffer.length);for(var e=0;e<this.buffer.length;e++)i[e]=this.buffer[e];this.buffer=i,this.buffer[this.position++]=t}},Binary.prototype.write=function(r,t){if(t=\"number\"==typeof t?t:this.position,this.buffer.length<t+r.length){var i=null;if(void 0!==Buffer&&Buffer.isBuffer(this.buffer))i=new Buffer(this.buffer.length+r.length),this.buffer.copy(i,0,0,this.buffer.length);else if(\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)){i=new Uint8Array(new ArrayBuffer(this.buffer.length+r.length));for(var e=0;e<this.position;e++)i[e]=this.buffer[e]}this.buffer=i}if(void 0!==Buffer&&Buffer.isBuffer(r)&&Buffer.isBuffer(this.buffer))r.copy(this.buffer,t,0,r.length),this.position=t+r.length>this.position?t+r.length:this.position;else if(void 0!==Buffer&&\"string\"==typeof r&&Buffer.isBuffer(this.buffer))this.buffer.write(r,t,\"binary\"),this.position=t+r.length>this.position?t+r.length:this.position;else if(\"[object Uint8Array]\"==Object.prototype.toString.call(r)||\"[object Array]\"==Object.prototype.toString.call(r)&&\"string\"!=typeof r){for(e=0;e<r.length;e++)this.buffer[t++]=r[e];this.position=t>this.position?t:this.position}else if(\"string\"==typeof r){for(e=0;e<r.length;e++)this.buffer[t++]=r.charCodeAt(e);this.position=t>this.position?t:this.position}},Binary.prototype.read=function(r,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(r,r+t);for(var i=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),e=0;e<t;e++)i[e]=this.buffer[r++];return i},Binary.prototype.value=function(r){if((r=null!=r&&r)&&void 0!==Buffer&&Buffer.isBuffer(this.buffer)&&this.buffer.length==this.position)return this.buffer;if(void 0!==Buffer&&Buffer.isBuffer(this.buffer))return r?this.buffer.slice(0,this.position):this.buffer.toString(\"binary\",0,this.position);if(r){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),i=0;i<this.position;i++)t[i]=this.buffer[i];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)},Binary.prototype.length=function(){return this.position},Binary.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString(\"base64\"):\"\"},Binary.prototype.toString=function(r){return null!=this.buffer?this.buffer.slice(0,this.position).toString(r):\"\"};var BSON_BINARY_SUBTYPE_DEFAULT=0,writeStringToArray=function(r){for(var t=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(r.length)):new Array(r.length),i=0;i<r.length;i++)t[i]=r.charCodeAt(i);return t},convertArraytoUtf8BinaryString=function(r,t,i){for(var e=\"\",f=t;f<i;f++)e+=String.fromCharCode(r[f]);return e};Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,module.exports=Binary,module.exports.Binary=Binary;","node_modules/bson/lib/bson/code.js":"var Code=function o(e,t){if(!(this instanceof o))return new o(e,t);this._bsontype=\"Code\",this.code=e,this.scope=t};Code.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},module.exports=Code,module.exports.Code=Code;","node_modules/bson/lib/bson/db_ref.js":"function DBRef(e,t,i){if(!(this instanceof DBRef))return new DBRef(e,t,i);this._bsontype=\"DBRef\",this.namespace=e,this.oid=t,this.db=i}DBRef.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?\"\":this.db}},module.exports=DBRef,module.exports.DBRef=DBRef;","node_modules/bson/lib/bson/decimal128.js":"\"use strict\";var Long=require(\"./long\"),PARSE_STRING_REGEXP=/^(\\+|\\-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([\\-\\+])?(\\d+)?$/,PARSE_INF_REGEXP=/^(\\+|\\-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\\+|\\-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([\\-\\+])?(\\d+)?$/,isDigit=function(r){return!isNaN(parseInt(r,10))},divideu128=function(r){var e=Long.fromNumber(1e9),i=Long.fromNumber(0),o=0;if(!(r.parts[0]||r.parts[1]||r.parts[2]||r.parts[3]))return{quotient:r,rem:i};for(o=0;o<=3;o++)i=(i=i.shiftLeft(32)).add(new Long(r.parts[o],0)),r.parts[o]=i.div(e).low_,i=i.modulo(e);return{quotient:r,rem:i}},multiply64x2=function(r,e){if(!r&&!e)return{high:Long.fromNumber(0),low:Long.fromNumber(0)};var i=r.shiftRightUnsigned(32),o=new Long(r.getLowBits(),0),n=e.shiftRightUnsigned(32),t=new Long(e.getLowBits(),0),f=i.multiply(n),h=i.multiply(t),N=o.multiply(n),g=o.multiply(t);return f=f.add(h.shiftRightUnsigned(32)),h=new Long(h.getLowBits(),0).add(N).add(g.shiftRightUnsigned(32)),f=f.add(h.shiftRightUnsigned(32)),g=h.shiftLeft(32).add(new Long(g.getLowBits(),0)),{high:f,low:g}},lessThan=function(r,e){var i=r.high_>>>0,o=e.high_>>>0;if(i<o)return!0;if(i==o){if(r.low_>>>0<e.low_>>>0)return!0}return!1},longtoHex=function(r){var e=new Buffer(8),i=0;return e[i++]=255&r.low_,e[i++]=r.low_>>8&255,e[i++]=r.low_>>16&255,e[i++]=r.low_>>24&255,e[i++]=255&r.high_,e[i++]=r.high_>>8&255,e[i++]=r.high_>>16&255,e[i++]=r.high_>>24&255,e.reverse().toString(\"hex\")},int32toHex=function(r){var e=new Buffer(4),i=0;return e[i++]=255&r,e[i++]=r>>8&255,e[i++]=r>>16&255,e[i++]=r>>24&255,e.reverse().toString(\"hex\")},Decimal128=function(r){this._bsontype=\"Decimal128\",this.bytes=r};Decimal128.fromString=function(r){var e=!1,i=!1,o=!1,n=0,t=0,f=0,h=0,N=0,g=[0],u=0,a=0,m=0,E=0,l=0,_=0,s=[0,0],w=[0,0],I=0,d=0,p=(r=r.trim()).match(PARSE_STRING_REGEXP),L=r.match(PARSE_INF_REGEXP),A=r.match(PARSE_NAN_REGEXP);if(!p&&!L&&!A||0==r.length)throw new Error(r+\" not a valid Decimal128 string\");if(p&&p[4]&&void 0===p[2])throw new Error(r+\" not a valid Decimal128 string\");if(\"+\"!=r[d]&&\"-\"!=r[d]||(e=\"-\"==r[d++]),!isDigit(r[d])&&\".\"!=r[d]){if(\"i\"==r[d]||\"I\"==r[d])return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if(\"N\"==r[d])return new Decimal128(new Buffer(NAN_BUFFER))}for(;isDigit(r[d])||\".\"==r[d];)if(\".\"!=r[d])u<34&&(\"0\"!=r[d]||o)&&(o||(N=t),o=!0,g[a++]=parseInt(r[d],10),u+=1),o&&(f+=1),i&&(h+=1),t+=1,d+=1;else{if(i)return new Decimal128(new Buffer(NAN_BUFFER));i=!0,d+=1}if(i&&!t)throw new Error(r+\" not a valid Decimal128 string\");if(\"e\"==r[d]||\"E\"==r[d]){var T=r.substr(++d).match(EXPONENT_REGEX);if(!T||!T[2])return new Decimal128(new Buffer(NAN_BUFFER));l=parseInt(T[0],10),d+=T[0].length}if(r[d])return new Decimal128(new Buffer(NAN_BUFFER));if(m=0,u){if(E=u-1,n=f,0!=l&&1!=n)for(;\"0\"==r[N+n-1];)n-=1}else m=0,E=0,g[0]=0,f=1,u=1,n=0;for(l<=h&&h-l>16384?l=EXPONENT_MIN:l-=h;l>EXPONENT_MAX;){if((E+=1)-m>MAX_DIGITS){if(g.join(\"\").match(/^0+$/)){l=EXPONENT_MAX;break}return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}l-=1}for(;l<EXPONENT_MIN||u<f;){if(0==E){l=EXPONENT_MIN,n=0;break}if(u<f?f-=1:E-=1,!(l<EXPONENT_MAX)){if(g.join(\"\").match(/^0+$/)){l=EXPONENT_MAX;break}return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}l+=1}if(E-m+1<n&&\"0\"!=r[n]){var F=t;i&&l==EXPONENT_MIN&&(N+=1,F+=1);var B=parseInt(r[N+E+1],10),O=0;if(B>=5&&(O=1,5==B)){O=g[E]%2==1;for(_=N+E+2;_<F;_++)if(parseInt(r[_],10)){O=1;break}}if(O)for(var c=E;c>=0&&++g[c]>9;c--)if(g[c]=0,0==c){if(!(l<EXPONENT_MAX))return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));l+=1,g[c]=1}}if(s=Long.fromNumber(0),w=Long.fromNumber(0),0==n)s=Long.fromNumber(0),w=Long.fromNumber(0);else if(E-m<17){c=m;for(w=Long.fromNumber(g[c++]),s=new Long(0,0);c<=E;c++)w=(w=w.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]))}else{c=m;for(s=Long.fromNumber(g[c++]);c<=E-17;c++)s=(s=s.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]));for(w=Long.fromNumber(g[c++]);c<=E;c++)w=(w=w.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]))}var R=multiply64x2(s,Long.fromString(\"100000000000000000\"));R.low=R.low.add(w),lessThan(R.low,w)&&(R.high=R.high.add(Long.fromNumber(1)));I=l+EXPONENT_BIAS;var b={low:Long.fromNumber(0),high:Long.fromNumber(0)};R.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber)?(b.high=b.high.or(Long.fromNumber(3).shiftLeft(61)),b.high=b.high.or(Long.fromNumber(I).and(Long.fromNumber(16383).shiftLeft(47))),b.high=b.high.or(R.high.and(Long.fromNumber(0x7fffffffffff)))):(b.high=b.high.or(Long.fromNumber(16383&I).shiftLeft(49)),b.high=b.high.or(R.high.and(Long.fromNumber(562949953421311)))),b.low=R.low,e&&(b.high=b.high.or(Long.fromString(\"9223372036854775808\")));var P=new Buffer(16);d=0;return P[d++]=255&b.low.low_,P[d++]=b.low.low_>>8&255,P[d++]=b.low.low_>>16&255,P[d++]=b.low.low_>>24&255,P[d++]=255&b.low.high_,P[d++]=b.low.high_>>8&255,P[d++]=b.low.high_>>16&255,P[d++]=b.low.high_>>24&255,P[d++]=255&b.high.low_,P[d++]=b.high.low_>>8&255,P[d++]=b.high.low_>>16&255,P[d++]=b.high.low_>>24&255,P[d++]=255&b.high.high_,P[d++]=b.high.high_>>8&255,P[d++]=b.high.high_>>16&255,P[d++]=b.high.high_>>24&255,new Decimal128(P)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31,COMBINATION_SNAN=32;EXPONENT_BIAS=6176;Decimal128.prototype.toString=function(){for(var r,e,i,o,n,t,f=0,h=new Array(36),N=0;N<h.length;N++)h[N]=0;var g,u,a,m=0,E=!1,l={parts:new Array(4)},_=[],s=(m=0,this.bytes);o=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,i=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,e=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,r=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24;m=0;if({low:new Long(o,i),high:new Long(e,r)}.high.lessThan(Long.ZERO)&&_.push(\"-\"),(n=r>>26&COMBINATION_MASK)>>3==3){if(n==COMBINATION_INFINITY)return _.join(\"\")+\"Infinity\";if(n==COMBINATION_NAN)return\"NaN\";t=r>>15&EXPONENT_MASK,a=8+(r>>14&1)}else a=r>>14&7,t=r>>17&EXPONENT_MASK;if(g=t-EXPONENT_BIAS,l.parts[0]=(16383&r)+((15&a)<<14),l.parts[1]=e,l.parts[2]=i,l.parts[3]=o,0==l.parts[0]&&0==l.parts[1]&&0==l.parts[2]&&0==l.parts[3])E=!0;else for(var w=3;w>=0;w--){var I=0,d=divideu128(l);if(l=d.quotient,I=d.rem.low_)for(var p=8;p>=0;p--)h[9*w+p]=I%10,I=Math.floor(I/10)}if(E)f=1,h[m]=0;else{f=36;for(N=0;!h[m];)N++,f-=1,m+=1}if((u=f-1+g)>=34||u<=-7||g>0){_.push(h[m++]),(f-=1)&&_.push(\".\");for(N=0;N<f;N++)_.push(h[m++]);_.push(\"E\"),u>0?_.push(\"+\"+u):_.push(u)}else if(g>=0)for(N=0;N<f;N++)_.push(h[m++]);else{var L=f+g;if(L>0)for(N=0;N<L;N++)_.push(h[m++]);else _.push(\"0\");for(_.push(\".\");L++<0;)_.push(\"0\");for(N=0;N<f-Math.max(L-1,0);N++)_.push(h[m++])}return _.join(\"\")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},module.exports=Decimal128,module.exports.Decimal128=Decimal128;","node_modules/bson/lib/bson/double.js":"function Double(e){if(!(this instanceof Double))return new Double(e);this._bsontype=\"Double\",this.value=e}Double.prototype.valueOf=function(){return this.value},Double.prototype.toJSON=function(){return this.value},module.exports=Double,module.exports.Double=Double;","node_modules/bson/lib/bson/int_32.js":"var Int32=function(t){if(!(this instanceof Int32))return new Int32(t);this._bsontype=\"Int32\",this.value=t};Int32.prototype.valueOf=function(){return this.value},Int32.prototype.toJSON=function(){return this.value},module.exports=Int32,module.exports.Int32=Int32;","node_modules/bson/lib/bson/long.js":"function Long(t,o){if(!(this instanceof Long))return new Long(t,o);this._bsontype=\"Long\",this.low_=0|t,this.high_=0|o}Long.prototype.toInt=function(){return this.low_},Long.prototype.toNumber=function(){return this.high_*Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Long.prototype.toJSON=function(){return this.toString()},Long.prototype.toString=function(t){var o=t||10;if(o<2||36<o)throw Error(\"radix out of range: \"+o);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(Long.MIN_VALUE)){var n=Long.fromNumber(o),r=this.div(n),i=r.multiply(n).subtract(this);return r.toString(o)+i.toInt().toString(o)}return\"-\"+this.negate().toString(o)}for(var e=Long.fromNumber(Math.pow(o,6)),g=(i=this,\"\");;){var s=i.div(e),h=i.subtract(s.multiply(e)).toInt().toString(o);if((i=s).isZero())return h+g;for(;h.length<6;)h=\"0\"+h;g=\"\"+h+g}},Long.prototype.getHighBits=function(){return this.high_},Long.prototype.getLowBits=function(){return this.low_},Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Long.TWO_PWR_32_DBL_+this.low_},Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,o=31;o>0&&0==(t&1<<o);o--);return 0!=this.high_?o+33:o+1},Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Long.prototype.isNegative=function(){return this.high_<0},Long.prototype.isOdd=function(){return 1==(1&this.low_)},Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Long.prototype.lessThan=function(t){return this.compare(t)<0},Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Long.prototype.greaterThan=function(t){return this.compare(t)>0},Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Long.prototype.compare=function(t){if(this.equals(t))return 0;var o=this.isNegative(),n=t.isNegative();return o&&!n?-1:!o&&n?1:this.subtract(t).isNegative()?-1:1},Long.prototype.negate=function(){return this.equals(Long.MIN_VALUE)?Long.MIN_VALUE:this.not().add(Long.ONE)},Long.prototype.add=function(t){var o=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,e=t.high_>>>16,g=65535&t.high_,s=t.low_>>>16,h=0,L=0,_=0,u=0;return u+=i+(65535&t.low_),_+=u>>>16,u&=65535,_+=r+s,L+=_>>>16,_&=65535,L+=n+g,h+=L>>>16,L&=65535,h+=o+e,h&=65535,Long.fromBits(_<<16|u,h<<16|L)},Long.prototype.subtract=function(t){return this.add(t.negate())},Long.prototype.multiply=function(t){if(this.isZero())return Long.ZERO;if(t.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE))return t.isOdd()?Long.MIN_VALUE:Long.ZERO;if(t.equals(Long.MIN_VALUE))return this.isOdd()?Long.MIN_VALUE:Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Long.TWO_PWR_24_)&&t.lessThan(Long.TWO_PWR_24_))return Long.fromNumber(this.toNumber()*t.toNumber());var o=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,e=t.high_>>>16,g=65535&t.high_,s=t.low_>>>16,h=65535&t.low_,L=0,_=0,u=0,a=0;return a+=i*h,u+=a>>>16,a&=65535,u+=r*h,_+=u>>>16,u&=65535,u+=i*s,_+=u>>>16,u&=65535,_+=n*h,L+=_>>>16,_&=65535,_+=r*s,L+=_>>>16,_&=65535,_+=i*g,L+=_>>>16,_&=65535,L+=o*h+n*s+r*g+i*e,L&=65535,Long.fromBits(u<<16|a,L<<16|_)},Long.prototype.div=function(t){if(t.isZero())throw Error(\"division by zero\");if(this.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE)){if(t.equals(Long.ONE)||t.equals(Long.NEG_ONE))return Long.MIN_VALUE;if(t.equals(Long.MIN_VALUE))return Long.ONE;if((r=this.shiftRight(1).div(t).shiftLeft(1)).equals(Long.ZERO))return t.isNegative()?Long.ONE:Long.NEG_ONE;var o=this.subtract(t.multiply(r));return r.add(o.div(t))}if(t.equals(Long.MIN_VALUE))return Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var n=Long.ZERO;for(o=this;o.greaterThanOrEqual(t);){for(var r=Math.max(1,Math.floor(o.toNumber()/t.toNumber())),i=Math.ceil(Math.log(r)/Math.LN2),e=i<=48?1:Math.pow(2,i-48),g=Long.fromNumber(r),s=g.multiply(t);s.isNegative()||s.greaterThan(o);)r-=e,s=(g=Long.fromNumber(r)).multiply(t);g.isZero()&&(g=Long.ONE),n=n.add(g),o=o.subtract(s)}return n},Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Long.prototype.not=function(){return Long.fromBits(~this.low_,~this.high_)},Long.prototype.and=function(t){return Long.fromBits(this.low_&t.low_,this.high_&t.high_)},Long.prototype.or=function(t){return Long.fromBits(this.low_|t.low_,this.high_|t.high_)},Long.prototype.xor=function(t){return Long.fromBits(this.low_^t.low_,this.high_^t.high_)},Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var o=this.low_;if(t<32){var n=this.high_;return Long.fromBits(o<<t,n<<t|o>>>32-t)}return Long.fromBits(0,o<<t-32)},Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var o=this.high_;if(t<32){var n=this.low_;return Long.fromBits(n>>>t|o<<32-t,o>>t)}return Long.fromBits(o>>t-32,o>=0?0:-1)},Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var o=this.high_;if(t<32){var n=this.low_;return Long.fromBits(n>>>t|o<<32-t,o>>>t)}return 32==t?Long.fromBits(o,0):Long.fromBits(o>>>t-32,0)},Long.fromInt=function(t){if(-128<=t&&t<128){var o=Long.INT_CACHE_[t];if(o)return o}var n=new Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(Long.INT_CACHE_[t]=n),n},Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Long.ZERO:t<=-Long.TWO_PWR_63_DBL_?Long.MIN_VALUE:t+1>=Long.TWO_PWR_63_DBL_?Long.MAX_VALUE:t<0?Long.fromNumber(-t).negate():new Long(t%Long.TWO_PWR_32_DBL_|0,t/Long.TWO_PWR_32_DBL_|0)},Long.fromBits=function(t,o){return new Long(t,o)},Long.fromString=function(t,o){if(0==t.length)throw Error(\"number format error: empty string\");var n=o||10;if(n<2||36<n)throw Error(\"radix out of range: \"+n);if(\"-\"==t.charAt(0))return Long.fromString(t.substring(1),n).negate();if(t.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+t);for(var r=Long.fromNumber(Math.pow(n,8)),i=Long.ZERO,e=0;e<t.length;e+=8){var g=Math.min(8,t.length-e),s=parseInt(t.substring(e,e+g),n);if(g<8){var h=Long.fromNumber(Math.pow(n,g));i=i.multiply(h).add(Long.fromNumber(s))}else i=(i=i.multiply(r)).add(Long.fromNumber(s))}return i},Long.INT_CACHE_={},Long.TWO_PWR_16_DBL_=65536,Long.TWO_PWR_24_DBL_=1<<24,Long.TWO_PWR_32_DBL_=Long.TWO_PWR_16_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_31_DBL_=Long.TWO_PWR_32_DBL_/2,Long.TWO_PWR_48_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_64_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_32_DBL_,Long.TWO_PWR_63_DBL_=Long.TWO_PWR_64_DBL_/2,Long.ZERO=Long.fromInt(0),Long.ONE=Long.fromInt(1),Long.NEG_ONE=Long.fromInt(-1),Long.MAX_VALUE=Long.fromBits(-1,2147483647),Long.MIN_VALUE=Long.fromBits(0,-2147483648),Long.TWO_PWR_24_=Long.fromInt(1<<24),module.exports=Long,module.exports.Long=Long;","node_modules/bson/lib/bson/map.js":"\"use strict\";if(void 0!==global.Map)module.exports=global.Map,module.exports.Map=global.Map;else{var Map=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var s=e[t],i=s[0],o=s[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}};Map.prototype.clear=function(){this._keys=[],this._values={}},Map.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},Map.prototype.entries=function(){var e=this,t=0;return{next:function(){var s=e._keys[t++];return{value:void 0!==s?[s,e._values[s].v]:void 0,done:void 0===s}}}},Map.prototype.forEach=function(e,t){t=t||this;for(var s=0;s<this._keys.length;s++){var i=this._keys[s];e.call(t,this._values[i].v,i,t)}},Map.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},Map.prototype.has=function(e){return null!=this._values[e]},Map.prototype.keys=function(e){var t=this,s=0;return{next:function(){var e=t._keys[s++];return{value:void 0!==e?e:void 0,done:void 0===e}}}},Map.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},Map.prototype.values=function(e,t){var s=this,i=0;return{next:function(){var e=s._keys[i++];return{value:void 0!==e?s._values[e].v:void 0,done:void 0===e}}}},Object.defineProperty(Map.prototype,\"size\",{enumerable:!0,get:function(){return this._keys.length}}),module.exports=Map,module.exports.Map=Map}","node_modules/bson/lib/bson/max_key.js":"function MaxKey(){if(!(this instanceof MaxKey))return new MaxKey;this._bsontype=\"MaxKey\"}module.exports=MaxKey,module.exports.MaxKey=MaxKey;","node_modules/bson/lib/bson/min_key.js":"function MinKey(){if(!(this instanceof MinKey))return new MinKey;this._bsontype=\"MinKey\"}module.exports=MinKey,module.exports.MinKey=MinKey;","node_modules/bson/lib/bson/objectid.js":"var MACHINE_ID=parseInt(16777215*Math.random(),10),checkForHexRegExp=new RegExp(\"^[0-9a-fA-F]{24}$\"),hasBufferType=!1;try{Buffer&&Buffer.from&&(hasBufferType=!0)}catch(t){}for(var ObjectID=function t(e){if(e instanceof t)return e;if(!(this instanceof t))return new t(e);if(this._bsontype=\"ObjectID\",null==e||\"number\"==typeof e)return this.id=this.generate(e),void(t.cacheHexString&&(this.__id=this.toString(\"hex\")));var i=t.isValid(e);if(!i&&null!=e)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(i&&\"string\"==typeof e&&24==e.length&&hasBufferType)return new t(new Buffer(e,\"hex\"));if(i&&\"string\"==typeof e&&24==e.length)return t.createFromHexString(e);if(null==e||12!==e.length){if(null!=e&&e.toHexString)return e;throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\")}this.id=e,t.cacheHexString&&(this.__id=this.toString(\"hex\"))},ObjectId=ObjectID,hexTable=[],i=0;i<256;i++)hexTable[i]=(i<=15?\"0\":\"\")+i.toString(16);ObjectID.prototype.toHexString=function(){if(ObjectID.cacheHexString&&this.__id)return this.__id;var t=\"\";if(!this.id||!this.id.length)throw new Error(\"invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [\"+JSON.stringify(this.id)+\"]\");if(this.id instanceof _Buffer)return t=convertToHex(this.id),ObjectID.cacheHexString&&(this.__id=t),t;for(var e=0;e<this.id.length;e++)t+=hexTable[this.id.charCodeAt(e)];return ObjectID.cacheHexString&&(this.__id=t),t},ObjectID.prototype.get_inc=function(){return ObjectID.index=(ObjectID.index+1)%16777215},ObjectID.prototype.getInc=function(){return this.get_inc()},ObjectID.prototype.generate=function(t){\"number\"!=typeof t&&(t=~~(Date.now()/1e3));var e=(\"undefined\"==typeof process?Math.floor(1e5*Math.random()):process.pid)%65535,i=this.get_inc(),r=new Buffer(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[6]=255&MACHINE_ID,r[5]=MACHINE_ID>>8&255,r[4]=MACHINE_ID>>16&255,r[8]=255&e,r[7]=e>>8&255,r[11]=255&i,r[10]=i>>8&255,r[9]=i>>16&255,r},ObjectID.prototype.toString=function(t){return this.id&&this.id.copy?this.id.toString(\"string\"==typeof t?t:\"hex\"):this.toHexString()},ObjectID.prototype.inspect=ObjectID.prototype.toString,ObjectID.prototype.toJSON=function(){return this.toHexString()},ObjectID.prototype.equals=function(t){return t instanceof ObjectID?this.toString()==t.toString():\"string\"==typeof t&&ObjectID.isValid(t)&&12==t.length&&this.id instanceof _Buffer?t===this.id.toString(\"binary\"):\"string\"==typeof t&&ObjectID.isValid(t)&&24==t.length?t.toLowerCase()===this.toHexString():\"string\"==typeof t&&ObjectID.isValid(t)&&12==t.length?t===this.id:!(null==t||!(t instanceof ObjectID||t.toHexString))&&t.toHexString()===this.toHexString()},ObjectID.prototype.getTimestamp=function(){var t=new Date,e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24;return t.setTime(1e3*Math.floor(e)),t},ObjectID.index=~~(16777215*Math.random()),ObjectID.createPk=function(){return new ObjectID},ObjectID.createFromTime=function(t){var e=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0]);return e[3]=255&t,e[2]=t>>8&255,e[1]=t>>16&255,e[0]=t>>24&255,new ObjectID(e)};var encodeLookup=\"0123456789abcdef\".split(\"\"),decodeLookup=[];for(i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer,convertToHex=function(t){return t.toString(\"hex\")};ObjectID.createFromHexString=function(t){if(void 0===t||null!=t&&24!=t.length)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(hasBufferType)return new ObjectID(new Buffer(t,\"hex\"));for(var e=new _Buffer(12),i=0,r=0;r<24;)e[i++]=decodeLookup[t.charCodeAt(r++)]<<4|decodeLookup[t.charCodeAt(r++)];return new ObjectID(e)},ObjectID.isValid=function(t){return null!=t&&(\"number\"==typeof t||(\"string\"==typeof t?12==t.length||24==t.length&&checkForHexRegExp.test(t):t instanceof ObjectID||(t instanceof _Buffer||!!t.toHexString&&(12==t.id.length||24==t.id.length&&checkForHexRegExp.test(t.id)))))},Object.defineProperty(ObjectID.prototype,\"generationTime\",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(t){this.id[3]=255&t,this.id[2]=t>>8&255,this.id[1]=t>>16&255,this.id[0]=t>>24&255}}),module.exports=ObjectID,module.exports.ObjectID=ObjectID,module.exports.ObjectId=ObjectID;","node_modules/bson/lib/bson/regexp.js":"function BSONRegExp(t,o){if(!(this instanceof BSONRegExp))return new BSONRegExp;this._bsontype=\"BSONRegExp\",this.pattern=t||\"\",this.options=o||\"\";for(var s=0;s<this.options.length;s++)if(\"i\"!=this.options[s]&&\"m\"!=this.options[s]&&\"x\"!=this.options[s]&&\"l\"!=this.options[s]&&\"s\"!=this.options[s]&&\"u\"!=this.options[s])throw new Error(\"the regular expression options [\"+this.options[s]+\"] is not supported\")}module.exports=BSONRegExp,module.exports.BSONRegExp=BSONRegExp;","node_modules/bson/lib/bson/symbol.js":"function Symbol(t){if(!(this instanceof Symbol))return new Symbol(t);this._bsontype=\"Symbol\",this.value=t}Symbol.prototype.valueOf=function(){return this.value},Symbol.prototype.toString=function(){return this.value},Symbol.prototype.inspect=function(){return this.value},Symbol.prototype.toJSON=function(){return this.value},module.exports=Symbol,module.exports.Symbol=Symbol;","node_modules/bson/lib/bson/timestamp.js":"function Timestamp(t,i){if(!(this instanceof Timestamp))return new Timestamp(t,i);this._bsontype=\"Timestamp\",this.low_=0|t,this.high_=0|i}Timestamp.prototype.toInt=function(){return this.low_},Timestamp.prototype.toNumber=function(){return this.high_*Timestamp.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Timestamp.prototype.toJSON=function(){return this.toString()},Timestamp.prototype.toString=function(t){var i=t||10;if(i<2||36<i)throw Error(\"radix out of range: \"+i);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(Timestamp.MIN_VALUE)){var e=Timestamp.fromNumber(i),m=this.div(e),s=m.multiply(e).subtract(this);return m.toString(i)+s.toInt().toString(i)}return\"-\"+this.negate().toString(i)}for(var r=Timestamp.fromNumber(Math.pow(i,6)),a=(s=this,\"\");;){var o=s.div(r),p=s.subtract(o.multiply(r)).toInt().toString(i);if((s=o).isZero())return p+a;for(;p.length<6;)p=\"0\"+p;a=\"\"+p+a}},Timestamp.prototype.getHighBits=function(){return this.high_},Timestamp.prototype.getLowBits=function(){return this.low_},Timestamp.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Timestamp.TWO_PWR_32_DBL_+this.low_},Timestamp.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Timestamp.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,i=31;i>0&&0==(t&1<<i);i--);return 0!=this.high_?i+33:i+1},Timestamp.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Timestamp.prototype.isNegative=function(){return this.high_<0},Timestamp.prototype.isOdd=function(){return 1==(1&this.low_)},Timestamp.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Timestamp.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Timestamp.prototype.lessThan=function(t){return this.compare(t)<0},Timestamp.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Timestamp.prototype.greaterThan=function(t){return this.compare(t)>0},Timestamp.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Timestamp.prototype.compare=function(t){if(this.equals(t))return 0;var i=this.isNegative(),e=t.isNegative();return i&&!e?-1:!i&&e?1:this.subtract(t).isNegative()?-1:1},Timestamp.prototype.negate=function(){return this.equals(Timestamp.MIN_VALUE)?Timestamp.MIN_VALUE:this.not().add(Timestamp.ONE)},Timestamp.prototype.add=function(t){var i=this.high_>>>16,e=65535&this.high_,m=this.low_>>>16,s=65535&this.low_,r=t.high_>>>16,a=65535&t.high_,o=t.low_>>>16,p=0,n=0,h=0,_=0;return _+=s+(65535&t.low_),h+=_>>>16,_&=65535,h+=m+o,n+=h>>>16,h&=65535,n+=e+a,p+=n>>>16,n&=65535,p+=i+r,p&=65535,Timestamp.fromBits(h<<16|_,p<<16|n)},Timestamp.prototype.subtract=function(t){return this.add(t.negate())},Timestamp.prototype.multiply=function(t){if(this.isZero())return Timestamp.ZERO;if(t.isZero())return Timestamp.ZERO;if(this.equals(Timestamp.MIN_VALUE))return t.isOdd()?Timestamp.MIN_VALUE:Timestamp.ZERO;if(t.equals(Timestamp.MIN_VALUE))return this.isOdd()?Timestamp.MIN_VALUE:Timestamp.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Timestamp.TWO_PWR_24_)&&t.lessThan(Timestamp.TWO_PWR_24_))return Timestamp.fromNumber(this.toNumber()*t.toNumber());var i=this.high_>>>16,e=65535&this.high_,m=this.low_>>>16,s=65535&this.low_,r=t.high_>>>16,a=65535&t.high_,o=t.low_>>>16,p=65535&t.low_,n=0,h=0,_=0,T=0;return T+=s*p,_+=T>>>16,T&=65535,_+=m*p,h+=_>>>16,_&=65535,_+=s*o,h+=_>>>16,_&=65535,h+=e*p,n+=h>>>16,h&=65535,h+=m*o,n+=h>>>16,h&=65535,h+=s*a,n+=h>>>16,h&=65535,n+=i*p+e*o+m*a+s*r,n&=65535,Timestamp.fromBits(_<<16|T,n<<16|h)},Timestamp.prototype.div=function(t){if(t.isZero())throw Error(\"division by zero\");if(this.isZero())return Timestamp.ZERO;if(this.equals(Timestamp.MIN_VALUE)){if(t.equals(Timestamp.ONE)||t.equals(Timestamp.NEG_ONE))return Timestamp.MIN_VALUE;if(t.equals(Timestamp.MIN_VALUE))return Timestamp.ONE;if((m=this.shiftRight(1).div(t).shiftLeft(1)).equals(Timestamp.ZERO))return t.isNegative()?Timestamp.ONE:Timestamp.NEG_ONE;var i=this.subtract(t.multiply(m));return m.add(i.div(t))}if(t.equals(Timestamp.MIN_VALUE))return Timestamp.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var e=Timestamp.ZERO;for(i=this;i.greaterThanOrEqual(t);){for(var m=Math.max(1,Math.floor(i.toNumber()/t.toNumber())),s=Math.ceil(Math.log(m)/Math.LN2),r=s<=48?1:Math.pow(2,s-48),a=Timestamp.fromNumber(m),o=a.multiply(t);o.isNegative()||o.greaterThan(i);)m-=r,o=(a=Timestamp.fromNumber(m)).multiply(t);a.isZero()&&(a=Timestamp.ONE),e=e.add(a),i=i.subtract(o)}return e},Timestamp.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Timestamp.prototype.not=function(){return Timestamp.fromBits(~this.low_,~this.high_)},Timestamp.prototype.and=function(t){return Timestamp.fromBits(this.low_&t.low_,this.high_&t.high_)},Timestamp.prototype.or=function(t){return Timestamp.fromBits(this.low_|t.low_,this.high_|t.high_)},Timestamp.prototype.xor=function(t){return Timestamp.fromBits(this.low_^t.low_,this.high_^t.high_)},Timestamp.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var i=this.low_;if(t<32){var e=this.high_;return Timestamp.fromBits(i<<t,e<<t|i>>>32-t)}return Timestamp.fromBits(0,i<<t-32)},Timestamp.prototype.shiftRight=function(t){if(0==(t&=63))return this;var i=this.high_;if(t<32){var e=this.low_;return Timestamp.fromBits(e>>>t|i<<32-t,i>>t)}return Timestamp.fromBits(i>>t-32,i>=0?0:-1)},Timestamp.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var i=this.high_;if(t<32){var e=this.low_;return Timestamp.fromBits(e>>>t|i<<32-t,i>>>t)}return 32==t?Timestamp.fromBits(i,0):Timestamp.fromBits(i>>>t-32,0)},Timestamp.fromInt=function(t){if(-128<=t&&t<128){var i=Timestamp.INT_CACHE_[t];if(i)return i}var e=new Timestamp(0|t,t<0?-1:0);return-128<=t&&t<128&&(Timestamp.INT_CACHE_[t]=e),e},Timestamp.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Timestamp.ZERO:t<=-Timestamp.TWO_PWR_63_DBL_?Timestamp.MIN_VALUE:t+1>=Timestamp.TWO_PWR_63_DBL_?Timestamp.MAX_VALUE:t<0?Timestamp.fromNumber(-t).negate():new Timestamp(t%Timestamp.TWO_PWR_32_DBL_|0,t/Timestamp.TWO_PWR_32_DBL_|0)},Timestamp.fromBits=function(t,i){return new Timestamp(t,i)},Timestamp.fromString=function(t,i){if(0==t.length)throw Error(\"number format error: empty string\");var e=i||10;if(e<2||36<e)throw Error(\"radix out of range: \"+e);if(\"-\"==t.charAt(0))return Timestamp.fromString(t.substring(1),e).negate();if(t.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+t);for(var m=Timestamp.fromNumber(Math.pow(e,8)),s=Timestamp.ZERO,r=0;r<t.length;r+=8){var a=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+a),e);if(a<8){var p=Timestamp.fromNumber(Math.pow(e,a));s=s.multiply(p).add(Timestamp.fromNumber(o))}else s=(s=s.multiply(m)).add(Timestamp.fromNumber(o))}return s},Timestamp.INT_CACHE_={},Timestamp.TWO_PWR_16_DBL_=65536,Timestamp.TWO_PWR_24_DBL_=1<<24,Timestamp.TWO_PWR_32_DBL_=Timestamp.TWO_PWR_16_DBL_*Timestamp.TWO_PWR_16_DBL_,Timestamp.TWO_PWR_31_DBL_=Timestamp.TWO_PWR_32_DBL_/2,Timestamp.TWO_PWR_48_DBL_=Timestamp.TWO_PWR_32_DBL_*Timestamp.TWO_PWR_16_DBL_,Timestamp.TWO_PWR_64_DBL_=Timestamp.TWO_PWR_32_DBL_*Timestamp.TWO_PWR_32_DBL_,Timestamp.TWO_PWR_63_DBL_=Timestamp.TWO_PWR_64_DBL_/2,Timestamp.ZERO=Timestamp.fromInt(0),Timestamp.ONE=Timestamp.fromInt(1),Timestamp.NEG_ONE=Timestamp.fromInt(-1),Timestamp.MAX_VALUE=Timestamp.fromBits(-1,2147483647),Timestamp.MIN_VALUE=Timestamp.fromBits(0,-2147483648),Timestamp.TWO_PWR_24_=Timestamp.fromInt(1<<24),module.exports=Timestamp,module.exports.Timestamp=Timestamp;","node_modules/bson/lib/bson/float_parser.js":"var readIEEE754=function(a,t,o,r,E){var h,M,e=\"big\"===o,w=8*E-r-1,i=(1<<w)-1,p=i>>1,f=-7,N=e?0:E-1,n=e?1:-1,s=a[t+N];for(N+=n,h=s&(1<<-f)-1,s>>=-f,f+=w;f>0;h=256*h+a[t+N],N+=n,f-=8);for(M=h&(1<<-f)-1,h>>=-f,f+=r;f>0;M=256*M+a[t+N],N+=n,f-=8);if(0===h)h=1-p;else{if(h===i)return M?NaN:1/0*(s?-1:1);M+=Math.pow(2,r),h-=p}return(s?-1:1)*M*Math.pow(2,h-r)},writeIEEE754=function(a,t,o,r,E,h){var M,e,w,i=\"big\"===r,p=8*h-E-1,f=(1<<p)-1,N=f>>1,n=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,s=i?h-1:0,I=i?-1:1,u=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(e=isNaN(t)?1:0,M=f):(M=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-M))<1&&(M--,w*=2),(t+=M+N>=1?n/w:n*Math.pow(2,1-N))*w>=2&&(M++,w/=2),M+N>=f?(e=0,M=f):M+N>=1?(e=(t*w-1)*Math.pow(2,E),M+=N):(e=t*Math.pow(2,N-1)*Math.pow(2,E),M=0));E>=8;a[o+s]=255&e,s+=I,e/=256,E-=8);for(M=M<<E|e,p+=E;p>0;a[o+s]=255&M,s+=I,M/=256,p-=8);a[o+s-I]|=128*u};exports.readIEEE754=readIEEE754,exports.writeIEEE754=writeIEEE754;","node_modules/bson/lib/bson/parser/deserializer.js":"\"use strict\";var readIEEE754=require(\"../float_parser\").readIEEE754,f=require(\"util\").format,Long=require(\"../long\").Long,Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,Code=require(\"../code\").Code,MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,Decimal128=require(\"../decimal128\"),Int32=require(\"../int_32\"),DBRef=require(\"../db_ref\").DBRef,BSONRegExp=require(\"../regexp\").BSONRegExp,Binary=require(\"../binary\").Binary,deserialize=function(e,r,n){var t=(r=null==r?{}:r)&&r.index?r.index:0,i=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(i<5||e.length<i||i+t>e.length)throw new Error(\"corrupt bson message\");if(0!=e[t+i-1])throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");return deserializeObject(e,t,r,n)},deserializeObject=function(e,r,n,t){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,a=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32,l=null==n.fieldsAsRaw?null:n.fieldsAsRaw,N=null!=n.raw&&n.raw,B=\"boolean\"==typeof n.bsonRegExp&&n.bsonRegExp,S=null!=n.promoteBuffers&&n.promoteBuffers,O=null==n.promoteLongs||n.promoteLongs,_=null==n.promoteValues||n.promoteValues,s=r;if(e.length<5)throw new Error(\"corrupt bson message < 5 bytes long\");var f=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;if(f<5||f>e.length)throw new Error(\"corrupt bson message\");for(var A=t?[]:{},u=0;;){var c=e[r++];if(0==c)break;for(var w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var h=t?u++:e.toString(\"utf8\",r,w);if(r=w+1,c==BSON.BSON_DATA_STRING){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");A[h]=e.toString(\"utf8\",r,r+F-1),r+=F}else if(c==BSON.BSON_DATA_OID){var E=new Buffer(12);e.copy(E,0,r,r+12),A[h]=new ObjectID(E),r+=12}else if(c==BSON.BSON_DATA_INT&&0==_)A[h]=new Int32(e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24);else if(c==BSON.BSON_DATA_INT)A[h]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;else if(c==BSON.BSON_DATA_NUMBER&&0==_)A[h]=new Double(e.readDoubleLE(r)),r+=8;else if(c==BSON.BSON_DATA_NUMBER)A[h]=e.readDoubleLE(r),r+=8;else if(c==BSON.BSON_DATA_DATE){var g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;A[h]=new Date(new Long(g,D).toNumber())}else if(c==BSON.BSON_DATA_BOOLEAN){if(0!=e[r]&&1!=e[r])throw new Error(\"illegal boolean type value\");A[h]=1==e[r++]}else if(c==BSON.BSON_DATA_OBJECT){var T=r;if((q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)<=0||q>e.length-r)throw new Error(\"bad embedded document length in bson\");A[h]=N?e.slice(r,r+q):deserializeObject(e,T,n,!1),r+=q}else if(c==BSON.BSON_DATA_ARRAY){T=r;var b=n,y=r+(q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24);if(l&&l[h]){b={};for(var d in n)b[d]=n[d];b.raw=!0}if(A[h]=deserializeObject(e,T,b,!0),r+=q,0!=e[r-1])throw new Error(\"invalid array terminator byte\");if(r!=y)throw new Error(\"corrupted array bson\")}else if(c==BSON.BSON_DATA_UNDEFINED)A[h]=void 0;else if(c==BSON.BSON_DATA_NULL)A[h]=null;else if(c==BSON.BSON_DATA_LONG){g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var p=new Long(g,D);A[h]=O&&1==_&&p.lessThanOrEqual(JS_INT_MAX_LONG)&&p.greaterThanOrEqual(JS_INT_MIN_LONG)?p.toNumber():p}else if(c==BSON.BSON_DATA_DECIMAL128){var v=new Buffer(16);e.copy(v,0,r,r+16),r+=16;var m=new Decimal128(v);A[h]=m.toObject?m.toObject():m}else if(c==BSON.BSON_DATA_BINARY){var I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,R=I,M=e[r++];if(I<0)throw new Error(\"Negative binary type element size found\");if(I>e.length)throw new Error(\"Binary type size larger than document size\");if(null!=e.slice){if(M==Binary.SUBTYPE_BYTE_ARRAY){if((I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(I>R-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(I<R-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}A[h]=S&&_?e.slice(r,r+I):new Binary(e.slice(r,r+I),M)}else{var C=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(I)):new Array(I);if(M==Binary.SUBTYPE_BYTE_ARRAY){if((I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(I>R-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(I<R-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}for(w=0;w<I;w++)C[w]=e[r+w];A[h]=S&&_?C:new Binary(C,M)}r+=I}else if(c==BSON.BSON_DATA_REGEXP&&0==B){for(w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var Y=e.toString(\"utf8\",r,w);for(w=r=w+1;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var L=e.toString(\"utf8\",r,w);r=w+1;var x=new Array(L.length);for(w=0;w<L.length;w++)switch(L[w]){case\"m\":x[w]=\"m\";break;case\"s\":x[w]=\"g\";break;case\"i\":x[w]=\"i\"}A[h]=new RegExp(Y,x.join(\"\"))}else if(c==BSON.BSON_DATA_REGEXP&&1==B){for(w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");for(Y=e.toString(\"utf8\",r,w),w=r=w+1;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");L=e.toString(\"utf8\",r,w);r=w+1,A[h]=new BSONRegExp(Y,L)}else if(c==BSON.BSON_DATA_SYMBOL){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");A[h]=new Symbol(e.toString(\"utf8\",r,r+F-1)),r+=F}else if(c==BSON.BSON_DATA_TIMESTAMP){g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;A[h]=new Timestamp(g,D)}else if(c==BSON.BSON_DATA_MIN_KEY)A[h]=new MinKey;else if(c==BSON.BSON_DATA_MAX_KEY)A[h]=new MaxKey;else if(c==BSON.BSON_DATA_CODE){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");var U=e.toString(\"utf8\",r,r+F-1);if(i){if(o){var z=a?crc32(U):U;A[h]=isolateEvalWithHash(functionCache,z,U,A)}else A[h]=isolateEval(U)}else A[h]=new Code(U);r+=F}else if(c==BSON.BSON_DATA_CODE_W_SCOPE){var j=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;if(j<13)throw new Error(\"code_w_scope total size shorter minimum expected length\");if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");U=e.toString(\"utf8\",r,r+F-1),T=r+=F;var q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24,P=deserializeObject(e,T,n,!1);if(r+=q,j<8+q+F)throw new Error(\"code_w_scope total size is to short, truncating scope\");if(j>8+q+F)throw new Error(\"code_w_scope total size is to long, clips outer document\");if(i){if(o){z=a?crc32(U):U;A[h]=isolateEvalWithHash(functionCache,z,U,A)}else A[h]=isolateEval(U);A[h].scope=P}else A[h]=new Code(U,P)}else{if(c!=BSON.BSON_DATA_DBPOINTER)throw new Error(\"Detected unknown BSON type \"+c.toString(16)+' for fieldname \"'+h+'\", are you using the latest BSON parser');var F;if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");var G=e.toString(\"utf8\",r,r+F-1);r+=F;var K=new Buffer(12);e.copy(K,0,r,r+12);E=new ObjectID(K);r+=12;var X=G.split(\".\"),J=X.shift(),k=X.join(\".\");A[h]=new DBRef(k,E,J)}}if(f!=r-s){if(t)throw new Error(\"corrupt array bson\");throw new Error(\"corrupt object bson\")}return null!=A.$id&&(A=new DBRef(A.$ref,A.$id,A.$db)),A},isolateEvalWithHash=function(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval(\"value = \"+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function(functionString){var value=null;return eval(\"value = \"+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize;","node_modules/bson/lib/bson/parser/serializer.js":"\"use strict\";var writeIEEE754=require(\"../float_parser\").writeIEEE754,readIEEE754=require(\"../float_parser\").readIEEE754,Long=require(\"../long\").Long,Map=require(\"../map\"),Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,Code=require(\"../code\").Code,BSONRegExp=require(\"../regexp\").BSONRegExp,Int32=require(\"../int_32\").Int32,MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,Decimal128=require(\"../decimal128\"),DBRef=require(\"../db_ref\").DBRef,Binary=require(\"../binary\").Binary;try{var _Buffer=Uint8Array}catch(e){_Buffer=Buffer}var regexp=/\\x00/,isDate=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},isRegExp=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},serializeString=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_STRING;e[(r=r+(n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"))+1)-1]=0;var o=e.write(t,r+4,\"utf8\");return e[r+3]=o+1>>24&255,e[r+2]=o+1>>16&255,e[r+1]=o+1>>8&255,e[r]=o+1&255,r=r+4+o,e[r++]=0,r},serializeNumber=function(e,i,t,r,n){if(Math.floor(t)===t&&t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX)if(t>=BSON.BSON_INT32_MIN&&t<=BSON.BSON_INT32_MAX){e[r++]=BSON.BSON_DATA_INT;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=t>>16&255,e[r++]=t>>24&255}else if(t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX){e[r++]=BSON.BSON_DATA_NUMBER;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8}else{e[r++]=BSON.BSON_DATA_LONG;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=Long.fromNumber(t),a=o.getLowBits(),s=o.getHighBits();e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255}else{e[r++]=BSON.BSON_DATA_NUMBER;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8}return r},serializeNull=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_NULL;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,r},serializeBoolean=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BOOLEAN;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=t?1:0,r},serializeDate=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_DATE;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=Long.fromNumber(t.getTime()),a=o.getLowBits(),s=o.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r},serializeRegExp=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_REGEXP;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,t.source&&null!=t.source.match(regexp))throw Error(\"value \"+t.source+\" must not contain null bytes\");return r+=e.write(t.source,r,\"utf8\"),e[r++]=0,t.global&&(e[r++]=115),t.ignoreCase&&(e[r++]=105),t.multiline&&(e[r++]=109),e[r++]=0,r},serializeBSONRegExp=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_REGEXP;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,null!=t.pattern.match(regexp))throw Error(\"pattern \"+t.pattern+\" must not contain null bytes\");return r+=e.write(t.pattern,r,\"utf8\"),e[r++]=0,r+=e.write(t.options.split(\"\").sort().join(\"\"),r,\"utf8\"),e[r++]=0,r},serializeMinMax=function(e,i,t,r,n){e[r++]=null===t?BSON.BSON_DATA_NULL:t instanceof MinKey?BSON.BSON_DATA_MIN_KEY:BSON.BSON_DATA_MAX_KEY;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,r},serializeObjectId=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_OID;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,\"string\"==typeof t.id)e.write(t.id,r,\"binary\");else{if(!t.id||!t.id.copy)throw new Error(\"object [\"+JSON.stringify(t)+\"] is not a valid ObjectId\");t.id.copy(e,r,0,12)}return r+12},serializeBuffer=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BINARY;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=BSON.BSON_BINARY_SUBTYPE_DEFAULT,t.copy(e,r,0,o),r+=o},serializeObject=function(e,i,t,r,n,o,a,s,B,N){for(var _=0;_<N.length;_++)if(N[_]===t)throw new Error(\"cyclic dependency detected\");N.push(t),e[r++]=Array.isArray(t)?BSON.BSON_DATA_ARRAY:BSON.BSON_DATA_OBJECT;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var l=serializeInto(e,t,n,r,o+1,a,s,N);N.pop();return l},serializeDecimal128=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_DECIMAL128;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,t.bytes.copy(e,r,0,16),r+16},serializeLong=function(e,i,t,r,n){e[r++]=\"Long\"==t._bsontype?BSON.BSON_DATA_LONG:BSON.BSON_DATA_TIMESTAMP;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.getLowBits(),a=t.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r},serializeInt32=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_INT;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=t>>16&255,e[r++]=t>>24&255,r},serializeDouble=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_NUMBER;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8},serializeFunction=function(e,i,t,r,n,o,a){e[r++]=BSON.BSON_DATA_CODE;r+=a?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var s=t.toString(),B=e.write(s,r+4,\"utf8\")+1;return e[r]=255&B,e[r+1]=B>>8&255,e[r+2]=B>>16&255,e[r+3]=B>>24&255,r=r+4+B-1,e[r++]=0,r},serializeCode=function(e,i,t,r,n,o,a,s,B){if(t.scope&&\"object\"==typeof t.scope){e[r++]=BSON.BSON_DATA_CODE_W_SCOPE;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var N=r,_=\"string\"==typeof t.code?t.code:t.code.toString();r+=4;var l=e.write(_,r+4,\"utf8\")+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;var S=serializeInto(e,t.scope,n,r,o+1,a,s);r=S-1;var O=S-N;e[N++]=255&O,e[N++]=O>>8&255,e[N++]=O>>16&255,e[N++]=O>>24&255,e[r++]=0}else{e[r++]=BSON.BSON_DATA_CODE;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;_=t.code.toString();var u=e.write(_,r+4,\"utf8\")+1;e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0}return r},serializeBinary=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BINARY;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.value(!0),a=t.position;return t.sub_type==Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=t.sub_type,t.sub_type==Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),o.copy(e,r,0,t.position),r+=t.position},serializeSymbol=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_SYMBOL;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=e.write(t.value,r+4,\"utf8\")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r},serializeDBRef=function(e,i,t,r,n,o,a){e[r++]=BSON.BSON_DATA_OBJECT;r+=a?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var s,B=r,N=(s=null!=t.db?serializeInto(e,{$ref:t.namespace,$id:t.oid,$db:t.db},!1,r,n+1,o):serializeInto(e,{$ref:t.namespace,$id:t.oid},!1,r,n+1,o))-B;return e[B++]=255&N,e[B++]=N>>8&255,e[B++]=N>>16&255,e[B++]=N>>24&255,s},serializeInto=function(e,i,t,r,n,o,a,s){r=r||0,(s=s||[]).push(i);var B=r+4;if(Array.isArray(i))for(var N=0;N<i.length;N++){var _=\"\"+N;if((f=i[N])&&f.toBSON){if(\"function\"!=typeof f.toBSON)throw new Error(\"toBSON is not a function\");f=f.toBSON()}\"string\"==(u=typeof f)?B=serializeString(e,_,f,B,!0):\"number\"==u?B=serializeNumber(e,_,f,B,!0):\"boolean\"==u?B=serializeBoolean(e,_,f,B,!0):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B,!0):void 0===f?B=serializeNull(e,_,f,B,!0):null===f?B=serializeNull(e,_,f,B,!0):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B,!0):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B,!0):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B,!0):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!0,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B,!0):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B,!0):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B,!0):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o,!0):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a,!0):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B,!0):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B,!0):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o,!0):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B,!0):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B,!0):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B,!0))}else if(i instanceof Map)for(var l=i.entries(),S=!1;!S;){var O=l.next();if(!(S=O.done)){_=O.value[0];var u=typeof(f=O.value[1]);if(\"$db\"!=_&&\"$ref\"!=_&&\"$id\"!=_){if(null!=_.match(regexp))throw Error(\"key \"+_+\" must not contain null bytes\");if(t){if(\"$\"==_[0])throw Error(\"key \"+_+\" must not start with '$'\");if(~_.indexOf(\".\"))throw Error(\"key \"+_+\" must not contain '.'\")}}\"string\"==u?B=serializeString(e,_,f,B):\"number\"==u?B=serializeNumber(e,_,f,B):\"boolean\"==u?B=serializeBoolean(e,_,f,B):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B):void 0===f&&1==a||(null===f||void 0===f?B=serializeNull(e,_,f,B):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!1,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B)))}}else{if(i.toBSON){if(\"function\"!=typeof i.toBSON)throw new Error(\"toBSON is not a function\");if(null!=(i=i.toBSON())&&\"object\"!=typeof i)throw new Error(\"toBSON function did not return an object\")}for(var _ in i){var f;if((f=i[_])&&f.toBSON){if(\"function\"!=typeof f.toBSON)throw new Error(\"toBSON is not a function\");f=f.toBSON()}u=typeof f;if(\"$db\"!=_&&\"$ref\"!=_&&\"$id\"!=_){if(null!=_.match(regexp))throw Error(\"key \"+_+\" must not contain null bytes\");if(t){if(\"$\"==_[0])throw Error(\"key \"+_+\" must not start with '$'\");if(~_.indexOf(\".\"))throw Error(\"key \"+_+\" must not contain '.'\")}}\"string\"==u?B=serializeString(e,_,f,B):\"number\"==u?B=serializeNumber(e,_,f,B):\"boolean\"==u?B=serializeBoolean(e,_,f,B):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B):void 0===f&&1==a||(null===f||void 0===f?B=serializeNull(e,_,f,B):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!1,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B)))}}s.pop(),e[B++]=0;var c=B-r;return e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255,B},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=serializeInto;","node_modules/bson/lib/bson/parser/calculate_size.js":"\"use strict\";var writeIEEE754=require(\"../float_parser\").writeIEEE754,readIEEE754=require(\"../float_parser\").readIEEE754,Long=require(\"../long\").Long,Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,BSONRegExp=require(\"../regexp\").BSONRegExp,Code=require(\"../code\").Code,Decimal128=require(\"../decimal128\"),MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,DBRef=require(\"../db_ref\").DBRef,Binary=require(\"../binary\").Binary,isDate=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},calculateObjectSize=function(e,t,n){var u=5;if(Array.isArray(e))for(var r=0;r<e.length;r++)u+=calculateElement(r.toString(),e[r],t,!0,n);else{e.toBSON&&(e=e.toBSON());for(var f in e)u+=calculateElement(f,e[f],t,!1,n)}return u};function calculateElement(e,t,n,u,r){switch(t&&t.toBSON&&(t=t.toBSON()),typeof t){case\"string\":return 1+Buffer.byteLength(e,\"utf8\")+1+4+Buffer.byteLength(t,\"utf8\")+1;case\"number\":return Math.floor(t)===t&&t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX&&t>=BSON.BSON_INT32_MIN&&t<=BSON.BSON_INT32_MAX?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+5:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;case\"undefined\":return u||!r?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1:0;case\"boolean\":return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+2;case\"object\":if(null==t||t instanceof MinKey||t instanceof MaxKey||\"MinKey\"==t._bsontype||\"MaxKey\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1;if(t instanceof ObjectID||\"ObjectID\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+13;if(t instanceof Date||isDate(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(\"undefined\"!=typeof Buffer&&Buffer.isBuffer(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+6+t.length;if(t instanceof Long||t instanceof Double||t instanceof Timestamp||\"Long\"==t._bsontype||\"Double\"==t._bsontype||\"Timestamp\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(t instanceof Decimal128||\"Decimal128\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+17;if(t instanceof Code||\"Code\"==t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1+calculateObjectSize(t.scope,n,r):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1;if(t instanceof Binary||\"Binary\"==t._bsontype)return t.sub_type==Binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1);if(t instanceof Symbol||\"Symbol\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+Buffer.byteLength(t.value,\"utf8\")+4+1+1;if(t instanceof DBRef||\"DBRef\"==t._bsontype){var f={$ref:t.namespace,$id:t.oid};return null!=t.db&&(f.$db=t.db),(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+calculateObjectSize(f,n,r)}return t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:t instanceof BSONRegExp||\"BSONRegExp\"==t._bsontype?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.pattern,\"utf8\")+1+Buffer.byteLength(t.options,\"utf8\")+1:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+calculateObjectSize(t,n,r)+1;case\"function\":if(t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)||\"[object RegExp]\"==String.call(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.toString(),\"utf8\")+1+calculateObjectSize(t.scope,n,r);if(n)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.toString(),\"utf8\")+1}return 0}var BSON={};BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992,module.exports=calculateObjectSize;","node_modules/resolve-from/index.js":"\"use strict\";var path=require(\"path\"),Module=require(\"module\");module.exports=function(e,r){if(\"string\"!=typeof e||\"string\"!=typeof r)throw new TypeError(\"Expected `fromDir` and `moduleId` to be a string\");e=path.resolve(e);var t=path.join(e,\"noop.js\");try{return Module._resolveFilename(r,{id:t,filename:t,paths:Module._nodeModulePaths(e)})}catch(e){return null}};","node_modules/semver/semver.js":"exports=module.exports=SemVer;var debug;debug=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(\"SEMVER\"),console.log.apply(console,r)}:function(){},exports.SEMVER_SPEC_VERSION=\"2.0.0\";var MAX_LENGTH=256,MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]=\"0|[1-9]\\\\d*\";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]=\"[0-9]+\";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]=\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";var MAINVERSION=R++;src[MAINVERSION]=\"(\"+src[NUMERICIDENTIFIER]+\")\\\\.(\"+src[NUMERICIDENTIFIER]+\")\\\\.(\"+src[NUMERICIDENTIFIER]+\")\";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]=\"(\"+src[NUMERICIDENTIFIERLOOSE]+\")\\\\.(\"+src[NUMERICIDENTIFIERLOOSE]+\")\\\\.(\"+src[NUMERICIDENTIFIERLOOSE]+\")\";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]=\"(?:\"+src[NUMERICIDENTIFIER]+\"|\"+src[NONNUMERICIDENTIFIER]+\")\";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]=\"(?:\"+src[NUMERICIDENTIFIERLOOSE]+\"|\"+src[NONNUMERICIDENTIFIER]+\")\";var PRERELEASE=R++;src[PRERELEASE]=\"(?:-(\"+src[PRERELEASEIDENTIFIER]+\"(?:\\\\.\"+src[PRERELEASEIDENTIFIER]+\")*))\";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]=\"(?:-?(\"+src[PRERELEASEIDENTIFIERLOOSE]+\"(?:\\\\.\"+src[PRERELEASEIDENTIFIERLOOSE]+\")*))\";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]=\"[0-9A-Za-z-]+\";var BUILD=R++;src[BUILD]=\"(?:\\\\+(\"+src[BUILDIDENTIFIER]+\"(?:\\\\.\"+src[BUILDIDENTIFIER]+\")*))\";var FULL=R++,FULLPLAIN=\"v?\"+src[MAINVERSION]+src[PRERELEASE]+\"?\"+src[BUILD]+\"?\";src[FULL]=\"^\"+FULLPLAIN+\"$\";var LOOSEPLAIN=\"[v=\\\\s]*\"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+\"?\"+src[BUILD]+\"?\",LOOSE=R++;src[LOOSE]=\"^\"+LOOSEPLAIN+\"$\";var GTLT=R++;src[GTLT]=\"((?:<|>)?=?)\";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+\"|x|X|\\\\*\";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+\"|x|X|\\\\*\";var XRANGEPLAIN=R++;src[XRANGEPLAIN]=\"[v=\\\\s]*(\"+src[XRANGEIDENTIFIER]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIER]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIER]+\")(?:\"+src[PRERELEASE]+\")?\"+src[BUILD]+\"?)?)?\";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]=\"[v=\\\\s]*(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\"+src[PRERELEASELOOSE]+\")?\"+src[BUILD]+\"?)?)?\";var XRANGE=R++;src[XRANGE]=\"^\"+src[GTLT]+\"\\\\s*\"+src[XRANGEPLAIN]+\"$\";var XRANGELOOSE=R++;src[XRANGELOOSE]=\"^\"+src[GTLT]+\"\\\\s*\"+src[XRANGEPLAINLOOSE]+\"$\";var LONETILDE=R++;src[LONETILDE]=\"(?:~>?)\";var TILDETRIM=R++;src[TILDETRIM]=\"(\\\\s*)\"+src[LONETILDE]+\"\\\\s+\",re[TILDETRIM]=new RegExp(src[TILDETRIM],\"g\");var tildeTrimReplace=\"$1~\",TILDE=R++;src[TILDE]=\"^\"+src[LONETILDE]+src[XRANGEPLAIN]+\"$\";var TILDELOOSE=R++;src[TILDELOOSE]=\"^\"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+\"$\";var LONECARET=R++;src[LONECARET]=\"(?:\\\\^)\";var CARETTRIM=R++;src[CARETTRIM]=\"(\\\\s*)\"+src[LONECARET]+\"\\\\s+\",re[CARETTRIM]=new RegExp(src[CARETTRIM],\"g\");var caretTrimReplace=\"$1^\",CARET=R++;src[CARET]=\"^\"+src[LONECARET]+src[XRANGEPLAIN]+\"$\";var CARETLOOSE=R++;src[CARETLOOSE]=\"^\"+src[LONECARET]+src[XRANGEPLAINLOOSE]+\"$\";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]=\"^\"+src[GTLT]+\"\\\\s*(\"+LOOSEPLAIN+\")$|^$\";var COMPARATOR=R++;src[COMPARATOR]=\"^\"+src[GTLT]+\"\\\\s*(\"+FULLPLAIN+\")$|^$\";var COMPARATORTRIM=R++;src[COMPARATORTRIM]=\"(\\\\s*)\"+src[GTLT]+\"\\\\s*(\"+LOOSEPLAIN+\"|\"+src[XRANGEPLAIN]+\")\",re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],\"g\");var comparatorTrimReplace=\"$1$2$3\",HYPHENRANGE=R++;src[HYPHENRANGE]=\"^\\\\s*(\"+src[XRANGEPLAIN]+\")\\\\s+-\\\\s+(\"+src[XRANGEPLAIN]+\")\\\\s*$\";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]=\"^\\\\s*(\"+src[XRANGEPLAINLOOSE]+\")\\\\s+-\\\\s+(\"+src[XRANGEPLAINLOOSE]+\")\\\\s*$\";var STAR=R++;src[STAR]=\"(<|>)?=?\\\\s*\\\\*\";for(var i=0;i<R;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));exports.parse=parse;function parse(r,e){if(r instanceof SemVer)return r;if(\"string\"!=typeof r)return null;if(r.length>MAX_LENGTH)return null;if(!(e?re[LOOSE]:re[FULL]).test(r))return null;try{return new SemVer(r,e)}catch(r){return null}}exports.valid=valid;function valid(r,e){var t=parse(r,e);return t?t.version:null}exports.clean=clean;function clean(r,e){var t=parse(r.trim().replace(/^[=v]+/,\"\"),e);return t?t.version:null}exports.SemVer=SemVer;function SemVer(r,e){if(r instanceof SemVer){if(r.loose===e)return r;r=r.version}else if(\"string\"!=typeof r)throw new TypeError(\"Invalid Version: \"+r);if(r.length>MAX_LENGTH)throw new TypeError(\"version is longer than \"+MAX_LENGTH+\" characters\");if(!(this instanceof SemVer))return new SemVer(r,e);debug(\"SemVer\",r,e),this.loose=e;var t=r.trim().match(e?re[LOOSE]:re[FULL]);if(!t)throw new TypeError(\"Invalid Version: \"+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(function(r){if(/^[0-9]+$/.test(r)){var e=+r;if(e>=0&&e<MAX_SAFE_INTEGER)return e}return r}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}SemVer.prototype.format=function(){return this.version=this.major+\".\"+this.minor+\".\"+this.patch,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(r){return debug(\"SemVer.compare\",this.version,this.loose,r),r instanceof SemVer||(r=new SemVer(r,this.loose)),this.compareMain(r)||this.comparePre(r)},SemVer.prototype.compareMain=function(r){return r instanceof SemVer||(r=new SemVer(r,this.loose)),compareIdentifiers(this.major,r.major)||compareIdentifiers(this.minor,r.minor)||compareIdentifiers(this.patch,r.patch)},SemVer.prototype.comparePre=function(r){if(r instanceof SemVer||(r=new SemVer(r,this.loose)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],s=r.prerelease[e];if(debug(\"prerelease compare\",e,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++e)},SemVer.prototype.inc=function(r,e){switch(r){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",e);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",e);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)\"number\"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(\"invalid increment argument: \"+r)}return this.format(),this.raw=this.version,this},exports.inc=inc;function inc(r,e,t,s){\"string\"==typeof t&&(s=t,t=void 0);try{return new SemVer(r,t).inc(e,s).version}catch(r){return null}}exports.diff=diff;function diff(r,e){if(eq(r,e))return null;var t=parse(r),s=parse(e);if(t.prerelease.length||s.prerelease.length){for(var n in t)if((\"major\"===n||\"minor\"===n||\"patch\"===n)&&t[n]!==s[n])return\"pre\"+n;return\"prerelease\"}for(var n in t)if((\"major\"===n||\"minor\"===n||\"patch\"===n)&&t[n]!==s[n])return n}exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(r,e){var t=numeric.test(r),s=numeric.test(e);return t&&s&&(r=+r,e=+e),t&&!s?-1:s&&!t?1:r<e?-1:r>e?1:0}exports.rcompareIdentifiers=rcompareIdentifiers;function rcompareIdentifiers(r,e){return compareIdentifiers(e,r)}exports.major=major;function major(r,e){return new SemVer(r,e).major}exports.minor=minor;function minor(r,e){return new SemVer(r,e).minor}exports.patch=patch;function patch(r,e){return new SemVer(r,e).patch}exports.compare=compare;function compare(r,e,t){return new SemVer(r,t).compare(new SemVer(e,t))}exports.compareLoose=compareLoose;function compareLoose(r,e){return compare(r,e,!0)}exports.rcompare=rcompare;function rcompare(r,e,t){return compare(e,r,t)}exports.sort=sort;function sort(r,e){return r.sort(function(r,t){return exports.compare(r,t,e)})}exports.rsort=rsort;function rsort(r,e){return r.sort(function(r,t){return exports.rcompare(r,t,e)})}exports.gt=gt;function gt(r,e,t){return compare(r,e,t)>0}exports.lt=lt;function lt(r,e,t){return compare(r,e,t)<0}exports.eq=eq;function eq(r,e,t){return 0===compare(r,e,t)}exports.neq=neq;function neq(r,e,t){return 0!==compare(r,e,t)}exports.gte=gte;function gte(r,e,t){return compare(r,e,t)>=0}exports.lte=lte;function lte(r,e,t){return compare(r,e,t)<=0}exports.cmp=cmp;function cmp(r,e,t,s){var n;switch(e){case\"===\":\"object\"==typeof r&&(r=r.version),\"object\"==typeof t&&(t=t.version),n=r===t;break;case\"!==\":\"object\"==typeof r&&(r=r.version),\"object\"==typeof t&&(t=t.version),n=r!==t;break;case\"\":case\"=\":case\"==\":n=eq(r,t,s);break;case\"!=\":n=neq(r,t,s);break;case\">\":n=gt(r,t,s);break;case\">=\":n=gte(r,t,s);break;case\"<\":n=lt(r,t,s);break;case\"<=\":n=lte(r,t,s);break;default:throw new TypeError(\"Invalid operator: \"+e)}return n}exports.Comparator=Comparator;function Comparator(r,e){if(r instanceof Comparator){if(r.loose===e)return r;r=r.value}if(!(this instanceof Comparator))return new Comparator(r,e);debug(\"comparator\",r,e),this.loose=e,this.parse(r),this.semver===ANY?this.value=\"\":this.value=this.operator+this.semver.version,debug(\"comp\",this)}var ANY={};Comparator.prototype.parse=function(r){var e=this.loose?re[COMPARATORLOOSE]:re[COMPARATOR],t=r.match(e);if(!t)throw new TypeError(\"Invalid comparator: \"+r);this.operator=t[1],\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new SemVer(t[2],this.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(r){return debug(\"Comparator.test\",r,this.loose),this.semver===ANY||(\"string\"==typeof r&&(r=new SemVer(r,this.loose)),cmp(r,this.operator,this.semver,this.loose))},Comparator.prototype.intersects=function(r,e){if(!(r instanceof Comparator))throw new TypeError(\"a Comparator is required\");var t;if(\"\"===this.operator)return t=new Range(r.value,e),satisfies(this.value,t,e);if(\"\"===r.operator)return t=new Range(this.value,e),satisfies(r.semver,t,e);var s=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==r.operator&&\">\"!==r.operator),n=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==r.operator&&\"<\"!==r.operator),o=this.semver.version===r.semver.version,a=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==r.operator&&\"<=\"!==r.operator),i=cmp(this.semver,\"<\",r.semver,e)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===r.operator||\"<\"===r.operator),c=cmp(this.semver,\">\",r.semver,e)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===r.operator||\">\"===r.operator);return s||n||o&&a||i||c},exports.Range=Range;function Range(r,e){if(r instanceof Range)return r.loose===e?r:new Range(r.raw,e);if(r instanceof Comparator)return new Range(r.value,e);if(!(this instanceof Range))return new Range(r,e);if(this.loose=e,this.raw=r,this.set=r.split(/\\s*\\|\\|\\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+r);this.format()}Range.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(\" \").trim()}).join(\"||\").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(r){var e=this.loose;r=r.trim(),debug(\"range\",r,e);var t=e?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];r=r.replace(t,hyphenReplace),debug(\"hyphen replace\",r),r=r.replace(re[COMPARATORTRIM],comparatorTrimReplace),debug(\"comparator trim\",r,re[COMPARATORTRIM]),r=(r=(r=r.replace(re[TILDETRIM],tildeTrimReplace)).replace(re[CARETTRIM],caretTrimReplace)).split(/\\s+/).join(\" \");var s=e?re[COMPARATORLOOSE]:re[COMPARATOR],n=r.split(\" \").map(function(r){return parseComparator(r,e)}).join(\" \").split(/\\s+/);return this.loose&&(n=n.filter(function(r){return!!r.match(s)})),n=n.map(function(r){return new Comparator(r,e)})},Range.prototype.intersects=function(r,e){if(!(r instanceof Range))throw new TypeError(\"a Range is required\");return this.set.some(function(t){return t.every(function(t){return r.set.some(function(r){return r.every(function(r){return t.intersects(r,e)})})})})},exports.toComparators=toComparators;function toComparators(r,e){return new Range(r,e).set.map(function(r){return r.map(function(r){return r.value}).join(\" \").trim().split(\" \")})}function parseComparator(r,e){return debug(\"comp\",r),r=replaceCarets(r,e),debug(\"caret\",r),r=replaceTildes(r,e),debug(\"tildes\",r),r=replaceXRanges(r,e),debug(\"xrange\",r),r=replaceStars(r,e),debug(\"stars\",r),r}function isX(r){return!r||\"x\"===r.toLowerCase()||\"*\"===r}function replaceTildes(r,e){return r.trim().split(/\\s+/).map(function(r){return replaceTilde(r,e)}).join(\" \")}function replaceTilde(r,e){var t=e?re[TILDELOOSE]:re[TILDE];return r.replace(t,function(e,t,s,n,o){debug(\"tilde\",r,e,t,s,n,o);var a;return isX(t)?a=\"\":isX(s)?a=\">=\"+t+\".0.0 <\"+(+t+1)+\".0.0\":isX(n)?a=\">=\"+t+\".\"+s+\".0 <\"+t+\".\"+(+s+1)+\".0\":o?(debug(\"replaceTilde pr\",o),\"-\"!==o.charAt(0)&&(o=\"-\"+o),a=\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+(+s+1)+\".0\"):a=\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+(+s+1)+\".0\",debug(\"tilde return\",a),a})}function replaceCarets(r,e){return r.trim().split(/\\s+/).map(function(r){return replaceCaret(r,e)}).join(\" \")}function replaceCaret(r,e){debug(\"caret\",r,e);var t=e?re[CARETLOOSE]:re[CARET];return r.replace(t,function(e,t,s,n,o){debug(\"caret\",r,e,t,s,n,o);var a;return isX(t)?a=\"\":isX(s)?a=\">=\"+t+\".0.0 <\"+(+t+1)+\".0.0\":isX(n)?a=\"0\"===t?\">=\"+t+\".\"+s+\".0 <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".0 <\"+(+t+1)+\".0.0\":o?(debug(\"replaceCaret pr\",o),\"-\"!==o.charAt(0)&&(o=\"-\"+o),a=\"0\"===t?\"0\"===s?\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+s+\".\"+(+n+1):\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+(+t+1)+\".0.0\"):(debug(\"no pr\"),a=\"0\"===t?\"0\"===s?\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+s+\".\"+(+n+1):\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".\"+n+\" <\"+(+t+1)+\".0.0\"),debug(\"caret return\",a),a})}function replaceXRanges(r,e){return debug(\"replaceXRanges\",r,e),r.split(/\\s+/).map(function(r){return replaceXRange(r,e)}).join(\" \")}function replaceXRange(r,e){r=r.trim();var t=e?re[XRANGELOOSE]:re[XRANGE];return r.replace(t,function(e,t,s,n,o,a){debug(\"xRange\",r,e,t,s,n,o,a);var i=isX(s),c=i||isX(n),p=c||isX(o);return\"=\"===t&&p&&(t=\"\"),i?e=\">\"===t||\"<\"===t?\"<0.0.0\":\"*\":t&&p?(c&&(n=0),p&&(o=0),\">\"===t?(t=\">=\",c?(s=+s+1,n=0,o=0):p&&(n=+n+1,o=0)):\"<=\"===t&&(t=\"<\",c?s=+s+1:n=+n+1),e=t+s+\".\"+n+\".\"+o):c?e=\">=\"+s+\".0.0 <\"+(+s+1)+\".0.0\":p&&(e=\">=\"+s+\".\"+n+\".0 <\"+s+\".\"+(+n+1)+\".0\"),debug(\"xRange return\",e),e})}function replaceStars(r,e){return debug(\"replaceStars\",r,e),r.trim().replace(re[STAR],\"\")}function hyphenReplace(r,e,t,s,n,o,a,i,c,p,E,R,u){return e=isX(t)?\"\":isX(s)?\">=\"+t+\".0.0\":isX(n)?\">=\"+t+\".\"+s+\".0\":\">=\"+e,i=isX(c)?\"\":isX(p)?\"<\"+(+c+1)+\".0.0\":isX(E)?\"<\"+c+\".\"+(+p+1)+\".0\":R?\"<=\"+c+\".\"+p+\".\"+E+\"-\"+R:\"<=\"+i,(e+\" \"+i).trim()}Range.prototype.test=function(r){if(!r)return!1;\"string\"==typeof r&&(r=new SemVer(r,this.loose));for(var e=0;e<this.set.length;e++)if(testSet(this.set[e],r))return!0;return!1};function testSet(r,e){for(var t=0;t<r.length;t++)if(!r[t].test(e))return!1;if(e.prerelease.length){for(t=0;t<r.length;t++)if(debug(r[t].semver),r[t].semver!==ANY&&r[t].semver.prerelease.length>0){var s=r[t].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}exports.satisfies=satisfies;function satisfies(r,e,t){try{e=new Range(e,t)}catch(r){return!1}return e.test(r)}exports.maxSatisfying=maxSatisfying;function maxSatisfying(r,e,t){var s=null,n=null;try{var o=new Range(e,t)}catch(r){return null}return r.forEach(function(r){o.test(r)&&(s&&-1!==n.compare(r)||(n=new SemVer(s=r,t)))}),s}exports.minSatisfying=minSatisfying;function minSatisfying(r,e,t){var s=null,n=null;try{var o=new Range(e,t)}catch(r){return null}return r.forEach(function(r){o.test(r)&&(s&&1!==n.compare(r)||(n=new SemVer(s=r,t)))}),s}exports.validRange=validRange;function validRange(r,e){try{return new Range(r,e).range||\"*\"}catch(r){return null}}exports.ltr=ltr;function ltr(r,e,t){return outside(r,e,\"<\",t)}exports.gtr=gtr;function gtr(r,e,t){return outside(r,e,\">\",t)}exports.outside=outside;function outside(r,e,t,s){r=new SemVer(r,s),e=new Range(e,s);var n,o,a,i,c;switch(t){case\">\":n=gt,o=lte,a=lt,i=\">\",c=\">=\";break;case\"<\":n=lt,o=gte,a=gt,i=\"<\",c=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(satisfies(r,e,s))return!1;for(var p=0;p<e.set.length;++p){var E=null,R=null;if(e.set[p].forEach(function(r){r.semver===ANY&&(r=new Comparator(\">=0.0.0\")),E=E||r,R=R||r,n(r.semver,E.semver,s)?E=r:a(r.semver,R.semver,s)&&(R=r)}),E.operator===i||E.operator===c)return!1;if((!R.operator||R.operator===i)&&o(r,R.semver))return!1;if(R.operator===c&&a(r,R.semver))return!1}return!0}exports.prerelease=prerelease;function prerelease(r,e){var t=parse(r,e);return t&&t.prerelease.length?t.prerelease:null}exports.intersects=intersects;function intersects(r,e,t){return r=new Range(r,t),e=new Range(e,t),r.intersects(e)}","node_modules/mongodb-core/lib/connection/utils.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),setProperty=function(e,r,t,n){Object.defineProperty(e,r.name,{enumerable:!0,set:function(e){if(\"boolean\"!=typeof e)throw new Error(f(\"%s required a boolean\",r.name));1==e&&(n.flags|=t),0==e&&(n.flags&t)==t&&(n.flags^=t),r.value=e},get:function(){return r.value}})},getProperty=function(e,r,t,n,o){Object.defineProperty(e,r,{enumerable:!0,get:function(){return null==n[t]&&e.isParsed&&!e.isParsed()&&e.parse(),\"function\"==typeof o?o(n[t]):n[t]}})},getSingleProperty=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:function(){return t}})},copy=function(e,r){r=r||{};for(var t in e)r[t]=e[t];return r},debugOptions=function(e,r){var t={};return e.forEach(function(e){t[e]=r[e]}),t},retrieveBSON=function(){var e=require(\"bson\");e.native=!1;try{var r=require_optional(\"bson-ext\");if(r)return r.native=!0,r}catch(e){}return e};exports.setProperty=setProperty,exports.getProperty=getProperty,exports.getSingleProperty=getSingleProperty,exports.copy=copy,exports.debugOptions=debugOptions,exports.retrieveBSON=retrieveBSON;","node_modules/mongodb-core/lib/connection/pool.js":"\"use strict\";var inherits=require(\"util\").inherits,EventEmitter=require(\"events\").EventEmitter,Connection=require(\"./connection\"),MongoError=require(\"../error\"),Logger=require(\"./logger\"),f=require(\"util\").format,Query=require(\"./commands\").Query,CommandResult=require(\"./command_result\"),assign=require(\"../utils\").assign,MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",DESTROYING=\"destroying\",DESTROYED=\"destroyed\",_id=0,Pool=function(e){if(EventEmitter.call(this),this.options=assign({host:\"localhost\",port:27017,size:5,connectionTimeout:3e4,socketTimeout:36e4,keepAlive:!0,keepAliveInitialDelay:3e5,noDelay:!0,ssl:!1,checkServerIdentity:!0,ca:null,crl:null,cert:null,key:null,passPhrase:null,rejectUnauthorized:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,reconnect:!0,reconnectInterval:1e3,reconnectTries:30,domainsEnabled:!1},e),this.id=_id++,this.retriesLeft=this.options.reconnectTries,this.reconnectId=null,!e.bson||e.bson&&(\"function\"!=typeof e.bson.serialize||\"function\"!=typeof e.bson.deserialize))throw new Error(\"must pass in valid bson parser\");this.logger=Logger(\"Pool\",e),this.state=DISCONNECTED,this.availableConnections=[],this.inUseConnections=[],this.connectingConnections=[],this.executing=!1,this.queue=[],this.authProviders=e.authProviders||{mongocr:new MongoCR(e.bson),x509:new X509(e.bson),plain:new Plain(e.bson),gssapi:new GSSAPI(e.bson),sspi:new SSPI(e.bson),\"scram-sha-1\":new ScramSHA1(e.bson)},this.reconnectConnection=null,this.authenticating=!1,this.loggingout=!1,this.nonAuthenticatedConnections=[],this.authenticatingTimestamp=null,this.numberOfConsecutiveTimeouts=0,this.connectionIndex=0};inherits(Pool,EventEmitter),Object.defineProperty(Pool.prototype,\"size\",{enumerable:!0,get:function(){return this.options.size}}),Object.defineProperty(Pool.prototype,\"connectionTimeout\",{enumerable:!0,get:function(){return this.options.connectionTimeout}}),Object.defineProperty(Pool.prototype,\"socketTimeout\",{enumerable:!0,get:function(){return this.options.socketTimeout}});function stateTransition(e,n){var t={disconnected:[CONNECTING,DESTROYING,DISCONNECTED],connecting:[CONNECTING,DESTROYING,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYING],destroying:[DESTROYING,DESTROYED],destroyed:[DESTROYED]}[e.state];t&&-1!=t.indexOf(n)?e.state=n:e.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,n,t))}function authenticate(e,n,t,o){if(void 0===n[0])return o(null);var i=n[0],r=n[1];if(!e.authProviders[i])throw new MongoError(f(\"authMechanism %s not supported\",i));var s=e.authProviders[i];s.auth.apply(s,[write(e),[t],r].concat(n.slice(2)).concat([o]))}function write(e){return function(n,t,o){if(e.state==DESTROYED||e.state==DESTROYING)return o(new MongoError(\"pool destroyed\"));n.workItems.push({cb:o,command:!0,requestId:t.requestId}),n.write(t.toBin())}}function reauthenticate(e,n,t){function o(e,n,t,i){if(0==t.length)return i();e.authProviders[t.pop()].reauthenticate(write(e),[n],function(r){if(r)return i(r);o(e,n,t,i)})}o(e,n,Object.keys(e.authProviders),t)}function connectionFailureHandler(e,n){return function(t){if(!this._connectionFailHandled){for(this._connectionFailHandled=!0,this.destroy(),removeConnection(e,this);this.workItems.length>0;){var o=this.workItems.shift();o.cb&&o.cb(t)}if(\"timeout\"==n&&(e.numberOfConsecutiveTimeouts=e.numberOfConsecutiveTimeouts+1,e.numberOfConsecutiveTimeouts>e.options.reconnectTries))return e.numberOfConsecutiveTimeouts=0,e.destroy(!0),e.emit(\"close\",e);0==e.socketCount()&&(e.state!=DESTROYED&&e.state!=DESTROYING&&stateTransition(e,DISCONNECTED),n=\"error\"==n?\"close\":n,e.emit(n,t)),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}}}function attemptReconnect(e){return function(){e.emit(\"attemptReconnect\",e),e.state!=DESTROYED&&e.state!=DESTROYING&&(e.isConnected()?e.reconnectId=null:(e.reconnectConnection=new Connection(messageHandler(e),e.options),e.reconnectConnection.on(\"close\",n(e)),e.reconnectConnection.on(\"error\",n(e)),e.reconnectConnection.on(\"timeout\",n(e)),e.reconnectConnection.on(\"parseError\",n(e)),e.reconnectConnection.on(\"connect\",function(e){return function(){var n=this;if(e.state==DESTROYED||e.state==DESTROYING)return n.destroy();handlers.forEach(function(e){n.removeAllListeners(e)}),e.reconnectId=null,n.on(\"error\",connectionFailureHandler(e,\"error\")),n.on(\"close\",connectionFailureHandler(e,\"close\")),n.on(\"timeout\",connectionFailureHandler(e,\"timeout\")),n.on(\"parseError\",connectionFailureHandler(e,\"parseError\")),reauthenticate(e,this,function(){e.retriesLeft=e.options.reconnectTries,e.availableConnections.push(n),e.reconnectConnection=null,e.emit(\"reconnect\",e),_execute(e)()})}}(e)),e.reconnectConnection.connect()));function n(e,n){return function(){this._connectionFailHandled||(this._connectionFailHandled=!0,this.destroy(),e.retriesLeft=e.retriesLeft-1,0==e.retriesLeft?(e.destroy(),e.emit(\"reconnectFailed\",new MongoError(f(\"failed to reconnect after %s attempts with interval %s ms\",e.options.reconnectTries,e.options.reconnectInterval)))):e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}}}}function moveConnectionBetween(e,n,t){var o=n.indexOf(e);-1!=o&&(n.splice(o,1),t.push(e))}function messageHandler(e){return function(n,t){for(var o=null,i=0;i<t.workItems.length;i++)t.workItems[i].requestId==n.responseTo&&(o=t.workItems[i],t.workItems.splice(i,1));e.numberOfConsecutiveTimeouts=0,o.socketTimeout&&t.resetSocketTimeout(),e.logger.isDebug()&&e.logger.debug(f(\"message [%s] received from %s:%s\",n.raw.toString(\"hex\"),e.options.host,e.options.port));function r(e,n,t,o){if(!e.options.domainsEnabled)return process.nextTick(function(){return n(t,o)});n(t,o)}!function(e,n,t){var o=e.nonAuthenticatedConnections.slice(0),i=e.nonAuthenticatedConnections;if(e.nonAuthenticatedConnections=[],1==n.workItems.length&&(1==n.workItems[0].authenticating||\"number\"==typeof n.workItems[0].authenticatingTimestamp&&n.workItems[0].authenticatingTimestamp!=e.authenticatingTimestamp)&&o.push(n),0==o.length)return moveConnectionBetween(n,e.inUseConnections,e.availableConnections),t();for(var r=o.length,s=0;s<r;s++)reauthenticate(e,o[s],function(){0==(r-=1)&&(e.availableConnections=e.availableConnections.concat(i),moveConnectionBetween(n,e.inUseConnections,e.availableConnections),t())})}(e,t,function(){if(e.executing||process.nextTick(function(){_execute(e)()}),!o.immediateRelease){try{n.parse(o)}catch(n){return r(e,o.cb,MongoError.create(n))}if(o.command&&n.documents[0]&&(0==n.documents[0].ok||n.documents[0].$err||n.documents[0].errmsg||n.documents[0].code))return r(e,o.cb,MongoError.create(n.documents[0]));n.hashedName=t.hashedName,r(e,o.cb,null,new CommandResult(o.fullResult?n:n.documents[0],t,n))}})}}Pool.prototype.socketCount=function(){return this.availableConnections.length+this.inUseConnections.length},Pool.prototype.allConnections=function(){return this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections)},Pool.prototype.get=function(){return this.allConnections()[0]},Pool.prototype.isConnected=function(){if(this.state==DESTROYED||this.state==DESTROYING)return!1;for(var e=this.availableConnections.concat(this.inUseConnections),n=0;n<e.length;n++)if(e[n].isConnected())return!0;return!(0!=e.length||!this.authenticating)},Pool.prototype.isDestroyed=function(){return this.state==DESTROYED||this.state==DESTROYING},Pool.prototype.isDisconnected=function(){return this.state==DISCONNECTED},Pool.prototype.connect=function(){if(this.state!=DISCONNECTED)throw new MongoError(\"connection in unlawful state \"+this.state);var e=this;stateTransition(this,CONNECTING);var n=Array.prototype.slice.call(arguments,0),t=new Connection(messageHandler(e),this.options);this.connectingConnections.push(t),t.once(\"connect\",function(t){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():e.options.inTopology?(stateTransition(e,CONNECTED),moveConnectionBetween(t,e.connectingConnections,e.availableConnections),e.emit(\"connect\",e)):void reauthenticate(e,t,function(o){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():o?(e.destroy(),e.emit(\"error\",o)):void authenticate(e,n,t,function(n){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():n?(e.destroy(),e.emit(\"error\",n)):(stateTransition(e,CONNECTED),moveConnectionBetween(t,e.connectingConnections,e.availableConnections),void e.emit(\"connect\",e))})})}),t.once(\"error\",connectionFailureHandler(this,\"error\")),t.once(\"close\",connectionFailureHandler(this,\"close\")),t.once(\"timeout\",connectionFailureHandler(this,\"timeout\")),t.once(\"parseError\",connectionFailureHandler(this,\"parseError\"));try{t.connect()}catch(n){process.nextTick(function(){e.emit(\"error\",n)})}},Pool.prototype.auth=function(e){var n=this,t=Array.prototype.slice.call(arguments,0),o=t.pop();if(null==n.authProviders[e]&&\"default\"!=e)throw new MongoError(f(\"auth provider %s does not exist\",e));this.authenticating=!0,this.authenticatingTimestamp=(new Date).getTime();function i(e,n){if(!e.loggingout)return n();setTimeout(function(){i(e,n)},1)}i(n,function(){!function(e,n,t){var i=e.allConnections();e.availableConnections=[],e.inUseConnections=[],e.connectingConnections=[];var r=i.length,s=null;if(0==r)return e.authenticating=!1,o(null);for(var c=0;c<i.length;c++)authenticate(e,n,i[c],function(n){if(r-=1,n&&(s=n),0==r){if(e.authenticating=!1,e.availableConnections=e.availableConnections.concat(i),s)return e.logger.isError()&&e.logger.error(f(\"[%s] failed to authenticate against server %s:%s\",e.id,e.options.host,e.options.port)),t(s);t(null)}})}(n,t,function(e){n.authenticating=!1,o(e)})})},Pool.prototype.logout=function(e,n){var t=this;if(\"string\"!=typeof e)throw new MongoError(\"logout method requires a db name as first argument\");if(\"function\"!=typeof n)throw new MongoError(\"logout method requires a callback\");this.loggingout=!0;for(var o=t.availableConnections.concat(t.inUseConnections),i=o.length,r=null,s=0;s<o.length;s++)write(t)(o[s],new Query(this.options.bson,f(\"%s.$cmd\",e),{logout:1},{numberToSkip:0,numberToReturn:1}),function(e){i-=1,e&&(r=e),0==i&&(t.loggingout=!1,n(r))})},Pool.prototype.unref=function(){this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections).forEach(function(e){e.unref()})};var events=[\"error\",\"close\",\"timeout\",\"parseError\",\"connect\"];function destroy(e,n){n.forEach(function(e){for(var n=0;n<events.length;n++)e.removeAllListeners(events[n]);e.destroy()}),e.inUseConnections=[],e.availableConnections=[],e.nonAuthenticatedConnections=[],e.connectingConnections=[],stateTransition(e,DESTROYED)}Pool.prototype.destroy=function(e){var n=this;if(this.state!=DESTROYED&&n.state!=DESTROYING){if(stateTransition(this,DESTROYING),e){for(var t=n.availableConnections.concat(n.inUseConnections).concat(n.nonAuthenticatedConnections).concat(n.connectingConnections);n.queue.length>0;){var o=n.queue.shift();\"function\"==typeof o.cb&&o.cb(new MongoError(\"Pool was force destroyed\"))}return destroy(n,t)}this.reconnectId&&clearTimeout(this.reconnectId),this.reconnectConnection&&this.reconnectConnection.destroy(),i()}function i(){if(flushMonitoringOperations(n.queue),0==n.queue.length){for(var e=n.availableConnections.concat(n.inUseConnections).concat(n.nonAuthenticatedConnections).concat(n.connectingConnections),t=0;t<e.length;t++)if(e[t].workItems.length>0)return setTimeout(i,1);destroy(n,e)}else _execute(n)(),setTimeout(i,1)}},Pool.prototype.write=function(e,n,t){var o=this;if(\"function\"==typeof n&&(t=n),n=n||{},this.state!=DESTROYED&&this.state!=DESTROYING){if(this.options.domainsEnabled&&process.domain&&\"function\"==typeof t){var i=t;t=process.domain.bind(function(){for(var e=new Array(arguments.length),n=0;n<arguments.length;n++)e[n]=arguments[n];process.nextTick(function(){i.apply(null,e)})})}var r={cb:t,raw:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,fullResult:!1},s=null;if(Array.isArray(e)){s=[];for(var c=0;c<e.length;c++)s.push(e[c].toBin());r.requestId=e[e.length-1].requestId}else r.requestId=e.requestId,s=e.toBin();if(r.buffer=s,r.promoteLongs=\"boolean\"!=typeof n.promoteLongs||n.promoteLongs,r.promoteValues=\"boolean\"!=typeof n.promoteValues||n.promoteValues,r.promoteBuffers=\"boolean\"==typeof n.promoteBuffers&&n.promoteBuffers,r.raw=\"boolean\"==typeof n.raw&&n.raw,r.immediateRelease=\"boolean\"==typeof n.immediateRelease&&n.immediateRelease,r.documentsReturnedIn=n.documentsReturnedIn,r.command=\"boolean\"==typeof n.command&&n.command,r.fullResult=\"boolean\"==typeof n.fullResult&&n.fullResult,r.noResponse=\"boolean\"==typeof n.noResponse&&n.noResponse,r.socketTimeout=n.socketTimeout,r.monitoring=n.monitoring,n.socketTimeout&&(r.socketTimeout=n.socketTimeout),\"function\"!=typeof t&&!n.noResponse)throw new MongoError(\"write method must provide a callback\");n.monitoring?this.queue.unshift(r):this.queue.push(r),o.executing||process.nextTick(function(){_execute(o)()})}else if(t)try{t(new MongoError(\"pool destroyed\"))}catch(e){process.nextTick(function(){throw e})}};function remove(e,n){for(var t=0;t<n.length;t++)if(n[t]===e)return n.splice(t,1),!0}function removeConnection(e,n){remove(n,e.availableConnections)||remove(n,e.inUseConnections)||remove(n,e.connectingConnections)||remove(n,e.nonAuthenticatedConnections)}var handlers=[\"close\",\"message\",\"error\",\"timeout\",\"parseError\",\"connect\"];function _createConnection(e){if(e.state!=DESTROYED&&e.state!=DESTROYING){var n=new Connection(messageHandler(e),e.options);e.connectingConnections.push(n);var t=function(n){return function(){n.destroy(),removeConnection(e,n),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}};n.once(\"close\",t(n)),n.once(\"error\",t(n)),n.once(\"timeout\",t(n)),n.once(\"parseError\",t(n)),n.once(\"connect\",function(n){return function(){if(e.state==DESTROYED||e.state==DESTROYING)return removeConnection(e,n),n.destroy();handlers.forEach(function(e){n.removeAllListeners(e)}),n.once(\"close\",connectionFailureHandler(e,\"close\")),n.once(\"error\",connectionFailureHandler(e,\"error\")),n.once(\"timeout\",connectionFailureHandler(e,\"timeout\")),n.once(\"parseError\",connectionFailureHandler(e,\"parseError\")),reauthenticate(e,n,function(t){return e.state==DESTROYED||e.state==DESTROYING?n.destroy():(removeConnection(e,n),t?n.destroy():void(e.authenticating?e.nonAuthenticatedConnections.push(n):(e.availableConnections.push(n),_execute(e)())))})}}(n)),n.connect()}}function flushMonitoringOperations(e){for(var n=0;n<e.length;n++)if(e[n].monitoring){var t=e[n];e.splice(n,1),t.cb(new MongoError({message:\"no connection available for monitoring\",driver:!0}))}}function _execute(e){return function(){e.state!=DESTROYED&&(e.executing||(e.executing=!0,n(function(){if(!(e.connectingConnections.length>0))for(;;){var n=e.availableConnections.length+e.connectingConnections.length+e.inUseConnections.length;if(0==e.availableConnections.length){flushMonitoringOperations(e.queue);break}if(0==e.queue.length)break;for(var t=null,o=[],i=0;i<e.availableConnections.length;i++)0==e.availableConnections[i].workItems.length&&o.push(e.availableConnections[i]);if((t=0==o.length?e.availableConnections[e.connectionIndex++%e.availableConnections.length]:o[e.connectionIndex++%o.length]).isConnected()){var r=e.queue.shift();if(r.monitoring){var s=!1;for(i=0;i<e.availableConnections.length;i++)if(e.availableConnections[i].isConnected()&&0==e.availableConnections[i].workItems.length){s=!0,t=e.availableConnections[i];break}if(!s){e.queue.unshift(r),n<e.options.size&&e.queue.length>0&&_createConnection(e),setTimeout(function(){_execute(e)()},10);break}}if(n<e.options.size&&t.workItems.length>0){e.queue.unshift(r),_createConnection(e);break}var c=r.buffer;r.authenticating=e.authenticating,r.authenticatingTimestamp=e.authenticatingTimestamp,r.monitoring&&moveConnectionBetween(t,e.availableConnections,e.inUseConnections),r.noResponse||t.workItems.push(r),r.immediateRelease||\"number\"!=typeof r.socketTimeout||t.setSocketTimeout(r.socketTimeout);var a=!0;if(Array.isArray(c))for(i=0;i<c.length;i++)a=t.write(c[i]);else a=t.write(c);a&&r.immediateRelease&&e.authenticating?(removeConnection(e,t),e.nonAuthenticatedConnections.push(t)):!1===a&&(e.queue.unshift(r),removeConnection(e,t),flushMonitoringOperations(e.queue))}else removeConnection(e,t),flushMonitoringOperations(e.queue)}}),e.executing=!1));function n(t){if(!e.authenticating)return t();setTimeout(function(){n(t)},1)}}}Pool._execute=_execute,module.exports=Pool;","node_modules/mongodb-core/lib/wireprotocol/2_4_support.js":"\"use strict\";var Insert=require(\"./commands\").Insert,Update=require(\"./commands\").Update,Remove=require(\"./commands\").Remove,copy=require(\"../connection/utils\").copy,retrieveBSON=require(\"../connection/utils\").retrieveBSON,KillCursor=require(\"../connection/commands\").KillCursor,GetMore=require(\"../connection/commands\").GetMore,Query=require(\"../connection/commands\").Query,f=require(\"util\").format,CommandResult=require(\"../connection/command_result\"),MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,writeConcernFields=[\"w\",\"wtimeout\",\"j\",\"fsync\"],WireProtocol=function(){};WireProtocol.prototype.insert=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;if((t=Array.isArray(t)?t:[t]).length>1e3)return s(new MongoError(\"exceeded maximum write batch size of 1000\"));var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"insert\",Insert,r,o,n,e,t,i,s):executeUnordered(\"insert\",Insert,r,o,n,e,t,i,s)},WireProtocol.prototype.update=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;t=Array.isArray(t)?t:[t];var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"update\",Update,r,o,n,e,t,i,s):executeUnordered(\"update\",Update,r,o,n,e,t,i,s)},WireProtocol.prototype.remove=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;t=Array.isArray(t)?t:[t];var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"remove\",Remove,r,o,n,e,t,i,s):executeUnordered(\"remove\",Remove,r,o,n,e,t,i,s)},WireProtocol.prototype.killCursor=function(e,r,o,n,t){var i=new KillCursor(e,[o]);n&&n.isConnected()&&n.write(i,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof t&&t(null,null)},WireProtocol.prototype.getMore=function(e,r,o,n,t,i,s,a){var u=new GetMore(e,r,o.cursorId,{numberToReturn:n}),l={};t&&(l.raw=t),\"boolean\"==typeof o.promoteLongs&&(l.promoteLongs=o.promoteLongs),\"boolean\"==typeof o.promoteValues&&(l.promoteValues=o.promoteValues),\"boolean\"==typeof o.promoteBuffers&&(l.promoteBuffers=o.promoteBuffers),i.write(u,l,function(e,r){if(e)return a(e);var n=r.message;if(0!=(1&n.responseFlags))return a(new MongoError(\"cursor does not exist, was killed or timed out\"),null);var t=\"number\"==typeof n.cursorId?Long.fromNumber(n.cursorId):n.cursorId;o.documents=n.documents,o.cursorId=t,a(null,null,n.connection)})},WireProtocol.prototype.command=function(e,r,o,n,t,i){if(o.find)return setupClassicFind(e,r,o,n,t,i);if(null==n.cursorId){if(o)return setupCommand(e,r,o,n,t,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(o)))}};var setupClassicFind=function(e,r,o,n,t,i){var s=getReadPreference(o,i=i||{});n.batchSize=o.batchSize||n.batchSize;var a=0;a=0==n.limit?n.batchSize:n.limit<0||n.limit<n.batchSize||n.limit>0&&0==n.batchSize?n.limit:n.batchSize;var u=n.skip||0,l={},c=!1;if(\"mongos\"==t.type&&s&&(l.$readPreference=s.toJSON(),c=!0),o.sort&&(l.orderby=o.sort,c=!0),o.hint&&(l.$hint=o.hint,c=!0),o.snapshot&&(l.$snapshot=o.snapshot,c=!0),o.returnKey&&(l.$returnKey=o.returnKey,c=!0),o.maxScan&&(l.$maxScan=o.maxScan,c=!0),o.min&&(l.$min=o.min,c=!0),o.max&&(l.$max=o.max,c=!0),o.showDiskLoc&&(l.$showDiskLoc=o.showDiskLoc,c=!0),o.comment&&(l.$comment=o.comment,c=!0),o.maxTimeMS&&(l.$maxTimeMS=o.maxTimeMS,c=!0),o.explain&&(a=-Math.abs(o.limit||0),c=!0,l.$explain=!0),c?l.$query=o.query:l=o.query,o.readConcern&&\"local\"!=o.readConcern.level)throw new MongoError(f(\"server find command does not support a readConcern level of %s\",o.readConcern.level));o.readConcern&&delete(o=copy(o)).readConcern;var d=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,p=new Query(e,r,l,{numberToSkip:u,numberToReturn:a,checkKeys:!1,returnFieldSelector:o.fields,serializeFunctions:d,ignoreUndefined:m});return p.slaveOk=s.slaveOk(),\"boolean\"==typeof o.tailable&&(p.tailable=o.tailable),\"boolean\"==typeof o.oplogReplay&&(p.oplogReplay=o.oplogReplay),\"boolean\"==typeof o.noCursorTimeout&&(p.noCursorTimeout=o.noCursorTimeout),\"boolean\"==typeof o.awaitData&&(p.awaitData=o.awaitData),\"boolean\"==typeof o.partial&&(p.partial=o.partial),p},setupCommand=function(e,r,o,n,t,i){var s=getReadPreference(o,i=i||{}),a={};for(var u in o)a[u]=o[u];var l=r.split(/\\./);if(o.readConcern&&\"local\"!=o.readConcern.level)throw new MongoError(f(\"server %s command does not support a readConcern level of %s\",JSON.stringify(o),o.readConcern.level));o.readConcern&&delete o.readConcern;var c=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,d=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==t.type&&s&&\"primary\"!=s.preference&&(a={$query:a,$readPreference:s.toJSON()});var m=new Query(e,f(\"%s.$cmd\",l.shift()),a,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:c,ignoreUndefined:d});return m.slaveOk=s.slaveOk(),m},hasWriteConcern=function(e){return!(!e.w&&!e.wtimeout&&1!=e.j&&1!=e.fsync&&0!=Object.keys(e).length)},cloneWriteConcern=function(e){var r={};return null!=e.w&&(r.w=e.w),null!=e.wtimeout&&(r.wtimeout=e.wtimeout),null!=e.j&&(r.j=e.j),null!=e.fsync&&(r.fsync=e.fsync),r},aggregateWriteOperationResults=function(e,r,o,n){var t={ok:1,n:0};\"update\"==e&&(t.nModified=0);for(var i=0;i<o.length;i++){var s=o[i],a=r[i];!s.upserted&&0!=s.updatedExisting||null!=t.upserted||(t.upserted=[]),s.upserted&&t.upserted.push({index:i,_id:s.upserted}),0==s.updatedExisting&&1==s.n&&null==s.upserted?t.upserted.push({index:i,_id:a.q._id}):1==s.updatedExisting&&(t.nModified+=s.n),1==s.ok&&\"insert\"==e&&null==s.err&&(t.n=t.n+1),null!=s&&0==s.ok||s.err||s.errmsg?(0==s.ok&&(t.ok=0),t.code=s.code,t.errmsg=s.errmsg||s.err||s.errMsg,11e3==s.code||11001==s.code||12582==s.code||16544==s.code||16538==s.code||16542==s.code||14==s.code||13511==s.code?(null==t.writeErrors&&(t.writeErrors=[]),t.writeErrors.push({index:i,code:s.code,errmsg:s.errmsg||s.err||s.errMsg})):t.writeConcernError={code:s.code,errmsg:s.errmsg||s.err||s.errMsg}):\"number\"==typeof s.n?t.n+=s.n:t.n+=1,null!=s&&s.lastOp&&(t.lastOp=s.lastOp)}return new CommandResult(t,n)},executeOrdered=function(e,r,o,n,t,i,s,a,u){var l=s.slice(0),c=[],d=function(l,m){if(0==l.length)return process.nextTick(function(){m(null,aggregateWriteOperationResults(e,s,c,null))});var p=l.shift(),g=new r(Query.getRequestId(),o,t,n,[p],a),w=a.writeConcern||{w:1},y=cloneWriteConcern(w),v=n.split(\".\").shift();try{for(var h=[g],C={getlasterror:1},b=0;b<writeConcernFields.length;b++)null!=y[writeConcernFields[b]]&&(C[writeConcernFields[b]]=y[writeConcernFields[b]]);var x=new Query(t,f(\"%s.$cmd\",v),C,{numberToReturn:-1});h.push(x);var R=function(r,o){if(r)return u(r);var n=o.result;if(c.push(n),0==n.ok||n.err||n.errmsg)return u(null,aggregateWriteOperationResults(e,s,c,o.connection));d(l,u)};i.write(h,R)}catch(r){c.push({ok:1,errmsg:\"string\"==typeof r?r:r.message,code:14}),process.nextTick(function(){m(null,aggregateWriteOperationResults(e,s,c,null))})}};d(l,u)},executeUnordered=function(e,r,o,n,t,i,s,a,u){for(var l,c=s.length,d=[],m=a.writeConcern||{w:1},p=cloneWriteConcern(m),g=0;g<s.length;g++){var w=new r(Query.getRequestId(),o,t,n,[s[g]],a),y=n.split(\".\").shift();try{var v=[w];if(hasWriteConcern(p)){for(var h={getlasterror:1},C=0;C<writeConcernFields.length;C++)null!=p[writeConcernFields[C]]&&(h[writeConcernFields[C]]=p[writeConcernFields[C]]);var b=new Query(t,f(\"%s.$cmd\",y),h,{numberToReturn:-1});v.push(b);i.write(v,function(r){return function(o,n){o&&(l=o),c-=1,o||(d[r]=n.result),0==c&&process.nextTick(function(){if(l)return u(l);u(null,aggregateWriteOperationResults(e,s,d,n.connection))})}}(g))}else i.write(v,{immediateRelease:!0,noResponse:!0})}catch(r){c-=1,d[g]={ok:1,errmsg:\"string\"==typeof r?r:r.message,code:14},0==c&&u(null,aggregateWriteOperationResults(e,s,d,null))}}p&&0==p.w&&u&&u(null,new CommandResult({ok:1},null))};module.exports=WireProtocol;","node_modules/mongodb-core/lib/wireprotocol/2_6_support.js":"\"use strict\";var copy=require(\"../connection/utils\").copy,retrieveBSON=require(\"../connection/utils\").retrieveBSON,KillCursor=require(\"../connection/commands\").KillCursor,GetMore=require(\"../connection/commands\").GetMore,Query=require(\"../connection/commands\").Query,f=require(\"util\").format,MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,WireProtocol=function(){},executeWrite=function(e,o,r,n,t,i,a,s){if(0==i.length)throw new MongoError(\"insert must contain at least one document\");\"function\"==typeof a&&(s=a,a=(a={})||{});var c=t.split(\".\"),l=c.shift(),u=\"boolean\"!=typeof a.ordered||a.ordered,d=a.writeConcern,m={};m[r]=c.join(\".\"),m[n]=i,m.ordered=u,d&&Object.keys(d).length>0&&(m.writeConcern=d),\"boolean\"==typeof a.bypassDocumentValidation&&(m.bypassDocumentValidation=a.bypassDocumentValidation);var p={command:!0},y={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==r&&(y.checkKeys=!0),\"boolean\"==typeof a.checkKeys&&(y.checkKeys=a.checkKeys),a.serializeFunctions&&(y.serializeFunctions=a.serializeFunctions),a.ignoreUndefined&&(y.ignoreUndefined=a.ignoreUndefined);try{var b=new Query(o,f(\"%s.$cmd\",l),m,y);e.write(b,p,s)}catch(e){s(e)}};WireProtocol.prototype.insert=function(e,o,r,n,t,i,a){executeWrite(e,n,\"insert\",\"documents\",r,t,i,a)},WireProtocol.prototype.update=function(e,o,r,n,t,i,a){executeWrite(e,n,\"update\",\"updates\",r,t,i,a)},WireProtocol.prototype.remove=function(e,o,r,n,t,i,a){executeWrite(e,n,\"delete\",\"deletes\",r,t,i,a)},WireProtocol.prototype.killCursor=function(e,o,r,n,t){var i=new KillCursor(e,[r]);n&&n.isConnected()&&n.write(i,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof t&&t(null,null)},WireProtocol.prototype.getMore=function(e,o,r,n,t,i,a,s){var c=new GetMore(e,o,r.cursorId,{numberToReturn:n}),l={};t&&(l.raw=t),\"boolean\"==typeof r.promoteLongs&&(l.promoteLongs=r.promoteLongs),\"boolean\"==typeof r.promoteValues&&(l.promoteValues=r.promoteValues),\"boolean\"==typeof r.promoteBuffers&&(l.promoteBuffers=r.promoteBuffers),i.write(c,l,function(e,o){if(e)return s(e);var n=o.message;if(0!=(1&n.responseFlags))return s(new MongoError(\"cursor does not exist, was killed or timed out\"),null);var t=\"number\"==typeof n.cursorId?Long.fromNumber(n.cursorId):n.cursorId;r.documents=n.documents,r.cursorId=t,s(null,null,n.connection)})},WireProtocol.prototype.command=function(e,o,r,n,t,i){if(r.find)return setupClassicFind(e,o,r,n,t,i);if(null==n.cursorId){if(r)return setupCommand(e,o,r,n,t,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(r)))}};var setupClassicFind=function(e,o,r,n,t,i){var a=getReadPreference(r,i=i||{});n.batchSize=r.batchSize||n.batchSize;var s=0;s=0==n.limit?n.batchSize:n.limit<0||n.limit<n.batchSize||n.limit>0&&0==n.batchSize?n.limit:n.batchSize;var c=n.skip||0,l={},u=!1;if(\"mongos\"==t.type&&a&&(l.$readPreference=a.toJSON(),u=!0),r.sort&&(l.orderby=r.sort,u=!0),r.hint&&(l.$hint=r.hint,u=!0),r.snapshot&&(l.$snapshot=r.snapshot,u=!0),r.returnKey&&(l.$returnKey=r.returnKey,u=!0),r.maxScan&&(l.$maxScan=r.maxScan,u=!0),r.min&&(l.$min=r.min,u=!0),r.max&&(l.$max=r.max,u=!0),r.showDiskLoc&&(l.$showDiskLoc=r.showDiskLoc,u=!0),r.comment&&(l.$comment=r.comment,u=!0),r.maxTimeMS&&(l.$maxTimeMS=r.maxTimeMS,u=!0),r.explain&&(s=-Math.abs(r.limit||0),u=!0,l.$explain=!0),u?l.$query=r.query:l=r.query,r.readConcern&&\"local\"!=r.readConcern.level)throw new MongoError(f(\"server find command does not support a readConcern level of %s\",r.readConcern.level));r.readConcern&&delete(r=copy(r)).readConcern;var d=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,p=new Query(e,o,l,{numberToSkip:c,numberToReturn:s,checkKeys:!1,returnFieldSelector:r.fields,serializeFunctions:d,ignoreUndefined:m});return p.slaveOk=a.slaveOk(),\"boolean\"==typeof r.tailable&&(p.tailable=r.tailable),\"boolean\"==typeof r.oplogReplay&&(p.oplogReplay=r.oplogReplay),\"boolean\"==typeof r.noCursorTimeout&&(p.noCursorTimeout=r.noCursorTimeout),\"boolean\"==typeof r.awaitData&&(p.awaitData=r.awaitData),\"boolean\"==typeof r.partial&&(p.partial=r.partial),p},setupCommand=function(e,o,r,n,t,i){var a=getReadPreference(r,i=i||{}),s={};for(var c in r)s[c]=r[c];var l=o.split(/\\./),u=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,d=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;if(r.readConcern&&\"local\"!=r.readConcern.level)throw new MongoError(f(\"server %s command does not support a readConcern level of %s\",JSON.stringify(r),r.readConcern.level));r.readConcern&&delete r.readConcern,\"mongos\"==t.type&&a&&\"primary\"!=a.preference&&(s={$query:s,$readPreference:a.toJSON()});var m=new Query(e,f(\"%s.$cmd\",l.shift()),s,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:u,ignoreUndefined:d});return m.slaveOk=a.slaveOk(),m};module.exports=WireProtocol;","node_modules/mongodb-core/lib/wireprotocol/3_2_support.js":"\"use strict\";var Query=require(\"../connection/commands\").Query,retrieveBSON=require(\"../connection/utils\").retrieveBSON,f=require(\"util\").format,MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,WireProtocol=function(e){this.legacyWireProtocol=e},executeWrite=function(e,r,o,t,n,i,a,c){if(0==i.length)throw new MongoError(\"insert must contain at least one document\");\"function\"==typeof a&&(c=a,a=(a={})||{});var s=n.split(\".\"),u=s.shift(),l=\"boolean\"!=typeof a.ordered||a.ordered,m=a.writeConcern,d={};if(d[o]=s.join(\".\"),d[t]=i,d.ordered=l,m&&Object.keys(m).length>0&&(d.writeConcern=m),a.collation)for(var p=0;p<d[t].length;p++)d[t][p].collation||(d[t][p].collation=a.collation);\"boolean\"==typeof a.bypassDocumentValidation&&(d.bypassDocumentValidation=a.bypassDocumentValidation);var y={command:!0},h={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==o&&(h.checkKeys=!0),\"boolean\"==typeof a.checkKeys&&(h.checkKeys=a.checkKeys),a.serializeFunctions&&(h.serializeFunctions=a.serializeFunctions),a.ignoreUndefined&&(h.ignoreUndefined=a.ignoreUndefined);try{var b=new Query(r,f(\"%s.$cmd\",u),d,h);e.write(b,y,c)}catch(e){c(e)}};WireProtocol.prototype.insert=function(e,r,o,t,n,i,a){executeWrite(e,t,\"insert\",\"documents\",o,n,i,a)},WireProtocol.prototype.update=function(e,r,o,t,n,i,a){executeWrite(e,t,\"update\",\"updates\",o,n,i,a)},WireProtocol.prototype.remove=function(e,r,o,t,n,i,a){executeWrite(e,t,\"delete\",\"deletes\",o,n,i,a)},WireProtocol.prototype.killCursor=function(e,r,o,t,n){var i=r.split(/\\./),a=f(\"%s.$cmd\",i.shift()),c={killCursors:i.join(\".\"),cursors:[o]},s=new Query(e,a,c,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});s.slaveOk=!0;var u=function(e,r){if(e){if(\"function\"!=typeof n)return;return n(e)}var t=r.message;if(0!=(1&t.responseFlags)){if(\"function\"!=typeof n)return;return n(new MongoError(\"cursor killed or timed out\"),null)}if(!Array.isArray(t.documents)||0==t.documents.length){if(\"function\"!=typeof n)return;return n(new MongoError(f(\"invalid killCursors result returned for cursor id %s\",o)))}\"function\"==typeof n&&n(null,t.documents[0])};t&&t.isConnected()&&t.write(s,{command:!0},u)},WireProtocol.prototype.getMore=function(e,r,o,t,n,i,a,c){a=a||{};var s=r.split(/\\./),u=f(\"%s.$cmd\",s.shift()),l={getMore:o.cursorId,collection:s.join(\".\"),batchSize:Math.abs(t)};o.cmd.tailable&&\"number\"==typeof o.cmd.maxAwaitTimeMS&&(l.maxTimeMS=o.cmd.maxAwaitTimeMS);var m=new Query(e,u,l,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});m.slaveOk=!0;var d={command:!0};n&&(d.raw=n),d.documentsReturnedIn=\"nextBatch\",\"boolean\"==typeof o.promoteLongs&&(d.promoteLongs=o.promoteLongs),\"boolean\"==typeof o.promoteValues&&(d.promoteValues=o.promoteValues),\"boolean\"==typeof o.promoteBuffers&&(d.promoteBuffers=o.promoteBuffers),i.write(m,d,function(e,r){if(e)return c(e);var t=r.message;if(0!=(1&t.responseFlags))return c(new MongoError(\"cursor killed or timed out\"),null);if(n)return o.documents=t.documents,o.cursorId=t.cursorId,c(null,t.documents);if(0==t.documents[0].ok)return c(MongoError.create(t.documents[0]));var i=\"number\"==typeof t.documents[0].cursor.id?Long.fromNumber(t.documents[0].cursor.id):t.documents[0].cursor.id;o.documents=t.documents[0].cursor.nextBatch,o.cursorId=i,c(null,t.documents[0],t.connection)})},WireProtocol.prototype.command=function(e,r,o,t,n,i){var a=\"boolean\"!=typeof(i=i||{}).wireProtocolCommand||i.wireProtocolCommand;if(o.find&&a){var c=executeFindCommand(e,r,o,t,n,i);return o.virtual=!1,c.documentsReturnedIn=\"firstBatch\",c}if(null==t.cursorId){if(o)return setupCommand(e,r,o,t,n,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(o)))}};var executeFindCommand=function(e,r,o,t,n,i){var a=getReadPreference(o,i=i||{});t.batchSize=o.batchSize||t.batchSize;var c=r.split(/\\./),s=f(\"%s.$cmd\",c.shift()),u={find:c.join(\".\")};o.query&&(o.query.$query?u.filter=o.query.$query:u.filter=o.query);var l=o.sort;if(Array.isArray(l)){var m={};if(l.length>0&&!Array.isArray(l[0])){var d=l[1];\"asc\"==d?d=1:\"desc\"==d&&(d=-1),m[l[0]]=d}else for(var p=0;p<l.length;p++)\"asc\"==(d=l[p][1])?d=1:\"desc\"==d&&(d=-1),m[l[p][0]]=d;l=m}o.sort&&(u.sort=l),o.fields&&(u.projection=o.fields),o.hint&&(u.hint=o.hint),o.skip&&(u.skip=o.skip),o.limit&&(u.limit=o.limit),o.limit<0&&(u.limit=Math.abs(o.limit),u.singleBatch=!0),\"number\"==typeof o.batchSize&&(o.batchSize<0&&(0!=o.limit&&Math.abs(o.batchSize)<Math.abs(o.limit)&&(u.limit=Math.abs(o.batchSize)),u.singleBatch=!0),u.batchSize=Math.abs(o.batchSize)),o.comment&&(u.comment=o.comment),o.maxScan&&(u.maxScan=o.maxScan),o.maxTimeMS&&(u.maxTimeMS=o.maxTimeMS),o.min&&(u.min=o.min),o.max&&(u.max=o.max),o.returnKey&&(u.returnKey=o.returnKey),o.showDiskLoc&&(u.showRecordId=o.showDiskLoc),o.snapshot&&(u.snapshot=o.snapshot),o.tailable&&(u.tailable=o.tailable),o.oplogReplay&&(u.oplogReplay=o.oplogReplay),o.noCursorTimeout&&(u.noCursorTimeout=o.noCursorTimeout),o.awaitData&&(u.awaitData=o.awaitData),o.awaitdata&&(u.awaitData=o.awaitdata),o.partial&&(u.partial=o.partial),o.collation&&(u.collation=o.collation),o.explain&&(u={explain:u}),o.readConcern&&(u.readConcern=o.readConcern);var y=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,h=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==n.type&&a&&\"primary\"!=a.preference&&(u={$query:u,$readPreference:a.toJSON()});var b=new Query(e,s,u,{numberToSkip:0,numberToReturn:1,checkKeys:!1,returnFieldSelector:null,serializeFunctions:y,ignoreUndefined:h});return b.slaveOk=a.slaveOk(),b},setupCommand=function(e,r,o,t,n,i){var a=getReadPreference(o,i=i||{}),c={};for(var s in o)c[s]=o[s];var u=r.split(/\\./),l=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==n.type&&a&&\"primary\"!=a.preference&&(c={$query:c,$readPreference:a.toJSON()});var d=new Query(e,f(\"%s.$cmd\",u.shift()),c,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:l,ignoreUndefined:m});return d.slaveOk=a.slaveOk(),d};module.exports=WireProtocol;","node_modules/mongodb-core/lib/topologies/shared.js":"\"use strict\";var os=require(\"os\"),f=require(\"util\").format;function emitSDAMEvent(e,r,s){e.listeners(r).length>0&&e.emit(r,s)}var driverVersion=require(\"../../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release();function createClientInfo(e){var r=e.clientInfo?clone(e.clientInfo):{driver:{name:\"nodejs-core\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release}};if(r.platform&&-1==r.platform.indexOf(\"mongodb-core\")?r.platform=f(\"%s, mongodb-core: %s\",r.platform,driverVersion):r.platform||(r.platform=nodejsversion),e.appname){var s=new Buffer(e.appname),t=s.length>128?s.slice(0,128).toString(\"utf8\"):e.appname;r.application={name:t}}return r}function clone(e){return JSON.parse(JSON.stringify(e))}var getPreviousDescription=function(e){return e.s.serverDescription||(e.s.serverDescription={address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),e.s.serverDescription},emitServerDescriptionChanged=function(e,r){e.listeners(\"serverDescriptionChanged\").length>0&&(e.emit(\"serverDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:getPreviousDescription(e),newDescription:r}),e.s.serverDescription=r)},getPreviousTopologyDescription=function(e){return e.s.topologyDescription||(e.s.topologyDescription={topologyType:\"Unknown\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}]}),e.s.topologyDescription},emitTopologyDescriptionChanged=function(e,r){e.listeners(\"topologyDescriptionChanged\").length>0&&(e.emit(\"topologyDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:getPreviousTopologyDescription(e),newDescription:r}),e.s.serverDescription=r)},changedIsMaster=function(e,r,s){var t=getTopologyType(e,r);return getTopologyType(e,s)!=t},getTopologyType=function(e,r){return r||(r=e.ismaster),r?r.ismaster&&\"isdbgrid\"==r.msg?\"Mongos\":r.ismaster&&!r.hosts?\"Standalone\":r.ismaster?\"RSPrimary\":r.secondary?\"RSSecondary\":r.arbiterOnly?\"RSArbiter\":\"Unknown\":\"Unknown\"},inquireServerState=function(e){return function(r){if(\"destroyed\"!=e.s.state){var s=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:e.name}),e.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0},function(t,o){if(t)emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:n,failure:t,connectionId:e.name});else{e.emit(\"ismaster\",o,e);var n=(new Date).getTime()-s;emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:n,reply:o.result,connectionId:e.name}),changedIsMaster(e,e.s.ismaster,o.result)&&emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:e.s.inTopology?getTopologyType(e):\"Standalone\"}),e.s.ismaster=o.result,e.s.isMasterLatencyMS=n}if(\"function\"==typeof r)return r(t,o);e.s.inquireServerStateTimeout=setTimeout(inquireServerState(e),e.s.haInterval)})}}},cloneOptions=function(e){var r={};for(var s in e)r[s]=e[s];return r};function Interval(e,r){var s=!1;this.start=function(){return this.isRunning()||(s=setInterval(e,r)),this},this.stop=function(){return clearInterval(s),s=!1,this},this.isRunning=function(){return!1!==s}}function Timeout(e,r){var s=!1;this.start=function(){return this.isRunning()||(s=setTimeout(e,r)),this},this.stop=function(){return clearTimeout(s),s=!1,this},this.isRunning=function(){return(!s||!s._called)&&!1!==s}}function diff(e,r){var s={servers:[]};e||(e={servers:[]});for(var t=0;t<e.servers.length;t++){for(var o=!1,n=0;n<r.servers.length;n++)if(r.servers[n].address.toLowerCase()===e.servers[t].address.toLowerCase()){o=!0;break}o||s.servers.push({address:e.servers[t].address,from:e.servers[t].type,to:\"Unknown\"})}for(n=0;n<r.servers.length;n++){for(o=!1,t=0;t<e.servers.length;t++)if(e.servers[t].address.toLowerCase()===r.servers[n].address.toLowerCase()){o=!0;break}o||s.servers.push({address:r.servers[n].address,from:\"Unknown\",to:r.servers[n].type})}for(t=0;t<e.servers.length;t++){var i=e.servers[t];for(n=0;n<r.servers.length;n++){var a=r.servers[n];i.address.toLowerCase()===a.address.toLowerCase()&&i.type!=a.type&&s.servers.push({address:i.address,from:i.type,to:a.type})}}return s}module.exports.inquireServerState=inquireServerState,module.exports.getTopologyType=getTopologyType,module.exports.emitServerDescriptionChanged=emitServerDescriptionChanged,module.exports.emitTopologyDescriptionChanged=emitTopologyDescriptionChanged,module.exports.cloneOptions=cloneOptions,module.exports.createClientInfo=createClientInfo,module.exports.clone=clone,module.exports.diff=diff,module.exports.Interval=Interval,module.exports.Timeout=Timeout;","node_modules/mongodb-core/lib/utils.js":"var assign=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var r=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(void 0!==n&&null!==n)for(var o=Object.keys(Object(n)),s=0,a=o.length;s<a;s++){var i=o[s],c=Object.getOwnPropertyDescriptor(n,i);void 0!==c&&c.enumerable&&(r[i]=n[i])}}return r};module.exports={assign:assign};","node_modules/mongodb-core/lib/connection/command_result.js":"\"use strict\";var CommandResult=function(t,o,n){this.result=t,this.connection=o,this.message=n};CommandResult.prototype.toJSON=function(){return this.result},CommandResult.prototype.toString=function(){return JSON.stringify(this.toJSON())},module.exports=CommandResult;","node_modules/mongodb-core/lib/auth/sspi.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(r,n,e,t){this.db=r,this.username=n,this.password=e,this.options=t};AuthSession.prototype.equal=function(r){return r.db==this.db&&r.username==this.username&&r.password==this.password};var Kerberos=null,MongoAuthProcess=null;try{Kerberos=require_optional(\"kerberos\").Kerberos,MongoAuthProcess=require_optional(\"kerberos\").processes.MongoAuthProcess}catch(r){}var SSPI=function(r){this.bson=r,this.authStore=[]};SSPI.prototype.auth=function(r,n,e,t,o,u,i){var s=this;if(null==Kerberos)return i(new Error(\"Kerberos library is not installed\"));var a=u.gssapiServiceName||\"mongodb\",l=n.length;if(0==l)return i(null,null);for(var c=0,h=null;n.length>0;){(function(n){process.nextTick(function(){!function(n){SSIPAuthenticate(s,t,o,a,r,n,u,function(r,n){l-=1,r?h=r:n&&\"object\"==typeof n&&n.result.$err?h=n.result:n&&\"object\"==typeof n&&n.result.errmsg?h=n.result:c+=1,0==l&&c>0?(addAuthSession(s.authStore,new AuthSession(e,t,o,u)),i(null,!0)):0==l&&(null==h&&(h=new MongoError(f(\"failed to authenticate using mongocr\"))),i(h,!1))})}(n)})})(n.shift())}};var SSIPAuthenticate=function(r,n,e,t,o,u,i,s){var a=new MongoAuthProcess(u.host,u.port,t,i);o(u,new Query(r.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"GSSAPI\",payload:\"\",autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(t,i){if(t)return s(t,!1);var l=i.result;a.init(n,e,function(n){if(n)return s(n);a.transition(l.payload,function(n,e){if(n)return s(n);var t={saslContinue:1,conversationId:l.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",t,{numberToSkip:0,numberToReturn:1}),function(n,e){if(n)return s(n,!1);var t=e.result;a.transition(t.payload,function(n,e){if(n)return s(n);var i={saslContinue:1,conversationId:t.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",i,{numberToSkip:0,numberToReturn:1}),function(n,e){if(n)return s(n,!1);var t=e.result;a.transition(t.payload,function(n,e){var i={saslContinue:1,conversationId:t.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",i,{numberToSkip:0,numberToReturn:1}),function(r,n){if(r)return s(r,!1);if(n.result.done)return s(null,!0);s(new Error(\"Authentication failed\"),!1)})})})})})})})})},addAuthSession=function(r,n){for(var e=!1,t=0;t<r.length;t++)if(r[t].equal(n)){e=!0;break}e||r.push(n)};SSPI.prototype.logout=function(r){this.authStore=this.authStore.filter(function(n){return n.db!=r})},SSPI.prototype.reauthenticate=function(r,n,e){var t=this.authStore.slice(0),o=t.length;if(0==o)return e(null,null);for(var u=0;u<t.length;u++)this.auth(r,n,t[u].db,t[u].username,t[u].password,t[u].options,function(r){0==(o-=1)&&e(r,null)})},module.exports=SSPI;","node_modules/mongodb-core/lib/wireprotocol/commands.js":"\"use strict\";var MongoError=require(\"../error\"),OP_UPDATE=2001,OP_INSERT=2002,OP_DELETE=2006,Insert=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");if(!Array.isArray(n)||0==n.length)throw new MongoError(\"documents array must contain at least one document to insert\");if(~t.indexOf(\"\\0\"))throw new MongoError(\"namespace cannot contain a null character\");this.requestId=e,this.bson=i,this.ns=t,this.documents=n,this.ismaster=s,r=r||{},this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"!=typeof r.checkKeys||r.checkKeys,this.continueOnError=\"boolean\"==typeof r.continueOnError&&r.continueOnError,this.flags=this.continueOnError?1:0};Insert.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1);e.push(s);for(var i=s.length,t=0;t<this.documents.length;t++){var n=this.bson.serialize(this.documents[t],{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(n.length>this.ismaster.maxBsonObjectSize)throw new MongoError(\"Document exceeds maximum allowed bson size of \"+this.ismaster.maxBsonObjectSize+\" bytes\");i+=n.length,e.push(n)}if(i>this.ismaster.maxMessageSizeBytes)throw new MongoError(\"Command exceeds maximum message size of \"+this.ismaster.maxMessageSizeBytes+\" bytes\");var r=0;return s[r+3]=i>>24&255,s[r+2]=i>>16&255,s[r+1]=i>>8&255,s[r]=255&i,r+=4,s[r+3]=this.requestId>>24&255,s[r+2]=this.requestId>>16&255,s[r+1]=this.requestId>>8&255,s[r]=255&this.requestId,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,s[r+3]=OP_INSERT>>24&255,s[r+2]=OP_INSERT>>16&255,s[r+1]=OP_INSERT>>8&255,s[r]=255&OP_INSERT,r+=4,s[r+3]=this.flags>>24&255,s[r+2]=this.flags>>16&255,s[r+1]=this.flags>>8&255,s[r]=255&this.flags,r+=4,r=r+s.write(this.ns,r,\"utf8\")+1,s[r-1]=0,e};var Update=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");r=r||{},this.requestId=e,this.bson=i,this.ns=t,this.ismaster=s,this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"==typeof r.checkKeys&&r.checkKeys,this.upsert=\"boolean\"==typeof n[0].upsert&&n[0].upsert,this.multi=\"boolean\"==typeof n[0].multi&&n[0].multi,this.q=n[0].q,this.u=n[0].u,this.flags=this.upsert?1:0,this.flags=this.multi?2|this.flags:this.flags};Update.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(s);var i=s.length,t=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(t),i+=t.length;var n=this.bson.serialize(this.u,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(n),i+=n.length;var r=0;return s[r+3]=i>>24&255,s[r+2]=i>>16&255,s[r+1]=i>>8&255,s[r]=255&i,r+=4,s[r+3]=this.requestId>>24&255,s[r+2]=this.requestId>>16&255,s[r+1]=this.requestId>>8&255,s[r]=255&this.requestId,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,s[r+3]=OP_UPDATE>>24&255,s[r+2]=OP_UPDATE>>16&255,s[r+1]=OP_UPDATE>>8&255,s[r]=255&OP_UPDATE,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,r=r+s.write(this.ns,r,\"utf8\")+1,s[r-1]=0,s[r+3]=this.flags>>24&255,s[r+2]=this.flags>>16&255,s[r+1]=this.flags>>8&255,s[r]=255&this.flags,r+=4,e};var Remove=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");r=r||{},this.requestId=e,this.bson=i,this.ns=t,this.ismaster=s,this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"==typeof r.checkKeys&&r.checkKeys,this.limit=\"number\"==typeof n[0].limit?n[0].limit:1,this.q=n[0].q,this.flags=1==this.limit?1:0};Remove.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(s);var i=s.length,t=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(t),i+=t.length;var n=0;return s[n+3]=i>>24&255,s[n+2]=i>>16&255,s[n+1]=i>>8&255,s[n]=255&i,n+=4,s[n+3]=this.requestId>>24&255,s[n+2]=this.requestId>>16&255,s[n+1]=this.requestId>>8&255,s[n]=255&this.requestId,n+=4,s[n+3]=0,s[n+2]=0,s[n+1]=0,s[n]=0,n+=4,s[n+3]=OP_DELETE>>24&255,s[n+2]=OP_DELETE>>16&255,s[n+1]=OP_DELETE>>8&255,s[n]=255&OP_DELETE,n+=4,s[n+3]=0,s[n+2]=0,s[n+1]=0,s[n]=0,n+=4,n=n+s.write(this.ns,n,\"utf8\")+1,s[n-1]=0,s[n+3]=this.flags>>24&255,s[n+2]=this.flags>>16&255,s[n+1]=this.flags>>8&255,s[n]=255&this.flags,n+=4,e},module.exports={Insert:Insert,Update:Update,Remove:Remove};","node_modules/mongodb-core/lib/wireprotocol/shared.js":"\"use strict\";var ReadPreference=require(\"../topologies/read_preference\"),MongoError=require(\"../error\"),getReadPreference=function(e,r){var n=e.readPreference||new ReadPreference(\"primary\");if(r.readPreference&&(n=r.readPreference),\"string\"==typeof n&&(n=new ReadPreference(n)),!(n instanceof ReadPreference))throw new MongoError(\"readPreference must be a ReadPreference instance\");return n};module.exports={getReadPreference:getReadPreference};","node_modules/mongodb-core/package.json":{"_from":"mongodb-core@2.1.17","_id":"mongodb-core@2.1.17","_inBundle":false,"_integrity":"sha1-pBizN6FKFJkPtRC5I97mqBMXPfg=","_location":"/mongodb-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"mongodb-core@2.1.17","name":"mongodb-core","escapedName":"mongodb-core","rawSpec":"2.1.17","saveSpec":null,"fetchSpec":"2.1.17"},"_requiredBy":["/mongodb"],"_resolved":"https://registry.npmjs.org/mongodb-core/-/mongodb-core-2.1.17.tgz","_shasum":"a418b337a14a14990fb510b923dee6a813173df8","_spec":"mongodb-core@2.1.17","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\mongodb","author":{"name":"Christian Kvalheim"},"bugs":{"url":"https://github.com/christkv/mongodb-core/issues"},"bundleDependencies":false,"dependencies":{"bson":"~1.0.4","require_optional":"~1.0.0"},"deprecated":false,"description":"Core MongoDB driver functionality, no bells and whistles and meant for integration not end applications","devDependencies":{"co":"^4.5.4","coveralls":"^2.11.6","es6-promise":"^3.0.2","gleak":"0.5.0","integra":"0.1.8","jsdoc":"3.3.0-alpha8","mkdirp":"0.5.0","mongodb-topology-manager":"1.0.x","mongodb-version-manager":"github:christkv/mongodb-version-manager#master","nyc":"^5.5.0","optimist":"latest","rimraf":"2.2.6","semver":"4.1.0"},"homepage":"https://github.com/christkv/mongodb-core","keywords":["mongodb","core"],"license":"Apache-2.0","main":"index.js","name":"mongodb-core","peerOptionalDependencies":{"kerberos":"~0.0","bson-ext":"1.0.5"},"repository":{"type":"git","url":"git://github.com/christkv/mongodb-core.git"},"scripts":{"coverage":"nyc node test/runner.js -t functional -l && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls","lint":"eslint lib","test":"node test/runner.js -t functional"},"version":"2.1.17"},"node_modules/mongodb-core/lib/topologies/replset_state.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,diff=require(\"./shared\").diff,EventEmitter=require(\"events\").EventEmitter,Logger=require(\"../connection/logger\"),ReadPreference=require(\"./read_preference\"),MongoError=require(\"../error\"),TopologyType={Single:\"Single\",ReplicaSetNoPrimary:\"ReplicaSetNoPrimary\",ReplicaSetWithPrimary:\"ReplicaSetWithPrimary\",Sharded:\"Sharded\",Unknown:\"Unknown\"},ServerType={Standalone:\"Standalone\",Mongos:\"Mongos\",PossiblePrimary:\"PossiblePrimary\",RSPrimary:\"RSPrimary\",RSSecondary:\"RSSecondary\",RSArbiter:\"RSArbiter\",RSOther:\"RSOther\",RSGhost:\"RSGhost\",Unknown:\"Unknown\"},ReplSetState=function(e){e=e||{},EventEmitter.call(this),this.topologyType=TopologyType.ReplicaSetNoPrimary,this.setName=e.setName,this.set={},this.id=e.id,this.setName=e.setName,this.logger=e.logger||Logger(\"ReplSet\",e),this.index=0,this.acceptableLatency=e.acceptableLatency||15,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS||1e4,this.primary=null,this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.maxElectionId=null,this.maxSetVersion=0,this.replicasetDescription={topologyType:\"Unknown\",servers:[]}};inherits(ReplSetState,EventEmitter),ReplSetState.prototype.hasPrimaryAndSecondary=function(){return null!=this.primary&&this.secondaries.length>0},ReplSetState.prototype.hasPrimaryOrSecondary=function(){return this.hasPrimary()||this.hasSecondary()},ReplSetState.prototype.hasPrimary=function(){return null!=this.primary},ReplSetState.prototype.hasSecondary=function(){return this.secondaries.length>0},ReplSetState.prototype.get=function(e){for(var r=this.allServers(),t=0;t<r.length;t++)if(r[t].name.toLowerCase()===e.toLowerCase())return r[t];return null},ReplSetState.prototype.allServers=function(e){e=e||{};var r=this.primary?[this.primary]:[];return r=r.concat(this.secondaries),e.ignoreArbiters||(r=r.concat(this.arbiters)),r=r.concat(this.passives)},ReplSetState.prototype.destroy=function(e){this.primary&&this.primary.destroy(e),this.secondaries.forEach(function(r){r.destroy(e)}),this.arbiters.forEach(function(r){r.destroy(e)}),this.passives.forEach(function(r){r.destroy(e)}),this.ghosts.forEach(function(r){r.destroy(e)}),this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.primary=null,emitTopologyDescriptionChanged(this)},ReplSetState.prototype.remove=function(e,r){r=r||{};var t=e.name.toLowerCase(),s=this.primary?[this.primary]:[];s=(s=(s=s.concat(this.secondaries)).concat(this.arbiters)).concat(this.passives);for(var i=0;i<s.length;i++)if(!r.force&&s[i].equals(e)&&s[i].isConnected&&s[i].isConnected())return;this.set[t]&&(this.set[t].type=ServerType.Unknown,this.set[t].electionId=null,this.set[t].setName=null,this.set[t].setVersion=null);var a=null;this.primary&&this.primary.equals(e)&&(this.primary=null,this.topologyType=TopologyType.ReplicaSetNoPrimary,a=\"primary\"),a=removeFrom(e,this.secondaries)?\"secondary\":a,a=removeFrom(e,this.arbiters)?\"arbiter\":a,a=removeFrom(e,this.passives)?\"secondary\":a,removeFrom(e,this.ghosts),removeFrom(e,this.unknownServers),this.unknownServers.push(t),a&&this.emit(\"left\",a,e)},ReplSetState.prototype.update=function(e){var r=e.lastIsMaster(),t=e.name.toLowerCase();if(r){var s=Array.isArray(r.hosts)?r.hosts:[];s=(s=(s=s.concat(Array.isArray(r.arbiters)?r.arbiters:[])).concat(Array.isArray(r.passives)?r.passives:[])).map(function(e){return e.toLowerCase()});for(var i=0;i<s.length;i++)-1!=this.unknownServers.indexOf(s[i])||this.set[s[i]]&&this.set[s[i]].type!=ServerType.Unknown||this.unknownServers.push(s[i].toLowerCase()),this.set[s[i]]||(this.set[s[i]]={type:ServerType.Unknown,electionId:null,setName:null,setVersion:null})}if(!r&&!inList(r,e,this.unknownServers))return this.set[t]={type:ServerType.Unknown,setVersion:null,electionId:null,setName:null},this.set[t].type=ServerType.Unknown,this.set[t].electionId=r?r.electionId:r,this.set[t].setName=r?r.setName:r,this.set[t].setVersion=r?r.setVersion:r,-1==this.unknownServers.indexOf(e.name)&&this.unknownServers.push(t),!1;if(r&&\"isdbgrid\"==r.msg)return!1;if(r.setName&&r.hidden||r.setName&&!r.ismaster&&!r.secondary&&!r.arbiterOnly&&!r.passive)return this.set[t]={type:ServerType.RSOther,setVersion:null,electionId:null,setName:r.setName},this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),!1;if(r.isreplicaset)return this.set[t]={type:ServerType.RSGhost,setVersion:null,electionId:null,setName:null},this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),!1;if(r&&r.ismaster&&!r.setName)return this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.Unknown,this.remove(e,{force:!0}),!1;if(r&&!r.ismaster&&!r.secondary&&!r.arbiterOnly)return this.remove(e,{force:!0}),!1;if(r.me&&r.me.toLowerCase()!=t)return this.logger.isWarn()&&this.logger.warn(f(\"the seedlist server was removed due to its address %s not matching its ismaster.me address %s\",e.name,r.me)),delete this.set[t],removeFrom(e,this.unknownServers),e.destroy(),this.primary&&!this.primary.equals(e)?this.topologyType=TopologyType.ReplicaSetWithPrimary:this.topologyType=TopologyType.ReplicaSetNoPrimary,!this.primary&&r.primary&&(this.set[r.primary.toLowerCase()]={type:ServerType.PossiblePrimary,setName:null,electionId:null,setVersion:null}),!1;if(!this.primary&&r.ismaster&&r.setName){var a=e.lastIsMaster().electionId;if(this.setName&&this.setName!=r.setName)return this.topologyType=TopologyType.ReplicaSetNoPrimary,new MongoError(f(\"setName from ismaster does not match provided connection setName [%s] != [%s]\",r.setName,this.setName));if(!this.maxElectionId&&a)this.maxElectionId=a;else if(this.maxElectionId&&a){var o=compareObjectIds(this.maxElectionId,a),n=e.lastIsMaster().setVersion;if(1==o)return this.topologyType=TopologyType.ReplicaSetNoPrimary,!1;if(0==o&&n&&n<this.maxSetVersion)return this.topologyType=TopologyType.ReplicaSetNoPrimary,!1;this.maxSetVersion=n,this.maxElectionId=a}return-1!=r.hosts.map(function(e){return e.toLowerCase()}).indexOf(t)?(this.primary=e,this.set[t]={type:ServerType.RSPrimary,setVersion:r.setVersion,electionId:r.electionId,setName:r.setName},this.topologyType=TopologyType.ReplicaSetWithPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),removeFrom(e,this.secondaries),removeFrom(e,this.passives),this.emit(\"joined\",\"primary\",e)):this.topologyType=TopologyType.ReplicaSetNoPrimary,emitTopologyDescriptionChanged(this),!0}if(r.ismaster&&r.setName){var p=this.set[this.primary.name.toLowerCase()].electionId,l=this.set[this.primary.name.toLowerCase()].setVersion,y=this.set[this.primary.name.toLowerCase()].setName;a=e.lastIsMaster().electionId,n=e.lastIsMaster().setVersion;var m=e.lastIsMaster().setName;if(this.primary.equals(e)&&y==m)return!1;if(y&&y!=m)return this.primary.equals(e)?this.topologyType=TopologyType.ReplicaSetNoPrimary:this.topologyType=TopologyType.ReplicaSetWithPrimary,!1;if(p&&a){if(1==(o=compareObjectIds(p,a)))return!1;if(0==o&&l>n)return!1}else if(!p&&a&&n&&n<this.maxSetVersion)return!1;if(!this.maxElectionId&&a)this.maxElectionId=a;else if(this.maxElectionId&&a){if(1==(o=compareObjectIds(this.maxElectionId,a)))return!1;if(0==o&&l&&n){if(n<this.maxSetVersion)return!1}else if(n<this.maxSetVersion)return!1;this.maxElectionId=a,this.maxSetVersion=n}else this.maxSetVersion=n;return this.set[this.primary.name.toLowerCase()]={type:ServerType.Unknown,setVersion:null,electionId:null,setName:null},this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=e,this.set[t]={type:ServerType.RSPrimary,setVersion:r.setVersion,electionId:r.electionId,setName:r.setName},this.topologyType=TopologyType.ReplicaSetWithPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),removeFrom(e,this.secondaries),removeFrom(e,this.passives),this.emit(\"joined\",\"primary\",e),emitTopologyDescriptionChanged(this),!0}return!this.primary&&r.primary&&(this.set[r.primary.toLowerCase()]={type:ServerType.PossiblePrimary,setVersion:null,electionId:null,setName:null}),r.secondary&&r.setName&&!inList(r,e,this.secondaries)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSSecondary,r,e,this.secondaries),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==t&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),emitTopologyDescriptionChanged(this),!0):r.arbiterOnly&&r.setName&&!inList(r,e,this.arbiters)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSArbiter,r,e,this.arbiters),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.emit(\"joined\",\"arbiter\",e),emitTopologyDescriptionChanged(this),!0):r.passive&&r.setName&&!inList(r,e,this.passives)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSSecondary,r,e,this.passives),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==t&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),emitTopologyDescriptionChanged(this),!0):this.set[t]&&this.set[t].type==ServerType.RSPrimary?(this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=null,this.topologyType=TopologyType.ReplicaSetNoPrimary,!1):(this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,!1)},ReplSetState.prototype.updateServerMaxStaleness=function(e,r){for(var t=0,s=0;s<this.secondaries.length;s++)t=Math.max(t,this.secondaries[s].lastWriteDate);e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&this.hasPrimary()?e.staleness=e.lastUpdateTime-e.lastWriteDate-(this.primary.lastUpdateTime-this.primary.lastWriteDate)+r:e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&(e.staleness=t-e.lastWriteDate+r)},ReplSetState.prototype.updateSecondariesMaxStaleness=function(e){for(var r=0;r<this.secondaries.length;r++)this.updateServerMaxStaleness(this.secondaries[r],e)},ReplSetState.prototype.pickServer=function(e){if(\"primary\"==(e=e||ReadPreference.primary).preference&&null!=e.maxStalenessSeconds)return new MongoError(\"primary readPreference incompatible with maxStalenessSeconds\");var r=this.primary?[this.primary]:[];if(r=r.concat(this.secondaries),null!=e.maxStalenessSeconds)for(var t=0;t<r.length;t++)if(r[t].ismaster.maxWireVersion<5)return new MongoError(\"maxStalenessSeconds not supported by at least one of the replicaset members\");if(\"nearest\"==e.preference&&null==e.maxStalenessSeconds)return pickNearest(this,e);if(\"nearest\"==e.preference&&null!=e.maxStalenessSeconds)return pickNearestMaxStalenessSeconds(this,e);var s=this.secondaries;if(e.equals(ReadPreference.secondary)&&0==s.length)return new MongoError(\"no secondary server available\");if(e.equals(ReadPreference.secondaryPreferred)&&0==s.length&&null==this.primary)return new MongoError(\"no secondary or primary server available\");if(e.equals(ReadPreference.primary)&&null==this.primary)return new MongoError(\"no primary server available\");if(e.equals(ReadPreference.secondaryPreferred)||e.equals(ReadPreference.secondary)){if(s.length>0&&null==e.maxStalenessSeconds){var i=pickNearest(this,e);if(i)return i}else if(s.length>0&&null!=e.maxStalenessSeconds&&(i=pickNearestMaxStalenessSeconds(this,e)))return i;return e.equals(ReadPreference.secondaryPreferred)?this.primary:null}if(e.equals(ReadPreference.primaryPreferred)){if(i=null,this.primary)return this.primary;if(s.length>0&&null==e.maxStalenessSeconds?i=pickNearest(this,e):s.length>0&&null!=e.maxStalenessSeconds&&(i=pickNearestMaxStalenessSeconds(this,e)),i)return i}return this.primary};var filterByTags=function(e,r){if(null==e.tags)return r;for(var t=[],s=Array.isArray(e.tags)?e.tags:[e.tags],i=0;i<s.length;i++)for(var a=s[i],o=0;o<r.length;o++){var n=r[o].lastIsMaster().tags||{},p=!0;for(var l in a)n[l]!=a[l]&&(p=!1);p&&t.push(r[o])}return t};function pickNearestMaxStalenessSeconds(e,r){var t=[],s=(e.heartbeatFrequencyMS,1e3*r.maxStalenessSeconds);if(s<9e4)return new MongoError(\"maxStalenessSeconds must be set to at least 90 seconds\");e.primary&&\"secondary\"!=r.preference&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary);for(var i=0;i<e.secondaries.length;i++)t.push(e.secondaries[i]);if(e.primary&&0==t.length&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary),t=filterByTags(r,t),(t=t.filter(function(e){return e.staleness<=s})).sort(function(e,r){return e.lastIsMasterMS>r.lastIsMasterMS}),0==t.length)return null;e.index=e.index%t.length;var a=t[e.index];return e.index=e.index+1,a}function pickNearest(e,r){var t=[];e.primary&&\"secondary\"!=r.preference&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary);for(var s=0;s<e.secondaries.length;s++)t.push(e.secondaries[s]);0==t.length&&e.primary&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary),(t=filterByTags(r,t)).sort(function(e,r){return e.lastIsMasterMS>r.lastIsMasterMS});var i=t.length>0?t[0].lastIsMasterMS:0;if(0==(t=t.filter(function(r){return r.lastIsMasterMS<=i+e.acceptableLatency})).length)return null;e.index=e.index%t.length;var a=t[e.index];return e.index=e.index+1,a}function inList(e,r,t){for(var s=0;s<t.length;s++)if(t[s]&&t[s].name&&t[s].name.toLowerCase()==r.name.toLowerCase())return!0;return!1}function addToList(e,r,t,s,i){var a=s.name.toLowerCase();e.set[a].type=r,e.set[a].electionId=t?t.electionId:t,e.set[a].setName=t?t.setName:t,e.set[a].setVersion=t?t.setVersion:t,i.push(s)}function compareObjectIds(e,r){var t=new Buffer(e.toHexString(),\"hex\"),s=new Buffer(r.toHexString(),\"hex\");if(t===s)return 0;if(\"function\"==typeof Buffer.compare)return Buffer.compare(t,s);for(var i=t.length,a=s.length,o=Math.min(i,a),n=0;n<o&&t[n]===s[n];n++);return n!==o&&(i=t[n],a=s[n]),i<a?-1:a<i?1:0}function removeFrom(e,r){for(var t=0;t<r.length;t++){if(r[t].equals&&r[t].equals(e))return r.splice(t,1),!0;if(\"string\"==typeof r[t]&&r[t].toLowerCase()==e.name.toLowerCase())return r.splice(t,1),!0}return!1}function emitTopologyDescriptionChanged(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var r=\"Unknown\",t=e.setName;e.hasPrimaryAndSecondary()?r=\"ReplicaSetWithPrimary\":!e.hasPrimary()&&e.hasSecondary()&&(r=\"ReplicaSetNoPrimary\");var s={topologyType:r,setName:t,servers:[]};if(e.hasPrimary()){var i=e.primary.getDescription();i.type=\"RSPrimary\",s.servers.push(i)}s.servers=s.servers.concat(e.secondaries.map(function(e){var r=e.getDescription();return r.type=\"RSSecondary\",r})),s.servers=s.servers.concat(e.arbiters.map(function(e){var r=e.getDescription();return r.type=\"RSArbiter\",r})),s.servers=s.servers.concat(e.passives.map(function(e){var r=e.getDescription();return r.type=\"RSSecondary\",r}));var a=diff(e.replicasetDescription,s),o={topologyId:e.id,previousDescription:e.replicasetDescription,newDescription:s,diff:a};e.emit(\"topologyDescriptionChanged\",o),e.replicasetDescription=s}}module.exports=ReplSetState;","node_modules/mongodb/lib/aggregation_cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"./cursor\"),AggregationCursor=function(r,e,o,s,t,i){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var a=AggregationCursor.INIT,n=s.promiseLibrary;n||(n=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:a,streamOptions:{},bson:r,ns:e,cmd:o,options:s,topology:t,topologyOptions:i,promiseLibrary:n}};inherits(AggregationCursor,Readable);for(var name in CoreCursor.prototype)AggregationCursor.prototype[name]=CoreCursor.prototype[name];var define=AggregationCursor.define=new Define(\"AggregationCursor\",AggregationCursor,!0);AggregationCursor.prototype.batchSize=function(r){if(this.s.state==AggregationCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=r),this.setCursorBatchSize(r),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.geoNear=function(r){return this.s.cmd.pipeline.push({$geoNear:r}),this},define.classMethod(\"geoNear\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.group=function(r){return this.s.cmd.pipeline.push({$group:r}),this},define.classMethod(\"group\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.limit=function(r){return this.s.cmd.pipeline.push({$limit:r}),this},define.classMethod(\"limit\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.match=function(r){return this.s.cmd.pipeline.push({$match:r}),this},define.classMethod(\"match\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.maxTimeMS=function(r){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=r),this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.out=function(r){return this.s.cmd.pipeline.push({$out:r}),this},define.classMethod(\"out\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.project=function(r){return this.s.cmd.pipeline.push({$project:r}),this},define.classMethod(\"project\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.lookup=function(r){return this.s.cmd.pipeline.push({$lookup:r}),this},define.classMethod(\"lookup\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.redact=function(r){return this.s.cmd.pipeline.push({$redact:r}),this},define.classMethod(\"redact\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.skip=function(r){return this.s.cmd.pipeline.push({$skip:r}),this},define.classMethod(\"skip\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.sort=function(r){return this.s.cmd.pipeline.push({$sort:r}),this},define.classMethod(\"sort\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.unwind=function(r){return this.s.cmd.pipeline.push({$unwind:r}),this},define.classMethod(\"unwind\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.get=AggregationCursor.prototype.toArray,define.classMethod(\"toArray\",{callback:!0,promise:!0}),define.classMethod(\"each\",{callback:!0,promise:!1}),define.classMethod(\"forEach\",{callback:!0,promise:!1}),define.classMethod(\"hasNext\",{callback:!0,promise:!0}),define.classMethod(\"next\",{callback:!0,promise:!0}),define.classMethod(\"close\",{callback:!0,promise:!0}),define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),define.classMethod(\"rewind\",{callback:!1,promise:!1}),define.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),define.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),AggregationCursor.INIT=0,AggregationCursor.OPEN=1,AggregationCursor.CLOSED=2,module.exports=AggregationCursor;","node_modules/mongodb/lib/command_cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"./cursor\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,CommandCursor=function(e,r,o,s,a,t){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var i=CommandCursor.INIT,n=s.promiseLibrary;n||(n=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:i,streamOptions:{},bson:e,ns:r,cmd:o,options:s,topology:a,topologyOptions:t,promiseLibrary:n}};inherits(CommandCursor,Readable);for(var methodsToInherit=[\"_next\",\"next\",\"hasNext\",\"each\",\"forEach\",\"toArray\",\"rewind\",\"bufferedCount\",\"readBufferedDocuments\",\"close\",\"isClosed\",\"kill\",\"setCursorBatchSize\",\"_find\",\"_getmore\",\"_killcursor\",\"isDead\",\"explain\",\"isNotified\",\"isKilled\"],i=0;i<methodsToInherit.length;i++)CommandCursor.prototype[methodsToInherit[i]]=CoreCursor.prototype[methodsToInherit[i]];var define=CommandCursor.define=new Define(\"CommandCursor\",CommandCursor,!0);CommandCursor.prototype.setReadPreference=function(e){if(this.s.state==CommandCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(this.s.state!=CommandCursor.INIT)throw MongoError.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return e instanceof ReadPreference?this.s.options.readPreference=new CoreReadPreference(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}):\"string\"==typeof e?this.s.options.readPreference=new CoreReadPreference(e):e instanceof CoreReadPreference&&(this.s.options.readPreference=e),this},define.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.batchSize=function(e){if(this.s.state==CommandCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.get=CommandCursor.prototype.toArray,define.classMethod(\"get\",{callback:!0,promise:!1}),define.classMethod(\"toArray\",{callback:!0,promise:!0}),define.classMethod(\"each\",{callback:!0,promise:!1}),define.classMethod(\"forEach\",{callback:!0,promise:!1}),define.classMethod(\"next\",{callback:!0,promise:!0}),define.classMethod(\"hasNext\",{callback:!0,promise:!0}),define.classMethod(\"close\",{callback:!0,promise:!0}),define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),define.classMethod(\"rewind\",{callback:!1,promise:!1}),define.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),define.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),CommandCursor.INIT=0,CommandCursor.OPEN=1,CommandCursor.CLOSED=2,module.exports=CommandCursor;","node_modules/mongodb/lib/bulk/ordered.js":"\"use strict\";var common=require(\"./common\"),utils=require(\"../utils\"),toError=require(\"../utils\").toError,handleCallback=require(\"../utils\").handleCallback,shallowClone=utils.shallowClone,BulkWriteResult=common.BulkWriteResult,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Define=require(\"../metadata\"),BSON=require(\"mongodb-core\").BSON,Batch=common.Batch,mergeBatchResults=common.mergeBatchResults,bson=new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),FindOperatorsOrdered=function(e){this.s=e.s};FindOperatorsOrdered.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsOrdered.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsOrdered.prototype.replaceOne=function(e){this.updateOne(e)},FindOperatorsOrdered.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},FindOperatorsOrdered.prototype.deleteOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsOrdered.prototype.removeOne=FindOperatorsOrdered.prototype.deleteOne,FindOperatorsOrdered.prototype.delete=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsOrdered.prototype.remove=FindOperatorsOrdered.prototype.delete;var addToOperationsList=function(e,t,r){var n=bson.calculateObjectSize(r,{checkKeys:!1});if(n>=e.s.maxBatchSizeBytes)throw toError(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(null==e.s.currentBatch&&(e.s.currentBatch=new Batch(t,e.s.currentIndex)),e.s.currentBatchSize+1>=e.s.maxWriteBatchSize||e.s.currentBatchSizeBytes+e.s.currentBatchSizeBytes>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t?(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new Batch(t,e.s.currentIndex),e.s.currentBatchSize=0,e.s.currentBatchSizeBytes=0):(e.s.currentBatchSize=e.s.currentBatchSize+1,e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+n),t==common.INSERT&&e.s.bulkResult.insertedIds.push({index:e.s.currentIndex,_id:r._id}),Array.isArray(r))throw toError(\"operation passed in cannot be an Array\");return e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentBatch.operations.push(r),e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+n,e.s.currentIndex=e.s.currentIndex+1,e};function OrderedBulkOperation(e,t,r){r=null==r?{}:r;var n=e.bson,o=t.collectionName,i=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,s=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,a=common.writeConcern(shallowClone(r),t,r),c=r.promiseLibrary;c||(c=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentBatch:null,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,batches:[],writeConcern:a,maxBatchSizeBytes:i,maxWriteBatchSize:s,namespace:o,bson:n,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:c,err:null,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}}var define=OrderedBulkOperation.define=new Define(\"OrderedBulkOperation\",OrderedBulkOperation,!1);OrderedBulkOperation.prototype.raw=function(e){var t=Object.keys(e)[0],r=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,addToOperationsList(this,common.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var n=!e.updateOne&&!e.replaceOne,o={q:e[t].filter,u:e[t].update||e[t].replacement,multi:n};return o.upsert=!!e[t].upsert,e.collation&&(o.collation=e.collation),addToOperationsList(this,common.UPDATE,o)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,addToOperationsList(this,common.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var i=e.deleteOne?1:0;return o={q:e[t].filter,limit:i},e.collation&&(o.collation=e.collation),addToOperationsList(this,common.REMOVE,o)}if(e.insertOne&&null==e.insertOne.document)return!0!==r&&null==e.insertOne._id&&(e.insertOne._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==r&&null==e.insertOne.document._id&&(e.insertOne.document._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne.document);if(!e.insertMany)throw toError(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var s=0;s<e.insertMany.length;s++)!0!==r&&null==e.insertMany[s]._id&&(e.insertMany[s]._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertMany[s])},OrderedBulkOperation.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new ObjectID),addToOperationsList(this,common.INSERT,e)},OrderedBulkOperation.prototype.find=function(e){if(!e)throw toError(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new FindOperatorsOrdered(this)},Object.defineProperty(OrderedBulkOperation.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}});var executeCommands=function(e,t){if(0==e.s.batches.length)return handleCallback(t,null,new BulkWriteResult(e.s.bulkResult));var r=e.s.batches.shift(),n=function(n,o){if(n&&n.driver||n&&n.message)return handleCallback(t,n);n&&(n.ok=0);return null!=mergeBatchResults(!0,r,e.s.bulkResult,n,o)?handleCallback(t,null,new BulkWriteResult(e.s.bulkResult)):e.s.bulkResult.writeErrors.length>0?handleCallback(t,toError(e.s.bulkResult.writeErrors[0]),new BulkWriteResult(e.s.bulkResult)):void executeCommands(e,t)},o={ordered:!0};null!=e.s.writeConcern&&(o.writeConcern=e.s.writeConcern),e.operationId&&(n.operationId=e.operationId),e.s.options.serializeFunctions&&(o.serializeFunctions=!0),e.s.options.ignoreUndefined&&(o.ignoreUndefined=!0),1==e.s.bypassDocumentValidation&&(o.bypassDocumentValidation=!0);try{r.batchType==common.INSERT?e.s.topology.insert(e.s.collection.namespace,r.operations,o,n):r.batchType==common.UPDATE?e.s.topology.update(e.s.collection.namespace,r.operations,o,n):r.batchType==common.REMOVE&&e.s.topology.remove(e.s.collection.namespace,r.operations,o,n)}catch(n){n.ok=0,handleCallback(t,null,mergeBatchResults(!1,r,e.s.bulkResult,n,null))}};OrderedBulkOperation.prototype.execute=function(e,t){var r=this;if(this.s.executed){var n=toError(\"batch cannot be re-executed\");return\"function\"==typeof t?t(n,null):this.s.promiseLibrary.reject(n)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentBatch&&this.s.batches.push(this.s.currentBatch),0==this.s.batches.length){var o=toError(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(o,null):this.s.promiseLibrary.reject(o)}return\"function\"==typeof t?executeCommands(this,t):new this.s.promiseLibrary(function(e,t){executeCommands(r,function(r,n){if(r)return t(r);e(n)})})},define.classMethod(\"execute\",{callback:!0,promise:!1});var initializeOrderedBulkOp=function(e,t,r){return new OrderedBulkOperation(e,t,r)};initializeOrderedBulkOp.OrderedBulkOperation=OrderedBulkOperation,module.exports=initializeOrderedBulkOp,module.exports.Bulk=OrderedBulkOperation;","node_modules/mongodb/lib/bulk/unordered.js":"\"use strict\";var common=require(\"./common\"),utils=require(\"../utils\"),toError=require(\"../utils\").toError,handleCallback=require(\"../utils\").handleCallback,shallowClone=utils.shallowClone,BulkWriteResult=common.BulkWriteResult,ObjectID=require(\"mongodb-core\").BSON.ObjectID,BSON=require(\"mongodb-core\").BSON,Define=require(\"../metadata\"),Batch=common.Batch,mergeBatchResults=common.mergeBatchResults,bson=new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),FindOperatorsUnordered=function(e){this.s=e.s};FindOperatorsUnordered.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsUnordered.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsUnordered.prototype.replaceOne=function(e){this.updateOne(e)},FindOperatorsUnordered.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},FindOperatorsUnordered.prototype.removeOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsUnordered.prototype.remove=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)};var addToOperationsList=function(e,t,r){var n=bson.calculateObjectSize(r,{checkKeys:!1});if(n>=e.s.maxBatchSizeBytes)throw toError(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(e.s.currentBatch=null,t==common.INSERT?e.s.currentBatch=e.s.currentInsertBatch:t==common.UPDATE?e.s.currentBatch=e.s.currentUpdateBatch:t==common.REMOVE&&(e.s.currentBatch=e.s.currentRemoveBatch),null==e.s.currentBatch&&(e.s.currentBatch=new Batch(t,e.s.currentIndex)),(e.s.currentBatch.size+1>=e.s.maxWriteBatchSize||e.s.currentBatch.sizeBytes+n>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t)&&(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new Batch(t,e.s.currentIndex)),Array.isArray(r))throw toError(\"operation passed in cannot be an Array\");return e.s.currentBatch.operations.push(r),e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentIndex=e.s.currentIndex+1,t==common.INSERT?(e.s.currentInsertBatch=e.s.currentBatch,e.s.bulkResult.insertedIds.push({index:e.s.bulkResult.insertedIds.length,_id:r._id})):t==common.UPDATE?e.s.currentUpdateBatch=e.s.currentBatch:t==common.REMOVE&&(e.s.currentRemoveBatch=e.s.currentBatch),e.s.currentBatch.size=e.s.currentBatch.size+1,e.s.currentBatch.sizeBytes=e.s.currentBatch.sizeBytes+n,e},UnorderedBulkOperation=function(e,t,r){r=null==r?{}:r;var n=t.collectionName,o=e.bson,s=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,i=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,a=common.writeConcern(shallowClone(r),t,r),c=r.promiseLibrary;c||(c=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentInsertBatch:null,currentUpdateBatch:null,currentRemoveBatch:null,currentBatch:null,currentIndex:0,batches:[],writeConcern:a,maxBatchSizeBytes:s,maxWriteBatchSize:i,namespace:n,bson:o,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:c,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}},define=UnorderedBulkOperation.define=new Define(\"UnorderedBulkOperation\",UnorderedBulkOperation,!1);UnorderedBulkOperation.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new ObjectID),addToOperationsList(this,common.INSERT,e)},UnorderedBulkOperation.prototype.find=function(e){if(!e)throw toError(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new FindOperatorsUnordered(this)},Object.defineProperty(UnorderedBulkOperation.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}}),UnorderedBulkOperation.prototype.raw=function(e){var t=Object.keys(e)[0],r=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,addToOperationsList(this,common.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var n=!e.updateOne&&!e.replaceOne,o={q:e[t].filter,u:e[t].update||e[t].replacement,multi:n};return e[t].upsert&&(o.upsert=!0),addToOperationsList(this,common.UPDATE,o)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,addToOperationsList(this,common.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var s=e.deleteOne?1:0;return o={q:e[t].filter,limit:s},addToOperationsList(this,common.REMOVE,o)}if(e.insertOne&&null==e.insertOne.document)return!0!==r&&null==e.insertOne._id&&(e.insertOne._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==r&&null==e.insertOne.document._id&&(e.insertOne.document._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne.document);if(!e.insertMany)throw toError(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var i=0;i<e.insertMany.length;i++)!0!==r&&null==e.insertMany[i]._id&&(e.insertMany[i]._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertMany[i])};var executeBatch=function(e,t,r){var n={ordered:!1};null!=e.s.writeConcern&&(n.writeConcern=e.s.writeConcern);var o=function(n,o){if(n&&n.driver||n&&n.message)return handleCallback(r,n);n&&(n.ok=0),handleCallback(r,null,mergeBatchResults(!1,t,e.s.bulkResult,n,o))};e.operationId&&(o.operationId=e.operationId),e.s.options.serializeFunctions&&(n.serializeFunctions=!0),1==e.s.bypassDocumentValidation&&(n.bypassDocumentValidation=!0);try{t.batchType==common.INSERT?e.s.topology.insert(e.s.collection.namespace,t.operations,n,o):t.batchType==common.UPDATE?e.s.topology.update(e.s.collection.namespace,t.operations,n,o):t.batchType==common.REMOVE&&e.s.topology.remove(e.s.collection.namespace,t.operations,n,o)}catch(n){n.ok=0,handleCallback(r,null,mergeBatchResults(!1,t,e.s.bulkResult,n,null))}},executeBatches=function(e,t){for(var r=e.s.batches.length,n=0;n<e.s.batches.length;n++)executeBatch(e,e.s.batches[n],function(n){if(n&&(o=n),0==(r-=1)){if(o)return handleCallback(t,o);var o=e.s.bulkResult.writeErrors.length>0?toError(e.s.bulkResult.writeErrors[0]):null;handleCallback(t,o,new BulkWriteResult(e.s.bulkResult))}})};UnorderedBulkOperation.prototype.execute=function(e,t){var r=this;if(this.s.executed){var n=toError(\"batch cannot be re-executed\");return\"function\"==typeof t?t(n,null):this.s.promiseLibrary.reject(n)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch),0==this.s.batches.length){var o=toError(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(o,null):this.s.promiseLibrary.reject(o)}return\"function\"==typeof t?executeBatches(this,t):new this.s.promiseLibrary(function(e,t){executeBatches(r,function(r,n){if(r)return t(r);e(n)})})},define.classMethod(\"execute\",{callback:!0,promise:!1});var initializeUnorderedBulkOp=function(e,t,r){return new UnorderedBulkOperation(e,t,r)};initializeUnorderedBulkOp.UnorderedBulkOperation=UnorderedBulkOperation,module.exports=initializeUnorderedBulkOp,module.exports.Bulk=UnorderedBulkOperation;","node_modules/mongodb/lib/metadata.js":"var f=require(\"util\").format,Define=function(t,e,n){this.name=t,this.object=e,this.stream=\"boolean\"==typeof n&&n,this.instrumentations={}};Define.prototype.classMethod=function(t,e){var n=Object.keys(e).sort(),s=generateKey(n,e);null==this.instrumentations[s]&&(this.instrumentations[s]={methods:[],options:e}),this.instrumentations[s].methods.push(t)};var generateKey=function(t,e){for(var n=[],s=0;s<t.length;s++)n.push(f(\"%s=%s\",t[s],e[t[s]]));return n.join()};Define.prototype.staticMethod=function(t,e){e.static=!0;var n=Object.keys(e).sort(),s=generateKey(n,e);null==this.instrumentations[s]&&(this.instrumentations[s]={methods:[],options:e}),this.instrumentations[s].methods.push(t)},Define.prototype.generate=function(){var t={name:this.name,obj:this.object,stream:this.stream,instrumentations:[]};for(var e in this.instrumentations)t.instrumentations.push(this.instrumentations[e]);return t},module.exports=Define;","node_modules/mongodb/lib/utils.js":"\"use strict\";var MongoError=require(\"mongodb-core\").MongoError,ReadPreference=require(\"./read_preference\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,shallowClone=function(e){var r={};for(var n in e)r[n]=e[n];return r},getReadPreference=function(e){var r=null;if(!e.readPreference)return e;if((r=e.readPreference)instanceof ReadPreference)e.readPreference=new CoreReadPreference(r.mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds});else if(\"string\"==typeof r)e.readPreference=new CoreReadPreference(r);else if(r&&!(r instanceof ReadPreference)&&\"object\"==typeof r){var n=r.mode||r.preference;n&&\"string\"==typeof n&&(e.readPreference=new CoreReadPreference(n,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}))}return e},getSingleProperty=function(e,r,n){Object.defineProperty(e,r,{enumerable:!0,get:function(){return n}})},formatSortValue=exports.formatSortValue=function(e){switch((\"\"+e).toLowerCase()){case\"ascending\":case\"asc\":case\"1\":return 1;case\"descending\":case\"desc\":case\"-1\":return-1;default:throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\")}},formattedOrderClause=exports.formattedOrderClause=function(e){var r={};if(null==e)return null;if(Array.isArray(e)){if(0===e.length)return null;for(var n=0;n<e.length;n++)e[n].constructor==String?r[e[n]]=1:r[e[n][0]]=formatSortValue(e[n][1])}else if(null!=e&&\"object\"==typeof e)r=e;else{if(\"string\"!=typeof e)throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");r[e]=1}return r},checkCollectionName=function(e){if(\"string\"!=typeof e)throw new MongoError(\"collection name must be a String\");if(!e||-1!=e.indexOf(\"..\"))throw new MongoError(\"collection names cannot be empty\");if(-1!=e.indexOf(\"$\")&&null==e.match(/((^\\$cmd)|(oplog\\.\\$main))/))throw new MongoError(\"collection names must not contain '$'\");if(null!=e.match(/^\\.|\\.$/))throw new MongoError(\"collection names must not start or end with '.'\");if(~e.indexOf(\"\\0\"))throw new MongoError(\"collection names cannot contain a null character\")},handleCallback=function(e,r,n,t){try{if(null==e)return;if(e)return t?e(r,n,t):e(r,n)}catch(r){return process.nextTick(function(){throw r}),!1}return!0},toError=function(e){if(e instanceof Error)return e;for(var r=e.err||e.errmsg||e.errMessage||e,n=MongoError.create({message:r,driver:!0}),t=\"object\"==typeof e?Object.keys(e):[],o=0;o<t.length;o++)try{n[t[o]]=e[t[o]]}catch(e){}return n},normalizeHintField=function(e){var r=null;if(\"string\"==typeof e)r=e;else if(Array.isArray(e))r={},e.forEach(function(e){r[e]=1});else if(null!=e&&\"object\"==typeof e){r={};for(var n in e)r[n]=e[n]}return r},parseIndexOptions=function(e){var r,n={},t=[];return\"string\"==typeof e?(t.push(e+\"_1\"),n[e]=1):Array.isArray(e)?e.forEach(function(e){\"string\"==typeof e?(t.push(e+\"_1\"),n[e]=1):Array.isArray(e)?(t.push(e[0]+\"_\"+(e[1]||1)),n[e[0]]=e[1]||1):isObject(e)&&(r=Object.keys(e)).forEach(function(r){t.push(r+\"_\"+e[r]),n[r]=e[r]})}):isObject(e)&&(r=Object.keys(e)).forEach(function(r){t.push(r+\"_\"+e[r]),n[r]=e[r]}),{name:t.join(\"_\"),keys:r,fieldHash:n}},isObject=exports.isObject=function(e){return\"[object Object]\"==Object.prototype.toString.call(e)},debugOptions=function(e,r){var n={};return e.forEach(function(e){n[e]=r[e]}),n},decorateCommand=function(e,r,n){for(var t in r)null==n[t]&&(e[t]=r[t]);return e},mergeOptions=function(e,r){for(var n in r)e[n]=r[n];return e},translateOptions=function(e,r){var n={sslCA:\"ca\",sslCRL:\"crl\",sslValidate:\"rejectUnauthorized\",sslKey:\"key\",sslCert:\"cert\",sslPass:\"passphrase\",socketTimeoutMS:\"socketTimeout\",connectTimeoutMS:\"connectionTimeout\",replicaSet:\"setName\",rs_name:\"setName\",secondaryAcceptableLatencyMS:\"acceptableLatency\",connectWithNoPrimary:\"secondaryOnlyConnectionAllowed\",acceptableLatencyMS:\"localThresholdMS\"};for(var t in r)n[t]?e[n[t]]=r[t]:e[t]=r[t];return e},filterOptions=function(e,r){var n={};for(var t in e)-1!=r.indexOf(t)&&(n[t]=e[t]);return n},assign=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var r=Object(e),n=1;n<arguments.length;n++){var t=arguments[n];if(void 0!==t&&null!==t)for(var o=Object.keys(Object(t)),s=0,a=o.length;s<a;s++){var c=o[s],i=Object.getOwnPropertyDescriptor(t,c);void 0!==i&&i.enumerable&&(r[c]=t[c])}}return r},writeConcernKeys=[\"w\",\"j\",\"wtimeout\",\"fsync\"],mergeOptionsAndWriteConcern=function(e,r,n,t){for(var o=0;o<n.length;o++)e[n[o]]||void 0==r[n[o]]||(e[n[o]]=r[n[o]]);if(!t)return e;var s=!1;for(o=0;o<writeConcernKeys.length;o++)if(e[writeConcernKeys[o]]){s=!0;break}if(!s)for(o=0;o<writeConcernKeys.length;o++)r[writeConcernKeys[o]]&&(e[writeConcernKeys[o]]=r[writeConcernKeys[o]]);return e};exports.filterOptions=filterOptions,exports.mergeOptions=mergeOptions,exports.translateOptions=translateOptions,exports.shallowClone=shallowClone,exports.getSingleProperty=getSingleProperty,exports.checkCollectionName=checkCollectionName,exports.toError=toError,exports.formattedOrderClause=formattedOrderClause,exports.parseIndexOptions=parseIndexOptions,exports.normalizeHintField=normalizeHintField,exports.handleCallback=handleCallback,exports.decorateCommand=decorateCommand,exports.isObject=isObject,exports.debugOptions=debugOptions,exports.MAX_JS_INT=9007199254740992,exports.assign=assign,exports.mergeOptionsAndWriteConcern=mergeOptionsAndWriteConcern,exports.getReadPreference=getReadPreference;","node_modules/mongodb/lib/bulk/common.js":"\"use strict\";var Long=require(\"mongodb-core\").BSON.Long,Timestamp=require(\"mongodb-core\").BSON.Timestamp,UNKNOWN_ERROR=8,INVALID_BSON_ERROR=22,WRITE_CONCERN_ERROR=64,MULTIPLE_ERROR=65,INSERT=1,UPDATE=2,REMOVE=3,writeConcern=function(r,e,t){var n={};return e.writeConcern&&null!=e.writeConcern.w&&(n.w=e.writeConcern.w),e.writeConcern&&null!=e.writeConcern.j&&(n.j=e.writeConcern.j),e.writeConcern&&null!=e.writeConcern.fsync&&(n.fsync=e.writeConcern.fsync),e.writeConcern&&null!=e.writeConcern.wtimeout&&(n.wtimeout=e.writeConcern.wtimeout),t&&null!=t.w&&(n.w=t.w),t&&null!=t.wtimeout&&(n.wtimeout=t.wtimeout),t&&null!=t.j&&(n.j=t.j),t&&null!=t.fsync&&(n.fsync=t.fsync),n},defineReadOnlyProperty=function(r,e,t){Object.defineProperty(r,e,{enumerable:!0,get:function(){return t}})},Batch=function(r,e){this.originalZeroIndex=e,this.currentIndex=0,this.originalIndexes=[],this.batchType=r,this.operations=[],this.size=0,this.sizeBytes=0},LegacyOp=function(r,e,t){this.batchType=r,this.index=t,this.operation=e},BulkWriteResult=function(r){defineReadOnlyProperty(this,\"ok\",r.ok),defineReadOnlyProperty(this,\"nInserted\",r.nInserted),defineReadOnlyProperty(this,\"nUpserted\",r.nUpserted),defineReadOnlyProperty(this,\"nMatched\",r.nMatched),defineReadOnlyProperty(this,\"nModified\",r.nModified),defineReadOnlyProperty(this,\"nRemoved\",r.nRemoved),this.getInsertedIds=function(){return r.insertedIds},this.getUpsertedIds=function(){return r.upserted},this.getUpsertedIdAt=function(e){return r.upserted[e]},this.getRawResponse=function(){return r},this.hasWriteErrors=function(){return r.writeErrors.length>0},this.getWriteErrorCount=function(){return r.writeErrors.length},this.getWriteErrorAt=function(e){return e<r.writeErrors.length?r.writeErrors[e]:null},this.getWriteErrors=function(){return r.writeErrors},this.getLastOp=function(){return r.lastOp},this.getWriteConcernError=function(){if(0==r.writeConcernErrors.length)return null;if(1==r.writeConcernErrors.length)return r.writeConcernErrors[0];for(var e=\"\",t=0;t<r.writeConcernErrors.length;t++){e+=r.writeConcernErrors[t].errmsg,0==t&&(e+=\" and \")}return new WriteConcernError({errmsg:e,code:WRITE_CONCERN_ERROR})},this.toJSON=function(){return r},this.toString=function(){return\"BulkWriteResult(\"+this.toJSON(r)+\")\"},this.isOk=function(){return 1==r.ok}},WriteConcernError=function(r){if(!(this instanceof WriteConcernError))return new WriteConcernError(r);defineReadOnlyProperty(this,\"code\",r.code),defineReadOnlyProperty(this,\"errmsg\",r.errmsg),this.toJSON=function(){return{code:r.code,errmsg:r.errmsg}},this.toString=function(){return\"WriteConcernError(\"+r.errmsg+\")\"}},WriteError=function(r){if(!(this instanceof WriteError))return new WriteError(r);defineReadOnlyProperty(this,\"code\",r.code),defineReadOnlyProperty(this,\"index\",r.index),defineReadOnlyProperty(this,\"errmsg\",r.errmsg),this.getOperation=function(){return r.op},this.toJSON=function(){return{code:r.code,index:r.index,errmsg:r.errmsg,op:r.op}},this.toString=function(){return\"WriteError(\"+JSON.stringify(this.toJSON())+\")\"}},mergeBatchResults=function(r,e,t,n,o){if(n)o=n;else if(o&&o.result)o=o.result;else if(null==o)return;if(0!=o.ok||1!=t.ok){if(0!=o.ok||0!=t.ok){if(o.opTime||o.lastOp){var i=o.lastOp||o.opTime,s=null,u=null;if(i&&\"Timestamp\"==i._bsontype)null==t.lastOp?t.lastOp=i:i.greaterThan(t.lastOp)&&(t.lastOp=i);else{t.lastOp&&(s=\"number\"==typeof t.lastOp.ts?Long.fromNumber(t.lastOp.ts):t.lastOp.ts,u=\"number\"==typeof t.lastOp.t?Long.fromNumber(t.lastOp.t):t.lastOp.t);var d=\"number\"==typeof i.ts?Long.fromNumber(i.ts):i.ts,c=\"number\"==typeof i.t?Long.fromNumber(i.t):i.t;null==t.lastOp?t.lastOp=i:d.greaterThan(s)?t.lastOp=i:d.equals(s)&&c.greaterThan(u)&&(t.lastOp=i)}}e.batchType==INSERT&&o.n&&(t.nInserted=t.nInserted+o.n),e.batchType==REMOVE&&o.n&&(t.nRemoved=t.nRemoved+o.n);var p=0;if(Array.isArray(o.upserted)){p=o.upserted.length;for(var l=0;l<o.upserted.length;l++)t.upserted.push({index:o.upserted[l].index+e.originalZeroIndex,_id:o.upserted[l]._id})}else o.upserted&&(p=1,t.upserted.push({index:e.originalZeroIndex,_id:o.upserted}));if(e.batchType==UPDATE&&o.n){var a=o.nModified;t.nUpserted=t.nUpserted+p,t.nMatched=t.nMatched+(o.n-p),t.nModified=\"number\"==typeof a?t.nModified+a:null}if(Array.isArray(o.writeErrors))for(l=0;l<o.writeErrors.length;l++)f={index:e.originalZeroIndex+o.writeErrors[l].index,code:o.writeErrors[l].code,errmsg:o.writeErrors[l].errmsg,op:e.operations[o.writeErrors[l].index]},t.writeErrors.push(new WriteError(f));o.writeConcernError&&t.writeConcernErrors.push(new WriteConcernError(o.writeConcernError))}}else{t.ok=0;var f={index:0,code:o.code||0,errmsg:o.message,op:e.operations[0]};t.writeErrors.push(new WriteError(f))}},cloneOptions=function(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++)e[t[n]]=r[t[n]];return e};exports.BulkWriteResult=BulkWriteResult,exports.WriteError=WriteError,exports.Batch=Batch,exports.LegacyOp=LegacyOp,exports.mergeBatchResults=mergeBatchResults,exports.cloneOptions=cloneOptions,exports.writeConcern=writeConcern,exports.INVALID_BSON_ERROR=INVALID_BSON_ERROR,exports.WRITE_CONCERN_ERROR=WRITE_CONCERN_ERROR,exports.MULTIPLE_ERROR=MULTIPLE_ERROR,exports.UNKNOWN_ERROR=UNKNOWN_ERROR,exports.INSERT=INSERT,exports.UPDATE=UPDATE,exports.REMOVE=REMOVE;","node_modules/mongodb/lib/authenticate.js":"var shallowClone=require(\"./utils\").shallowClone,handleCallback=require(\"./utils\").handleCallback,MongoError=require(\"mongodb-core\").MongoError,authenticate=function(a,e,n,t,o){if(a.serverConfig&&a.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var l=t.dbName?t.dbName:a.databaseName;l=a.authSource?a.authSource:l,l=t.authdb?t.authdb:l,l=t.authSource?t.authSource:l;var r=function(e,n){a.listeners(\"authenticated\").length>0&&a.emit(\"authenticated\",e,n),handleCallback(o,e,n)},u=t.authMechanism||\"\";\"MONGODB-CR\"==(u=u.toUpperCase())?a.s.topology.auth(\"mongocr\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"PLAIN\"==u?a.s.topology.auth(\"plain\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"MONGODB-X509\"==u?a.s.topology.auth(\"x509\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"SCRAM-SHA-1\"==u?a.s.topology.auth(\"scram-sha-1\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"GSSAPI\"==u?\"win32\"==process.platform?a.s.topology.auth(\"sspi\",l,e,n,t,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):a.s.topology.auth(\"gssapi\",l,e,n,t,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"DEFAULT\"==u?a.s.topology.auth(\"default\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):handleCallback(o,MongoError.create({message:f(\"authentication mechanism %s not supported\",t.authMechanism),driver:!0}))};module.exports=function(a,e,n,t,o){if(\"function\"==typeof t&&(o=t,t={}),(t=shallowClone(t)).authMechanism){if(\"GSSAPI\"!=t.authMechanism&&\"DEFAULT\"!=t.authMechanism&&\"MONGODB-CR\"!=t.authMechanism&&\"MONGODB-X509\"!=t.authMechanism&&\"SCRAM-SHA-1\"!=t.authMechanism&&\"PLAIN\"!=t.authMechanism)return handleCallback(o,MongoError.create({message:\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\",driver:!0}))}else t.authMechanism=\"DEFAULT\";return\"function\"==typeof o?authenticate(a,e,n,t,function(a,e){if(a&&a.message&&-1!=a.message.indexOf(\"saslStart\")&&(a.code=59),a)return o(a,e);o(null,e)}):new a.s.promiseLibrary(function(o,l){authenticate(a,e,n,t,function(a,e){if(a&&a.message&&-1!=a.message.indexOf(\"saslStart\")&&(a.code=59),a)return l(a);o(e)})})};","node_modules/mongodb/lib/url_parser.js":"\"use strict\";var ReadPreference=require(\"./read_preference\"),parser=require(\"url\"),f=require(\"util\").format,assign=require(\"./utils\").assign;module.exports=function(e,r){var t=\"\",a=\"\",s=\"\",n=\"admin\",o=parser.parse(e,!0);if(\"mongodb:\"!=o.protocol)throw new Error(\"invalid schema, expected mongodb\");if((null==o.hostname||\"\"==o.hostname)&&-1==e.indexOf(\".sock\"))throw new Error(\"no hostname or hostnames provided in connection string\");if(\"0\"==o.port)throw new Error(\"invalid port (zero) with hostname\");if(!isNaN(parseInt(o.port,10))&&parseInt(o.port,10)>65535)throw new Error(\"invalid port (larger than 65535) with hostname\");if(o.path&&o.path.length>0&&\"/\"!=o.path[0]&&-1==e.indexOf(\".sock\"))throw new Error(\"missing delimiting slash between hosts and options\");if(o.query)for(var i in o.query){if(-1!=i.indexOf(\"::\"))throw new Error(\"double colon in host identifier\");if(\"\"==o.query[i])throw new Error(\"query parameter \"+i+\" is an incomplete value pair\")}if(o.auth){var c=o.auth.split(\":\");if(-1!=e.indexOf(o.auth)&&c.length>2)throw new Error(\"Username with password containing an unescaped colon\");if(-1!=e.indexOf(o.auth)&&-1!=o.auth.indexOf(\"@\"))throw new Error(\"Username containing an unescaped at-sign\")}for(var p=e.split(\"?\").shift().split(\",\"),l=[],u=0;u<p.length;u++){var d=p[u];-1!=d.indexOf(\"mongodb\")?-1!=d.indexOf(\"@\")?l.push(d.split(\"@\").pop()):l.push(d.substr(\"mongodb://\".length)):-1!=d.indexOf(\"/\")?l.push(d.split(\"/\").shift()):-1==d.indexOf(\"/\")&&l.push(d.trim())}for(u=0;u<l.length;u++){var h=parser.parse(f(\"mongodb://%s\",l[u].trim()));if(h.path&&-1!=h.path.indexOf(\":\"))throw new Error(\"double colon in host identifier\")}if(-1!=e.indexOf(\"?\")?(s=e.substr(e.indexOf(\"?\")+1),t=e.substring(\"mongodb://\".length,e.indexOf(\"?\"))):t=e.substring(\"mongodb://\".length),-1!=t.indexOf(\"@\")&&(a=t.split(\"@\")[0],t=t.split(\"@\")[1]),-1!=t.indexOf(\".sock\")){if(-1!=t.indexOf(\".sock/\")){if(-1!=(n=t.split(\".sock/\")[1]).indexOf(\"/\")){if(2==n.split(\"/\").length&&0==n.split(\"/\")[1].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}t=t.split(\"/\",t.indexOf(\".sock\")+\".sock\".length)}}else if(-1!=t.indexOf(\"/\")){if(t.split(\"/\").length>2){if(0==t.split(\"/\")[2].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}n=t.split(\"/\")[1],t=t.split(\"/\")[0]}var m={},w=a||\"\",g=w.split(\":\",2);g[0]=decodeURIComponent(g[0]),g[1]&&(g[1]=decodeURIComponent(g[1])),2==g.length&&(m.auth={user:g[0],password:g[1]}),r&&null!=r.auth&&(m.auth=r.auth);var k,b={socketOptions:{}},O={read_preference_tags:[]},S={socketOptions:{}},E={socketOptions:{}};if(m.server_options=b,m.db_options=O,m.rs_options=S,m.mongos_options=E,e.match(/\\.sock/)){var I=e.substring(e.indexOf(\"mongodb://\")+\"mongodb://\".length,e.lastIndexOf(\".sock\")+\".sock\".length);-1!=I.indexOf(\"@\")&&(I=I.split(\"@\")[1]),k=[{domain_socket:I}]}else{var v={};k=t.split(\",\").map(function(e){var r,t,a;if(a=/\\[([^\\]]+)\\](?:\\:(.+))?/.exec(e))r=a[1],t=parseInt(a[2],10)||27017;else{var s=e.split(\":\",2);r=s[0]||\"localhost\",t=null!=s[1]?parseInt(s[1],10):27017,-1!=r.indexOf(\"?\")&&(r=r.split(/\\?/)[0])}return v[r+\"_\"+t]?null:(v[r+\"_\"+t]=1,{host:r,port:t})}).filter(function(e){return null!=e})}if(m.dbName=n||\"admin\",(s||\"\").split(/[&;]/).forEach(function(e){if(e){var r=e.split(\"=\"),t=r[0],a=r[1];switch(t){case\"slaveOk\":case\"slave_ok\":b.slave_ok=\"true\"==a,O.slaveOk=\"true\"==a;break;case\"maxPoolSize\":case\"poolSize\":b.poolSize=parseInt(a,10),S.poolSize=parseInt(a,10);break;case\"appname\":m.appname=decodeURIComponent(a);break;case\"autoReconnect\":case\"auto_reconnect\":b.auto_reconnect=\"true\"==a;break;case\"minPoolSize\":throw new Error(\"minPoolSize not supported\");case\"maxIdleTimeMS\":throw new Error(\"maxIdleTimeMS not supported\");case\"waitQueueMultiple\":throw new Error(\"waitQueueMultiple not supported\");case\"waitQueueTimeoutMS\":throw new Error(\"waitQueueTimeoutMS not supported\");case\"uuidRepresentation\":throw new Error(\"uuidRepresentation not supported\");case\"ssl\":if(\"prefer\"==a){b.ssl=a,S.ssl=a,E.ssl=a;break}b.ssl=\"true\"==a,S.ssl=\"true\"==a,E.ssl=\"true\"==a;break;case\"sslValidate\":b.sslValidate=\"true\"==a,S.sslValidate=\"true\"==a,E.sslValidate=\"true\"==a;break;case\"replicaSet\":case\"rs_name\":S.rs_name=a;break;case\"reconnectWait\":S.reconnectWait=parseInt(a,10);break;case\"retries\":S.retries=parseInt(a,10);break;case\"readSecondary\":case\"read_secondary\":S.read_secondary=\"true\"==a;break;case\"fsync\":O.fsync=\"true\"==a;break;case\"journal\":O.j=\"true\"==a;break;case\"safe\":O.safe=\"true\"==a;break;case\"nativeParser\":case\"native_parser\":O.native_parser=\"true\"==a;break;case\"readConcernLevel\":O.readConcern={level:a};break;case\"connectTimeoutMS\":b.socketOptions.connectTimeoutMS=parseInt(a,10),S.socketOptions.connectTimeoutMS=parseInt(a,10),E.socketOptions.connectTimeoutMS=parseInt(a,10);break;case\"socketTimeoutMS\":b.socketOptions.socketTimeoutMS=parseInt(a,10),S.socketOptions.socketTimeoutMS=parseInt(a,10),E.socketOptions.socketTimeoutMS=parseInt(a,10);break;case\"w\":O.w=parseInt(a,10),isNaN(O.w)&&(O.w=a);break;case\"authSource\":O.authSource=a;break;case\"gssapiServiceName\":O.gssapiServiceName=a;break;case\"authMechanism\":if(\"GSSAPI\"==a)if(null==m.auth){var s=decodeURIComponent(w);if(-1==s.indexOf(\"@\"))throw new Error(\"GSSAPI requires a provided principal\");m.auth={user:s,password:null}}else m.auth.user=decodeURIComponent(m.auth.user);else\"MONGODB-X509\"==a&&(m.auth={user:decodeURIComponent(w)});if(\"GSSAPI\"!=a&&\"MONGODB-X509\"!=a&&\"MONGODB-CR\"!=a&&\"DEFAULT\"!=a&&\"SCRAM-SHA-1\"!=a&&\"PLAIN\"!=a)throw new Error(\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\");O.authMechanism=a;break;case\"authMechanismProperties\":var n={};a.split(\",\").forEach(function(e){var r=e.split(\":\");n[r[0]]=r[1]}),O.authMechanismProperties=n,\"string\"==typeof n.SERVICE_NAME&&(O.gssapiServiceName=n.SERVICE_NAME),\"string\"==typeof n.SERVICE_REALM&&(O.gssapiServiceRealm=n.SERVICE_REALM),\"string\"==typeof n.CANONICALIZE_HOST_NAME&&(O.gssapiCanonicalizeHostName=\"true\"==n.CANONICALIZE_HOST_NAME);break;case\"wtimeoutMS\":O.wtimeout=parseInt(a,10);break;case\"readPreference\":if(!ReadPreference.isValid(a))throw new Error(\"readPreference must be either primary/primaryPreferred/secondary/secondaryPreferred/nearest\");O.readPreference=a;break;case\"maxStalenessSeconds\":O.maxStalenessSeconds=parseInt(a,10);break;case\"readPreferenceTags\":var o={};if(null==(a=decodeURIComponent(a))||\"\"==a){O.read_preference_tags.push(o);break}for(var i=a.split(/\\,/),c=0;c<i.length;c++){var p=i[c].trim().split(/\\:/);o[p[0]]=p[1]}O.read_preference_tags.push(o)}}}),0===O.read_preference_tags.length&&(O.read_preference_tags=null),!(-1!=O.w&&0!=O.w||1!=O.journal&&1!=O.fsync&&1!=O.safe))throw new Error(\"w set to -1 or 0 cannot be combined with safe/w/journal/fsync\");return O.readPreference||(O.readPreference=\"primary\"),O=assign(O,r),m.servers=k,m};","node_modules/mongodb/lib/topology_base.js":"\"use strict\";var MongoError=require(\"mongodb-core\").MongoError,f=require(\"util\").format,Store=function(e,r){var o=this;r=r||{force:!1,bufferMaxEntries:-1},this.s={storedOps:[],storeOptions:r,topology:e},Object.defineProperty(this,\"length\",{enumerable:!0,get:function(){return o.s.storedOps.length}})};Store.prototype.add=function(e,r,o,t,s){if(this.s.storeOptions.force)return s(MongoError.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,n:r,o:o,op:t,c:s})},Store.prototype.addObjectAndMethod=function(e,r,o,t,s){if(this.s.storeOptions.force)return s(MongoError.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,m:o,o:r,p:t,c:s})},Store.prototype.flush=function(e){for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(e||MongoError.create({message:f(\"no connection available for operation\"),driver:!0}))};var primaryOptions=[\"primary\",\"primaryPreferred\",\"nearest\",\"secondaryPreferred\"],secondaryOptions=[\"secondary\",\"secondaryPreferred\"];Store.prototype.execute=function(e){e=e||{};var r=this.s.storedOps;this.s.storedOps=[];for(var o=\"boolean\"!=typeof e.executePrimary||e.executePrimary,t=\"boolean\"!=typeof e.executeSecondary||e.executeSecondary;r.length>0;){var s=r.shift();\"cursor\"==s.t?o&&t?s.o[s.m].apply(s.o,s.p):o&&s.o.options&&s.o.options.readPreference&&-1!=primaryOptions.indexOf(s.o.options.readPreference.mode)?s.o[s.m].apply(s.o,s.p):!o&&t&&s.o.options&&s.o.options.readPreference&&-1!=secondaryOptions.indexOf(s.o.options.readPreference.mode)&&s.o[s.m].apply(s.o,s.p):\"auth\"==s.t?this.s.topology[s.t].apply(this.s.topology,s.o):o&&t?this.s.topology[s.t](s.n,s.o,s.op,s.c):o&&s.op&&s.op.readPreference&&-1!=primaryOptions.indexOf(s.op.readPreference.mode)?this.s.topology[s.t](s.n,s.o,s.op,s.c):!o&&t&&s.op&&s.op.readPreference&&-1!=secondaryOptions.indexOf(s.op.readPreference.mode)&&this.s.topology[s.t](s.n,s.o,s.op,s.c)}},Store.prototype.all=function(){return this.s.storedOps};var ServerCapabilities=function(e){var r=function(e,r,o){Object.defineProperty(e,r,{enumerable:!0,get:function(){return o}})},o=!1,t=!1,s=!1,i=!1,n=!1,a=!1,p=e.maxWriteBatchSize||1e3,f=!1,c=!1;e.minWireVersion>=0&&(s=!0),e.maxWireVersion>=1&&(o=!0,i=!0),e.maxWireVersion>=2&&(t=!0),e.maxWireVersion>=3&&(n=!0,a=!0),e.maxWireVersion>=5&&(f=!0,c=!0),null==e.minWireVersion&&(e.minWireVersion=0),null==e.maxWireVersion&&(e.maxWireVersion=0),r(this,\"hasAggregationCursor\",o),r(this,\"hasWriteCommands\",t),r(this,\"hasTextSearch\",s),r(this,\"hasAuthCommands\",i),r(this,\"hasListCollectionsCommand\",n),r(this,\"hasListIndexesCommand\",a),r(this,\"minWireVersion\",e.minWireVersion),r(this,\"maxWireVersion\",e.maxWireVersion),r(this,\"maxNumberOfDocsInBatch\",p),r(this,\"commandsTakeWriteConcern\",f),r(this,\"commandsTakeCollation\",c)};exports.Store=Store,exports.ServerCapabilities=ServerCapabilities;","node_modules/mongodb/package.json":{"_from":"mongodb@~2.2.31","_id":"mongodb@2.2.33","_inBundle":false,"_integrity":"sha1-tTfEcdNKZlG0jzb9vyl1A0Dgi1A=","_location":"/mongodb","_phantomChildren":{"buffer-shims":"1.0.0","core-util-is":"1.0.2","inherits":"2.0.3","isarray":"1.0.0","process-nextick-args":"1.0.7","string_decoder":"1.0.3","util-deprecate":"1.0.2"},"_requested":{"type":"range","registry":true,"raw":"mongodb@~2.2.31","name":"mongodb","escapedName":"mongodb","rawSpec":"~2.2.31","saveSpec":null,"fetchSpec":"~2.2.31"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/mongodb/-/mongodb-2.2.33.tgz","_shasum":"b537c471d34a6651b48f36fdbf29750340e08b50","_spec":"mongodb@~2.2.31","_where":"c:\\Workspace\\walkner\\walkner-maxos","author":{"name":"Christian Kvalheim"},"bugs":{"url":"https://github.com/mongodb/node-mongodb-native/issues"},"bundleDependencies":false,"dependencies":{"es6-promise":"3.2.1","mongodb-core":"2.1.17","readable-stream":"2.2.7"},"deprecated":false,"description":"The official MongoDB driver for Node.js","devDependencies":{"JSONStream":"^1.0.7","betterbenchmarks":"^0.1.0","bluebird":"3.4.6","bson":"latest","cli-table":"^0.3.1","co":"4.6.0","colors":"^1.1.2","coveralls":"^2.11.6","eslint":"^3.8.1","event-stream":"^3.3.2","gleak":"0.5.0","integra":"0.1.8","jsdoc":"3.4.0","ldjson-stream":"^1.2.1","mongodb-extended-json":"1.7.1","mongodb-topology-manager":"1.0.x","mongodb-version-manager":"github:christkv/mongodb-version-manager#master","nyc":"^8.1.0","optimist":"0.6.1","rimraf":"2.5.4","semver":"5.3.0","worker-farm":"^1.3.1"},"engines":{"node":">=0.10.3"},"homepage":"https://github.com/mongodb/node-mongodb-native","keywords":["mongodb","driver","official"],"license":"Apache-2.0","main":"index.js","name":"mongodb","nyc":{"include":["lib/**/*.js"]},"repository":{"type":"git","url":"git+ssh://git@github.com/mongodb/node-mongodb-native.git"},"scripts":{"coverage":"nyc node test/runner.js -t functional && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls","lint":"eslint lib","test":"node test/runner.js -t functional"},"version":"2.2.33"},"node_modules/mongodb/lib/gridfs-stream/download.js":"var stream=require(\"stream\"),util=require(\"util\");module.exports=GridFSBucketReadStream;function GridFSBucketReadStream(e,t,r,n,i){this.s={bytesRead:0,chunks:e,cursor:null,expected:0,files:t,filter:n,init:!1,expectedEnd:0,file:null,options:i,readPreference:r},stream.Readable.call(this)}util.inherits(GridFSBucketReadStream,stream.Readable),GridFSBucketReadStream.prototype._read=function(){var e=this;this.destroyed||waitForFile(e,function(){doRead(e)})},GridFSBucketReadStream.prototype.start=function(e){return throwIfInitialized(this),this.s.options.start=e,this},GridFSBucketReadStream.prototype.end=function(e){return throwIfInitialized(this),this.s.options.end=e,this},GridFSBucketReadStream.prototype.abort=function(e){var t=this;this.push(null),this.destroyed=!0,this.s.cursor?this.s.cursor.close(function(r){t.emit(\"close\"),e&&e(r)}):(this.s.init||t.emit(\"close\"),e&&e())};function throwIfInitialized(e){if(e.s.init)throw new Error(\"You cannot change options after the stream has enteredflowing mode!\")}function doRead(e){e.destroyed||e.s.cursor.next(function(t,r){if(!e.destroyed){if(t)return __handleError(e,t);if(!r)return e.push(null),e.s.cursor.close(function(t){if(t)return __handleError(e,t);e.emit(\"close\")});var n=e.s.file.length-e.s.bytesRead,i=e.s.expected++,s=Math.min(e.s.file.chunkSize,n);if(r.n>i){var o=\"ChunkIsMissing: Got unexpected n: \"+r.n+\", expected: \"+i;return __handleError(e,new Error(o))}if(r.n<i)return o=\"ExtraChunk: Got unexpected n: \"+r.n+\", expected: \"+i,__handleError(e,new Error(o));if(r.data.length()!==s)return n<=0?(o=\"ExtraChunk: Got unexpected n: \"+r.n,__handleError(e,new Error(o))):(o=\"ChunkIsWrongSize: Got unexpected length: \"+r.data.length()+\", expected: \"+s,__handleError(e,new Error(o)));if(e.s.bytesRead+=r.data.length(),0===r.data.buffer.length)return e.push(null);var a=null,d=null,l=r.data.buffer;null!=e.s.bytesToSkip&&(a=e.s.bytesToSkip,e.s.bytesToSkip=0),i===e.s.expectedEnd&&null!=e.s.bytesToTrim&&(d=e.s.bytesToTrim),e.s.options.end&&e.s.options.end-e.s.bytesToSkip<r.data.length()&&(d=e.s.options.end-e.s.bytesToSkip),null==a&&null==d||(l=l.slice(a||0,d||l.length)),e.push(l)}})}function init(e){var t={};e.s.readPreference&&(t.readPreference=e.s.readPreference),e.s.options&&e.s.options.sort&&(t.sort=e.s.options.sort),e.s.options&&e.s.options.skip&&(t.skip=e.s.options.skip),e.s.files.findOne(e.s.filter,t,function(t,r){if(t)return __handleError(e,t);if(!r){var n=\"FileNotFound: file \"+(e.s.filter._id?e.s.filter._id.toString():e.s.filter.filename)+\" was not found\",i=new Error(n);return i.code=\"ENOENT\",__handleError(e,i)}if(r.length<=0)e.push(null);else if(e.destroyed)e.emit(\"close\");else{e.s.bytesToSkip=handleStartOption(e,r,e.s.options);var s={files_id:r._id};if(e.s.options&&null!=e.s.options.start){var o=Math.floor(e.s.options.start/r.chunkSize);o>0&&(s.n={$gte:o})}e.s.cursor=e.s.chunks.find(s).sort({n:1}),e.s.readPreference&&e.s.cursor.setReadPreference(e.s.readPreference),e.s.expectedEnd=Math.ceil(r.length/r.chunkSize),e.s.file=r,e.s.bytesToTrim=handleEndOption(e,r,e.s.cursor,e.s.options),e.emit(\"file\",r)}})}function waitForFile(e,t){if(e.s.file)return t();e.s.init||(init(e),e.s.init=!0),e.once(\"file\",function(){t()})}function handleStartOption(e,t,r){if(r&&null!=r.start){if(r.start>t.length)throw new Error(\"Stream start (\"+r.start+\") must not be more than the length of the file (\"+t.length+\")\");if(r.start<0)throw new Error(\"Stream start (\"+r.start+\") must not be negative\");if(null!=r.end&&r.end<r.start)throw new Error(\"Stream start (\"+r.start+\") must not be greater than stream end (\"+r.end+\")\");return e.s.bytesRead=Math.floor(r.start/t.chunkSize)*t.chunkSize,e.s.expected=Math.floor(r.start/t.chunkSize),r.start-e.s.bytesRead}}function handleEndOption(e,t,r,n){if(n&&null!=n.end){if(n.end>t.length)throw new Error(\"Stream end (\"+n.end+\") must not be more than the length of the file (\"+t.length+\")\");if(n.start<0)throw new Error(\"Stream end (\"+n.end+\") must not be negative\");var i=null!=n.start?Math.floor(n.start/t.chunkSize):0;return r.limit(Math.ceil(n.end/t.chunkSize)-i),e.s.expectedEnd=Math.ceil(n.end/t.chunkSize),Math.ceil(n.end/t.chunkSize)*t.chunkSize-n.end}}function __handleError(e,t){e.emit(\"error\",t)}","node_modules/mongodb/lib/gridfs-stream/upload.js":"var core=require(\"mongodb-core\"),crypto=require(\"crypto\"),stream=require(\"stream\"),util=require(\"util\"),ERROR_NAMESPACE_NOT_FOUND=26;module.exports=GridFSBucketWriteStream;function GridFSBucketWriteStream(e,t,n){if(n=n||{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=t,this.files=e.s._filesCollection,this.options=n,this.done=!1,this.id=n.id?n.id:core.BSON.ObjectId(),this.chunkSizeBytes=this.options.chunkSizeBytes,this.bufToStore=new Buffer(this.chunkSizeBytes),this.length=0,this.md5=crypto.createHash(\"md5\"),this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1,promiseLibrary:this.bucket.s.promiseLibrary},!this.bucket.s.calledOpenUploadStream){this.bucket.s.calledOpenUploadStream=!0;var r=this;checkIndexes(this,function(){r.bucket.s.checkedIndexes=!0,r.bucket.emit(\"index\")})}}util.inherits(GridFSBucketWriteStream,stream.Writable),GridFSBucketWriteStream.prototype.write=function(e,t,n){var r=this;return waitForIndexes(this,function(){return doWrite(r,e,t,n)})},GridFSBucketWriteStream.prototype.abort=function(e){if(this.state.streamEnd){var t=new Error(\"Cannot abort a stream that has already completed\");return\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t)}if(this.state.aborted)return t=new Error(\"Cannot call abort() on a stream twice\"),\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t);this.state.aborted=!0,this.chunks.deleteMany({files_id:this.id},function(t){\"function\"==typeof e&&e(t)})},GridFSBucketWriteStream.prototype.end=function(e,t,n){var r=this;\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),checkAborted(this,n)||(this.state.streamEnd=!0,n&&this.once(\"finish\",function(e){n(null,e)}),e?this.write(e,t,function(){writeRemnant(r)}):waitForIndexes(this,function(){writeRemnant(r)}))};function __handleError(e,t,n){if(!e.state.errored){if(e.state.errored=!0,n)return n(t);e.emit(\"error\",t)}}function createChunkDoc(e,t,n){return{_id:core.BSON.ObjectId(),files_id:e,n:t,data:n}}function checkChunksIndex(e,t){e.chunks.listIndexes().toArray(function(n,r){if(n){if(n.code===ERROR_NAMESPACE_NOT_FOUND){var i={files_id:1,n:1};return void e.chunks.createIndex(i,{background:!1,unique:!0},function(e){if(e)return t(e);t()})}return t(n)}var o=!1;if(r.forEach(function(e){if(e.key){2===Object.keys(e.key).length&&1===e.key.files_id&&1===e.key.n&&(o=!0)}}),o)t();else{i={files_id:1,n:1};var s=getWriteOptions(e);s.background=!1,s.unique=!0,e.chunks.createIndex(i,s,function(e){if(e)return t(e);t()})}})}function checkDone(e,t){if(e.done)return!0;if(e.state.streamEnd&&0===e.state.outstandingRequests&&!e.state.errored){e.done=!0;var n=createFilesDoc(e.id,e.length,e.chunkSizeBytes,e.md5.digest(\"hex\"),e.filename,e.options.contentType,e.options.aliases,e.options.metadata);return!checkAborted(e,t)&&(e.files.insert(n,getWriteOptions(e),function(r){if(r)return __handleError(e,r,t);e.emit(\"finish\",n)}),!0)}return!1}function checkIndexes(e,t){e.files.findOne({},{_id:1},function(n,r){return n?t(n):r?t():void e.files.listIndexes().toArray(function(n,r){if(n){if(n.code===ERROR_NAMESPACE_NOT_FOUND){var i={filename:1,uploadDate:1};return void e.files.createIndex(i,{background:!1},function(n){if(n)return t(n);checkChunksIndex(e,t)})}return t(n)}var o=!1;if(r.forEach(function(e){2===Object.keys(e.key).length&&1===e.key.filename&&1===e.key.uploadDate&&(o=!0)}),o)checkChunksIndex(e,t);else{i={filename:1,uploadDate:1};var s=getWriteOptions(e);s.background=!1,e.files.createIndex(i,s,function(n){if(n)return t(n);checkChunksIndex(e,t)})}})})}function createFilesDoc(e,t,n,r,i,o,s,c){var u={_id:e,length:t,chunkSize:n,uploadDate:new Date,md5:r,filename:i};return o&&(u.contentType=o),s&&(u.aliases=s),c&&(u.metadata=c),u}function doWrite(e,t,n,r){if(checkAborted(e,r))return!1;var i=Buffer.isBuffer(t)?t:new Buffer(t,n);if(e.length+=i.length,e.pos+i.length<e.chunkSizeBytes)return i.copy(e.bufToStore,e.pos),e.pos+=i.length,r&&r(),!0;for(var o=i.length,s=e.chunkSizeBytes-e.pos,c=Math.min(s,i.length),u=0;o>0;){var a=i.length-o;if(i.copy(e.bufToStore,e.pos,a,a+c),e.pos+=c,0===(s-=c)){e.md5.update(e.bufToStore);var d=createChunkDoc(e.id,e.n,e.bufToStore);if(++e.state.outstandingRequests,++u,checkAborted(e,r))return!1;e.chunks.insert(d,getWriteOptions(e),function(t){if(t)return __handleError(e,t);--e.state.outstandingRequests,--u||(e.emit(\"drain\",d),r&&r(),checkDone(e))}),s=e.chunkSizeBytes,e.pos=0,++e.n}o-=c,c=Math.min(s,o)}return!1}function getWriteOptions(e){var t={};return e.options.writeConcern&&(t.w=e.options.writeConcern.w,t.wtimeout=e.options.writeConcern.wtimeout,t.j=e.options.writeConcern.j),t}function waitForIndexes(e,t){return e.bucket.s.checkedIndexes?t(!1):(e.bucket.once(\"index\",function(){t(!0)}),!0)}function writeRemnant(e,t){if(0===e.pos)return checkDone(e,t);++e.state.outstandingRequests;var n=new Buffer(e.pos);e.bufToStore.copy(n,0,0,e.pos),e.md5.update(n);var r=createChunkDoc(e.id,e.n,n);if(checkAborted(e,t))return!1;e.chunks.insert(r,getWriteOptions(e),function(t){if(t)return __handleError(e,t);--e.state.outstandingRequests,checkDone(e)})}function checkAborted(e,t){return!!e.state.aborted&&(\"function\"==typeof t&&t(new Error(\"this stream has been aborted\")),!0)}","node_modules/mongoose/lib/types/decimal128.js":"module.exports=require(\"bson\").Decimal128;","node_modules/mongoose/lib/types/objectid.js":"var ObjectId=require(\"../drivers\").ObjectId;module.exports=ObjectId;","node_modules/regexp-clone/index.js":"var toString=Object.prototype.toString;function isRegExp(e){return\"object\"==typeof e&&\"[object RegExp]\"==toString.call(e)}module.exports=exports=function(e){if(!isRegExp(e))throw new TypeError(\"Not a RegExp\");var t=[];return e.global&&t.push(\"g\"),e.multiline&&t.push(\"m\"),e.ignoreCase&&t.push(\"i\"),new RegExp(e.source,t.join(\"\"))};","node_modules/sliced/index.js":"module.exports=function(r,t,e){var n=[],o=r.length;if(0===o)return n;var a=t<0?Math.max(0,t+o):t||0;for(void 0!==e&&(o=e<0?e+o:e);o-- >a;)n[o-a]=r[o];return n};","node_modules/ms/index.js":"var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if(\"string\"===r&&s.length>0)return parse(s);if(\"number\"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(s))};function parse(e){if(!((e=String(e)).length>100)){var r=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*y;case\"days\":case\"day\":case\"d\":return a*d;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*h;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*m;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+\"d\":e>=h?Math.round(e/h)+\"h\":e>=m?Math.round(e/m)+\"m\":e>=s?Math.round(e/s)+\"s\":e+\"ms\"}function fmtLong(e){return plural(e,d,\"day\")||plural(e,h,\"hour\")||plural(e,m,\"minute\")||plural(e,s,\"second\")||e+\" ms\"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+\" \"+r:Math.ceil(s/e)+\" \"+r+\"s\"}","node_modules/mpath/lib/index.js":"exports.get=function(r,t,e,i){var n;\"function\"==typeof e&&(e.length<2?(i=e,e=void 0):(n=e,e=void 0)),i||(i=K);var a=\"string\"==typeof r?r.split(\".\"):r;if(!Array.isArray(a))throw new TypeError(\"Invalid `path`. Must be either string or array\");for(var o,s=t,f=0;f<a.length;++f){if(o=a[f],Array.isArray(s)&&!/^\\d+$/.test(o)){var y=a.slice(f);return s.map(function(r){return r?exports.get(y,r,e||n,i):i(void 0)})}if(!(s=n?n(s,o):e&&s[e]?s[e][o]:s[o]))return i(s)}return i(s)},exports.has=function(r,t){var e=\"string\"==typeof r?r.split(\".\"):r;if(!Array.isArray(e))throw new TypeError(\"Invalid `path`. Must be either string or array\");for(var i=e.length,n=t,a=0;a<i;++a){if(null==n||\"object\"!=typeof n||!(e[a]in n))return!1;n=n[e[a]]}return!0},exports.unset=function(r,t){var e=\"string\"==typeof r?r.split(\".\"):r;if(!Array.isArray(e))throw new TypeError(\"Invalid `path`. Must be either string or array\");for(var i=e.length,n=t,a=0;a<i;++a){if(null==n||\"object\"!=typeof n||!(e[a]in n))return!1;if(a===i-1)return delete n[e[a]],!0;n=n[e[a]]}return!0},exports.set=function(r,t,e,i,n,a){var o;\"function\"==typeof i&&(i.length<2?(n=i,i=void 0):(o=i,i=void 0)),n||(n=K);var s=\"string\"==typeof r?r.split(\".\"):r;if(!Array.isArray(s))throw new TypeError(\"Invalid `path`. Must be either string or array\");if(null!=e){for(var f,y=a||/\\$/.test(r),l=e,p=0,u=s.length-1;p<u;++p)if(\"$\"!=(f=s[p])){if(Array.isArray(l)&&!/^\\d+$/.test(f)){var h=s.slice(p);if(!y&&Array.isArray(t))for(var v=0;v<l.length&&v<t.length;++v)exports.set(h,t[v],l[v],i||o,n,y);else for(v=0;v<l.length;++v)exports.set(h,t,l[v],i||o,n,y);return}if(!(l=o?o(l,f):i&&l[i]?l[i][f]:l[f]))return}else if(p==u-1)break;if(f=s[u],i&&l[i]&&(l=l[i]),Array.isArray(l)&&!/^\\d+$/.test(f))if(!y&&Array.isArray(t)){var g;for(v=0;v<l.length&&v<t.length;++v)(g=l[v])&&(o?o(g,f,n(t[v])):(g[i]&&(g=g[i]),g[f]=n(t[v])))}else for(v=0;v<l.length;++v)(g=l[v])&&(o?o(g,f,n(t)):(g[i]&&(g=g[i]),g[f]=n(t)));else o?o(l,f,n(t)):l[f]=n(t)}};function K(r){return r}","node_modules/mongoose/lib/schema/operators/exists.js":"\"use strict\";module.exports=function(e){if(\"boolean\"!=typeof e)throw new Error(\"$exists parameter must be a boolean!\");return e};","node_modules/mongoose/lib/schema/operators/type.js":"\"use strict\";module.exports=function(r){if(\"number\"!=typeof r&&\"string\"!=typeof r)throw new Error(\"$type parameter must be number or string\");return r};","node_modules/mongoose/lib/error/messages.js":"var msg=module.exports=exports={};msg.DocumentNotFoundError=null,msg.general={},msg.general.default=\"Validator failed for path `{PATH}` with value `{VALUE}`\",msg.general.required=\"Path `{PATH}` is required.\",msg.Number={},msg.Number.min=\"Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).\",msg.Number.max=\"Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).\",msg.Date={},msg.Date.min=\"Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).\",msg.Date.max=\"Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).\",msg.String={},msg.String.enum=\"`{VALUE}` is not a valid enum value for path `{PATH}`.\",msg.String.match=\"Path `{PATH}` is invalid ({VALUE}).\",msg.String.minlength=\"Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).\",msg.String.maxlength=\"Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH}).\";","node_modules/mongoose/lib/error/notFound.js":"\"use strict\";var MongooseError=require(\"../error.js\"),util=require(\"util\");function DocumentNotFoundError(o){var r,t=MongooseError.messages;r=null!=t.DocumentNotFoundError?\"function\"==typeof t.DocumentNotFoundError?t.DocumentNotFoundError(o):t.DocumentNotFoundError:'No document found for query \"'+util.inspect(o)+'\"',MongooseError.call(this,r),this.name=\"DocumentNotFoundError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.query=o}DocumentNotFoundError.prototype=Object.create(MongooseError.prototype),DocumentNotFoundError.prototype.constructor=MongooseError,module.exports=DocumentNotFoundError;","node_modules/mongoose/lib/error/validation.js":"var MongooseError=require(\"../error.js\"),utils=require(\"../utils\");function ValidationError(r){this.errors={},this._message=\"\",r&&\"model\"===r.constructor.name?(this._message=r.constructor.modelName+\" validation failed\",MongooseError.call(this,this._message)):(this._message=\"Validation failed\",MongooseError.call(this,this._message)),this.name=\"ValidationError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,r&&(r.errors=this.errors)}ValidationError.prototype=Object.create(MongooseError.prototype),ValidationError.prototype.constructor=MongooseError,ValidationError.prototype.toString=function(){return this.name+\": \"+_generateMessage(this)},ValidationError.prototype.inspect=function(){return utils.assign(new Error(this.message),this)},ValidationError.prototype.toJSON=function(){return utils.assign({},this,{message:this.message})},ValidationError.prototype.addError=function(r,e){this.errors[r]=e,this.message=this._message+\": \"+_generateMessage(this)};function _generateMessage(r){for(var e,o=Object.keys(r.errors||{}),t=o.length,s=[],i=0;i<t;++i)e=o[i],r!==r.errors[e]&&s.push(e+\": \"+r.errors[e].message);return s.join(\", \")}module.exports=exports=ValidationError;","node_modules/mongoose/lib/error/validator.js":"var MongooseError=require(\"../error.js\");function ValidatorError(r){var o=r.message;o||(o=MongooseError.messages.general.default);var e=this.formatMessage(o,r);MongooseError.call(this,e),this.name=\"ValidatorError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.properties=r,this.kind=r.type,this.path=r.path,this.value=r.value,this.reason=r.reason}ValidatorError.prototype=Object.create(MongooseError.prototype),ValidatorError.prototype.constructor=MongooseError,Object.defineProperty(ValidatorError.prototype,\"properties\",{enumerable:!1,writable:!0,value:null}),ValidatorError.prototype.formatMessage=function(r,o){for(var e=Object.keys(o),t=0;t<e.length;++t){var a=e[t];\"message\"!==a&&(r=r.replace(\"{\"+a.toUpperCase()+\"}\",o[a]))}return r},ValidatorError.prototype.toString=function(){return this.message},module.exports=ValidatorError;","node_modules/mongoose/lib/error/version.js":"\"use strict\";var MongooseError=require(\"../error.js\");function VersionError(r){MongooseError.call(this,'No matching document found for id \"'+r._id+'\"'),this.name=\"VersionError\"}VersionError.prototype=Object.create(MongooseError.prototype),VersionError.prototype.constructor=MongooseError,module.exports=VersionError;","node_modules/mongoose/lib/error/overwriteModel.js":"var MongooseError=require(\"../error.js\");function OverwriteModelError(r){MongooseError.call(this,\"Cannot overwrite `\"+r+\"` model once compiled.\"),this.name=\"OverwriteModelError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack}OverwriteModelError.prototype=Object.create(MongooseError.prototype),OverwriteModelError.prototype.constructor=MongooseError,module.exports=OverwriteModelError;","node_modules/mongoose/lib/error/missingSchema.js":"var MongooseError=require(\"../error.js\");function MissingSchemaError(r){var o=\"Schema hasn't been registered for model \\\"\"+r+'\".\\nUse mongoose.model(name, schema)';MongooseError.call(this,o),this.name=\"MissingSchemaError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack}MissingSchemaError.prototype=Object.create(MongooseError.prototype),MissingSchemaError.prototype.constructor=MongooseError,module.exports=MissingSchemaError;","node_modules/mongoose/lib/error/divergentArray.js":"var MongooseError=require(\"../error.js\");function DivergentArrayError(r){var e=\"For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\\n  \"+r.join(\"\\n  \")+\"\\nUse Model.update() to update these arrays instead.\";MongooseError.call(this,e),this.name=\"DivergentArrayError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack}DivergentArrayError.prototype=Object.create(MongooseError.prototype),DivergentArrayError.prototype.constructor=MongooseError,module.exports=DivergentArrayError;","node_modules/mongoose/lib/schema/string.js":"var Document,SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError,MongooseError=require(\"../error\"),utils=require(\"../utils\");function SchemaString(t,e){this.enumValues=[],this.regExp=null,SchemaType.call(this,t,e,\"String\")}SchemaString.schemaName=\"String\",SchemaString.prototype=Object.create(SchemaType.prototype),SchemaString.prototype.constructor=SchemaString,SchemaString.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(t){return t.validator!==this.enumValidator},this),this.enumValidator=!1),void 0===arguments[0]||!1===arguments[0])return this;var t,e;utils.isObject(arguments[0])?(t=arguments[0].values,e=arguments[0].message):(t=arguments,e=MongooseError.messages.String.enum);for(var r=0;r<t.length;r++)void 0!==t[r]&&this.enumValues.push(this.cast(t[r]));var n=this.enumValues;return this.enumValidator=function(t){return void 0===t||~n.indexOf(t)},this.validators.push({validator:this.enumValidator,message:e,type:\"enum\",enumValues:n}),this},SchemaString.prototype.lowercase=function(t){return arguments.length>0&&!t?this:this.set(function(t,e){return\"string\"!=typeof t&&(t=e.cast(t)),t?t.toLowerCase():t})},SchemaString.prototype.uppercase=function(t){return arguments.length>0&&!t?this:this.set(function(t,e){return\"string\"!=typeof t&&(t=e.cast(t)),t?t.toUpperCase():t})},SchemaString.prototype.trim=function(t){return arguments.length>0&&!t?this:this.set(function(t,e){return\"string\"!=typeof t&&(t=e.cast(t)),t?t.trim():t})},SchemaString.prototype.minlength=function(t,e){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(t){return t.validator!==this.minlengthValidator},this)),null!==t&&void 0!==t){var r=e||MongooseError.messages.String.minlength;r=r.replace(/{MINLENGTH}/,t),this.validators.push({validator:this.minlengthValidator=function(e){return null===e||e.length>=t},message:r,type:\"minlength\",minlength:t})}return this},SchemaString.prototype.maxlength=function(t,e){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(t){return t.validator!==this.maxlengthValidator},this)),null!==t&&void 0!==t){var r=e||MongooseError.messages.String.maxlength;r=r.replace(/{MAXLENGTH}/,t),this.validators.push({validator:this.maxlengthValidator=function(e){return null===e||e.length<=t},message:r,type:\"maxlength\",maxlength:t})}return this},SchemaString.prototype.match=function(t,e){var r=e||MongooseError.messages.String.match;return this.validators.push({validator:function(e){if(!t)return!1;return null==e||\"\"===e||t.test(e)},message:r,type:\"regexp\",regexp:t}),this},SchemaString.prototype.checkRequired=function(t,e){return SchemaType._isRef(this,t,e,!0)?!!t:(t instanceof String||\"string\"==typeof t)&&t.length},SchemaString.prototype.cast=function(t,e,r){if(SchemaType._isRef(this,t,e,r)){if(null===t||void 0===t)return t;if(Document||(Document=require(\"./../document\")),t instanceof Document)return t.$__.wasPopulated=!0,t;if(\"string\"==typeof t)return t;if(Buffer.isBuffer(t)||!utils.isObject(t))throw new CastError(\"string\",t,this.path);var n=e.$__fullPath(this.path),i=new((e.ownerDocument?e.ownerDocument():e).populated(n,!0).options.model)(t);return i.$__.wasPopulated=!0,i}if(null===t||void 0===t)return t;if(void 0!==t){if(t._id&&\"string\"==typeof t._id)return t._id;if(t.toString&&t.toString!==Object.prototype.toString)return t.toString()}throw new CastError(\"string\",t,this.path)};function handleSingle(t){return this.castForQuery(t)}function handleArray(t){var e=this;return Array.isArray(t)?t.map(function(t){return e.castForQuery(t)}):[this.castForQuery(t)]}SchemaString.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$all:handleArray,$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle,$options:handleSingle,$regex:handleSingle,$not:handleSingle}),SchemaString.prototype.castForQuery=function(t,e){var r;if(2===arguments.length){if(!(r=this.$conditionalHandlers[t]))throw new Error(\"Can't use \"+t+\" with String.\");return r.call(this,e)}return e=t,\"[object RegExp]\"===Object.prototype.toString.call(e)?e:this._castForQuery(e)},module.exports=SchemaString;","node_modules/mongoose/lib/schema/number.js":"var Document,SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError,handleBitwiseOperator=require(\"./operators/bitwise\"),MongooseError=require(\"../error\"),utils=require(\"../utils\");function SchemaNumber(e,r){SchemaType.call(this,e,r,\"Number\")}SchemaNumber.schemaName=\"Number\",SchemaNumber.prototype=Object.create(SchemaType.prototype),SchemaNumber.prototype.constructor=SchemaNumber,SchemaNumber.prototype.checkRequired=function(e,r){return SchemaType._isRef(this,e,r,!0)?!!e:\"number\"==typeof e||e instanceof Number},SchemaNumber.prototype.min=function(e,r){if(this.minValidator&&(this.validators=this.validators.filter(function(e){return e.validator!==this.minValidator},this)),null!==e&&void 0!==e){var t=r||MongooseError.messages.Number.min;t=t.replace(/{MIN}/,e),this.validators.push({validator:this.minValidator=function(r){return null==r||r>=e},message:t,type:\"min\",min:e})}return this},SchemaNumber.prototype.max=function(e,r){if(this.maxValidator&&(this.validators=this.validators.filter(function(e){return e.validator!==this.maxValidator},this)),null!==e&&void 0!==e){var t=r||MongooseError.messages.Number.max;t=t.replace(/{MAX}/,e),this.validators.push({validator:this.maxValidator=function(r){return null==r||r<=e},message:t,type:\"max\",max:e})}return this},SchemaNumber.prototype.cast=function(e,r,t){if(SchemaType._isRef(this,e,r,t)){if(null===e||void 0===e)return e;if(Document||(Document=require(\"./../document\")),e instanceof Document)return e.$__.wasPopulated=!0,e;if(\"number\"==typeof e)return e;if(Buffer.isBuffer(e)||!utils.isObject(e))throw new CastError(\"number\",e,this.path);var i=r.$__fullPath(this.path),a=new((r.ownerDocument?r.ownerDocument():r).populated(i,!0).options.model)(e);return a.$__.wasPopulated=!0,a}var n=e&&void 0!==e._id?e._id:e;if(!isNaN(n)){if(null===n)return n;if(\"\"===n)return null;if(\"string\"!=typeof n&&\"boolean\"!=typeof n||(n=Number(n)),n instanceof Number)return n;if(\"number\"==typeof n)return n;if(n.toString&&!Array.isArray(n)&&n.toString()==Number(n))return new Number(n)}throw new CastError(\"number\",e,this.path)};function handleSingle(e){return this.cast(e)}function handleArray(e){var r=this;return Array.isArray(e)?e.map(function(e){return r.cast(e)}):[this.cast(e)]}SchemaNumber.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$bitsAllClear:handleBitwiseOperator,$bitsAnyClear:handleBitwiseOperator,$bitsAllSet:handleBitwiseOperator,$bitsAnySet:handleBitwiseOperator,$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle,$mod:handleArray}),SchemaNumber.prototype.castForQuery=function(e,r){var t;if(2===arguments.length){if(!(t=this.$conditionalHandlers[e]))throw new Error(\"Can't use \"+e+\" with Number.\");return t.call(this,r)}return r=this._castForQuery(e)},module.exports=SchemaNumber;","node_modules/mongoose/lib/schema/boolean.js":"var utils=require(\"../utils\"),SchemaType=require(\"../schematype\");function SchemaBoolean(e,o){SchemaType.call(this,e,o,\"Boolean\")}SchemaBoolean.schemaName=\"Boolean\",SchemaBoolean.prototype=Object.create(SchemaType.prototype),SchemaBoolean.prototype.constructor=SchemaBoolean,SchemaBoolean.prototype.checkRequired=function(e){return!0===e||!1===e},SchemaBoolean.prototype.cast=function(e){return null===e?e:\"0\"!==e&&(\"true\"===e||\"false\"!==e&&!!e)},SchemaBoolean.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{}),SchemaBoolean.prototype.castForQuery=function(e,o){var a;return 2===arguments.length?(a=SchemaBoolean.$conditionalHandlers[e])?a.call(this,o):this._castForQuery(o):this._castForQuery(e)},module.exports=SchemaBoolean;","node_modules/mongoose/lib/schema/documentarray.js":"var ArrayType=require(\"./array\"),CastError=require(\"../error/cast\"),Document=require(\"../document\"),EventEmitter=require(\"events\").EventEmitter,MongooseDocumentArray=require(\"../types/documentarray\"),SchemaType=require(\"../schematype\"),Subdocument=require(\"../types/embedded\"),discriminator=require(\"../services/model/discriminator\"),util=require(\"util\"),utils=require(\"../utils\");function DocumentArray(t,r,e){var o=_createConstructor(r,e);ArrayType.call(this,t,o,e),this.schema=r,this.$isMongooseDocumentArray=!0;var i=this.defaultValue;\"defaultValue\"in this&&void 0===i||this.default(function(){var t=i.call(this);return Array.isArray(t)||(t=[t]),t})}DocumentArray.schemaName=\"DocumentArray\",DocumentArray.prototype=Object.create(ArrayType.prototype),DocumentArray.prototype.constructor=DocumentArray;function _createConstructor(t,r){function e(){Subdocument.apply(this,arguments)}(e.prototype=Object.create(Subdocument.prototype)).$__setSchema(t),e.schema=t,e.prototype.constructor=e,e.$isArraySubdocument=!0;for(var o in t.methods)e.prototype[o]=t.methods[o];for(o in t.statics)e[o]=t.statics[o];for(o in EventEmitter.prototype)e[o]=EventEmitter.prototype[o];return e.options=r,e}DocumentArray.prototype.discriminator=function(t,r){\"function\"==typeof t&&(t=utils.getFunctionName(t));var e=_createConstructor(r=discriminator(this.casterConstructor,t,r));e.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(e,\"name\",{value:t})}catch(t){}return this.casterConstructor.discriminators[t]=e,this.casterConstructor.discriminators[t]},DocumentArray.prototype.doValidate=function(t,r,e,o){var i=this;SchemaType.prototype.doValidate.call(this,t,function(n){if(n)return r(n);var a,s=t&&t.length;if(!s)return r();if(o&&o.updateValidator)return r();t.isMongooseDocumentArray||(t=new MongooseDocumentArray(t,i.path,e));function c(t){t&&(a=t),--s||r(a)}for(var u=0,m=s;u<m;++u){var d=t[u];d?(d instanceof Subdocument||(d=t[u]=new i.casterConstructor(d,t,void 0,void 0,u)),d.$__original_validate?d.$__original_validate({__noPromise:!0},c):d.validate({__noPromise:!0},c)):--s||r(a)}},e)},DocumentArray.prototype.doValidateSync=function(t,r){var e=SchemaType.prototype.doValidateSync.call(this,t,r);if(e)return e;var o=t&&t.length,i=null;if(o){for(var n=0,a=o;n<a&&!i;++n){var s=t[n];if(s){s instanceof Subdocument||(s=t[n]=new this.casterConstructor(s,t,void 0,void 0,n));var c=s.validateSync();c&&(i=c)}}return i}},DocumentArray.prototype.cast=function(t,r,e,o,i){var n,a,s,c={transform:!1,virtuals:!1};if(!Array.isArray(t))return r&&e&&r.markModified(this.path),this.cast([t],r,e,o);if(t&&t.isMongooseDocumentArray||i&&i.skipDocumentArrayCast)t&&t.isMongooseDocumentArray&&(t=new MongooseDocumentArray(t,this.path,r));else if(t=new MongooseDocumentArray(t,this.path,r),o&&o._handlers)for(var u in o._handlers)r.removeListener(u,o._handlers[u]);for(s=t.length;s--;)if(t[s]){var m=this.casterConstructor;if(m.discriminators&&\"string\"==typeof t[s][m.schema.options.discriminatorKey]&&m.discriminators[t[s][m.schema.options.discriminatorKey]]&&(m=m.discriminators[t[s][m.schema.options.discriminatorKey]]),t[s]instanceof Document&&t[s].schema!==m.schema&&(t[s]=t[s].toObject({transform:!1,virtuals:!1})),!(t[s]instanceof Subdocument)&&t[s])if(e)r?n||(n=scopePaths(this,r.$__.selected,e)):n=!0,a=new m(null,t,!0,n,s),t[s]=a.init(t[s]);else if(o&&(a=o.id(t[s]._id))&&(a=o.id(t[s]._id)),o&&a&&utils.deepEqual(a.toObject(c),t[s]))a.set(t[s]),t[s]=a;else try{a=new m(t[s],t,void 0,void 0,s),t[s]=a}catch(r){var d=util.inspect(t[s]);throw new CastError(\"embedded\",d,t._path,r)}}return t};function scopePaths(t,r,e){if(e&&r){for(var o,i,n,a=t.path+\".\",s=Object.keys(r),c=s.length,u={};c--;)if(0===(i=s[c]).indexOf(a)){if(\"$\"===(n=i.substring(a.length)))continue;0===n.indexOf(\"$.\")&&(n=n.substr(2)),o||(o=!0),u[n]=r[i]}return o&&u||void 0}}module.exports=DocumentArray;","node_modules/mongoose/lib/schema/embedded.js":"\"use strict\";var $exists=require(\"./operators/exists\"),EventEmitter=require(\"events\").EventEmitter,SchemaType=require(\"../schematype\"),Subdocument=require(\"../types/subdocument\"),castToNumber=require(\"./operators/helpers\").castToNumber,geospatial=require(\"./operators/geospatial\");module.exports=Embedded;function Embedded(e,t,o){var r=function(e,t,o){var r=this;Subdocument.apply(this,arguments),this.$parent=o,o&&(o.on(\"save\",function(){r.emit(\"save\",r),r.constructor.emit(\"save\",r)}),o.on(\"isNew\",function(e){r.isNew=e,r.emit(\"isNew\",e),r.constructor.emit(\"isNew\",e)}))};(r.prototype=Object.create(Subdocument.prototype)).$__setSchema(e),r.prototype.constructor=r,r.schema=e,r.$isSingleNested=!0,r.prototype.$basePath=t,r.prototype.toBSON=function(){return this.toObject({transform:!1,retainKeyOrder:!0,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})};for(var i in e.methods)r.prototype[i]=e.methods[i];for(i in e.statics)r[i]=e.statics[i];for(i in EventEmitter.prototype)r[i]=EventEmitter.prototype[i];this.caster=r,this.schema=e,this.$isSingleNested=!0,SchemaType.call(this,t,o,\"Embedded\")}Embedded.prototype=Object.create(SchemaType.prototype),Embedded.prototype.$conditionalHandlers.$geoWithin=function(e){return{$geometry:this.castForQuery(e.$geometry)}},Embedded.prototype.$conditionalHandlers.$near=Embedded.prototype.$conditionalHandlers.$nearSphere=geospatial.cast$near,Embedded.prototype.$conditionalHandlers.$within=Embedded.prototype.$conditionalHandlers.$geoWithin=geospatial.cast$within,Embedded.prototype.$conditionalHandlers.$geoIntersects=geospatial.cast$geoIntersects,Embedded.prototype.$conditionalHandlers.$minDistance=castToNumber,Embedded.prototype.$conditionalHandlers.$maxDistance=castToNumber,Embedded.prototype.$conditionalHandlers.$exists=$exists,Embedded.prototype.cast=function(e,t,o,r){if(e&&e.$isSingleNested)return e;var i;if(o)(i=new this.caster(void 0,t?t.$__.selected:void 0,t)).init(e);else{if(0===Object.keys(e).length)return new this.caster({},t?t.$__.selected:void 0,t);if(r&&r.$isSingleNested){var s=r.toObject({minimize:!0,transform:!1,virtuals:!1,getters:!1});i=new this.caster(s,t?t.$__.selected:void 0,t)}else i=new this.caster(void 0,t?t.$__.selected:void 0,t);i.set(e,void 0,!1)}return i},Embedded.prototype.castForQuery=function(e,t){var o;if(2===arguments.length){if(!(o=this.$conditionalHandlers[e]))throw new Error(\"Can't use \"+e);return o.call(this,t)}return null==(t=e)?t:(this.options.runSetters&&(t=this._applySetters(t)),new this.caster(t))},Embedded.prototype.doValidate=function(e,t,o){var r=this.caster;SchemaType.prototype.doValidate.call(this,e,function(o){return o?t(o):e?(e instanceof r||(e=new r(e)),void e.validate({__noPromise:!0},t)):t(null)},o)},Embedded.prototype.doValidateSync=function(e,t){var o=SchemaType.prototype.doValidateSync.call(this,e,t);if(o)return o;if(e)return e.validateSync()};","node_modules/mongoose/lib/schema/array.js":"var $exists=require(\"./operators/exists\"),$type=require(\"./operators/type\"),SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError,Types={Array:SchemaArray,Boolean:require(\"./boolean\"),Date:require(\"./date\"),Number:require(\"./number\"),String:require(\"./string\"),ObjectId:require(\"./objectid\"),Buffer:require(\"./buffer\")},MongooseArray=require(\"../types\").Array,EmbeddedDoc=require(\"../types\").Embedded,Mixed=require(\"./mixed\"),cast=require(\"../cast\"),util=require(\"util\"),utils=require(\"../utils\"),castToNumber=require(\"./operators/helpers\").castToNumber,geospatial=require(\"./operators/geospatial\");function SchemaArray(e,r,t,a){var s=\"type\";if(a&&a.typeKey&&(s=a.typeKey),r){var i={};\"Object\"===utils.getFunctionName(r.constructor)&&(r[s]?(delete(i=utils.clone(r))[s],r=r[s]):r=Mixed);var n=\"string\"==typeof r?r:utils.getFunctionName(r),o=n in Types?Types[n]:r;this.casterConstructor=o,\"function\"!=typeof o||o.$isArraySubdocument?this.caster=o:this.caster=new o(null,i),this.caster instanceof EmbeddedDoc||(this.caster.path=e)}this.$isMongooseArray=!0,SchemaType.call(this,e,t,\"Array\");var c,h;null!=this.defaultValue&&(c=this.defaultValue,h=\"function\"==typeof c),\"defaultValue\"in this&&void 0===this.defaultValue||this.default(function(){var e=[];return h?e=c():null!=c&&(e=c),e})}SchemaArray.schemaName=\"Array\",SchemaArray.prototype=Object.create(SchemaType.prototype),SchemaArray.prototype.constructor=SchemaArray,SchemaArray.prototype.checkRequired=function(e){return!(!e||!e.length)},SchemaArray.prototype.applyGetters=function(e,r){return this.caster.options&&this.caster.options.ref?e:SchemaType.prototype.applyGetters.call(this,e,r)},SchemaArray.prototype.cast=function(e,r,t){if(Array.isArray(e)){if(!e.length&&r)for(var a=r.schema.indexedPaths(),s=0,i=a.length;s<i;++s){var n=a[s][0][this.path];if(\"2dsphere\"===n||\"2d\"===n)return}if(e&&e.isMongooseArray?e&&e.isMongooseArray&&(e=new MongooseArray(e,this.path,r)):e=new MongooseArray(e,this.path,r),this.caster)try{for(s=0,i=e.length;s<i;s++)e[s]=this.caster.cast(e[s],r,t)}catch(r){throw new CastError(\"[\"+r.kind+\"]\",util.inspect(e),this.path,r)}return e}return r&&t&&r.markModified(this.path),this.cast([e],r,t)},SchemaArray.prototype.castForQuery=function(e,r){var t,a;if(2===arguments.length){if(!(t=this.$conditionalHandlers[e]))throw new Error(\"Can't use \"+e+\" with Array.\");a=t.call(this,r)}else{a=e;var s=this.casterConstructor;a&&s.discriminators&&s.schema.options.discriminatorKey&&\"string\"==typeof a[s.schema.options.discriminatorKey]&&s.discriminators[a[s.schema.options.discriminatorKey]]&&(s=s.discriminators[a[s.schema.options.discriminatorKey]]);var i=this.casterConstructor.prototype,n=i&&(i.castForQuery||i.cast);!n&&s.castForQuery&&(n=s.castForQuery);var o=this.caster;Array.isArray(a)?a=a.map(function(e){return utils.isObject(e)&&e.$elemMatch?e:n?e=n.call(o,e):null!=e?e=new s(e):e}):n?a=n.call(o,a):null!=a&&(a=new s(a))}return a};function cast$all(e){return Array.isArray(e)||(e=[e]),e=e.map(function(e){if(utils.isObject(e)){var r={};return r[this.path]=e,cast(this.casterConstructor.schema,r)[this.path]}return e},this),this.castForQuery(e)}function cast$elemMatch(e){for(var r,t,a=Object.keys(e),s=a.length,i=0;i<s;++i)t=e[r=a[i]],0===r.indexOf(\"$\")&&t&&(e[r]=this.castForQuery(r,t));return cast(this.casterConstructor.schema,e)}var handle=SchemaArray.prototype.$conditionalHandlers={};handle.$all=cast$all,handle.$options=String,handle.$elemMatch=cast$elemMatch,handle.$geoIntersects=geospatial.cast$geoIntersects,handle.$or=handle.$and=function(e){if(!Array.isArray(e))throw new TypeError(\"conditional $or/$and require array\");for(var r=[],t=0;t<e.length;++t)r.push(cast(this.casterConstructor.schema,e[t]));return r},handle.$near=handle.$nearSphere=geospatial.cast$near,handle.$within=handle.$geoWithin=geospatial.cast$within,handle.$size=handle.$minDistance=handle.$maxDistance=castToNumber,handle.$exists=$exists,handle.$type=$type,handle.$eq=handle.$gt=handle.$gte=handle.$in=handle.$lt=handle.$lte=handle.$ne=handle.$nin=handle.$regex=SchemaArray.prototype.castForQuery,module.exports=SchemaArray;","node_modules/mongoose/lib/schema/buffer.js":"var Document,handleBitwiseOperator=require(\"./operators/bitwise\"),utils=require(\"../utils\"),MongooseBuffer=require(\"../types\").Buffer,SchemaType=require(\"../schematype\"),Binary=MongooseBuffer.Binary,CastError=SchemaType.CastError;function SchemaBuffer(e,r){SchemaType.call(this,e,r,\"Buffer\")}SchemaBuffer.schemaName=\"Buffer\",SchemaBuffer.prototype=Object.create(SchemaType.prototype),SchemaBuffer.prototype.constructor=SchemaBuffer,SchemaBuffer.prototype.checkRequired=function(e,r){return SchemaType._isRef(this,e,r,!0)?!!e:!(!e||!e.length)},SchemaBuffer.prototype.cast=function(e,r,t){var o;if(SchemaType._isRef(this,e,r,t)){if(null===e||void 0===e)return e;if(Document||(Document=require(\"./../document\")),e instanceof Document)return e.$__.wasPopulated=!0,e;if(Buffer.isBuffer(e))return e;if(!utils.isObject(e))throw new CastError(\"buffer\",e,this.path);var n=r.$__fullPath(this.path);return o=new((r.ownerDocument?r.ownerDocument():r).populated(n,!0).options.model)(e),o.$__.wasPopulated=!0,o}if(e&&e._id&&(e=e._id),e&&e.isMongooseBuffer)return e;if(Buffer.isBuffer(e))return e&&e.isMongooseBuffer||(e=new MongooseBuffer(e,[this.path,r])),e;if(e instanceof Binary){if(o=new MongooseBuffer(e.value(!0),[this.path,r]),\"number\"!=typeof e.sub_type)throw new CastError(\"buffer\",e,this.path);return o._subtype=e.sub_type,o}if(null===e)return e;var i=typeof e;if(\"string\"===i||\"number\"===i||Array.isArray(e))return\"number\"===i&&(e=[e]),o=new MongooseBuffer(e,[this.path,r]);throw new CastError(\"buffer\",e,this.path)};function handleSingle(e){return this.castForQuery(e)}SchemaBuffer.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$bitsAllClear:handleBitwiseOperator,$bitsAnyClear:handleBitwiseOperator,$bitsAllSet:handleBitwiseOperator,$bitsAnySet:handleBitwiseOperator,$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle}),SchemaBuffer.prototype.castForQuery=function(e,r){var t;if(2===arguments.length){if(!(t=this.$conditionalHandlers[e]))throw new Error(\"Can't use \"+e+\" with Buffer.\");return t.call(this,r)}r=e;var o=this._castForQuery(r);return o?o.toObject({transform:!1,virtuals:!1}):o},module.exports=SchemaBuffer;","node_modules/mongoose/lib/schema/date.js":"var MongooseError=require(\"../error\"),utils=require(\"../utils\"),SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError;function SchemaDate(t,e){SchemaType.call(this,t,e,\"Date\")}SchemaDate.schemaName=\"Date\",SchemaDate.prototype=Object.create(SchemaType.prototype),SchemaDate.prototype.constructor=SchemaDate,SchemaDate.prototype.expires=function(t){return this._index&&\"Object\"===this._index.constructor.name||(this._index={}),this._index.expires=t,utils.expires(this._index),this},SchemaDate.prototype.checkRequired=function(t){return t instanceof Date},SchemaDate.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(t){return t.validator!==this.minValidator},this)),t){var a=e||MongooseError.messages.Date.min;a=a.replace(/{MIN}/,t===Date.now?\"Date.now()\":this.cast(t).toString());var r=this;this.validators.push({validator:this.minValidator=function(e){var a=t===Date.now?t():r.cast(t);return null===e||e.valueOf()>=a.valueOf()},message:a,type:\"min\",min:t})}return this},SchemaDate.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(t){return t.validator!==this.maxValidator},this)),t){var a=e||MongooseError.messages.Date.max;a=a.replace(/{MAX}/,t===Date.now?\"Date.now()\":this.cast(t).toString());var r=this;this.validators.push({validator:this.maxValidator=function(e){var a=t===Date.now?t():r.cast(t);return null===e||e.valueOf()<=a.valueOf()},message:a,type:\"max\",max:t})}return this},SchemaDate.prototype.cast=function(t){if(null===t||void 0===t||\"\"===t)return null;if(t instanceof Date){if(isNaN(t.valueOf()))throw new CastError(\"date\",t,this.path);return t}var e;if(\"boolean\"==typeof t)throw new CastError(\"date\",t,this.path);if(t instanceof Number||\"number\"==typeof t||String(t)==Number(t)?e=new Date(Number(t)):t.valueOf&&(e=new Date(t.valueOf())),!isNaN(e.valueOf()))return e;throw new CastError(\"date\",t,this.path)};function handleSingle(t){return this.cast(t)}SchemaDate.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle}),SchemaDate.prototype.castForQuery=function(t,e){var a;if(2!==arguments.length)return this._castForQuery(t);if(!(a=this.$conditionalHandlers[t]))throw new Error(\"Can't use \"+t+\" with Date.\");return a.call(this,e)},module.exports=SchemaDate;","node_modules/mongoose/lib/schema/objectid.js":"var Document,SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError,oid=require(\"../types/objectid\"),utils=require(\"../utils\");function ObjectId(t,e){var o=\"string\"==typeof t&&/^a-f0-9$/i.test(t),n=e&&e.suppressWarning;!o&&void 0!==t||n||(console.warn(\"mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema.\"),console.trace()),SchemaType.call(this,t,e,\"ObjectID\")}ObjectId.schemaName=\"ObjectId\",ObjectId.prototype=Object.create(SchemaType.prototype),ObjectId.prototype.constructor=ObjectId,ObjectId.prototype.auto=function(t){return t&&(this.default(defaultId),this.set(resetId)),this},ObjectId.prototype.checkRequired=function(t,e){return SchemaType._isRef(this,t,e,!0)?!!t:t instanceof oid},ObjectId.prototype.cast=function(t,e,o){if(SchemaType._isRef(this,t,e,o)){if(null===t||void 0===t)return t;if(Document||(Document=require(\"./../document\")),t instanceof Document)return t.$__.wasPopulated=!0,t;if(t instanceof oid)return t;if(\"objectid\"===(t.constructor.name||\"\").toLowerCase())return new oid(t.toHexString());if(Buffer.isBuffer(t)||!utils.isObject(t))throw new CastError(\"ObjectId\",t,this.path);var n=e.$__fullPath(this.path),r=(e.ownerDocument?e.ownerDocument():e).populated(n,!0),i=t;return e.$__.populated&&e.$__.populated[n]&&e.$__.populated[n].options&&e.$__.populated[n].options.options&&e.$__.populated[n].options.options.lean||((i=new r.options.model(t)).$__.wasPopulated=!0),i}if(null===t||void 0===t)return t;if(t instanceof oid)return t;if(t._id){if(t._id instanceof oid)return t._id;if(t._id.toString instanceof Function)try{return new oid(t._id.toString())}catch(t){}}if(t.toString instanceof Function)try{return new oid(t.toString())}catch(e){throw new CastError(\"ObjectId\",t,this.path)}throw new CastError(\"ObjectId\",t,this.path)};function handleSingle(t){return this.cast(t)}ObjectId.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle}),ObjectId.prototype.castForQuery=function(t,e){var o;if(2===arguments.length){if(!(o=this.$conditionalHandlers[t]))throw new Error(\"Can't use \"+t+\" with ObjectId.\");return o.call(this,e)}return this._castForQuery(t)};function defaultId(){return new oid}function resetId(t){if(Document||(Document=require(\"./../document\")),void 0===t){var e=new oid;return this.$__._id=e,e}return this instanceof Document&&(this.$__._id=t),t}module.exports=ObjectId;","node_modules/mongoose/lib/schema/mixed.js":"var SchemaType=require(\"../schematype\"),utils=require(\"../utils\");function Mixed(e,t){if(t&&t.default){var r=t.default;Array.isArray(r)&&0===r.length?t.default=Array:!t.shared&&utils.isObject(r)&&0===Object.keys(r).length&&(t.default=function(){return{}})}SchemaType.call(this,e,t,\"Mixed\")}Mixed.schemaName=\"Mixed\",Mixed.prototype=Object.create(SchemaType.prototype),Mixed.prototype.constructor=Mixed,Mixed.prototype.cast=function(e){return e},Mixed.prototype.castForQuery=function(e,t){return 2===arguments.length?t:e},module.exports=Mixed;","node_modules/mongoose/lib/schema/decimal128.js":"var Document,SchemaType=require(\"../schematype\"),CastError=SchemaType.CastError,Decimal128Type=require(\"../types/decimal128\"),utils=require(\"../utils\");function Decimal128(e,t){SchemaType.call(this,e,t,\"Decimal128\")}Decimal128.schemaName=\"Decimal128\",Decimal128.prototype=Object.create(SchemaType.prototype),Decimal128.prototype.constructor=Decimal128,Decimal128.prototype.checkRequired=function(e,t){return SchemaType._isRef(this,e,t,!0)?!!e:e instanceof Decimal128Type},Decimal128.prototype.cast=function(e,t,i){if(SchemaType._isRef(this,e,t,i)){if(null===e||void 0===e)return e;if(Document||(Document=require(\"./../document\")),e instanceof Document)return e.$__.wasPopulated=!0,e;if(e instanceof Decimal128Type)return e;if(Buffer.isBuffer(e)||!utils.isObject(e))throw new CastError(\"Decimal128\",e,this.path);var o=t.$__fullPath(this.path),r=(t.ownerDocument?t.ownerDocument():t).populated(o,!0),n=e;return t.$__.populated&&t.$__.populated[o]&&t.$__.populated[o].options&&t.$__.populated[o].options.options&&t.$__.populated[o].options.options.lean||((n=new r.options.model(e)).$__.wasPopulated=!0),n}if(null==e)return e;if(\"object\"==typeof e&&\"string\"==typeof e.$numberDecimal)return Decimal128Type.fromString(e.$numberDecimal);if(e instanceof Decimal128Type)return e;if(\"string\"==typeof e)return Decimal128Type.fromString(e);if(Buffer.isBuffer(e))return new Decimal128Type(e);throw new CastError(\"Decimal128\",e,this.path)};function handleSingle(e){return this.cast(e)}Decimal128.prototype.$conditionalHandlers=utils.options(SchemaType.prototype.$conditionalHandlers,{$gt:handleSingle,$gte:handleSingle,$lt:handleSingle,$lte:handleSingle}),module.exports=Decimal128;","node_modules/mongoose/lib/schema/operators/bitwise.js":"var CastError=require(\"../../error/cast\");function handleBitwiseOperator(r){var e=this;return Array.isArray(r)?r.map(function(r){return _castNumber(e.path,r)}):Buffer.isBuffer(r)?r:_castNumber(e.path,r)}function _castNumber(r,e){var t=Number(e);if(isNaN(t))throw new CastError(\"number\",e,r);return t}module.exports=handleBitwiseOperator;","node_modules/mongoose/lib/types/documentarray.js":"var MongooseArray=require(\"./array\"),ObjectId=require(\"./objectid\"),ObjectIdSchema=require(\"../schema/objectid\"),utils=require(\"../utils\"),Document=require(\"../document\");function MongooseDocumentArray(t,e,r){var i=[].concat(t);i._path=e;for(var n={isMongooseArray:!0,isMongooseDocumentArray:!0,validators:[],_atomics:{},_schema:void 0,_handlers:void 0},o=Object.keys(MongooseArray.mixin),s=o.length,a=0;a<s;++a)i[o[a]]=MongooseArray.mixin[o[a]];var c=Object.keys(MongooseDocumentArray.mixin);s=c.length;for(var u=0;u<s;++u)i[c[u]]=MongooseDocumentArray.mixin[c[u]];var m=Object.keys(n);s=m.length;for(var h=0;h<s;++h)i[m[h]]=n[m[h]];return r&&r instanceof Document&&(i._parent=r,i._schema=r.schema.path(e),i._handlers={isNew:i.notify(\"isNew\"),save:i.notify(\"save\")},r.on(\"save\",i._handlers.save),r.on(\"isNew\",i._handlers.isNew)),i}MongooseDocumentArray.mixin={toBSON:function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},_cast:function(t,e){var r=this._schema.casterConstructor;return t instanceof r||t&&t.constructor&&t.constructor.baseCasterConstructor===r?(t.__parent&&t.__parentArray||(t.__parent=this._parent,t.__parentArray=this),t.__index=e,t):void 0===t||null===t?null:((Buffer.isBuffer(t)||t instanceof ObjectId||!utils.isObject(t))&&(t={_id:t}),t&&r.discriminators&&r.schema.options.discriminatorKey&&\"string\"==typeof t[r.schema.options.discriminatorKey]&&r.discriminators[t[r.schema.options.discriminatorKey]]&&(r=r.discriminators[t[r.schema.options.discriminatorKey]]),new r(t,this,void 0,void 0,e))},id:function(t){var e,r,i;try{var n=ObjectIdSchema.prototype.cast.call({},t);n&&(e=String(n))}catch(t){e=null}for(var o=0,s=this.length;o<s;o++)if(this[o]&&null!==(i=this[o].get(\"_id\"))&&void 0!==i)if(i instanceof Document){if(r||(r=String(t)),r==i._id)return this[o]}else if(t instanceof ObjectId||i instanceof ObjectId){if(e==i)return this[o]}else if(utils.deepEqual(t,i))return this[o];return null},toObject:function(t){return this.map(function(e){return e&&e.toObject(t)||null})},inspect:function(){return Array.prototype.slice.call(this)},create:function(t){var e=this._schema.casterConstructor;return t&&e.discriminators&&e.schema.options.discriminatorKey&&\"string\"==typeof t[e.schema.options.discriminatorKey]&&e.discriminators[t[e.schema.options.discriminatorKey]]&&(e=e.discriminators[t[e.schema.options.discriminatorKey]]),new e(t)},notify:function(t){var e=this;return function(r){for(var i=e.length;i--;)if(e[i]){switch(t){case\"save\":r=e[i]}e[i].emit(t,r)}}}},module.exports=MongooseDocumentArray;","node_modules/mongoose/lib/types/embedded.js":"var Document=require(\"../document_provider\")(),EventEmitter=require(\"events\").EventEmitter,PromiseProvider=require(\"../promise_provider\");function EmbeddedDocument(t,e,r,o,n){e?(this.__parentArray=e,this.__parent=e._parent):(this.__parentArray=void 0,this.__parent=void 0),this.__index=n,Document.call(this,t,o,r);var i=this;this.on(\"isNew\",function(t){i.isNew=t}),i.on(\"save\",function(){i.constructor.emit(\"save\",i)})}EmbeddedDocument.prototype=Object.create(Document.prototype),EmbeddedDocument.prototype.constructor=EmbeddedDocument;for(var i in EventEmitter.prototype)EmbeddedDocument[i]=EventEmitter.prototype[i];EmbeddedDocument.prototype.toBSON=function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},EmbeddedDocument.prototype.markModified=function(t){this.$__.activePaths.modify(t),this.__parentArray&&(this.isNew?this.__parentArray._markModified():this.__parentArray._markModified(this,t))},EmbeddedDocument.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate(\"path\")`, use `doc.populate(\"arr.0.path\")`')},EmbeddedDocument.prototype.save=function(t){return new(PromiseProvider.get().ES6)(function(e){t&&t(),e()})};function registerRemoveListener(t){var e=t.ownerDocument();function r(){e.removeListener(\"save\",r),e.removeListener(\"remove\",r),t.emit(\"remove\",t),t.constructor.emit(\"remove\",t),e=t=null}e.on(\"save\",r),e.on(\"remove\",r)}EmbeddedDocument.prototype.remove=function(t,e){if(\"function\"!=typeof t||e||(e=t,t=void 0),!this.__parentArray||t&&t.noop)return e&&e(null),this;var r;if(!this.willRemove){if(!(r=this._doc._id))throw new Error(\"For your own good, Mongoose does not know how to remove an EmbeddedDocument that has no _id\");this.__parentArray.pull({_id:r}),this.willRemove=!0,registerRemoveListener(this)}return e&&e(null),this},EmbeddedDocument.prototype.update=function(){throw new Error(\"The #update method is not available on EmbeddedDocuments\")},EmbeddedDocument.prototype.inspect=function(){return this.toObject({transform:!1,retainKeyOrder:!0,virtuals:!1,flattenDecimals:!1})},EmbeddedDocument.prototype.invalidate=function(t,e,r,o){if(!this.__parent){if(Document.prototype.invalidate.call(this,t,e,r),e.$isValidatorError)return!0;throw e}var n=this.__index;if(void 0!==n){var i=[this.__parentArray._path,n,t].join(\".\");this.__parent.invalidate(i,e,r)}return o&&(this.$__.validationError=this.ownerDocument().$__.validationError),!0},EmbeddedDocument.prototype.$markValid=function(t){if(this.__parent){var e=this.__index;if(void 0!==e){var r=[this.__parentArray._path,e,t].join(\".\");this.__parent.$markValid(r)}}},EmbeddedDocument.prototype.$isValid=function(t){return void 0===this.__index||!this.__parent||(!this.__parent.$__.validationError||!this.__parent.$__.validationError.errors[this.$__fullPath(t)])},EmbeddedDocument.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var t=this.__parent;if(!t)return this;for(;t.__parent||t.$parent;)t=t.__parent||t.$parent;return this.$__.ownerDocument=t,this.$__.ownerDocument},EmbeddedDocument.prototype.$__fullPath=function(t){if(!this.$__.fullPath){var e=this;if(!e.__parent)return t;for(var r=[];e.__parent||e.$parent;)e.__parent?r.unshift(e.__parentArray._path):r.unshift(e.$basePath),e=e.__parent||e.$parent;this.$__.fullPath=r.join(\".\"),this.$__.ownerDocument||(this.$__.ownerDocument=e)}return t?this.$__.fullPath+\".\"+t:this.$__.fullPath},EmbeddedDocument.prototype.parent=function(){return this.__parent},EmbeddedDocument.prototype.parentArray=function(){return this.__parentArray},module.exports=EmbeddedDocument;","node_modules/mongoose/lib/services/model/discriminator.js":"\"use strict\";var utils=require(\"../../utils\"),CUSTOMIZABLE_DISCRIMINATOR_OPTIONS={toJSON:!0,toObject:!0,_id:!0,id:!0};module.exports=function(i,o,t){if(!t||!t.instanceOfSchema)throw new Error(\"You must pass a valid discriminator Schema\");if(i.base&&i.base.options.applyPluginsToDiscriminators&&i.base._applyPlugins(t),i.schema.discriminatorMapping&&!i.schema.discriminatorMapping.isRoot)throw new Error('Discriminator \"'+o+'\" can only be a discriminator of the root model');var e=i.schema.options.discriminatorKey;if(t.path(e))throw new Error('Discriminator \"'+o+'\" cannot have field with name \"'+e+'\"');if(function(t,r){if(r.paths._id&&r.paths._id.options&&!r.paths._id.options.auto){var s=t;utils.merge(t,s,{retainKeyOrder:!0}),delete t.paths._id,delete t.tree._id}utils.merge(t,r,{retainKeyOrder:!0});var n={};n[e]={default:o,select:!0,set:function(i){if(i===o)return o;throw new Error(\"Can't set discriminator key \\\"\"+e+'\"')}},n[e][t.options.typeKey]=String,t.add(n),t.discriminatorMapping={key:e,value:o,isRoot:!1},r.options.collection&&(t.options.collection=r.options.collection);var a=t.options.toJSON,c=t.options.toObject,p=t.options._id,l=t.options.id,d=Object.keys(t.options);t.options.discriminatorKey=r.options.discriminatorKey;for(var m=0;m<d.length;++m){var u=d[m];if(!CUSTOMIZABLE_DISCRIMINATOR_OPTIONS[u]&&!utils.deepEqual(t.options[u],r.options[u]))throw new Error(\"Can't customize discriminator option \"+u+\" (can only modify \"+Object.keys(CUSTOMIZABLE_DISCRIMINATOR_OPTIONS).join(\", \")+\")\")}t.options=utils.clone(r.options),a&&(t.options.toJSON=a),c&&(t.options.toObject=c),void 0!==p&&(t.options._id=p),t.options.id=l,t.s.hooks=i.schema.s.hooks.merge(t.s.hooks),t.plugins=Array.prototype.slice(r.plugins),t.callQueue=r.callQueue.concat(t.callQueue.slice(t._defaultMiddleware.length)),t._requiredpaths=void 0}(t,i.schema),i.discriminators||(i.discriminators={}),i.schema.discriminatorMapping||(i.schema.discriminatorMapping={key:e,value:null,isRoot:!0}),i.discriminators[o])throw new Error('Discriminator with name \"'+o+'\" already exists');return t};","node_modules/mongoose/lib/cast.js":"var StrictModeError=require(\"./error/strict\"),Types=require(\"./schema/index\"),util=require(\"util\"),utils=require(\"./utils\"),ALLOWED_GEOWITHIN_GEOJSON_TYPES=[\"Polygon\",\"MultiPolygon\"];module.exports=function e(r,t,i,n){if(Array.isArray(t))throw new Error(\"Query filter must be an object, got an array \",util.inspect(t));for(var o,a,s,c,l,u,$=Object.keys(t),y=$.length;y--;)if(c=$[y],u=t[c],\"$or\"===c||\"$nor\"===c||\"$and\"===c)for(var f=u.length;f--;)u[f]=e(r,u[f],i,n);else{if(\"$where\"===c){if(\"string\"!==(l=typeof u)&&\"function\"!==l)throw new Error(\"Must have a string or function for $where\");\"function\"===l&&(t[c]=u.toString());continue}if(\"$elemMatch\"===c)u=e(r,u,i,n);else{if(!r)continue;if(a=r.path(c)){if(null===u||void 0===u){t[c]=null;continue}if(\"Object\"===u.constructor.name)if(Object.keys(u).some(function(e){return\"$\"===e.charAt(0)&&\"$id\"!==e&&\"$ref\"!==e})){var h,p=Object.keys(u);for(f=p.length;f--;)if(h=p[f],s=u[h],\"$not\"===h){if(s&&a&&!a.caster){if((o=Object.keys(s)).length&&\"$\"===o[0].charAt(0))for(var g in s)s[g]=a.castForQueryWrapper({$conditional:g,val:s[g],context:n});else u[h]=a.castForQueryWrapper({$conditional:h,val:s,context:n});continue}e(a.caster?a.caster.schema:r,s,i,n)}else u[h]=a.castForQueryWrapper({$conditional:h,val:s,context:n})}else t[c]=a.castForQueryWrapper({val:u,context:n});else if(\"Array\"===u.constructor.name&&-1===[\"Buffer\",\"Array\"].indexOf(a.instance)){for(var m=[],v=0;v<u.length;v++)m.push(a.castForQueryWrapper({val:u[v],context:n}));t[c]={$in:m}}else t[c]=a.castForQueryWrapper({val:u,context:n})}else{for(var O,d,x,w=c.split(\".\"),b=w.length;b--&&(O=w.slice(0,b).join(\".\"),!(a=r.path(O))););if(a){a.caster&&a.caster.schema?((x={})[d=w.slice(b).join(\".\")]=u,t[c]=e(a.caster.schema,x,i,n)[d]):t[c]=u;continue}if(utils.isObject(u)){var W=\"\";if(u.$near?W=\"$near\":u.$nearSphere?W=\"$nearSphere\":u.$within?W=\"$within\":u.$geoIntersects?W=\"$geoIntersects\":u.$geoWithin&&(W=\"$geoWithin\"),W){var j=new Types.Number(\"__QueryCasting__\"),A=u[W];if(null!=u.$maxDistance&&(u.$maxDistance=j.castForQueryWrapper({val:u.$maxDistance,context:n})),null!=u.$minDistance&&(u.$minDistance=j.castForQueryWrapper({val:u.$minDistance,context:n})),\"$within\"===W){var E=A.$center||A.$centerSphere||A.$box||A.$polygon;if(!E)throw new Error(\"Bad $within paramater: \"+JSON.stringify(u));A=E}else if(\"$near\"===W&&\"string\"==typeof A.type&&Array.isArray(A.coordinates))A=A.coordinates;else if((\"$near\"===W||\"$nearSphere\"===W||\"$geoIntersects\"===W)&&A.$geometry&&\"string\"==typeof A.$geometry.type&&Array.isArray(A.$geometry.coordinates))null!=A.$maxDistance&&(A.$maxDistance=j.castForQueryWrapper({val:A.$maxDistance,context:n})),null!=A.$minDistance&&(A.$minDistance=j.castForQueryWrapper({val:A.$minDistance,context:n})),utils.isMongooseObject(A.$geometry)&&(A.$geometry=A.$geometry.toObject({transform:!1,virtuals:!1})),A=A.$geometry.coordinates;else if(\"$geoWithin\"===W)if(A.$geometry){utils.isMongooseObject(A.$geometry)&&(A.$geometry=A.$geometry.toObject({virtuals:!1}));var Q=A.$geometry.type;if(-1===ALLOWED_GEOWITHIN_GEOJSON_TYPES.indexOf(Q))throw new Error('Invalid geoJSON type for $geoWithin \"'+Q+'\", must be \"Polygon\" or \"MultiPolygon\"');A=A.$geometry.coordinates}else A=A.$box||A.$polygon||A.$center||A.$centerSphere,utils.isMongooseObject(A)&&(A=A.toObject({virtuals:!1}));_cast(A,j,n);continue}}if(i&&i.upsert&&i.strict&&!r.nested[c]){if(\"throw\"===i.strict)throw new StrictModeError(c);throw new StrictModeError(c,'Path \"'+c+'\" is not in schema, strict mode is `true`, and upsert is `true`.')}if(i&&\"throw\"===i.strictQuery)throw new StrictModeError(c,'Path \"'+c+'\" is not in schema and strictQuery is true.')}}}return t};function _cast(e,r,t){if(Array.isArray(e))e.forEach(function(i,n){if(Array.isArray(i)||utils.isObject(i))return _cast(i,r,t);e[n]=r.castForQueryWrapper({val:i,context:t})});else for(var i=Object.keys(e),n=i.length;n--;){var o=i[n],a=e[o];Array.isArray(a)||utils.isObject(a)?(_cast(a,r,t),e[o]=a):e[o]=r.castForQuery({val:a,context:t})}}","node_modules/mongoose/lib/schema/operators/helpers.js":"\"use strict\";var Types={Number:require(\"../number\")};exports.castToNumber=castToNumber,exports.castArraysOfNumbers=castArraysOfNumbers;function castToNumber(r){return Types.Number.prototype.cast.call(this,r)}function castArraysOfNumbers(r,s){r.forEach(function(e,t){Array.isArray(e)?castArraysOfNumbers(e,s):r[t]=castToNumber.call(s,e)})}","node_modules/mongoose/lib/schema/operators/geospatial.js":"var castArraysOfNumbers=require(\"./helpers\").castArraysOfNumbers,castToNumber=require(\"./helpers\").castToNumber;exports.cast$geoIntersects=cast$geoIntersects,exports.cast$near=cast$near,exports.cast$within=cast$within;function cast$near(e){var t=require(\"../array\");return Array.isArray(e)?(castArraysOfNumbers(e,this),e):(_castMinMaxDistance(this,e),e&&e.$geometry?cast$geometry(e,this):t.prototype.castForQuery.call(this,e))}function cast$geometry(e,t){switch(e.$geometry.type){case\"Polygon\":case\"LineString\":case\"Point\":castArraysOfNumbers(e.$geometry.coordinates,t)}return _castMinMaxDistance(this,e),e}function cast$within(e){if(_castMinMaxDistance(this,e),e.$box||e.$polygon){var t=e.$box?\"$box\":\"$polygon\";e[t].forEach(function(e){if(!Array.isArray(e)){var t=\"Invalid $within $box argument. Expected an array, received \"+e;throw new TypeError(t)}e.forEach(function(t,r){e[r]=castToNumber.call(this,t)})})}else e.$center||e.$centerSphere?(t=e.$center?\"$center\":\"$centerSphere\",e[t].forEach(function(r,a){Array.isArray(r)?r.forEach(function(e,t){r[t]=castToNumber.call(this,e)}):e[t][a]=castToNumber.call(this,r)})):e.$geometry&&cast$geometry(e,this);return e}function cast$geoIntersects(e){if(e.$geometry)return cast$geometry(e,this),e}function _castMinMaxDistance(e,t){t.$maxDistance&&(t.$maxDistance=castToNumber.call(e,t.$maxDistance)),t.$minDistance&&(t.$minDistance=castToNumber.call(e,t.$minDistance))}","node_modules/mongoose/lib/types/array.js":"var EmbeddedDocument=require(\"./embedded\"),Document=require(\"../document\"),ObjectId=require(\"./objectid\"),cleanModifiedSubpaths=require(\"../services/document/cleanModifiedSubpaths\"),utils=require(\"../utils\"),isMongooseObject=utils.isMongooseObject;function MongooseArray(t,i,e){for(var s=[].concat(t),r=Object.keys(MongooseArray.mixin),o=r.length,a=0;a<o;++a)s[r[a]]=MongooseArray.mixin[r[a]];return s._path=i,s.isMongooseArray=!0,s.validators=[],s._atomics={},s._schema=void 0,e&&e instanceof Document&&(s._parent=e,s._schema=e.schema.path(i)),s}MongooseArray.mixin={toBSON:function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},_atomics:void 0,_parent:void 0,_cast:function(t){var i,e=!1;if(this._parent&&(e=this._parent.populated(this._path,!0)),e&&null!==t&&void 0!==t){i=e.options.model||e.options.Model,(Buffer.isBuffer(t)||t instanceof ObjectId||!utils.isObject(t))&&(t={_id:t});return t.schema&&t.schema.discriminatorMapping&&void 0!==t.schema.discriminatorMapping.key||(t=new i(t)),this._schema.caster.applySetters(t,this._parent,!0)}return this._schema.caster.applySetters(t,this._parent,!1)},_markModified:function(t,i){var e,s=this._parent;return s&&(e=this._path,arguments.length&&(e=null!=i?e+\".\"+this.indexOf(t)+\".\"+i:e+\".\"+t),s.markModified(e,arguments.length>0?t:s)),this},_registerAtomic:function(t,i){if(\"$set\"===t)return this._atomics={$set:i},this;var e=this._atomics;if(\"$pop\"===t&&!(\"$pop\"in e)){var s=this;this._parent.once(\"save\",function(){s._popped=s._shifted=null})}if(this._atomics.$set||Object.keys(e).length&&!(t in e))return this._atomics={$set:this},this;var r;if(\"$pullAll\"===t||\"$pushAll\"===t||\"$addToSet\"===t)e[t]||(e[t]=[]),e[t]=e[t].concat(i);else if(\"$pullDocs\"===t){var o=e.$pull||(e.$pull={});i[0]instanceof EmbeddedDocument?(r=o.$or||(o.$or=[]),Array.prototype.push.apply(r,i.map(function(t){return t.toObject({transform:!1,virtuals:!1})}))):(r=o._id||(o._id={$in:[]})).$in=r.$in.concat(i)}else e[t]=i;return this},$__getAtomics:function(){var t=[],i=Object.keys(this._atomics),e=i.length;if(0===e)return t[0]=[\"$set\",this.toObject({depopulate:1,transform:!1,_isNested:!0,virtuals:!1})],t;for(;e--;){var s=i[e],r=this._atomics[s];isMongooseObject(r)?r=r.toObject({depopulate:1,transform:!1,_isNested:!0,virtuals:!1}):Array.isArray(r)?r=this.toObject.call(r,{depopulate:1,transform:!1,_isNested:!0}):r.valueOf&&(r=r.valueOf()),\"$addToSet\"===s&&(r={$each:r}),t.push([s,r])}return t},hasAtomics:function(){return this._atomics&&\"Object\"===this._atomics.constructor.name?Object.keys(this._atomics).length:0},_mapCast:function(t,i){return this._cast(t,this.length+i)},push:function(){var t=this._schema.caster.options&&this._schema.caster.options.ref;0===this.length&&arguments.length&&_isAllSubdocs(arguments,t)&&this._parent.populated(this._path,[],{model:arguments[0].constructor});var i=[].map.call(arguments,this._mapCast,this);i=this._schema.applySetters(i,this._parent,void 0,void 0,{skipDocumentArrayCast:!0});var e=[].push.apply(this,i);return this._registerAtomic(\"$pushAll\",i),this._markModified(),e},nonAtomicPush:function(){var t=[].map.call(arguments,this._mapCast,this),i=[].push.apply(this,t);return this._registerAtomic(\"$set\",this),this._markModified(),i},$pop:function(){if(this._registerAtomic(\"$pop\",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},pop:function(){var t=[].pop.call(this);return this._registerAtomic(\"$set\",this),this._markModified(),t},$shift:function(){if(this._registerAtomic(\"$pop\",-1),this._markModified(),!this._shifted)return this._shifted=!0,[].shift.call(this)},shift:function(){var t=[].shift.call(this);return this._registerAtomic(\"$set\",this),this._markModified(),t},pull:function(){for(var t,i=[].map.call(arguments,this._cast,this),e=this._parent.get(this._path),s=e.length;s--;)if((t=e[s])instanceof Document){i.some(function(i){return t.equals(i)})&&[].splice.call(e,s,1)}else~e.indexOf.call(i,t)&&[].splice.call(e,s,1);return i[0]instanceof EmbeddedDocument?this._registerAtomic(\"$pullDocs\",i.map(function(t){return t._id||t})):this._registerAtomic(\"$pullAll\",i),this._markModified(),cleanModifiedSubpaths(this._parent,this._path)>0&&this._registerAtomic(\"$set\",this),this},splice:function(){var t,i,e,s=this._schema.caster.options&&this._schema.caster.options.ref;if(0===this.length&&arguments.length>2){var r=Array.prototype.slice.call(arguments,2);_isAllSubdocs(r,s)&&this._parent.populated(this._path,[],{model:r[0].constructor})}if(arguments.length){for(i=[],e=0;e<arguments.length;++e)i[e]=e<2?arguments[e]:this._cast(arguments[e],arguments[0]+(e-2));t=[].splice.apply(this,i),this._registerAtomic(\"$set\",this),this._markModified()}return t},unshift:function(){var t=this._schema.caster.options&&this._schema.caster.options.ref;0===this.length&&arguments.length&&_isAllSubdocs(arguments,t)&&this._parent.populated(this._path,[],{model:arguments[0].constructor});var i=[].map.call(arguments,this._cast,this);return i=this._schema.applySetters(i,this._parent),[].unshift.apply(this,i),this._registerAtomic(\"$set\",this),this._markModified(),this.length},sort:function(){var t=[].sort.apply(this,arguments);return this._registerAtomic(\"$set\",this),this._markModified(),t},addToSet:function(){var t=[].map.call(arguments,this._mapCast,this),i=[],e=\"\";return(t=this._schema.applySetters(t,this._parent))[0]instanceof EmbeddedDocument?e=\"doc\":t[0]instanceof Date&&(e=\"date\"),t.forEach(function(t){var s;switch(e){case\"doc\":s=this.some(function(i){return i.equals(t)});break;case\"date\":var r=+t;s=this.some(function(t){return+t===r});break;default:s=~this.indexOf(t)}s||([].push.call(this,t),this._registerAtomic(\"$addToSet\",t),this._markModified(),[].push.call(i,t))},this),i},set:function(t,i){var e=this._cast(i,t);return this[t]=e,this._markModified(t),this},toObject:function(t){return t&&t.depopulate?(t._isNested=!0,this.map(function(i){return i instanceof Document?i.toObject(t):i})):this.slice()},inspect:function(){return JSON.stringify(this)},indexOf:function(t){t instanceof ObjectId&&(t=t.toString());for(var i=0,e=this.length;i<e;++i)if(t==this[i])return i;return-1}},MongooseArray.mixin.remove=MongooseArray.mixin.pull;function _isAllSubdocs(t,i){if(!i)return!1;for(var e=0;e<t.length;++e){var s=t[e];if(null==s)return!1;var r=s.constructor;if(!(s instanceof Document)||r.modelName!==i&&r.baseModelName!==i)return!1}return!0}module.exports=exports=MongooseArray;","node_modules/mongoose/lib/types/buffer.js":"var Binary=require(\"../drivers\").Binary,utils=require(\"../utils\");function MongooseBuffer(e,t,r){var i;i=0===arguments.length||null===arguments[0]||void 0===arguments[0]?0:e;var n,o,f;Array.isArray(t)?(o=t[0],f=t[1]):n=t;var u=new Buffer(i,n,r);return utils.decorate(u,MongooseBuffer.mixin),u.isMongooseBuffer=!0,Object.defineProperties(u,{validators:{value:[]},_path:{value:o},_parent:{value:f}}),f&&\"string\"==typeof o&&Object.defineProperty(u,\"_schema\",{value:f.schema.path(o)}),u._subtype=0,u}MongooseBuffer.mixin={_parent:void 0,_subtype:void 0,_markModified:function(){var e=this._parent;return e&&e.markModified(this._path),this},write:function(){var e=Buffer.prototype.write.apply(this,arguments);return e>0&&this._markModified(),e},copy:function(e){var t=Buffer.prototype.copy.apply(this,arguments);return e&&e.isMongooseBuffer&&e._markModified(),t}},\"writeUInt8 writeUInt16 writeUInt32 writeInt8 writeInt16 writeInt32 writeFloat writeDouble fill utf8Write binaryWrite asciiWrite set writeUInt16LE writeUInt16BE writeUInt32LE writeUInt32BE writeInt16LE writeInt16BE writeInt32LE writeInt32BE writeFloatLE writeFloatBE writeDoubleLE writeDoubleBE\".split(\" \").forEach(function(e){Buffer.prototype[e]&&(MongooseBuffer.mixin[e]=function(){var t=Buffer.prototype[e].apply(this,arguments);return this._markModified(),t})}),MongooseBuffer.mixin.toObject=function(e){var t=\"number\"==typeof e?e:this._subtype||0;return new Binary(this,t)},MongooseBuffer.mixin.toBSON=function(){return new Binary(this,this._subtype||0)},MongooseBuffer.mixin.equals=function(e){if(!Buffer.isBuffer(e))return!1;if(this.length!==e.length)return!1;for(var t=0;t<this.length;++t)if(this[t]!==e[t])return!1;return!0},MongooseBuffer.mixin.subtype=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Invalid subtype. Expected a number\");this._subtype!==e&&this._markModified(),this._subtype=e},MongooseBuffer.Binary=Binary,module.exports=MongooseBuffer;","node_modules/mongoose/lib/types/subdocument.js":"var Document=require(\"../document\"),PromiseProvider=require(\"../promise_provider\");module.exports=Subdocument;function Subdocument(t,e){this.$isSingleNested=!0,Document.call(this,t,e)}Subdocument.prototype=Object.create(Document.prototype),Subdocument.prototype.toBSON=function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},Subdocument.prototype.save=function(t){return new(PromiseProvider.get().ES6)(function(e){t&&t(),e()})},Subdocument.prototype.$isValid=function(t){return this.$parent?this.$parent.$isValid([this.$basePath,t].join(\".\")):Document.prototype.$isValid.call(this,t)},Subdocument.prototype.markModified=function(t){if(Document.prototype.markModified.call(this,t),this.$parent){if(this.$parent.isDirectModified(this.$basePath))return;this.$parent.markModified([this.$basePath,t].join(\".\"),this)}},Subdocument.prototype.$markValid=function(t){Document.prototype.$markValid.call(this,t),this.$parent&&this.$parent.$markValid([this.$basePath,t].join(\".\"))},Subdocument.prototype.invalidate=function(t,e,o){if(e!==this.ownerDocument().$__.validationError&&Document.prototype.invalidate.call(this,t,e,o),this.$parent)this.$parent.invalidate([this.$basePath,t].join(\".\"),e,o);else if(\"cast\"===e.kind||\"CastError\"===e.name)throw e},Subdocument.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var t=this.$parent;if(!t)return this;for(;t.$parent||t.__parent;)t=t.$parent||t.__parent;return this.$__.ownerDocument=t,this.$__.ownerDocument},Subdocument.prototype.parent=function(){return this.$parent},Subdocument.prototype.remove=function(t,e){\"function\"==typeof t&&(e=t,t=null),registerRemoveListener(this),t&&t.noop||this.$parent.set(this.$basePath,null),\"function\"==typeof e&&e(null)},Subdocument.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate(\"path\")`, use `doc.populate(\"nested.path\")`')};function registerRemoveListener(t){var e=t.ownerDocument();function o(){e.removeListener(\"save\",o),e.removeListener(\"remove\",o),t.emit(\"remove\",t),t.constructor.emit(\"remove\",t),e=t=null}e.on(\"save\",o),e.on(\"remove\",o)}","node_modules/mongoose/lib/services/document/cleanModifiedSubpaths.js":"\"use strict\";module.exports=function(t,e){for(var s=Object.keys(t.$__.activePaths.states.modify),a=s.length,i=0,o=0;o<a;++o)0===s[o].indexOf(e+\".\")&&(delete t.$__.activePaths.states.modify[s[o]],++i);return i};","node_modules/mongoose/lib/browserDocument.js":"var Embedded,NodeJSDocument=require(\"./document\"),EventEmitter=require(\"events\").EventEmitter,MongooseError=require(\"./error\"),Schema=require(\"./schema\"),ObjectId=require(\"./types/objectid\"),utils=require(\"./utils\"),ValidationError=MongooseError.ValidationError,InternalCache=require(\"./internal\"),PromiseProvider=require(\"./promise_provider\"),VersionError=require(\"./error\").VersionError;function Document(e,t,r,o,i){if(!(this instanceof Document))return new Document(e,t,r,o,i);if(utils.isObject(t)&&!t.instanceOfSchema&&(t=new Schema(t)),t=this.schema||t,!this.schema&&t.options._id&&void 0===(e=e||{})._id&&(e._id=new ObjectId),!t)throw new MongooseError.MissingSchemaError;this.$__setSchema(t),this.$__=new InternalCache,this.$__.emitter=new EventEmitter,this.isNew=!0,this.errors=void 0,\"boolean\"==typeof r?(this.$__.strictMode=r,r=void 0):(this.$__.strictMode=this.schema.options&&this.schema.options.strict,this.$__.selected=r);for(var n=this.schema.requiredPaths(),s=0;s<n.length;++s)this.$__.activePaths.require(n[s]);this.$__.emitter.setMaxListeners(0),this._doc=this.$__buildDoc(e,r,o),!i&&e&&this.init(e),this.$__registerHooksFromSchema();for(var c in t.methods)this[c]=t.methods[c];for(var p in t.statics)this[p]=t.statics[p]}Document.prototype=Object.create(NodeJSDocument.prototype),Document.prototype.constructor=Document,Document.$emitter=new EventEmitter,utils.each([\"on\",\"once\",\"emit\",\"listeners\",\"removeListener\",\"setMaxListeners\",\"removeAllListeners\",\"addListener\"],function(e){Document[e]=function(){return Document.$emitter[e].apply(Document.$emitter,arguments)}}),Document.prototype.$__registerHooksFromSchema=function(){Embedded=Embedded||require(\"./types/embedded\");var e,t,r,o,i,n,s=PromiseProvider.get(),c=this,p=c.schema&&c.schema.callQueue;if(!p.length)return c;var a,u={post:[]};for(r=0;r<p.length;++r)if(\"pre\"===(a=p[r])[0]||\"post\"===a[0]||\"on\"===a[0]){var h=[].slice.call(a[1]);(i=\"on\"===a[0]?\"post\":h[0])in u||(u[i]={post:[],pre:[]}),\"post\"===a[0]?u[i].post.push(h):\"on\"===a[0]?u[i].push(h):u[i].pre.push(h)}else c[a[0]].apply(c,a[1]);for(t=u.post.length,u.post.forEach(function(e){c.on.apply(c,e)}),delete u.post,u.init&&c instanceof Embedded?(u.init.pre&&u.init.pre.forEach(function(e){c.$pre.apply(c,e)}),u.init.post&&u.init.post.forEach(function(e){c.$post.apply(c,e)}),delete u.init):u.set&&(u.set.pre&&u.set.pre.forEach(function(e){c.$pre.apply(c,e)}),u.set.post&&u.set.post.forEach(function(e){c.$post.apply(c,e)}),delete u.set),t=(n=Object.keys(u)).length,r=0;r<t;++r){var l=\"$__original_\"+(i=n[r]);if(c[i]&&!c[i].$isWrapped){c[l]=c[i],c[i]=function(e){return function(){var t,r,o=[].slice.call(arguments),i=o.pop(),n=new Error;i&&\"function\"!=typeof i?o.push(i):t=i;var p=new s.ES6(function(t,i){o.push(function(e){if(e)return e instanceof VersionError&&(e.stack=n.stack),c.$__handleReject(e),void i(e);r=Array.prototype.slice.call(arguments,1),t.apply(p,r)}),c[e].apply(c,o)});return t?(c.constructor.$wrapCallback&&(t=c.constructor.$wrapCallback(t)),p.then(function(){process.nextTick(function(){t.apply(null,[null].concat(r))})},function(e){process.nextTick(function(){t(e)})})):p}}(l),c[i].$isWrapped=!0;var m=(e=u[i]).pre.length;for(o=0;o<m;++o)(h=e.pre[o])[0]=l,c.$pre.apply(c,h);for(m=e.post.length,o=0;o<m;++o)(h=e.post[o])[0]=l,c.$post.apply(c,h)}}return c},Document.ValidationError=ValidationError,module.exports=exports=Document;","node_modules/mongoose/lib/error/objectExpected.js":"var MongooseError=require(\"../error.js\");function ObjectExpectedError(r,e){MongooseError.call(this,\"Tried to set nested object field `\"+r+\"` to primitive value `\"+e+\"` and strict mode is set to throw.\"),this.name=\"ObjectExpectedError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.path=r}ObjectExpectedError.prototype=Object.create(MongooseError.prototype),ObjectExpectedError.prototype.constructor=MongooseError,module.exports=ObjectExpectedError;","node_modules/mongoose/lib/error/strict.js":"var MongooseError=require(\"../error.js\");function StrictModeError(r,o){o=o||\"Field `\"+r+\"` is not in schema and strict mode is set to throw.\",MongooseError.call(this,o),this.name=\"StrictModeError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack,this.path=r}StrictModeError.prototype=Object.create(MongooseError.prototype),StrictModeError.prototype.constructor=MongooseError,module.exports=StrictModeError;","node_modules/mongoose/lib/internal.js":"var StateMachine=require(\"./statemachine\"),ActiveRoster=StateMachine.ctor(\"require\",\"modify\",\"init\",\"default\",\"ignore\");module.exports=exports=InternalCache;function InternalCache(){this.strictMode=void 0,this.selected=void 0,this.shardval=void 0,this.saveError=void 0,this.validationError=void 0,this.adhocPaths=void 0,this.removing=void 0,this.inserting=void 0,this.version=void 0,this.getters={},this._id=void 0,this.populate=void 0,this.populated=void 0,this.wasPopulated=!1,this.scope=void 0,this.activePaths=new ActiveRoster,this.pathsToScopes={},this.ownerDocument=void 0,this.fullPath=void 0}","node_modules/mongoose/lib/services/document/compile.js":"\"use strict\";var Document,utils=require(\"../../utils\");exports.compile=compile,exports.defineKey=defineKey;function compile(e,t,r,n){Document=Document||require(\"../../document\");var i,o,c=Object.keys(e),s=c.length,u=c.length;if(n.retainKeyOrder)for(s=0;s<u;++s)i=e[o=c[s]],defineKey(o,\"Object\"===utils.getFunctionName(i.constructor)&&Object.keys(i).length&&(!i[n.typeKey]||\"type\"===n.typeKey&&i.type.type)?i:null,t,r,c,n);else for(;s--;)i=e[o=c[s]],defineKey(o,\"Object\"===utils.getFunctionName(i.constructor)&&Object.keys(i).length&&(!i[n.typeKey]||\"type\"===n.typeKey&&i.type.type)?i:null,t,r,c,n)}function defineKey(e,t,r,n,i,o){Document=Document||require(\"../../document\");var c=(n?n+\".\":\"\")+e;n=n||\"\",t?Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){var e=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[c]){var r=Object.create(Object.getPrototypeOf(this),getOwnPropertyDescriptors(this));n||(r.$__.scope=this);for(var s=0,u=i.length;s<u;++s)Object.defineProperty(r,i[s],{enumerable:!1,writable:!0,configurable:!0,value:void 0});Object.defineProperty(r,\"toObject\",{enumerable:!1,configurable:!0,writable:!1,value:function(){return utils.clone(e.get(c),{retainKeyOrder:!0})}}),Object.defineProperty(r,\"toJSON\",{enumerable:!1,configurable:!0,writable:!1,value:function(){return e.get(c)}}),Object.defineProperty(r,\"$__isNested\",{enumerable:!1,configurable:!0,writable:!1,value:!0}),compile(t,r,c,o),this.$__.getters[c]=r}return this.$__.getters[c]},set:function(e){return e instanceof Document&&(e=e.toObject({transform:!1})),(this.$__.scope||this).set(c,e)}}):Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:function(){return this.get.call(this.$__.scope||this,c)},set:function(e){return this.set.call(this.$__.scope||this,c,e)}})}function getOwnPropertyDescriptors(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r),t[r].enumerable=-1===[\"isNew\",\"$__\",\"errors\",\"_doc\"].indexOf(r)}),t}","node_modules/hooks-fixed/hooks.js":"module.exports={$hook:function(t,n,e){if(1!==arguments.length||\"object\"!=typeof t){var o=this.prototype||this,r=o._pres=o._pres||{},s=o._posts=o._posts||{};return r[t]=r[t]||[],s[t]=s[t]||[],o[t]=function(){var r,s=this,i=arguments[arguments.length-1],p=this._pres[t],u=this._posts[t],h=p.length,c=-1,f=o[t].numAsyncPres,l=function(t){if(t)return a(t);--f||g.apply(s,r)},a=function(t){if(\"function\"==typeof i)return i(t);if(e)return e.call(s,t);throw t},y=function(){if(arguments[0]instanceof Error)return a(arguments[0]);var t,n,e=Array.prototype.slice.call(arguments);if(!e.length||null==arguments[0]&&\"function\"==typeof i||(r=e),++c<h){if((t=p[c]).isAsync&&t.length<2)throw new Error(\"Your pre must have next and done arguments -- e.g., function (next, done, ...)\");if(t.length<1)throw new Error(\"Your pre must have a next argument -- e.g., function (next, ...)\");return n=(t.isAsync?[once(y),once(l)]:[once(y)]).concat(r),t.apply(s,n)}return f?void 0:g.apply(s,r)},g=function(){var t,e,o,p,f=Array.prototype.slice.call(arguments);if(c===h)return p=function(){if(arguments[0]instanceof Error)return a(arguments[0]);var t,n,h=Array.prototype.slice.call(arguments,1);if(h.length&&(r=h),++o<e){if((t=u[o]).length<1)throw new Error(\"Your post must have a next argument -- e.g., function (next, ...)\");return n=[once(p)].concat(r),t.apply(s,n)}return\"function\"==typeof i?i.apply(s,arguments):void 0},\"function\"==typeof i&&(f[f.length-1]=once(p)),e=u.length,o=-1,t=n.apply(s,f),e&&\"function\"!=typeof i?p():t};return y.apply(this,arguments)},o[t].numAsyncPres=0,this}for(var i in t)this.$hook(i,t[i])},pre:function(t,n,e,o){\"boolean\"!=typeof arguments[1]&&(o=e,e=n,n=!1);var r=this.prototype||this,s=r._pres=r._pres||{};return this._lazySetupHooks(r,t,o),(e.isAsync=n)&&r[t].numAsyncPres++,(s[t]=s[t]||[]).push(e),this},post:function(t,n,e){2===arguments.length&&(e=n,n=!1);var o=this.prototype||this,r=o._posts=o._posts||{};return this._lazySetupHooks(o,t),(r[t]=r[t]||[]).push(e),this},removePre:function(t,n){var e=this.prototype||this,o=e._pres||e._pres||{};return o[t]?(1===arguments.length?o[t].length=0:o[t]=o[t].filter(function(t){return t!==n}),this):this},removePost:function(t,n){var e=this.prototype||this,o=e._posts||e._posts||{};return o[t]?(1===arguments.length?o[t].length=0:o[t]=o[t].filter(function(t){return t!==n}),this):this},_lazySetupHooks:function(t,n,e){void 0===t[n].numAsyncPres&&this.$hook(n,t[n],e)}};function once(t,n){return function e(){e.hookCalled||(e.hookCalled=!0,t.apply(n,arguments))}}","node_modules/mongoose/lib/services/common.js":"\"use strict\";var ObjectId=require(\"../types/objectid\"),utils=require(\"../utils\");exports.flatten=flatten,exports.modifiedPaths=modifiedPaths;function flatten(t,e,r){var s,i=(s=t&&utils.isMongooseObject(t)&&!Buffer.isBuffer(t)?Object.keys(t.toObject({transform:!1,virtuals:!1})):Object.keys(t||{})).length,a={};e=e?e+\".\":\"\";for(var f=0;f<i;++f){var n=s[f],o=t[n];if(a[e+n]=o,shouldFlatten(o)){if(r&&r.skipArrays&&Array.isArray(o))continue;var u=flatten(o,e+n,r);for(var c in u)a[c]=u[c];Array.isArray(o)&&(a[e+n]=o)}}return a}function modifiedPaths(t,e,r){var s=Object.keys(t||{}),i=s.length;r=r||{},e=e?e+\".\":\"\";for(var a=0;a<i;++a){var f=s[a],n=t[f];r[e+f]=!0,utils.isMongooseObject(n)&&!Buffer.isBuffer(n)&&(n=n.toObject({transform:!1,virtuals:!1})),shouldFlatten(n)&&modifiedPaths(n,e+f,r)}return r}function shouldFlatten(t){return t&&\"object\"==typeof t&&!(t instanceof Date)&&!(t instanceof ObjectId)&&(!Array.isArray(t)||t.length>0)&&!(t instanceof Buffer)}","node_modules/mongoose/lib/plugins/idGetter.js":"\"use strict\";module.exports=function(t){!t.paths.id&&!t.options.noVirtualId&&t.options.id&&t.virtual(\"id\").get(idGetter)};function idGetter(){return null!=this._id?String(this._id):null}","node_modules/mongoose/lib/statemachine.js":"var utils=require(\"./utils\"),StateMachine=module.exports=exports=function(){};StateMachine.ctor=function(){var t=utils.args(arguments),e=function(){StateMachine.apply(this,arguments),this.paths={},this.states={},this.stateNames=t;for(var e,a=t.length;a--;)e=t[a],this.states[e]={}};return e.prototype=new StateMachine,t.forEach(function(t){e.prototype[t]=function(e){this._changeState(e,t)}}),e},StateMachine.prototype._changeState=function(t,e){var a=this.states[this.paths[t]];a&&delete a[t],this.paths[t]=e,this.states[e][t]=!0},StateMachine.prototype.clear=function(t){for(var e,a=Object.keys(this.states[t]),s=a.length;s--;)e=a[s],delete this.states[t][e],delete this.paths[e]},StateMachine.prototype.some=function(){var t=this,e=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(e,function(e){return Object.keys(t.states[e]).length})},StateMachine.prototype._iter=function(t){return function(){var e=arguments.length,a=utils.args(arguments,0,e-1),s=arguments[e-1];a.length||(a=this.stateNames);var n=this;return a.reduce(function(t,e){return t.concat(Object.keys(n.states[e]))},[])[t](function(t,e,a){return s(t,e,a)})}},StateMachine.prototype.forEach=function(){return this.forEach=this._iter(\"forEach\"),this.forEach.apply(this,arguments)},StateMachine.prototype.map=function(){return this.map=this._iter(\"map\"),this.map.apply(this,arguments)};","node_modules/mongoose/lib/promise.js":"var MPromise=require(\"mpromise\"),util=require(\"util\");function Promise(e){MPromise.call(this,e)}Promise.ES6=function(e){var o=new Promise;return e(function(){o.complete.apply(o,arguments)},function(e){o.error(e)}),o},Promise.prototype=Object.create(MPromise.prototype,{constructor:{value:Promise,enumerable:!1,writable:!0,configurable:!0}}),Promise.prototype.then=util.deprecate(Promise.prototype.then,\"Mongoose: mpromise (mongoose's default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html\"),Promise.prototype.catch=function(e){return this.then(null,e)},Promise.SUCCESS=\"complete\",Promise.FAILURE=\"err\",Promise.prototype.error=function(e){return e instanceof Error||(e instanceof Object&&(e=util.inspect(e)),e=new Error(e)),this.reject(e)},Promise.prototype.resolve=function(e){return e?this.error(e):this.fulfill.apply(this,Array.prototype.slice.call(arguments,1))},Promise.prototype.addBack=Promise.prototype.onResolve,Promise.prototype.complete=MPromise.prototype.fulfill,Promise.prototype.addCallback=Promise.prototype.onFulfill,Promise.prototype.addErrback=Promise.prototype.onReject,module.exports=Promise;","node_modules/mongoose/lib/ES6Promise.js":"function ES6Promise(){throw new Error(\"Can't use ES6 promise with mpromise style constructor\")}ES6Promise.use=function(o){ES6Promise.ES6=o},module.exports=ES6Promise;","node_modules/mpromise/lib/promise.js":"\"use strict\";var util=require(\"util\"),EventEmitter=require(\"events\").EventEmitter;function toArray(e,t,r){return Array.prototype.slice.call(e,t,r)}function strongUnshift(e,t){var r=toArray(t);return r.unshift(e),r}function Promise(e){this.emitter=new EventEmitter,this.emitted={},this.ended=!1,\"function\"==typeof e&&(this.ended=!0,this.onResolve(e))}module.exports=Promise,Promise.SUCCESS=\"fulfill\",Promise.FAILURE=\"reject\",Promise.prototype.on=function(e,t){return this.emitted[e]?t.apply(void 0,this.emitted[e]):this.emitter.on(e,t),this},Promise.prototype.safeEmit=function(e){if(e==Promise.SUCCESS||e==Promise.FAILURE){if(this.emitted[Promise.SUCCESS]||this.emitted[Promise.FAILURE])return this;this.emitted[e]=toArray(arguments,1)}return this.emitter.emit.apply(this.emitter,arguments),this},Promise.prototype.hasRejectListeners=function(){return EventEmitter.listenerCount(this.emitter,Promise.FAILURE)>0},Promise.prototype.fulfill=function(){return this.safeEmit.apply(this,strongUnshift(Promise.SUCCESS,arguments))},Promise.prototype.reject=function(e){if(this.ended&&!this.hasRejectListeners())throw e;return this.safeEmit(Promise.FAILURE,e)},Promise.prototype.resolve=function(e,t){return e?this.reject(e):this.fulfill(t)},Promise.prototype.onFulfill=function(e){if(!e)return this;if(\"function\"!=typeof e)throw new TypeError(\"fn should be a function\");return this.on(Promise.SUCCESS,e)},Promise.prototype.onReject=function(e){if(!e)return this;if(\"function\"!=typeof e)throw new TypeError(\"fn should be a function\");return this.on(Promise.FAILURE,e)},Promise.prototype.onResolve=function(e){if(!e)return this;if(\"function\"!=typeof e)throw new TypeError(\"fn should be a function\");return this.on(Promise.FAILURE,function(t){e.call(this,t)}),this.on(Promise.SUCCESS,function(){e.apply(this,strongUnshift(null,arguments))}),this},Promise.prototype.then=function(e,t){var r=new Promise;return\"function\"==typeof e?this.onFulfill(handler(r,e)):this.onFulfill(r.fulfill.bind(r)),\"function\"==typeof t?this.onReject(handler(r,t)):this.onReject(r.reject.bind(r)),r};function handler(e,t){function r(){var r=e.emitter.domain;r&&r!==process.domain&&r.enter();try{var n=t.apply(void 0,i.args)}catch(t){return void e.reject(t)}resolve(e,n)}function i(){i.args=arguments,process.nextTick(r)}return i}function resolve(e,t){function r(){f++||resolve.apply(void 0,strongUnshift(e,arguments))}function i(t){f++||e.reject(t)}if(e!==t){var n=toArray(arguments,1),o=typeof t;if(\"undefined\"==o||null==t||\"object\"!=o&&\"function\"!=o)e.fulfill.apply(e,n);else{try{var s=t.then}catch(t){return void e.reject(t)}if(\"function\"==typeof s){var f=0;try{return s.call(t,r,i)}catch(t){if(f++)return;e.reject(t)}}else e.fulfill.apply(e,n)}}else e.reject(new TypeError(\"promise and x are the same\"))}Promise.prototype.end=Promise.prototype.catch=function(e){return e||this.hasRejectListeners()||(e=function(e){throw e}),this.onReject(e),this.ended=!0,this},Promise.trace=function(e,t){e.then(function(){console.log(\"%s fulfill %j\",t,toArray(arguments))},function(){console.log(\"%s reject %j\",t,toArray(arguments))})},Promise.prototype.chain=function(e){return this.onFulfill(e.fulfill.bind(e)),this.onReject(e.reject.bind(e)),e},Promise.prototype.all=function(e){var t=new Promise;return this.then(e).then(function(e){var r,i=0,n=[];return e.length||t.resolve(),e.forEach(function(e,o){r||(i++,e.then(function(e){r||(n[o]=e,0==--i&&t.fulfill(n))},function(e){r||(r=e,t.reject(e))}))}),t},t.reject.bind(t)),t},Promise.hook=function(e){var t=new Promise,r=new Promise,i=function(){return 0==--n&&r.fulfill(),r},n=1,o=t;return e.forEach(function(e){o=o.then(function(){var t=new Promise;return n++,e(t.resolve.bind(t),i),t})}),o=o.then(i),t.resolve(),o},Promise.fulfilled=function(){var e=new Promise;return e.fulfill.apply(e,arguments),e},Promise.rejected=function(e){return(new Promise).reject(e)},Promise.deferred=function(){var e=new Promise;return{promise:e,reject:e.reject.bind(e),resolve:e.fulfill.bind(e),callback:e.resolve.bind(e)}};","node_modules/mongoose/lib/cursor/QueryCursor.js":"var PromiseProvider=require(\"../promise_provider\"),Readable=require(\"stream\").Readable,eachAsync=require(\"../services/cursor/eachAsync\"),helpers=require(\"../queryhelpers\"),util=require(\"util\");function QueryCursor(r,e){Readable.call(this,{objectMode:!0}),this.cursor=null,this.query=r,this._transforms=e.transform?[e.transform]:[];var o=this,t=r.model;t.hooks.execPre(\"find\",r,function(){t.collection.find(r._conditions,e,function(r,e){if(o._error&&(e.close(function(){}),o.listeners(\"error\").length>0&&o.emit(\"error\",o._error)),r)return o.emit(\"error\",r);o.cursor=e,o.emit(\"cursor\",e)})})}util.inherits(QueryCursor,Readable),QueryCursor.prototype._read=function(){var r=this;_next(this,function(e,o){return e?r.emit(\"error\",e):o?void r.push(o):(r.push(null),void r.cursor.close(function(e){if(e)return r.emit(\"error\",e);setTimeout(function(){r.emit(\"close\")},0)}))})},QueryCursor.prototype.map=function(r){return this._transforms.push(r),this},QueryCursor.prototype._markError=function(r){return this._error=r,this},QueryCursor.prototype.close=function(r){var e=this;return new(PromiseProvider.get().ES6)(function(o,t){e.cursor.close(function(n){if(n)return r&&r(n),t(n),e.listeners(\"error\").length>0&&e.emit(\"error\",n);e.emit(\"close\"),o(),r&&r()})})},QueryCursor.prototype.next=function(r){var e=this;return new(PromiseProvider.get().ES6)(function(o,t){_next(e,function(e,n){if(e)return r&&r(e),t(e);r&&r(null,n),o(n)})})},QueryCursor.prototype.eachAsync=function(r,e,o){var t=this;return\"function\"==typeof e&&(o=e,e={}),e=e||{},eachAsync(function(r){return _next(t,r)},r,e,o)},QueryCursor.prototype.addCursorFlag=function(r,e){var o=this;return _waitForCursor(this,function(){o.cursor.addCursorFlag(r,e)}),this};function _next(r,e){var o=e;return r._transforms.length&&(o=function(o,t){if(o||null===t)return e(o,t);e(o,r._transforms.reduce(function(r,e){return e(r)},t))}),r._error?process.nextTick(function(){o(r._error)}):r.cursor?r.cursor.next(function(e,t){if(e)return o(e);if(!t)return o(null,null);var n=r.query._mongooseOptions;if(!n.populate)return!0===n.lean?o(null,t):_create(r,t,null,o);var u=helpers.preparePopulationOptionsMQ(r.query,r.query._mongooseOptions);u.__noPromise=!0,r.query.model.populate(t,u,function(e,t){return e?o(e):!0===n.lean?o(null,t):_create(r,t,u,o)})}):void r.once(\"cursor\",function(){_next(r,e)})}function _waitForCursor(r,e){if(r.cursor)return e();r.once(\"cursor\",function(){e()})}function _create(r,e,o,t){var n=helpers.createModel(r.query.model,e,r.query._fields),u=o?{populated:o}:void 0;n.init(e,u,function(r){if(r)return t(r);t(null,n)})}module.exports=QueryCursor;","node_modules/mongoose/lib/querystream.js":"var Stream=require(\"stream\").Stream,utils=require(\"./utils\"),helpers=require(\"./queryhelpers\"),K=function(t){return t};function QueryStream(t,e){Stream.call(this),this.query=t,this.readable=!0,this.paused=!1,this._cursor=null,this._destroyed=null,this._fields=null,this._buffer=null,this._inline=T_INIT,this._running=!1,this._transform=e&&\"function\"==typeof e.transform?e.transform:K;var r=this;process.nextTick(function(){r._init()})}QueryStream.prototype.__proto__=Stream.prototype,QueryStream.prototype.readable,QueryStream.prototype.paused;var T_INIT=0,T_IDLE=1,T_CONT=2;QueryStream.prototype._init=function(){if(!this._destroyed){var t=this.query,e=t.model,r=t._optionsForExec(e),i=this;try{t.cast(e)}catch(t){return i.destroy(t)}i._fields=utils.clone(t._fields),r.fields=t._castFields(i._fields),e.collection.find(t._conditions,r,function(t,e){if(t)return i.destroy(t);i._cursor=e,i._next()})}},QueryStream.prototype._next=function(){if(this.paused||this._destroyed)return this._running=!1,this._running;if(this._running=!0,this._buffer&&this._buffer.length)for(var t;!this.paused&&!this._destroyed&&(t=this._buffer.shift());)this._onNextObject.apply(this,t);for(;this.__next(););},QueryStream.prototype.__next=function(){if(this.paused||this._destroyed)return this._running=!1,this._running;var t=this;if(t._inline=T_INIT,t._cursor.nextObject(function(e,r){t._onNextObject(e,r)}),T_CONT===this._inline)return!0;this._inline=T_IDLE},QueryStream.prototype._onNextObject=function(t,e){if(!this._destroyed){if(this.paused)return this._buffer||(this._buffer=[]),this._buffer.push([t,e]),this._running=!1,this._running;if(t)return this.destroy(t);if(!e)return this.emit(\"end\"),this.destroy();var r=this.query._mongooseOptions;if(!r.populate)return!0===r.lean?emit(this,e):createAndEmit(this,null,e);var i=this,n=helpers.preparePopulationOptionsMQ(i.query,i.query._mongooseOptions);n.forEach(function(t){delete t.model}),n.__noPromise=!0,i.query.model.populate(e,n,function(t,e){return t?i.destroy(t):!0===r.lean?emit(i,e):createAndEmit(i,n,e)})}};function createAndEmit(t,e,r){var i=helpers.createModel(t.query.model,r,t._fields),n=e?{populated:e}:void 0;i.init(r,n,function(e){if(e)return t.destroy(e);emit(t,i)})}function emit(t,e){t.emit(\"data\",t._transform(e)),T_IDLE===t._inline?t._next():t._inline=T_CONT}QueryStream.prototype.pause=function(){this.paused=!0},QueryStream.prototype.resume=function(){if(this.paused=!1,this._cursor&&T_INIT!==this._inline)return this._running?void 0:this._next()},QueryStream.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,this._running=!1,this.readable=!1,this._cursor&&this._cursor.close(),t&&this.emit(\"error\",t),this.emit(\"close\"))},module.exports=exports=QueryStream;","node_modules/mongoose/lib/services/query/castUpdate.js":"\"use strict\";var StrictModeError=require(\"../../error/strict\"),utils=require(\"../../utils\");module.exports=function(e,t,r,s){if(t){for(var a,i,o=Object.keys(t),c=o.length,n={},p=!1,$=r.overwrite;c--;){var l=o[c];\"$\"===l[0]||$?\"$set\"===l?n.$set||(n[l]=t[l]):n[l]=t[l]:(n.$set||(t.$set?n.$set=t.$set:n.$set={}),n.$set[l]=t[l],o.splice(c,1),~o.indexOf(\"$set\")||o.push(\"$set\"))}for(c=o.length,$&&(a=!0);c--;)if(l=o[c],i=n[l],p=p||\"$\"===l.charAt(0),!i||\"object\"!=typeof i||$&&!p){if(!$||!n||\"object\"!=typeof n){var u=\"Invalid atomic update value for \"+l+\". Expected an object, received \"+typeof i;throw new Error(u)}walkUpdatePath(e,n,\"$set\",r.strict,s)}else a|=walkUpdatePath(e,i,l,r.strict,s);return a&&n}};function walkUpdatePath(e,t,r,s,a,i){for(var o,c,n,p=i?i+\".\":\"\",$=Object.keys(t),l=$.length,u=!1,h=e.options.useNestedStrict;l--;)if(c=$[l],(n=t[c])&&\"Object\"===n.constructor.name)if((o=e._getSchema(p+c))&&o.caster&&r in castOps)u=!0,\"$each\"in n?(t[c]={$each:castUpdateVal(o,n.$each,r,a)},null!=n.$slice&&(t[c].$slice=0|n.$slice),n.$sort&&(t[c].$sort=n.$sort),(n.$position||0===n.$position)&&(t[c].$position=n.$position)):t[c]=castUpdateVal(o,n,r,a);else if(\"$currentDate\"===r)t[c]=castUpdateVal(o,n,r,a),u=!0;else if(r in castOps&&o)t[c]=castUpdateVal(o,n,r,a),u=!0;else{var d=p+c,f=e._getPathType(d),y=s;if(h&&f&&f.schema&&\"strict\"in f.schema.options&&(y=f.schema.options.strict),\"undefined\"===f.pathType){if(\"throw\"===y)throw new StrictModeError(d);if(y){delete t[c];continue}}u|=walkUpdatePath(e,n,r,s,a,p+c)||utils.isObject(n)&&0===Object.keys(n).length}else{var v=\"$each\"===c||\"$or\"===c||\"$and\"===c?i:p+c;o=e._getSchema(v);var O=e._getPathType(v),m=s;h&&O&&O.schema&&\"strict\"in O.schema.options&&(m=O.schema.options.strict);if(m&&!o&&!/real|nested/.test(O.pathType)){if(\"throw\"===m)throw new StrictModeError(p+c);delete t[c]}else{if(\"$rename\"===r){u=!0;continue}u=!0,t[c]=castUpdateVal(o,n,r,c,a)}}return u}var numberOps={$pop:1,$unset:1,$inc:1},castOps={$push:1,$pushAll:1,$addToSet:1,$set:1,$setOnInsert:1},overwriteOps={$set:1,$setOnInsert:1};function castUpdateVal(e,t,r,s,a){if(!e)return r in numberOps?Number(t):t;if(e.caster&&r in castOps&&(utils.isObject(t)||Array.isArray(t))){var i=e.cast(t);return t=Array.isArray(t)?i:Array.isArray(i)?i[0]:i}return r in numberOps?\"$inc\"===r?e.castForQueryWrapper({val:t,context:a}):Number(t):\"$currentDate\"===r?\"object\"==typeof t?{$type:t.$type}:Boolean(t):/^\\$/.test(s)?e.castForQueryWrapper({$conditional:s,val:t,context:a}):overwriteOps[r]?e.castForQueryWrapper({val:t,context:a,$skipQueryCastForUpdate:null!=t&&e.$isMongooseArray}):e.castForQueryWrapper({val:t,context:a})}","node_modules/mongoose/lib/services/query/hasDollarKeys.js":"\"use strict\";module.exports=function(r){for(var t=Object.keys(r),e=t.length,n=0;n<e;++n)if(\"$\"===t[n].charAt(0))return!0;return!1};","node_modules/mongoose/lib/queryhelpers.js":"var utils=require(\"./utils\");exports.preparePopulationOptions=function(e,t){var o=utils.object.vals(e.options.populate);return t.lean&&o.forEach(makeLean),o},exports.preparePopulationOptionsMQ=function(e,t){var o=utils.object.vals(e._mongooseOptions.populate);return t.lean&&o.forEach(makeLean),o},exports.createModel=function(e,t,o,i){var n=e.schema?e.schema.discriminatorMapping:null,a=n&&n.isRoot?n.key:null;if(a&&t[a]&&e.discriminators&&e.discriminators[t[a]]){var s=e.discriminators[t[a]],r=utils.clone(i);return exports.applyPaths(r,s.schema),new e.discriminators[t[a]](void 0,r,!0)}return new e(void 0,o,!0)},exports.applyPaths=function(e,t){var o,i,n,a;if(e)for(n=(i=Object.keys(e)).length;n--;)if(!(\"+\"===i[n][0]||\"object\"==typeof(a=e[i[n]])&&a&&a.$slice)){o=0===a;break}var s=[],r=[],p=[],c=function(t,n){n||(n=\"\"),-1===p.indexOf(t)&&(p.push(t),t.eachPath(function(t,a){n&&(t=n+\".\"+t),function(t,n){if(\"boolean\"==typeof n.selected){var a=\"+\"+t;if(e&&a in e)return delete e[a],void(!1===o&&i.length>1&&!~i.indexOf(t)&&(e[t]=1));var p=t.split(\".\")[0];~r.indexOf(p)||(n.selected?s:r).push(t)}}(t,a),a.schema&&c(a.schema,t)}),p.pop())};c(t);var l;switch(o){case!0:for(l=0;l<r.length;++l)e[r[l]]=0;break;case!1:for(t&&t.paths._id&&t.paths._id.options&&!1===t.paths._id.options.select&&(e._id=0),l=0;l<s.length;++l)e[s[l]]=1;break;case void 0:for(l=0;l<r.length;++l)e[r[l]]=0}};function makeLean(e){e.options||(e.options={}),e.options.lean=!0}","node_modules/mongoose/lib/services/query/selectPopulatedFields.js":"\"use strict\";module.exports=function(e){var l=e._mongooseOptions;if(null!=l.populate){var s,t=Object.keys(l.populate),o=e._userProvidedFields||{};if(e.selectedInclusively())for(s=0;s<t.length;++s)null==o[t[s]]&&e.select(t[s]);else if(e.selectedExclusively())for(s=0;s<t.length;++s)null==o[t[s]]&&delete e._fields[t[s]]}};","node_modules/mongoose/lib/services/setDefaultsOnInsert.js":"\"use strict\";var modifiedPaths=require(\"./common\").modifiedPaths;module.exports=function(e,t,i,n){var r=Object.keys(i||{}),s={},f={},o=r.length,a=!1,d={};if(n&&n.upsert){for(var u=0;u<o;++u)\"$\"===r[u].charAt(0)&&(modifiedPaths(i[r[u]],\"\",d),a=!0);a||modifiedPaths(i,\"\",d);var c=Object.keys(e._conditions),h=c.length;for(u=0;u<h;++u){var l=c[u],v=e._conditions[l];if(v&&\"object\"==typeof v){for(var O=Object.keys(v),$=O.length,m=!1,g=0;g<$;++g)if(\"$\"===O[g].charAt(0)){m=!0;break}if(m)continue}s[l]=!0,d[l]=!0}if(n&&n.overwrite&&!a)return i;n.setDefaultsOnInsert&&t.eachPath(function(e,t){if(\"_id\"!==e)if(t.$isSingleNested)t.schema.eachPath(function(t,n){if(\"_id\"!==e){var r=n.getDefault(null,!0);isModified(d,e+\".\"+t)||void 0===r||((i=i||{}).$setOnInsert=i.$setOnInsert||{},i.$setOnInsert[e+\".\"+t]=r,f[e+\".\"+t]=r)}});else{var n=t.getDefault(null,!0);isModified(d,e)||void 0===n||((i=i||{}).$setOnInsert=i.$setOnInsert||{},i.$setOnInsert[e]=n,f[e]=n)}})}return i};function isModified(e,t){if(e[t])return!0;for(var i=t.split(\".\"),n=i[0],r=0;r<i.length;++r){if(e[n])return!0;n+=\".\"+i[r]}return!1}","node_modules/mongoose/lib/services/updateValidators.js":"var Mixed=require(\"../schema/mixed\"),ValidationError=require(\"../error/validation\"),{parallel:parallel}=require(\"async\"),flatten=require(\"./common\").flatten,modifiedPaths=require(\"./common\").modifiedPaths;module.exports=function(e,t,n,a){for(var r,o=Object.keys(n||{}),l={},i={},u={},c=o.length,f=!1,h={},d=0;d<c;++d)if(\"$\"===o[d].charAt(0)){if(\"$push\"===o[d]||\"$addToSet\"===o[d]){r=Object.keys(n[o[d]]);for(var s=0;s<r.length;++s)n[o[d]][r[s]].$each?u[r[s]]=(u[r[s]]||[]).concat(n[o[d]][r[s]].$each):u[r[s]]=(u[r[s]]||[]).concat([n[o[d]][r[s]]]);continue}modifiedPaths(n[o[d]],\"\",h);for(var p=flatten(n[o[d]]),m=Object.keys(p),v=m.length,$=0;$<v;++$){var g=m[$].replace(\".$.\",\".0.\");g=g.replace(/\\.\\$$/,\".0\"),\"$set\"===o[d]||\"$setOnInsert\"===o[d]?i[g]=p[m[$]]:\"$unset\"===o[d]&&(i[g]=void 0),l[g]=!0}f=!0}f||(modifiedPaths(n,\"\",h),i=flatten(n),l=Object.keys(i));var y=Object.keys(i),q=y.length,x=[],O=[];function V(n,r){var o=t._getSchema(y[n]);if(o){if(o instanceof Mixed&&o.$fullPath!==y[n])return;x.push(function(t){o.doValidate(r,function(e){e&&(e.path=y[n],O.push(e)),t(null)},a&&\"query\"===a.context?e:null,{updateValidator:!0})})}}for(d=0;d<q;++d)V(d,i[y[d]]);var b=Object.keys(u),j=b.length;for(d=0;d<j;++d)!function(n){var r=t._getSchema(b[n]);if(r&&r.$isMongooseDocumentArray)x.push(function(t){r.doValidate(u[b[n]],function(e){e&&(e.path=b[n],O.push(e)),t(null)},a&&\"query\"===a.context?e:null)});else{r=t._getSchema(b[n]+\".0\");for(var o=0;o<u[b[n]].length;++o)!function(t){x.push(function(o){r.doValidate(u[b[n]][t],function(e){e&&(e.path=b[n],O.push(e)),o(null)},a&&\"query\"===a.context?e:null,{updateValidator:!0})})}(o)}}(d);return function(e){parallel(x,function(){if(O.length){for(var t=new ValidationError(null),n=0;n<O.length;++n)t.addError(O[n].path,O[n]);return e(t)}e(null)})}};","node_modules/mongoose/lib/services/cursor/eachAsync.js":"\"use strict\";var PromiseProvider=require(\"../../promise_provider\"),async=require(\"async\");module.exports=function(n,u,r,t){var e=PromiseProvider.get(),i=r.parallel||1,o=function(r){var t=!1,e=async.queue(function(u,r){if(t)return r();n(function(n,u){if(n)return r(n);u||(t=!0),r(null,u)})},1),o=function(n){e.push({},function(r,t){return r?n(r):t?void function(n,r){var t=u(n);t&&\"function\"==typeof t.then?t.then(function(){r(null)},function(n){r(n)}):r(null)}(t,function(u){if(u)return n(u);setTimeout(function(){o(n)},0)}):n()})};async.times(i,function(n,u){o(u)},r)};return new e.ES6(function(n,u){o(function(r){return r?(t&&t(r),u(r)):(t&&t(null),n())})})};","node_modules/mquery/lib/utils.js":"\"use strict\";var RegExpClone=require(\"regexp-clone\"),clone=exports.clone=function e(r,t){if(void 0===r||null===r)return r;if(Array.isArray(r))return exports.cloneArray(r,t);if(r.constructor){if(/ObjectI[dD]$/.test(r.constructor.name))return\"function\"==typeof r.clone?r.clone():new r.constructor(r.id);if(\"ReadPreference\"===r._type&&r.isValid&&r.toObject)return\"function\"==typeof r.clone?r.clone():new r.constructor(r.mode,e(r.tags,t));if(\"Binary\"==r._bsontype&&r.buffer&&r.value)return\"function\"==typeof r.clone?r.clone():new r.constructor(r.value(!0),r.sub_type);if(\"Date\"===r.constructor.name||\"Function\"===r.constructor.name)return new r.constructor(+r);if(\"RegExp\"===r.constructor.name)return RegExpClone(r);if(\"Buffer\"===r.constructor.name)return exports.cloneBuffer(r)}return isObject(r)?exports.cloneObject(r,t):r.valueOf?r.valueOf():void 0},cloneObject=exports.cloneObject=function(e,r){var t,o,n,c,i,s=r&&r.retainKeyOrder,u=r&&r.minimize,p={};if(s)for(c in e)n=clone(e[c],r),u&&void 0===n||(t||(t=!0),p[c]=n);else for(i=(o=Object.keys(e)).length;i--;)c=o[i],n=clone(e[c],r),u&&void 0===n||(t||(t=!0),p[c]=n);return u?t&&p:p},cloneArray=exports.cloneArray=function(e,r){for(var t=[],o=0,n=e.length;o<n;o++)t.push(clone(e[o],r));return t},tick=exports.tick=function(e){if(\"function\"==typeof e)return function(){var r=arguments;soon(function(){e.apply(this,r)})}},merge=exports.merge=function e(r,t){for(var o,n=Object.keys(t),c=n.length;c--;)void 0===r[o=n[c]]?r[o]=t[o]:exports.isObject(t[o])?e(r[o],t[o]):r[o]=t[o]},mergeClone=exports.mergeClone=function e(r,t){for(var o,n=Object.keys(t),c=n.length;c--;)void 0===r[o=n[c]]?r[o]=clone(t[o],{retainKeyOrder:1}):exports.isObject(t[o])?e(r[o],t[o]):r[o]=clone(t[o],{retainKeyOrder:1})};exports.readPref=function(e){switch(e){case\"p\":e=\"primary\";break;case\"pp\":e=\"primaryPreferred\";break;case\"s\":e=\"secondary\";break;case\"sp\":e=\"secondaryPreferred\";break;case\"n\":e=\"nearest\"}return e};var _toString=Object.prototype.toString,toString=exports.toString=function(e){return _toString.call(e)},isObject=exports.isObject=function(e){return\"[object Object]\"==exports.toString(e)},isArray=exports.isArray=function(e){return Array.isArray(e)||\"object\"==typeof e&&\"[object Array]\"==exports.toString(e)};exports.keys=Object.keys||function(e){var r=[];for(var t in e)e.hasOwnProperty(t)&&r.push(t);return r},exports.create=\"function\"==typeof Object.create?Object.create:create;function create(e){if(arguments.length>1)throw new Error(\"Adding properties is not supported\");function r(){}return r.prototype=e,new r}exports.inherits=function(e,r){e.prototype=exports.create(r.prototype),e.prototype.constructor=e};var soon=exports.soon=\"function\"==typeof setImmediate?setImmediate:process.nextTick;exports.cloneBuffer=function(e){var r=new Buffer(e.length);return e.copy(r,0,0,e.length),r},exports.isArgumentsObject=function(e){return\"[object Arguments]\"===Object.prototype.toString.call(e)};","node_modules/debug/src/index.js":"\"undefined\"==typeof process||\"renderer\"===process.type?module.exports=require(\"./browser.js\"):module.exports=require(\"./node.js\");","node_modules/mquery/lib/permissions.js":"\"use strict\";var denied=exports;denied.distinct=function(e){if(e._fields&&Object.keys(e._fields).length>0)return\"field selection and slice\";var n;return Object.keys(denied.distinct).every(function(d){return!e.options[d]||(n=d,!1)}),n},denied.distinct.select=denied.distinct.slice=denied.distinct.sort=denied.distinct.limit=denied.distinct.skip=denied.distinct.batchSize=denied.distinct.comment=denied.distinct.maxScan=denied.distinct.snapshot=denied.distinct.hint=denied.distinct.tailable=!0,denied.findOneAndUpdate=denied.findOneAndRemove=function(e){var n;return Object.keys(denied.findOneAndUpdate).every(function(d){return!e.options[d]||(n=d,!1)}),n},denied.findOneAndUpdate.limit=denied.findOneAndUpdate.skip=denied.findOneAndUpdate.batchSize=denied.findOneAndUpdate.maxScan=denied.findOneAndUpdate.snapshot=denied.findOneAndUpdate.hint=denied.findOneAndUpdate.tailable=denied.findOneAndUpdate.comment=!0,denied.count=function(e){if(e._fields&&Object.keys(e._fields).length>0)return\"field selection and slice\";var n;return Object.keys(denied.count).every(function(d){return!e.options[d]||(n=d,!1)}),n},denied.count.slice=denied.count.batchSize=denied.count.comment=denied.count.maxScan=denied.count.snapshot=denied.count.tailable=!0;","node_modules/mquery/lib/env.js":"\"use strict\";exports.isNode=\"undefined\"!=typeof process&&\"object\"==typeof module&&\"object\"==typeof global&&\"function\"==typeof Buffer&&process.argv,exports.isMongo=!exports.isNode&&\"function\"==typeof printjson&&\"function\"==typeof ObjectId&&\"function\"==typeof rs&&\"function\"==typeof sh,exports.isBrowser=!exports.isNode&&!exports.isMongo&&\"undefined\"!=typeof window,exports.type=exports.isNode?\"node\":exports.isMongo?\"mongo\":exports.isBrowser?\"browser\":\"unknown\";","node_modules/mquery/lib/collection/index.js":"\"use strict\";var env=require(\"../env\");if(\"unknown\"==env.type)throw new Error(\"Unknown environment\");module.exports=env.isNode?require(\"./node\"):(env.isMongo,require(\"./collection\"));","node_modules/mquery/lib/collection/collection.js":"\"use strict\";var methods=[\"find\",\"findOne\",\"update\",\"updateMany\",,\"updateOne\",\"replaceOne\",\"remove\",\"count\",\"distinct\",\"findAndModify\",\"aggregate\",\"findStream\",\"deleteOne\",\"deleteMany\"];function Collection(){}for(var i=0,len=methods.length;i<len;++i){var method=methods[i];Collection.prototype[method]=notImplemented(method)}module.exports=exports=Collection,Collection.methods=methods;function notImplemented(e){return function(){throw new Error(\"collection.\"+e+\" not implemented\")}}","node_modules/bluebird/js/release/bluebird.js":"\"use strict\";var old;\"undefined\"!=typeof Promise&&(old=Promise);function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var bluebird=require(\"./promise\")();bluebird.noConflict=noConflict,module.exports=bluebird;","node_modules/debug/src/node.js":"var tty=require(\"tty\"),util=require(\"util\");exports=module.exports=require(\"./debug\"),exports.init=init,exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.colors=[6,2,3,4,5,1];try{var supportsColor=require(\"supports-color\");supportsColor&&supportsColor.level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}exports.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var s=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&(\"null\"===r?null:Number(r)),t[s]=r,t},{});function useColors(){return\"colors\"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}exports.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,util.inspect(t,this.inspectOpts).split(\"\\n\").map(function(t){return t.trim()}).join(\" \")},exports.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,util.inspect(t,this.inspectOpts)};function formatArgs(t){var e=this.namespace;if(this.useColors){var s=this.color,r=\"\u001b[3\"+(s<8?s:\"8;5;\"+s),o=\"  \"+r+\";1m\"+e+\" \u001b[0m\";t[0]=o+t[0].split(\"\\n\").join(\"\\n\"+o),t.push(r+\"m+\"+exports.humanize(this.diff)+\"\u001b[0m\")}else t[0]=getDate()+e+\" \"+t[0]}function getDate(){return exports.inspectOpts.hideDate?\"\":(new Date).toISOString()+\" \"}function log(){return process.stderr.write(util.format.apply(util,arguments)+\"\\n\")}function save(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t}function load(){return process.env.DEBUG}function init(t){t.inspectOpts={};for(var e=Object.keys(exports.inspectOpts),s=0;s<e.length;s++)t.inspectOpts[e[s]]=exports.inspectOpts[e[s]]}exports.enable(load());","node_modules/debug/src/debug.js":"exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require(\"ms\"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={};function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){var r;function t(){if(t.enabled){var e=t,s=+new Date,o=s-(r||s);e.diff=o,e.prev=r,e.curr=s,r=s;for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];n[0]=exports.coerce(n[0]),\"string\"!=typeof n[0]&&n.unshift(\"%O\");var p=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(r,t){if(\"%%\"===r)return r;p++;var s=exports.formatters[t];if(\"function\"==typeof s){var o=n[p];r=s.call(e,o),n.splice(p,1),p--}return r}),exports.formatArgs.call(e,n);(t.log||exports.log||console.log.bind(console)).apply(e,n)}}return t.namespace=e,t.enabled=exports.enabled(e),t.useColors=exports.useColors(),t.color=selectColor(e),t.destroy=destroy,\"function\"==typeof exports.init&&exports.init(t),exports.instances.push(t),t}function destroy(){var e=exports.instances.indexOf(this);return-1!==e&&(exports.instances.splice(e,1),!0)}function enable(e){exports.save(e),exports.names=[],exports.skips=[];var r,t=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=t.length;for(r=0;r<s;r++)t[r]&&(\"-\"===(e=t[r].replace(/\\*/g,\".*?\"))[0]?exports.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):exports.names.push(new RegExp(\"^\"+e+\"$\")));for(r=0;r<exports.instances.length;r++){var o=exports.instances[r];o.enabled=exports.enabled(o.namespace)}}function disable(){exports.enable(\"\")}function enabled(e){if(\"*\"===e[e.length-1])return!0;var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}","node_modules/supports-color/index.js":"\"use strict\";var argv=process.argv,terminator=argv.indexOf(\"--\"),hasFlag=function(s){s=\"--\"+s;var r=argv.indexOf(s);return-1!==r&&(-1===terminator||r<terminator)};module.exports=\"FORCE_COLOR\"in process.env||!(hasFlag(\"no-color\")||hasFlag(\"no-colors\")||hasFlag(\"color=false\"))&&(!!(hasFlag(\"color\")||hasFlag(\"colors\")||hasFlag(\"color=true\")||hasFlag(\"color=always\"))||!(process.stdout&&!process.stdout.isTTY)&&(\"win32\"===process.platform||(\"COLORTERM\"in process.env||\"dumb\"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM))));","node_modules/mquery/lib/collection/node.js":"\"use strict\";var Collection=require(\"./collection\"),utils=require(\"../utils\");function NodeCollection(o){this.collection=o,this.collectionName=o.collectionName}utils.inherits(NodeCollection,Collection),NodeCollection.prototype.find=function(o,t,e){this.collection.find(o,t,function(o,t){if(o)return e(o);t.toArray(e)})},NodeCollection.prototype.findOne=function(o,t,e){this.collection.findOne(o,t,e)},NodeCollection.prototype.count=function(o,t,e){this.collection.count(o,t,e)},NodeCollection.prototype.distinct=function(o,t,e,n){this.collection.distinct(o,t,e,n)},NodeCollection.prototype.update=function(o,t,e,n){this.collection.update(o,t,e,n)},NodeCollection.prototype.updateMany=function(o,t,e,n){this.collection.updateMany(o,t,e,n)},NodeCollection.prototype.updateOne=function(o,t,e,n){this.collection.updateOne(o,t,e,n)},NodeCollection.prototype.replaceOne=function(o,t,e,n){this.collection.replaceOne(o,t,e,n)},NodeCollection.prototype.deleteOne=function(o,t,e){this.collection.deleteOne(o,t,e)},NodeCollection.prototype.deleteMany=function(o,t,e){this.collection.deleteMany(o,t,e)},NodeCollection.prototype.remove=function(o,t,e){this.collection.remove(o,t,e)},NodeCollection.prototype.findAndModify=function(o,t,e,n){var i=Array.isArray(e.sort)?e.sort:[];this.collection.findAndModify(o,i,t,e,n)},NodeCollection.prototype.findStream=function(o,t,e){return this.collection.find(o,t)},NodeCollection.prototype.findCursor=function(o,t){return this.collection.find(o,t)},module.exports=exports=NodeCollection;","node_modules/bluebird/js/release/promise.js":"\"use strict\";module.exports=function(){var e=function(){return new _(\"circular promise resolution chain\\n\\n    See http://goo.gl/MqrFmX\\n\")},t=function(){return new P.PromiseInspection(this._target())},i=function(e){return P.reject(new _(e))};function r(){}var n,o={},s=require(\"./util\");n=s.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},s.notEnumerableProp(P,\"_getDomain\",n);var l=require(\"./es5\"),a=require(\"./async\"),c=new a;l.defineProperty(P,\"_async\",{value:c});var u=require(\"./errors\"),_=P.TypeError=u.TypeError;P.RangeError=u.RangeError;var h=P.CancellationError=u.CancellationError;P.TimeoutError=u.TimeoutError,P.OperationalError=u.OperationalError,P.RejectionError=u.OperationalError,P.AggregateError=u.AggregateError;var f=function(){},d={},p={},v=require(\"./thenables\")(P,f),m=require(\"./promise_array\")(P,f,v,i,r),b=require(\"./context\")(P),y=b.create,j=require(\"./debuggability\")(P,b),g=(j.CapturedTrace,require(\"./finally\")(P,v,p)),F=require(\"./catch_filter\")(p),C=require(\"./nodeback\"),w=s.errorObj,k=s.tryCatch;function P(e){e!==f&&function(e,t){if(null==e||e.constructor!==P)throw new _(\"the promise constructor cannot be invoked directly\\n\\n    See http://goo.gl/MqrFmX\\n\");if(\"function\"!=typeof t)throw new _(\"expecting a function but got \"+s.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent(\"promiseCreated\",this)}P.prototype.toString=function(){return\"[object Promise]\"},P.prototype.caught=P.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,n=new Array(t-1),o=0;for(r=0;r<t-1;++r){var l=arguments[r];if(!s.isObject(l))return i(\"Catch statement predicate: expecting an object but got \"+s.classString(l));n[o++]=l}return n.length=o,e=arguments[r],this.then(void 0,F(n,e,this))}return this.then(void 0,e)},P.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},P.prototype.then=function(e,t){if(j.warnings()&&arguments.length>0&&\"function\"!=typeof e&&\"function\"!=typeof t){var i=\".then() only accepts functions but was passed: \"+s.classString(e);arguments.length>1&&(i+=\", \"+s.classString(t)),this._warn(i)}return this._then(e,t,void 0,void 0,void 0)},P.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},P.prototype.spread=function(e){return\"function\"!=typeof e?i(\"expecting a function but got \"+s.classString(e)):this.all()._then(e,void 0,void 0,d,void 0)},P.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},P.prototype.all=function(){return arguments.length>0&&this._warn(\".all() was passed arguments but it does not take any\"),new m(this).promise()},P.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},P.getNewLibraryCopy=module.exports,P.is=function(e){return e instanceof P},P.fromNode=P.fromCallback=function(e){var t=new P(f);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=k(e)(C(t,i));return r===w&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},P.all=function(e){return new m(e).promise()},P.resolve=P.fulfilled=P.cast=function(e){var t=v(e);return t instanceof P||((t=new P(f))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},P.reject=P.rejected=function(e){var t=new P(f);return t._captureStackTrace(),t._rejectCallback(e,!0),t},P.setScheduler=function(e){if(\"function\"!=typeof e)throw new _(\"expecting a function but got \"+s.classString(e));return c.setScheduler(e)},P.prototype._then=function(e,t,i,r,o){var l=void 0!==o,a=l?o:new P(f),u=this._target(),_=u._bitField;l||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&_)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent(\"promiseChained\",this,a));var d=n();if(0!=(50397184&_)){var p,v,m=u._settlePromiseCtx;0!=(33554432&_)?(v=u._rejectionHandler0,p=e):0!=(16777216&_)?(v=u._fulfillmentHandler0,p=t,u._unsetRejectionIsUnhandled()):(m=u._settlePromiseLateCancellationObserver,v=new h(\"late cancellation observer\"),u._attachExtraTrace(v),p=t),c.invoke(m,u,{handler:null===d?p:\"function\"==typeof p&&s.domainBind(d,p),promise:a,receiver:r,value:v})}else u._addCallbacks(e,t,a,r,d);return a},P.prototype._length=function(){return 65535&this._bitField},P.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},P.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},P.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},P.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent(\"promiseFulfilled\",this)},P.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent(\"promiseRejected\",this)},P.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent(\"promiseResolved\",this)},P.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},P.prototype._isFinal=function(){return(4194304&this._bitField)>0},P.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},P.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent(\"promiseCancelled\",this)},P.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},P.prototype._setAsyncGuaranteed=function(){c.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},P.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==o)return void 0===t&&this._isBound()?this._boundValue():t},P.prototype._promiseAt=function(e){return this[4*e-4+2]},P.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},P.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},P.prototype._boundValue=function(){},P.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,i=e._rejectionHandler0,r=e._promise0,n=e._receiverAt(0);void 0===n&&(n=o),this._addCallbacks(t,i,r,n,null)},P.prototype._migrateCallbackAt=function(e,t){var i=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),n=e._promiseAt(t),s=e._receiverAt(t);void 0===s&&(s=o),this._addCallbacks(i,r,n,s,null)},P.prototype._addCallbacks=function(e,t,i,r,n){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=i,this._receiver0=r,\"function\"==typeof e&&(this._fulfillmentHandler0=null===n?e:s.domainBind(n,e)),\"function\"==typeof t&&(this._rejectionHandler0=null===n?t:s.domainBind(n,t));else{var l=4*o-4;this[l+2]=i,this[l+3]=r,\"function\"==typeof e&&(this[l+0]=null===n?e:s.domainBind(n,e)),\"function\"==typeof t&&(this[l+1]=null===n?t:s.domainBind(n,t))}return this._setLength(o+1),o},P.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},P.prototype._resolveCallback=function(t,i){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(e(),!1);var r=v(t,this);if(!(r instanceof P))return this._fulfill(t);i&&this._propagateFrom(r,2);var n=r._target();if(n!==this){var o=n._bitField;if(0==(50397184&o)){var s=this._length();s>0&&n._migrateCallback0(this);for(var l=1;l<s;++l)n._migrateCallbackAt(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(n._value());else if(0!=(16777216&o))this._reject(n._reason());else{var a=new h(\"late cancellation observer\");n._attachExtraTrace(a),this._reject(a)}}else this._reject(e())}},P.prototype._rejectCallback=function(e,t,i){var r=s.ensureErrorObject(e),n=r===e;if(!n&&!i&&j.warnings()){var o=\"a promise was rejected with a non-error: \"+s.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&n),this._reject(e)},P.prototype._resolveFromExecutor=function(e){if(e!==f){var t=this;this._captureStackTrace(),this._pushContext();var i=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,i)});i=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},P.prototype._settlePromiseFromHandler=function(e,t,i,r){var n=r._bitField;if(0==(65536&n)){r._pushContext();var o;t===d?i&&\"number\"==typeof i.length?o=k(e).apply(this._boundValue(),i):(o=w).e=new _(\"cannot .spread() a non-array: \"+s.classString(i)):o=k(e).call(t,i);var l=r._popContext();0==(65536&(n=r._bitField))&&(o===p?r._reject(i):o===w?r._rejectCallback(o.e,!1):(j.checkForgottenReturns(o,l,\"\",r,this),r._resolveCallback(o)))}},P.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},P.prototype._followee=function(){return this._rejectionHandler0},P.prototype._setFollowee=function(e){this._rejectionHandler0=e},P.prototype._settlePromise=function(e,i,n,o){var s=e instanceof P,l=this._bitField,a=0!=(134217728&l);0!=(65536&l)?(s&&e._invokeInternalOnCancel(),n instanceof g&&n.isFinallyHandler()?(n.cancelPromise=e,k(i).call(n,o)===w&&e._reject(w.e)):i===t?e._fulfill(t.call(n)):n instanceof r?n._promiseCancelled(e):s||e instanceof m?e._cancel():n.cancel()):\"function\"==typeof i?s?(a&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(i,n,o,e)):i.call(n,o,e):n instanceof r?n._isResolved()||(0!=(33554432&l)?n._promiseFulfilled(o,e):n._promiseRejected(o,e)):s&&(a&&e._setAsyncGuaranteed(),0!=(33554432&l)?e._fulfill(o):e._reject(o))},P.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,r=e.receiver,n=e.value;\"function\"==typeof t?i instanceof P?this._settlePromiseFromHandler(t,r,n,i):t.call(r,n,i):i instanceof P&&i._reject(n)},P.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},P.prototype._settlePromise0=function(e,t,i){var r=this._promise0,n=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,n,t)},P.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},P.prototype._fulfill=function(t){var i=this._bitField;if(!((117506048&i)>>>16)){if(t===this){var r=e();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&i)>0&&(0!=(134217728&i)?this._settlePromises():c.settlePromises(this))}},P.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return c.fatalError(e,s.isNode);(65535&t)>0?c.settlePromises(this):this._ensurePossibleRejectionHandled()}},P.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var r=this._fulfillmentHandlerAt(i),n=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(n,r,o,t)}},P.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var r=this._rejectionHandlerAt(i),n=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(n,r,o,t)}},P.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var i=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,i,e),this._rejectPromises(t,i)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},P.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0};function q(e){this.promise._resolveCallback(e)}function E(e){this.promise._rejectCallback(e,!1)}P.defer=P.pending=function(){j.deprecated(\"Promise.defer\",\"new Promise\");return{promise:new P(f),resolve:q,reject:E}},s.notEnumerableProp(P,\"_makeSelfResolutionError\",e),require(\"./method\")(P,f,v,i,j),require(\"./bind\")(P,f,v,j),require(\"./cancel\")(P,m,i,j),require(\"./direct_resolve\")(P),require(\"./synchronous_inspection\")(P),require(\"./join\")(P,m,v,f,c,n),P.Promise=P,P.version=\"3.5.1\",require(\"./map.js\")(P,m,i,v,f,j),require(\"./call_get.js\")(P),require(\"./using.js\")(P,i,v,y,f,j),require(\"./timers.js\")(P,f,j),require(\"./generators.js\")(P,i,f,v,r,j),require(\"./nodeify.js\")(P),require(\"./promisify.js\")(P,f),require(\"./props.js\")(P,m,v,i),require(\"./race.js\")(P,f,v,i),require(\"./reduce.js\")(P,m,i,v,f,j),require(\"./settle.js\")(P,m,j),require(\"./some.js\")(P,m,i),require(\"./filter.js\")(P,f),require(\"./each.js\")(P,f),require(\"./any.js\")(P),s.toFastProperties(P),s.toFastProperties(P.prototype);function H(e){var t=new P(f);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new P(f)),j.setBounds(a.firstLineError,s.lastLineError),P};","node_modules/bluebird/js/release/util.js":"\"use strict\";var es5=require(\"./es5\"),canEvaluate=\"undefined\"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:void 0!==this?this:null;function tryCatcher(){try{var r=tryCatchTarget;return tryCatchTarget=null,r.apply(this,arguments)}catch(r){return errorObj.e=r,errorObj}}function tryCatch(r){return tryCatchTarget=r,tryCatcher}var inherits=function(r,e){var t={}.hasOwnProperty;function n(){this.constructor=r,this.constructor$=e;for(var n in e.prototype)t.call(e.prototype,n)&&\"$\"!==n.charAt(n.length-1)&&(this[n+\"$\"]=e.prototype[n])}return n.prototype=e.prototype,r.prototype=new n,r.prototype};function isPrimitive(r){return null==r||!0===r||!1===r||\"string\"==typeof r||\"number\"==typeof r}function isObject(r){return\"function\"==typeof r||\"object\"==typeof r&&null!==r}function maybeWrapAsError(r){return isPrimitive(r)?new Error(safeToString(r)):r}function withAppended(r,e){var t,n=r.length,o=new Array(n+1);for(t=0;t<n;++t)o[t]=r[t];return o[t]=e,o}function getDataPropertyOrDefault(r,e,t){if(!es5.isES5)return{}.hasOwnProperty.call(r,e)?r[e]:void 0;var n=Object.getOwnPropertyDescriptor(r,e);return null!=n?null==n.get&&null==n.set?n.value:t:void 0}function notEnumerableProp(r,e,t){if(isPrimitive(r))return r;var n={value:t,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(r,e,n),r}function thrower(r){throw r}var inheritedDataKeys=function(){var r=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var t=0;t<r.length;++t)if(r[t]===e)return!0;return!1};if(es5.isES5){var t=Object.getOwnPropertyNames;return function(r){for(var n=[],o=Object.create(null);null!=r&&!e(r);){var i;try{i=t(r)}catch(r){return n}for(var a=0;a<i.length;++a){var s=i[a];if(!o[s]){o[s]=!0;var c=Object.getOwnPropertyDescriptor(r,s);null!=c&&null==c.get&&null==c.set&&n.push(s)}}r=es5.getPrototypeOf(r)}return n}}var n={}.hasOwnProperty;return function(t){if(e(t))return[];var o=[];r:for(var i in t)if(n.call(t,i))o.push(i);else{for(var a=0;a<r.length;++a)if(n.call(r[a],i))continue r;o.push(i)}return o}}(),thisAssignmentPattern=/this\\s*\\.\\s*\\S+\\s*=/;function isClass(r){try{if(\"function\"==typeof r){var e=es5.names(r.prototype),t=es5.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&\"constructor\"===e[0]),o=thisAssignmentPattern.test(r+\"\")&&es5.names(r).length>0;if(t||n||o)return!0}return!1}catch(r){return!1}}function toFastProperties(r){function e(){}e.prototype=r;for(var t=8;t--;)new e;return r}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(r){return rident.test(r)}function filledRange(r,e,t){for(var n=new Array(r),o=0;o<r;++o)n[o]=e+o+t;return n}function safeToString(r){try{return r+\"\"}catch(r){return\"[no string representation]\"}}function isError(r){return r instanceof Error||null!==r&&\"object\"==typeof r&&\"string\"==typeof r.message&&\"string\"==typeof r.name}function markAsOriginatingFromRejection(r){try{notEnumerableProp(r,\"isOperational\",!0)}catch(r){}}function originatesFromRejection(r){return null!=r&&(r instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===r.isOperational)}function canAttachTrace(r){return isError(r)&&es5.propertyIsWritable(r,\"stack\")}var ensureErrorObject=\"stack\"in new Error?function(r){return canAttachTrace(r)?r:new Error(safeToString(r))}:function(r){if(canAttachTrace(r))return r;try{throw new Error(safeToString(r))}catch(r){return r}};function classString(r){return{}.toString.call(r)}function copyDescriptors(r,e,t){for(var n=es5.names(r),o=0;o<n.length;++o){var i=n[o];if(t(i))try{es5.defineProperty(e,i,es5.getDescriptor(r,i))}catch(r){}}}var asArray=function(r){return es5.isArray(r)?r:null};if(\"undefined\"!=typeof Symbol&&Symbol.iterator){var ArrayFrom=\"function\"==typeof Array.from?function(r){return Array.from(r)}:function(r){for(var e,t=[],n=r[Symbol.iterator]();!(e=n.next()).done;)t.push(e.value);return t};asArray=function(r){return es5.isArray(r)?r:null!=r&&\"function\"==typeof r[Symbol.iterator]?ArrayFrom(r):null}}var isNode=\"undefined\"!=typeof process&&\"[object process]\"===classString(process).toLowerCase(),hasEnvVariables=\"undefined\"!=typeof process&&void 0!==process.env;function env(r){return hasEnvVariables?process.env[r]:void 0}function getNativePromise(){if(\"function\"==typeof Promise)try{var r=new Promise(function(){});if(\"[object Promise]\"==={}.toString.call(r))return Promise}catch(r){}}function domainBind(r,e){return r.bind(e)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:\"undefined\"!=typeof chrome&&chrome&&\"function\"==typeof chrome.loadTimes,isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var r=process.versions.node.split(\".\").map(Number);return 0===r[0]&&r[1]>10||r[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(r){ret.lastLineError=r}module.exports=ret;","node_modules/bluebird/js/release/es5.js":"var isES5=function(){\"use strict\";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(e,r){var t=Object.getOwnPropertyDescriptor(e,r);return!(t&&!t.writable&&!t.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(e){var r=[];for(var t in e)has.call(e,t)&&r.push(t);return r},ObjectGetDescriptor=function(e,r){return{value:e[r]}},ObjectDefineProperty=function(e,r,t){return e[r]=t.value,e},ObjectFreeze=function(e){return e},ObjectGetPrototypeOf=function(e){try{return Object(e).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(e){try{return\"[object Array]\"===str.call(e)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}","node_modules/bluebird/js/release/async.js":"\"use strict\";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=require(\"./schedule\"),Queue=require(\"./queue\"),util=require(\"./util\");function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=schedule}Async.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,t){t?(process.stderr.write(\"Fatal \"+(e instanceof Error?e.stack:e)+\"\\n\"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),\"undefined\"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error(\"No async scheduler available\\n\\n    See http://goo.gl/MqrFmX\\n\")}};function AsyncInvokeLater(e,t,s){this._lateQueue.push(e,t,s),this._queueTick()}function AsyncInvoke(e,t,s){this._normalQueue.push(e,t,s),this._queueTick()}function AsyncSettlePromises(e){this._normalQueue._pushOne(e),this._queueTick()}util.hasDevTools?(Async.prototype.invokeLater=function(e,t,s){this._trampolineEnabled?AsyncInvokeLater.call(this,e,t,s):this._schedule(function(){setTimeout(function(){e.call(t,s)},100)})},Async.prototype.invoke=function(e,t,s){this._trampolineEnabled?AsyncInvoke.call(this,e,t,s):this._schedule(function(){e.call(t,s)})},Async.prototype.settlePromises=function(e){this._trampolineEnabled?AsyncSettlePromises.call(this,e):this._schedule(function(){e._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if(\"function\"==typeof t){var s=e.shift(),i=e.shift();t.call(s,i)}else t._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError;","node_modules/bluebird/js/release/errors.js":"\"use strict\";var es5=require(\"./es5\"),Objectfreeze=es5.freeze,util=require(\"./util\"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp;function subError(r,e){function o(t){if(!(this instanceof o))return new o(t);notEnumerableProp(this,\"message\",\"string\"==typeof t?t:e),notEnumerableProp(this,\"name\",r),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return inherits(o,Error),o}var _TypeError,_RangeError,Warning=subError(\"Warning\",\"warning\"),CancellationError=subError(\"CancellationError\",\"cancellation error\"),TimeoutError=subError(\"TimeoutError\",\"timeout error\"),AggregateError=subError(\"AggregateError\",\"aggregate error\");try{_TypeError=TypeError,_RangeError=RangeError}catch(r){_TypeError=subError(\"TypeError\",\"type error\"),_RangeError=subError(\"RangeError\",\"range error\")}for(var methods=\"join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse\".split(\" \"),i=0;i<methods.length;++i)\"function\"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,\"length\",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var r=Array(4*level+1).join(\" \"),e=\"\\n\"+r+\"AggregateError of:\\n\";level++,r=Array(4*level+1).join(\" \");for(var o=0;o<this.length;++o){for(var t=this[o]===this?\"[Circular AggregateError]\":this[o]+\"\",a=t.split(\"\\n\"),n=0;n<a.length;++n)a[n]=r+a[n];e+=(t=a.join(\"\\n\"))+\"\\n\"}return level--,e};function OperationalError(r){if(!(this instanceof OperationalError))return new OperationalError(r);notEnumerableProp(this,\"name\",\"OperationalError\"),notEnumerableProp(this,\"message\",r),this.cause=r,this.isOperational=!0,r instanceof Error?(notEnumerableProp(this,\"message\",r.message),notEnumerableProp(this,\"stack\",r.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,\"__BluebirdErrorTypes__\",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning};","node_modules/bluebird/js/release/thenables.js":"\"use strict\";module.exports=function(t,r){var e=require(\"./util\"),n=e.errorObj,u=e.isObject;var c={}.hasOwnProperty;return function(l,o){if(u(l)){if(l instanceof t)return l;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return n.e=t,n}}(l);if(a===n){o&&o._pushContext();var i=t.reject(a.e);return o&&o._popContext(),i}if(\"function\"==typeof a)return function(t){try{return c.call(t,\"_promise0\")}catch(t){return!1}}(l)?(i=new t(r),l._then(i._fulfill,i._reject,void 0,i,null),i):function(u,c,l){var o=new t(r),a=o;l&&l._pushContext(),o._captureStackTrace(),l&&l._popContext();var i=!0,f=e.tryCatch(c).call(u,function(t){o&&(o._resolveCallback(t),o=null)},function(t){o&&(o._rejectCallback(t,i,!0),o=null)});return i=!1,o&&f===n&&(o._rejectCallback(f.e,!0,!0),o=null),a}(l,a,o)}return l}};","node_modules/bluebird/js/release/promise_array.js":"\"use strict\";module.exports=function(e,t,s,i,r){var n=require(\"./util\");n.isArray;function l(s){var i=this._promise=new e(t);s instanceof e&&i._propagateFrom(s,3),i._setOnCancel(this),this._values=s,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return n.inherits(l,r),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function t(r,l){var o=s(this._values,this._promise);if(o instanceof e){var a=(o=o._target())._bitField;if(this._values=o,0==(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(t,this._reject,void 0,this,l);if(0==(33554432&a))return 0!=(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(null!==(o=n.asArray(o)))0!==o.length?this._iterate(o):-5===l?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(l));else{var _=i(\"expecting an array or an iterable object but got \"+n.classString(o)).reason();this._promise._rejectCallback(_,!1)}},l.prototype._iterate=function(t){var i=this.getActualLength(t.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var r=this._promise,n=!1,l=null,o=0;o<i;++o){var a=s(t[o],r);l=a instanceof e?(a=a._target())._bitField:null,n?null!==l&&a.suppressUnhandledRejections():null!==l?0==(50397184&l)?(a._proxy(this,o),this._values[o]=a):n=0!=(33554432&l)?this._promiseFulfilled(a._value(),o):0!=(16777216&l)?this._promiseRejected(a._reason(),o):this._promiseCancelled(o):n=this._promiseFulfilled(a,o)}n||r._setAsyncGuaranteed()},l.prototype._isResolved=function(){return null===this._values},l.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},l.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},l.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},l.prototype._promiseFulfilled=function(e,t){this._values[t]=e;return++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var s=0;s<t.length;++s)t[s]instanceof e&&t[s].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(e){return e},l};","node_modules/bluebird/js/release/context.js":"\"use strict\";module.exports=function(t){var e=!1,o=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function p(){this._trace=new p.CapturedTrace(r())}p.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},p.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null};function r(){var t=o.length-1;if(t>=0)return o[t]}return p.CapturedTrace=null,p.create=function(){if(e)return new p},p.deactivateLongStackTraces=function(){},p.activateLongStackTraces=function(){var o=t.prototype._pushContext,n=t.prototype._popContext,i=t._peekContext,u=t.prototype._peekContext,a=t.prototype._promiseCreated;p.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=n,t._peekContext=i,t.prototype._peekContext=u,t.prototype._promiseCreated=a,e=!1},e=!0,t.prototype._pushContext=p.prototype._pushContext,t.prototype._popContext=p.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},p};","node_modules/bluebird/js/release/debuggability.js":"\"use strict\";module.exports=function(t,n){var e,r,o,i=t._getDomain,a=t._async,c=require(\"./errors\").Warning,s=require(\"./util\"),l=s.canAttachTrace,u=/[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/,f=/\\((?:timers\\.js):\\d+:\\d+\\)/,d=/[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/,p=null,h=null,_=!1,v=!(0==s.env(\"BLUEBIRD_DEBUG\")||!s.env(\"BLUEBIRD_DEBUG\")&&\"development\"!==s.env(\"NODE_ENV\")),g=!(0==s.env(\"BLUEBIRD_WARNINGS\")||!v&&!s.env(\"BLUEBIRD_WARNINGS\")),m=!(0==s.env(\"BLUEBIRD_LONG_STACK_TRACES\")||!v&&!s.env(\"BLUEBIRD_LONG_STACK_TRACES\")),y=0!=s.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\")&&(g||!!s.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){H(\"rejectionHandled\",e,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),H(\"unhandledRejection\",r,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,n,e){return O(t,n,e||this)},t.onPossiblyUnhandledRejection=function(t){var n=i();r=\"function\"==typeof t?null===n?t:s.domainBind(n,t):void 0},t.onUnhandledRejectionHandled=function(t){var n=i();e=\"function\"==typeof t?null===n?t:s.domainBind(n,t):void 0};var k=function(){};t.longStackTraces=function(){if(a.haveItemsQueued()&&!X.longStackTraces)throw new Error(\"cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/MqrFmX\\n\");if(!X.longStackTraces&&W()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;X.longStackTraces=!0,k=function(){if(a.haveItemsQueued()&&!X.longStackTraces)throw new Error(\"cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/MqrFmX\\n\");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),a.enableTrampoline(),X.longStackTraces=!1},t.prototype._captureStackTrace=x,t.prototype._attachExtraTrace=D,n.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return X.longStackTraces&&W()};var E=function(){try{if(\"function\"==typeof CustomEvent){var t=new CustomEvent(\"CustomEvent\");return s.global.dispatchEvent(t),function(t,n){var e=new CustomEvent(t.toLowerCase(),{detail:n,cancelable:!0});return!s.global.dispatchEvent(e)}}if(\"function\"==typeof Event){t=new Event(\"CustomEvent\");return s.global.dispatchEvent(t),function(t,n){var e=new Event(t.toLowerCase(),{cancelable:!0});return e.detail=n,!s.global.dispatchEvent(e)}}return(t=document.createEvent(\"CustomEvent\")).initCustomEvent(\"testingtheevent\",!1,!0,{}),s.global.dispatchEvent(t),function(t,n){var e=document.createEvent(\"CustomEvent\");return e.initCustomEvent(t.toLowerCase(),!1,!0,n),!s.global.dispatchEvent(e)}}catch(t){}return function(){return!1}}(),b=s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(t){var n=\"on\"+t.toLowerCase(),e=s.global[n];return!!e&&(e.apply(s.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function T(t,n){return{promise:n}}var w={promiseCreated:T,promiseFulfilled:T,promiseRejected:T,promiseResolved:T,promiseCancelled:T,promiseChained:function(t,n,e){return{promise:n,child:e}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,e){return{reason:n,promise:e}},rejectionHandled:T},C=function(t){var n=!1;try{n=b.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var e=!1;try{e=E(t,w[t].apply(null,arguments))}catch(t){a.throwLater(t),e=!0}return e||n};t.config=function(n){if(\"longStackTraces\"in(n=Object(n))&&(n.longStackTraces?t.longStackTraces():!n.longStackTraces&&t.hasLongStackTraces()&&k()),\"warnings\"in n){var e=n.warnings;X.warnings=!!e,y=X.warnings,s.isObject(e)&&\"wForgottenReturn\"in e&&(y=!!e.wForgottenReturn)}if(\"cancellation\"in n&&n.cancellation&&!X.cancellation){if(a.haveItemsQueued())throw new Error(\"cannot enable cancellation after promises are in use\");t.prototype._clearCancellationData=N,t.prototype._propagateFrom=L,t.prototype._onCancel=U,t.prototype._setOnCancel=F,t.prototype._attachCancellationCallback=j,t.prototype._execute=S,B=L,X.cancellation=!0}return\"monitoring\"in n&&(n.monitoring&&!X.monitoring?(X.monitoring=!0,t.prototype._fireEvent=C):!n.monitoring&&X.monitoring&&(X.monitoring=!1,t.prototype._fireEvent=R)),t};function R(){return!1}t.prototype._fireEvent=R,t.prototype._execute=function(t,n,e){try{t(n,e)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,n){};function S(t,n,e){var r=this;try{t(n,e,function(t){if(\"function\"!=typeof t)throw new TypeError(\"onCancel must be a function, got: \"+s.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function j(t){if(!this._isCancellable())return this;var n=this._onCancel();void 0!==n?s.isArray(n)?n.push(t):this._setOnCancel([n,t]):this._setOnCancel(t)}function U(){return this._onCancelField}function F(t){this._onCancelField=t}function N(){this._cancellationParent=void 0,this._onCancelField=void 0}function L(t,n){if(0!=(1&n)){this._cancellationParent=t;var e=t._branchesRemainingToCancel;void 0===e&&(e=0),t._branchesRemainingToCancel=e+1}0!=(2&n)&&t._isBound()&&this._setBoundTo(t._boundTo)}var B=function(t,n){0!=(2&n)&&t._isBound()&&this._setBoundTo(t._boundTo)};function I(){var n=this._boundTo;return void 0!==n&&n instanceof t?n.isFulfilled()?n.value():void 0:n}function x(){this._trace=new V(this._peekContext())}function D(t,n){if(l(t)){var e=this._trace;if(void 0!==e&&n&&(e=e._parent),void 0!==e)e.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=G(t);s.notEnumerableProp(t,\"stack\",r.message+\"\\n\"+r.stack.join(\"\\n\")),s.notEnumerableProp(t,\"__stackCleaned__\",!0)}}}function O(n,e,r){if(X.warnings){var o,i=new c(n);if(e)r._attachExtraTrace(i);else if(X.longStackTraces&&(o=t._peekContext()))o.attachExtraTrace(i);else{var a=G(i);i.stack=a.message+\"\\n\"+a.stack.join(\"\\n\")}C(\"warning\",i)||P(i,\"\",!0)}}function A(t){for(var n=[],e=0;e<t.length;++e){var r=t[e],o=\"    (No stack trace)\"===r||p.test(r),i=o&&$(r);o&&!i&&(_&&\" \"!==r.charAt(0)&&(r=\"    \"+r),n.push(r))}return n}function G(t){var n=t.stack,e=t.toString();return n=\"string\"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\\s+$/g,\"\").split(\"\\n\"),e=0;e<n.length;++e){var r=n[e];if(\"    (No stack trace)\"===r||p.test(r))break}return e>0&&\"SyntaxError\"!=t.name&&(n=n.slice(e)),n}(t):[\"    (No stack trace)\"],{message:e,stack:\"SyntaxError\"==t.name?n:A(n)}}function P(t,n,e){if(\"undefined\"!=typeof console){var r;if(s.isObject(t)){var i=t.stack;r=n+h(i,t)}else r=n+String(t);\"function\"==typeof o?o(r,e):\"function\"!=typeof console.log&&\"object\"!=typeof console.log||console.log(r)}}function H(t,n,e,r){var o=!1;try{\"function\"==typeof n&&(o=!0,\"rejectionHandled\"===t?n(r):n(e,r))}catch(t){a.throwLater(t)}\"unhandledRejection\"===t?C(t,e,r)||o||P(e,\"Unhandled rejection \"):C(t,r)}function q(t){var n;if(\"function\"==typeof t)n=\"[function \"+(t.name||\"anonymous\")+\"]\";else{n=t&&\"function\"==typeof t.toString?t.toString():s.toString(t);if(/\\[object [a-zA-Z0-9$_]+\\]/.test(n))try{n=JSON.stringify(t)}catch(t){}0===n.length&&(n=\"(empty array)\")}return\"(<\"+function(t){if(t.length<41)return t;return t.substr(0,38)+\"...\"}(n)+\">, no stack trace)\"}function W(){return\"function\"==typeof K}var $=function(){return!1},M=/[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;function Q(t){var n=t.match(M);if(n)return{fileName:n[1],line:parseInt(n[2],10)}}function V(t){this._parent=t,this._promisesCreated=0;var n=this._length=1+(void 0===t?0:t._length);K(this,V),n>32&&this.uncycle()}s.inherits(V,Error),n.CapturedTrace=V,V.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var n=[],e={},r=0,o=this;void 0!==o;++r)n.push(o),o=o._parent;for(r=(t=this._length=r)-1;r>=0;--r){var i=n[r].stack;void 0===e[i]&&(e[i]=r)}for(r=0;r<t;++r){var a=e[n[r].stack];if(void 0!==a&&a!==r){a>0&&(n[a-1]._parent=void 0,n[a-1]._length=1),n[r]._parent=void 0,n[r]._length=1;var c=r>0?n[r-1]:this;a<t-1?(c._parent=n[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var s=c._length+1,l=r-2;l>=0;--l)n[l]._length=s,s++;return}}}},V.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var n=G(t),e=n.message,r=[n.stack],o=this;void 0!==o;)r.push(A(o.stack.split(\"\\n\"))),o=o._parent;!function(t){for(var n=t[0],e=1;e<t.length;++e){for(var r=t[e],o=n.length-1,i=n[o],a=-1,c=r.length-1;c>=0;--c)if(r[c]===i){a=c;break}for(c=a;c>=0;--c){var s=r[c];if(n[o]!==s)break;n.pop(),o--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),s.notEnumerableProp(t,\"stack\",function(t,n){for(var e=0;e<n.length-1;++e)n[e].push(\"From previous event:\"),n[e]=n[e].join(\"\\n\");return e<n.length&&(n[e]=n[e].join(\"\\n\")),t+\"\\n\"+n.join(\"\\n\")}(e,r)),s.notEnumerableProp(t,\"__stackCleaned__\",!0)}};var K=function(){var t=/^\\s*at\\s*/,n=function(t,n){return\"string\"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():q(n)};if(\"number\"==typeof Error.stackTraceLimit&&\"function\"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,p=t,h=n;var e=Error.captureStackTrace;return $=function(t){return u.test(t)},function(t,n){Error.stackTraceLimit+=6,e(t,n),Error.stackTraceLimit-=6}}var r=new Error;if(\"string\"==typeof r.stack&&r.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\")>=0)return p=/@/,h=n,_=!0,function(t){t.stack=(new Error).stack};var o;try{throw new Error}catch(t){o=\"stack\"in t}return\"stack\"in r||!o||\"number\"!=typeof Error.stackTraceLimit?(h=function(t,n){return\"string\"==typeof t?t:\"object\"!=typeof n&&\"function\"!=typeof n||void 0===n.name||void 0===n.message?q(n):n.toString()},null):(p=t,h=n,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(n){t.stack=n.stack}Error.stackTraceLimit-=6})}();\"undefined\"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},s.isNode&&process.stderr.isTTY?o=function(t,n){var e=n?\"\u001b[33m\":\"\u001b[31m\";console.warn(e+t+\"\u001b[0m\\n\")}:s.isNode||\"string\"!=typeof(new Error).stack||(o=function(t,n){console.warn(\"%c\"+t,n?\"color: darkorange\":\"color: red\")}));var X={warnings:g,longStackTraces:!1,cancellation:!1,monitoring:!1};return m&&t.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return B},boundValueFunction:function(){return I},checkForgottenReturns:function(t,n,e,r,o){if(void 0===t&&null!==n&&y){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&r._bitField))return;e&&(e+=\" \");var i=\"\",a=\"\";if(n._trace){for(var c=n._trace.stack.split(\"\\n\"),s=A(c),l=s.length-1;l>=0;--l){var u=s[l];if(!f.test(u)){var p=u.match(d);p&&(i=\"at \"+p[1]+\":\"+p[2]+\":\"+p[3]+\" \");break}}if(s.length>0){var h=s[0];for(l=0;l<c.length;++l)if(c[l]===h){l>0&&(a=\"\\n\"+c[l-1]);break}}}var _=\"a promise was created in a \"+e+\"handler \"+i+\"but was not returned from it, see http://goo.gl/rRqMUw\"+a;r._warn(_,!0,n)}},setBounds:function(t,n){if(W()){for(var e,r,o=t.stack.split(\"\\n\"),i=n.stack.split(\"\\n\"),a=-1,c=-1,s=0;s<o.length;++s)if(l=Q(o[s])){e=l.fileName,a=l.line;break}for(s=0;s<i.length;++s){var l;if(l=Q(i[s])){r=l.fileName,c=l.line;break}}a<0||c<0||!e||!r||e!==r||a>=c||($=function(t){if(u.test(t))return!0;var n=Q(t);return!!(n&&n.fileName===e&&a<=n.line&&n.line<=c)})}},warn:O,deprecated:function(t,n){var e=t+\" is deprecated and will be removed in a future version.\";return n&&(e+=\" Use \"+n+\" instead.\"),O(e)},CapturedTrace:V,fireDomEvent:E,fireGlobalEvent:b}};","node_modules/bluebird/js/release/finally.js":"\"use strict\";module.exports=function(t,e,n){var r=require(\"./util\"),i=t.CancellationError,a=r.errorObj,l=require(\"./catch_filter\")(n);function o(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}o.prototype.isFinallyHandler=function(){return 0===this.type};function s(t){this.finallyHandler=t}s.prototype._resultCancelled=function(){c(this.finallyHandler)};function c(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function h(){return p.call(this,this.promise._target()._settledValue())}function u(t){if(!c(this,t))return a.e=t,a}function p(r){var l=this.promise,o=this.handler;if(!this.called){this.called=!0;var p=this.isFinallyHandler()?o.call(l._boundValue()):o.call(l._boundValue(),r);if(p===n)return p;if(void 0!==p){l._setReturnedNonUndefined();var f=e(p,l);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new i(\"late cancellation observer\");return l._attachExtraTrace(d),a.e=d,a}f.isPending()&&f._attachCancellationCallback(new s(this))}return f._then(h,u,void 0,this,void 0)}}}return l.isRejected()?(c(this),a.e=r,a):(c(this),r)}return t.prototype._passThrough=function(t,e,n,r){return\"function\"!=typeof t?this.then():this._then(n,r,void 0,new o(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,p,p)},t.prototype.tap=function(t){return this._passThrough(t,1,p)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,p);var i,a=new Array(n-1),o=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!r.isObject(s))return t.reject(new TypeError(\"tapCatch statement predicate: expecting an object but got \"+r.classString(s)));a[o++]=s}a.length=o;var c=arguments[i];return this._passThrough(l(a,c,this),1,void 0,p)},o};","node_modules/bluebird/js/release/catch_filter.js":"\"use strict\";module.exports=function(r){var e=require(\"./util\"),t=require(\"./es5\").keys,n=e.tryCatch,u=e.errorObj;return function(i,o,l){return function(f){var a=l._boundValue();r:for(var c=0;c<i.length;++c){var s=i[c];if(s===Error||null!=s&&s.prototype instanceof Error){if(f instanceof s)return n(o).call(a,f)}else if(\"function\"==typeof s){var v=n(s).call(a,f);if(v===u)return v;if(v)return n(o).call(a,f)}else if(e.isObject(f)){for(var p=t(s),y=0;y<p.length;++y){var b=p[y];if(s[b]!=f[b])continue r}return n(o).call(a,f)}}return r}}};","node_modules/bluebird/js/release/nodeback.js":"\"use strict\";var util=require(\"./util\"),maybeWrapAsError=util.maybeWrapAsError,errors=require(\"./errors\"),OperationalError=errors.OperationalError,es5=require(\"./es5\");function isUntypedError(r){return r instanceof Error&&es5.getPrototypeOf(r)===Error.prototype}var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(r){var e;if(isUntypedError(r)){(e=new OperationalError(r)).name=r.name,e.message=r.message,e.stack=r.stack;for(var a=es5.keys(r),o=0;o<a.length;++o){var t=a[o];rErrorKey.test(t)||(e[t]=r[t])}return e}return util.markAsOriginatingFromRejection(r),r}function nodebackForPromise(r,e){return function(a,o){if(null!==r){if(a){var t=wrapAsOperationalError(maybeWrapAsError(a));r._attachExtraTrace(t),r._reject(t)}else if(e){for(var n=arguments.length,s=new Array(Math.max(n-1,0)),i=1;i<n;++i)s[i-1]=arguments[i];r._fulfill(s)}else r._fulfill(o);r=null}}}module.exports=nodebackForPromise;","node_modules/bluebird/js/release/method.js":"\"use strict\";module.exports=function(t,e,r,n,o){var a=require(\"./util\"),c=a.tryCatch;t.method=function(r){if(\"function\"!=typeof r)throw new t.TypeError(\"expecting a function but got \"+a.classString(r));return function(){var n=new t(e);n._captureStackTrace(),n._pushContext();var a=c(r).apply(this,arguments),u=n._popContext();return o.checkForgottenReturns(a,u,\"Promise.method\",n),n._resolveFromSyncValue(a),n}},t.attempt=t.try=function(r){if(\"function\"!=typeof r)return n(\"expecting a function but got \"+a.classString(r));var u=new t(e);u._captureStackTrace(),u._pushContext();var i;if(arguments.length>1){o.deprecated(\"calling Promise.try with more than 1 argument\");var l=arguments[1],s=arguments[2];i=a.isArray(l)?c(r).apply(s,l):c(r).call(s,l)}else i=c(r)();var p=u._popContext();return o.checkForgottenReturns(i,p,\"Promise.try\",u),u._resolveFromSyncValue(i),u},t.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}};","node_modules/bluebird/js/release/bind.js":"\"use strict\";module.exports=function(t,e,i,o){var n=!1,r=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},u=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},d=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){n||(n=!0,t.prototype._propagateFrom=o.propagateFromFunction(),t.prototype._boundValue=o.boundValueFunction());var _=i(r),a=new t(e);a._propagateFrom(this,1);var c=this._target();if(a._setBoundTo(_),_ instanceof t){var p={promiseRejectionQueued:!1,promise:a,target:c,bindingPromise:_};c._then(e,s,void 0,a,p),_._then(u,d,void 0,a,p),a._setOnCancel(_)}else a._resolveCallback(c);return a},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,i){return t.resolve(i).bind(e)}};","node_modules/bluebird/js/release/cancel.js":"\"use strict\";module.exports=function(e,n,t,i){var l=require(\"./util\"),a=l.tryCatch,c=l.errorObj,o=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn(\"cancellation is disabled\");for(var e=this,n=e;e._isCancellable();){if(!e._cancelBy(n)){n._isFollowing()?n._followee().cancel():n._cancelBranched();break}var t=e._cancellationParent;if(null==t||!t._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),n=e,e=t}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,n){if(l.isArray(e))for(var t=0;t<e.length;++t)this._doInvokeOnCancel(e[t],n);else if(void 0!==e)if(\"function\"==typeof e){if(!n){var i=a(e).call(this._boundValue());i===c&&(this._attachExtraTrace(i.e),o.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}};","node_modules/bluebird/js/release/direct_resolve.js":"\"use strict\";module.exports=function(t){function n(){return this.value}function e(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(e){return e instanceof t&&e.suppressUnhandledRejections(),this._then(n,void 0,void 0,{value:e},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(e,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,e,void 0,{reason:t},void 0);var n=arguments[1],o=function(){throw n};return this.caught(t,o)},t.prototype.catchReturn=function(e){if(arguments.length<=1)return e instanceof t&&e.suppressUnhandledRejections(),this._then(void 0,n,void 0,{value:e},void 0);var o=arguments[1];o instanceof t&&o.suppressUnhandledRejections();var r=function(){return o};return this.caught(e,r)}};","node_modules/bluebird/js/release/synchronous_inspection.js":"\"use strict\";module.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var i=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/MqrFmX\\n\");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/MqrFmX\\n\");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},r=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},l=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return l.call(this._target())},t.prototype.isRejected=function(){return r.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return i.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e};","node_modules/bluebird/js/release/join.js":"\"use strict\";module.exports=function(e,n,r,t,o,i){var a,s=require(\"./util\"),c=s.canEvaluate,l=s.tryCatch,u=s.errorObj;if(c){for(var p=function(e){return new Function(\"value\",\"holder\",\"                             \\n            'use strict';                                                    \\n            holder.pIndex = value;                                           \\n            holder.checkFulfillment(this);                                   \\n            \".replace(/Index/g,e))},h=function(e){return new Function(\"promise\",\"holder\",\"                           \\n            'use strict';                                                    \\n            holder.pIndex = promise;                                         \\n            \".replace(/Index/g,e))},f=function(n){for(var r=new Array(n),t=0;t<r.length;++t)r[t]=\"this.p\"+(t+1);var i=r.join(\" = \")+\" = null;\",a=\"var promise;\\n\"+r.map(function(e){return\"                                                         \\n                promise = \"+e+\";                                      \\n                if (promise instanceof Promise) {                            \\n                    promise.cancel();                                        \\n                }                                                            \\n            \"}).join(\"\\n\"),s=r.join(\", \"),c=\"Holder$\"+n,p=\"return function(tryCatch, errorObj, Promise, async) {    \\n            'use strict';                                                    \\n            function [TheName](fn) {                                         \\n                [TheProperties]                                              \\n                this.fn = fn;                                                \\n                this.asyncNeeded = true;                                     \\n                this.now = 0;                                                \\n            }                                                                \\n                                                                             \\n            [TheName].prototype._callFunction = function(promise) {          \\n                promise._pushContext();                                      \\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n                promise._popContext();                                       \\n                if (ret === errorObj) {                                      \\n                    promise._rejectCallback(ret.e, false);                   \\n                } else {                                                     \\n                    promise._resolveCallback(ret);                           \\n                }                                                            \\n            };                                                               \\n                                                                             \\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n                var now = ++this.now;                                        \\n                if (now === [TheTotal]) {                                    \\n                    if (this.asyncNeeded) {                                  \\n                        async.invoke(this._callFunction, this, promise);     \\n                    } else {                                                 \\n                        this._callFunction(promise);                         \\n                    }                                                        \\n                                                                             \\n                }                                                            \\n            };                                                               \\n                                                                             \\n            [TheName].prototype._resultCancelled = function() {              \\n                [CancellationCode]                                           \\n            };                                                               \\n                                                                             \\n            return [TheName];                                                \\n        }(tryCatch, errorObj, Promise, async);                               \\n        \";return p=p.replace(/\\[TheName\\]/g,c).replace(/\\[TheTotal\\]/g,n).replace(/\\[ThePassedArguments\\]/g,s).replace(/\\[TheProperties\\]/g,i).replace(/\\[CancellationCode\\]/g,a),new Function(\"tryCatch\",\"errorObj\",\"Promise\",\"async\",p)(l,u,e,o)},d=[],m=[],v=[],y=0;y<8;++y)d.push(f(y+1)),m.push(p(y+1)),v.push(h(y+1));a=function(e){this._reject(e)}}e.join=function(){var o,l=arguments.length-1;if(l>0&&\"function\"==typeof arguments[l]&&(o=arguments[l],l<=8&&c)){(j=new e(t))._captureStackTrace();for(var u=new(0,d[l-1])(o),p=m,h=0;h<l;++h){var f=r(arguments[h],j);if(f instanceof e){var y=(f=f._target())._bitField;0==(50397184&y)?(f._then(p[h],a,void 0,j,u),v[h](f,u),u.asyncNeeded=!1):0!=(33554432&y)?p[h].call(j,f._value(),u):0!=(16777216&y)?j._reject(f._reason()):j._cancel()}else p[h].call(j,f,u)}if(!j._isFateSealed()){if(u.asyncNeeded){var _=i();null!==_&&(u.fn=s.domainBind(_,u.fn))}j._setAsyncGuaranteed(),j._setOnCancel(u)}return j}for(var C=arguments.length,T=new Array(C),g=0;g<C;++g)T[g]=arguments[g];o&&T.pop();var j=new n(T).promise();return void 0!==o?j.spread(o):j}};","node_modules/bluebird/js/release/map.js":"\"use strict\";module.exports=function(t,e,i,r,n,s){var o=t._getDomain,u=require(\"./util\"),l=u.tryCatch,c=u.errorObj,h=t._async;function a(t,e,i,r){this.constructor$(t),this._promise._captureStackTrace();var s=o();this._callback=null===s?e:u.domainBind(s,e),this._preservedValues=r===n?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}u.inherits(a,e),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,i){var n=this._values,o=this.length(),u=this._preservedValues,h=this._limit;if(i<0){if(i=-1*i-1,n[i]=e,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(h>=1&&this._inFlight>=h)return n[i]=e,this._queue.push(i),!1;null!==u&&(u[i]=e);var a=this._promise,_=this._callback,p=a._boundValue();a._pushContext();var f=l(_).call(p,e,i,o),v=a._popContext();if(s.checkForgottenReturns(f,v,null!==u?\"Promise.filter\":\"Promise.map\",a),f===c)return this._reject(f.e),!0;var y=r(f,this._promise);if(y instanceof t){var m=(y=y._target())._bitField;if(0==(50397184&m))return h>=1&&this._inFlight++,n[i]=y,y._proxy(this,-1*(i+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(y._reason()),!0):(this._cancel(),!0);f=y._value()}n[i]=f}return++this._totalResolved>=o&&(null!==u?this._filter(n,u):this._resolve(n),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,i=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(i[r],r)}},a.prototype._filter=function(t,e){for(var i=e.length,r=new Array(i),n=0,s=0;s<i;++s)t[s]&&(r[n++]=e[s]);r.length=n,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues};function _(e,r,n,s){if(\"function\"!=typeof r)return i(\"expecting a function but got \"+u.classString(r));var o=0;if(void 0!==n){if(\"object\"!=typeof n||null===n)return t.reject(new TypeError(\"options argument must be an object but it is \"+u.classString(n)));if(\"number\"!=typeof n.concurrency)return t.reject(new TypeError(\"'concurrency' must be a number but it is \"+u.classString(n.concurrency)));o=n.concurrency}return o=\"number\"==typeof o&&isFinite(o)&&o>=1?o:0,new a(e,r,o,s).promise()}t.prototype.map=function(t,e){return _(this,t,e,null)},t.map=function(t,e,i,r){return _(t,e,i,r)}};","node_modules/bluebird/js/release/call_get.js":"\"use strict\";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[\" size\"]=getterCache[\" size\"]=0}module.exports=function(e){var t,n,r=require(\"./util\"),i=r.canEvaluate,o=r.isIdentifier,u=function(e){return new Function(\"ensureMethod\",\"                                    \\n        return function(obj) {                                               \\n            'use strict'                                                     \\n            var len = this.length;                                           \\n            ensureMethod(obj, 'methodName');                                 \\n            switch(len) {                                                    \\n                case 1: return obj.methodName(this[0]);                      \\n                case 2: return obj.methodName(this[0], this[1]);             \\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n                case 0: return obj.methodName();                             \\n                default:                                                     \\n                    return obj.methodName.apply(obj, this);                  \\n            }                                                                \\n        };                                                                   \\n        \".replace(/methodName/g,e))(h)},a=function(e){return new Function(\"obj\",\"                                             \\n        'use strict';                                                        \\n        return obj.propertyName;                                             \\n        \".replace(\"propertyName\",e))},c=function(e,t,n){var r=n[e];if(\"function\"!=typeof r){if(!o(e))return null;if(r=t(e),n[e]=r,n[\" size\"]++,n[\" size\"]>512){for(var i=Object.keys(n),u=0;u<256;++u)delete n[i[u]];n[\" size\"]=i.length-256}}return r};t=function(e){return c(e,u,callerCache)},n=function(e){return c(e,a,getterCache)};function h(t,n){var i;if(null!=t&&(i=t[n]),\"function\"!=typeof i){var o=\"Object \"+r.classString(t)+\" has no method '\"+r.toString(n)+\"'\";throw new e.TypeError(o)}return i}function s(e){return h(e,this.pop()).apply(e,this)}e.prototype.call=function(e){for(var n=arguments.length,r=new Array(Math.max(n-1,0)),o=1;o<n;++o)r[o-1]=arguments[o];if(i){var u=t(e);if(null!==u)return this._then(u,void 0,void 0,r,void 0)}return r.push(e),this._then(s,void 0,void 0,r,void 0)};function l(e){return e[this]}function f(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}e.prototype.get=function(e){var t;if(\"number\"==typeof e)t=f;else if(i){var r=n(e);t=null!==r?r:l}else t=l;return this._then(t,void 0,void 0,e,void 0)}};","node_modules/bluebird/js/release/using.js":"\"use strict\";module.exports=function(t,e,i,r,s,n){var o=require(\"./util\"),u=require(\"./errors\").TypeError,p=require(\"./util\").inherits,l=o.errorObj,a=o.tryCatch,c={};function f(t){setTimeout(function(){throw t},0)}function h(e,r){var n=0,o=e.length,u=new t(s);function p(){if(n>=o)return u._fulfill();var s=function(t){var e=i(t);return e!==t&&\"function\"==typeof t._isDisposable&&\"function\"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(e[n++]);if(s instanceof t&&s._isDisposable()){try{s=i(s._getDisposer().tryDispose(r),e.promise)}catch(t){return f(t)}if(s instanceof t)return s._then(p,f,null,null,null)}p()}return p(),u}function _(t,e,i){this._data=t,this._promise=e,this._context=i}_.prototype.data=function(){return this._data},_.prototype.promise=function(){return this._promise},_.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():c},_.prototype.tryDispose=function(t){var e=this.resource(),i=this._context;void 0!==i&&i._pushContext();var r=e!==c?this.doDispose(e,t):null;return void 0!==i&&i._popContext(),this._promise._unsetDisposable(),this._data=null,r},_.isDisposer=function(t){return null!=t&&\"function\"==typeof t.resource&&\"function\"==typeof t.tryDispose};function v(t,e,i){this.constructor$(t,e,i)}p(v,_),v.prototype.doDispose=function(t,e){return this.data().call(t,t,e)};function d(t){return _.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function y(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype._resultCancelled=function(){for(var e=this.length,i=0;i<e;++i){var r=this[i];r instanceof t&&r.cancel()}},t.using=function(){var r=arguments.length;if(r<2)return e(\"you must pass at least 2 arguments to Promise.using\");var s=arguments[r-1];if(\"function\"!=typeof s)return e(\"expecting a function but got \"+o.classString(s));var u,p=!0;2===r&&Array.isArray(arguments[0])?(r=(u=arguments[0]).length,p=!1):(u=arguments,r--);for(var c=new y(r),f=0;f<r;++f){var v=u[f];if(_.isDisposer(v)){var D=v;(v=v.promise())._setDisposable(D)}else{var g=i(v);g instanceof t&&(v=g._then(d,null,null,{resources:c,index:f},void 0))}c[f]=v}var m=new Array(c.length);for(f=0;f<m.length;++f)m[f]=t.resolve(c[f]).reflect();var b=t.all(m).then(function(t){for(var e=0;e<t.length;++e){var i=t[e];if(i.isRejected())return l.e=i.error(),l;if(!i.isFulfilled())return void b.cancel();t[e]=i.value()}x._pushContext(),s=a(s);var r=p?s.apply(void 0,t):s(t),o=x._popContext();return n.checkForgottenReturns(r,o,\"Promise.using\",x),r}),x=b.lastly(function(){var e=new t.PromiseInspection(b);return h(c,e)});return c.promise=x,x._setOnCancel(c),x},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(t){if(\"function\"==typeof t)return new v(t,this,r());throw new u}};","node_modules/bluebird/js/release/timers.js":"\"use strict\";module.exports=function(t,n,e){var i=require(\"./util\"),o=t.TimeoutError;function r(t){this.handle=t}r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=t.delay=function(i,o){var c,u;return void 0!==o?(c=t.resolve(o)._then(a,null,null,i,void 0),e.cancellation()&&o instanceof t&&c._setOnCancel(o)):(c=new t(n),u=setTimeout(function(){c._fulfill()},+i),e.cancellation()&&c._setOnCancel(new r(u)),c._captureStackTrace()),c._setAsyncGuaranteed(),c};t.prototype.delay=function(t){return c(t,this)};function u(t){return clearTimeout(this.handle),t}function l(t){throw clearTimeout(this.handle),t}t.prototype.timeout=function(t,n){t=+t;var a,c,s=new r(setTimeout(function(){a.isPending()&&function(t,n,e){var r;r=\"string\"!=typeof n?n instanceof Error?n:new o(\"operation timed out\"):new o(n),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=e&&e.cancel()}(a,n,c)},t));return e.cancellation()?(c=this.then(),(a=c._then(u,l,void 0,s,void 0))._setOnCancel(s)):a=this._then(u,l,void 0,s,void 0),a}};","node_modules/bluebird/js/release/generators.js":"\"use strict\";module.exports=function(e,t,i,n,r,o){var s=require(\"./errors\").TypeError,l=require(\"./util\"),a=l.errorObj,c=l.tryCatch,_=[];function u(t,n,r,s){if(o.cancellation()){var l=new e(i),a=this._finallyPromise=new e(i);this._promise=l.lastly(function(){return a}),l._captureStackTrace(),l._setOnCancel(this)}else{(this._promise=new e(i))._captureStackTrace()}this._stack=s,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers=\"function\"==typeof r?[r].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(u,r),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new e.CancellationError(\"generator .return() sentinel\");e.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=c(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=c(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var i=this._promise;if(t===a)return this._cleanup(),this._cancellationPhase?i.cancel():i._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?i.cancel():i._resolveCallback(r);var o=n(r,this._promise);if(o instanceof e||null!==(o=function(t,i,r){for(var o=0;o<i.length;++o){r._pushContext();var s=c(i[o])(t);if(r._popContext(),s===a){r._pushContext();var l=e.reject(a.e);return r._popContext(),l}var _=n(s,r);if(_ instanceof e)return _}return null}(o,this._yieldHandlers,this._promise))){var l=(o=o._target())._bitField;0==(50397184&l)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&l)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&l)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s(\"A value %s was yielded that could not be treated as a promise\\n\\n    See http://goo.gl/MqrFmX\\n\\n\".replace(\"%s\",String(r))+\"From coroutine:\\n\"+this._stack.split(\"\\n\").slice(1,-7).join(\"\\n\")))},e.coroutine=function(e,t){if(\"function\"!=typeof e)throw new s(\"generatorFunction must be a function\\n\\n    See http://goo.gl/MqrFmX\\n\");var i=Object(t).yieldHandler,n=u,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new n(void 0,void 0,i,r),s=o.promise();return o._generator=t,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(e){if(\"function\"!=typeof e)throw new s(\"expecting a function but got \"+l.classString(e));_.push(e)},e.spawn=function(i){if(o.deprecated(\"Promise.spawn()\",\"Promise.coroutine()\"),\"function\"!=typeof i)return t(\"generatorFunction must be a function\\n\\n    See http://goo.gl/MqrFmX\\n\");var n=new u(i,this),r=n.promise();return n._run(e.spawn),r}};","node_modules/bluebird/js/release/nodeify.js":"\"use strict\";module.exports=function(t){var r=require(\"./util\"),a=t._async,e=r.tryCatch,o=r.errorObj;function n(t,n){if(!r.isArray(t))return i.call(this,t,n);var l=e(n).apply(this._boundValue(),[null].concat(t));l===o&&a.throwLater(l.e)}function i(t,r){var n=this._boundValue(),i=void 0===t?e(r).call(n,null):e(r).call(n,null,t);i===o&&a.throwLater(i.e)}function l(t,r){if(!t){var n=new Error(t+\"\");n.cause=t,t=n}var i=e(r).call(this._boundValue(),t);i===o&&a.throwLater(i.e)}t.prototype.asCallback=t.prototype.nodeify=function(t,r){if(\"function\"==typeof t){var a=i;void 0!==r&&Object(r).spread&&(a=n),this._then(a,l,void 0,this,t)}return this}};","node_modules/bluebird/js/release/promisify.js":"\"use strict\";module.exports=function(r,e){var t={},n=require(\"./util\"),a=require(\"./nodeback\"),i=n.withAppended,o=n.maybeWrapAsError,c=n.canEvaluate,s=require(\"./errors\").TypeError,u={__isPromisified__:!0},f=new RegExp(\"^(?:\"+[\"arity\",\"length\",\"name\",\"arguments\",\"caller\",\"callee\",\"prototype\",\"__isPromisified__\"].join(\"|\")+\")$\"),l=function(r){return n.isIdentifier(r)&&\"_\"!==r.charAt(0)&&\"constructor\"!==r};function p(r){return!f.test(r)}function m(r){try{return!0===r.__isPromisified__}catch(r){return!1}}function h(r,e,t){var a=n.getDataPropertyOrDefault(r,e+t,u);return!!a&&m(a)}function g(r,e,t,a){for(var i=n.inheritedDataKeys(r),o=[],c=0;c<i.length;++c){var u=i[c],f=r[u],p=a===l||l(u,f,r);\"function\"!=typeof f||m(f)||h(r,u,e)||!a(u,f,r,p)||o.push(u,f)}return function(r,e,t){for(var n=0;n<r.length;n+=2){var a=r[n];if(t.test(a))for(var i=a.replace(t,\"\"),o=0;o<r.length;o+=2)if(r[o]===i)throw new s(\"Cannot promisify an API that has normal methods with '%s'-suffix\\n\\n    See http://goo.gl/MqrFmX\\n\".replace(\"%s\",e))}}(o,e,t),o}var v,d=function(r){return r.replace(/([$])/,\"\\\\$\")},b=function(r){return n.filledRange(r,\"_arg\",\"\")};v=function(c,s,u,f,l,p){var m=Math.max(0,function(r){return\"number\"==typeof r.length?Math.max(Math.min(r.length,1024),0):0}(f)-1),h=function(r){for(var e=[r],t=Math.max(0,r-1-3),n=r-1;n>=t;--n)e.push(n);for(n=r+1;n<=3;++n)e.push(n);return e}(m),g=\"string\"==typeof c||s===t;function v(r){var e=b(r).join(\", \"),t=r>0?\", \":\"\";return(g?\"ret = callback.call(this, {{args}}, nodeback); break;\\n\":void 0===s?\"ret = callback({{args}}, nodeback); break;\\n\":\"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\").replace(\"{{args}}\",e).replace(\", \",t)}var d=\"string\"==typeof c?\"this != null ? this['\"+c+\"'] : fn\":\"fn\",y=\"'use strict';                                                \\n        var ret = function (Parameters) {                                    \\n            'use strict';                                                    \\n            var len = arguments.length;                                      \\n            var promise = new Promise(INTERNAL);                             \\n            promise._captureStackTrace();                                    \\n            var nodeback = nodebackForPromise(promise, \"+p+\");   \\n            var ret;                                                         \\n            var callback = tryCatch([GetFunctionCode]);                      \\n            switch(len) {                                                    \\n                [CodeForSwitchCase]                                          \\n            }                                                                \\n            if (ret === errorObj) {                                          \\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n            }                                                                \\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n            return promise;                                                  \\n        };                                                                   \\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n        return ret;                                                          \\n    \".replace(\"[CodeForSwitchCase]\",function(){for(var r=\"\",e=0;e<h.length;++e)r+=\"case \"+h[e]+\":\"+v(h[e]);return r+=\"                                                             \\n        default:                                                             \\n            var args = new Array(len + 1);                                   \\n            var i = 0;                                                       \\n            for (var i = 0; i < len; ++i) {                                  \\n               args[i] = arguments[i];                                       \\n            }                                                                \\n            args[i] = nodeback;                                              \\n            [CodeForCall]                                                    \\n            break;                                                           \\n        \".replace(\"[CodeForCall]\",g?\"ret = callback.apply(this, args);\\n\":\"ret = callback.apply(receiver, args);\\n\")}()).replace(\"[GetFunctionCode]\",d);return y=y.replace(\"Parameters\",function(r){return n.filledRange(Math.max(r,3),\"_arg\",\"\")}(m)),new Function(\"Promise\",\"fn\",\"receiver\",\"withAppended\",\"maybeWrapAsError\",\"nodebackForPromise\",\"tryCatch\",\"errorObj\",\"notEnumerableProp\",\"INTERNAL\",y)(r,f,s,i,o,a,n.tryCatch,n.errorObj,n.notEnumerableProp,e)};var y=c?v:function(c,s,u,f,l,p){var m=function(){return this}(),h=c;\"string\"==typeof h&&(c=f);function g(){var n=s;s===t&&(n=this);var u=new r(e);u._captureStackTrace();var f=\"string\"==typeof h&&this!==m?this[h]:c,l=a(u,p);try{f.apply(n,i(arguments,l))}catch(r){u._rejectCallback(o(r),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return n.notEnumerableProp(g,\"__isPromisified__\",!0),g};function _(r,e,a,i,o){for(var c=new RegExp(d(e)+\"$\"),s=g(r,e,c,a),u=0,f=s.length;u<f;u+=2){var l=s[u],p=s[u+1],m=l+e;if(i===y)r[m]=y(l,t,l,p,e,o);else{var h=i(p,function(){return y(l,t,l,p,e,o)});n.notEnumerableProp(h,\"__isPromisified__\",!0),r[m]=h}}return n.toFastProperties(r),r}r.promisify=function(r,e){if(\"function\"!=typeof r)throw new s(\"expecting a function but got \"+n.classString(r));if(m(r))return r;var a=function(r,e,t){return y(r,e,void 0,r,null,t)}(r,void 0===(e=Object(e)).context?t:e.context,!!e.multiArgs);return n.copyDescriptors(r,a,p),a},r.promisifyAll=function(r,e){if(\"function\"!=typeof r&&\"object\"!=typeof r)throw new s(\"the target of promisifyAll must be an object or a function\\n\\n    See http://goo.gl/MqrFmX\\n\");var t=!!(e=Object(e)).multiArgs,a=e.suffix;\"string\"!=typeof a&&(a=\"Async\");var i=e.filter;\"function\"!=typeof i&&(i=l);var o=e.promisifier;if(\"function\"!=typeof o&&(o=y),!n.isIdentifier(a))throw new RangeError(\"suffix must be a valid identifier\\n\\n    See http://goo.gl/MqrFmX\\n\");for(var c=n.inheritedDataKeys(r),u=0;u<c.length;++u){var f=r[c[u]];\"constructor\"!==c[u]&&n.isClass(f)&&(_(f.prototype,a,i,o,t),_(f,a,i,o,t))}return _(r,a,i,o,t)}};","node_modules/bluebird/js/release/props.js":"\"use strict\";module.exports=function(t,e,n,r){var i,o=require(\"./util\"),s=o.isObject,u=require(\"./es5\");\"function\"==typeof Map&&(i=Map);var a=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function p(t){var e,n=!1;if(void 0!==i&&t instanceof i)e=a(t),n=!0;else{var r=u.keys(t),o=r.length;e=new Array(2*o);for(var s=0;s<o;++s){var p=r[s];e[s]=t[p],e[s+o]=p}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}o.inherits(p,e),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,e){this._values[e]=t;if(++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new i,n=t.length/2|0,r=0;r<n;++r){var o=t[n+r],s=t[r];e.set(o,s)}return e}(this._values);else{n={};for(var r=this.length(),o=0,s=this.length();o<s;++o)n[this._values[o+r]]=this._values[o]}return this._resolve(n),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(t){return t>>1};function f(e){var i,o=n(e);return s(o)?(i=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new p(o).promise(),o instanceof t&&i._propagateFrom(o,2),i):r(\"cannot await properties of a non-object\\n\\n    See http://goo.gl/MqrFmX\\n\")}t.prototype.props=function(){return f(this)},t.props=function(t){return f(t)}};","node_modules/bluebird/js/release/race.js":"\"use strict\";module.exports=function(r,t,n,e){var i=require(\"./util\"),o=function(r){return r.then(function(t){return u(t,r)})};function u(u,a){var c=n(u);if(c instanceof r)return o(c);if(null===(u=i.asArray(u)))return e(\"expecting an array or an iterable object but got \"+i.classString(u));var f=new r(t);void 0!==a&&f._propagateFrom(a,3);for(var l=f._fulfill,v=f._reject,s=0,d=u.length;s<d;++s){var p=u[s];(void 0!==p||s in u)&&r.cast(p)._then(l,v,void 0,f,null)}return f}r.race=function(r){return u(r,void 0)},r.prototype.race=function(){return u(this,void 0)}};","node_modules/bluebird/js/release/reduce.js":"\"use strict\";module.exports=function(t,e,i,n,a,l){var s=t._getDomain,o=require(\"./util\"),r=o.tryCatch;function u(e,i,n,l){this.constructor$(e);var r=s();this._fn=null===r?i:o.domainBind(r,i),void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=l===a?Array(this._length):0===l?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(u,e),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==a&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(e){this._values=e;var i,n,a=e.length;if(void 0!==this._initialValue?(i=this._initialValue,n=0):(i=t.resolve(e[0]),n=1),this._currentCancellable=i,!i.isRejected())for(;n<a;++n){var l={accum:null,value:e[n],index:n,length:a,array:this};i=i._then(_,void 0,void 0,l,void 0)}void 0!==this._eachValues&&(i=i._then(this._eachComplete,void 0,void 0,this,void 0)),i._then(c,c,void 0,i,this)},t.prototype.reduce=function(t,e){return h(this,t,e,null)},t.reduce=function(t,e,i,n){return h(t,e,i,n)};function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,a){if(\"function\"!=typeof e)return i(\"expecting a function but got \"+o.classString(e));return new u(t,e,n,a).promise()}function _(e){this.accum=e,this.array._gotAccum(e);var i=n(this.value,this.array._promise);return i instanceof t?(this.array._currentCancellable=i,i._then(v,void 0,void 0,this,void 0)):v.call(this,i)}function v(e){var i=this.array,n=i._promise,a=r(i._fn);n._pushContext();var s;(s=void 0!==i._eachValues?a.call(n._boundValue(),e,this.index,this.length):a.call(n._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(i._currentCancellable=s);var o=n._popContext();return l.checkForgottenReturns(s,o,void 0!==i._eachValues?\"Promise.each\":\"Promise.reduce\",n),s}};","node_modules/bluebird/js/release/settle.js":"\"use strict\";module.exports=function(e,t,i){var s=e.PromiseInspection;function r(e){this.constructor$(e)}require(\"./util\").inherits(r,t),r.prototype._promiseResolved=function(e,t){this._values[e]=t;return++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var i=new s;return i._bitField=33554432,i._settledValueField=e,this._promiseResolved(t,i)},r.prototype._promiseRejected=function(e,t){var i=new s;return i._bitField=16777216,i._settledValueField=e,this._promiseResolved(t,i)},e.settle=function(e){return i.deprecated(\".settle()\",\".reflect()\"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}};","node_modules/bluebird/js/release/some.js":"\"use strict\";module.exports=function(t,e,i){var n=require(\"./util\"),r=require(\"./errors\").RangeError,s=require(\"./errors\").AggregateError,o=n.isArray,h={};function u(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(u,e),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=o(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(t){this._howMany=t},u.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(h),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==h&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(t){this._values.push(t)},u.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(t){var e=\"Input array must contain at least \"+this._howMany+\" items but contains only \"+t+\" items\";return new r(e)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function l(t,e){if((0|e)!==e||e<0)return i(\"expecting a positive integer\\n\\n    See http://goo.gl/MqrFmX\\n\");var n=new u(t),r=n.promise();return n.setHowMany(e),n.init(),r}t.some=function(t,e){return l(t,e)},t.prototype.some=function(t){return l(this,t)},t._SomePromiseArray=u};","node_modules/bluebird/js/release/filter.js":"\"use strict\";module.exports=function(t,r){var e=t.map;t.prototype.filter=function(t,n){return e(this,t,n,r)},t.filter=function(t,n,i){return e(t,n,i,r)}};","node_modules/bluebird/js/release/each.js":"\"use strict\";module.exports=function(t,e){var i=t.reduce,n=t.all;function o(){return n(this)}t.prototype.each=function(t){return i(this,t,e,0)._then(o,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,n){return i(t,n,e,0)._then(o,void 0,void 0,t,void 0)},t.mapSeries=function(t,n){return i(t,n,e,e)}};","node_modules/bluebird/js/release/any.js":"\"use strict\";module.exports=function(n){var r=n._SomePromiseArray;function t(n){var t=new r(n),e=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),e}n.any=function(n){return t(n)},n.prototype.any=function(){return t(this)}};","node_modules/bluebird/js/release/schedule.js":"\"use strict\";var schedule,util=require(\"./util\"),noAsyncScheduler=function(){throw new Error(\"No async scheduler available\\n\\n    See http://goo.gl/MqrFmX\\n\")},NativePromise=util.getNativePromise();if(util.isNode&&\"undefined\"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(e){GlobalSetImmediate.call(global,e)}:function(e){ProcessNextTick.call(process,e)}}else if(\"function\"==typeof NativePromise&&\"function\"==typeof NativePromise.resolve){var nativePromise=NativePromise.resolve();schedule=function(e){nativePromise.then(e)}}else schedule=\"undefined\"==typeof MutationObserver||\"undefined\"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?\"undefined\"!=typeof setImmediate?function(e){setImmediate(e)}:\"undefined\"!=typeof setTimeout?function(e){setTimeout(e,0)}:noAsyncScheduler:function(){var e=document.createElement(\"div\"),t={attributes:!0},o=!1,i=document.createElement(\"div\");new MutationObserver(function(){e.classList.toggle(\"foo\"),o=!1}).observe(i,t);return function(n){var s=new MutationObserver(function(){s.disconnect(),n()});s.observe(e,t),o||(o=!0,i.classList.toggle(\"foo\"))}}();module.exports=schedule;","node_modules/bluebird/js/release/queue.js":"\"use strict\";function arrayMove(t,i,e,h,s){for(var n=0;n<s;++n)e[n+h]=t[n+i],t[n+i]=void 0}function Queue(t){this._capacity=t,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(t){return this._capacity<t},Queue.prototype._pushOne=function(t){var i=this.length();this._checkCapacity(i+1);this[this._front+i&this._capacity-1]=t,this._length=i+1},Queue.prototype.push=function(t,i,e){var h=this.length()+3;if(this._willBeOverCapacity(h))return this._pushOne(t),this._pushOne(i),void this._pushOne(e);var s=this._front+h-3;this._checkCapacity(h);var n=this._capacity-1;this[s+0&n]=t,this[s+1&n]=i,this[s+2&n]=e,this._length=h},Queue.prototype.shift=function(){var t=this._front,i=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,i},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(t){var i=this._capacity;this._capacity=t;arrayMove(this,0,this,i,this._front+this._length&i-1)},module.exports=Queue;","node_modules/mongoose/lib/services/model/applyHooks.js":"\"use strict\";var PromiseProvider=require(\"../../promise_provider\"),VersionError=require(\"../../error\").VersionError;module.exports=applyHooks;function applyHooks(o,t){var p,e,r,i,n,s,a,l=t&&t.callQueue;for(o.$appliedHooks=!0,r=0;r<t.childSchemas.length;++r)t.childSchemas[r].model.$appliedHooks||applyHooks(t.childSchemas[r].model,t.childSchemas[r].schema);if(l.length){var c,y={post:[]};for(r=0;r<l.length;++r)if(\"pre\"===(c=l[r])[0]||\"post\"===c[0]||\"on\"===c[0]){var u=[].slice.call(c[1]);(n=\"on\"===c[0]?\"post\":u[0])in y||(y[n]={post:[],pre:[]}),\"post\"===c[0]?y[n].post.push(u):\"on\"===c[0]?y[n].push(u):y[n].pre.push(u)}for(e=y.post.length,y.post.forEach(function(t){o.on.apply(o,t)}),delete y.post,y.init&&(o.$isSingleNested||o.$isArraySubdocument)&&(y.init.pre&&y.init.pre.forEach(function(t){o.prototype.$pre.apply(o.prototype,t)}),y.init.post&&y.init.post.forEach(function(t){o.prototype.$post.apply(o.prototype,t)}),delete y.init),y.set&&(a=\"$__original_set\",o.prototype[a]=o.prototype.set,y.set.pre&&y.set.pre.forEach(function(t){o.prototype.$pre.apply(o.prototype,t)}),y.set.post&&y.set.post.forEach(function(t){o.prototype.$post.apply(o.prototype,t)}),delete y.set),y.validate=y.validate||{pre:[],post:[]},e=(s=Object.keys(y)).length,r=0;r<e;++r)if(n=s[r],a=\"$__original_\"+n,o.prototype[n]&&!o.prototype[n].$isWrapped){o.prototype[n].$originalFunction||(o.prototype[a]=o.prototype[n]),o.prototype[n]=function(o){return function(){var t,p,e=PromiseProvider.get(),r=this,i=[].slice.call(arguments),n=i.pop(),s=new Error;n&&\"function\"!=typeof n?i.push(n):t=n;var a=new e.ES6(function(e,n){i.push(function(o){if(o)return o instanceof VersionError&&(o.stack=s.stack),t||r.$__handleReject(o),void n(o);p=Array.prototype.slice.call(arguments,1),e.apply(a,p)}),r[o].apply(r,i)});return t&&(this.constructor.$wrapCallback&&(t=this.constructor.$wrapCallback(t)),a.then(function(){process.nextTick(function(){t.apply(null,[null].concat(p))})},function(o){process.nextTick(function(){t(o)})})),a}}(a),o.prototype[n].$originalFunction=a,o.prototype[n].$isWrapped=!0;var f=(p=y[n]).pre.length;for(i=0;i<f;++i)(u=p.pre[i])[0]=a,o.prototype.$pre.apply(o.prototype,u);for(f=p.post.length,i=0;i<f;++i)(u=p.post[i])[0]=a,o.prototype.$post.apply(o.prototype,u)}}}","node_modules/mongoose/lib/services/model/applyMethods.js":"\"use strict\";module.exports=function(o,t){function e(t,e){Object.defineProperty(o.prototype,t,{get:function(){var o={};for(var r in e.methods[t])o[r]=e.methods[t][r].bind(this);return o},configurable:!0})}for(var r in t.methods){if(t.tree.hasOwnProperty(r))throw new Error('You have a method and a property in your schema both named \"'+r+'\"');\"function\"==typeof t.methods[r]?o.prototype[r]=t.methods[r]:e(r,t)}};","node_modules/mongoose/lib/services/model/applyStatics.js":"\"use strict\";module.exports=function(t,s){for(var i in s.statics)t[i]=s.statics[i]};","node_modules/mongoose/lib/services/projection/isPathSelectedInclusive.js":"\"use strict\";module.exports=function(e,t){for(var n,r,f,i=t.split(\".\"),l=\"\",o=0;o<i.length;++o)if(l+=l.length?\".\":\"\"+i[o],e[l]){for(f=(r=Object.keys(e)).length,n=0;n<f;++n)0!==r[o].indexOf(l+\".\")||r[o].indexOf(t);return!0}return!1};","node_modules/mongoose/lib/cursor/AggregationCursor.js":"var PromiseProvider=require(\"../promise_provider\"),Readable=require(\"stream\").Readable,util=require(\"util\");function AggregationCursor(r){Readable.call(this,{objectMode:!0}),this.cursor=null,this.agg=r,this._transforms=[];var o=r._model;delete r.options.cursor.useMongooseAggCursor,_init(o,this,r)}util.inherits(AggregationCursor,Readable);function _init(r,o,t){r.collection.buffer?r.collection.emitter.once(\"queue\",function(){o.cursor=r.collection.aggregate(t._pipeline,t.options||{}),o.emit(\"cursor\",o.cursor)}):(o.cursor=r.collection.aggregate(t._pipeline,t.options||{}),o.emit(\"cursor\",o.cursor))}AggregationCursor.prototype._read=function(){var r=this;_next(this,function(o,t){return o?r.emit(\"error\",o):t?void r.push(t):(r.push(null),void r.cursor.close(function(o){if(o)return r.emit(\"error\",o);setTimeout(function(){r.emit(\"close\")},0)}))})},AggregationCursor.prototype.map=function(r){return this._transforms.push(r),this},AggregationCursor.prototype._markError=function(r){return this._error=r,this},AggregationCursor.prototype.close=function(r){var o=this;return new(PromiseProvider.get().ES6)(function(t,n){o.cursor.close(function(e){if(e)return r&&r(e),n(e),o.listeners(\"error\").length>0&&o.emit(\"error\",e);o.emit(\"close\"),t(),r&&r()})})},AggregationCursor.prototype.next=function(r){var o=this;return new(PromiseProvider.get().ES6)(function(t,n){_next(o,function(o,e){if(o)return r&&r(o),n(o);r&&r(null,e),t(e)})})},AggregationCursor.prototype.eachAsync=function(r,o){var t=this,n=function(o){return _next(t,function(t,e){return t?o(t):e?void function(o,t){var n=r(o);n&&\"function\"==typeof n.then?n.then(function(){t(null)},function(r){t(r)}):t(null)}(e,function(r){if(r)return o(r);setTimeout(function(){n(o)},0)}):o(null)})};return new(PromiseProvider.get().ES6)(function(r,t){n(function(n){return n?(o&&o(n),t(n)):(o&&o(null),r())})})},AggregationCursor.prototype.addCursorFlag=function(r,o){var t=this;return _waitForCursor(this,function(){t.cursor.addCursorFlag(r,o)}),this};function _waitForCursor(r,o){if(r.cursor)return o();r.once(\"cursor\",function(){o()})}function _next(r,o){var t=o;return r._transforms.length&&(t=function(t,n){if(t||null===n)return o(t,n);o(t,r._transforms.reduce(function(r,o){return o(r)},n))}),r._error?process.nextTick(function(){t(r._error)}):r.cursor?r.cursor.next(function(r,o){return r?t(r):o?void t(null,o):t(null,null)}):void r.once(\"cursor\",function(){_next(r,o)})}module.exports=AggregationCursor;","node_modules/mongoose/lib/connection.js":"var utils=require(\"./utils\"),EventEmitter=require(\"events\").EventEmitter,driver=global.MONGOOSE_DRIVER_PATH||\"./drivers/node-mongodb-native\",Schema=require(\"./schema\"),Collection=require(driver+\"/collection\"),STATES=require(\"./connectionstate\"),MongooseError=require(\"./error\"),muri=require(\"muri\"),PromiseProvider=require(\"./promise_provider\"),mongodb=require(\"mongodb\"),util=require(\"util\"),rgxProtocol=/^(?:.)+:\\/\\//,authMechanismsWhichDontRequirePassword=[\"MONGODB-X509\"];function Connection(t){this.base=t,this.collections={},this.models={},this.config={autoIndex:!0},this.replica=!1,this.hosts=null,this.host=null,this.port=null,this.user=null,this.pass=null,this.name=null,this.options=null,this.otherDbs=[],this.states=STATES,this._readyState=STATES.disconnected,this._closeCalled=!1,this._hasOpened=!1}Connection.prototype.__proto__=EventEmitter.prototype,Object.defineProperty(Connection.prototype,\"readyState\",{get:function(){return this._readyState},set:function(t){if(!(t in STATES))throw new Error(\"Invalid connection state: \"+t);if(this._readyState!==t){this._readyState=t;for(var e=0;e<this.otherDbs.length;e++)this.otherDbs[e].readyState=t;STATES.connected===t&&(this._hasOpened=!0),this.emit(STATES[t])}}}),Connection.prototype.collections,Connection.prototype.db,Connection.prototype.config,Connection.prototype._handleOpenArgs=function(t,e,o,n,i){var s,r;if(\"string\"==typeof e)switch(arguments.length){case 2:o=27017;break;case 3:switch(typeof o){case\"function\":i=o,o=27017;break;case\"object\":n=o,o=27017}break;case 4:\"function\"==typeof n&&(i=n,n={})}else{switch(typeof e){case\"function\":i=e,e=void 0;break;case\"object\":n=e,e=void 0,i=o}rgxProtocol.test(t)||(t=\"mongodb://\"+t);try{r=muri(t)}catch(t){throw this.error(t,i),t}e=r.db,t=r.hosts[0].host||r.hosts[0].ipc,o=r.hosts[0].port||27017}if(this.options=this.parseOptions(n,r&&r.options),STATES.disconnected!==this.readyState)throw s=new Error(\"Trying to open unclosed connection.\"),s.state=this.readyState,this.error(s,i),s;if(!t)throw s=new Error(\"Missing hostname.\"),this.error(s,i),s;if(!e)throw s=new Error(\"Missing database name.\"),this.error(s,i),s;if(this.optionsProvideAuthenticationData(n))this.user=n.user,this.pass=n.pass;else if(r&&r.auth)this.user=r.auth.user,this.pass=r.auth.pass;else if(/@/.test(t)&&/:/.test(t.split(\"@\")[0])){if((t=t.split(\"@\")).length>2)throw s=new Error('Username and password must be URI encoded if they contain \"@\", see http://bit.ly/2nRYRyq');var c=t.shift().split(\":\");if(c.length>2)throw s=new Error('Username and password must be URI encoded if they contain \":\", see http://bit.ly/2nRYRyq');t=t.pop(),this.user=c[0],this.pass=c[1]}else this.user=this.pass=void 0;return n&&n.config&&(this.config.autoIndex=!1!==n.config.autoIndex),this.name=e,this.host=t,this.port=o,i},Connection.prototype.open=util.deprecate(function(){var t,e=PromiseProvider.get();try{t=this._handleOpenArgs.apply(this,arguments)}catch(t){return new e.ES6(function(e,o){o(t)})}var o=this,n=new e.ES6(function(e,i){o._open(!0,function(s){t&&t(s),s?setImmediate(function(){i(s),t||n.$hasHandler||o.emit(\"error\",s)}):e()})}),i=n.then;return n.then=function(t,e){return n.$hasHandler=!0,i.call(n,t,e)},n},\"`open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client\"),Connection.prototype._openWithoutPromise=function(){var t;try{t=this._handleOpenArgs.apply(this,arguments)}catch(t){}var e=this;this._open(!0,function(o){t&&t(o),!o||t||setImmediate(function(){e.emit(\"error\",o)})})},Connection.prototype.dropDatabase=function(t){var e=this,o=new(PromiseProvider.get().ES6)(function(t,o){e.readyState!==STATES.connected?e.on(\"open\",function(){e.db.dropDatabase(function(e){e?o(e):t()})}):e.db.dropDatabase(function(e){e?o(e):t()})});return t&&o.then(function(){t()},t),o},Connection.prototype._handleOpenSetArgs=function(t,e,o,n){switch(rgxProtocol.test(t)||(t=\"mongodb://\"+t),arguments.length){case 3:switch(typeof e){case\"string\":this.name=e;break;case\"object\":n=o,o=e,e=null}\"function\"==typeof o&&(n=o,o={});break;case 2:switch(typeof e){case\"string\":this.name=e;break;case\"function\":n=e,e=null;break;case\"object\":o=e,e=null}}\"string\"==typeof e&&(this.name=e);var i;try{i=muri(t)}catch(s){throw this.error(s,n),s}if(this.name||(this.name=i.db),this.hosts=i.hosts,this.options=this.parseOptions(o,i&&i.options),this.replica=!0,!this.name){var s=new Error(\"No database name provided for replica set\");throw this.error(s,n),s}return this.optionsProvideAuthenticationData(o)?(this.user=o.user,this.pass=o.pass):i&&i.auth?(this.user=i.auth.user,this.pass=i.auth.pass):this.user=this.pass=void 0,o&&o.config&&(this.config.autoIndex=!1!==o.config.autoIndex),n},Connection.prototype._openSetWithoutPromise=function(t,e,o,n){try{n=this._handleOpenSetArgs.apply(this,arguments)}catch(t){return}var i=this,s=!1;this._open(!0,function(t){n&&n(t),t&&(n||s||(s=!0,i.emit(\"error\",t)))})},Connection.prototype.openSet=util.deprecate(function(t,e,o,n){var i=PromiseProvider.get();try{n=this._handleOpenSetArgs.apply(this,arguments)}catch(t){return new i.ES6(function(e,o){o(t)})}var s=this,r=!1,c=new i.ES6(function(t,e){s._open(!0,function(o){if(n&&n(o),o)return e(o),void(n||c.$hasHandler||r||(r=!0,s.emit(\"error\",o)));t()})}),a=c.then;return c.then=function(t,e){return c.$hasHandler=!0,a.call(c,t,e)},c},\"`openSet()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client\"),Connection.prototype.error=function(t,e){if(e)return e(t);this.emit(\"error\",t)},Connection.prototype._open=function(t,e){this.readyState=STATES.connecting,this._closeCalled=!1;var o=this;this[this.replica?\"doOpenSet\":\"doOpen\"](function(n){if(n)return o.readyState=STATES.disconnected,void(o._hasOpened?e&&e(n):o.error(n,t&&e));o.onOpen(e)})},Connection.prototype.onOpen=function(t){var e=this;function o(o,n){if(o)return e.readyState=n?STATES.unauthorized:STATES.disconnected,void e.error(o,t);e.readyState=STATES.connected;for(var i in e.collections)utils.object.hasOwnProperty(e.collections,i)&&e.collections[i].onOpen();t&&t(),e.emit(\"open\")}this._readyState!==STATES.connected&&this.shouldAuthenticate()?e.db.authenticate(e.user,e.pass,e.options.auth,function(t){o(t,!0)}):o()},Connection.prototype.openUri=function(t,e,o){this.readyState=STATES.connecting,this._closeCalled=!1;try{var n=muri(t);this.name=n.db,this.host=n.hosts[0].host||n.hosts[0].ipc,this.port=n.hosts[0].port||27017,n.auth&&(this.user=n.auth.user,this.pass=n.auth.pass)}catch(t){throw this.error(t,o),t}\"function\"==typeof e&&(o=e,e=null);var i=PromiseProvider.get(),s=this;e&&(delete(e=utils.clone(e,{retainKeyOrder:!0})).useMongoClient,e.config&&null!=e.config.autoIndex&&(this.config.autoIndex=!1!==e.config.autoIndex,delete e.config),(e.user||e.pass)&&(e.auth=e.auth||{},e.auth.user=e.user,e.auth.password=e.pass,delete e.user,delete e.pass,this.user=e.auth.user,this.pass=e.auth.password)),this._connectionOptions=e;var r=new i.ES6(function(n,i){mongodb.MongoClient.connect(t,e,function(t,e){if(t)return s.readyState=STATES.disconnected,s.listeners(\"error\").length&&s.emit(\"error\",t),o&&o(t),i(t);e.on(\"reconnect\",function(){s.readyState=STATES.connected,s.emit(\"reconnected\")}),e.s.topology.on(\"close\",function(){s.readyState=STATES.disconnected}),e.on(\"timeout\",function(){s.emit(\"timeout\")}),s.db=e,s.readyState=STATES.connected;for(var r in s.collections)utils.object.hasOwnProperty(s.collections,r)&&s.collections[r].onOpen();o&&o(null,s),delete s.then,delete s.catch,n(s),s.emit(\"open\")})});return this.then=function(t,e){return r.then(t,e)},this.catch=function(t){return r.catch(t)},this},Connection.prototype.close=function(t,e){var o=this,n=PromiseProvider.get();return\"function\"==typeof t&&(e=t,t=!1),this.$wasForceClosed=!!t,new n.ES6(function(n,i){o._close(t,function(t){e&&e(t),t?i(t):n()})})},Connection.prototype._close=function(t,e){var o=this;switch(this._closeCalled=!0,this.readyState){case 0:e&&e();break;case 1:case 4:this.readyState=STATES.disconnecting,this.doClose(t,function(n){n?o.error(n,e):(o.onClose(t),e&&e())});break;case 2:this.once(\"open\",function(){o.close(e)});break;case 3:if(!e)break;this.once(\"close\",function(){e()})}return this},Connection.prototype.onClose=function(t){this.readyState=STATES.disconnected;for(var e in this.collections)utils.object.hasOwnProperty(this.collections,e)&&this.collections[e].onClose(t);this.emit(\"close\",t)},Connection.prototype.collection=function(t,e){return e=e?utils.clone(e,{retainKeyOrder:!0}):{},e.$wasForceClosed=this.$wasForceClosed,t in this.collections||(this.collections[t]=new Collection(t,this,e)),this.collections[t]},Connection.prototype.model=function(t,e,o){if(\"string\"==typeof e&&(o=e,e=!1),utils.isObject(e)&&!e.instanceOfSchema&&(e=new Schema(e)),e&&!e.instanceOfSchema)throw new Error(\"The 2nd parameter to `mongoose.model()` should be a schema or a POJO\");if(this.models[t]&&!o){if(e&&e.instanceOfSchema&&e!==this.models[t].schema)throw new MongooseError.OverwriteModelError(t);return this.models[t]}var n,i={cache:!1,connection:this};if(e&&e.instanceOfSchema)return n=this.base.model(t,e,o,i),this.models[t]||(this.models[t]=n),n.init(),n;if(this.models[t]&&o){e=(n=this.models[t]).prototype.schema;return n.__subclass(this,e,o)}if(!(n=this.base.models[t]))throw new MongooseError.MissingSchemaError(t);return this!==n.prototype.db||o&&o!==n.collection.name?(this.models[t]=n.__subclass(this,e,o),this.models[t]):(this.models[t]||(this.models[t]=n),n)},Connection.prototype.modelNames=function(){return Object.keys(this.models)},Connection.prototype.shouldAuthenticate=function(){return null!==this.user&&void 0!==this.user&&(null!==this.pass||void 0!==this.pass||this.authMechanismDoesNotRequirePassword())},Connection.prototype.authMechanismDoesNotRequirePassword=function(){return!this.options||!this.options.auth||authMechanismsWhichDontRequirePassword.indexOf(this.options.auth.authMechanism)>=0},Connection.prototype.optionsProvideAuthenticationData=function(t){return t&&t.user&&(t.pass||this.authMechanismDoesNotRequirePassword())},Connection.STATES=STATES,module.exports=Connection;","node_modules/mongoose/lib/error/disconnected.js":"var MongooseError=require(\"../error.js\");function DisconnectedError(r){MongooseError.call(this,'Ran out of retries trying to reconnect to \"'+r+'\". Try setting `server.reconnectTries` and `server.reconnectInterval` to something higher.'),this.name=\"DisconnectedError\",Error.captureStackTrace?Error.captureStackTrace(this):this.stack=(new Error).stack}DisconnectedError.prototype=Object.create(MongooseError.prototype),DisconnectedError.prototype.constructor=MongooseError,module.exports=DisconnectedError;","node_modules/muri/index.js":"module.exports=exports=require(\"./lib\");","node_modules/mongoose/lib/collection.js":"var EventEmitter=require(\"events\").EventEmitter,STATES=require(\"./connectionstate\");function Collection(e,t,o){void 0===o&&(o={}),void 0===o.capped&&(o.capped={}),o.bufferCommands=void 0===o.bufferCommands||o.bufferCommands,\"number\"==typeof o.capped&&(o.capped={size:o.capped}),this.opts=o,this.name=e,this.collectionName=e,this.conn=t,this.queue=[],this.buffer=this.opts.bufferCommands,this.emitter=new EventEmitter,STATES.connected===this.conn.readyState&&this.onOpen()}Collection.prototype.name,Collection.prototype.collectionName,Collection.prototype.conn,Collection.prototype.onOpen=function(){this.buffer=!1,this.doQueue()},Collection.prototype.onClose=function(e){this.opts.bufferCommands&&!e&&(this.buffer=!0)},Collection.prototype.addQueue=function(e,t){return this.queue.push([e,t]),this},Collection.prototype.doQueue=function(){for(var e=0,t=this.queue.length;e<t;e++)\"function\"==typeof this.queue[e][0]?this.queue[e][0].apply(this,this.queue[e][1]):this[this.queue[e][0]].apply(this,this.queue[e][1]);this.queue=[];var o=this;return process.nextTick(function(){o.emitter.emit(\"queue\")}),this},Collection.prototype.ensureIndex=function(){throw new Error(\"Collection#ensureIndex unimplemented by driver\")},Collection.prototype.findAndModify=function(){throw new Error(\"Collection#findAndModify unimplemented by driver\")},Collection.prototype.findOne=function(){throw new Error(\"Collection#findOne unimplemented by driver\")},Collection.prototype.find=function(){throw new Error(\"Collection#find unimplemented by driver\")},Collection.prototype.insert=function(){throw new Error(\"Collection#insert unimplemented by driver\")},Collection.prototype.save=function(){throw new Error(\"Collection#save unimplemented by driver\")},Collection.prototype.update=function(){throw new Error(\"Collection#update unimplemented by driver\")},Collection.prototype.getIndexes=function(){throw new Error(\"Collection#getIndexes unimplemented by driver\")},Collection.prototype.mapReduce=function(){throw new Error(\"Collection#mapReduce unimplemented by driver\")},module.exports=Collection;","node_modules/muri/lib/index.js":"var qs=require(\"querystring\"),DEFAULT_PORT=27017,DEFAULT_DB=\"test\",ADMIN_DB=\"admin\";module.exports=exports=function(r){if(!/^mongodb:\\/\\//.test(r))throw new Error('Invalid mongodb uri. Must begin with \"mongodb://\"\\n  Received: '+r);var t={hosts:[],db:DEFAULT_DB,options:{}},e=/^mongodb:\\/\\/([^?]+)(\\??.*)$/.exec(r);if(!e||\"/\"==e[1])throw new Error(\"Invalid mongodb uri. Missing hostname\");var o,s=e[1],i=e[2];if(s.split(\",\").forEach(function(r){var e=parse(r);e.host?(t.hosts.push({host:e.host,port:parseInt(e.port,10)}),!o&&e.db&&(o=e.db)):e.ipc&&t.hosts.push({ipc:e.ipc}),e.auth&&(t.auth={user:e.auth.user?e.auth.user:void 0,pass:e.auth.pass?e.auth.pass:void 0})}),!t.hosts.length)throw new Error(\"Invalid mongodb uri. Missing hostname\");var n=i.split(\"?\");return o||(n[0]?o=n[0].replace(/^\\//,\"\"):(o=/\\/([^\\.]+)$/.exec(e[1]))&&o[1]&&(o=o[1])),o?t.db=o:t.auth&&(t.db=ADMIN_DB),n[1]&&(t.options=options(n[1])),t};function options(r){var t=/;/.test(r)?\";\":\"&\",e=qs.parse(r,t);return Object.keys(e).forEach(function(r){var t=e[r];\"readPreferenceTags\"==r?(t=readPref(t))&&(e[r]=Array.isArray(t)?t:[t]):e[r]=format(t)}),e}function format(r){var t;return\"true\"==r||\"false\"!=r&&(t=parseInt(+r,10),isNaN(t)?r:t)}function readPref(r){var t;if(Array.isArray(r))return(t=r.map(readPref).filter(Boolean)).length?t:void 0;var e,o=r.split(\",\");return t={},o.forEach(function(r){if(r=(r||\"\").trim()){e=!0;var o=r.split(\":\");t[o[0]]=format(o[1])}}),e&&t}var ipcRgx=/\\.sock/;function parse(r){var t,e,o,s=r,i={};return s=s.replace(/^mongodb:\\/\\//,\"\"),/@/.test(s)&&(e=(t=s.split(/@/))[0],s=t[1],t=e.split(\":\"),i.auth={},i.auth.user=decodeURIComponent(t[0]),i.auth.pass=t[1]?decodeURIComponent(t[1]):void 0),ipcRgx.test(s)?(o=s.split(ipcRgx),i.ipc=o[0]+\".sock\",o[1]&&(o[1]=o[1].replace(/^\\//,\"\"),o[1]&&(i.db=o[1])),i):((t=s.split(\"/\"))[1]&&(i.db=t[1]),/^\\[[^\\]]+\\]:\\d+/.test(t[0])?(i.host=t[0].substring(1,t[0].indexOf(\"]:\")),i.port=t[0].substring(t[0].indexOf(\"]:\")+\"]:\".length)):(t=t[0].split(\":\"),i.host=t[0],i.port=t[1]||DEFAULT_PORT),i)}module.exports.version=require(\"../package.json\").version;","node_modules/muri/package.json":{"_from":"muri@1.2.2","_id":"muri@1.2.2","_inBundle":false,"_integrity":"sha1-YxmBMmUNsIoEzHnM0A3Tia/SYxw=","_location":"/muri","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"muri@1.2.2","name":"muri","escapedName":"muri","rawSpec":"1.2.2","saveSpec":null,"fetchSpec":"1.2.2"},"_requiredBy":["/mongoose"],"_resolved":"https://registry.npmjs.org/muri/-/muri-1.2.2.tgz","_shasum":"63198132650db08a04cc79ccd00dd389afd2631c","_spec":"muri@1.2.2","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\mongoose","author":{"name":"Aaron Heckmann","email":"aaron.heckmann+github@gmail.com"},"bugs":{"url":"https://github.com/aheckmann/muri/issues"},"bundleDependencies":false,"deprecated":false,"description":"MongoDB URI parser","devDependencies":{"mocha":"1.21.5"},"homepage":"https://github.com/aheckmann/muri#readme","keywords":["mongodb","uri","parser"],"license":"MIT","main":"index.js","name":"muri","repository":{"type":"git","url":"git://github.com/aheckmann/muri.git"},"scripts":{"test":"make test"},"version":"1.2.2"},"node_modules/extend/index.js":"\"use strict\";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(r){return\"function\"==typeof Array.isArray?Array.isArray(r):\"[object Array]\"===toStr.call(r)},isPlainObject=function(r){if(!r||\"[object Object]\"!==toStr.call(r))return!1;var t=hasOwn.call(r,\"constructor\"),o=r.constructor&&r.constructor.prototype&&hasOwn.call(r.constructor.prototype,\"isPrototypeOf\");if(r.constructor&&!t&&!o)return!1;var n;for(n in r);return void 0===n||hasOwn.call(r,n)};module.exports=function r(){var t,o,n,c,e,a,i=arguments[0],s=1,l=arguments.length,u=!1;for(\"boolean\"==typeof i&&(u=i,i=arguments[1]||{},s=2),(null==i||\"object\"!=typeof i&&\"function\"!=typeof i)&&(i={});s<l;++s)if(null!=(t=arguments[s]))for(o in t)n=i[o],i!==(c=t[o])&&(u&&c&&(isPlainObject(c)||(e=isArray(c)))?(e?(e=!1,a=n&&isArray(n)?n:[]):a=n&&isPlainObject(n)?n:{},i[o]=r(u,a,c)):void 0!==c&&(i[o]=c));return i};","backend/modules/settings/routes.js":"\"use strict\";module.exports=function(e,o){const t=e[o.config.expressId],n=e[o.config.mongooseId].model(\"Setting\");t.get(\"/settings\",t.crud.browseRoute.bind(null,e,n))};","backend/modules/events/routes.js":"\"use strict\";module.exports=function(e,n){const t=e[n.config.expressId],s=e[n.config.userId].auth,o=e[n.config.mongooseId].model(\"Event\"),g=s(\"EVENTS:VIEW\");t.get(\"/events\",g,t.crud.browseRoute.bind(null,e,o)),t.get(\"/events/types\",g,function(e,t){const s=Object.keys(n.types);s.sort(),t.send(s)}),t.get(\"/events/pending\",g,function(e,t){t.send(n.getPendingEvents())}),t.post(\"/events/pending\",s(\"SUPER\"),function(e,t){const s=n.getPendingEvents().length;n.insertEvents();const o=n.getPendingEvents().length;t.send({beforeCount:s,afterCount:o})})};","node_modules/cookie/index.js":"\"use strict\";exports.parse=parse,exports.serialize=serialize;var decode=decodeURIComponent,encode=encodeURIComponent,pairSplitRegExp=/; */,fieldContentRegExp=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function parse(e,t){if(\"string\"!=typeof e)throw new TypeError(\"argument str must be a string\");for(var r={},i=t||{},n=e.split(pairSplitRegExp),o=i.decode||decode,a=0;a<n.length;a++){var s=n[a],p=s.indexOf(\"=\");if(!(p<0)){var d=s.substr(0,p).trim(),f=s.substr(++p,s.length).trim();'\"'==f[0]&&(f=f.slice(1,-1)),void 0==r[d]&&(r[d]=tryDecode(f,o))}}return r}function serialize(e,t,r){var i=r||{},n=i.encode||encode;if(\"function\"!=typeof n)throw new TypeError(\"option encode is invalid\");if(!fieldContentRegExp.test(e))throw new TypeError(\"argument name is invalid\");var o=n(t);if(o&&!fieldContentRegExp.test(o))throw new TypeError(\"argument val is invalid\");var a=e+\"=\"+o;if(null!=i.maxAge){var s=i.maxAge-0;if(isNaN(s))throw new Error(\"maxAge should be a Number\");a+=\"; Max-Age=\"+Math.floor(s)}if(i.domain){if(!fieldContentRegExp.test(i.domain))throw new TypeError(\"option domain is invalid\");a+=\"; Domain=\"+i.domain}if(i.path){if(!fieldContentRegExp.test(i.path))throw new TypeError(\"option path is invalid\");a+=\"; Path=\"+i.path}if(i.expires){if(\"function\"!=typeof i.expires.toUTCString)throw new TypeError(\"option expires is invalid\");a+=\"; Expires=\"+i.expires.toUTCString()}if(i.httpOnly&&(a+=\"; HttpOnly\"),i.secure&&(a+=\"; Secure\"),i.sameSite){switch(\"string\"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:a+=\"; SameSite=Strict\";break;case\"lax\":a+=\"; SameSite=Lax\";break;case\"strict\":a+=\"; SameSite=Strict\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return a}function tryDecode(e,t){try{return t(e)}catch(t){return e}}","node_modules/cookie-parser/index.js":"\"use strict\";var cookie=require(\"cookie\"),signature=require(\"cookie-signature\");module.exports=cookieParser,module.exports.JSONCookie=JSONCookie,module.exports.JSONCookies=JSONCookies,module.exports.signedCookie=signedCookie,module.exports.signedCookies=signedCookies;function cookieParser(e,o){return function(i,r,s){if(i.cookies)return s();var n=i.headers.cookie,t=!e||Array.isArray(e)?e||[]:[e];if(i.secret=t[0],i.cookies=Object.create(null),i.signedCookies=Object.create(null),!n)return s();i.cookies=cookie.parse(n,o),0!==t.length&&(i.signedCookies=signedCookies(i.cookies,t),i.signedCookies=JSONCookies(i.signedCookies)),i.cookies=JSONCookies(i.cookies),s()}}function JSONCookie(e){if(\"string\"==typeof e&&\"j:\"===e.substr(0,2))try{return JSON.parse(e.slice(2))}catch(e){return}}function JSONCookies(e){for(var o,i,r=Object.keys(e),s=0;s<r.length;s++)(i=JSONCookie(e[o=r[s]]))&&(e[o]=i);return e}function signedCookie(e,o){if(\"string\"==typeof e){if(\"s:\"!==e.substr(0,2))return e;for(var i=!o||Array.isArray(o)?o||[]:[o],r=0;r<i.length;r++){var s=signature.unsign(e.slice(2),i[r]);if(!1!==s)return s}return!1}}function signedCookies(e,o){for(var i,r,s,n=Object.keys(e),t=Object.create(null),k=0;k<n.length;k++)(s=e[r=n[k]])!==(i=signedCookie(s,o))&&(t[r]=i,delete e[r]);return t}","node_modules/bcrypt/bcrypt.js":"\"use strict\";var binary=require(\"node-pre-gyp\"),path=require(\"path\"),binding_path=binary.find(path.resolve(path.join(__dirname,\"./package.json\"))),bindings=require(binding_path),crypto=require(\"crypto\"),promises=require(\"./lib/promises\");module.exports.genSaltSync=function(r){if(r){if(\"number\"!=typeof r)throw new Error(\"rounds must be a number\")}else r=10;return bindings.gen_salt_sync(r,crypto.randomBytes(16))},module.exports.genSalt=function r(n,e,t){if(\"function\"==typeof arguments[0]?(t=arguments[0],n=10):\"function\"==typeof arguments[1]&&(t=arguments[1]),!t)return promises.promise(r,this,[n,e]);if(n){if(\"number\"!=typeof n)return process.nextTick(function(){t(new Error(\"rounds must be a number\"))})}else n=10;crypto.randomBytes(16,function(r,e){r?t(r):bindings.gen_salt(n,e,t)})},module.exports.hashSync=function(r,n){if(null==r||null==n)throw new Error(\"data and salt arguments required\");if(\"string\"!=typeof r||\"string\"!=typeof n&&\"number\"!=typeof n)throw new Error(\"data must be a string and salt must either be a salt string or a number of rounds\");return\"number\"==typeof n&&(n=module.exports.genSaltSync(n)),bindings.encrypt_sync(r,n)},module.exports.hash=function r(n,e,t){return\"function\"==typeof n?process.nextTick(function(){n(new Error(\"data must be a string and salt must either be a salt string or a number of rounds\"))}):\"function\"==typeof e?process.nextTick(function(){e(new Error(\"data must be a string and salt must either be a salt string or a number of rounds\"))}):t&&\"function\"!=typeof t?promises.reject(new Error(\"cb must be a function or null to return a Promise\")):t?null==n||null==e?process.nextTick(function(){t(new Error(\"data and salt arguments required\"))}):\"string\"!=typeof n||\"string\"!=typeof e&&\"number\"!=typeof e?process.nextTick(function(){t(new Error(\"data must be a string and salt must either be a salt string or a number of rounds\"))}):\"number\"==typeof e?module.exports.genSalt(e,function(r,e){return bindings.encrypt(n,e,t)}):bindings.encrypt(n,e,t):promises.promise(r,this,[n,e])},module.exports.compareSync=function(r,n){if(null==r||null==n)throw new Error(\"data and hash arguments required\");if(\"string\"!=typeof r||\"string\"!=typeof n)throw new Error(\"data and hash must be strings\");return bindings.compare_sync(r,n)},module.exports.compare=function r(n,e,t){return\"function\"==typeof n?process.nextTick(function(){n(new Error(\"data and hash arguments required\"))}):\"function\"==typeof e?process.nextTick(function(){e(new Error(\"data and hash arguments required\"))}):t&&\"function\"!=typeof t?promises.reject(new Error(\"cb must be a function or null to return a Promise\")):t?null==n||null==e?process.nextTick(function(){t(new Error(\"data and hash arguments required\"))}):\"string\"!=typeof n||\"string\"!=typeof e?process.nextTick(function(){t(new Error(\"data and hash must be strings\"))}):bindings.compare(n,e,t):promises.promise(r,this,[n,e])},module.exports.getRounds=function(r){if(null==r)throw new Error(\"hash argument required\");if(\"string\"!=typeof r)throw new Error(\"hash must be a string\");return bindings.get_rounds(r)};","backend/modules/util/resolveIpAddress.js":"\"use strict\";module.exports=function(e){let r=\"\";return e&&(hasRealIpFromProxyServer(e)?r=(e.headers||e.request.headers)[\"x-real-ip\"]:e.socket&&\"string\"==typeof e.socket.remoteAddress?r=e.socket.remoteAddress:e.conn&&\"string\"==typeof e.conn.remoteAddress?r=e.conn.remoteAddress:\"string\"==typeof e.address&&(r=e.address)),r};function hasRealIpFromProxyServer(e){const r=e.request,s=r?r.headers:e.headers;return!(!s||\"string\"!=typeof s[\"x-real-ip\"])&&(!(!e.socket||\"127.0.0.1\"!==e.socket.remoteAddress)||e.conn&&\"127.0.0.1\"===e.conn.remoteAddress)}","node_modules/cookie-signature/index.js":"var crypto=require(\"crypto\");exports.sign=function(e,r){if(\"string\"!=typeof e)throw new TypeError(\"Cookie value must be provided as a string.\");if(\"string\"!=typeof r)throw new TypeError(\"Secret string must be provided.\");return e+\".\"+crypto.createHmac(\"sha256\",r).update(e).digest(\"base64\").replace(/\\=+$/,\"\")},exports.unsign=function(e,r){if(\"string\"!=typeof e)throw new TypeError(\"Signed cookie string must be provided.\");if(\"string\"!=typeof r)throw new TypeError(\"Secret string must be provided.\");var t=e.slice(0,e.lastIndexOf(\".\"));return sha1(exports.sign(t,r))==sha1(e)&&t};function sha1(e){return crypto.createHash(\"sha1\").update(e).digest(\"hex\")}","node_modules/node-pre-gyp/lib/node-pre-gyp.js":"\"use strict\";module.exports=exports;var path=require(\"path\"),nopt=require(\"nopt\"),log=require(\"npmlog\");log.disableProgress();var EE=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,commands=[\"clean\",\"install\",\"reinstall\",\"build\",\"rebuild\",\"package\",\"testpackage\",\"publish\",\"unpublish\",\"info\",\"testbinary\",\"reveal\",\"configure\"],aliases={};log.heading=\"node-pre-gyp\",exports.find=require(\"./pre-binding\").find;function Run(){var e=this;this.commands={},commands.forEach(function(o){e.commands[o]=function(n,s){return log.verbose(\"command\",o,n),require(\"./\"+o)(e,n,s)}})}inherits(Run,EE),exports.Run=Run;var proto=Run.prototype;proto.package=require(\"../package.json\"),proto.configDefs={help:Boolean,arch:String,debug:Boolean,directory:String,proxy:String,loglevel:String},proto.shorthands={release:\"--no-debug\",C:\"--directory\",debug:\"--debug\",j:\"--jobs\",silent:\"--loglevel=silent\",silly:\"--loglevel=silly\",verbose:\"--loglevel=verbose\"},proto.aliases=aliases,proto.parseArgv=function(e){this.opts=nopt(this.configDefs,this.shorthands,e),this.argv=this.opts.argv.remain.slice();var o=this.todo=[];(e=this.argv.map(function(e){return e in this.aliases&&(e=this.aliases[e]),e},this)).slice().forEach(function(n){if(n in this.commands){var s=e.splice(0,e.indexOf(n));e.shift(),o.length>0&&(o[o.length-1].args=s),o.push({name:n,args:[]})}},this),o.length>0&&(o[o.length-1].args=e.splice(0));Object.keys(process.env).forEach(function(e){if(0===e.indexOf(\"npm_config_\")){var o=process.env[e];\"npm_config_loglevel\"===e?log.level=o:\"argv\"===(e=e.substring(\"npm_config_\".length))?this.opts.argv&&this.opts.argv.remain&&this.opts.argv.remain.length||(this.opts[e]=o):this.opts[e]=o}},this),this.opts.loglevel&&(log.level=this.opts.loglevel),log.resume()},proto.usage=function(){return[\"\",\"  Usage: node-pre-gyp <command> [options]\",\"\",\"  where <command> is one of:\",commands.map(function(e){return\"    - \"+e+\" - \"+require(\"./\"+e).usage}).join(\"\\n\"),\"\",\"node-pre-gyp@\"+this.version+\"  \"+path.resolve(__dirname,\"..\"),\"node@\"+process.versions.node].join(\"\\n\")},Object.defineProperty(proto,\"version\",{get:function(){return this.package.version},enumerable:!0});","node_modules/bcrypt/lib/promises.js":"\"use strict\";module.exports.promise=function(e,r,o){if(\"undefined\"!=typeof Promise)return Array.isArray(o)||(o=Array.prototype.slice.call(o)),\"function\"!=typeof e?Promise.reject(new Error(\"fn must be a function\")):new Promise(function(n,t){o.push(function(e,r){e?t(e):n(r)}),e.apply(r,o)})},module.exports.reject=function(e){if(\"undefined\"!=typeof Promise)return Promise.reject(e)};","node_modules/nopt/lib/nopt.js":"var debug=process.env.DEBUG_NOPT||process.env.NOPT_DEBUG?function(){console.error.apply(console,arguments)}:function(){},url=require(\"url\"),path=require(\"path\"),Stream=require(\"stream\").Stream,abbrev=require(\"abbrev\"),osenv=require(\"osenv\");module.exports=exports=nopt,exports.clean=clean,exports.typeDefs={String:{type:String,validate:validateString},Boolean:{type:Boolean,validate:validateBoolean},url:{type:url,validate:validateUrl},Number:{type:Number,validate:validateNumber},path:{type:path,validate:validatePath},Stream:{type:Stream,validate:validateStream},Date:{type:Date,validate:validateDate}};function nopt(e,r,a,t){a=a||process.argv,e=e||{},r=r||{},\"number\"!=typeof t&&(t=2),debug(e,r,a,t);var n={},i={remain:[],cooked:a=a.slice(t),original:a.slice(0)};return parse(a,n,i.remain,e,r),clean(n,e,exports.typeDefs),n.argv=i,Object.defineProperty(n.argv,\"toString\",{value:function(){return this.original.map(JSON.stringify).join(\" \")},enumerable:!1}),n}function clean(e,r,a){a=a||exports.typeDefs;var t={},n=[!1,!0,null,String,Array];Object.keys(e).forEach(function(i){if(\"argv\"!==i){var l=e[i],u=Array.isArray(l),o=r[i];u||(l=[l]),o||(o=n),o===Array&&(o=n.concat(Array)),Array.isArray(o)||(o=[o]),debug(\"val=%j\",l),debug(\"types=\",o),(l=l.map(function(n){if(\"string\"==typeof n&&(debug(\"string %j\",n),\"null\"===(n=n.trim())&&~o.indexOf(null)||\"true\"===n&&(~o.indexOf(!0)||~o.indexOf(Boolean))||\"false\"===n&&(~o.indexOf(!1)||~o.indexOf(Boolean))?(n=JSON.parse(n),debug(\"jsonable %j\",n)):~o.indexOf(Number)&&!isNaN(n)?(debug(\"convert to number\",n),n=+n):~o.indexOf(Date)&&!isNaN(Date.parse(n))&&(debug(\"convert to date\",n),n=new Date(n))),!r.hasOwnProperty(i))return n;!1!==n||!~o.indexOf(null)||~o.indexOf(!1)||~o.indexOf(Boolean)||(n=null);var l={};return l[i]=n,debug(\"prevalidated val\",l,n,r[i]),validate(l,i,n,r[i],a)?(debug(\"validated val\",l,n,r[i]),l[i]):(exports.invalidHandler?exports.invalidHandler(i,n,r[i],e):!1!==exports.invalidHandler&&debug(\"invalid: \"+i+\"=\"+n,r[i]),t)}).filter(function(e){return e!==t})).length?u?(debug(u,e[i],l),e[i]=l):e[i]=l[0]:delete e[i],debug(\"k=%s val=%j\",i,l,e[i])}})}function validateString(e,r,a){e[r]=String(a)}function validatePath(e,r,a){if(!0===a)return!1;if(null===a)return!0;a=String(a);var t=\"win32\"===process.platform?/^~(\\/|\\\\)/:/^~\\//,n=osenv.home();return n&&a.match(t)?e[r]=path.resolve(n,a.substr(2)):e[r]=path.resolve(a),!0}function validateNumber(e,r,a){if(debug(\"validate Number %j %j %j\",r,a,isNaN(a)),isNaN(a))return!1;e[r]=+a}function validateDate(e,r,a){var t=Date.parse(a);if(debug(\"validate Date %j %j %j\",r,a,t),isNaN(t))return!1;e[r]=new Date(a)}function validateBoolean(e,r,a){a=a instanceof Boolean?a.valueOf():\"string\"==typeof a?isNaN(a)?\"null\"!==a&&\"false\"!==a:!!+a:!!a,e[r]=a}function validateUrl(e,r,a){if(!(a=url.parse(String(a))).host)return!1;e[r]=a.href}function validateStream(e,r,a){if(!(a instanceof Stream))return!1;e[r]=a}function validate(e,r,a,t,n){if(Array.isArray(t)){for(var i=0,l=t.length;i<l;i++)if(t[i]!==Array&&validate(e,r,a,t[i],n))return!0;return delete e[r],!1}if(t===Array)return!0;if(t!=t)return debug(\"Poison NaN\",r,a,t),delete e[r],!1;if(a===t)return debug(\"Explicitly allowed %j\",a),e[r]=a,!0;var u=!1,o=Object.keys(n);for(i=0,l=o.length;i<l;i++){debug(\"test type %j %j %j\",r,a,o[i]);var s=n[o[i]];if(s&&(t&&t.name&&s.type&&s.type.name?t.name===s.type.name:t===s.type)){var d={};if(u=!1!==s.validate(d,r,a),a=d[r],u){e[r]=a;break}}}return debug(\"OK? %j (%j %j %j)\",u,r,a,o[i]),u||delete e[r],u}function parse(e,r,a,t,n){debug(\"parse\",e,r,a);for(var i=abbrev(Object.keys(t)),l=abbrev(Object.keys(n)),u=0;u<e.length;u++){var o=e[u];if(debug(\"arg\",o),o.match(/^-{2,}$/)){a.push.apply(a,e.slice(u+1)),e[u]=\"--\";break}var s=!1;if(\"-\"===o.charAt(0)&&o.length>1){var d=o.indexOf(\"=\");if(d>-1){s=!0;var f=o.substr(d+1);o=o.substr(0,d),e.splice(u,1,o,f)}var v=resolveShort(o,n,l,i);if(debug(\"arg=%j shRes=%j\",o,v),v&&(debug(o,v),e.splice.apply(e,[u,1].concat(v)),o!==v[0])){u--;continue}o=o.replace(/^-+/,\"\");for(var p=null;0===o.toLowerCase().indexOf(\"no-\");)p=!p,o=o.substr(3);i[o]&&(o=i[o]);var c=t[o],g=Array.isArray(c);g&&1===c.length&&(g=!1,c=c[0]);var b=c===Array||g&&-1!==c.indexOf(Array);!t.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(Array.isArray(r[o])||(r[o]=[r[o]]),b=!0);var y,h=e[u+1];if(\"boolean\"==typeof p||c===Boolean||g&&-1!==c.indexOf(Boolean)||void 0===c&&!s||\"false\"===h&&(null===c||g&&~c.indexOf(null))){y=!p,\"true\"!==h&&\"false\"!==h||(y=JSON.parse(h),h=null,p&&(y=!y),u++),g&&h&&(~c.indexOf(h)?(y=h,u++):\"null\"===h&&~c.indexOf(null)?(y=null,u++):h.match(/^-{2,}[^-]/)||isNaN(h)||!~c.indexOf(Number)?!h.match(/^-[^-]/)&&~c.indexOf(String)&&(y=h,u++):(y=+h,u++)),b?(r[o]=r[o]||[]).push(y):r[o]=y;continue}c===String&&(void 0===h?h=\"\":h.match(/^-{1,2}[^-]+/)&&(h=\"\",u--)),h&&h.match(/^-{2,}$/)&&(h=void 0,u--),y=void 0===h||h,b?(r[o]=r[o]||[]).push(y):r[o]=y,u++}else a.push(o)}}function resolveShort(e,r,a,t){if(e=e.replace(/^-+/,\"\"),t[e]===e)return null;if(r[e])return r[e]&&!Array.isArray(r[e])&&(r[e]=r[e].split(/\\s+/)),r[e];var n=r.___singles;n||(n=Object.keys(r).filter(function(e){return 1===e.length}).reduce(function(e,r){return e[r]=!0,e},{}),r.___singles=n,debug(\"shorthand singles\",n));var i=e.split(\"\").filter(function(e){return n[e]});return i.join(\"\")===e?i.map(function(e){return r[e]}).reduce(function(e,r){return e.concat(r)},[]):t[e]&&!r[e]?null:(a[e]&&(e=a[e]),r[e]&&!Array.isArray(r[e])&&(r[e]=r[e].split(/\\s+/)),r[e])}","node_modules/npmlog/log.js":"\"use strict\";var Progress=require(\"are-we-there-yet\"),Gauge=require(\"gauge\"),EE=require(\"events\").EventEmitter,log=exports=module.exports=new EE,util=require(\"util\"),setBlocking=require(\"set-blocking\"),consoleControl=require(\"console-control-strings\");setBlocking(!0);var stream=process.stderr;Object.defineProperty(log,\"stream\",{set:function(e){stream=e,this.gauge&&this.gauge.setWriteTo(stream,stream)},get:function(){return stream}});var colorEnabled;log.useColor=function(){return null!=colorEnabled?colorEnabled:stream.isTTY},log.enableColor=function(){colorEnabled=!0,this.gauge.setTheme({hasColor:colorEnabled,hasUnicode:unicodeEnabled})},log.disableColor=function(){colorEnabled=!1,this.gauge.setTheme({hasColor:colorEnabled,hasUnicode:unicodeEnabled})},log.level=\"info\",log.gauge=new Gauge(stream,{enabled:!1,theme:{hasColor:log.useColor()},template:[{type:\"progressbar\",length:20},{type:\"activityIndicator\",kerning:1,length:1},{type:\"section\",default:\"\"},\":\",{type:\"logline\",kerning:1,default:\"\"}]}),log.tracker=new Progress.TrackerGroup,log.progressEnabled=log.gauge.isEnabled();var unicodeEnabled;log.enableUnicode=function(){unicodeEnabled=!0,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:unicodeEnabled})},log.disableUnicode=function(){unicodeEnabled=!1,this.gauge.setTheme({hasColor:this.useColor(),hasUnicode:unicodeEnabled})},log.setGaugeThemeset=function(e){this.gauge.setThemeset(e)},log.setGaugeTemplate=function(e){this.gauge.setTemplate(e)},log.enableProgress=function(){this.progressEnabled||(this.progressEnabled=!0,this.tracker.on(\"change\",this.showProgress),this._pause||this.gauge.enable())},log.disableProgress=function(){this.progressEnabled&&(this.progressEnabled=!1,this.tracker.removeListener(\"change\",this.showProgress),this.gauge.disable())};var trackerConstructors=[\"newGroup\",\"newItem\",\"newStream\"],mixinLog=function(e){return Object.keys(log).forEach(function(r){if(\"_\"!==r[0]&&!trackerConstructors.filter(function(e){return e===r}).length&&!e[r]&&\"function\"==typeof log[r]){var t=log[r];e[r]=function(){return t.apply(log,arguments)}}}),e instanceof Progress.TrackerGroup&&trackerConstructors.forEach(function(r){var t=e[r];e[r]=function(){return mixinLog(t.apply(e,arguments))}}),e};trackerConstructors.forEach(function(e){log[e]=function(){return mixinLog(this.tracker[e].apply(this.tracker,arguments))}}),log.clearProgress=function(e){if(!this.progressEnabled)return e&&process.nextTick(e);this.gauge.hide(e)},log.showProgress=function(e,r){if(this.progressEnabled){var t={};e&&(t.section=e);var o=log.record[log.record.length-1];if(o){t.subsection=o.prefix;var s=log.disp[o.level]||o.level,i=this._format(s,log.style[o.level]);o.prefix&&(i+=\" \"+this._format(o.prefix,this.prefixStyle)),i+=\" \"+o.message.split(/\\r?\\n/)[0],t.logline=i}t.completed=r||this.tracker.completed(),this.gauge.show(t)}}.bind(log),log.pause=function(){this._paused=!0,this.progressEnabled&&this.gauge.disable()},log.resume=function(){if(this._paused){this._paused=!1;var e=this._buffer;this._buffer=[],e.forEach(function(e){this.emitLog(e)},this),this.progressEnabled&&this.gauge.enable()}},log._buffer=[];var id=0;log.record=[],log.maxRecordSize=1e4,log.log=function(e,r,t){if(void 0===this.levels[e])return this.emit(\"error\",new Error(util.format(\"Undefined log level: %j\",e)));for(var o=new Array(arguments.length-2),s=null,i=2;i<arguments.length;i++){var l=o[i-2]=arguments[i];\"object\"==typeof l&&l&&l instanceof Error&&l.stack&&Object.defineProperty(l,\"stack\",{value:s=l.stack+\"\",enumerable:!0,writable:!0})}s&&o.unshift(s+\"\\n\"),t=util.format.apply(util,o);var n={id:id++,level:e,prefix:String(r||\"\"),message:t,messageRaw:o};this.emit(\"log\",n),this.emit(\"log.\"+e,n),n.prefix&&this.emit(n.prefix,n),this.record.push(n);var a=this.maxRecordSize;if(this.record.length-a>a/10){var g=Math.floor(.9*a);this.record=this.record.slice(-1*g)}this.emitLog(n)}.bind(log),log.emitLog=function(e){if(this._paused)this._buffer.push(e);else{this.progressEnabled&&this.gauge.pulse(e.prefix);var r=this.levels[e.level];if(void 0!==r&&!(r<this.levels[this.level])&&(!(r>0)||isFinite(r))){var t=null!=log.disp[e.level]?log.disp[e.level]:e.level;this.clearProgress(),e.message.split(/\\r?\\n/).forEach(function(r){this.heading&&(this.write(this.heading,this.headingStyle),this.write(\" \")),this.write(t,log.style[e.level]);var o=e.prefix||\"\";o&&this.write(\" \"),this.write(o,this.prefixStyle),this.write(\" \"+r+\"\\n\")},this),this.showProgress()}}},log._format=function(e,r){if(stream){var t=\"\";if(this.useColor()){var o=[];(r=r||{}).fg&&o.push(r.fg),r.bg&&o.push(\"bg\"+r.bg[0].toUpperCase()+r.bg.slice(1)),r.bold&&o.push(\"bold\"),r.underline&&o.push(\"underline\"),r.inverse&&o.push(\"inverse\"),o.length&&(t+=consoleControl.color(o)),r.beep&&(t+=consoleControl.beep())}return t+=e,this.useColor()&&(t+=consoleControl.color(\"reset\")),t}},log.write=function(e,r){stream&&stream.write(this._format(e,r))},log.addLevel=function(e,r,t,o){null==o&&(o=e),this.levels[e]=r,this.style[e]=t,this[e]||(this[e]=function(){var r=new Array(arguments.length+1);r[0]=e;for(var t=0;t<arguments.length;t++)r[t+1]=arguments[t];return this.log.apply(this,r)}.bind(this)),this.disp[e]=o},log.prefixStyle={fg:\"magenta\"},log.headingStyle={fg:\"white\",bg:\"black\"},log.style={},log.levels={},log.disp={},log.addLevel(\"silly\",-1/0,{inverse:!0},\"sill\"),log.addLevel(\"verbose\",1e3,{fg:\"blue\",bg:\"black\"},\"verb\"),log.addLevel(\"info\",2e3,{fg:\"green\"}),log.addLevel(\"timing\",2500,{fg:\"green\",bg:\"black\"}),log.addLevel(\"http\",3e3,{fg:\"green\",bg:\"black\"}),log.addLevel(\"notice\",3500,{fg:\"blue\",bg:\"black\"}),log.addLevel(\"warn\",4e3,{fg:\"black\",bg:\"yellow\"},\"WARN\"),log.addLevel(\"error\",5e3,{fg:\"red\",bg:\"black\"},\"ERR!\"),log.addLevel(\"silent\",1/0),log.on(\"error\",function(){});","node_modules/node-pre-gyp/lib/pre-binding.js":"\"use strict\";var versioning=require(\"../lib/util/versioning.js\"),existsSync=require(\"fs\").existsSync||require(\"path\").existsSync,path=require(\"path\");module.exports=exports,exports.usage=\"Finds the require path for the node-pre-gyp installed module\",exports.validate=function(e){versioning.validate_config(e)},exports.find=function(e,i){if(!existsSync(e))throw new Error(\"package.json does not exist at \"+e);var r=require(e);versioning.validate_config(r),(i=i||{}).module_root||(i.module_root=path.dirname(e));return versioning.evaluate(r,i).module};","node_modules/node-pre-gyp/package.json":{"_from":"node-pre-gyp@0.6.36","_id":"node-pre-gyp@0.6.36","_inBundle":false,"_integrity":"sha1-22BBEst04NR3VU6bUFsXq936t4Y=","_location":"/node-pre-gyp","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"node-pre-gyp@0.6.36","name":"node-pre-gyp","escapedName":"node-pre-gyp","rawSpec":"0.6.36","saveSpec":null,"fetchSpec":"0.6.36"},"_requiredBy":["/bcrypt"],"_resolved":"https://registry.npmjs.org/node-pre-gyp/-/node-pre-gyp-0.6.36.tgz","_shasum":"db604112cb74e0d477554e9b505b17abddfab786","_spec":"node-pre-gyp@0.6.36","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\bcrypt","author":{"name":"Dane Springmeyer","email":"dane@mapbox.com"},"bin":{"node-pre-gyp":"./bin/node-pre-gyp"},"bugs":{"url":"https://github.com/mapbox/node-pre-gyp/issues"},"bundleDependencies":false,"dependencies":{"mkdirp":"^0.5.1","nopt":"^4.0.1","npmlog":"^4.0.2","rc":"^1.1.7","request":"^2.81.0","rimraf":"^2.6.1","semver":"^5.3.0","tar":"^2.2.1","tar-pack":"^3.4.0"},"deprecated":false,"description":"Node.js native addon binary install tool","devDependencies":{"aws-sdk":"^2.28.0","jshint":"^2.9.4","mocha":"^3.2.0","retire":"^1.2.12"},"homepage":"https://github.com/mapbox/node-pre-gyp#readme","jshintConfig":{"node":true,"globalstrict":true,"undef":true,"unused":true,"noarg":true,"mocha":true},"keywords":["native","addon","module","c","c++","bindings","binary"],"license":"BSD-3-Clause","main":"./lib/node-pre-gyp.js","name":"node-pre-gyp","repository":{"type":"git","url":"git://github.com/mapbox/node-pre-gyp.git"},"scripts":{"pretest":"retire -n && jshint test/build.test.js test/s3_setup.test.js test/versioning.test.js","test":"jshint lib lib/util scripts bin/node-pre-gyp && mocha -R spec --timeout 500000","update-crosswalk":"node scripts/abi_crosswalk.js"},"version":"0.6.36"},"node_modules/abbrev/abbrev.js":"module.exports=exports=abbrev.abbrev=abbrev,abbrev.monkeyPatch=monkeyPatch;function monkeyPatch(){Object.defineProperty(Array.prototype,\"abbrev\",{value:function(){return abbrev(this)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(Object.prototype,\"abbrev\",{value:function(){return abbrev(Object.keys(this))},enumerable:!1,configurable:!0,writable:!0})}function abbrev(r){1===arguments.length&&Array.isArray(r)||(r=Array.prototype.slice.call(arguments,0));for(var e=0,t=r.length,a=[];e<t;e++)a[e]=\"string\"==typeof r[e]?r[e]:String(r[e]);var b={},n=\"\";for(e=0,t=(a=a.sort(lexSort)).length;e<t;e++){var o=a[e],c=a[e+1]||\"\",i=!0,l=!0;if(o!==c){for(var f=0,u=o.length;f<u;f++){var v=o.charAt(f);if(i=i&&v===c.charAt(f),l=l&&v===n.charAt(f),!i&&!l){f++;break}}if(n=o,f!==u)for(var y=o.substr(0,f);f<=u;f++)b[y]=o,y+=o.charAt(f);else b[o]=o}}return b}function lexSort(r,e){return r===e?0:r>e?1:-1}","node_modules/osenv/osenv.js":"var isWindows=\"win32\"===process.platform,path=require(\"path\"),exec=require(\"child_process\").exec,osTmpdir=require(\"os-tmpdir\"),osHomedir=require(\"os-homedir\");function memo(e,n,o){var s=!1,r=!1;exports[e]=function(i){var t=n();return t||s||r||!o||(s=!0,r=!0,exec(o,function(e,n,o){r=!1,e||(t=n.trim())})),exports[e]=function(e){return e&&process.nextTick(e.bind(null,null,t)),t},i&&!r&&process.nextTick(i.bind(null,null,t)),t}}memo(\"user\",function(){return isWindows?process.env.USERDOMAIN+\"\\\\\"+process.env.USERNAME:process.env.USER},\"whoami\"),memo(\"prompt\",function(){return isWindows?process.env.PROMPT:process.env.PS1}),memo(\"hostname\",function(){return isWindows?process.env.COMPUTERNAME:process.env.HOSTNAME},\"hostname\"),memo(\"tmpdir\",function(){return osTmpdir()}),memo(\"home\",function(){return osHomedir()}),memo(\"path\",function(){return(process.env.PATH||process.env.Path||process.env.path).split(isWindows?\";\":\":\")}),memo(\"editor\",function(){return process.env.EDITOR||process.env.VISUAL||(isWindows?\"notepad.exe\":\"vi\")}),memo(\"shell\",function(){return isWindows?process.env.ComSpec||\"cmd\":process.env.SHELL||\"bash\"});","node_modules/os-tmpdir/index.js":"\"use strict\";var isWindows=\"win32\"===process.platform,trailingSlashRe=isWindows?/[^:]\\\\$/:/.\\/$/;module.exports=function(){var s;return s=isWindows?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+\"\\\\temp\":process.env.TMPDIR||process.env.TMP||process.env.TEMP||\"/tmp\",trailingSlashRe.test(s)&&(s=s.slice(0,-1)),s};","node_modules/os-homedir/index.js":"\"use strict\";var os=require(\"os\");function homedir(){var o=process.env,r=o.HOME,e=o.LOGNAME||o.USER||o.LNAME||o.USERNAME;return\"win32\"===process.platform?o.USERPROFILE||o.HOMEDRIVE+o.HOMEPATH||r||null:\"darwin\"===process.platform?r||(e?\"/Users/\"+e:null):\"linux\"===process.platform?r||(0===process.getuid()?\"/root\":e?\"/home/\"+e:null):r||null}module.exports=\"function\"==typeof os.homedir?os.homedir:homedir;","node_modules/are-we-there-yet/index.js":"\"use strict\";exports.TrackerGroup=require(\"./tracker-group.js\"),exports.Tracker=require(\"./tracker.js\"),exports.TrackerStream=require(\"./tracker-stream.js\");","node_modules/gauge/index.js":"\"use strict\";var Plumbing=require(\"./plumbing.js\"),hasUnicode=require(\"has-unicode\"),hasColor=require(\"./has-color.js\"),onExit=require(\"signal-exit\"),defaultThemes=require(\"./themes\"),setInterval=require(\"./set-interval.js\"),process=require(\"./process.js\"),setImmediate=require(\"./set-immediate\");module.exports=Gauge;function callWith(e,t){return function(){return t.call(e)}}function Gauge(e,t){var s,i;e&&e.write?(i=e,s=t||{}):t&&t.write?(i=t,s=e||{}):(i=process.stderr,s=e||t||{}),this._status={spun:0,section:\"\",subsection:\"\"},this._paused=!1,this._disabled=!0,this._showing=!1,this._onScreen=!1,this._needsRedraw=!1,this._hideCursor=null==s.hideCursor||s.hideCursor,this._fixedFramerate=null==s.fixedFramerate?!/^v0\\.8\\./.test(process.version):s.fixedFramerate,this._lastUpdateAt=null,this._updateInterval=null==s.updateInterval?50:s.updateInterval,this._themes=s.themes||defaultThemes,this._theme=s.theme;var h=this._computeTheme(s.theme),r=s.template||[{type:\"progressbar\",length:20},{type:\"activityIndicator\",kerning:1,length:1},{type:\"section\",kerning:1,default:\"\"},{type:\"subsection\",kerning:1,default:\"\"}];this.setWriteTo(i,s.tty);var a=s.Plumbing||Plumbing;this._gauge=new a(h,r,this.getWidth()),this._$$doRedraw=callWith(this,this._doRedraw),this._$$handleSizeChange=callWith(this,this._handleSizeChange),this._cleanupOnExit=null==s.cleanupOnExit||s.cleanupOnExit,this._removeOnExit=null,s.enabled||null==s.enabled&&this._tty&&this._tty.isTTY?this.enable():this.disable()}Gauge.prototype={},Gauge.prototype.isEnabled=function(){return!this._disabled},Gauge.prototype.setTemplate=function(e){this._gauge.setTemplate(e),this._showing&&this._requestRedraw()},Gauge.prototype._computeTheme=function(e){if(e||(e={}),\"string\"==typeof e)e=this._themes.getTheme(e);else if(e&&(0===Object.keys(e).length||null!=e.hasUnicode||null!=e.hasColor)){var t=null==e.hasUnicode?hasUnicode():e.hasUnicode,s=null==e.hasColor?hasColor:e.hasColor;e=this._themes.getDefault({hasUnicode:t,hasColor:s,platform:e.platform})}return e},Gauge.prototype.setThemeset=function(e){this._themes=e,this.setTheme(this._theme)},Gauge.prototype.setTheme=function(e){this._gauge.setTheme(this._computeTheme(e)),this._showing&&this._requestRedraw(),this._theme=e},Gauge.prototype._requestRedraw=function(){this._needsRedraw=!0,this._fixedFramerate||this._doRedraw()},Gauge.prototype.getWidth=function(){return(this._tty&&this._tty.columns||80)-1},Gauge.prototype.setWriteTo=function(e,t){var s=!this._disabled;s&&this.disable(),this._writeTo=e,this._tty=t||e===process.stderr&&process.stdout.isTTY&&process.stdout||e.isTTY&&e||this._tty,this._gauge&&this._gauge.setWidth(this.getWidth()),s&&this.enable()},Gauge.prototype.enable=function(){this._disabled&&(this._disabled=!1,this._tty&&this._enableEvents(),this._showing&&this.show())},Gauge.prototype.disable=function(){this._disabled||(this._showing&&(this._lastUpdateAt=null,this._showing=!1,this._doRedraw(),this._showing=!0),this._disabled=!0,this._tty&&this._disableEvents())},Gauge.prototype._enableEvents=function(){this._cleanupOnExit&&(this._removeOnExit=onExit(callWith(this,this.disable))),this._tty.on(\"resize\",this._$$handleSizeChange),this._fixedFramerate&&(this.redrawTracker=setInterval(this._$$doRedraw,this._updateInterval),this.redrawTracker.unref&&this.redrawTracker.unref())},Gauge.prototype._disableEvents=function(){this._tty.removeListener(\"resize\",this._$$handleSizeChange),this._fixedFramerate&&clearInterval(this.redrawTracker),this._removeOnExit&&this._removeOnExit()},Gauge.prototype.hide=function(e){return this._disabled?e&&process.nextTick(e):this._showing?(this._showing=!1,this._doRedraw(),void(e&&setImmediate(e))):e&&process.nextTick(e)},Gauge.prototype.show=function(e,t){if(this._showing=!0,\"string\"==typeof e)this._status.section=e;else if(\"object\"==typeof e)for(var s=Object.keys(e),i=0;i<s.length;++i){var h=s[i];this._status[h]=e[h]}null!=t&&(this._status.completed=t),this._disabled||this._requestRedraw()},Gauge.prototype.pulse=function(e){this._status.subsection=e||\"\",this._status.spun++,this._disabled||this._showing&&this._requestRedraw()},Gauge.prototype._handleSizeChange=function(){this._gauge.setWidth(this._tty.columns-1),this._requestRedraw()},Gauge.prototype._doRedraw=function(){if(!this._disabled&&!this._paused){if(!this._fixedFramerate){var e=Date.now();if(this._lastUpdateAt&&e-this._lastUpdateAt<this._updateInterval)return;this._lastUpdateAt=e}if(!this._showing&&this._onScreen){this._onScreen=!1;var t=this._gauge.hide();return this._hideCursor&&(t+=this._gauge.showCursor()),this._writeTo.write(t)}(this._showing||this._onScreen)&&(this._showing&&!this._onScreen&&(this._onScreen=!0,this._needsRedraw=!0,this._hideCursor&&this._writeTo.write(this._gauge.hideCursor())),this._needsRedraw&&(this._writeTo.write(this._gauge.show(this._status))||(this._paused=!0,this._writeTo.on(\"drain\",callWith(this,function(){this._paused=!1,this._doRedraw()})))))}};","node_modules/set-blocking/index.js":"module.exports=function(o){[process.stdout,process.stderr].forEach(function(e){e._handle&&e.isTTY&&\"function\"==typeof e._handle.setBlocking&&e._handle.setBlocking(o)})};","node_modules/console-control-strings/index.js":"\"use strict\";var prefix=\"\u001b[\";exports.up=function(r){return prefix+(r||\"\")+\"A\"},exports.down=function(r){return prefix+(r||\"\")+\"B\"},exports.forward=function(r){return prefix+(r||\"\")+\"C\"},exports.back=function(r){return prefix+(r||\"\")+\"D\"},exports.nextLine=function(r){return prefix+(r||\"\")+\"E\"},exports.previousLine=function(r){return prefix+(r||\"\")+\"F\"},exports.horizontalAbsolute=function(r){if(null==r)throw new Error(\"horizontalAboslute requires a column to position to\");return prefix+r+\"G\"},exports.eraseData=function(){return prefix+\"J\"},exports.eraseLine=function(){return prefix+\"K\"},exports.goto=function(r,e){return prefix+e+\";\"+r+\"H\"},exports.gotoSOL=function(){return\"\\r\"},exports.beep=function(){return\"\u0007\"},exports.hideCursor=function(){return prefix+\"?25l\"},exports.showCursor=function(){return prefix+\"?25h\"};var colors={reset:0,bold:1,italic:3,underline:4,inverse:7,stopBold:22,stopItalic:23,stopUnderline:24,stopInverse:27,white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,bgWhite:47,bgBlack:40,bgBlue:44,bgCyan:46,bgGreen:42,bgMagenta:45,bgRed:41,bgYellow:43,grey:90,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97,bgGrey:100,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107};exports.color=function(r){return 1===arguments.length&&Array.isArray(r)||(r=Array.prototype.slice.call(arguments)),prefix+r.map(colorNameToCode).join(\";\")+\"m\"};function colorNameToCode(r){if(null!=colors[r])return colors[r];throw new Error(\"Unknown color or style name: \"+r)}","node_modules/are-we-there-yet/tracker-group.js":"\"use strict\";var util=require(\"util\"),TrackerBase=require(\"./tracker-base.js\"),Tracker=require(\"./tracker.js\"),TrackerStream=require(\"./tracker-stream.js\"),TrackerGroup=module.exports=function(t){TrackerBase.call(this,t),this.parentGroup=null,this.trackers=[],this.completion={},this.weight={},this.totalWeight=0,this.finished=!1,this.bubbleChange=bubbleChange(this)};util.inherits(TrackerGroup,TrackerBase);function bubbleChange(t){return function(e,r,i){t.completion[i.id]=r,t.finished||t.emit(\"change\",e||t.name,t.completed(),t)}}TrackerGroup.prototype.nameInTree=function(){for(var t=[],e=this;e;)t.unshift(e.name),e=e.parentGroup;return t.join(\"/\")},TrackerGroup.prototype.addUnit=function(t,e){if(t.addUnit){for(var r=this;r;){if(t===r)throw new Error(\"Attempted to add tracker group \"+t.name+\" to tree that already includes it \"+this.nameInTree(this));r=r.parentGroup}t.parentGroup=this}return this.weight[t.id]=e||1,this.totalWeight+=this.weight[t.id],this.trackers.push(t),this.completion[t.id]=t.completed(),t.on(\"change\",this.bubbleChange),this.finished||this.emit(\"change\",t.name,this.completion[t.id],t),t},TrackerGroup.prototype.completed=function(){if(0===this.trackers.length)return 0;for(var t=1/this.totalWeight,e=0,r=0;r<this.trackers.length;r++){var i=this.trackers[r].id;e+=t*this.weight[i]*this.completion[i]}return e},TrackerGroup.prototype.newGroup=function(t,e){return this.addUnit(new TrackerGroup(t),e)},TrackerGroup.prototype.newItem=function(t,e,r){return this.addUnit(new Tracker(t,e),r)},TrackerGroup.prototype.newStream=function(t,e,r){return this.addUnit(new TrackerStream(t,e),r)},TrackerGroup.prototype.finish=function(){this.finished=!0,this.trackers.length||this.addUnit(new Tracker,1,!0);for(var t=0;t<this.trackers.length;t++){var e=this.trackers[t];e.finish(),e.removeListener(\"change\",this.bubbleChange)}this.emit(\"change\",this.name,1,this)};var buffer=\"                                  \";TrackerGroup.prototype.debug=function(t){var e=(t=t||0)?buffer.substr(0,t):\"\",r=e+(this.name||\"top\")+\": \"+this.completed()+\"\\n\";return this.trackers.forEach(function(i){r+=i instanceof TrackerGroup?i.debug(t+1):e+\" \"+i.name+\": \"+i.completed()+\"\\n\"}),r};","node_modules/are-we-there-yet/tracker.js":"\"use strict\";var util=require(\"util\"),TrackerBase=require(\"./tracker-base.js\"),Tracker=module.exports=function(o,t){TrackerBase.call(this,o),this.workDone=0,this.workTodo=t||0};util.inherits(Tracker,TrackerBase),Tracker.prototype.completed=function(){return 0===this.workTodo?0:this.workDone/this.workTodo},Tracker.prototype.addWork=function(o){this.workTodo+=o,this.emit(\"change\",this.name,this.completed(),this)},Tracker.prototype.completeWork=function(o){this.workDone+=o,this.workDone>this.workTodo&&(this.workDone=this.workTodo),this.emit(\"change\",this.name,this.completed(),this)},Tracker.prototype.finish=function(){this.workTodo=this.workDone=1,this.emit(\"change\",this.name,1,this)};","node_modules/are-we-there-yet/tracker-stream.js":"\"use strict\";var util=require(\"util\"),stream=require(\"readable-stream\"),delegate=require(\"delegates\"),Tracker=require(\"./tracker.js\"),TrackerStream=module.exports=function(e,r,t){stream.Transform.call(this,t),this.tracker=new Tracker(e,r),this.name=e,this.id=this.tracker.id,this.tracker.on(\"change\",delegateChange(this))};util.inherits(TrackerStream,stream.Transform);function delegateChange(e){return function(r,t,a){e.emit(\"change\",r,t,e)}}TrackerStream.prototype._transform=function(e,r,t){this.tracker.completeWork(e.length?e.length:1),this.push(e),t()},TrackerStream.prototype._flush=function(e){this.tracker.finish(),e()},delegate(TrackerStream.prototype,\"tracker\").method(\"completed\").method(\"addWork\");","node_modules/are-we-there-yet/tracker-base.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,util=require(\"util\"),trackerId=0,TrackerBase=module.exports=function(t){EventEmitter.call(this),this.id=++trackerId,this.name=t};util.inherits(TrackerBase,EventEmitter);","node_modules/readable-stream/readable.js":"var Stream=require(\"stream\");\"disable\"===process.env.READABLE_STREAM&&Stream?(module.exports=Stream,exports=module.exports=Stream.Readable,exports.Readable=Stream.Readable,exports.Writable=Stream.Writable,exports.Duplex=Stream.Duplex,exports.Transform=Stream.Transform,exports.PassThrough=Stream.PassThrough,exports.Stream=Stream):(exports=module.exports=require(\"./lib/_stream_readable.js\"),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=require(\"./lib/_stream_writable.js\"),exports.Duplex=require(\"./lib/_stream_duplex.js\"),exports.Transform=require(\"./lib/_stream_transform.js\"),exports.PassThrough=require(\"./lib/_stream_passthrough.js\"));","node_modules/delegates/index.js":"module.exports=Delegator;function Delegator(t,e){if(!(this instanceof Delegator))return new Delegator(t,e);this.proto=t,this.target=e,this.methods=[],this.getters=[],this.setters=[],this.fluents=[]}Delegator.prototype.method=function(t){var e=this.proto,r=this.target;return this.methods.push(t),e[t]=function(){return this[r][t].apply(this[r],arguments)},this},Delegator.prototype.access=function(t){return this.getter(t).setter(t)},Delegator.prototype.getter=function(t){var e=this.proto,r=this.target;return this.getters.push(t),e.__defineGetter__(t,function(){return this[r][t]}),this},Delegator.prototype.setter=function(t){var e=this.proto,r=this.target;return this.setters.push(t),e.__defineSetter__(t,function(e){return this[r][t]=e}),this},Delegator.prototype.fluent=function(t){var e=this.proto,r=this.target;return this.fluents.push(t),e[t]=function(e){return void 0!==e?(this[r][t]=e,this):this[r][t]},this};","node_modules/readable-stream/lib/_stream_readable.js":"\"use strict\";var processNextTick=require(\"process-nextick-args\");module.exports=Readable;var Duplex,isArray=require(\"isarray\");Readable.ReadableState=ReadableState;var EE=require(\"events\").EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream=require(\"./internal/streams/stream\"),Buffer=require(\"safe-buffer\").Buffer,OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}var util=require(\"core-util-is\");util.inherits=require(\"inherits\");var debugUtil=require(\"util\"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog(\"stream\"):function(){};var StringDecoder,BufferList=require(\"./internal/streams/BufferList\"),destroyImpl=require(\"./internal/streams/destroy\");util.inherits(Readable,Stream);var kProxyEvents=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function prependListener(e,t,r){if(\"function\"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t){Duplex=Duplex||require(\"./_stream_duplex\"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require(\"string_decoder/\").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex=Duplex||require(\"./_stream_duplex\"),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&(\"function\"==typeof e.read&&(this._read=e.read),\"function\"==typeof e.destroy&&(this._destroy=e.destroy)),Stream.call(this)}Object.defineProperty(Readable.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer.from(e,t),t=\"\"),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)};function readableAddChunk(e,t,r,n,a){var i=e._readableState;if(null===t)i.reading=!1,onEofChunk(e,i);else{var d;a||(d=chunkInvalid(i,t)),d?e.emit(\"error\",d):i.objectMode||t&&t.length>0?(\"string\"==typeof t||i.objectMode||Object.getPrototypeOf(t)===Buffer.prototype||(t=_uint8ArrayToBuffer(t)),n?i.endEmitted?e.emit(\"error\",new Error(\"stream.unshift() after end event\")):addChunk(e,i,t,!0):i.ended?e.emit(\"error\",new Error(\"stream.push() after EOF\")):(i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?addChunk(e,i,t,!1):maybeReadMore(e,i)):addChunk(e,i,t,!1))):n||(i.reading=!1)}return needMoreData(i)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit(\"data\",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||\"string\"==typeof t||void 0===t||e.objectMode||(r=new TypeError(\"Invalid non-string/buffer chunk\")),r}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require(\"string_decoder/\").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Readable.prototype.read=function(e){debug(\"read\",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug(\"need readable\",n),(0===t.length||t.length-e<t.highWaterMark)&&debug(\"length less than watermark\",n=!0),t.ended||t.reading?debug(\"reading or ended\",n=!1):n&&(debug(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var a;return null===(a=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==a&&this.emit(\"data\",a),a};function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug(\"emitReadable\",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug(\"emit readable\"),e.emit(\"readable\"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug(\"maybeReadMore read 0\"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}Readable.prototype._read=function(e){this.emit(\"error\",new Error(\"_read() is not implemented\"))},Readable.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug(\"pipe count=%d opts=%j\",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:c;n.endEmitted?processNextTick(a):r.once(\"end\",a),e.on(\"unpipe\",i);function i(t,a){debug(\"onunpipe\"),t===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,debug(\"cleanup\"),e.removeListener(\"close\",f),e.removeListener(\"finish\",p),e.removeListener(\"drain\",o),e.removeListener(\"error\",h),e.removeListener(\"unpipe\",i),r.removeListener(\"end\",d),r.removeListener(\"end\",c),r.removeListener(\"data\",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||o())}function d(){debug(\"onend\"),e.end()}var o=pipeOnDrain(r);e.on(\"drain\",o);var u=!1;var s=!1;r.on(\"data\",l);function l(t){debug(\"ondata\"),s=!1;!1!==e.write(t)||s||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf(n.pipes,e))&&!u&&(debug(\"false write response, pause\",r._readableState.awaitDrain),r._readableState.awaitDrain++,s=!0),r.pause())}function h(t){debug(\"onerror\",t),c(),e.removeListener(\"error\",h),0===EElistenerCount(e,\"error\")&&e.emit(\"error\",t)}prependListener(e,\"error\",h);function f(){e.removeListener(\"finish\",p),c()}e.once(\"close\",f);function p(){debug(\"onfinish\"),e.removeListener(\"close\",f),c()}e.once(\"finish\",p);function c(){debug(\"unpipe\"),r.unpipe(e)}return e.emit(\"pipe\",r),n.flowing||(debug(\"pipe resume\"),r.resume()),e};function pipeOnDrain(e){return function(){var t=e._readableState;debug(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,\"data\")&&(t.flowing=!0,flow(e))}}Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit(\"unpipe\",this,r);return this}var d=indexOf(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,r),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if(\"data\"===e)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(e){debug(\"readable nexttick read 0\"),e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug(\"resume\"),e.flowing=!0,resume(this,e)),this};function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug(\"resume read 0\"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit(\"resume\"),flow(e),t.flowing&&!t.reading&&e.read(0)}Readable.prototype.pause=function(){return debug(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(debug(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this};function flow(e){var t=e._readableState;for(debug(\"flow\",t.flowing);t.flowing&&null!==e.read(););}Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on(\"end\",function(){if(debug(\"wrapped end\"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on(\"data\",function(a){if(debug(\"wrapped data\"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){n.push(a)||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&\"function\"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<kProxyEvents.length;i++)e.on(kProxyEvents[i],n.emit.bind(n,kProxyEvents[i]));return n._read=function(t){debug(\"wrapped _read\",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;function fromList(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,d=e>i.length?i.length:e;if(d===i.length?a+=i:a+=i.slice(0,e),0===(e-=d)){d===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(d));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=Buffer.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,d=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,d),0===(e-=d)){d===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(d));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('\"endReadable()\" called on non-empty stream');t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}","node_modules/readable-stream/lib/_stream_writable.js":"\"use strict\";var processNextTick=require(\"process-nextick-args\");module.exports=Writable;function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}var Duplex,asyncWrite=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require(\"core-util-is\");util.inherits=require(\"inherits\");var internalUtil={deprecate:require(\"util-deprecate\")},Stream=require(\"./internal/streams/stream\"),Buffer=require(\"safe-buffer\").Buffer,OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}var destroyImpl=require(\"./internal/streams/destroy\");util.inherits(Writable,Stream);function nop(){}function WritableState(e,t){Duplex=Duplex||require(\"./_stream_duplex\"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,\"buffer\",{get:internalUtil.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}();var realHasInstance;\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||e&&e._writableState instanceof WritableState}})):realHasInstance=function(e){return e instanceof this};function Writable(e){if(Duplex=Duplex||require(\"./_stream_duplex\"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),Stream.call(this)}Writable.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))};function writeAfterEnd(e,t){var r=new Error(\"write after end\");e.emit(\"error\",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0,o=!1;return null===r?o=new TypeError(\"May not write null values to stream\"):\"string\"==typeof r||void 0===r||t.objectMode||(o=new TypeError(\"Invalid non-string/buffer chunk\")),o&&(e.emit(\"error\",o),processNextTick(i,o),n=!1),n}Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=_isUint8Array(e)&&!i.objectMode;return o&&!Buffer.isBuffer(e)&&(e=_uint8ArrayToBuffer(e)),\"function\"==typeof t&&(r=t,t=null),o?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):(o||validChunk(this,i,e,r))&&(i.pendingcb++,n=writeOrBuffer(this,i,o,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+e);return this._writableState.defaultEncoding=e,this};function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,i,n,o){if(!r){var s=decodeChunk(t,i,n);i!==s&&(r=!0,n=\"buffer\",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,i,n,o);return f}function doWrite(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?(processNextTick(n,i),processNextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit(\"error\",i)):(n(i),e._writableState.errorEmitted=!0,e.emit(\"error\",i),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var o=needFinish(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?asyncWrite(afterWrite,e,r,o,n):afterWrite(e,r,o,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)n[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;n.allBuffers=a,doWrite(e,t,!0,t.length,n,\"\",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var f=r.chunk,u=r.encoding,l=r.callback;if(doWrite(e,t,!1,t.objectMode?1:f.length,f,u,l),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}Writable.prototype._write=function(e,t,r){r(new Error(\"_write() is not implemented\"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;\"function\"==typeof e?(r=e,e=null,t=null):\"function\"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)};function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&e.emit(\"error\",r),t.prefinished=!0,e.emit(\"prefinish\"),finishMaybe(e,t)})}function prefinish(e,t){t.prefinished||t.finalCalled||(\"function\"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,processNextTick(callFinal,e,t)):(t.prefinished=!0,e.emit(\"prefinish\")))}function finishMaybe(e,t){var r=needFinish(t);return r&&(prefinish(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"))),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once(\"finish\",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(Writable.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)};","node_modules/readable-stream/lib/_stream_duplex.js":"\"use strict\";var processNextTick=require(\"process-nextick-args\"),objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var util=require(\"core-util-is\");util.inherits=require(\"inherits\");var Readable=require(\"./_stream_readable\"),Writable=require(\"./_stream_writable\");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),processNextTick(t,e)};function forEach(e,t){for(var r=0,i=e.length;r<i;r++)t(e[r],r)}","node_modules/readable-stream/lib/_stream_transform.js":"\"use strict\";module.exports=Transform;var Duplex=require(\"./_stream_duplex\"),util=require(\"core-util-is\");util.inherits=require(\"inherits\"),util.inherits(Transform,Duplex);function TransformState(r){this.afterTransform=function(t,n){return afterTransform(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit(\"error\",new Error(\"write callback called multiple times\"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(\"function\"==typeof r.transform&&(this._transform=r.transform),\"function\"==typeof r.flush&&(this._flush=r.flush)),this.once(\"prefinish\",function(){\"function\"==typeof this._flush?this._flush(function(r,n){done(t,r,n)}):done(t)})}Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error(\"_transform() is not implemented\")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(r,t){var n=this;Duplex.prototype._destroy.call(this,r,function(r){t(r),n.emit(\"close\")})};function done(r,t,n){if(t)return r.emit(\"error\",t);null!==n&&void 0!==n&&r.push(n);var e=r._writableState,i=r._transformState;if(e.length)throw new Error(\"Calling transform done when ws.length != 0\");if(i.transforming)throw new Error(\"Calling transform done when still transforming\");return r.push(null)}","node_modules/readable-stream/lib/_stream_passthrough.js":"\"use strict\";module.exports=PassThrough;var Transform=require(\"./_stream_transform\"),util=require(\"core-util-is\");util.inherits=require(\"inherits\"),util.inherits(PassThrough,Transform);function PassThrough(r){if(!(this instanceof PassThrough))return new PassThrough(r);Transform.call(this,r)}PassThrough.prototype._transform=function(r,s,i){i(null,r)};","node_modules/process-nextick-args/index.js":"\"use strict\";!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?module.exports=nextTick:module.exports=process.nextTick;function nextTick(e,n,c,r){if(\"function\"!=typeof e)throw new TypeError('\"callback\" argument must be a function');var s,t,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,c)});case 4:return process.nextTick(function(){e.call(null,n,c,r)});default:for(s=new Array(o-1),t=0;t<s.length;)s[t++]=arguments[t];return process.nextTick(function(){e.apply(null,s)})}}","node_modules/isarray/index.js":"var toString={}.toString;module.exports=Array.isArray||function(r){return\"[object Array]\"==toString.call(r)};","node_modules/readable-stream/lib/internal/streams/stream.js":"module.exports=require(\"stream\");","node_modules/safe-buffer/index.js":"var buffer=require(\"buffer\"),Buffer=buffer.Buffer;function copyProps(f,r){for(var e in f)r[e]=f[e]}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer);function SafeBuffer(f,r,e){return Buffer(f,r,e)}copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(f,r,e){if(\"number\"==typeof f)throw new TypeError(\"Argument must not be a number\");return Buffer(f,r,e)},SafeBuffer.alloc=function(f,r,e){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");var u=Buffer(f);return void 0!==r?\"string\"==typeof e?u.fill(r,e):u.fill(r):u.fill(0),u},SafeBuffer.allocUnsafe=function(f){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");return Buffer(f)},SafeBuffer.allocUnsafeSlow=function(f){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(f)};","node_modules/core-util-is/lib/util.js":"function isArray(r){return Array.isArray?Array.isArray(r):\"[object Array]\"===objectToString(r)}exports.isArray=isArray;function isBoolean(r){return\"boolean\"==typeof r}exports.isBoolean=isBoolean;function isNull(r){return null===r}exports.isNull=isNull;function isNullOrUndefined(r){return null==r}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(r){return\"number\"==typeof r}exports.isNumber=isNumber;function isString(r){return\"string\"==typeof r}exports.isString=isString;function isSymbol(r){return\"symbol\"==typeof r}exports.isSymbol=isSymbol;function isUndefined(r){return void 0===r}exports.isUndefined=isUndefined;function isRegExp(r){return\"[object RegExp]\"===objectToString(r)}exports.isRegExp=isRegExp;function isObject(r){return\"object\"==typeof r&&null!==r}exports.isObject=isObject;function isDate(r){return\"[object Date]\"===objectToString(r)}exports.isDate=isDate;function isError(r){return\"[object Error]\"===objectToString(r)||r instanceof Error}exports.isError=isError;function isFunction(r){return\"function\"==typeof r}exports.isFunction=isFunction;function isPrimitive(r){return null===r||\"boolean\"==typeof r||\"number\"==typeof r||\"string\"==typeof r||\"symbol\"==typeof r||void 0===r}exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;function objectToString(r){return Object.prototype.toString.call(r)}","node_modules/inherits/inherits.js":"try{var util=require(\"util\");if(\"function\"!=typeof util.inherits)throw\"\";module.exports=util.inherits}catch(i){module.exports=require(\"./inherits_browser.js\")}","node_modules/readable-stream/lib/internal/streams/BufferList.js":"\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var Buffer=require(\"safe-buffer\").Buffer;function copyBuffer(t,e,h){t.copy(e,h)}module.exports=function(){function t(){_classCallCheck(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return\"\";for(var e=this.head,h=\"\"+e.data;e=e.next;)h+=t+e.data;return h},t.prototype.concat=function(t){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var e=Buffer.allocUnsafe(t>>>0),h=this.head,n=0;h;)copyBuffer(h.data,e,n),n+=h.data.length,h=h.next;return e},t}();","node_modules/readable-stream/lib/internal/streams/destroy.js":"\"use strict\";var processNextTick=require(\"process-nextick-args\");function destroy(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;i||a?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||processNextTick(emitErrorNT,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(processNextTick(emitErrorNT,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}))}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(t,e){t.emit(\"error\",e)}module.exports={destroy:destroy,undestroy:undestroy};","node_modules/util-deprecate/node.js":"module.exports=require(\"util\").deprecate;","node_modules/gauge/plumbing.js":"\"use strict\";var consoleControl=require(\"console-control-strings\"),renderTemplate=require(\"./render-template.js\"),validate=require(\"aproba\"),Plumbing=module.exports=function(t,e,o){o||(o=80),validate(\"OAN\",[t,e,o]),this.showing=!1,this.theme=t,this.width=o,this.template=e};Plumbing.prototype={},Plumbing.prototype.setTheme=function(t){validate(\"O\",[t]),this.theme=t},Plumbing.prototype.setTemplate=function(t){validate(\"A\",[t]),this.template=t},Plumbing.prototype.setWidth=function(t){validate(\"N\",[t]),this.width=t},Plumbing.prototype.hide=function(){return consoleControl.gotoSOL()+consoleControl.eraseLine()},Plumbing.prototype.hideCursor=consoleControl.hideCursor,Plumbing.prototype.showCursor=consoleControl.showCursor,Plumbing.prototype.show=function(t){var e=Object.create(this.theme);for(var o in t)e[o]=t[o];return renderTemplate(this.width,this.template,e).trim()+consoleControl.color(\"reset\")+consoleControl.eraseLine()+consoleControl.gotoSOL()};","node_modules/has-unicode/index.js":"\"use strict\";var os=require(\"os\"),hasUnicode=module.exports=function(){if(\"Windows_NT\"==os.type())return!1;var e=process.env.LC_ALL||process.env.LC_CTYPE||process.env.LANG;return/UTF-?8$/i.test(e)};","node_modules/gauge/has-color.js":"\"use strict\";module.exports=isWin32()||isColorTerm();function isWin32(){return\"win32\"===process.platform}function isColorTerm(){return!!process.env.COLORTERM||/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)}","node_modules/signal-exit/index.js":"var assert=require(\"assert\"),signals=require(\"./signals.js\"),EE=require(\"events\");\"function\"!=typeof EE&&(EE=EE.EventEmitter);var emitter;process.__signal_exit_emitter__?emitter=process.__signal_exit_emitter__:((emitter=process.__signal_exit_emitter__=new EE).count=0,emitter.emitted={}),emitter.infinite||(emitter.setMaxListeners(1/0),emitter.infinite=!0),module.exports=function(e,t){assert.equal(typeof e,\"function\",\"a callback must be provided for exit handler\"),!1===loaded&&load();var i=\"exit\";t&&t.alwaysLast&&(i=\"afterexit\");return emitter.on(i,e),function(){emitter.removeListener(i,e),0===emitter.listeners(\"exit\").length&&0===emitter.listeners(\"afterexit\").length&&unload()}},module.exports.unload=unload;function unload(){loaded&&(loaded=!1,signals.forEach(function(e){try{process.removeListener(e,sigListeners[e])}catch(e){}}),process.emit=originalProcessEmit,process.reallyExit=originalProcessReallyExit,emitter.count-=1)}function emit(e,t,i){emitter.emitted[e]||(emitter.emitted[e]=!0,emitter.emit(e,t,i))}var sigListeners={};signals.forEach(function(e){sigListeners[e]=function(){process.listeners(e).length===emitter.count&&(unload(),emit(\"exit\",null,e),emit(\"afterexit\",null,e),process.kill(process.pid,e))}}),module.exports.signals=function(){return signals},module.exports.load=load;var loaded=!1;function load(){loaded||(loaded=!0,emitter.count+=1,signals=signals.filter(function(e){try{return process.on(e,sigListeners[e]),!0}catch(e){return!1}}),process.emit=processEmit,process.reallyExit=processReallyExit)}var originalProcessReallyExit=process.reallyExit;function processReallyExit(e){process.exitCode=e||0,emit(\"exit\",process.exitCode,null),emit(\"afterexit\",process.exitCode,null),originalProcessReallyExit.call(process,process.exitCode)}var originalProcessEmit=process.emit;function processEmit(e,t){if(\"exit\"===e){void 0!==t&&(process.exitCode=t);var i=originalProcessEmit.apply(this,arguments);return emit(\"exit\",process.exitCode,null),emit(\"afterexit\",process.exitCode,null),i}return originalProcessEmit.apply(this,arguments)}","node_modules/gauge/themes.js":"\"use strict\";var consoleControl=require(\"console-control-strings\"),ThemeSet=require(\"./theme-set.js\"),themes=module.exports=new ThemeSet;themes.addTheme(\"ASCII\",{preProgressbar:\"[\",postProgressbar:\"]\",progressbarTheme:{complete:\"#\",remaining:\".\"},activityIndicatorTheme:\"-\\\\|/\",preSubsection:\">\"}),themes.addTheme(\"colorASCII\",themes.getTheme(\"ASCII\"),{progressbarTheme:{preComplete:consoleControl.color(\"inverse\"),complete:\" \",postComplete:consoleControl.color(\"stopInverse\"),preRemaining:consoleControl.color(\"brightBlack\"),remaining:\".\",postRemaining:consoleControl.color(\"reset\")}}),themes.addTheme(\"brailleSpinner\",{preProgressbar:\"⸨\",postProgressbar:\"⸩\",progressbarTheme:{complete:\"░\",remaining:\"⠂\"},activityIndicatorTheme:\"⠋⠙⠹⠸⠼⠴⠦⠧⠇⠏\",preSubsection:\">\"}),themes.addTheme(\"colorBrailleSpinner\",themes.getTheme(\"brailleSpinner\"),{progressbarTheme:{preComplete:consoleControl.color(\"inverse\"),complete:\" \",postComplete:consoleControl.color(\"stopInverse\"),preRemaining:consoleControl.color(\"brightBlack\"),remaining:\"░\",postRemaining:consoleControl.color(\"reset\")}}),themes.setDefault({},\"ASCII\"),themes.setDefault({hasColor:!0},\"colorASCII\"),themes.setDefault({platform:\"darwin\",hasUnicode:!0},\"brailleSpinner\"),themes.setDefault({platform:\"darwin\",hasUnicode:!0,hasColor:!0},\"colorBrailleSpinner\");","node_modules/gauge/set-interval.js":"\"use strict\";module.exports=setInterval;","node_modules/gauge/process.js":"\"use strict\";module.exports=process;","node_modules/gauge/set-immediate.js":"\"use strict\";var process=require(\"./process\");try{module.exports=setImmediate}catch(e){module.exports=process.nextTick}","node_modules/gauge/render-template.js":"\"use strict\";var align=require(\"wide-align\"),validate=require(\"aproba\"),objectAssign=require(\"object-assign\"),wideTruncate=require(\"./wide-truncate\"),error=require(\"./error\"),TemplateItem=require(\"./template-item\");function renderValueWithValues(e){return function(n){return renderValue(n,e)}}var renderTemplate=module.exports=function(e,n,t){var r=prepareItems(e,n,t).map(renderValueWithValues(t)).join(\"\");return align.left(wideTruncate(r,e),e)};function preType(e){return\"pre\"+(e.type[0].toUpperCase()+e.type.slice(1))}function postType(e){return\"post\"+(e.type[0].toUpperCase()+e.type.slice(1))}function hasPreOrPost(e,n){if(e.type)return n[preType(e)]||n[postType(e)]}function generatePreAndPost(e,n){var t=objectAssign({},e),r=Object.create(n),i=[],a=preType(t),l=postType(t);return r[a]&&(i.push({value:r[a]}),r[a]=null),t.minLength=null,t.length=null,t.maxLength=null,i.push(t),r[t.type]=r[t.type],r[l]&&(i.push({value:r[l]}),r[l]=null),function(e,n,t){return renderTemplate(t,i,r)}}function prepareItems(e,n,t){var r=n.map(function(n,r,i){var a=new TemplateItem(n,e),l=a.type;if(null==a.value)if(l in t)a.value=t[l];else{if(null==a.default)throw new error.MissingTemplateValue(a,t);a.value=a.default}return null==a.value||\"\"===a.value?null:(a.index=r,a.first=0===r,a.last=r===i.length-1,hasPreOrPost(a,t)&&(a.value=generatePreAndPost(a,t)),a)}).filter(function(e){return null!=e}),i=e,a=r.length;function l(e,n){if(e.finished)throw new error.Internal(\"Tried to finish template item that was already finished\");if(n===1/0)throw new error.Internal(\"Length of template item cannot be infinity\");if(null!=n&&(e.length=n),e.minLength=null,e.maxLength=null,--a,e.finished=!0,null==e.length&&(e.length=e.getBaseLength()),null==e.length)throw new error.Internal(\"Finished template items must have a length\");!function(e){e>i&&(e=i),e,i-=e}(e.getLength())}r.forEach(function(e){if(e.kerning){var n=e.first?0:r[e.index-1].padRight;!e.first&&n<e.kerning&&(e.padLeft=e.kerning-n),e.last||(e.padRight=e.kerning)}}),r.forEach(function(e){null!=e.getBaseLength()&&l(e)});var u,o,h=0;do{u=!1,o=Math.round(i/a),r.forEach(function(e){e.finished||e.maxLength&&e.getMaxLength()<o&&(l(e,e.maxLength),u=!0)})}while(u&&h++<r.length);if(u)throw new error.Internal(\"Resize loop iterated too many times while determining maxLength\");h=0;do{u=!1,o=Math.round(i/a),r.forEach(function(e){e.finished||e.minLength&&e.getMinLength()>=o&&(l(e,e.minLength),u=!0)})}while(u&&h++<r.length);if(u)throw new error.Internal(\"Resize loop iterated too many times while determining minLength\");return o=Math.round(i/a),r.forEach(function(e){e.finished||l(e,o)}),r}function renderFunction(e,n,t){return validate(\"OON\",arguments),e.type?e.value(n,n[e.type+\"Theme\"]||{},t):e.value(n,{},t)}function renderValue(e,n){var t=e.getBaseLength(),r=\"function\"==typeof e.value?renderFunction(e,n,t):e.value;if(null==r||\"\"===r)return\"\";var i=align[e.align]||align.left,a=e.padLeft?align.left(\"\",e.padLeft):\"\",l=e.padRight?align.right(\"\",e.padRight):\"\";return a+i(wideTruncate(String(r),t),t)+l}","node_modules/aproba/index.js":"\"use strict\";function isArguments(e){return null!=e&&\"object\"==typeof e&&e.hasOwnProperty(\"callee\")}var types={\"*\":{label:\"any\",check:function(){return!0}},A:{label:\"array\",check:function(e){return Array.isArray(e)||isArguments(e)}},S:{label:\"string\",check:function(e){return\"string\"==typeof e}},N:{label:\"number\",check:function(e){return\"number\"==typeof e}},F:{label:\"function\",check:function(e){return\"function\"==typeof e}},O:{label:\"object\",check:function(e){return\"object\"==typeof e&&null!=e&&!types.A.check(e)&&!types.E.check(e)}},B:{label:\"boolean\",check:function(e){return\"boolean\"==typeof e}},E:{label:\"error\",check:function(e){return e instanceof Error}},Z:{label:\"null\",check:function(e){return null==e}}};function addSchema(e,n){var r=n[e.length]=n[e.length]||[];-1===r.indexOf(e)&&r.push(e)}var validate=module.exports=function(e,n){if(2!==arguments.length)throw wrongNumberOfArgs([\"SA\"],arguments.length);if(!e)throw missingRequiredArg(0,\"rawSchemas\");if(!n)throw missingRequiredArg(1,\"args\");if(!types.S.check(e))throw invalidType(0,[\"string\"],e);if(!types.A.check(n))throw invalidType(1,[\"array\"],n);var r={};e.split(\"|\").forEach(function(e){for(var n=0;n<e.length;++n){var t=e[n];if(!types[t])throw unknownType(n,t)}if(/E.*E/.test(e))throw moreThanOneError(e);addSchema(e,r),/E/.test(e)&&(addSchema(e.replace(/E.*$/,\"E\"),r),addSchema(e.replace(/E/,\"Z\"),r),1===e.length&&addSchema(\"\",r))});var t=r[n.length];if(!t)throw wrongNumberOfArgs(Object.keys(r),n.length);for(var c=0;c<n.length;++c){var o=t.filter(function(e){var r=e[c];return(0,types[r].check)(n[c])});if(!o.length){var i=t.map(function(e){return types[e[c]].label}).filter(function(e){return null!=e});throw invalidType(c,i,n[c])}t=o}};function missingRequiredArg(e){return newException(\"EMISSINGARG\",\"Missing required argument #\"+(e+1))}function unknownType(e,n){return newException(\"EUNKNOWNTYPE\",\"Unknown type \"+n+\" in argument #\"+(e+1))}function invalidType(e,n,r){var t;return Object.keys(types).forEach(function(e){types[e].check(r)&&(t=types[e].label)}),newException(\"EINVALIDTYPE\",\"Argument #\"+(e+1)+\": Expected \"+englishList(n)+\" but got \"+t)}function englishList(e){return e.join(\", \").replace(/, ([^,]+)$/,\" or $1\")}function wrongNumberOfArgs(e,n){return newException(\"EWRONGARGCOUNT\",\"Expected \"+englishList(e)+\" \"+(e.every(function(e){return 1===e.length})?\"argument\":\"arguments\")+\" but got \"+n)}function moreThanOneError(e){return newException(\"ETOOMANYERRORTYPES\",'Only one error type per argument signature is allowed, more than one found in \"'+e+'\"')}function newException(e,n){var r=new Error(n);return r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,validate),r}","node_modules/wide-align/align.js":"\"use strict\";var stringWidth=require(\"string-width\");exports.center=alignCenter,exports.left=alignLeft,exports.right=alignRight;function createPadding(t){var r=\"\",e=\" \",n=t;do{n%2&&(r+=e),n=Math.floor(n/2),e+=e}while(n);return r}function alignLeft(t,r){var e=t.trimRight();if(0===e.length&&t.length>=r)return t;var n=\"\",i=stringWidth(e);return i<r&&(n=createPadding(r-i)),e+n}function alignRight(t,r){var e=t.trimLeft();if(0===e.length&&t.length>=r)return t;var n=\"\",i=stringWidth(e);return i<r&&(n=createPadding(r-i)),n+e}function alignCenter(t,r){var e=t.trim();if(0===e.length&&t.length>=r)return t;var n=\"\",i=\"\",a=stringWidth(e);if(a<r){var g=parseInt((r-a)/2,10);n=createPadding(g),i=createPadding(r-(a+g))}return n+e+i}","node_modules/object-assign/index.js":"\"use strict\";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null===e||void 0===e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r[\"_\"+String.fromCharCode(t)]=t;if(\"0123456789\"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(\"\"))return!1;var n={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(e){n[e]=e}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},n)).join(\"\")}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};","node_modules/gauge/wide-truncate.js":"\"use strict\";var stringWidth=require(\"string-width\"),stripAnsi=require(\"strip-ansi\");module.exports=wideTruncate;function wideTruncate(i,r){if(0===stringWidth(i))return i;if(r<=0)return\"\";if(stringWidth(i)<=r)return i;for(var t=stripAnsi(i),e=i.length+t.length,n=i.slice(0,r+e);stringWidth(n)>r;)n=n.slice(0,-1);return n}","node_modules/gauge/error.js":"\"use strict\";var util=require(\"util\"),User=exports.User=function r(e){var t=new Error(e);return Error.captureStackTrace(t,r),t.code=\"EGAUGE\",t};exports.MissingTemplateValue=function r(e,t){var a=new User(util.format('Missing template value \"%s\"',e.type));return Error.captureStackTrace(a,r),a.template=e,a.values=t,a},exports.Internal=function r(e){var t=new Error(e);return Error.captureStackTrace(t,r),t.code=\"EGAUGEINTERNAL\",t};","node_modules/gauge/template-item.js":"\"use strict\";var stringWidth=require(\"string-width\");module.exports=TemplateItem;function isPercent(t){return\"string\"==typeof t&&\"%\"===t.slice(-1)}function percent(t){return Number(t.slice(0,-1))/100}function TemplateItem(t,e){if(this.overallOutputLength=e,this.finished=!1,this.type=null,this.value=null,this.length=null,this.maxLength=null,this.minLength=null,this.kerning=null,this.align=\"left\",this.padLeft=0,this.padRight=0,this.index=null,this.first=null,this.last=null,\"string\"==typeof t)this.value=t;else for(var n in t)this[n]=t[n];return isPercent(this.length)&&(this.length=Math.round(this.overallOutputLength*percent(this.length))),isPercent(this.minLength)&&(this.minLength=Math.round(this.overallOutputLength*percent(this.minLength))),isPercent(this.maxLength)&&(this.maxLength=Math.round(this.overallOutputLength*percent(this.maxLength))),this}TemplateItem.prototype={},TemplateItem.prototype.getBaseLength=function(){var t=this.length;return null==t&&\"string\"==typeof this.value&&null==this.maxLength&&null==this.minLength&&(t=stringWidth(this.value)),t},TemplateItem.prototype.getLength=function(){var t=this.getBaseLength();return null==t?null:t+this.padLeft+this.padRight},TemplateItem.prototype.getMaxLength=function(){return null==this.maxLength?null:this.maxLength+this.padLeft+this.padRight},TemplateItem.prototype.getMinLength=function(){return null==this.minLength?null:this.minLength+this.padLeft+this.padRight};","node_modules/string-width/index.js":"\"use strict\";var stripAnsi=require(\"strip-ansi\"),codePointAt=require(\"code-point-at\"),isFullwidthCodePoint=require(\"is-fullwidth-code-point\");module.exports=function(i){if(\"string\"!=typeof i||0===i.length)return 0;var t=0;i=stripAnsi(i);for(var r=0;r<i.length;r++){var e=codePointAt(i,r);e<=31||e>=127&&e<=159||(e>=65536&&r++,isFullwidthCodePoint(e)?t+=2:t++)}return t};","node_modules/strip-ansi/index.js":"\"use strict\";var ansiRegex=require(\"ansi-regex\")();module.exports=function(e){return\"string\"==typeof e?e.replace(ansiRegex,\"\"):e};","node_modules/code-point-at/index.js":"\"use strict\";module.exports=function(r,e){if(null===r||void 0===r)throw TypeError();var t=(r=String(r)).length,i=e?Number(e):0;if(Number.isNaN(i)&&(i=0),!(i<0||i>=t)){var o=r.charCodeAt(i);if(o>=55296&&o<=56319&&t>i+1){var u=r.charCodeAt(i+1);if(u>=56320&&u<=57343)return 1024*(o-55296)+u-56320+65536}return o}};","node_modules/is-fullwidth-code-point/index.js":"\"use strict\";var numberIsNan=require(\"number-is-nan\");module.exports=function(n){return!numberIsNan(n)&&(n>=4352&&(n<=4447||9001===n||9002===n||11904<=n&&n<=12871&&12351!==n||12880<=n&&n<=19903||19968<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65131||65281<=n&&n<=65376||65504<=n&&n<=65510||110592<=n&&n<=110593||127488<=n&&n<=127569||131072<=n&&n<=262141))};","node_modules/ansi-regex/index.js":"\"use strict\";module.exports=function(){return/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g};","node_modules/number-is-nan/index.js":"\"use strict\";module.exports=Number.isNaN||function(e){return e!=e};","node_modules/signal-exit/signals.js":"module.exports=[\"SIGABRT\",\"SIGALRM\",\"SIGHUP\",\"SIGINT\",\"SIGTERM\"],\"win32\"!==process.platform&&module.exports.push(\"SIGVTALRM\",\"SIGXCPU\",\"SIGXFSZ\",\"SIGUSR2\",\"SIGTRAP\",\"SIGSYS\",\"SIGQUIT\",\"SIGIOT\"),\"linux\"===process.platform&&module.exports.push(\"SIGIO\",\"SIGPOLL\",\"SIGPWR\",\"SIGSTKFLT\",\"SIGUNUSED\");","node_modules/gauge/theme-set.js":"\"use strict\";var objectAssign=require(\"object-assign\");module.exports=function(){return ThemeSetProto.newThemeSet()};var ThemeSetProto={};ThemeSetProto.baseTheme=require(\"./base-theme.js\"),ThemeSetProto.newTheme=function(e,t){return t||(t=e,e=this.baseTheme),objectAssign({},e,t)},ThemeSetProto.getThemeNames=function(){return Object.keys(this.themes)},ThemeSetProto.addTheme=function(e,t,o){this.themes[e]=this.newTheme(t,o)},ThemeSetProto.addToAllThemes=function(e){var t=this.themes;Object.keys(t).forEach(function(o){objectAssign(t[o],e)}),objectAssign(this.baseTheme,e)},ThemeSetProto.getTheme=function(e){if(!this.themes[e])throw this.newMissingThemeError(e);return this.themes[e]},ThemeSetProto.setDefault=function(e,t){null==t&&(t=e,e={});var o=null==e.platform?\"fallback\":e.platform,r=!!e.hasUnicode,s=!!e.hasColor;this.defaults[o]||(this.defaults[o]={true:{},false:{}}),this.defaults[o][r][s]=t},ThemeSetProto.getDefault=function(e){e||(e={});var t=e.platform||process.platform,o=this.defaults[t]||this.defaults.fallback,r=!!e.hasUnicode,s=!!e.hasColor;if(!o)throw this.newMissingDefaultThemeError(t,r,s);if(!o[r][s])if(r&&s&&o[!r][s])r=!1;else if(r&&s&&o[r][!s])s=!1;else if(r&&s&&o[!r][!s])r=!1,s=!1;else if(r&&!s&&o[!r][s])r=!1;else if(!r&&s&&o[r][!s])s=!1;else if(o===this.defaults.fallback)throw this.newMissingDefaultThemeError(t,r,s);return o[r][s]?this.getTheme(o[r][s]):this.getDefault(objectAssign({},e,{platform:\"fallback\"}))},ThemeSetProto.newMissingThemeError=function e(t){var o=new Error('Could not find a gauge theme named \"'+t+'\"');return Error.captureStackTrace.call(o,e),o.theme=t,o.code=\"EMISSINGTHEME\",o},ThemeSetProto.newMissingDefaultThemeError=function e(t,o,r){var s=new Error(\"Could not find a gauge theme for your platform/unicode/color use combo:\\n    platform = \"+t+\"\\n    hasUnicode = \"+o+\"\\n    hasColor = \"+r);return Error.captureStackTrace.call(s,e),s.platform=t,s.hasUnicode=o,s.hasColor=r,s.code=\"EMISSINGTHEME\",s},ThemeSetProto.newThemeSet=function(){var e=function(t){return e.getDefault(t)};return objectAssign(e,ThemeSetProto,{themes:objectAssign({},this.themes),baseTheme:objectAssign({},this.baseTheme),defaults:JSON.parse(JSON.stringify(this.defaults||{}))})};","node_modules/gauge/base-theme.js":"\"use strict\";var spin=require(\"./spin.js\"),progressBar=require(\"./progress-bar.js\");module.exports={activityIndicator:function(r,s,e){if(null!=r.spun)return spin(s,r.spun)},progressbar:function(r,s,e){if(null!=r.completed)return progressBar(s,e,r.completed)}};","node_modules/gauge/spin.js":"\"use strict\";module.exports=function(t,e){return t[e%t.length]};","node_modules/gauge/progress-bar.js":"\"use strict\";var validate=require(\"aproba\"),renderTemplate=require(\"./render-template.js\"),wideTruncate=require(\"./wide-truncate\"),stringWidth=require(\"string-width\");module.exports=function(e,r,t){if(validate(\"ONN\",[e,r,t]),t<0&&(t=0),t>1&&(t=1),r<=0)return\"\";var a=Math.round(r*t),i=r-a,n=[{type:\"complete\",value:repeat(e.complete,a),length:a},{type:\"remaining\",value:repeat(e.remaining,i),length:i}];return renderTemplate(r,n,e)};function repeat(e,r){var t=\"\",a=r;do{a%2&&(t+=e),a=Math.floor(a/2),e+=e}while(a&&stringWidth(t)<r);return wideTruncate(t,r)}","node_modules/node-pre-gyp/lib/util/versioning.js":"\"use strict\";module.exports=exports;var abi_crosswalk,path=require(\"path\"),semver=require(\"semver\"),url=require(\"url\");abi_crosswalk=process.env.NODE_PRE_GYP_ABI_CROSSWALK?require(process.env.NODE_PRE_GYP_ABI_CROSSWALK):require(\"./abi_crosswalk.json\");function get_electron_abi(e,r){if(!e)throw new Error(\"get_electron_abi requires valid runtime arg\");if(void 0===r)throw new Error(\"Empty target version is not supported if electron is the target.\");var o=semver.parse(r);return e+\"-v\"+o.major+\".\"+o.minor}module.exports.get_electron_abi=get_electron_abi;function get_node_webkit_abi(e,r){if(!e)throw new Error(\"get_node_webkit_abi requires valid runtime arg\");if(void 0===r)throw new Error(\"Empty target version is not supported if node-webkit is the target.\");return e+\"-v\"+r}module.exports.get_node_webkit_abi=get_node_webkit_abi;function get_node_abi(e,r){if(!e)throw new Error(\"get_node_abi requires valid runtime arg\");if(!r)throw new Error(\"get_node_abi requires valid process.versions object\");var o=semver.parse(r.node);return 0===o.major&&o.minor%2?e+\"-v\"+r.node:r.modules?e+\"-v\"+ +r.modules:\"v8-\"+r.v8.split(\".\").slice(0,2).join(\".\")}module.exports.get_node_abi=get_node_abi;function get_runtime_abi(e,r){if(!e)throw new Error(\"get_runtime_abi requires valid runtime arg\");if(\"node-webkit\"===e)return get_node_webkit_abi(e,r||process.versions[\"node-webkit\"]);if(\"electron\"===e)return get_electron_abi(e,r||process.versions.electron);if(\"node\"!=e)throw new Error(\"Unknown Runtime: '\"+e+\"'\");if(r){var o;if(abi_crosswalk[r])o=abi_crosswalk[r];else{var t=r.split(\".\").map(function(e){return+e});if(3!=t.length)throw new Error(\"Unknown target version: \"+r);var a=t[0],n=t[1],i=t[2];if(1===a)for(;;){n>0&&--n,i>0&&--i;var s=a+\".\"+n+\".\"+i;if(abi_crosswalk[s]){o=abi_crosswalk[s],console.log(\"Warning: node-pre-gyp could not find exact match for \"+r),console.log(\"Warning: but node-pre-gyp successfully choose \"+s+\" as ABI compatible target\");break}if(0===n&&0===i)break}else if(0===a&&t[1]%2==0)for(;--i>0;){var _=a+\".\"+n+\".\"+i;if(abi_crosswalk[_]){o=abi_crosswalk[_],console.log(\"Warning: node-pre-gyp could not find exact match for \"+r),console.log(\"Warning: but node-pre-gyp successfully choose \"+_+\" as ABI compatible target\");break}}}if(!o)throw new Error(\"Unsupported target version: \"+r);return get_node_abi(e,{node:r,v8:o.v8+\".0\",modules:o.node_abi>1?o.node_abi:void 0})}return get_node_abi(e,process.versions)}module.exports.get_runtime_abi=get_runtime_abi;var required_parameters=[\"module_name\",\"module_path\",\"host\"];function validate_config(e){var r=e.name+\" package.json is not node-pre-gyp ready:\\n\",o=[];e.main||o.push(\"main\"),e.version||o.push(\"version\"),e.name||o.push(\"name\"),e.binary||o.push(\"binary\");var t=e.binary;if(required_parameters.forEach(function(e){o.indexOf(\"binary\")>-1&&o.pop(\"binary\"),t&&void 0!==t[e]||o.push(\"binary.\"+e)}),o.length>=1)throw new Error(r+\"package.json must declare these properties: \\n\"+o.join(\"\\n\"));if(t){var a=url.parse(t.host).protocol;if(\"http:\"===a)throw new Error(\"'host' protocol (\"+a+\") is invalid - only 'https:' is accepted\")}}module.exports.validate_config=validate_config;function eval_template(e,r){return Object.keys(r).forEach(function(o){for(var t=\"{\"+o+\"}\";e.indexOf(t)>-1;)e=e.replace(t,r[o])}),e}function fix_slashes(e){return\"/\"!=e.slice(-1)?e+\"/\":e}function drop_double_slashes(e){return e.replace(/\\/\\//g,\"/\")}function get_process_runtime(e){var r=\"node\";return e[\"node-webkit\"]?r=\"node-webkit\":e.electron&&(r=\"electron\"),r}module.exports.get_process_runtime=get_process_runtime;var default_package_name=\"{module_name}-v{version}-{node_abi}-{platform}-{arch}.tar.gz\",default_remote_path=\"\";module.exports.evaluate=function(e,r){r=r||{},validate_config(e);var o=e.version,t=semver.parse(o),a=r.runtime||get_process_runtime(process.versions),n={name:e.name,configuration:Boolean(r.debug)?\"Debug\":\"Release\",debug:r.debug,module_name:e.binary.module_name,version:t.version,prerelease:t.prerelease.length?t.prerelease.join(\".\"):\"\",build:t.build.length?t.build.join(\".\"):\"\",major:t.major,minor:t.minor,patch:t.patch,runtime:a,node_abi:get_runtime_abi(a,r.target),target:r.target||\"\",platform:r.target_platform||process.platform,target_platform:r.target_platform||process.platform,arch:r.target_arch||process.arch,target_arch:r.target_arch||process.arch,module_main:e.main,toolset:r.toolset||\"\"},i=process.env[\"npm_config_\"+n.module_name+\"_binary_host_mirror\"]||e.binary.host;n.host=fix_slashes(eval_template(i,n)),n.module_path=eval_template(e.binary.module_path,n),r.module_root?n.module_path=path.join(r.module_root,n.module_path):n.module_path=path.resolve(n.module_path),n.module=path.join(n.module_path,n.module_name+\".node\"),n.remote_path=e.binary.remote_path?drop_double_slashes(fix_slashes(eval_template(e.binary.remote_path,n))):default_remote_path;var s=e.binary.package_name?e.binary.package_name:default_package_name;return n.package_name=eval_template(s,n),n.staged_tarball=path.join(\"build/stage\",n.remote_path,n.package_name),n.hosted_path=url.resolve(n.host,n.remote_path),n.hosted_tarball=url.resolve(n.hosted_path,n.package_name),n};","node_modules/bcrypt/package.json":{"_from":"bcrypt@~1.0.2","_id":"bcrypt@1.0.3","_inBundle":false,"_integrity":"sha512-pRyDdo73C8Nim3jwFJ7DWe3TZCgwDfWZ6nHS5LSdU77kWbj1frruvdndP02AOavtD4y8v6Fp2dolbHgp4SDrfg==","_location":"/bcrypt","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"bcrypt@~1.0.2","name":"bcrypt","escapedName":"bcrypt","rawSpec":"~1.0.2","saveSpec":null,"fetchSpec":"~1.0.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/bcrypt/-/bcrypt-1.0.3.tgz","_shasum":"b02ddc6c0b52ea16b8d3cf375d5a32e780dab548","_spec":"bcrypt@~1.0.2","_where":"c:\\Workspace\\walkner\\walkner-maxos","author":{"name":"Nick Campbell","url":"https://github.com/ncb000gt"},"binary":{"module_name":"bcrypt_lib","module_path":"./lib/binding/","host":"https://github.com","remote_path":"/kelektiv/node.bcrypt.js/releases/download/v{version}/"},"bugs":{"url":"https://github.com/kelektiv/node.bcrypt.js/issues"},"bundleDependencies":false,"contributors":[{"name":"Antonio Salazar Cardozo","email":"savedfastcool@gmail.com","url":"https://github.com/Shadowfiend"},{"name":"Van Nguyen","email":"the.gol.effect@gmail.com","url":"https://github.com/thegoleffect"},{"name":"David Trejo","email":"david@dtrejo.com","url":"https://github.com/dtrejo"},{"name":"Ben Glow","email":"glen.low@pixelglow.com","url":"https://github.com/pixelglow"},{"name":"NewITFarmer.com","url":"https://github.com/newitfarmer"},{"name":"Alfred Westerveld","email":"alfredwesterveld@gmail.com","url":"https://github.com/alfredwesterveld"},{"name":"Vincent Côté-Roy","email":"vincentcr@gmail.com","url":"https://github.com/vincentcr"},{"name":"Lloyd Hilaiel","email":"lloyd@hilaiel.com","url":"https://github.com/lloyd"},{"name":"Roman Shtylman","email":"shtylman@gmail.com","url":"https://github.com/shtylman"},{"name":"Vadim Graboys","email":"dimva13@gmail.com","url":"https://github.com/vadimg"},{"name":"Ben Noorduis","url":"https://github.com/bnoordhuis"},{"name":"Nate Rajlich","email":"nathan@tootallnate.net","url":"https://github.com/tootallnate"},{"name":"Sean McArthur","email":"sean.monstar@gmail.com","url":"https://github.com/seanmonstar"},{"name":"Fanie Oosthuysen","email":"fanie.oosthuysen@gmail.com","url":"https://github.com/weareu"},{"name":"Amitosh Swain Mahapatra","email":"amitosh.swain@gmail.com","url":"https://github.com/Agathver"}],"dependencies":{"nan":"2.6.2","node-pre-gyp":"0.6.36"},"deprecated":false,"description":"A bcrypt library for NodeJS.","devDependencies":{"nodeunit":"~0.9.1"},"engines":{"node":">= 0.6.0"},"homepage":"https://github.com/kelektiv/node.bcrypt.js#readme","keywords":["bcrypt","password","auth","authentication","encryption","crypt","crypto"],"license":"MIT","main":"./bcrypt","name":"bcrypt","repository":{"type":"git","url":"git+https://github.com/kelektiv/node.bcrypt.js.git"},"scripts":{"install":"node-pre-gyp install --fallback-to-build","test":"npm install --build-from-source && nodeunit test"},"version":"1.0.3"},"node_modules/node-pre-gyp/lib/util/abi_crosswalk.json":{"0.1.14":{"node_abi":null,"v8":"1.3"},"0.1.15":{"node_abi":null,"v8":"1.3"},"0.1.16":{"node_abi":null,"v8":"1.3"},"0.1.17":{"node_abi":null,"v8":"1.3"},"0.1.18":{"node_abi":null,"v8":"1.3"},"0.1.19":{"node_abi":null,"v8":"2.0"},"0.1.20":{"node_abi":null,"v8":"2.0"},"0.1.21":{"node_abi":null,"v8":"2.0"},"0.1.22":{"node_abi":null,"v8":"2.0"},"0.1.23":{"node_abi":null,"v8":"2.0"},"0.1.24":{"node_abi":null,"v8":"2.0"},"0.1.25":{"node_abi":null,"v8":"2.0"},"0.1.26":{"node_abi":null,"v8":"2.0"},"0.1.27":{"node_abi":null,"v8":"2.1"},"0.1.28":{"node_abi":null,"v8":"2.1"},"0.1.29":{"node_abi":null,"v8":"2.1"},"0.1.30":{"node_abi":null,"v8":"2.1"},"0.1.31":{"node_abi":null,"v8":"2.1"},"0.1.32":{"node_abi":null,"v8":"2.1"},"0.1.33":{"node_abi":null,"v8":"2.1"},"0.1.90":{"node_abi":null,"v8":"2.2"},"0.1.91":{"node_abi":null,"v8":"2.2"},"0.1.92":{"node_abi":null,"v8":"2.2"},"0.1.93":{"node_abi":null,"v8":"2.2"},"0.1.94":{"node_abi":null,"v8":"2.2"},"0.1.95":{"node_abi":null,"v8":"2.2"},"0.1.96":{"node_abi":null,"v8":"2.2"},"0.1.97":{"node_abi":null,"v8":"2.2"},"0.1.98":{"node_abi":null,"v8":"2.2"},"0.1.99":{"node_abi":null,"v8":"2.2"},"0.1.100":{"node_abi":null,"v8":"2.2"},"0.1.101":{"node_abi":null,"v8":"2.3"},"0.1.102":{"node_abi":null,"v8":"2.3"},"0.1.103":{"node_abi":null,"v8":"2.3"},"0.1.104":{"node_abi":null,"v8":"2.3"},"0.2.0":{"node_abi":1,"v8":"2.3"},"0.2.1":{"node_abi":1,"v8":"2.3"},"0.2.2":{"node_abi":1,"v8":"2.3"},"0.2.3":{"node_abi":1,"v8":"2.3"},"0.2.4":{"node_abi":1,"v8":"2.3"},"0.2.5":{"node_abi":1,"v8":"2.3"},"0.2.6":{"node_abi":1,"v8":"2.3"},"0.3.0":{"node_abi":1,"v8":"2.5"},"0.3.1":{"node_abi":1,"v8":"2.5"},"0.3.2":{"node_abi":1,"v8":"3.0"},"0.3.3":{"node_abi":1,"v8":"3.0"},"0.3.4":{"node_abi":1,"v8":"3.0"},"0.3.5":{"node_abi":1,"v8":"3.0"},"0.3.6":{"node_abi":1,"v8":"3.0"},"0.3.7":{"node_abi":1,"v8":"3.0"},"0.3.8":{"node_abi":1,"v8":"3.1"},"0.4.0":{"node_abi":1,"v8":"3.1"},"0.4.1":{"node_abi":1,"v8":"3.1"},"0.4.2":{"node_abi":1,"v8":"3.1"},"0.4.3":{"node_abi":1,"v8":"3.1"},"0.4.4":{"node_abi":1,"v8":"3.1"},"0.4.5":{"node_abi":1,"v8":"3.1"},"0.4.6":{"node_abi":1,"v8":"3.1"},"0.4.7":{"node_abi":1,"v8":"3.1"},"0.4.8":{"node_abi":1,"v8":"3.1"},"0.4.9":{"node_abi":1,"v8":"3.1"},"0.4.10":{"node_abi":1,"v8":"3.1"},"0.4.11":{"node_abi":1,"v8":"3.1"},"0.4.12":{"node_abi":1,"v8":"3.1"},"0.5.0":{"node_abi":1,"v8":"3.1"},"0.5.1":{"node_abi":1,"v8":"3.4"},"0.5.2":{"node_abi":1,"v8":"3.4"},"0.5.3":{"node_abi":1,"v8":"3.4"},"0.5.4":{"node_abi":1,"v8":"3.5"},"0.5.5":{"node_abi":1,"v8":"3.5"},"0.5.6":{"node_abi":1,"v8":"3.6"},"0.5.7":{"node_abi":1,"v8":"3.6"},"0.5.8":{"node_abi":1,"v8":"3.6"},"0.5.9":{"node_abi":1,"v8":"3.6"},"0.5.10":{"node_abi":1,"v8":"3.7"},"0.6.0":{"node_abi":1,"v8":"3.6"},"0.6.1":{"node_abi":1,"v8":"3.6"},"0.6.2":{"node_abi":1,"v8":"3.6"},"0.6.3":{"node_abi":1,"v8":"3.6"},"0.6.4":{"node_abi":1,"v8":"3.6"},"0.6.5":{"node_abi":1,"v8":"3.6"},"0.6.6":{"node_abi":1,"v8":"3.6"},"0.6.7":{"node_abi":1,"v8":"3.6"},"0.6.8":{"node_abi":1,"v8":"3.6"},"0.6.9":{"node_abi":1,"v8":"3.6"},"0.6.10":{"node_abi":1,"v8":"3.6"},"0.6.11":{"node_abi":1,"v8":"3.6"},"0.6.12":{"node_abi":1,"v8":"3.6"},"0.6.13":{"node_abi":1,"v8":"3.6"},"0.6.14":{"node_abi":1,"v8":"3.6"},"0.6.15":{"node_abi":1,"v8":"3.6"},"0.6.16":{"node_abi":1,"v8":"3.6"},"0.6.17":{"node_abi":1,"v8":"3.6"},"0.6.18":{"node_abi":1,"v8":"3.6"},"0.6.19":{"node_abi":1,"v8":"3.6"},"0.6.20":{"node_abi":1,"v8":"3.6"},"0.6.21":{"node_abi":1,"v8":"3.6"},"0.7.0":{"node_abi":1,"v8":"3.8"},"0.7.1":{"node_abi":1,"v8":"3.8"},"0.7.2":{"node_abi":1,"v8":"3.8"},"0.7.3":{"node_abi":1,"v8":"3.9"},"0.7.4":{"node_abi":1,"v8":"3.9"},"0.7.5":{"node_abi":1,"v8":"3.9"},"0.7.6":{"node_abi":1,"v8":"3.9"},"0.7.7":{"node_abi":1,"v8":"3.9"},"0.7.8":{"node_abi":1,"v8":"3.9"},"0.7.9":{"node_abi":1,"v8":"3.11"},"0.7.10":{"node_abi":1,"v8":"3.9"},"0.7.11":{"node_abi":1,"v8":"3.11"},"0.7.12":{"node_abi":1,"v8":"3.11"},"0.8.0":{"node_abi":1,"v8":"3.11"},"0.8.1":{"node_abi":1,"v8":"3.11"},"0.8.2":{"node_abi":1,"v8":"3.11"},"0.8.3":{"node_abi":1,"v8":"3.11"},"0.8.4":{"node_abi":1,"v8":"3.11"},"0.8.5":{"node_abi":1,"v8":"3.11"},"0.8.6":{"node_abi":1,"v8":"3.11"},"0.8.7":{"node_abi":1,"v8":"3.11"},"0.8.8":{"node_abi":1,"v8":"3.11"},"0.8.9":{"node_abi":1,"v8":"3.11"},"0.8.10":{"node_abi":1,"v8":"3.11"},"0.8.11":{"node_abi":1,"v8":"3.11"},"0.8.12":{"node_abi":1,"v8":"3.11"},"0.8.13":{"node_abi":1,"v8":"3.11"},"0.8.14":{"node_abi":1,"v8":"3.11"},"0.8.15":{"node_abi":1,"v8":"3.11"},"0.8.16":{"node_abi":1,"v8":"3.11"},"0.8.17":{"node_abi":1,"v8":"3.11"},"0.8.18":{"node_abi":1,"v8":"3.11"},"0.8.19":{"node_abi":1,"v8":"3.11"},"0.8.20":{"node_abi":1,"v8":"3.11"},"0.8.21":{"node_abi":1,"v8":"3.11"},"0.8.22":{"node_abi":1,"v8":"3.11"},"0.8.23":{"node_abi":1,"v8":"3.11"},"0.8.24":{"node_abi":1,"v8":"3.11"},"0.8.25":{"node_abi":1,"v8":"3.11"},"0.8.26":{"node_abi":1,"v8":"3.11"},"0.8.27":{"node_abi":1,"v8":"3.11"},"0.8.28":{"node_abi":1,"v8":"3.11"},"0.9.0":{"node_abi":1,"v8":"3.11"},"0.9.1":{"node_abi":10,"v8":"3.11"},"0.9.2":{"node_abi":10,"v8":"3.11"},"0.9.3":{"node_abi":10,"v8":"3.13"},"0.9.4":{"node_abi":10,"v8":"3.13"},"0.9.5":{"node_abi":10,"v8":"3.13"},"0.9.6":{"node_abi":10,"v8":"3.15"},"0.9.7":{"node_abi":10,"v8":"3.15"},"0.9.8":{"node_abi":10,"v8":"3.15"},"0.9.9":{"node_abi":11,"v8":"3.15"},"0.9.10":{"node_abi":11,"v8":"3.15"},"0.9.11":{"node_abi":11,"v8":"3.14"},"0.9.12":{"node_abi":11,"v8":"3.14"},"0.10.0":{"node_abi":11,"v8":"3.14"},"0.10.1":{"node_abi":11,"v8":"3.14"},"0.10.2":{"node_abi":11,"v8":"3.14"},"0.10.3":{"node_abi":11,"v8":"3.14"},"0.10.4":{"node_abi":11,"v8":"3.14"},"0.10.5":{"node_abi":11,"v8":"3.14"},"0.10.6":{"node_abi":11,"v8":"3.14"},"0.10.7":{"node_abi":11,"v8":"3.14"},"0.10.8":{"node_abi":11,"v8":"3.14"},"0.10.9":{"node_abi":11,"v8":"3.14"},"0.10.10":{"node_abi":11,"v8":"3.14"},"0.10.11":{"node_abi":11,"v8":"3.14"},"0.10.12":{"node_abi":11,"v8":"3.14"},"0.10.13":{"node_abi":11,"v8":"3.14"},"0.10.14":{"node_abi":11,"v8":"3.14"},"0.10.15":{"node_abi":11,"v8":"3.14"},"0.10.16":{"node_abi":11,"v8":"3.14"},"0.10.17":{"node_abi":11,"v8":"3.14"},"0.10.18":{"node_abi":11,"v8":"3.14"},"0.10.19":{"node_abi":11,"v8":"3.14"},"0.10.20":{"node_abi":11,"v8":"3.14"},"0.10.21":{"node_abi":11,"v8":"3.14"},"0.10.22":{"node_abi":11,"v8":"3.14"},"0.10.23":{"node_abi":11,"v8":"3.14"},"0.10.24":{"node_abi":11,"v8":"3.14"},"0.10.25":{"node_abi":11,"v8":"3.14"},"0.10.26":{"node_abi":11,"v8":"3.14"},"0.10.27":{"node_abi":11,"v8":"3.14"},"0.10.28":{"node_abi":11,"v8":"3.14"},"0.10.29":{"node_abi":11,"v8":"3.14"},"0.10.30":{"node_abi":11,"v8":"3.14"},"0.10.31":{"node_abi":11,"v8":"3.14"},"0.10.32":{"node_abi":11,"v8":"3.14"},"0.10.33":{"node_abi":11,"v8":"3.14"},"0.10.34":{"node_abi":11,"v8":"3.14"},"0.10.35":{"node_abi":11,"v8":"3.14"},"0.10.36":{"node_abi":11,"v8":"3.14"},"0.10.37":{"node_abi":11,"v8":"3.14"},"0.10.38":{"node_abi":11,"v8":"3.14"},"0.10.39":{"node_abi":11,"v8":"3.14"},"0.10.40":{"node_abi":11,"v8":"3.14"},"0.10.41":{"node_abi":11,"v8":"3.14"},"0.10.42":{"node_abi":11,"v8":"3.14"},"0.10.43":{"node_abi":11,"v8":"3.14"},"0.10.44":{"node_abi":11,"v8":"3.14"},"0.10.45":{"node_abi":11,"v8":"3.14"},"0.10.46":{"node_abi":11,"v8":"3.14"},"0.10.47":{"node_abi":11,"v8":"3.14"},"0.10.48":{"node_abi":11,"v8":"3.14"},"0.11.0":{"node_abi":12,"v8":"3.17"},"0.11.1":{"node_abi":12,"v8":"3.18"},"0.11.2":{"node_abi":12,"v8":"3.19"},"0.11.3":{"node_abi":12,"v8":"3.19"},"0.11.4":{"node_abi":12,"v8":"3.20"},"0.11.5":{"node_abi":12,"v8":"3.20"},"0.11.6":{"node_abi":12,"v8":"3.20"},"0.11.7":{"node_abi":12,"v8":"3.20"},"0.11.8":{"node_abi":13,"v8":"3.21"},"0.11.9":{"node_abi":13,"v8":"3.22"},"0.11.10":{"node_abi":13,"v8":"3.22"},"0.11.11":{"node_abi":14,"v8":"3.22"},"0.11.12":{"node_abi":14,"v8":"3.22"},"0.11.13":{"node_abi":14,"v8":"3.25"},"0.11.14":{"node_abi":14,"v8":"3.26"},"0.11.15":{"node_abi":14,"v8":"3.28"},"0.11.16":{"node_abi":14,"v8":"3.28"},"0.12.0":{"node_abi":14,"v8":"3.28"},"0.12.1":{"node_abi":14,"v8":"3.28"},"0.12.2":{"node_abi":14,"v8":"3.28"},"0.12.3":{"node_abi":14,"v8":"3.28"},"0.12.4":{"node_abi":14,"v8":"3.28"},"0.12.5":{"node_abi":14,"v8":"3.28"},"0.12.6":{"node_abi":14,"v8":"3.28"},"0.12.7":{"node_abi":14,"v8":"3.28"},"0.12.8":{"node_abi":14,"v8":"3.28"},"0.12.9":{"node_abi":14,"v8":"3.28"},"0.12.10":{"node_abi":14,"v8":"3.28"},"0.12.11":{"node_abi":14,"v8":"3.28"},"0.12.12":{"node_abi":14,"v8":"3.28"},"0.12.13":{"node_abi":14,"v8":"3.28"},"0.12.14":{"node_abi":14,"v8":"3.28"},"0.12.15":{"node_abi":14,"v8":"3.28"},"0.12.16":{"node_abi":14,"v8":"3.28"},"0.12.17":{"node_abi":14,"v8":"3.28"},"0.12.18":{"node_abi":14,"v8":"3.28"},"1.0.0":{"node_abi":42,"v8":"3.31"},"1.0.1":{"node_abi":42,"v8":"3.31"},"1.0.2":{"node_abi":42,"v8":"3.31"},"1.0.3":{"node_abi":42,"v8":"4.1"},"1.0.4":{"node_abi":42,"v8":"4.1"},"1.1.0":{"node_abi":43,"v8":"4.1"},"1.2.0":{"node_abi":43,"v8":"4.1"},"1.3.0":{"node_abi":43,"v8":"4.1"},"1.4.1":{"node_abi":43,"v8":"4.1"},"1.4.2":{"node_abi":43,"v8":"4.1"},"1.4.3":{"node_abi":43,"v8":"4.1"},"1.5.0":{"node_abi":43,"v8":"4.1"},"1.5.1":{"node_abi":43,"v8":"4.1"},"1.6.0":{"node_abi":43,"v8":"4.1"},"1.6.1":{"node_abi":43,"v8":"4.1"},"1.6.2":{"node_abi":43,"v8":"4.1"},"1.6.3":{"node_abi":43,"v8":"4.1"},"1.6.4":{"node_abi":43,"v8":"4.1"},"1.7.1":{"node_abi":43,"v8":"4.1"},"1.8.1":{"node_abi":43,"v8":"4.1"},"1.8.2":{"node_abi":43,"v8":"4.1"},"1.8.3":{"node_abi":43,"v8":"4.1"},"1.8.4":{"node_abi":43,"v8":"4.1"},"2.0.0":{"node_abi":44,"v8":"4.2"},"2.0.1":{"node_abi":44,"v8":"4.2"},"2.0.2":{"node_abi":44,"v8":"4.2"},"2.1.0":{"node_abi":44,"v8":"4.2"},"2.2.0":{"node_abi":44,"v8":"4.2"},"2.2.1":{"node_abi":44,"v8":"4.2"},"2.3.0":{"node_abi":44,"v8":"4.2"},"2.3.1":{"node_abi":44,"v8":"4.2"},"2.3.2":{"node_abi":44,"v8":"4.2"},"2.3.3":{"node_abi":44,"v8":"4.2"},"2.3.4":{"node_abi":44,"v8":"4.2"},"2.4.0":{"node_abi":44,"v8":"4.2"},"2.5.0":{"node_abi":44,"v8":"4.2"},"3.0.0":{"node_abi":45,"v8":"4.4"},"3.1.0":{"node_abi":45,"v8":"4.4"},"3.2.0":{"node_abi":45,"v8":"4.4"},"3.3.0":{"node_abi":45,"v8":"4.4"},"3.3.1":{"node_abi":45,"v8":"4.4"},"4.0.0":{"node_abi":46,"v8":"4.5"},"4.1.0":{"node_abi":46,"v8":"4.5"},"4.1.1":{"node_abi":46,"v8":"4.5"},"4.1.2":{"node_abi":46,"v8":"4.5"},"4.2.0":{"node_abi":46,"v8":"4.5"},"4.2.1":{"node_abi":46,"v8":"4.5"},"4.2.2":{"node_abi":46,"v8":"4.5"},"4.2.3":{"node_abi":46,"v8":"4.5"},"4.2.4":{"node_abi":46,"v8":"4.5"},"4.2.5":{"node_abi":46,"v8":"4.5"},"4.2.6":{"node_abi":46,"v8":"4.5"},"4.3.0":{"node_abi":46,"v8":"4.5"},"4.3.1":{"node_abi":46,"v8":"4.5"},"4.3.2":{"node_abi":46,"v8":"4.5"},"4.4.0":{"node_abi":46,"v8":"4.5"},"4.4.1":{"node_abi":46,"v8":"4.5"},"4.4.2":{"node_abi":46,"v8":"4.5"},"4.4.3":{"node_abi":46,"v8":"4.5"},"4.4.4":{"node_abi":46,"v8":"4.5"},"4.4.5":{"node_abi":46,"v8":"4.5"},"4.4.6":{"node_abi":46,"v8":"4.5"},"4.4.7":{"node_abi":46,"v8":"4.5"},"4.5.0":{"node_abi":46,"v8":"4.5"},"4.6.0":{"node_abi":46,"v8":"4.5"},"4.6.1":{"node_abi":46,"v8":"4.5"},"4.6.2":{"node_abi":46,"v8":"4.5"},"4.7.0":{"node_abi":46,"v8":"4.5"},"4.7.1":{"node_abi":46,"v8":"4.5"},"4.7.2":{"node_abi":46,"v8":"4.5"},"4.7.3":{"node_abi":46,"v8":"4.5"},"4.8.0":{"node_abi":46,"v8":"4.5"},"4.8.1":{"node_abi":46,"v8":"4.5"},"4.8.2":{"node_abi":46,"v8":"4.5"},"4.8.3":{"node_abi":46,"v8":"4.5"},"5.0.0":{"node_abi":47,"v8":"4.6"},"5.1.0":{"node_abi":47,"v8":"4.6"},"5.1.1":{"node_abi":47,"v8":"4.6"},"5.2.0":{"node_abi":47,"v8":"4.6"},"5.3.0":{"node_abi":47,"v8":"4.6"},"5.4.0":{"node_abi":47,"v8":"4.6"},"5.4.1":{"node_abi":47,"v8":"4.6"},"5.5.0":{"node_abi":47,"v8":"4.6"},"5.6.0":{"node_abi":47,"v8":"4.6"},"5.7.0":{"node_abi":47,"v8":"4.6"},"5.7.1":{"node_abi":47,"v8":"4.6"},"5.8.0":{"node_abi":47,"v8":"4.6"},"5.9.0":{"node_abi":47,"v8":"4.6"},"5.9.1":{"node_abi":47,"v8":"4.6"},"5.10.0":{"node_abi":47,"v8":"4.6"},"5.10.1":{"node_abi":47,"v8":"4.6"},"5.11.0":{"node_abi":47,"v8":"4.6"},"5.11.1":{"node_abi":47,"v8":"4.6"},"5.12.0":{"node_abi":47,"v8":"4.6"},"6.0.0":{"node_abi":48,"v8":"5.0"},"6.1.0":{"node_abi":48,"v8":"5.0"},"6.2.0":{"node_abi":48,"v8":"5.0"},"6.2.1":{"node_abi":48,"v8":"5.0"},"6.2.2":{"node_abi":48,"v8":"5.0"},"6.3.0":{"node_abi":48,"v8":"5.0"},"6.3.1":{"node_abi":48,"v8":"5.0"},"6.4.0":{"node_abi":48,"v8":"5.0"},"6.5.0":{"node_abi":48,"v8":"5.1"},"6.6.0":{"node_abi":48,"v8":"5.1"},"6.7.0":{"node_abi":48,"v8":"5.1"},"6.8.0":{"node_abi":48,"v8":"5.1"},"6.8.1":{"node_abi":48,"v8":"5.1"},"6.9.0":{"node_abi":48,"v8":"5.1"},"6.9.1":{"node_abi":48,"v8":"5.1"},"6.9.2":{"node_abi":48,"v8":"5.1"},"6.9.3":{"node_abi":48,"v8":"5.1"},"6.9.4":{"node_abi":48,"v8":"5.1"},"6.9.5":{"node_abi":48,"v8":"5.1"},"6.10.0":{"node_abi":48,"v8":"5.1"},"6.10.1":{"node_abi":48,"v8":"5.1"},"6.10.2":{"node_abi":48,"v8":"5.1"},"6.10.3":{"node_abi":48,"v8":"5.1"},"7.0.0":{"node_abi":51,"v8":"5.4"},"7.1.0":{"node_abi":51,"v8":"5.4"},"7.2.0":{"node_abi":51,"v8":"5.4"},"7.2.1":{"node_abi":51,"v8":"5.4"},"7.3.0":{"node_abi":51,"v8":"5.4"},"7.4.0":{"node_abi":51,"v8":"5.4"},"7.5.0":{"node_abi":51,"v8":"5.4"},"7.6.0":{"node_abi":51,"v8":"5.5"},"7.7.0":{"node_abi":51,"v8":"5.5"},"7.7.1":{"node_abi":51,"v8":"5.5"},"7.7.2":{"node_abi":51,"v8":"5.5"},"7.7.3":{"node_abi":51,"v8":"5.5"},"7.7.4":{"node_abi":51,"v8":"5.5"},"7.8.0":{"node_abi":51,"v8":"5.5"},"7.9.0":{"node_abi":51,"v8":"5.5"},"7.10.0":{"node_abi":51,"v8":"5.5"},"8.0.0":{"node_abi":57,"v8":"5.8"}},"node_modules/express/index.js":"\"use strict\";module.exports=require(\"./lib/express\");","node_modules/express/lib/view.js":"\"use strict\";var debug=require(\"debug\")(\"express:view\"),path=require(\"path\"),fs=require(\"fs\"),dirname=path.dirname,basename=path.basename,extname=path.extname,join=path.join,resolve=path.resolve;module.exports=View;function View(e,t){var i=t||{};if(this.defaultEngine=i.defaultEngine,this.ext=extname(e),this.name=e,this.root=i.root,!this.ext&&!this.defaultEngine)throw new Error(\"No default engine was specified and no extension was provided.\");var n=e;if(this.ext||(this.ext=\".\"!==this.defaultEngine[0]?\".\"+this.defaultEngine:this.defaultEngine,n+=this.ext),!i.engines[this.ext]){var s=this.ext.substr(1);debug('require \"%s\"',s),i.engines[this.ext]=require(s).__express}this.engine=i.engines[this.ext],this.path=this.lookup(n)}View.prototype.lookup=function(e){var t,i=[].concat(this.root);debug('lookup \"%s\"',e);for(var n=0;n<i.length&&!t;n++){var s=i[n],r=resolve(s,e),a=dirname(r),o=basename(r);t=this.resolve(a,o)}return t},View.prototype.render=function(e,t){debug('render \"%s\"',this.path),this.engine(this.path,e,t)},View.prototype.resolve=function(e,t){var i=this.ext,n=join(e,t),s=tryStat(n);return s&&s.isFile()?n:(n=join(e,basename(t,i),\"index\"+i),(s=tryStat(n))&&s.isFile()?n:void 0)};function tryStat(e){debug('stat \"%s\"',e);try{return fs.statSync(e)}catch(e){return}}","node_modules/methods/index.js":"\"use strict\";var http=require(\"http\");module.exports=getCurrentNodeMethods()||getBasicNodeMethods();function getCurrentNodeMethods(){return http.METHODS&&http.METHODS.map(function(t){return t.toLowerCase()})}function getBasicNodeMethods(){return[\"get\",\"post\",\"put\",\"head\",\"delete\",\"options\",\"trace\",\"copy\",\"lock\",\"mkcol\",\"move\",\"purge\",\"propfind\",\"proppatch\",\"unlock\",\"report\",\"mkactivity\",\"checkout\",\"merge\",\"m-search\",\"notify\",\"subscribe\",\"unsubscribe\",\"patch\",\"search\",\"connect\"]}","node_modules/ejs-amd/lib/index.js":"var ejs=require(\"ejs\"),path=require(\"path\"),fs=require(\"fs\");exports.wrapAmd=function(e){return[\"define([], function() { \",\"return \"+e,\"});\"].join(\"\\n\")},exports.middleware=function(e){var r=e.views||\"\";return delete e.views,function(t,n,i){var a=t.url.replace(/\\.js$/,\".ejs\");!r&&t.app&&\"function\"==typeof t.app.get&&(r=t.app.get(\"views\"));var p=path.join(r,a);e.client=!1!==e.client,fs.readFile(p,function(r,t){if(r)return\"ENOENT\"===r.code?i():i(r);e.filename=p,n.header(\"content-type\",\"application/javascript\"),n.end(exports.wrapAmd(ejs.compile(t.toString(),e).toString()))})}};","node_modules/messageformat-amd/lib/index.js":"\"use strict\";exports.localeLib=require(\"./localeLib\"),exports.nlsLib=require(\"./nlsLib\"),exports.localeMiddleware=require(\"./middleware/locale\"),exports.nlsMiddleware=require(\"./middleware/nls\");","backend/modules/express/wrapAmd.js":"\"use strict\";const _=require(\"lodash\");module.exports=wrapAmd;function wrapAmd(e,n){let i,t;_.isObject(n)?(i=_.keys(n).join(\", \"),t=JSON.stringify(_.values(n))):(i=\"\",t=\"[]\");return[\"define(\"+t+\", function(\"+i+\") {\",e,\"});\"].join(\"\\n\")}","backend/modules/express/rqlMiddleware.js":"\"use strict\";const _=require(\"lodash\"),rql=require(\"h5.rql\");module.exports=function(){return function(r,e,t){let n=null;return Object.defineProperty(r,\"rql\",{configurable:!1,enumerable:!1,get:function(){return null===n&&(n=rql.parse(getQueryString(r))),n}}),t()}};function getQueryString(r){if(_.isObject(r._parsedUrl)&&_.isString(r._parsedUrl.query))return r._parsedUrl.query;if(_.isString(r.url)){const e=r.url.indexOf(\"?\");if(-1!==e)return r.url.substr(e+1)}return\"\"}","backend/modules/express/errorHandlerMiddleware.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(e,s){return s||(s={}),function(t,n,r,o){if(_.includes(e.config.ignoredErrorCodes,t.code))return;t.status&&(r.statusCode=t.status),r.statusCode<400&&(r.statusCode=500),\"string\"==typeof t?t={message:t,stack:null}:t&&\"ValidationError\"===t.name&&_.forEach(t.errors,function(e){t.message+=\"\\n  - \"+e});const a=n.session&&n.session.user?n.session.user.login:\"guest\";if(\"GET\"!==n.method&&null!==n.body&&\"object\"==typeof n.body)try{e.warn(\"%s %s\\n%s\\nUser: %s (%s)\\nHeaders:\\n%s\\nRequest body:\\n%s\",n.method,n.url,t.stack||t.message,a,n.ip,JSON.stringify(n.headers),JSON.stringify(n.body))}catch(t){e.warn(\"%s %s\\n%s\\nUser: %s (%s)\",n.method,n.url,t.stack,a,n.ip)}else e.warn(\"%s %s\\n%s\\nUser: %s (%s)\\nHeaders:\\n%s\",n.method,n.url,t.stack||t.message,a,n.ip,JSON.stringify(n.headers));if(!r.connection||!r.connection.writable)return;const i=n.headers.accept||\"\";if(-1===i.indexOf(\"html\")){if(-1!==i.indexOf(\"json\")){const e={message:t.message,stack:t.stack};return _.forEach(t,function(s,t){e[t]=s}),r.setHeader(\"Content-Type\",\"application/json\"),void r.end(JSON.stringify({error:e}))}r.setHeader(\"Content-Type\",\"text/plain\"),r.end(t.stack||t.message)}else r.render(\"error\",{title:s.title||\"express\",statusCode:r.statusCode,stack:prepareStack(s.basePath,t).reverse(),error:t.message.replace(/^Error: /,\"\")})}};function prepareStack(e,s){const t=(s.stack||\"\").split(\"\\n\").slice(1);if(0===t.length)return[];let n=t.length;return t.map(function(s){let t=s.match(/at (.*?) \\((.*?):([0-9]+):([0-9]+)\\)/);return null!==t?{no:n--,func:t[1],path:t[2],file:extractFile(e,t[2]),line:t[3],column:t[4]}:null!==(t=s.match(/at (.*?):([0-9]+):([0-9]+)/))?{no:n--,func:\"?\",path:t[1],file:extractFile(e,t[1]),line:t[2],column:t[3]}:{no:n--,unknown:s}})}function extractFile(e,s){return e&&0===s.toLowerCase().indexOf(e.toLowerCase())?\".\"+s.substr(e.length):s}","backend/modules/express/crud.js":"\"use strict\";const EventEmitter=require(\"events\").EventEmitter,{spawn:spawn}=require(\"child_process\"),_=require(\"lodash\"),step=require(\"h5.step\"),mongoSerializer=require(\"h5.rql/lib/serializers/mongoSerializer\"),helpers=require(\"../../helpers\"),CSV_COLUMN_SEPARATOR=\";\",CSV_ROW_SEPARATOR=\"\\r\\n\",CSV_FORMATTERS={string:function(e){return null===e||void 0===e||\"\"===e?'\"\"':'\"'+String(e).trim().replace(/\"/g,'\"\"').replace(/\\s+/g,\" \")+'\"'},integer:function(e){return null===e||void 0===e||\"\"===e?\"\":parseInt(e,10).toString()},decimal:function(e){return null===e||void 0===e||\"\"===e?\"\":parseFloat(Number(e).toFixed(3)).toString().replace(\".\",\",\")},percent:function(e){return null===e||void 0===e||\"\"===e?\"\":parseFloat(Number(e).toFixed(3)).toString().replace(\".\",\",\")},datetime:function(e){return helpers.formatDateTime(e)},date:function(e){return helpers.formatDate(e)},time:function(e){return helpers.formatTime(e)},\"datetime+utc\":function(e){return helpers.formatDateTimeUtc(e)},\"date+utc\":function(e){return helpers.formatDateUtc(e)},\"time+utc\":function(e){return helpers.formatTimeUtc(e)},boolean:function(e){return e?1:0}},EXPORT_SHORT_TYPES={'\"':\"string\",\"#\":\"integer\",\"%\":\"percent\",$:\"decimal\",\"@\":\"datetime\",\"-\":\"date\",\":\":\"time\",\"?\":\"boolean\"},EXPORT_TYPE_WIDTHS={string:20,integer:10,decimal:10,percent:7,datetime:18,date:10,time:10,\"datetime+utc\":18,\"date+utc\":10,\"time+utc\":10,boolean:10};exports.browseRoute=function(e,t,n,r,o){let i;t.model&&t.model.model?i=t.model:(i=t,t={});const s=mongoSerializer.fromQuery(n.rql);0===s.limit&&(s.limit=\"number\"==typeof i.BROWSE_LIMIT?i.BROWSE_LIMIT:100),s.limit>i.BROWSE_LIMIT&&i.BROWSE_LIMIT>0&&(s.limit=i.BROWSE_LIMIT),s.limit===Number.MAX_SAFE_INTEGER&&(s.limit=0),step(function(){if(_.isNumber(t.totalCount))return this.next()(null,t.totalCount);i.count(s.selector,this.next())},function(e,t){if(e)return this.done(o,e);if(this.totalCount=t,t>0){const t=i.find(s.selector,s.fields,s).lean();try{populateQuery(t,n.rql)}catch(e){return this.done(o,e)}t.exec(this.next())}},function(e,n){if(e)return this.done(o,e);const r=this.totalCount;Array.isArray(n)||(n=[]),r>0&&\"function\"==typeof i.customizeLeanObject&&(n=n.map(e=>i.customizeLeanObject(e,s.fields))),\"function\"==typeof t.prepareResult?t.prepareResult(r,n,l):l(null,{totalCount:r,collection:n})});function l(e,t){if(e)return o(e);r.format({json:function(){r.json(t)}})}},exports.addRoute=function(e,t,n,r,o){const i=n.model||new t(n.body);i.save(function(s){if(n.model=null,s){if(\"ValidationError\"===s.name)r.statusCode=400;else if(11e3===s.code){r.statusCode=400,s.code=\"DUPLICATE_KEY\";let e=s.message.match(/\\.\\$(.*?) /);e||(e=s.message.match(/ (.*?) dup key/)),s.index=e?e[1]:\"\"}return o(s)}r.format({json:function(){r.status(201).send(i)}}),!1!==t.CRUD_PUBLISH&&e.broker.publish((t.TOPIC_PREFIX||t.collection.name)+\".added\",{model:i,user:n.session.user})})},exports.readRoute=function(e,t,n,r,o){let i;t.model&&t.model.model?i=t.model:(i=t,t={});const s=t.idProperty?\"function\"==typeof t.idProperty?t.idProperty(n):t.idProperty:\"_id\",l=\"string\"==typeof s?{[s]:n.params.id}:s,u=mongoSerializer.fromQuery(n.rql),a=i.findOne(l,u.fields).lean();try{populateQuery(a,n.rql)}catch(e){return o(e)}a.exec(function(e,n){return e?o(e):null===n?r.sendStatus(404):(\"function\"==typeof i.customizeLeanObject&&(n=i.customizeLeanObject(n)),void(\"function\"==typeof t.prepareResult?t.prepareResult(n,c):c(null,n)))});function c(e,t){if(e)return o(e);r.format({json:function(){try{r.send(t)}catch(e){o(e)}}})}},exports.editRoute=function(e,t,n,r,o){let i;t.model&&t.model.model?i=t.model:(i=t,t={}),null===n.model?s(null,null):\"object\"==typeof n.model?s(null,n.model):i.findById(n.params.id,s);function s(s,u){return n.model=null,s?o(s):null===u?r.sendStatus(404):(\"function\"==typeof t.beforeSet&&t.beforeSet(u,n),u.set(n.body),\"function\"==typeof t.beforeSave&&t.beforeSave(u,n),u.isModified()?void u.save(function(s){if(s){if(\"ValidationError\"===s.name)r.statusCode=400;else if(11e3===s.code){r.statusCode=400,s.code=\"DUPLICATE_KEY\";let e=s.message.match(/\\.\\$(.*?) /);e||(e=s.message.match(/ (.*?) dup key/)),s.index=e?e[1]:\"\"}return o(s)}l(r,u),!1!==i.CRUD_PUBLISH&&e.broker.publish((i.TOPIC_PREFIX||i.collection.name)+\".edited\",{model:u,user:n.session.user}),s||\"function\"!=typeof t.afterSave||t.afterSave(u,n)}):l(r,u))}function l(e,t){e.format({json:function(){e.send(t)}})}},exports.deleteRoute=function(e,t,n,r,o){null===n.model?i(null,null):\"object\"==typeof n.model?i(null,n.model):t.findById(n.params.id,i);function i(i,s){return n.model=null,i?o(i):null===s?r.sendStatus(404):void s.remove(function(i){if(i)return o(i);r.format({json:function(){r.sendStatus(204)}}),!1!==t.CRUD_PUBLISH&&e.broker.publish((t.TOPIC_PREFIX||t.collection.name)+\".deleted\",{model:s,user:n.session.user})})}},exports.exportRoute=function(e,t,n,r,o){e.debug(\"[express] Exporting: %s\",JSON.stringify({url:n.url,user:e.user.createUserInfo(n.session.user,n)},null,2));const i=\"xlsx\"===n.params.format&&e.express.config.jsonToXlsxExe?\"xlsx\":\"csv\";let s=!1,l=!1,u=null,a=null;\"xlsx\"===i?function(){const t=_.once(e=>{a.kill(),a=null,!r.headersSent&&e?(r.removeHeader(\"Content-Disposition\"),r.removeHeader(\"Content-Type\"),o(e)):r.end()});(a=spawn(e.express.config.jsonToXlsxExe)).once(\"error\",e=>t(e)),a.once(\"close\",e=>t(0===e?null:new Error(\"[jsonToXlsx] Unexpected exit!\"))),a.stdout.on(\"data\",e=>r.write(e)),a.stdin.setEncoding(\"utf8\"),a.stdin.on(\"error\",()=>{}),a.stderr.setEncoding(\"utf8\"),a.stderr.on(\"data\",e=>process.stdout.write(e)),setImmediate(c)}():\"csv\"===i&&c();function c(){let e=t.cursor;if(void 0===e){const r=mongoSerializer.fromQuery(n.rql),i=t.model.find(r.selector,r.fields).sort(r.sort).lean();try{populateQuery(i,n.rql)}catch(e){return o(e)}e=i.cursor({batchSize:t.batchSize||10})}if(e&&e.close&&n.once(\"aborted\",()=>e.close()),t.serializeStream){const r=new EventEmitter;f(r,e,!1,n,t.cleanUp),t.serializeStream(e,r)}else f(e,e,!0,n,t.cleanUp)}function f(e,n,l,c,f){e.on(\"error\",function(e){o(e),f&&f(c)}),e.on(\"end\",function(){if(!s){if(d(),!u||0===u.length)return;\"xlsx\"===i?a&&(a.stdin.write(\"\\r\\n\"),a.stdin.end()):\"csv\"===i&&r.end()}f&&f(c)}),e.on(\"data\",function(e){if(s)return;const r=l?t.serializeRow(e,c):e,o=Array.isArray(r);!r||o&&!r.length||(null===u&&(u=prepareExportColumns(i,t,Object.keys(o?r[0]:r))),d(n),s||(o?_.forEach(r,m):m(r)))})}function d(o){if(!l){if(l=!0,!u||0===u.length)return r.attachment(t.filename+\".txt\"),void r.end(\"NO DATA\\r\\n\");if(u.length>1100)return o.close(),s=!0,void e.debug(\"[express] Export killed: %s\",JSON.stringify({url:n.url,user:e.user.createUserInfo(n.session.user,n),columns:u.length},null,2));r.attachment(t.filename+\".\"+i),\"xlsx\"===i?function(){const e={sheetName:t.sheetName||t.filename,freezeRows:t.freezeRows||0,freezeColumns:t.freezeColumns||0,headerHeight:t.headerHeight||0,columns:u};a&&a.stdin.write(JSON.stringify(e)+\"\\r\\n\")}():\"csv\"===i&&function(){const e=u.map(e=>e.caption).join(CSV_COLUMN_SEPARATOR);r.write(new Buffer([239,187,191])),r.write(e+CSV_ROW_SEPARATOR)}()}}function m(e){\"xlsx\"===i?function(e){a&&a.stdin.write(JSON.stringify(e)+\"\\r\\n\")}(e):\"csv\"===i&&function(e){const t=u.map(function(t){const n=e[t.name],r=CSV_FORMATTERS[t.type];return r?r(n):n}).join(CSV_COLUMN_SEPARATOR);r.write(t+CSV_ROW_SEPARATOR)}(e)}};function prepareExportColumns(e,t,n){const r=t.columns||{};let o;return\"csv\"===e?o=n:(o=Object.keys(r).filter(e=>r[e]&&r[e].position>0).sort((e,t)=>r[e].position-r[t].position),n.forEach(e=>{o.includes(e)||o.push(e)})),o.map(e=>{const n=r[e],o={name:e,caption:e,type:\"string\",width:0},i=EXPORT_SHORT_TYPES[e.charAt(0)];return i&&(o.type=i,o.caption=e.substring(1)),\"number\"==typeof n?o.width=n:\"string\"==typeof n?o.type=n:n?Object.assign(o,n):\"function\"==typeof t.prepareColumn&&t.prepareColumn(o),o.width||(o.width=EXPORT_TYPE_WIDTHS[o.type]),o})}function populateQuery(e,t){_.forEach(t.selector.args,function(t){\"populate\"===t.name&&t.args.length>0&&(Array.isArray(t.args[1])?e.populate(t.args[0],t.args[1].join(\" \")):e.populate(t.args[0]))})}","backend/modules/express/monkeyPatch.js":"\"use strict\";const path=require(\"path\");module.exports=function(t,e,o){if(o.View){const e=o.View.prototype.lookup;o.View.prototype.lookup=function(o){const s=o.indexOf(\":\");if(-1===s)return e.call(this,o);const i=o.substring(0,s),n=o.substring(s+1),r=t.pathTo(\"modules\",i,\"templates\",n);return this.resolve(path.dirname(r),path.basename(r))}}};","node_modules/body-parser/index.js":"\"use strict\";var deprecate=require(\"depd\")(\"body-parser\"),parsers=Object.create(null);exports=module.exports=deprecate.function(bodyParser,\"bodyParser: use individual json/urlencoded middlewares\"),Object.defineProperty(exports,\"json\",{configurable:!0,enumerable:!0,get:createParserGetter(\"json\")}),Object.defineProperty(exports,\"raw\",{configurable:!0,enumerable:!0,get:createParserGetter(\"raw\")}),Object.defineProperty(exports,\"text\",{configurable:!0,enumerable:!0,get:createParserGetter(\"text\")}),Object.defineProperty(exports,\"urlencoded\",{configurable:!0,enumerable:!0,get:createParserGetter(\"urlencoded\")});function bodyParser(e){var r={};if(e)for(var t in e)\"type\"!==t&&(r[t]=e[t]);var a=exports.urlencoded(r),n=exports.json(r);return function(e,r,t){n(e,r,function(n){if(n)return t(n);a(e,r,t)})}}function createParserGetter(e){return function(){return loadParser(e)}}function loadParser(e){var r=parsers[e];if(void 0!==r)return r;switch(e){case\"json\":r=require(\"./lib/types/json\");break;case\"raw\":r=require(\"./lib/types/raw\");break;case\"text\":r=require(\"./lib/types/text\");break;case\"urlencoded\":r=require(\"./lib/types/urlencoded\")}return parsers[e]=r}","node_modules/iconv-lite/lib/index.js":"\"use strict\";var bomHandling=require(\"./bom-handling\"),iconv=module.exports;iconv.encodings=null,iconv.defaultCharUnicode=\"�\",iconv.defaultCharSingleByte=\"?\",iconv.encode=function(e,n,o){e=\"\"+(e||\"\");var c=iconv.getEncoder(n,o),r=c.write(e),i=c.end();return i&&i.length>0?Buffer.concat([r,i]):r},iconv.decode=function(e,n,o){\"string\"==typeof e&&(iconv.skipDecodeWarning||(console.error(\"Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding\"),iconv.skipDecodeWarning=!0),e=new Buffer(\"\"+(e||\"\"),\"binary\"));var c=iconv.getDecoder(n,o),r=c.write(e),i=c.end();return i?r+i:r},iconv.encodingExists=function(e){try{return iconv.getCodec(e),!0}catch(e){return!1}},iconv.toEncoding=iconv.encode,iconv.fromEncoding=iconv.decode,iconv._codecDataCache={},iconv.getCodec=function(e){iconv.encodings||(iconv.encodings=require(\"../encodings\"));for(var n=(\"\"+e).toLowerCase().replace(/[^0-9a-z]|:\\d{4}$/g,\"\"),o={};;){var c=iconv._codecDataCache[n];if(c)return c;var r=iconv.encodings[n];switch(typeof r){case\"string\":n=r;break;case\"object\":for(var i in r)o[i]=r[i];o.encodingName||(o.encodingName=n),n=r.type;break;case\"function\":return o.encodingName||(o.encodingName=n),c=new r(o,iconv),iconv._codecDataCache[o.encodingName]=c,c;default:throw new Error(\"Encoding not recognized: '\"+e+\"' (searched as: '\"+n+\"')\")}}},iconv.getEncoder=function(e,n){var o=iconv.getCodec(e),c=new o.encoder(n,o);return o.bomAware&&n&&n.addBOM&&(c=new bomHandling.PrependBOM(c,n)),c},iconv.getDecoder=function(e,n){var o=iconv.getCodec(e),c=new o.decoder(n,o);return!o.bomAware||n&&!1===n.stripBOM||(c=new bomHandling.StripBOM(c,n)),c};var nodeVer=\"undefined\"!=typeof process&&process.versions&&process.versions.node;if(nodeVer){var nodeVerArr=nodeVer.split(\".\").map(Number);(nodeVerArr[0]>0||nodeVerArr[1]>=10)&&require(\"./streams\")(iconv),require(\"./extend-node\")(iconv)}","node_modules/express-session/index.js":"\"use strict\";var cookie=require(\"cookie\"),crc=require(\"crc\").crc32,debug=require(\"debug\")(\"express-session\"),deprecate=require(\"depd\")(\"express-session\"),parseUrl=require(\"parseurl\"),uid=require(\"uid-safe\").sync,onHeaders=require(\"on-headers\"),signature=require(\"cookie-signature\"),Session=require(\"./session/session\"),MemoryStore=require(\"./session/memory\"),Cookie=require(\"./session/cookie\"),Store=require(\"./session/store\"),env=process.env.NODE_ENV;exports=module.exports=session,exports.Store=Store,exports.Cookie=Cookie,exports.Session=Session,exports.MemoryStore=MemoryStore;var warning=\"Warning: connect.session() MemoryStore is not\\ndesigned for a production environment, as it will leak\\nmemory, and will not scale past a single process.\",defer=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function session(e){var s=e||{},o=s.cookie||{},n=s.genid||generateSessionId,i=s.name||s.key||\"connect.sid\",r=s.store||new MemoryStore,t=s.proxy,u=s.resave,c=Boolean(s.rolling),a=s.saveUninitialized,d=s.secret;if(\"function\"!=typeof n)throw new TypeError(\"genid option must be a function\");if(void 0===u&&(deprecate(\"undefined resave option; provide resave option\"),u=!0),void 0===a&&(deprecate(\"undefined saveUninitialized option; provide saveUninitialized option\"),a=!0),s.unset&&\"destroy\"!==s.unset&&\"keep\"!==s.unset)throw new TypeError('unset option must be \"destroy\" or \"keep\"');var f=\"destroy\"===s.unset;if(Array.isArray(d)&&0===d.length)throw new TypeError(\"secret option array must contain one or more strings\");d&&!Array.isArray(d)&&(d=[d]),d||deprecate(\"req.secret; provide secret option\"),\"production\"==env&&r instanceof MemoryStore&&console.warn(warning),r.generate=function(e){e.sessionID=n(e),e.session=new Session(e),e.session.cookie=new Cookie(o),\"auto\"===o.secure&&(e.session.cookie.secure=issecure(e,t))};var g=\"function\"==typeof r.touch,l=!0;return r.on(\"disconnect\",function(){l=!1}),r.on(\"connect\",function(){l=!0}),function(e,s,n){if(e.session)n();else{if(!l)return debug(\"store is disconnected\"),void n();if(0!==(parseUrl.original(e).pathname||\"/\").indexOf(o.path||\"/\"))return n();if(d||e.secret){var p,v,b,h=d||[e.secret],k=!1;e.sessionStore=r;var y=e.sessionID=getcookie(e,i,h);onHeaders(s,function(){e.session?function(e){if(\"string\"!=typeof e.sessionID)return!1;return y!=e.sessionID?a||q(e.session):c||null!=e.session.cookie.expires&&q(e.session)}(e)&&(!e.session.cookie.secure||issecure(e,t)?(k||(e.session.touch(),k=!0),setcookie(s,i,e.sessionID,h[0],e.session.cookie.data)):debug(\"not secured\")):debug(\"no session\")});var m=s.end,I=s.write,D=!1;if(s.end=function(o,i){if(D)return!1;D=!0;var t,u=!0;function c(){if(u)return t=m.call(s,o,i),void(u=!1);m.call(s)}function a(){if(!u)return t;if(null==o)return t=!0;var e=Number(s.getHeader(\"Content-Length\"));return!isNaN(e)&&e>0&&(o=Buffer.isBuffer(o)?o:new Buffer(o,i),i=void 0,0!==o.length)?(debug(\"split response\"),t=I.call(s,o.slice(0,o.length-1)),o=o.slice(o.length-1,o.length),t):(t=I.call(s,o,i),u=!1,t)}return function(e){return e.sessionID&&f&&null==e.session}(e)?(debug(\"destroying\"),r.destroy(e.sessionID,function(e){e&&defer(n,e),debug(\"destroyed\"),c()}),a()):e.session?(k||(e.session.touch(),k=!0),x(e)?(e.session.save(function(e){e&&defer(n,e),c()}),a()):g&&function(e){if(\"string\"!=typeof e.sessionID)return debug(\"session ignored because of bogus req.sessionID %o\",e.sessionID),!1;return y===e.sessionID&&!x(e)}(e)?(debug(\"touching\"),r.touch(e.sessionID,e.session,function(e){e&&defer(n,e),debug(\"touched\"),c()}),a()):m.call(s,o,i)):(debug(\"no session\"),m.call(s,o,i))},!e.sessionID)return debug(\"no SID sent, generating session\"),w(),void n();debug(\"fetching %s\",e.sessionID),r.get(e.sessionID,function(s,o){if(s){if(debug(\"error %j\",s),\"ENOENT\"!==s.code)return void n(s);w()}else o?(debug(\"session found\"),r.createSession(e,o),v=e.sessionID,p=hash(o),u||(b=p),S(e.session)):(debug(\"no session found\"),w());n()})}else n(new Error(\"secret option required for sessions\"))}function w(){r.generate(e),v=e.sessionID,p=hash(e.session),S(e.session)}function S(s){var o=s.reload,n=s.save;Object.defineProperty(s,\"reload\",{configurable:!0,enumerable:!1,value:function(s){debug(\"reloading %s\",this.id),o.call(this,function(){S(e.session),s.apply(this,arguments)})},writable:!0}),Object.defineProperty(s,\"save\",{configurable:!0,enumerable:!1,value:function(){debug(\"saving %s\",this.id),b=hash(this),n.apply(this,arguments)},writable:!0})}function q(e){return v!==e.id||p!==hash(e)}function x(e){return\"string\"!=typeof e.sessionID?(debug(\"session ignored because of bogus req.sessionID %o\",e.sessionID),!1):a||y===e.sessionID?!function(e){return v===e.id&&b===hash(e)}(e.session):q(e.session)}}}function generateSessionId(e){return uid(24)}function getcookie(e,s,o){var n,i,r=e.headers.cookie;if(r){(n=cookie.parse(r)[s])&&(\"s:\"===n.substr(0,2)?!1===(i=unsigncookie(n.slice(2),o))&&(debug(\"cookie signature invalid\"),i=void 0):debug(\"cookie unsigned\"))}return!i&&e.signedCookies&&(i=e.signedCookies[s])&&deprecate(\"cookie should be available in req.headers.cookie\"),!i&&e.cookies&&(n=e.cookies[s])&&(\"s:\"===n.substr(0,2)?((i=unsigncookie(n.slice(2),o))&&deprecate(\"cookie should be available in req.headers.cookie\"),!1===i&&(debug(\"cookie signature invalid\"),i=void 0)):debug(\"cookie unsigned\")),i}function hash(e){return crc(JSON.stringify(e,function(s,o){if(this!==e||\"cookie\"!==s)return o}))}function issecure(e,s){if(e.connection&&e.connection.encrypted)return!0;if(!1===s)return!1;if(!0!==s){var o=e.secure;return\"boolean\"==typeof o&&o}var n=e.headers[\"x-forwarded-proto\"]||\"\",i=n.indexOf(\",\");return\"https\"===(-1!==i?n.substr(0,i).toLowerCase().trim():n.toLowerCase().trim())}function setcookie(e,s,o,n,i){var r=\"s:\"+signature.sign(o,n),t=cookie.serialize(s,r,i);debug(\"set-cookie %s\",t);var u=e.getHeader(\"set-cookie\")||[],c=Array.isArray(u)?u.concat(t):[u,t];e.setHeader(\"set-cookie\",c)}function unsigncookie(e,s){for(var o=0;o<s.length;o++){var n=signature.unsign(e,s[o]);if(!1!==n)return n}return!1}","backend/modules/express/MongoStore.js":"\"use strict\";const util=require(\"util\"),Store=require(\"express-session\").Store;module.exports=MongoStore;function MongoStore(t,o){o=o||{},Store.call(this,o),this.collectionName=o.collectionName||MongoStore.Options.collectionName,this.safe=!0===o.safe,this.gcInterval=1e3*(o.gcInterval||MongoStore.Options.gcInterval),this.defaultExpirationTime=1e3*(o.defaultExpirationTime||MongoStore.Options.defaultExpirationTime),this.touchChance=o.touchChance||MongoStore.Options.touchChance,this.touchInterval=o.touchInterval||MongoStore.Options.touchInterval,this.gcTimer=null,this.db=t,this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.db.on(\"reconnect\",this.onOpen),this.db.on(\"close\",this.onClose),this.scheduleGc()}MongoStore.Options={collectionName:\"sessions\",safe:!1,gcInterval:600,defaultExpirationTime:1209600,touchChance:.25,touchInterval:0},util.inherits(MongoStore,Store),MongoStore.prototype.touch=function(t,o,e){const n=Date.now();if(this.touchInterval>0&&n-o.updatedAt<this.touchInterval||this.touchChance>0&&Math.random()>this.touchChance)return e(null);const i=this.collection(),s=Date.parse(o.cookie.expires)||Date.now()+this.defaultExpirationTime;i.update({_id:t},{$set:{expires:s,updatedAt:n}},e)},MongoStore.prototype.get=function(t,o){const e=this;this.collection().findOne({_id:t},{_id:0,data:1,updatedAt:1},function(n,i){if(n)return o(n);if(null===i)return o();const s=\"string\"==typeof i.data?JSON.parse(i.data):i.data,r=\"string\"==typeof s.cookie.expires?new Date(s.cookie.expires):s.cookie.expires;return!r||Date.now()<r?(s.updatedAt=i.updatedAt,o(null,s)):e.destroy(t,o)})},MongoStore.prototype.set=function(t,o,e){const n=this.collection(),i=Date.now(),s={_id:t,updatedAt:i,expires:Date.parse(o.cookie.expires),data:o};isNaN(s.expires)&&(s.expires=i+this.defaultExpirationTime);const r={upsert:!0,safe:this.safe};n.update({_id:t},s,r,function(t){return e&&e(t)})},MongoStore.prototype.destroy=function(t,o){this.collection().remove({_id:t},{safe:this.safe},function(t){return o&&o(t)})},MongoStore.prototype.clear=function(t){this.collection().drop(t)},MongoStore.prototype.length=function(t){this.collection().count(t)},MongoStore.prototype.gc=function(t){this.collection().remove({expires:{$lte:Date.now()}},t)},MongoStore.prototype.destruct=function(){this.clearGcTimer(),this.db.removeListener(\"open\",this.onOpen),this.db.removeListener(\"close\",this.onClose),this.db=null},MongoStore.prototype.collection=function(){return this.db.collection(this.collectionName)},MongoStore.prototype.onOpen=function(){this.scheduleGc()},MongoStore.prototype.onClose=function(){this.clearGcTimer()},MongoStore.prototype.clearGcTimer=function(){null!==this.gcTimer&&(clearTimeout(this.gcTimer),this.gcTimer=null)},MongoStore.prototype.scheduleGc=function(){this.gcTimer=setTimeout(function(t){t.gcTimer=null,t.gc(function(){t.scheduleGc()})},this.gcInterval,this)};","node_modules/express/lib/express.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,mixin=require(\"merge-descriptors\"),proto=require(\"./application\"),Route=require(\"./router/route\"),Router=require(\"./router\"),req=require(\"./request\"),res=require(\"./response\");exports=module.exports=createApplication;function createApplication(){var e=function(r,t,o){e.handle(r,t,o)};return mixin(e,EventEmitter.prototype,!1),mixin(e,proto,!1),e.request=Object.create(req,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.response=Object.create(res,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.init(),e}exports.application=proto,exports.request=req,exports.response=res,exports.Route=Route,exports.Router=Router,exports.query=require(\"./middleware/query\"),exports.static=require(\"serve-static\"),[\"json\",\"urlencoded\",\"bodyParser\",\"compress\",\"cookieSession\",\"session\",\"logger\",\"cookieParser\",\"favicon\",\"responseTime\",\"errorHandler\",\"timeout\",\"methodOverride\",\"vhost\",\"csrf\",\"directory\",\"limit\",\"multipart\",\"staticCache\"].forEach(function(e){Object.defineProperty(exports,e,{get:function(){throw new Error(\"Most middleware (like \"+e+\") is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.\")},configurable:!0})});","node_modules/merge-descriptors/index.js":"\"use strict\";module.exports=merge;var hasOwnProperty=Object.prototype.hasOwnProperty;function merge(r,e,t){if(!r)throw new TypeError(\"argument dest is required\");if(!e)throw new TypeError(\"argument src is required\");return void 0===t&&(t=!0),Object.getOwnPropertyNames(e).forEach(function(o){if(t||!hasOwnProperty.call(r,o)){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,n)}}),r}","node_modules/express/lib/application.js":"\"use strict\";var finalhandler=require(\"finalhandler\"),Router=require(\"./router\"),methods=require(\"methods\"),middleware=require(\"./middleware/init\"),query=require(\"./middleware/query\"),debug=require(\"debug\")(\"express:application\"),View=require(\"./view\"),http=require(\"http\"),compileETag=require(\"./utils\").compileETag,compileQueryParser=require(\"./utils\").compileQueryParser,compileTrust=require(\"./utils\").compileTrust,deprecate=require(\"depd\")(\"express\"),flatten=require(\"array-flatten\"),merge=require(\"utils-merge\"),resolve=require(\"path\").resolve,setPrototypeOf=require(\"setprototypeof\"),slice=Array.prototype.slice,app=exports=module.exports={},trustProxyDefaultSymbol=\"@@symbol:trust_proxy_default\";app.init=function(){this.cache={},this.engines={},this.settings={},this.defaultConfiguration()},app.defaultConfiguration=function(){var e=process.env.NODE_ENV||\"development\";this.enable(\"x-powered-by\"),this.set(\"etag\",\"weak\"),this.set(\"env\",e),this.set(\"query parser\",\"extended\"),this.set(\"subdomain offset\",2),this.set(\"trust proxy\",!1),Object.defineProperty(this.settings,trustProxyDefaultSymbol,{configurable:!0,value:!0}),debug(\"booting in %s mode\",e),this.on(\"mount\",function(e){!0===this.settings[trustProxyDefaultSymbol]&&\"function\"==typeof e.settings[\"trust proxy fn\"]&&(delete this.settings[\"trust proxy\"],delete this.settings[\"trust proxy fn\"]),setPrototypeOf(this.request,e.request),setPrototypeOf(this.response,e.response),setPrototypeOf(this.engines,e.engines),setPrototypeOf(this.settings,e.settings)}),this.locals=Object.create(null),this.mountpath=\"/\",this.locals.settings=this.settings,this.set(\"view\",View),this.set(\"views\",resolve(\"views\")),this.set(\"jsonp callback name\",\"callback\"),\"production\"===e&&this.enable(\"view cache\"),Object.defineProperty(this,\"router\",{get:function(){throw new Error(\"'app.router' is deprecated!\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.\")}})},app.lazyrouter=function(){this._router||(this._router=new Router({caseSensitive:this.enabled(\"case sensitive routing\"),strict:this.enabled(\"strict routing\")}),this._router.use(query(this.get(\"query parser fn\"))),this._router.use(middleware.init(this)))},app.handle=function(e,t,r){var i=this._router,s=r||finalhandler(e,t,{env:this.get(\"env\"),onerror:logerror.bind(this)});if(!i)return debug(\"no routes defined on app\"),void s();i.handle(e,t,s)},app.use=function(e){var t=0,r=\"/\";if(\"function\"!=typeof e){for(var i=e;Array.isArray(i)&&0!==i.length;)i=i[0];\"function\"!=typeof i&&(t=1,r=e)}var s=flatten(slice.call(arguments,t));if(0===s.length)throw new TypeError(\"app.use() requires middleware functions\");this.lazyrouter();var n=this._router;return s.forEach(function(e){if(!e||!e.handle||!e.set)return n.use(r,e);debug(\".use app under %s\",r),e.mountpath=r,e.parent=this,n.use(r,function(t,r,i){var s=t.app;e.handle(t,r,function(e){setPrototypeOf(t,s.request),setPrototypeOf(r,s.response),i(e)})}),e.emit(\"mount\",this)},this),this},app.route=function(e){return this.lazyrouter(),this._router.route(e)},app.engine=function(e,t){if(\"function\"!=typeof t)throw new Error(\"callback function required\");var r=\".\"!==e[0]?\".\"+e:e;return this.engines[r]=t,this},app.param=function(e,t){if(this.lazyrouter(),Array.isArray(e)){for(var r=0;r<e.length;r++)this.param(e[r],t);return this}return this._router.param(e,t),this},app.set=function(e,t){if(1===arguments.length)return this.settings[e];switch(debug('set \"%s\" to %o',e,t),this.settings[e]=t,e){case\"etag\":this.set(\"etag fn\",compileETag(t));break;case\"query parser\":this.set(\"query parser fn\",compileQueryParser(t));break;case\"trust proxy\":this.set(\"trust proxy fn\",compileTrust(t)),Object.defineProperty(this.settings,trustProxyDefaultSymbol,{configurable:!0,value:!1})}return this},app.path=function(){return this.parent?this.parent.path()+this.mountpath:\"\"},app.enabled=function(e){return Boolean(this.set(e))},app.disabled=function(e){return!this.set(e)},app.enable=function(e){return this.set(e,!0)},app.disable=function(e){return this.set(e,!1)},methods.forEach(function(e){app[e]=function(t){if(\"get\"===e&&1===arguments.length)return this.set(t);this.lazyrouter();var r=this._router.route(t);return r[e].apply(r,slice.call(arguments,1)),this}}),app.all=function(e){this.lazyrouter();for(var t=this._router.route(e),r=slice.call(arguments,1),i=0;i<methods.length;i++)t[methods[i]].apply(t,r);return this},app.del=deprecate.function(app.delete,\"app.del: Use app.delete instead\"),app.render=function(e,t,r){var i,s=this.cache,n=r,o=this.engines,a=t,u={};if(\"function\"==typeof t&&(n=t,a={}),merge(u,this.locals),a._locals&&merge(u,a._locals),merge(u,a),null==u.cache&&(u.cache=this.enabled(\"view cache\")),u.cache&&(i=s[e]),!i){if(!(i=new(this.get(\"view\"))(e,{defaultEngine:this.get(\"view engine\"),root:this.get(\"views\"),engines:o})).path){var p=Array.isArray(i.root)&&i.root.length>1?'directories \"'+i.root.slice(0,-1).join('\", \"')+'\" or \"'+i.root[i.root.length-1]+'\"':'directory \"'+i.root+'\"',h=new Error('Failed to lookup view \"'+e+'\" in views '+p);return h.view=i,n(h)}u.cache&&(s[e]=i)}tryRender(i,u,n)},app.listen=function(){var e=http.createServer(this);return e.listen.apply(e,arguments)};function logerror(e){\"test\"!==this.get(\"env\")&&console.error(e.stack||e.toString())}function tryRender(e,t,r){try{e.render(t,r)}catch(e){r(e)}}","node_modules/express/lib/router/route.js":"\"use strict\";var debug=require(\"debug\")(\"express:router:route\"),flatten=require(\"array-flatten\"),Layer=require(\"./layer\"),methods=require(\"methods\"),slice=Array.prototype.slice,toString=Object.prototype.toString;module.exports=Route;function Route(t){this.path=t,this.stack=[],debug(\"new %o\",t),this.methods={}}Route.prototype._handles_method=function(t){if(this.methods._all)return!0;var e=t.toLowerCase();return\"head\"!==e||this.methods.head||(e=\"get\"),Boolean(this.methods[e])},Route.prototype._options=function(){var t=Object.keys(this.methods);this.methods.get&&!this.methods.head&&t.push(\"head\");for(var e=0;e<t.length;e++)t[e]=t[e].toUpperCase();return t},Route.prototype.dispatch=function(t,e,r){var o=0,a=this.stack;if(0===a.length)return r();var s=t.method.toLowerCase();\"head\"!==s||this.methods.head||(s=\"get\"),t.route=this,h();function h(i){if(i&&\"route\"===i)return r();if(i&&\"router\"===i)return r(i);var n=a[o++];return n?n.method&&n.method!==s?h(i):void(i?n.handle_error(i,t,e,h):n.handle_request(t,e,h)):r(i)}},Route.prototype.all=function(){for(var t=flatten(slice.call(arguments)),e=0;e<t.length;e++){var r=t[e];if(\"function\"!=typeof r){var o=\"Route.all() requires callback functions but got a \"+toString.call(r);throw new TypeError(o)}var a=Layer(\"/\",{},r);a.method=void 0,this.methods._all=!0,this.stack.push(a)}return this},methods.forEach(function(t){Route.prototype[t]=function(){for(var e=flatten(slice.call(arguments)),r=0;r<e.length;r++){var o=e[r];if(\"function\"!=typeof o){var a=toString.call(o),s=\"Route.\"+t+\"() requires callback functions but got a \"+a;throw new Error(s)}debug(\"%s %o\",t,this.path);var h=Layer(\"/\",{},o);h.method=t,this.methods[t]=!0,this.stack.push(h)}return this}});","node_modules/express/lib/router/index.js":"\"use strict\";var Route=require(\"./route\"),Layer=require(\"./layer\"),methods=require(\"methods\"),mixin=require(\"utils-merge\"),debug=require(\"debug\")(\"express:router\"),deprecate=require(\"depd\")(\"express\"),flatten=require(\"array-flatten\"),parseUrl=require(\"parseurl\"),setPrototypeOf=require(\"setprototypeof\"),objectRegExp=/^\\[object (\\S+)\\]$/,slice=Array.prototype.slice,toString=Object.prototype.toString,proto=module.exports=function(r){var e=r||{};function t(r,e,n){t.handle(r,e,n)}return setPrototypeOf(t,proto),t.params={},t._params=[],t.caseSensitive=e.caseSensitive,t.mergeParams=e.mergeParams,t.strict=e.strict,t.stack=[],t};proto.param=function(r,e){if(\"function\"==typeof r)return deprecate(\"router.param(fn): Refactor to use path params\"),void this._params.push(r);var t,n=this._params,a=n.length;\":\"===r[0]&&(deprecate(\"router.param(\"+JSON.stringify(r)+\", fn): Use router.param(\"+JSON.stringify(r.substr(1))+\", fn) instead\"),r=r.substr(1));for(var o=0;o<a;++o)(t=n[o](r,e))&&(e=t);if(\"function\"!=typeof e)throw new Error(\"invalid param() call for \"+r+\", got \"+e);return(this.params[r]=this.params[r]||[]).push(e),this},proto.handle=function(r,e,t){var n=this;debug(\"dispatching %s %s\",r.method,r.url);var a=0,o=getProtohost(r.url)||\"\",s=\"\",i=!1,u={},l=[],p=n.stack,f=r.params,c=r.baseUrl||\"\",h=restore(t,r,\"baseUrl\",\"next\",\"params\");r.next=m,\"OPTIONS\"===r.method&&(h=wrap(h,function(r,t){if(t||0===l.length)return r(t);sendOptionsResponse(e,l,r)})),r.baseUrl=c,r.originalUrl=r.originalUrl||r.url,m();function m(t){var g=\"route\"===t?null:t;if(i&&(r.url=r.url.substr(1),i=!1),0!==s.length&&(r.baseUrl=c,r.url=o+s+r.url.substr(o.length),s=\"\"),\"router\"!==g)if(a>=p.length)setImmediate(h,g);else{var d=getPathname(r);if(null==d)return h(g);for(var v,y,b;!0!==y&&a<p.length;)if(v=p[a++],y=matchLayer(v,d),b=v.route,\"boolean\"!=typeof y&&(g=g||y),!0===y&&b)if(g)y=!1;else{var w=r.method,x=b._handles_method(w);x||\"OPTIONS\"!==w||appendMethods(l,b._options()),x||\"HEAD\"===w||(y=!1)}if(!0!==y)return h(g);b&&(r.route=b),r.params=n.mergeParams?mergeParams(v.params,f):v.params;var O=v.path;n.process_params(v,u,r,e,function(t){return t?m(g||t):b?v.handle_request(r,e,m):void function(t,n,a,u){if(0!==a.length){var l=u[a.length];if(l&&\"/\"!==l&&\".\"!==l)return m(n);debug(\"trim prefix (%s) from url %s\",a,r.url),s=a,r.url=o+r.url.substr(o.length+s.length),o||\"/\"===r.url[0]||(r.url=\"/\"+r.url,i=!0),r.baseUrl=c+(\"/\"===s[s.length-1]?s.substring(0,s.length-1):s)}debug(\"%s %s : %s\",t.name,a,r.originalUrl),n?t.handle_error(n,r,e,m):t.handle_request(r,e,m)}(v,g,O,d)})}else setImmediate(h,null)}},proto.process_params=function(r,e,t,n,a){var o=this.params,s=r.keys;if(!s||0===s.length)return a();var i,u,l,p,f,c=0,h=0;function m(r){return r?a(r):c>=s.length?a():(h=0,u=s[c++],i=u.name,l=t.params[i],p=o[i],f=e[i],void 0!==l&&p?f&&(f.match===l||f.error&&\"route\"!==f.error)?(t.params[i]=f.value,m(f.error)):(e[i]=f={error:null,match:l,value:l},void g()):m())}function g(r){var e=p[h++];if(f.value=t.params[u.name],r)return f.error=r,void m(r);if(!e)return m();try{e(t,n,g,l,u.name)}catch(r){g(r)}}m()},proto.use=function(r){var e=0,t=\"/\";if(\"function\"!=typeof r){for(var n=r;Array.isArray(n)&&0!==n.length;)n=n[0];\"function\"!=typeof n&&(e=1,t=r)}var a=flatten(slice.call(arguments,e));if(0===a.length)throw new TypeError(\"Router.use() requires middleware functions\");for(var o=0;o<a.length;o++){if(\"function\"!=typeof(r=a[o]))throw new TypeError(\"Router.use() requires middleware function but got a \"+gettype(r));debug(\"use %o %s\",t,r.name||\"<anonymous>\");var s=new Layer(t,{sensitive:this.caseSensitive,strict:!1,end:!1},r);s.route=void 0,this.stack.push(s)}return this},proto.route=function(r){var e=new Route(r),t=new Layer(r,{sensitive:this.caseSensitive,strict:this.strict,end:!0},e.dispatch.bind(e));return t.route=e,this.stack.push(t),e},methods.concat(\"all\").forEach(function(r){proto[r]=function(e){var t=this.route(e);return t[r].apply(t,slice.call(arguments,1)),this}});function appendMethods(r,e){for(var t=0;t<e.length;t++){var n=e[t];-1===r.indexOf(n)&&r.push(n)}}function getPathname(r){try{return parseUrl(r).pathname}catch(r){return}}function getProtohost(r){if(\"string\"==typeof r&&0!==r.length&&\"/\"!==r[0]){var e=r.indexOf(\"?\"),t=-1!==e?e:r.length,n=r.substr(0,t).indexOf(\"://\");return-1!==n?r.substr(0,r.indexOf(\"/\",3+n)):void 0}}function gettype(r){var e=typeof r;return\"object\"!==e?e:toString.call(r).replace(objectRegExp,\"$1\")}function matchLayer(r,e){try{return r.match(e)}catch(r){return r}}function mergeParams(r,e){if(\"object\"!=typeof e||!e)return r;var t=mixin({},e);if(!(0 in r&&0 in e))return mixin(t,r);for(var n=0,a=0;n in r;)n++;for(;a in e;)a++;for(n--;n>=0;n--)r[n+a]=r[n],n<a&&delete r[n];return mixin(t,r)}function restore(r,e){for(var t=new Array(arguments.length-2),n=new Array(arguments.length-2),a=0;a<t.length;a++)t[a]=arguments[a+2],n[a]=e[t[a]];return function(){for(var a=0;a<t.length;a++)e[t[a]]=n[a];return r.apply(this,arguments)}}function sendOptionsResponse(r,e,t){try{var n=e.join(\",\");r.set(\"Allow\",n),r.send(n)}catch(r){t(r)}}function wrap(r,e){return function(){var t=new Array(arguments.length+1);t[0]=r;for(var n=0,a=arguments.length;n<a;n++)t[n+1]=arguments[n];e.apply(this,t)}}","node_modules/express/lib/request.js":"\"use strict\";var accepts=require(\"accepts\"),deprecate=require(\"depd\")(\"express\"),isIP=require(\"net\").isIP,typeis=require(\"type-is\"),http=require(\"http\"),fresh=require(\"fresh\"),parseRange=require(\"range-parser\"),parse=require(\"parseurl\"),proxyaddr=require(\"proxy-addr\"),req=Object.create(http.IncomingMessage.prototype);module.exports=req,req.get=req.header=function(e){if(!e)throw new TypeError(\"name argument is required to req.get\");if(\"string\"!=typeof e)throw new TypeError(\"name must be a string to req.get\");var r=e.toLowerCase();switch(r){case\"referer\":case\"referrer\":return this.headers.referrer||this.headers.referer;default:return this.headers[r]}},req.accepts=function(){var e=accepts(this);return e.types.apply(e,arguments)},req.acceptsEncodings=function(){var e=accepts(this);return e.encodings.apply(e,arguments)},req.acceptsEncoding=deprecate.function(req.acceptsEncodings,\"req.acceptsEncoding: Use acceptsEncodings instead\"),req.acceptsCharsets=function(){var e=accepts(this);return e.charsets.apply(e,arguments)},req.acceptsCharset=deprecate.function(req.acceptsCharsets,\"req.acceptsCharset: Use acceptsCharsets instead\"),req.acceptsLanguages=function(){var e=accepts(this);return e.languages.apply(e,arguments)},req.acceptsLanguage=deprecate.function(req.acceptsLanguages,\"req.acceptsLanguage: Use acceptsLanguages instead\"),req.range=function(e,r){var t=this.get(\"Range\");if(t)return parseRange(e,t,r)},req.param=function(e,r){var t=this.params||{},s=this.body||{},n=this.query||{},a=1===arguments.length?\"name\":\"name, default\";return deprecate(\"req.param(\"+a+\"): Use req.params, req.body, or req.query instead\"),null!=t[e]&&t.hasOwnProperty(e)?t[e]:null!=s[e]?s[e]:null!=n[e]?n[e]:r},req.is=function(e){var r=e;if(!Array.isArray(e)){r=new Array(arguments.length);for(var t=0;t<r.length;t++)r[t]=arguments[t]}return typeis(this,r)},defineGetter(req,\"protocol\",function(){var e=this.connection.encrypted?\"https\":\"http\";return this.app.get(\"trust proxy fn\")(this.connection.remoteAddress,0)?(e=this.get(\"X-Forwarded-Proto\")||e).split(/\\s*,\\s*/)[0]:e}),defineGetter(req,\"secure\",function(){return\"https\"===this.protocol}),defineGetter(req,\"ip\",function(){var e=this.app.get(\"trust proxy fn\");return proxyaddr(this,e)}),defineGetter(req,\"ips\",function(){var e=this.app.get(\"trust proxy fn\"),r=proxyaddr.all(this,e);return r.reverse().pop(),r}),defineGetter(req,\"subdomains\",function(){var e=this.hostname;if(!e)return[];var r=this.app.get(\"subdomain offset\"),t=isIP(e)?[e]:e.split(\".\").reverse();return t.slice(r)}),defineGetter(req,\"path\",function(){return parse(this).pathname}),defineGetter(req,\"hostname\",function(){var e=this.app.get(\"trust proxy fn\"),r=this.get(\"X-Forwarded-Host\");if(r&&e(this.connection.remoteAddress,0)||(r=this.get(\"Host\")),r){var t=\"[\"===r[0]?r.indexOf(\"]\")+1:0,s=r.indexOf(\":\",t);return-1!==s?r.substring(0,s):r}}),defineGetter(req,\"host\",deprecate.function(function(){return this.hostname},\"req.host: Use req.hostname instead\")),defineGetter(req,\"fresh\",function(){var e=this.method,r=this.res,t=r.statusCode;return(\"GET\"===e||\"HEAD\"===e)&&((t>=200&&t<300||304===t)&&fresh(this.headers,{etag:r.get(\"ETag\"),\"last-modified\":r.get(\"Last-Modified\")}))}),defineGetter(req,\"stale\",function(){return!this.fresh}),defineGetter(req,\"xhr\",function(){return\"xmlhttprequest\"===(this.get(\"X-Requested-With\")||\"\").toLowerCase()});function defineGetter(e,r,t){Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:t})}","node_modules/express/lib/response.js":"\"use strict\";var contentDisposition=require(\"content-disposition\"),deprecate=require(\"depd\")(\"express\"),encodeUrl=require(\"encodeurl\"),escapeHtml=require(\"escape-html\"),http=require(\"http\"),isAbsolute=require(\"./utils\").isAbsolute,onFinished=require(\"on-finished\"),path=require(\"path\"),statuses=require(\"statuses\"),merge=require(\"utils-merge\"),sign=require(\"cookie-signature\").sign,normalizeType=require(\"./utils\").normalizeType,normalizeTypes=require(\"./utils\").normalizeTypes,setCharset=require(\"./utils\").setCharset,cookie=require(\"cookie\"),send=require(\"send\"),extname=path.extname,mime=send.mime,resolve=path.resolve,vary=require(\"vary\"),res=Object.create(http.ServerResponse.prototype);module.exports=res;var charsetRegExp=/;\\s*charset\\s*=/;res.status=function(e){return this.statusCode=e,this},res.links=function(e){var t=this.get(\"Link\")||\"\";return t&&(t+=\", \"),this.set(\"Link\",t+Object.keys(e).map(function(t){return\"<\"+e[t]+'>; rel=\"'+t+'\"'}).join(\", \"))},res.send=function(e){var t,s,r,n=e,i=this.req,o=this.app;switch(2===arguments.length&&(\"number\"!=typeof arguments[0]&&\"number\"==typeof arguments[1]?(deprecate(\"res.send(body, status): Use res.status(status).send(body) instead\"),this.statusCode=arguments[1]):(deprecate(\"res.send(status, body): Use res.status(status).send(body) instead\"),this.statusCode=arguments[0],n=arguments[1])),\"number\"==typeof n&&1===arguments.length&&(this.get(\"Content-Type\")||this.type(\"txt\"),deprecate(\"res.send(status): Use res.sendStatus(status) instead\"),this.statusCode=n,n=statuses[n]),typeof n){case\"string\":this.get(\"Content-Type\")||this.type(\"html\");break;case\"boolean\":case\"number\":case\"object\":if(null===n)n=\"\";else{if(!Buffer.isBuffer(n))return this.json(n);this.get(\"Content-Type\")||this.type(\"bin\")}}\"string\"==typeof n&&(t=\"utf8\",\"string\"==typeof(r=this.get(\"Content-Type\"))&&this.set(\"Content-Type\",setCharset(r,\"utf-8\"))),void 0!==n&&(Buffer.isBuffer(n)||(n=new Buffer(n,t),t=void 0),s=n.length,this.set(\"Content-Length\",s));var a,u=void 0!==s&&o.get(\"etag fn\");return\"function\"!=typeof u||this.get(\"ETag\")||(a=u(n,t))&&this.set(\"ETag\",a),i.fresh&&(this.statusCode=304),204!==this.statusCode&&304!==this.statusCode||(this.removeHeader(\"Content-Type\"),this.removeHeader(\"Content-Length\"),this.removeHeader(\"Transfer-Encoding\"),n=\"\"),\"HEAD\"===i.method?this.end():this.end(n,t),this},res.json=function(e){var t=e;2===arguments.length&&(\"number\"==typeof arguments[1]?(deprecate(\"res.json(obj, status): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[1]):(deprecate(\"res.json(status, obj): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[0],t=arguments[1]));var s=this.app,r=stringify(t,s.get(\"json replacer\"),s.get(\"json spaces\"));return this.get(\"Content-Type\")||this.set(\"Content-Type\",\"application/json\"),this.send(r)},res.jsonp=function(e){var t=e;2===arguments.length&&(\"number\"==typeof arguments[1]?(deprecate(\"res.jsonp(obj, status): Use res.status(status).json(obj) instead\"),this.statusCode=arguments[1]):(deprecate(\"res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead\"),this.statusCode=arguments[0],t=arguments[1]));var s=this.app,r=stringify(t,s.get(\"json replacer\"),s.get(\"json spaces\")),n=this.req.query[s.get(\"jsonp callback name\")];return this.get(\"Content-Type\")||(this.set(\"X-Content-Type-Options\",\"nosniff\"),this.set(\"Content-Type\",\"application/json\")),Array.isArray(n)&&(n=n[0]),\"string\"==typeof n&&0!==n.length&&(this.charset=\"utf-8\",this.set(\"X-Content-Type-Options\",\"nosniff\"),this.set(\"Content-Type\",\"text/javascript\"),r=\"/**/ typeof \"+(n=n.replace(/[^\\[\\]\\w$.]/g,\"\"))+\" === 'function' && \"+n+\"(\"+(r=r.replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\"))+\");\"),this.send(r)},res.sendStatus=function(e){var t=statuses[e]||String(e);return this.statusCode=e,this.type(\"txt\"),this.send(t)},res.sendFile=function(e,t,s){var r=s,n=this.req,i=n.next,o=t||{};if(!e)throw new TypeError(\"path argument is required to res.sendFile\");if(\"function\"==typeof t&&(r=t,o={}),!o.root&&!isAbsolute(e))throw new TypeError(\"path must be absolute or specify root to res.sendFile\");var a=encodeURI(e);sendfile(this,send(n,a,o),o,function(e){return r?r(e):e&&\"EISDIR\"===e.code?i():void(e&&\"ECONNABORTED\"!==e.code&&\"write\"!==e.syscall&&i(e))})},res.sendfile=function(e,t,s){var r=s,n=this.req,i=n.next,o=t||{};\"function\"==typeof t&&(r=t,o={});sendfile(this,send(n,e,o),o,function(e){return r?r(e):e&&\"EISDIR\"===e.code?i():void(e&&\"ECONNABORT\"!==e.code&&\"write\"!==e.syscall&&i(e))})},res.sendfile=deprecate.function(res.sendfile,\"res.sendfile: Use res.sendFile instead\"),res.download=function(e,t,s){var r=s,n=t;\"function\"==typeof t&&(r=t,n=null);var i={\"Content-Disposition\":contentDisposition(n||e)},o=resolve(e);return this.sendFile(o,{headers:i},r)},res.contentType=res.type=function(e){var t=-1===e.indexOf(\"/\")?mime.lookup(e):e;return this.set(\"Content-Type\",t)},res.format=function(e){var t=this.req,s=t.next,r=e.default;r&&delete e.default;var n=Object.keys(e),i=n.length>0&&t.accepts(n);if(this.vary(\"Accept\"),i)this.set(\"Content-Type\",normalizeType(i).value),e[i](t,this,s);else if(r)r();else{var o=new Error(\"Not Acceptable\");o.status=o.statusCode=406,o.types=normalizeTypes(n).map(function(e){return e.value}),s(o)}return this},res.attachment=function(e){return e&&this.type(extname(e)),this.set(\"Content-Disposition\",contentDisposition(e)),this},res.append=function(e,t){var s=this.get(e),r=t;return s&&(r=Array.isArray(s)?s.concat(t):Array.isArray(t)?[s].concat(t):[s,t]),this.set(e,r)},res.set=res.header=function(e,t){if(2===arguments.length){var s=Array.isArray(t)?t.map(String):String(t);if(\"content-type\"===e.toLowerCase()){if(Array.isArray(s))throw new TypeError(\"Content-Type cannot be set to an Array\");if(!charsetRegExp.test(s)){var r=mime.charsets.lookup(s.split(\";\")[0]);r&&(s+=\"; charset=\"+r.toLowerCase())}}this.setHeader(e,s)}else for(var n in e)this.set(n,e[n]);return this},res.get=function(e){return this.getHeader(e)},res.clearCookie=function(e,t){var s=merge({expires:new Date(1),path:\"/\"},t);return this.cookie(e,\"\",s)},res.cookie=function(e,t,s){var r=merge({},s),n=this.req.secret,i=r.signed;if(i&&!n)throw new Error('cookieParser(\"secret\") required for signed cookies');var o=\"object\"==typeof t?\"j:\"+JSON.stringify(t):String(t);return i&&(o=\"s:\"+sign(o,n)),\"maxAge\"in r&&(r.expires=new Date(Date.now()+r.maxAge),r.maxAge/=1e3),null==r.path&&(r.path=\"/\"),this.append(\"Set-Cookie\",cookie.serialize(e,String(o),r)),this},res.location=function(e){var t=e;return\"back\"===e&&(t=this.req.get(\"Referrer\")||\"/\"),this.set(\"Location\",encodeUrl(t))},res.redirect=function(e){var t,s=e,r=302;2===arguments.length&&(\"number\"==typeof arguments[0]?(r=arguments[0],s=arguments[1]):(deprecate(\"res.redirect(url, status): Use res.redirect(status, url) instead\"),r=arguments[1])),s=this.location(s).get(\"Location\"),this.format({text:function(){t=statuses[r]+\". Redirecting to \"+s},html:function(){var e=escapeHtml(s);t=\"<p>\"+statuses[r]+'. Redirecting to <a href=\"'+e+'\">'+e+\"</a></p>\"},default:function(){t=\"\"}}),this.statusCode=r,this.set(\"Content-Length\",Buffer.byteLength(t)),\"HEAD\"===this.req.method?this.end():this.end(t)},res.vary=function(e){return!e||Array.isArray(e)&&!e.length?(deprecate(\"res.vary(): Provide a field name\"),this):(vary(this,e),this)},res.render=function(e,t,s){var r=this.req.app,n=s,i=t||{},o=this.req,a=this;\"function\"==typeof t&&(n=t,i={}),i._locals=a.locals,n=n||function(e,t){if(e)return o.next(e);a.send(t)},r.render(e,i,n)};function sendfile(e,t,s,r){var n,i=!1;function o(){if(!i){i=!0;var e=new Error(\"Request aborted\");e.code=\"ECONNABORTED\",r(e)}}function a(e){i||(i=!0,r(e))}t.on(\"directory\",function(){if(!i){i=!0;var e=new Error(\"EISDIR, read\");e.code=\"EISDIR\",r(e)}}),t.on(\"end\",function(){i||(i=!0,r())}),t.on(\"error\",a),t.on(\"file\",function(){n=!1}),t.on(\"stream\",function(){n=!0}),onFinished(e,function(e){return e&&\"ECONNRESET\"===e.code?o():e?a(e):void(i||setImmediate(function(){!1===n||i?i||(i=!0,r()):o()}))}),s.headers&&t.on(\"headers\",function(e){for(var t=s.headers,r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setHeader(i,t[i])}}),t.pipe(e)}function stringify(e,t,s){return t||s?JSON.stringify(e,t,s):JSON.stringify(e)}","node_modules/express/lib/middleware/query.js":"\"use strict\";var merge=require(\"utils-merge\"),parseUrl=require(\"parseurl\"),qs=require(\"qs\");module.exports=function(r){var e=merge({},r),o=qs.parse;return\"function\"==typeof r&&(o=r,e=void 0),void 0!==e&&void 0===e.allowPrototypes&&(e.allowPrototypes=!0),function(r,u,s){if(!r.query){var t=parseUrl(r).query;r.query=o(t,e)}s()}};","node_modules/serve-static/index.js":"\"use strict\";var encodeUrl=require(\"encodeurl\"),escapeHtml=require(\"escape-html\"),parseUrl=require(\"parseurl\"),resolve=require(\"path\").resolve,send=require(\"send\"),url=require(\"url\");module.exports=serveStatic,module.exports.mime=send.mime;function serveStatic(e,r){if(!e)throw new TypeError(\"root path required\");if(\"string\"!=typeof e)throw new TypeError(\"root path must be a string\");var t=Object.create(r||null),n=!1!==t.fallthrough,o=!1!==t.redirect,a=t.setHeaders;if(a&&\"function\"!=typeof a)throw new TypeError(\"option setHeaders must be function\");t.maxage=t.maxage||t.maxAge||0,t.root=resolve(e);var s=o?createRedirectDirectoryListener():createNotFoundDirectoryListener();return function(e,r,o){if(\"GET\"!==e.method&&\"HEAD\"!==e.method)return n?o():(r.statusCode=405,r.setHeader(\"Allow\",\"GET, HEAD\"),r.setHeader(\"Content-Length\",\"0\"),void r.end());var i=!n,l=parseUrl.original(e),c=parseUrl(e).pathname;\"/\"===c&&\"/\"!==l.pathname.substr(-1)&&(c=\"\");var u=send(e,c,t);u.on(\"directory\",s),a&&u.on(\"headers\",a),n&&u.on(\"file\",function(){i=!0}),u.on(\"error\",function(e){!i&&e.statusCode<500?o():o(e)}),u.pipe(r)}}function collapseLeadingSlashes(e){for(var r=0;r<e.length&&47===e.charCodeAt(r);r++);return r>1?\"/\"+e.substr(r):e}function createHtmlDocument(e,r){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>'+e+\"</title>\\n</head>\\n<body>\\n<pre>\"+r+\"</pre>\\n</body>\\n\"}function createNotFoundDirectoryListener(){return function(){this.error(404)}}function createRedirectDirectoryListener(){return function(e){if(this.hasTrailingSlash())this.error(404);else{var r=parseUrl.original(this.req);r.path=null,r.pathname=collapseLeadingSlashes(r.pathname+\"/\");var t=encodeUrl(url.format(r)),n=createHtmlDocument(\"Redirecting\",'Redirecting to <a href=\"'+escapeHtml(t)+'\">'+escapeHtml(t)+\"</a>\");e.statusCode=301,e.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),e.setHeader(\"Content-Length\",Buffer.byteLength(n)),e.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),e.setHeader(\"X-Content-Type-Options\",\"nosniff\"),e.setHeader(\"Location\",t),e.end(n)}}}","node_modules/finalhandler/index.js":"\"use strict\";var debug=require(\"debug\")(\"finalhandler\"),encodeUrl=require(\"encodeurl\"),escapeHtml=require(\"escape-html\"),onFinished=require(\"on-finished\"),parseUrl=require(\"parseurl\"),statuses=require(\"statuses\"),unpipe=require(\"unpipe\"),DOUBLE_SPACE_REGEXP=/\\x20{2}/g,NEWLINE_REGEXP=/\\n/g,defer=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))},isFinished=onFinished.isFinished;function createHtmlDocument(e){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>Error</title>\\n</head>\\n<body>\\n<pre>'+escapeHtml(e).replace(NEWLINE_REGEXP,\"<br>\").replace(DOUBLE_SPACE_REGEXP,\" &nbsp;\")+\"</pre>\\n</body>\\n</html>\\n\"}module.exports=finalhandler;function finalhandler(e,t,r){var n=r||{},s=n.env||process.env.NODE_ENV||\"development\",a=n.onerror;return function(r){var n,o,u;if(r||!t._header){if(r?(void 0!==(u=getErrorStatusCode(r))&&(n=getErrorHeaders(r)),void 0===u&&(u=getResponseStatusCode(t)),o=getErrorMessage(r,u,s)):(u=404,o=\"Cannot \"+e.method+\" \"+encodeUrl(parseUrl.original(e).pathname)),debug(\"default %s\",u),r&&a&&defer(a,r,e,t),t._header)return debug(\"cannot %d after headers sent\",u),void e.socket.destroy();send(e,t,u,n,o)}else debug(\"cannot 404 after headers sent\")}}function getErrorHeaders(e){if(e.headers&&\"object\"==typeof e.headers){for(var t=Object.create(null),r=Object.keys(e.headers),n=0;n<r.length;n++){var s=r[n];t[s]=e.headers[s]}return t}}function getErrorMessage(e,t,r){var n;return\"production\"!==r&&((n=e.stack)||\"function\"!=typeof e.toString||(n=e.toString())),n||statuses[t]}function getErrorStatusCode(e){return\"number\"==typeof e.status&&e.status>=400&&e.status<600?e.status:\"number\"==typeof e.statusCode&&e.statusCode>=400&&e.statusCode<600?e.statusCode:void 0}function getResponseStatusCode(e){var t=e.statusCode;return(\"number\"!=typeof t||t<400||t>599)&&(t=500),t}function send(e,t,r,n,s){function a(){var a=createHtmlDocument(s);t.statusCode=r,t.statusMessage=statuses[r],setHeaders(t,n),t.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),t.setHeader(\"X-Content-Type-Options\",\"nosniff\"),t.setHeader(\"Content-Type\",\"text/html; charset=utf-8\"),t.setHeader(\"Content-Length\",Buffer.byteLength(a,\"utf8\")),\"HEAD\"!==e.method?t.end(a,\"utf8\"):t.end()}isFinished(e)?a():(unpipe(e),onFinished(e,a),e.resume())}function setHeaders(e,t){if(t)for(var r=Object.keys(t),n=0;n<r.length;n++){var s=r[n];e.setHeader(s,t[s])}}","node_modules/express/lib/middleware/init.js":"\"use strict\";var setPrototypeOf=require(\"setprototypeof\");exports.init=function(e){return function(t,r,o){e.enabled(\"x-powered-by\")&&r.setHeader(\"X-Powered-By\",\"Express\"),t.res=r,r.req=t,t.next=o,setPrototypeOf(t,e.request),setPrototypeOf(r,e.response),r.locals=r.locals||Object.create(null),o()}};","node_modules/express/lib/utils.js":"\"use strict\";var contentDisposition=require(\"content-disposition\"),contentType=require(\"content-type\"),deprecate=require(\"depd\")(\"express\"),flatten=require(\"array-flatten\"),mime=require(\"send\").mime,etag=require(\"etag\"),proxyaddr=require(\"proxy-addr\"),qs=require(\"qs\"),querystring=require(\"querystring\");exports.etag=function(e,r){var t=Buffer.isBuffer(e)?e:new Buffer(e,r);return etag(t,{weak:!1})},exports.wetag=function(e,r){var t=Buffer.isBuffer(e)?e:new Buffer(e,r);return etag(t,{weak:!0})},exports.isAbsolute=function(e){return\"/\"===e[0]||(\":\"===e[1]&&(\"\\\\\"===e[2]||\"/\"===e[2])||(\"\\\\\\\\\"===e.substring(0,2)||void 0))},exports.flatten=deprecate.function(flatten,\"utils.flatten: use array-flatten npm module instead\"),exports.normalizeType=function(e){return~e.indexOf(\"/\")?acceptParams(e):{value:mime.lookup(e),params:{}}},exports.normalizeTypes=function(e){for(var r=[],t=0;t<e.length;++t)r.push(exports.normalizeType(e[t]));return r},exports.contentDisposition=deprecate.function(contentDisposition,\"utils.contentDisposition: use content-disposition npm module instead\");function acceptParams(e,r){for(var t=e.split(/ *; */),n={value:t[0],quality:1,params:{},originalIndex:r},a=1;a<t.length;++a){var o=t[a].split(/ *= */);\"q\"===o[0]?n.quality=parseFloat(o[1]):n.params[o[0]]=o[1]}return n}exports.compileETag=function(e){var r;if(\"function\"==typeof e)return e;switch(e){case!0:r=exports.wetag;break;case!1:break;case\"strong\":r=exports.etag;break;case\"weak\":r=exports.wetag;break;default:throw new TypeError(\"unknown value for etag function: \"+e)}return r},exports.compileQueryParser=function(e){var r;if(\"function\"==typeof e)return e;switch(e){case!0:r=querystring.parse;break;case!1:r=newObject;break;case\"extended\":r=parseExtendedQueryString;break;case\"simple\":r=querystring.parse;break;default:throw new TypeError(\"unknown value for query parser function: \"+e)}return r},exports.compileTrust=function(e){return\"function\"==typeof e?e:!0===e?function(){return!0}:\"number\"==typeof e?function(r,t){return t<e}:(\"string\"==typeof e&&(e=e.split(/ *, */)),proxyaddr.compile(e||[]))},exports.setCharset=function(e,r){if(!e||!r)return e;var t=contentType.parse(e);return t.parameters.charset=r,contentType.format(t)};function parseExtendedQueryString(e){return qs.parse(e,{allowPrototypes:!0})}function newObject(){return{}}","node_modules/depd/index.js":"var callSiteToString=require(\"./lib/compat\").callSiteToString,eventListenerCount=require(\"./lib/compat\").eventListenerCount,relative=require(\"path\").relative;module.exports=depd;var basePath=process.cwd();function containsNamespace(e,r){var t=e.split(/[ ,]+/);r=String(r).toLowerCase();for(var a=0;a<t.length;a++)if((e=t[a])&&(\"*\"===e||e.toLowerCase()===r))return!0;return!1}function convertDataDescriptorToAccessor(e,r,t){var a=Object.getOwnPropertyDescriptor(e,r),n=a.value;return a.get=function(){return n},a.writable&&(a.set=function(e){return n=e}),delete a.value,delete a.writable,Object.defineProperty(e,r,a),a}function createArgumentsString(e){for(var r=\"\",t=0;t<e;t++)r+=\", arg\"+t;return r.substr(2)}function createStackString(e){var r=this.name+\": \"+this.namespace;this.message&&(r+=\" deprecated \"+this.message);for(var t=0;t<e.length;t++)r+=\"\\n    at \"+callSiteToString(e[t]);return r}function depd(e){if(!e)throw new TypeError(\"argument namespace is required\");var r=callSiteLocation(getStack()[1])[0];function t(e){log.call(t,e)}return t._file=r,t._ignored=isignored(e),t._namespace=e,t._traced=istraced(e),t._warned=Object.create(null),t.function=wrapfunction,t.property=wrapproperty,t}function isignored(e){if(process.noDeprecation)return!0;return containsNamespace(process.env.NO_DEPRECATION||\"\",e)}function istraced(e){if(process.traceDeprecation)return!0;return containsNamespace(process.env.TRACE_DEPRECATION||\"\",e)}function log(e,r){var t=0!==eventListenerCount(process,\"deprecation\");if(t||!this._ignored){var a,n,i,o=0,c=!1,s=getStack(),u=this._file;for(r?((i=callSiteLocation(s[1])).name=r.name,u=i[0]):i=r=callSiteLocation(s[o=2]);o<s.length;o++)if(a=callSiteLocation(s[o]),(n=a[0])===u)c=!0;else if(n===this._file)u=this._file;else if(c)break;var l=a?r.join(\":\")+\"__\"+a.join(\":\"):void 0;if(!(void 0!==l&&l in this._warned))if(this._warned[l]=!0,e||(e=i!==r&&i.name?defaultMessage(i):defaultMessage(r)),t){var f=DeprecationError(this._namespace,e,s.slice(o));process.emit(\"deprecation\",f)}else{var p=(process.stderr.isTTY?formatColor:formatPlain).call(this,e,a,s.slice(o));process.stderr.write(p+\"\\n\",\"utf8\")}}}function callSiteLocation(e){var r=e.getFileName()||\"<anonymous>\",t=e.getLineNumber(),a=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+\", \"+r);var n=[r,t,a];return n.callSite=e,n.name=e.getFunctionName(),n}function defaultMessage(e){var r=e.callSite,t=e.name;t||(t=\"<anonymous@\"+formatLocation(e)+\">\");var a=r.getThis(),n=a&&r.getTypeName();return\"Object\"===n&&(n=void 0),\"Function\"===n&&(n=a.name||n),n&&r.getMethodName()?n+\".\"+t:t}function formatPlain(e,r,t){var a=(new Date).toUTCString()+\" \"+this._namespace+\" deprecated \"+e;if(this._traced){for(var n=0;n<t.length;n++)a+=\"\\n    at \"+callSiteToString(t[n]);return a}return r&&(a+=\" at \"+formatLocation(r)),a}function formatColor(e,r,t){var a=\"\u001b[36;1m\"+this._namespace+\"\u001b[22;39m \u001b[33;1mdeprecated\u001b[22;39m \u001b[0m\"+e+\"\u001b[39m\";if(this._traced){for(var n=0;n<t.length;n++)a+=\"\\n    \u001b[36mat \"+callSiteToString(t[n])+\"\u001b[39m\";return a}return r&&(a+=\" \u001b[36m\"+formatLocation(r)+\"\u001b[39m\"),a}function formatLocation(e){return relative(basePath,e[0])+\":\"+e[1]+\":\"+e[2]}function getStack(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var a=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,a}function prepareObjectStackTrace(e,r){return r}function wrapfunction(fn,message){if(\"function\"!=typeof fn)throw new TypeError(\"argument fn must be a function\");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval(\"(function (\"+args+') {\\n\"use strict\"\\nlog.call(deprecate, message, site)\\nreturn fn.apply(this, arguments)\\n})');return deprecatedfn}function wrapproperty(e,r,t){if(!e||\"object\"!=typeof e&&\"function\"!=typeof e)throw new TypeError(\"argument obj must be object\");var a=Object.getOwnPropertyDescriptor(e,r);if(!a)throw new TypeError(\"must call property on owner object\");if(!a.configurable)throw new TypeError(\"property must be configurable\");var n=this,i=callSiteLocation(getStack()[1]);i.name=r,\"value\"in a&&(a=convertDataDescriptorToAccessor(e,r,t));var o=a.get,c=a.set;\"function\"==typeof o&&(a.get=function(){return log.call(n,t,i),o.apply(this,arguments)}),\"function\"==typeof c&&(a.set=function(){return log.call(n,t,i),c.apply(this,arguments)}),Object.defineProperty(e,r,a)}function DeprecationError(e,r,t){var a,n=new Error;return Object.defineProperty(n,\"constructor\",{value:DeprecationError}),Object.defineProperty(n,\"message\",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(n,\"name\",{enumerable:!1,configurable:!0,value:\"DeprecationError\",writable:!0}),Object.defineProperty(n,\"namespace\",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,\"stack\",{configurable:!0,enumerable:!1,get:function(){return void 0!==a?a:a=createStackString.call(this,t)},set:function(e){a=e}}),n}","node_modules/array-flatten/array-flatten.js":"\"use strict\";module.exports=arrayFlatten;function flattenWithDepth(t,r,e){for(var a=0;a<t.length;a++){var n=t[a];e>0&&Array.isArray(n)?flattenWithDepth(n,r,e-1):r.push(n)}return r}function flattenForever(t,r){for(var e=0;e<t.length;e++){var a=t[e];Array.isArray(a)?flattenForever(a,r):r.push(a)}return r}function arrayFlatten(t,r){return null==r?flattenForever(t,[]):flattenWithDepth(t,[],r)}","node_modules/utils-merge/index.js":"exports=module.exports=function(r,o){if(r&&o)for(var e in o)r[e]=o[e];return r};","node_modules/setprototypeof/index.js":"module.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(r,o){return r.__proto__=o,r}function mixinProperties(r,o){for(var t in o)r.hasOwnProperty(t)||(r[t]=o[t]);return r}","node_modules/encodeurl/index.js":"\"use strict\";module.exports=encodeUrl;var ENCODE_CHARS_REGEXP=/(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]))+/g,UNMATCHED_SURROGATE_PAIR_REGEXP=/(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g,UNMATCHED_SURROGATE_PAIR_REPLACE=\"$1�$2\";function encodeUrl(E){return String(E).replace(UNMATCHED_SURROGATE_PAIR_REGEXP,UNMATCHED_SURROGATE_PAIR_REPLACE).replace(ENCODE_CHARS_REGEXP,encodeURI)}","node_modules/escape-html/index.js":"\"use strict\";var matchHtmlRegExp=/[\"'&<>]/;module.exports=escapeHtml;function escapeHtml(e){var t=\"\"+e,a=matchHtmlRegExp.exec(t);if(!a)return t;var r,c=\"\",s=0,n=0;for(s=a.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r=\"&quot;\";break;case 38:r=\"&amp;\";break;case 39:r=\"&#39;\";break;case 60:r=\"&lt;\";break;case 62:r=\"&gt;\";break;default:continue}n!==s&&(c+=t.substring(n,s)),n=s+1,c+=r}return n!==s?c+t.substring(n,s):c}","node_modules/on-finished/index.js":"\"use strict\";module.exports=onFinished,module.exports.isFinished=isFinished;var first=require(\"ee-first\"),defer=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function onFinished(e,n){return!1!==isFinished(e)?(defer(n,null,e),e):(attachListener(e,n),e)}function isFinished(e){var n=e.socket;return\"boolean\"==typeof e.finished?Boolean(e.finished||n&&!n.writable):\"boolean\"==typeof e.complete?Boolean(e.upgrade||!n||!n.readable||e.complete&&!e.readable):void 0}function attachFinishedListener(e,n){var i,t,o=!1;function s(e){i.cancel(),t.cancel(),o=!0,n(e)}i=t=first([[e,\"end\",\"finish\"]],s);function r(n){e.removeListener(\"socket\",r),o||i===t&&(t=first([[n,\"error\",\"close\"]],s))}e.socket?r(e.socket):(e.on(\"socket\",r),void 0===e.socket&&patchAssignSocket(e,r))}function attachListener(e,n){var i=e.__onFinished;i&&i.queue||(i=e.__onFinished=createListener(e),attachFinishedListener(e,i)),i.queue.push(n)}function createListener(e){function n(i){if(e.__onFinished===n&&(e.__onFinished=null),n.queue){var t=n.queue;n.queue=null;for(var o=0;o<t.length;o++)t[o](i,e)}}return n.queue=[],n}function patchAssignSocket(e,n){var i=e.assignSocket;\"function\"==typeof i&&(e.assignSocket=function(e){i.call(this,e),n(e)})}","node_modules/parseurl/index.js":"\"use strict\";var url=require(\"url\"),parse=url.parse,Url=url.Url;module.exports=parseurl,module.exports.original=originalurl;function parseurl(r){var e=r.url;if(void 0!==e){var a=r._parsedUrl;return fresh(e,a)?a:(a=fastparse(e),a._raw=e,r._parsedUrl=a)}}function originalurl(r){var e=r.originalUrl;if(\"string\"!=typeof e)return parseurl(r);var a=r._parsedOriginalUrl;return fresh(e,a)?a:(a=fastparse(e),a._raw=e,r._parsedOriginalUrl=a)}function fastparse(r){if(\"string\"!=typeof r||47!==r.charCodeAt(0))return parse(r);for(var e=r,a=null,s=null,l=1;l<r.length;l++)switch(r.charCodeAt(l)){case 63:null===s&&(e=r.substring(0,l),a=r.substring(l+1),s=r.substring(l));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return parse(r)}var n=void 0!==Url?new Url:{};return n.path=r,n.href=r,n.pathname=e,n.query=a,n.search=s,n}function fresh(r,e){return\"object\"==typeof e&&null!==e&&(void 0===Url||e instanceof Url)&&e._raw===r}","node_modules/statuses/index.js":"\"use strict\";var codes=require(\"./codes.json\");module.exports=status,status.STATUS_CODES=codes,status.codes=populateStatusesMap(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0};function populateStatusesMap(t,s){var r=[];return Object.keys(s).forEach(function(e){var a=s[e],u=Number(e);t[u]=a,t[a]=u,t[a.toLowerCase()]=u,r.push(u)}),r}function status(t){if(\"number\"==typeof t){if(!status[t])throw new Error(\"invalid status code: \"+t);return t}if(\"string\"!=typeof t)throw new TypeError(\"code must be a number or string\");var s=parseInt(t,10);if(!isNaN(s)){if(!status[s])throw new Error(\"invalid status code: \"+s);return s}if(!(s=status[t.toLowerCase()]))throw new Error('invalid status message: \"'+t+'\"');return s}","node_modules/unpipe/index.js":"\"use strict\";module.exports=unpipe;function hasPipeDataListeners(e){for(var n=e.listeners(\"data\"),r=0;r<n.length;r++)if(\"ondata\"===n[r].name)return!0;return!1}function unpipe(e){if(!e)throw new TypeError(\"argument stream is required\");if(\"function\"!=typeof e.unpipe){if(hasPipeDataListeners(e))for(var n,r=e.listeners(\"close\"),t=0;t<r.length;t++)\"cleanup\"!==(n=r[t]).name&&\"onclose\"!==n.name||n.call(e)}else e.unpipe()}","node_modules/ee-first/index.js":"\"use strict\";module.exports=first;function first(r,e){if(!Array.isArray(r))throw new TypeError(\"arg must be an array of [ee, events...] arrays\");for(var n=[],t=0;t<r.length;t++){var a=r[t];if(!Array.isArray(a)||a.length<2)throw new TypeError(\"each array member must be [ee, events...]\");for(var o=a[0],f=1;f<a.length;f++){var i=a[f],s=listener(i,l);o.on(i,s),n.push({ee:o,event:i,fn:s})}}function l(){u(),e.apply(null,arguments)}function u(){for(var r,e=0;e<n.length;e++)(r=n[e]).ee.removeListener(r.event,r.fn)}function h(r){e=r}return h.cancel=u,h}function listener(r,e){return function(n){for(var t=new Array(arguments.length),a=\"error\"===r?n:null,o=0;o<t.length;o++)t[o]=arguments[o];e(a,this,r,t)}}","node_modules/statuses/codes.json":{"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"node_modules/express/lib/router/layer.js":"\"use strict\";var pathRegexp=require(\"path-to-regexp\"),debug=require(\"debug\")(\"express:router:layer\"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=Layer;function Layer(e,t,r){if(!(this instanceof Layer))return new Layer(e,t,r);debug(\"new %o\",e);var a=t||{};this.handle=r,this.name=r.name||\"<anonymous>\",this.params=void 0,this.path=void 0,this.regexp=pathRegexp(e,this.keys=[],a),this.regexp.fast_star=\"*\"===e,this.regexp.fast_slash=\"/\"===e&&!1===a.end}Layer.prototype.handle_error=function(e,t,r,a){var s=this.handle;if(4!==s.length)return a(e);try{s(e,t,r,a)}catch(e){a(e)}},Layer.prototype.handle_request=function(e,t,r){var a=this.handle;if(a.length>3)return r();try{a(e,t,r)}catch(e){r(e)}},Layer.prototype.match=function(e){var t;if(null!=e){if(this.regexp.fast_slash)return this.params={},this.path=\"\",!0;if(this.regexp.fast_star)return this.params={0:decode_param(e)},this.path=e,!0;t=this.regexp.exec(e)}if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var r=this.keys,a=this.params,s=1;s<t.length;s++){var h=r[s-1].name,i=decode_param(t[s]);void 0===i&&hasOwnProperty.call(a,h)||(a[h]=i)}return!0};function decode_param(e){if(\"string\"!=typeof e||0===e.length)return e;try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError&&(t.message=\"Failed to decode param '\"+e+\"'\",t.status=t.statusCode=400),t}}","node_modules/path-to-regexp/index.js":"module.exports=pathtoRegexp;var MATCHING_GROUP_REGEXP=/\\((?!\\?)/g;function pathtoRegexp(e,n,t){t=t||{},n=n||[];var r,o=t.strict,a=!1!==t.end,f=t.sensitive?\"\":\"i\",i=0,p=n.length,g=0,s=0;if(e instanceof RegExp){for(;r=MATCHING_GROUP_REGEXP.exec(e.source);)n.push({name:s++,optional:!1,offset:r.index});return e}if(Array.isArray(e))return e=e.map(function(e){return pathtoRegexp(e,n,t).source}),new RegExp(\"(?:\"+e.join(\"|\")+\")\",f);for(e=(\"^\"+e+(o?\"\":\"/\"===e[e.length-1]?\"?\":\"/?\")).replace(/\\/\\(/g,\"/(?:\").replace(/([\\/\\.])/g,\"\\\\$1\").replace(/(\\\\\\/)?(\\\\\\.)?:(\\w+)(\\(.*?\\))?(\\*)?(\\?)?/g,function(e,t,r,o,a,f,p,g){t=t||\"\",r=r||\"\",a=a||\"([^\\\\/\"+r+\"]+?)\",p=p||\"\",n.push({name:o,optional:!!p,offset:g+i});var s=(p?\"\":t)+\"(?:\"+r+(p?t:\"\")+a+(f?\"((?:[\\\\/\"+r+\"].+?)?)\":\"\")+\")\"+p;return i+=s.length-e.length,s}).replace(/\\*/g,function(e,t){for(var r=n.length;r-- >p&&n[r].offset>t;)n[r].offset+=3;return\"(.*)\"});r=MATCHING_GROUP_REGEXP.exec(e);){for(var c=0,l=r.index;\"\\\\\"===e.charAt(--l);)c++;c%2!=1&&((p+g===n.length||n[p+g].offset>r.index)&&n.splice(p+g,0,{name:s++,optional:!1,offset:r.index}),g++)}return e+=a?\"$\":\"/\"===e[e.length-1]?\"\":\"(?=\\\\/|$)\",new RegExp(e,f)}","node_modules/depd/lib/compat/index.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter;lazyProperty(module.exports,\"callSiteToString\",function(){var r=Error.stackTraceLimit,e={},t=Error.prepareStackTrace;Error.prepareStackTrace=function(r,e){return e},Error.stackTraceLimit=2,Error.captureStackTrace(e);var n=e.stack.slice();return Error.prepareStackTrace=t,Error.stackTraceLimit=r,n[0].toString?toString:require(\"./callsite-tostring\")}),lazyProperty(module.exports,\"eventListenerCount\",function(){return EventEmitter.listenerCount||require(\"./event-listener-count\")});function lazyProperty(r,e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=t();return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}function toString(r){return r.toString()}","node_modules/qs/lib/index.js":"\"use strict\";var stringify=require(\"./stringify\"),parse=require(\"./parse\"),formats=require(\"./formats\");module.exports={formats:formats,parse:parse,stringify:stringify};","node_modules/qs/lib/stringify.js":"\"use strict\";var utils=require(\"./utils\"),formats=require(\"./formats\"),arrayPrefixGenerators={brackets:function(e){return e+\"[]\"},indices:function(e,r){return e+\"[\"+r+\"]\"},repeat:function(e){return e}},toISO=Date.prototype.toISOString,defaults={delimiter:\"&\",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},stringify=function e(r,t,n,o,i,a,l,s,f,u,c,d){var y=r;if(\"function\"==typeof l)y=l(t,y);else if(y instanceof Date)y=u(y);else if(null===y){if(o)return a&&!d?a(t,defaults.encoder):t;y=\"\"}if(\"string\"==typeof y||\"number\"==typeof y||\"boolean\"==typeof y||utils.isBuffer(y)){if(a){return[c(d?t:a(t,defaults.encoder))+\"=\"+c(a(y,defaults.encoder))]}return[c(t)+\"=\"+c(String(y))]}var p=[];if(void 0===y)return p;var v;if(Array.isArray(l))v=l;else{var m=Object.keys(y);v=s?m.sort(s):m}for(var g=0;g<v.length;++g){var b=v[g];i&&null===y[b]||(p=Array.isArray(y)?p.concat(e(y[b],n(t,b),n,o,i,a,l,s,f,u,c,d)):p.concat(e(y[b],t+(f?\".\"+b:\"[\"+b+\"]\"),n,o,i,a,l,s,f,u,c,d)))}return p};module.exports=function(e,r){var t=e,n=r?utils.assign({},r):{};if(null!==n.encoder&&void 0!==n.encoder&&\"function\"!=typeof n.encoder)throw new TypeError(\"Encoder has to be a function.\");var o=void 0===n.delimiter?defaults.delimiter:n.delimiter,i=\"boolean\"==typeof n.strictNullHandling?n.strictNullHandling:defaults.strictNullHandling,a=\"boolean\"==typeof n.skipNulls?n.skipNulls:defaults.skipNulls,l=\"boolean\"==typeof n.encode?n.encode:defaults.encode,s=\"function\"==typeof n.encoder?n.encoder:defaults.encoder,f=\"function\"==typeof n.sort?n.sort:null,u=void 0!==n.allowDots&&n.allowDots,c=\"function\"==typeof n.serializeDate?n.serializeDate:defaults.serializeDate,d=\"boolean\"==typeof n.encodeValuesOnly?n.encodeValuesOnly:defaults.encodeValuesOnly;if(void 0===n.format)n.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,n.format))throw new TypeError(\"Unknown format option provided.\");var y,p,v=formats.formatters[n.format];\"function\"==typeof n.filter?t=(p=n.filter)(\"\",t):Array.isArray(n.filter)&&(y=p=n.filter);var m=[];if(\"object\"!=typeof t||null===t)return\"\";var g;g=n.arrayFormat in arrayPrefixGenerators?n.arrayFormat:\"indices\"in n?n.indices?\"indices\":\"repeat\":\"indices\";var b=arrayPrefixGenerators[g];y||(y=Object.keys(t)),f&&y.sort(f);for(var O=0;O<y.length;++O){var k=y[O];a&&null===t[k]||(m=m.concat(stringify(t[k],k,b,i,a,l?s:null,p,f,u,c,v,d)))}var w=m.join(o),D=!0===n.addQueryPrefix?\"?\":\"\";return w.length>0?D+w:\"\"};","node_modules/qs/lib/parse.js":"\"use strict\";var utils=require(\"./utils\"),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:\"&\",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseValues=function(e,t){for(var r={},l=t.ignoreQueryPrefix?e.replace(/^\\?/,\"\"):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,i=l.split(t.delimiter,a),o=0;o<i.length;++o){var s,n,c=i[o],d=c.indexOf(\"]=\"),p=-1===d?c.indexOf(\"=\"):d+1;-1===p?(s=t.decoder(c,defaults.decoder),n=t.strictNullHandling?null:\"\"):(s=t.decoder(c.slice(0,p),defaults.decoder),n=t.decoder(c.slice(p+1),defaults.decoder)),has.call(r,s)?r[s]=[].concat(r[s]).concat(n):r[s]=n}return r},parseObject=function(e,t,r){for(var l=t,a=e.length-1;a>=0;--a){var i,o=e[a];if(\"[]\"===o)i=(i=[]).concat(l);else{i=r.plainObjects?Object.create(null):{};var s=\"[\"===o.charAt(0)&&\"]\"===o.charAt(o.length-1)?o.slice(1,-1):o,n=parseInt(s,10);!isNaN(n)&&o!==s&&String(n)===s&&n>=0&&r.parseArrays&&n<=r.arrayLimit?(i=[])[n]=l:i[s]=l}l=i}return l},parseKeys=function(e,t,r){if(e){var l=r.allowDots?e.replace(/\\.([^.[]+)/g,\"[$1]\"):e,a=/(\\[[^[\\]]*])/g,i=/(\\[[^[\\]]*])/.exec(l),o=i?l.slice(0,i.index):l,s=[];if(o){if(!r.plainObjects&&has.call(Object.prototype,o)&&!r.allowPrototypes)return;s.push(o)}for(var n=0;null!==(i=a.exec(l))&&n<r.depth;){if(n+=1,!r.plainObjects&&has.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(i[1])}return i&&s.push(\"[\"+l.slice(i.index)+\"]\"),parseObject(s,t,r)}};module.exports=function(e,t){var r=t?utils.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&\"function\"!=typeof r.decoder)throw new TypeError(\"Decoder has to be a function.\");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter=\"string\"==typeof r.delimiter||utils.isRegExp(r.delimiter)?r.delimiter:defaults.delimiter,r.depth=\"number\"==typeof r.depth?r.depth:defaults.depth,r.arrayLimit=\"number\"==typeof r.arrayLimit?r.arrayLimit:defaults.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder=\"function\"==typeof r.decoder?r.decoder:defaults.decoder,r.allowDots=\"boolean\"==typeof r.allowDots?r.allowDots:defaults.allowDots,r.plainObjects=\"boolean\"==typeof r.plainObjects?r.plainObjects:defaults.plainObjects,r.allowPrototypes=\"boolean\"==typeof r.allowPrototypes?r.allowPrototypes:defaults.allowPrototypes,r.parameterLimit=\"number\"==typeof r.parameterLimit?r.parameterLimit:defaults.parameterLimit,r.strictNullHandling=\"boolean\"==typeof r.strictNullHandling?r.strictNullHandling:defaults.strictNullHandling,\"\"===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var l=\"string\"==typeof e?parseValues(e,r):e,a=r.plainObjects?Object.create(null):{},i=Object.keys(l),o=0;o<i.length;++o){var s=i[o],n=parseKeys(s,l[s],r);a=utils.merge(a,n,r)}return utils.compact(a)};","node_modules/qs/lib/formats.js":"\"use strict\";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:\"RFC3986\",formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,\"+\")},RFC3986:function(e){return e}},RFC1738:\"RFC1738\",RFC3986:\"RFC3986\"};","node_modules/qs/lib/utils.js":"\"use strict\";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var r=[],e=0;e<256;++e)r.push(\"%\"+((e<16?\"0\":\"\")+e.toString(16)).toUpperCase());return r}(),compactQueue=function(r){for(var e;r.length;){var t=r.pop();if(e=t.obj[t.prop],Array.isArray(e)){for(var o=[],n=0;n<e.length;++n)void 0!==e[n]&&o.push(e[n]);t.obj[t.prop]=o}}return e};exports.arrayToObject=function(r,e){for(var t=e&&e.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(t[o]=r[o]);return t},exports.merge=function(r,e,t){if(!e)return r;if(\"object\"!=typeof e){if(Array.isArray(r))r.push(e);else{if(\"object\"!=typeof r)return[r,e];(t.plainObjects||t.allowPrototypes||!has.call(Object.prototype,e))&&(r[e]=!0)}return r}if(\"object\"!=typeof r)return[r].concat(e);var o=r;return Array.isArray(r)&&!Array.isArray(e)&&(o=exports.arrayToObject(r,t)),Array.isArray(r)&&Array.isArray(e)?(e.forEach(function(e,o){has.call(r,o)?r[o]&&\"object\"==typeof r[o]?r[o]=exports.merge(r[o],e,t):r.push(e):r[o]=e}),r):Object.keys(e).reduce(function(r,o){var n=e[o];return has.call(r,o)?r[o]=exports.merge(r[o],n,t):r[o]=n,r},o)},exports.assign=function(r,e){return Object.keys(e).reduce(function(r,t){return r[t]=e[t],r},r)},exports.decode=function(r){try{return decodeURIComponent(r.replace(/\\+/g,\" \"))}catch(e){return r}},exports.encode=function(r){if(0===r.length)return r;for(var e=\"string\"==typeof r?r:String(r),t=\"\",o=0;o<e.length;++o){var n=e.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?t+=e.charAt(o):n<128?t+=hexTable[n]:n<2048?t+=hexTable[192|n>>6]+hexTable[128|63&n]:n<55296||n>=57344?t+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(o)),t+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return t},exports.compact=function(r){for(var e=[{obj:{o:r},prop:\"o\"}],t=[],o=0;o<e.length;++o)for(var n=e[o],a=n.obj[n.prop],c=Object.keys(a),p=0;p<c.length;++p){var u=c[p],s=a[u];\"object\"==typeof s&&null!==s&&-1===t.indexOf(s)&&(e.push({obj:a,prop:u}),t.push(s))}return compactQueue(e)},exports.isRegExp=function(r){return\"[object RegExp]\"===Object.prototype.toString.call(r)},exports.isBuffer=function(r){return null!==r&&void 0!==r&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))};","node_modules/content-disposition/index.js":"\"use strict\";module.exports=contentDisposition,module.exports.parse=parse;var basename=require(\"path\").basename,ENCODE_URL_ATTR_CHAR_REGEXP=/[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g,HEX_ESCAPE_REGEXP=/%[0-9A-Fa-f]{2}/,HEX_ESCAPE_REPLACE_REGEXP=/%([0-9A-Fa-f]{2})/g,NON_LATIN1_REGEXP=/[^\\x20-\\x7e\\xa0-\\xff]/g,QESC_REGEXP=/\\\\([\\u0000-\\u007f])/g,QUOTE_REGEXP=/([\\\\\"])/g,PARAM_REGEXP=/;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g,TEXT_REGEXP=/^[\\x20-\\x7e\\x80-\\xff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,EXT_VALUE_REGEXP=/^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,DISPOSITION_TYPE_REGEXP=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/;function contentDisposition(e,t){var r=t||{};return format(new ContentDisposition(r.type||\"attachment\",createparams(e,r.fallback)))}function createparams(e,t){if(void 0!==e){var r={};if(\"string\"!=typeof e)throw new TypeError(\"filename must be a string\");if(void 0===t&&(t=!0),\"string\"!=typeof t&&\"boolean\"!=typeof t)throw new TypeError(\"fallback must be a string or boolean\");if(\"string\"==typeof t&&NON_LATIN1_REGEXP.test(t))throw new TypeError(\"fallback must be ISO-8859-1 string\");var n=basename(e),a=TEXT_REGEXP.test(n),o=\"string\"!=typeof t?t&&getlatin1(n):basename(t),i=\"string\"==typeof o&&o!==n;return(i||!a||HEX_ESCAPE_REGEXP.test(n))&&(r[\"filename*\"]=n),(a||i)&&(r.filename=i?o:n),r}}function format(e){var t=e.parameters,r=e.type;if(!r||\"string\"!=typeof r||!TOKEN_REGEXP.test(r))throw new TypeError(\"invalid type\");var n=String(r).toLowerCase();if(t&&\"object\"==typeof t)for(var a,o=Object.keys(t).sort(),i=0;i<o.length;i++){n+=\"; \"+(a=o[i])+\"=\"+(\"*\"===a.substr(-1)?ustring(t[a]):qstring(t[a]))}return n}function decodefield(e){var t=EXT_VALUE_REGEXP.exec(e);if(!t)throw new TypeError(\"invalid extended field value\");var r,n=t[1].toLowerCase(),a=t[2].replace(HEX_ESCAPE_REPLACE_REGEXP,pdecode);switch(n){case\"iso-8859-1\":r=getlatin1(a);break;case\"utf-8\":r=new Buffer(a,\"binary\").toString(\"utf8\");break;default:throw new TypeError(\"unsupported charset in extended field\")}return r}function getlatin1(e){return String(e).replace(NON_LATIN1_REGEXP,\"?\")}function parse(e){if(!e||\"string\"!=typeof e)throw new TypeError(\"argument string is required\");var t=DISPOSITION_TYPE_REGEXP.exec(e);if(!t)throw new TypeError(\"invalid type format\");var r,n,a=t[0].length,o=t[1].toLowerCase(),i=[],E={};for(a=PARAM_REGEXP.lastIndex=\";\"===t[0].substr(-1)?a-1:a;t=PARAM_REGEXP.exec(e);){if(t.index!==a)throw new TypeError(\"invalid parameter format\");if(a+=t[0].length,r=t[1].toLowerCase(),n=t[2],-1!==i.indexOf(r))throw new TypeError(\"invalid duplicate parameter\");i.push(r),r.indexOf(\"*\")+1!==r.length?\"string\"!=typeof E[r]&&('\"'===n[0]&&(n=n.substr(1,n.length-2).replace(QESC_REGEXP,\"$1\")),E[r]=n):(r=r.slice(0,-1),n=decodefield(n),E[r]=n)}if(-1!==a&&a!==e.length)throw new TypeError(\"invalid parameter format\");return new ContentDisposition(o,E)}function pdecode(e,t){return String.fromCharCode(parseInt(t,16))}function pencode(e){var t=String(e).charCodeAt(0).toString(16).toUpperCase();return 1===t.length?\"%0\"+t:\"%\"+t}function qstring(e){return'\"'+String(e).replace(QUOTE_REGEXP,\"\\\\$1\")+'\"'}function ustring(e){var t=String(e);return\"UTF-8''\"+encodeURIComponent(t).replace(ENCODE_URL_ATTR_CHAR_REGEXP,pencode)}function ContentDisposition(e,t){this.type=e,this.parameters=t}","node_modules/content-type/index.js":"\"use strict\";var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\\\([\\u000b\\u0020-\\u00ff])/g,QUOTE_REGEXP=/([\\\\\"])/g,TYPE_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;exports.format=format,exports.parse=parse;function format(e){if(!e||\"object\"!=typeof e)throw new TypeError(\"argument obj is required\");var r=e.parameters,t=e.type;if(!t||!TYPE_REGEXP.test(t))throw new TypeError(\"invalid type\");var n=t;if(r&&\"object\"==typeof r)for(var a,o=Object.keys(r).sort(),i=0;i<o.length;i++){if(a=o[i],!TOKEN_REGEXP.test(a))throw new TypeError(\"invalid parameter name\");n+=\"; \"+a+\"=\"+qstring(r[a])}return n}function parse(e){if(!e)throw new TypeError(\"argument string is required\");var r=\"object\"==typeof e?getcontenttype(e):e;if(\"string\"!=typeof r)throw new TypeError(\"argument string is required to be a string\");var t=r.indexOf(\";\"),n=-1!==t?r.substr(0,t).trim():r.trim();if(!TYPE_REGEXP.test(n))throw new TypeError(\"invalid media type\");var a=new ContentType(n.toLowerCase());if(-1!==t){var o,i,E;for(PARAM_REGEXP.lastIndex=t;i=PARAM_REGEXP.exec(r);){if(i.index!==t)throw new TypeError(\"invalid parameter format\");t+=i[0].length,o=i[1].toLowerCase(),'\"'===(E=i[2])[0]&&(E=E.substr(1,E.length-2).replace(QESC_REGEXP,\"$1\")),a.parameters[o]=E}if(t!==r.length)throw new TypeError(\"invalid parameter format\")}return a}function getcontenttype(e){var r;if(\"function\"==typeof e.getHeader?r=e.getHeader(\"content-type\"):\"object\"==typeof e.headers&&(r=e.headers&&e.headers[\"content-type\"]),\"string\"!=typeof r)throw new TypeError(\"content-type header is missing from object\");return r}function qstring(e){var r=String(e);if(TOKEN_REGEXP.test(r))return r;if(r.length>0&&!TEXT_REGEXP.test(r))throw new TypeError(\"invalid parameter value\");return'\"'+r.replace(QUOTE_REGEXP,\"\\\\$1\")+'\"'}function ContentType(e){this.parameters=Object.create(null),this.type=e}","node_modules/send/index.js":"\"use strict\";var createError=require(\"http-errors\"),debug=require(\"debug\")(\"send\"),deprecate=require(\"depd\")(\"send\"),destroy=require(\"destroy\"),encodeUrl=require(\"encodeurl\"),escapeHtml=require(\"escape-html\"),etag=require(\"etag\"),EventEmitter=require(\"events\").EventEmitter,fresh=require(\"fresh\"),fs=require(\"fs\"),mime=require(\"mime\"),ms=require(\"ms\"),onFinished=require(\"on-finished\"),parseRange=require(\"range-parser\"),path=require(\"path\"),statuses=require(\"statuses\"),Stream=require(\"stream\"),util=require(\"util\"),extname=path.extname,join=path.join,normalize=path.normalize,resolve=path.resolve,sep=path.sep,BYTES_RANGE_REGEXP=/^ *bytes=/,MAX_MAXAGE=31536e6,UP_PATH_REGEXP=/(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/;module.exports=send,module.exports.mime=mime;var listenerCount=EventEmitter.listenerCount||function(e,t){return e.listeners(t).length};function send(e,t,r){return new SendStream(e,t,r)}function SendStream(e,t,r){Stream.call(this);var n=r||{};if(this.options=n,this.path=t,this.req=e,this._acceptRanges=void 0===n.acceptRanges||Boolean(n.acceptRanges),this._cacheControl=void 0===n.cacheControl||Boolean(n.cacheControl),this._etag=void 0===n.etag||Boolean(n.etag),this._dotfiles=void 0!==n.dotfiles?n.dotfiles:\"ignore\",\"ignore\"!==this._dotfiles&&\"allow\"!==this._dotfiles&&\"deny\"!==this._dotfiles)throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"');this._hidden=Boolean(n.hidden),void 0!==n.hidden&&deprecate(\"hidden: use dotfiles: '\"+(this._hidden?\"allow\":\"ignore\")+\"' instead\"),void 0===n.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==n.extensions?normalizeList(n.extensions,\"extensions option\"):[],this._index=void 0!==n.index?normalizeList(n.index,\"index option\"):[\"index.html\"],this._lastModified=void 0===n.lastModified||Boolean(n.lastModified),this._maxage=n.maxAge||n.maxage,this._maxage=\"string\"==typeof this._maxage?ms(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),MAX_MAXAGE),this._root=n.root?resolve(n.root):null,!this._root&&n.from&&this.from(n.from)}util.inherits(SendStream,Stream),SendStream.prototype.etag=deprecate.function(function(e){return this._etag=Boolean(e),debug(\"etag %s\",this._etag),this},\"send.etag: pass etag as option\"),SendStream.prototype.hidden=deprecate.function(function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,debug(\"hidden %s\",this._hidden),this},\"send.hidden: use dotfiles option\"),SendStream.prototype.index=deprecate.function(function(e){var t=e?normalizeList(e,\"paths argument\"):[];return debug(\"index %o\",e),this._index=t,this},\"send.index: pass index as option\"),SendStream.prototype.root=function(e){return this._root=resolve(String(e)),debug(\"root %s\",this._root),this},SendStream.prototype.from=deprecate.function(SendStream.prototype.root,\"send.from: pass root as option\"),SendStream.prototype.root=deprecate.function(SendStream.prototype.root,\"send.root: pass root as option\"),SendStream.prototype.maxage=deprecate.function(function(e){return this._maxage=\"string\"==typeof e?ms(e):Number(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),MAX_MAXAGE),debug(\"max-age %d\",this._maxage),this},\"send.maxage: pass maxAge as option\"),SendStream.prototype.error=function(e,t){if(0!==listenerCount(this,\"error\"))return this.emit(\"error\",createError(e,t,{expose:!1}));var r=this.res,n=statuses[e]||String(e),i=createHtmlDocument(\"Error\",escapeHtml(n));clearHeaders(r),t&&t.headers&&setHeaders(r,t.headers),r.statusCode=e,r.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),r.setHeader(\"Content-Length\",Buffer.byteLength(i)),r.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),r.setHeader(\"X-Content-Type-Options\",\"nosniff\"),r.end(i)},SendStream.prototype.hasTrailingSlash=function(){return\"/\"===this.path[this.path.length-1]},SendStream.prototype.isConditionalGET=function(){return this.req.headers[\"if-match\"]||this.req.headers[\"if-unmodified-since\"]||this.req.headers[\"if-none-match\"]||this.req.headers[\"if-modified-since\"]},SendStream.prototype.isPreconditionFailure=function(){var e=this.req,t=this.res,r=e.headers[\"if-match\"];if(r){var n=t.getHeader(\"ETag\");return!n||\"*\"!==r&&parseTokenList(r).every(function(e){return e!==n&&e!==\"W/\"+n&&\"W/\"+e!==n})}var i=parseHttpDate(e.headers[\"if-unmodified-since\"]);if(!isNaN(i)){var s=parseHttpDate(t.getHeader(\"Last-Modified\"));return isNaN(s)||s>i}return!1},SendStream.prototype.removeContentHeaderFields=function(){for(var e=this.res,t=getHeaderNames(e),r=0;r<t.length;r++){var n=t[r];\"content-\"===n.substr(0,8)&&\"content-location\"!==n&&e.removeHeader(n)}},SendStream.prototype.notModified=function(){var e=this.res;debug(\"not modified\"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},SendStream.prototype.headersAlreadySent=function(){var e=new Error(\"Can't set headers after they are sent.\");debug(\"headers already sent\"),this.error(500,e)},SendStream.prototype.isCachable=function(){var e=this.res.statusCode;return e>=200&&e<300||304===e},SendStream.prototype.onStatError=function(e){switch(e.code){case\"ENAMETOOLONG\":case\"ENOENT\":case\"ENOTDIR\":this.error(404,e);break;default:this.error(500,e)}},SendStream.prototype.isFresh=function(){return fresh(this.req.headers,{etag:this.res.getHeader(\"ETag\"),\"last-modified\":this.res.getHeader(\"Last-Modified\")})},SendStream.prototype.isRangeFresh=function(){var e=this.req.headers[\"if-range\"];if(!e)return!0;if(-1!==e.indexOf('\"')){var t=this.res.getHeader(\"ETag\");return Boolean(t&&-1!==e.indexOf(t))}return parseHttpDate(this.res.getHeader(\"Last-Modified\"))<=parseHttpDate(e)},SendStream.prototype.redirect=function(e){var t=this.res;if(0===listenerCount(this,\"directory\"))if(this.hasTrailingSlash())this.error(403);else{var r=encodeUrl(collapseLeadingSlashes(this.path+\"/\")),n=createHtmlDocument(\"Redirecting\",'Redirecting to <a href=\"'+escapeHtml(r)+'\">'+escapeHtml(r)+\"</a>\");t.statusCode=301,t.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),t.setHeader(\"Content-Length\",Buffer.byteLength(n)),t.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),t.setHeader(\"X-Content-Type-Options\",\"nosniff\"),t.setHeader(\"Location\",r),t.end(n)}else this.emit(\"directory\",t,e)},SendStream.prototype.pipe=function(e){var t=this._root;this.res=e;var r=decode(this.path);if(-1===r)return this.error(400),e;if(~r.indexOf(\"\\0\"))return this.error(400),e;var n;if(null!==t){if(UP_PATH_REGEXP.test(normalize(\".\"+sep+r)))return debug('malicious path \"%s\"',r),this.error(403),e;r=normalize(join(t,r)),t=normalize(t+sep),n=r.substr(t.length).split(sep)}else{if(UP_PATH_REGEXP.test(r))return debug('malicious path \"%s\"',r),this.error(403),e;n=normalize(r).split(sep),r=resolve(r)}if(containsDotFile(n)){var i=this._dotfiles;switch(void 0===i&&(i=\".\"===n[n.length-1][0]?this._hidden?\"allow\":\"ignore\":\"allow\"),debug('%s dotfile \"%s\"',i,r),i){case\"allow\":break;case\"deny\":return this.error(403),e;case\"ignore\":default:return this.error(404),e}}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(r),e):(this.sendFile(r),e)},SendStream.prototype.send=function(e,t){var r=t.size,n=this.options,i={},s=this.res,a=this.req,o=a.headers.range,d=n.start||0;if(headersSent(s))this.headersAlreadySent();else{if(debug('pipe \"%s\"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(r=Math.max(0,r-d),void 0!==n.end){var h=n.end-d+1;r>h&&(r=h)}if(this._acceptRanges&&BYTES_RANGE_REGEXP.test(o)){if(o=parseRange(r,o,{combine:!0}),this.isRangeFresh()||(debug(\"range stale\"),o=-2),-1===o)return debug(\"range unsatisfiable\"),s.setHeader(\"Content-Range\",contentRange(\"bytes\",r)),this.error(416,{headers:{\"Content-Range\":s.getHeader(\"Content-Range\")}});-2!==o&&1===o.length&&(debug(\"range %j\",o),s.statusCode=206,s.setHeader(\"Content-Range\",contentRange(\"bytes\",r,o[0])),d+=o[0].start,r=o[0].end-o[0].start+1)}for(var u in n)i[u]=n[u];i.start=d,i.end=Math.max(d,d+r-1),s.setHeader(\"Content-Length\",r),\"HEAD\"!==a.method?this.stream(e,i):s.end()}},SendStream.prototype.sendFile=function(e){var t=0,r=this;debug('stat \"%s\"',e),fs.stat(e,function(t,i){return t&&\"ENOENT\"===t.code&&!extname(e)&&e[e.length-1]!==sep?n(t):t?r.onStatError(t):i.isDirectory()?r.redirect(e):(r.emit(\"file\",e,i),void r.send(e,i))});function n(i){if(r._extensions.length<=t)return i?r.onStatError(i):r.error(404);var s=e+\".\"+r._extensions[t++];debug('stat \"%s\"',s),fs.stat(s,function(e,t){return e?n(e):t.isDirectory()?n():(r.emit(\"file\",s,t),void r.send(s,t))})}},SendStream.prototype.sendIndex=function(e){var t=-1,r=this;function n(i){if(++t>=r._index.length)return i?r.onStatError(i):r.error(404);var s=join(e,r._index[t]);debug('stat \"%s\"',s),fs.stat(s,function(e,t){return e?n(e):t.isDirectory()?n():(r.emit(\"file\",s,t),void r.send(s,t))})}n()},SendStream.prototype.stream=function(e,t){var r=!1,n=this,i=this.res,s=fs.createReadStream(e,t);this.emit(\"stream\",s),s.pipe(i),onFinished(i,function(){r=!0,destroy(s)}),s.on(\"error\",function(e){r||(r=!0,destroy(s),n.onStatError(e))}),s.on(\"end\",function(){n.emit(\"end\")})},SendStream.prototype.type=function(e){var t=this.res;if(!t.getHeader(\"Content-Type\")){var r=mime.lookup(e);if(r){var n=mime.charsets.lookup(r);debug(\"content-type %s\",r),t.setHeader(\"Content-Type\",r+(n?\"; charset=\"+n:\"\"))}else debug(\"no content-type\")}},SendStream.prototype.setHeader=function(e,t){var r=this.res;if(this.emit(\"headers\",r,e,t),this._acceptRanges&&!r.getHeader(\"Accept-Ranges\")&&(debug(\"accept ranges\"),r.setHeader(\"Accept-Ranges\",\"bytes\")),this._cacheControl&&!r.getHeader(\"Cache-Control\")){var n=\"public, max-age=\"+Math.floor(this._maxage/1e3);debug(\"cache-control %s\",n),r.setHeader(\"Cache-Control\",n)}if(this._lastModified&&!r.getHeader(\"Last-Modified\")){var i=t.mtime.toUTCString();debug(\"modified %s\",i),r.setHeader(\"Last-Modified\",i)}if(this._etag&&!r.getHeader(\"ETag\")){var s=etag(t);debug(\"etag %s\",s),r.setHeader(\"ETag\",s)}};function clearHeaders(e){for(var t=getHeaderNames(e),r=0;r<t.length;r++)e.removeHeader(t[r])}function collapseLeadingSlashes(e){for(var t=0;t<e.length&&\"/\"===e[t];t++);return t>1?\"/\"+e.substr(t):e}function containsDotFile(e){for(var t=0;t<e.length;t++)if(\".\"===e[t][0])return!0;return!1}function contentRange(e,t,r){return e+\" \"+(r?r.start+\"-\"+r.end:\"*\")+\"/\"+t}function createHtmlDocument(e,t){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>'+e+\"</title>\\n</head>\\n<body>\\n<pre>\"+t+\"</pre>\\n</body>\\n\"}function decode(e){try{return decodeURIComponent(e)}catch(e){return-1}}function getHeaderNames(e){return\"function\"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}function headersSent(e){return\"boolean\"!=typeof e.headersSent?Boolean(e._header):e.headersSent}function normalizeList(e,t){for(var r=[].concat(e||[]),n=0;n<r.length;n++)if(\"string\"!=typeof r[n])throw new TypeError(t+\" must be array of strings or false\");return r}function parseHttpDate(e){var t=e&&Date.parse(e);return\"number\"==typeof t?t:NaN}function parseTokenList(e){for(var t=0,r=[],n=0,i=0,s=e.length;i<s;i++)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i+1);break;case 44:r.push(e.substring(n,t)),n=t=i+1;break;default:t=i+1}return r.push(e.substring(n,t)),r}function setHeaders(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setHeader(i,t[i])}}","node_modules/etag/index.js":"\"use strict\";module.exports=etag;var crypto=require(\"crypto\"),Stats=require(\"fs\").Stats,toString=Object.prototype.toString;function entitytag(t){if(0===t.length)return'\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"';var e=crypto.createHash(\"sha1\").update(t,\"utf8\").digest(\"base64\").substring(0,27);return'\"'+(\"string\"==typeof t?Buffer.byteLength(t,\"utf8\"):t.length).toString(16)+\"-\"+e+'\"'}function etag(t,e){if(null==t)throw new TypeError(\"argument entity is required\");var r=isstats(t),n=e&&\"boolean\"==typeof e.weak?e.weak:r;if(!r&&\"string\"!=typeof t&&!Buffer.isBuffer(t))throw new TypeError(\"argument entity must be string, Buffer, or fs.Stats\");var i=r?stattag(t):entitytag(t);return n?\"W/\"+i:i}function isstats(t){return\"function\"==typeof Stats&&t instanceof Stats||t&&\"object\"==typeof t&&\"ctime\"in t&&\"[object Date]\"===toString.call(t.ctime)&&\"mtime\"in t&&\"[object Date]\"===toString.call(t.mtime)&&\"ino\"in t&&\"number\"==typeof t.ino&&\"size\"in t&&\"number\"==typeof t.size}function stattag(t){var e=t.mtime.getTime().toString(16);return'\"'+t.size.toString(16)+\"-\"+e+'\"'}","node_modules/proxy-addr/index.js":"\"use strict\";module.exports=proxyaddr,module.exports.all=alladdrs,module.exports.compile=compile;var forwarded=require(\"forwarded\"),ipaddr=require(\"ipaddr.js\"),digitre=/^[0-9]+$/,isip=ipaddr.isValid,parseip=ipaddr.parse,ipranges={linklocal:[\"169.254.0.0/16\",\"fe80::/10\"],loopback:[\"127.0.0.1/8\",\"::1/128\"],uniquelocal:[\"10.0.0.0/8\",\"172.16.0.0/12\",\"192.168.0.0/16\",\"fc00::/7\"]};function alladdrs(r,e){var i=forwarded(r);if(!e)return i;\"function\"!=typeof e&&(e=compile(e));for(var n=0;n<i.length-1;n++)e(i[n],n)||(i.length=n+1);return i}function compile(r){if(!r)throw new TypeError(\"argument is required\");var e;if(\"string\"==typeof r)e=[r];else{if(!Array.isArray(r))throw new TypeError(\"unsupported trust argument\");e=r.slice()}for(var i=0;i<e.length;i++)r=e[i],ipranges.hasOwnProperty(r)&&(r=ipranges[r],e.splice.apply(e,[i,1].concat(r)),i+=r.length-1);return compileTrust(compileRangeSubnets(e))}function compileRangeSubnets(r){for(var e=new Array(r.length),i=0;i<r.length;i++)e[i]=parseipNotation(r[i]);return e}function compileTrust(r){var e=r.length;return 0===e?trustNone:1===e?trustSingle(r[0]):trustMulti(r)}function parseipNotation(r){var e=r.lastIndexOf(\"/\"),i=-1!==e?r.substring(0,e):r;if(!isip(i))throw new TypeError(\"invalid IP address: \"+i);var n=parseip(i);-1===e&&\"ipv6\"===n.kind()&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var t=\"ipv6\"===n.kind()?128:32,s=-1!==e?r.substring(e+1,r.length):null;if((s=null===s?t:digitre.test(s)?parseInt(s,10):\"ipv4\"===n.kind()&&isip(s)?parseNetmask(s):null)<=0||s>t)throw new TypeError(\"invalid range on address: \"+r);return[n,s]}function parseNetmask(r){var e=parseip(r);return\"ipv4\"===e.kind()?e.prefixLengthFromSubnetMask():null}function proxyaddr(r,e){if(!r)throw new TypeError(\"req argument is required\");if(!e)throw new TypeError(\"trust argument is required\");var i=alladdrs(r,e);return i[i.length-1]}function trustNone(){return!1}function trustMulti(r){return function(e){if(!isip(e))return!1;for(var i,n=parseip(e),t=n.kind(),s=0;s<r.length;s++){var a=r[s],p=a[0],o=p.kind(),d=a[1],u=n;if(t!==o){if(\"ipv4\"===o&&!n.isIPv4MappedAddress())continue;i||(i=\"ipv4\"===o?n.toIPv4Address():n.toIPv4MappedAddress()),u=i}if(u.match(p,d))return!0}return!1}}function trustSingle(r){var e=r[0],i=e.kind(),n=\"ipv4\"===i,t=r[1];return function(r){if(!isip(r))return!1;var s=parseip(r);if(s.kind()!==i){if(n&&!s.isIPv4MappedAddress())return!1;s=n?s.toIPv4Address():s.toIPv4MappedAddress()}return s.match(e,t)}}","node_modules/http-errors/index.js":"\"use strict\";var deprecate=require(\"depd\")(\"http-errors\"),setPrototypeOf=require(\"setprototypeof\"),statuses=require(\"statuses\"),inherits=require(\"inherits\");module.exports=createError,module.exports.HttpError=createHttpErrorConstructor(),populateConstructorExports(module.exports,statuses.codes,module.exports.HttpError);function codeClass(r){return Number(String(r).charAt(0)+\"00\")}function createError(){for(var r,e,t=500,o={},s=0;s<arguments.length;s++){var a=arguments[s];if(a instanceof Error)t=(r=a).status||r.statusCode||t;else switch(typeof a){case\"string\":e=a;break;case\"number\":t=a,0!==s&&deprecate(\"non-first-argument status code; replace with createError(\"+a+\", ...)\");break;case\"object\":o=a}}\"number\"==typeof t&&(t<400||t>=600)&&deprecate(\"non-error status code; use only 4xx or 5xx status codes\"),(\"number\"!=typeof t||!statuses[t]&&(t<400||t>=600))&&(t=500);var n=createError[t]||createError[codeClass(t)];r||(r=n?new n(e):new Error(e||statuses[t]),Error.captureStackTrace(r,createError)),n&&r instanceof n&&r.status===t||(r.expose=t<500,r.status=r.statusCode=t);for(var u in o)\"status\"!==u&&\"statusCode\"!==u&&(r[u]=o[u]);return r}function createHttpErrorConstructor(){function r(){throw new TypeError(\"cannot construct abstract class\")}return inherits(r,Error),r}function createClientErrorConstructor(r,e,t){var o=e.match(/Error$/)?e:e+\"Error\";function s(r){var e=null!=r?r:statuses[t],a=new Error(e);return Error.captureStackTrace(a,s),setPrototypeOf(a,s.prototype),Object.defineProperty(a,\"message\",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(a,\"name\",{enumerable:!1,configurable:!0,value:o,writable:!0}),a}return inherits(s,r),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!0,s}function createServerErrorConstructor(r,e,t){var o=e.match(/Error$/)?e:e+\"Error\";function s(r){var e=null!=r?r:statuses[t],a=new Error(e);return Error.captureStackTrace(a,s),setPrototypeOf(a,s.prototype),Object.defineProperty(a,\"message\",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(a,\"name\",{enumerable:!1,configurable:!0,value:o,writable:!0}),a}return inherits(s,r),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!1,s}function populateConstructorExports(r,e,t){e.forEach(function(e){var o,s=toIdentifier(statuses[e]);switch(codeClass(e)){case 400:o=createClientErrorConstructor(t,s,e);break;case 500:o=createServerErrorConstructor(t,s,e)}o&&(r[e]=o,r[s]=o)}),r[\"I'mateapot\"]=deprecate.function(r.ImATeapot,'\"I\\'mateapot\"; use \"ImATeapot\" instead')}function toIdentifier(r){return r.split(\" \").map(function(r){return r.slice(0,1).toUpperCase()+r.slice(1)}).join(\"\").replace(/[^ _0-9a-z]/gi,\"\")}","node_modules/destroy/index.js":"\"use strict\";var ReadStream=require(\"fs\").ReadStream,Stream=require(\"stream\");module.exports=destroy;function destroy(e){return e instanceof ReadStream?destroyReadStream(e):e instanceof Stream?(\"function\"==typeof e.destroy&&e.destroy(),e):e}function destroyReadStream(e){return e.destroy(),\"function\"==typeof e.close&&e.on(\"open\",onOpenClose),e}function onOpenClose(){\"number\"==typeof this.fd&&this.close()}","node_modules/fresh/index.js":"\"use strict\";var CACHE_CONTROL_NO_CACHE_REGEXP=/(?:^|,)\\s*?no-cache\\s*?(?:,|$)/;module.exports=fresh;function fresh(r,e){var t=r[\"if-modified-since\"],a=r[\"if-none-match\"];if(!t&&!a)return!1;var s=r[\"cache-control\"];if(s&&CACHE_CONTROL_NO_CACHE_REGEXP.test(s))return!1;if(a&&\"*\"!==a){var n=e.etag;if(!n)return!1;for(var i=!0,f=parseTokenList(a),u=0;u<f.length;u++){var o=f[u];if(o===n||o===\"W/\"+n||\"W/\"+o===n){i=!1;break}}if(i)return!1}if(t){var c=e[\"last-modified\"];if(!(c&&parseHttpDate(c)<=parseHttpDate(t)))return!1}return!0}function parseHttpDate(r){var e=r&&Date.parse(r);return\"number\"==typeof e?e:NaN}function parseTokenList(r){for(var e=0,t=[],a=0,s=0,n=r.length;s<n;s++)switch(r.charCodeAt(s)){case 32:a===e&&(a=e=s+1);break;case 44:t.push(r.substring(a,e)),a=e=s+1;break;default:e=s+1}return t.push(r.substring(a,e)),t}","node_modules/mime/mime.js":"var path=require(\"path\"),fs=require(\"fs\");function Mime(){this.types=Object.create(null),this.extensions=Object.create(null)}Mime.prototype.define=function(e){for(var t in e){for(var i=e[t],s=0;s<i.length;s++)process.env.DEBUG_MIME&&this.types[i]&&console.warn(this._loading.replace(/.*\\//,\"\"),'changes \"'+i[s]+'\" extension type from '+this.types[i]+\" to \"+t),this.types[i[s]]=t;this.extensions[t]||(this.extensions[t]=i[0])}},Mime.prototype.load=function(e){this._loading=e;var t={};fs.readFileSync(e,\"ascii\").split(/[\\r\\n]+/).forEach(function(e){var i=e.replace(/\\s*#.*|^\\s*|\\s*$/g,\"\").split(/\\s+/);t[i.shift()]=i}),this.define(t),this._loading=null},Mime.prototype.lookup=function(e,t){var i=e.replace(/.*[\\.\\/\\\\]/,\"\").toLowerCase();return this.types[i]||t||this.default_type},Mime.prototype.extension=function(e){var t=e.match(/^\\s*([^;\\s]*)(?:;|\\s|$)/)[1].toLowerCase();return this.extensions[t]};var mime=new Mime;mime.define(require(\"./types.json\")),mime.default_type=mime.lookup(\"bin\"),mime.Mime=Mime,mime.charsets={lookup:function(e,t){return/^text\\//.test(e)?\"UTF-8\":t}},module.exports=mime;","node_modules/range-parser/index.js":"\"use strict\";module.exports=rangeParser;function rangeParser(n,t,e){var r=t.indexOf(\"=\");if(-1===r)return-2;var a=t.slice(r+1).split(\",\"),s=[];s.type=t.slice(0,r);for(var i=0;i<a.length;i++){var d=a[i].split(\"-\"),o=parseInt(d[0],10),u=parseInt(d[1],10);isNaN(o)?(o=n-u,u=n-1):isNaN(u)&&(u=n-1),u>n-1&&(u=n-1),isNaN(o)||isNaN(u)||o>u||o<0||s.push({start:o,end:u})}return s.length<1?-1:e&&e.combine?combineRanges(s):s}function combineRanges(n){for(var t=n.map(mapWithIndex).sort(sortByRangeStart),e=0,r=1;r<t.length;r++){var a=t[r],s=t[e];a.start>s.end+1?t[++e]=a:a.end>s.end&&(s.end=a.end,s.index=Math.min(s.index,a.index))}t.length=e+1;var i=t.sort(sortByRangeIndex).map(mapWithoutIndex);return i.type=n.type,i}function mapWithIndex(n,t){return{start:n.start,end:n.end,index:t}}function mapWithoutIndex(n){return{start:n.start,end:n.end}}function sortByRangeIndex(n,t){return n.index-t.index}function sortByRangeStart(n,t){return n.start-t.start}","node_modules/mime/types.json":{"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mdp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/font-woff2":["woff2"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["dmg"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":["otf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["iso"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdownload":["exe","dll","com","bat","msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","wmz","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-nzb":["nzb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-research-info-systems":["ris"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-wav":["wav"],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/opentype":["otf"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-mrsid-image":["sid"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/sgml":["sgml","sgm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["markdown","md","mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-pascal":["p","pas"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]},"node_modules/forwarded/index.js":"\"use strict\";module.exports=forwarded;function forwarded(r){if(!r)throw new TypeError(\"argument req is required\");var e=parse(r.headers[\"x-forwarded-for\"]||\"\");return[r.connection.remoteAddress].concat(e)}function parse(r){for(var e=r.length,t=[],s=r.length,n=r.length-1;n>=0;n--)switch(r.charCodeAt(n)){case 32:s===e&&(s=e=n);break;case 44:s!==e&&t.push(r.substring(s,e)),s=e=n;break;default:s=n}return s!==e&&t.push(r.substring(s,e)),t}","node_modules/ipaddr.js/lib/ipaddr.js":"(function(){var r,t,e,n,i,o,a;t={},\"undefined\"!=typeof module&&null!==module&&module.exports?module.exports=t:this.ipaddr=t,a=function(r,t,e,n){var i,o;if(r.length!==t.length)throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");for(i=0;n>0;){if((o=e-n)<0&&(o=0),r[i]>>o!=t[i]>>o)return!1;n-=e,i+=1}return!0},t.subnetMatch=function(r,t,e){var n,i,o,a,s;null==e&&(e=\"unicast\");for(o in t)for(!(a=t[o])[0]||a[0]instanceof Array||(a=[a]),n=0,i=a.length;n<i;n++)if(s=a[n],r.match.apply(r,s))return o;return e},t.IPv4=function(){function r(r){var t,e,n;if(4!==r.length)throw new Error(\"ipaddr: ipv4 octet count should be 4\");for(t=0,e=r.length;t<e;t++)if(!(0<=(n=r[t])&&n<=255))throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");this.octets=r}return r.prototype.kind=function(){return\"ipv4\"},r.prototype.toString=function(){return this.octets.join(\".\")},r.prototype.toByteArray=function(){return this.octets.slice(0)},r.prototype.match=function(r,t){var e;if(void 0===t&&(r=(e=r)[0],t=e[1]),\"ipv4\"!==r.kind())throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");return a(this.octets,r.octets,8,t)},r.prototype.SpecialRanges={unspecified:[[new r([0,0,0,0]),8]],broadcast:[[new r([255,255,255,255]),32]],multicast:[[new r([224,0,0,0]),4]],linkLocal:[[new r([169,254,0,0]),16]],loopback:[[new r([127,0,0,0]),8]],carrierGradeNat:[[new r([100,64,0,0]),10]],private:[[new r([10,0,0,0]),8],[new r([172,16,0,0]),12],[new r([192,168,0,0]),16]],reserved:[[new r([192,0,0,0]),24],[new r([192,0,2,0]),24],[new r([192,88,99,0]),24],[new r([198,51,100,0]),24],[new r([203,0,113,0]),24],[new r([240,0,0,0]),4]]},r.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},r.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse(\"::ffff:\"+this.toString())},r.prototype.prefixLengthFromSubnetMask=function(){var r,t,e,n,i,o,a;for(a={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},r=0,i=!1,t=e=3;e>=0;t=e+=-1){if(!((n=this.octets[t])in a))return null;if(o=a[n],i&&0!==o)return null;8!==o&&(i=!0),r+=o}return 32-r},r}(),e=\"(0?\\\\d+|0x[a-f0-9]+)\",n={fourOctet:new RegExp(\"^\"+e+\"\\\\.\"+e+\"\\\\.\"+e+\"\\\\.\"+e+\"$\",\"i\"),longValue:new RegExp(\"^\"+e+\"$\",\"i\")},t.IPv4.parser=function(r){var t,e,i,o,a;if(e=function(r){return\"0\"===r[0]&&\"x\"!==r[1]?parseInt(r,8):parseInt(r)},t=r.match(n.fourOctet))return function(){var r,n,o,a;for(a=[],r=0,n=(o=t.slice(1,6)).length;r<n;r++)i=o[r],a.push(e(i));return a}();if(t=r.match(n.longValue)){if((a=e(t[1]))>4294967295||a<0)throw new Error(\"ipaddr: address outside defined range\");return function(){var r,t;for(t=[],o=r=0;r<=24;o=r+=8)t.push(a>>o&255);return t}().reverse()}return null},t.IPv6=function(){function r(r){var t,e,n,i,o,a;if(16===r.length)for(this.parts=[],t=e=0;e<=14;t=e+=2)this.parts.push(r[t]<<8|r[t+1]);else{if(8!==r.length)throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");this.parts=r}for(n=0,i=(a=this.parts).length;n<i;n++)if(!(0<=(o=a[n])&&o<=65535))throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\")}return r.prototype.kind=function(){return\"ipv6\"},r.prototype.toString=function(){var r,t,e,n,i,o,a;for(a=function(){var r,t,e,i;for(i=[],r=0,t=(e=this.parts).length;r<t;r++)n=e[r],i.push(n.toString(16));return i}.call(this),r=[],i=function(t){return r.push(t)},o=0,t=0,e=a.length;t<e;t++)switch(n=a[t],o){case 0:i(\"0\"===n?\"\":n),o=1;break;case 1:\"0\"===n?o=2:i(n);break;case 2:\"0\"!==n&&(i(\"\"),i(n),o=3);break;case 3:i(n)}return 2===o&&(i(\"\"),i(\"\")),r.join(\":\")},r.prototype.toByteArray=function(){var r,t,e,n,i;for(r=[],t=0,e=(i=this.parts).length;t<e;t++)n=i[t],r.push(n>>8),r.push(255&n);return r},r.prototype.toNormalizedString=function(){var r;return function(){var t,e,n,i;for(i=[],t=0,e=(n=this.parts).length;t<e;t++)r=n[t],i.push(r.toString(16));return i}.call(this).join(\":\")},r.prototype.match=function(r,t){var e;if(void 0===t&&(r=(e=r)[0],t=e[1]),\"ipv6\"!==r.kind())throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");return a(this.parts,r.parts,16,t)},r.prototype.SpecialRanges={unspecified:[new r([0,0,0,0,0,0,0,0]),128],linkLocal:[new r([65152,0,0,0,0,0,0,0]),10],multicast:[new r([65280,0,0,0,0,0,0,0]),8],loopback:[new r([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new r([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new r([0,0,0,0,0,65535,0,0]),96],rfc6145:[new r([0,0,0,0,65535,0,0,0]),96],rfc6052:[new r([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new r([8194,0,0,0,0,0,0,0]),16],teredo:[new r([8193,0,0,0,0,0,0,0]),32],reserved:[[new r([8193,3512,0,0,0,0,0,0]),32]]},r.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},r.prototype.isIPv4MappedAddress=function(){return\"ipv4Mapped\"===this.range()},r.prototype.toIPv4Address=function(){var r,e,n;if(!this.isIPv4MappedAddress())throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");return n=this.parts.slice(-2),r=n[0],e=n[1],new t.IPv4([r>>8,255&r,e>>8,255&e])},r}(),i=\"(?:[0-9a-f]+::?)+\",o={native:new RegExp(\"^(::)?(\"+i+\")?([0-9a-f]+)?(::)?$\",\"i\"),transitional:new RegExp(\"^((?:\"+i+\")|(?:::)(?:\"+i+\")?)\"+e+\"\\\\.\"+e+\"\\\\.\"+e+\"\\\\.\"+e+\"$\",\"i\")},r=function(r,t){var e,n,i,o,a;if(r.indexOf(\"::\")!==r.lastIndexOf(\"::\"))return null;for(e=0,n=-1;(n=r.indexOf(\":\",n+1))>=0;)e++;if(\"::\"===r.substr(0,2)&&e--,\"::\"===r.substr(-2,2)&&e--,e>t)return null;for(a=t-e,o=\":\";a--;)o+=\"0:\";return\":\"===(r=r.replace(\"::\",o))[0]&&(r=r.slice(1)),\":\"===r[r.length-1]&&(r=r.slice(0,-1)),function(){var t,e,n,o;for(o=[],t=0,e=(n=r.split(\":\")).length;t<e;t++)i=n[t],o.push(parseInt(i,16));return o}()},t.IPv6.parser=function(t){var e,n,i,a,s,p;if(t.match(o.native))return r(t,8);if((i=t.match(o.transitional))&&(p=r(i[1].slice(0,-1),6))){for(e=0,n=(s=[parseInt(i[2]),parseInt(i[3]),parseInt(i[4]),parseInt(i[5])]).length;e<n;e++)if(!(0<=(a=s[e])&&a<=255))return null;return p.push(s[0]<<8|s[1]),p.push(s[2]<<8|s[3]),p}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(r){return null!==this.parser(r)},t.IPv4.isValid=function(r){try{return new this(this.parser(r)),!0}catch(r){return r,!1}},t.IPv4.isValidFourPartDecimal=function(r){return!(!t.IPv4.isValid(r)||!r.match(/^\\d+(\\.\\d+){3}$/))},t.IPv6.isValid=function(r){if(\"string\"==typeof r&&-1===r.indexOf(\":\"))return!1;try{return new this(this.parser(r)),!0}catch(r){return r,!1}},t.IPv4.parse=t.IPv6.parse=function(r){var t;if(null===(t=this.parser(r)))throw new Error(\"ipaddr: string is not formatted like ip address\");return new this(t)},t.IPv4.parseCIDR=function(r){var t,e;if((e=r.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(e[2]))>=0&&t<=32)return[this.parse(e[1]),t];throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")},t.IPv4.subnetMaskFromPrefixLength=function(r){var e,n;if(r<0||r>32)throw new Error(\"ipaddr: invalid prefix length\");for(n=Array(4).fill(0),e=0;e<Math.floor(r/8);)n[e]=255,e++;return n[Math.floor(r/8)]=Math.pow(2,r%8)-1<<8-r%8,new t.IPv4(n)},t.IPv4.broadcastAddressFromCIDR=function(r){var e,n,i,o;try{for(n=t.IPv4.parseCIDR(r)[0],o=this.subnetMaskFromPrefixLength([t.IPv4.parseCIDR(r)[1]]),i=[],e=0;e<4;)i.push(parseInt(n.octets[e],10)|255^parseInt(o.octets[e],10)),e++;return new t.IPv4(i)}catch(r){throw r,new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},t.IPv4.networkAddressFromCIDR=function(r){var e,n,i,o;try{for(n=t.IPv4.parseCIDR(r)[0],o=this.subnetMaskFromPrefixLength([t.IPv4.parseCIDR(r)[1]]),i=[],e=0;e<4;)i.push(parseInt(n.octets[e],10)&parseInt(o.octets[e],10)),e++;return new t.IPv4(i)}catch(r){throw r,new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},t.IPv6.parseCIDR=function(r){var t,e;if((e=r.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(e[2]))>=0&&t<=128)return[this.parse(e[1]),t];throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")},t.isValid=function(r){return t.IPv6.isValid(r)||t.IPv4.isValid(r)},t.parse=function(r){if(t.IPv6.isValid(r))return t.IPv6.parse(r);if(t.IPv4.isValid(r))return t.IPv4.parse(r);throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")},t.parseCIDR=function(r){try{return t.IPv6.parseCIDR(r)}catch(e){e;try{return t.IPv4.parseCIDR(r)}catch(r){throw r,new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}},t.fromByteArray=function(r){var e;if(4===(e=r.length))return new t.IPv4(r);if(16===e)return new t.IPv6(r);throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")},t.process=function(r){var t;return\"ipv6\"===(t=this.parse(r)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}).call(this);","node_modules/accepts/index.js":"\"use strict\";var Negotiator=require(\"negotiator\"),mime=require(\"mime-types\");module.exports=Accepts;function Accepts(t){if(!(this instanceof Accepts))return new Accepts(t);this.headers=t.headers,this.negotiator=new Negotiator(t)}Accepts.prototype.type=Accepts.prototype.types=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;r++)e[r]=arguments[r]}if(!e||0===e.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var n=e.map(extToMime),o=this.negotiator.mediaTypes(n.filter(validMime))[0];return!!o&&e[n.indexOf(o)]},Accepts.prototype.encoding=Accepts.prototype.encodings=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;r++)e[r]=arguments[r]}return e&&0!==e.length?this.negotiator.encodings(e)[0]||!1:this.negotiator.encodings()},Accepts.prototype.charset=Accepts.prototype.charsets=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;r++)e[r]=arguments[r]}return e&&0!==e.length?this.negotiator.charsets(e)[0]||!1:this.negotiator.charsets()},Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;r++)e[r]=arguments[r]}return e&&0!==e.length?this.negotiator.languages(e)[0]||!1:this.negotiator.languages()};function extToMime(t){return-1===t.indexOf(\"/\")?mime.lookup(t):t}function validMime(t){return\"string\"==typeof t}","node_modules/type-is/index.js":"\"use strict\";var typer=require(\"media-typer\"),mime=require(\"mime-types\");module.exports=typeofrequest,module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch;function typeis(e,r){var t,n=r,i=tryNormalizeType(e);if(!i)return!1;if(n&&!Array.isArray(n))for(n=new Array(arguments.length-1),t=0;t<n.length;t++)n[t]=arguments[t+1];if(!n||!n.length)return i;var o;for(t=0;t<n.length;t++)if(mimeMatch(normalize(o=n[t]),i))return\"+\"===o[0]||-1!==o.indexOf(\"*\")?i:o;return!1}function hasbody(e){return void 0!==e.headers[\"transfer-encoding\"]||!isNaN(e.headers[\"content-length\"])}function typeofrequest(e,r){var t=r;if(!hasbody(e))return null;if(arguments.length>2){t=new Array(arguments.length-1);for(var n=0;n<t.length;n++)t[n]=arguments[n+1]}return typeis(e.headers[\"content-type\"],t)}function normalize(e){if(\"string\"!=typeof e)return!1;switch(e){case\"urlencoded\":return\"application/x-www-form-urlencoded\";case\"multipart\":return\"multipart/*\"}return\"+\"===e[0]?\"*/*\"+e:-1===e.indexOf(\"/\")?mime.lookup(e):e}function mimeMatch(e,r){if(!1===e)return!1;var t=r.split(\"/\"),n=e.split(\"/\");return 2===t.length&&2===n.length&&((\"*\"===n[0]||n[0]===t[0])&&(\"*+\"===n[1].substr(0,2)?n[1].length<=t[1].length+1&&n[1].substr(1)===t[1].substr(1-n[1].length):\"*\"===n[1]||n[1]===t[1]))}function normalizeType(e){var r=typer.parse(e);return r.parameters=void 0,typer.format(r)}function tryNormalizeType(e){try{return normalizeType(e)}catch(e){return null}}","node_modules/negotiator/index.js":"\"use strict\";var modules=Object.create(null);module.exports=Negotiator,module.exports.Negotiator=Negotiator;function Negotiator(e){if(!(this instanceof Negotiator))return new Negotiator(e);this.request=e}Negotiator.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},Negotiator.prototype.charsets=function(e){return(0,loadModule(\"charset\").preferredCharsets)(this.request.headers[\"accept-charset\"],e)},Negotiator.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},Negotiator.prototype.encodings=function(e){return(0,loadModule(\"encoding\").preferredEncodings)(this.request.headers[\"accept-encoding\"],e)},Negotiator.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},Negotiator.prototype.languages=function(e){return(0,loadModule(\"language\").preferredLanguages)(this.request.headers[\"accept-language\"],e)},Negotiator.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},Negotiator.prototype.mediaTypes=function(e){return(0,loadModule(\"mediaType\").preferredMediaTypes)(this.request.headers.accept,e)},Negotiator.prototype.preferredCharset=Negotiator.prototype.charset,Negotiator.prototype.preferredCharsets=Negotiator.prototype.charsets,Negotiator.prototype.preferredEncoding=Negotiator.prototype.encoding,Negotiator.prototype.preferredEncodings=Negotiator.prototype.encodings,Negotiator.prototype.preferredLanguage=Negotiator.prototype.language,Negotiator.prototype.preferredLanguages=Negotiator.prototype.languages,Negotiator.prototype.preferredMediaType=Negotiator.prototype.mediaType,Negotiator.prototype.preferredMediaTypes=Negotiator.prototype.mediaTypes;function loadModule(e){var t=modules[e];if(void 0!==t)return t;switch(e){case\"charset\":t=require(\"./lib/charset\");break;case\"encoding\":t=require(\"./lib/encoding\");break;case\"language\":t=require(\"./lib/language\");break;case\"mediaType\":t=require(\"./lib/mediaType\");break;default:throw new Error(\"Cannot find module '\"+e+\"'\")}return modules[e]=t,t}","node_modules/mime-types/index.js":"\"use strict\";var db=require(\"mime-db\"),extname=require(\"path\").extname,EXTRACT_TYPE_REGEXP=/^\\s*([^;\\s]*)(?:;|\\s|$)/,TEXT_TYPE_REGEXP=/^text\\//i;exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=contentType,exports.extension=extension,exports.extensions=Object.create(null),exports.lookup=lookup,exports.types=Object.create(null),populateMaps(exports.extensions,exports.types);function charset(e){if(!e||\"string\"!=typeof e)return!1;var t=EXTRACT_TYPE_REGEXP.exec(e),r=t&&db[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!TEXT_TYPE_REGEXP.test(t[1]))&&\"UTF-8\"}function contentType(e){if(!e||\"string\"!=typeof e)return!1;var t=-1===e.indexOf(\"/\")?exports.lookup(e):e;if(!t)return!1;if(-1===t.indexOf(\"charset\")){var r=exports.charset(t);r&&(t+=\"; charset=\"+r.toLowerCase())}return t}function extension(e){if(!e||\"string\"!=typeof e)return!1;var t=EXTRACT_TYPE_REGEXP.exec(e),r=t&&exports.extensions[t[1].toLowerCase()];return!(!r||!r.length)&&r[0]}function lookup(e){if(!e||\"string\"!=typeof e)return!1;var t=extname(\"x.\"+e).toLowerCase().substr(1);return!!t&&(exports.types[t]||!1)}function populateMaps(e,t){var r=[\"nginx\",\"apache\",void 0,\"iana\"];Object.keys(db).forEach(function(n){var o=db[n],s=o.extensions;if(s&&s.length){e[n]=s;for(var a=0;a<s.length;a++){var i=s[a];if(t[i]){var p=r.indexOf(db[t[i]].source),c=r.indexOf(o.source);if(\"application/octet-stream\"!==t[i]&&(p>c||p===c&&\"application/\"===t[i].substr(0,12)))continue}t[i]=n}}})}","node_modules/mime-db/index.js":"module.exports=require(\"./db.json\");","node_modules/mime-db/db.json":{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana"},"application/3gpp-ims+xml":{"source":"iana"},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana"},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","extensions":["atomsvc"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana"},"application/bacnet-xdd+zip":{"source":"iana"},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana"},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cbor":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana"},"application/ccxml+xml":{"source":"iana","extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana"},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana"},"application/cellml+xml":{"source":"iana"},"application/cfw":{"source":"iana"},"application/clue_info+xml":{"source":"iana"},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana"},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana"},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana"},"application/cstadata+xml":{"source":"iana"},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana"},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana"},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/docbook+xml":{"source":"apache","extensions":["dbk"]},"application/dskpp+xml":{"source":"iana"},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana"},"application/emergencycalldata.control+xml":{"source":"iana"},"application/emergencycalldata.deviceinfo+xml":{"source":"iana"},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana"},"application/emergencycalldata.serviceinfo+xml":{"source":"iana"},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana"},"application/emergencycalldata.veds+xml":{"source":"iana"},"application/emma+xml":{"source":"iana","extensions":["emma"]},"application/emotionml+xml":{"source":"iana"},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana"},"application/epub+zip":{"source":"iana","extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana"},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false,"extensions":["woff"]},"application/font-woff2":{"compressible":false,"extensions":["woff2"]},"application/framework-attributes+xml":{"source":"iana"},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geoxacml+xml":{"source":"iana"},"application/gml+xml":{"source":"iana","extensions":["gml"]},"application/gpx+xml":{"source":"apache","extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana"},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana"},"application/ibe-pkg-reply+xml":{"source":"iana"},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana"},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana"},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana"},"application/kpml-response+xml":{"source":"iana"},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana"},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana"},"application/lost+xml":{"source":"iana","extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana"},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana"},"application/mathml-presentation+xml":{"source":"iana"},"application/mbms-associated-procedure-description+xml":{"source":"iana"},"application/mbms-deregister+xml":{"source":"iana"},"application/mbms-envelope+xml":{"source":"iana"},"application/mbms-msk+xml":{"source":"iana"},"application/mbms-msk-response+xml":{"source":"iana"},"application/mbms-protection-description+xml":{"source":"iana"},"application/mbms-reception-report+xml":{"source":"iana"},"application/mbms-register+xml":{"source":"iana"},"application/mbms-register-response+xml":{"source":"iana"},"application/mbms-schedule+xml":{"source":"iana"},"application/mbms-user-service-description+xml":{"source":"iana"},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana"},"application/media_control+xml":{"source":"iana"},"application/mediaservercontrol+xml":{"source":"iana","extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","extensions":["meta4"]},"application/mets+xml":{"source":"iana","extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mmt-usd+xml":{"source":"iana"},"application/mods+xml":{"source":"iana","extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana"},"application/mrb-publish+xml":{"source":"iana"},"application/msc-ivr+xml":{"source":"iana"},"application/msc-mixer+xml":{"source":"iana"},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana"},"application/n-triples":{"source":"iana"},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana"},"application/news-groupinfo":{"source":"iana"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana"},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana"},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana"},"application/pidf-diff+xml":{"source":"iana"},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","extensions":["pls"]},"application/poc-settings+xml":{"source":"iana"},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana"},"application/provenance+xml":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana"},"application/pskc+xml":{"source":"iana","extensions":["pskcxml"]},"application/qsig":{"source":"iana"},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf"]},"application/reginfo+xml":{"source":"iana","extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","extensions":["rld"]},"application/rfc+xml":{"source":"iana"},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana"},"application/rls-services+xml":{"source":"iana","extensions":["rs"]},"application/route-apd+xml":{"source":"iana"},"application/route-s-tsid+xml":{"source":"iana"},"application/route-usd+xml":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana"},"application/samlmetadata+xml":{"source":"iana"},"application/sbml+xml":{"source":"iana","extensions":["sbml"]},"application/scaip+xml":{"source":"iana"},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/sep+xml":{"source":"iana"},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","extensions":["shf"]},"application/sieve":{"source":"iana"},"application/simple-filter+xml":{"source":"iana"},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","extensions":["srx"]},"application/spirits-event+xml":{"source":"iana"},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","extensions":["grxml"]},"application/sru+xml":{"source":"iana","extensions":["sru"]},"application/ssdl+xml":{"source":"apache","extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","extensions":["ssml"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/tei+xml":{"source":"iana","extensions":["tei","teicorpus"]},"application/thraud+xml":{"source":"iana","extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana"},"application/tve-trigger":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana"},"application/urc-ressheet+xml":{"source":"iana"},"application/urc-targetdesc+xml":{"source":"iana"},"application/urc-uisocketdesc+xml":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana"},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana"},"application/vnd.3gpp.bsf+xml":{"source":"iana"},"application/vnd.3gpp.gmop+xml":{"source":"iana"},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana"},"application/vnd.3gpp.mid-call+xml":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana"},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana"},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana"},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana"},"application/vnd.3gpp.ussd+xml":{"source":"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana"},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","extensions":["mpkg"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avistar+xml":{"source":"iana"},"application/vnd.balsamiq.bmml+xml":{"source":"iana"},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana"},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana"},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","extensions":["wbs"]},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana"},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana"},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume-movie":{"source":"iana"},"application/vnd.desmume.movie":{"source":"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana"},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana"},"application/vnd.dvb.notif-container+xml":{"source":"iana"},"application/vnd.dvb.notif-generic+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana"},"application/vnd.dvb.notif-init+xml":{"source":"iana"},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana"},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana"},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana"},"application/vnd.eszigno3+xml":{"source":"iana","extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana"},"application/vnd.etsi.asic-e+zip":{"source":"iana"},"application/vnd.etsi.asic-s+zip":{"source":"iana"},"application/vnd.etsi.cug+xml":{"source":"iana"},"application/vnd.etsi.iptvcommand+xml":{"source":"iana"},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana"},"application/vnd.etsi.iptvprofile+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana"},"application/vnd.etsi.iptvservice+xml":{"source":"iana"},"application/vnd.etsi.iptvsync+xml":{"source":"iana"},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana"},"application/vnd.etsi.mcid+xml":{"source":"iana"},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana"},"application/vnd.etsi.pstn+xml":{"source":"iana"},"application/vnd.etsi.sci+xml":{"source":"iana"},"application/vnd.etsi.simservs+xml":{"source":"iana"},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana"},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana"},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana"},"application/vnd.gov.sk.e-form+zip":{"source":"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana"},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana"},"application/vnd.imagemeter.image+zip":{"source":"iana"},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana"},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana"},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana"},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana"},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana"},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana"},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","extensions":["lasxml"]},"application/vnd.liberty-request+xml":{"source":"iana"},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","extensions":["lbe"]},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana"},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana"},"application/vnd.marlin.drm.license+xml":{"source":"iana"},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana"},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana"},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana"},"application/vnd.ms-printing.printticket+xml":{"source":"apache"},"application/vnd.ms-printschematicket+xml":{"source":"iana"},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana"},"application/vnd.nokia.iptv.config+xml":{"source":"iana"},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana"},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana"},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana"},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana"},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana"},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana"},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana"},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana"},"application/vnd.oipf.spdlist+xml":{"source":"iana"},"application/vnd.oipf.ueprofile+xml":{"source":"iana"},"application/vnd.oipf.userprofile+xml":{"source":"iana"},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.imd+xml":{"source":"iana"},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana"},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana"},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.sprov+xml":{"source":"iana"},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana"},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana"},"application/vnd.oma.cab-pcc+xml":{"source":"iana"},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana"},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana"},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana"},"application/vnd.oma.group-usage-list+xml":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana"},"application/vnd.oma.poc.final-report+xml":{"source":"iana"},"application/vnd.oma.poc.groups+xml":{"source":"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana"},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana"},"application/vnd.oma.xcap-directory+xml":{"source":"iana"},"application/vnd.omads-email+xml":{"source":"iana"},"application/vnd.omads-file+xml":{"source":"iana"},"application/vnd.omads-folder+xml":{"source":"iana"},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana"},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"apache","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"apache","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"apache","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana"},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana"},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana"},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos+xml":{"source":"iana"},"application/vnd.paos.xml":{"source":"apache"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana"},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana"},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana"},"application/vnd.radisys.msml+xml":{"source":"iana"},"application/vnd.radisys.msml-audit+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana"},"application/vnd.radisys.msml-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana"},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.software602.filler.form+xml":{"source":"iana"},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana"},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana"},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana"},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana"},"application/vnd.wv.ssp+xml":{"source":"iana"},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana"},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","extensions":["vxml"]},"application/vq-rtcpxr":{"source":"iana"},"application/watcherinfo+xml":{"source":"iana"},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-otf":{"source":"apache","compressible":true,"extensions":["otf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-ttf":{"source":"apache","compressible":true,"extensions":["ttf","ttc"]},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"apache","extensions":["der","crt","pem"]},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana"},"application/xaml+xml":{"source":"apache","extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana"},"application/xcap-caps+xml":{"source":"iana"},"application/xcap-diff+xml":{"source":"iana","extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana"},"application/xcap-error+xml":{"source":"iana"},"application/xcap-ns+xml":{"source":"iana"},"application/xcon-conference-info+xml":{"source":"iana"},"application/xcon-conference-info-diff+xml":{"source":"iana"},"application/xenc+xml":{"source":"iana","extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache"},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana"},"application/xmpp+xml":{"source":"iana"},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","extensions":["xpl"]},"application/xslt+xml":{"source":"iana","extensions":["xslt"]},"application/xspf+xml":{"source":"apache","extensions":["xspf"]},"application/xv+xml":{"source":"iana","extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana"},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana"},"application/yin+xml":{"source":"iana","extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana"},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/otf":{"compressible":true,"extensions":["otf"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana"},"image/emf":{"source":"iana"},"image/fits":{"source":"iana"},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana"},"image/jp2":{"source":"iana"},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jpm":{"source":"iana"},"image/jpx":{"source":"iana"},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana"},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana"},"image/tiff":{"source":"iana","compressible":false,"extensions":["tiff","tif"]},"image/tiff-fx":{"source":"iana"},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana"},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana"},"image/vnd.valve.source.texture":{"source":"iana"},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana"},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana"},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana"},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana"},"message/global-delivery-status":{"source":"iana"},"message/global-disposition-notification":{"source":"iana"},"message/global-headers":{"source":"iana"},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana"},"model/3mf":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/vnd.collada+xml":{"source":"iana","extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana"},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana"},"model/vnd.parasolid.transmit.binary":{"source":"iana"},"model/vnd.parasolid.transmit.text":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.valve.source.compiled-map":{"source":"iana"},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana"},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana"},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana","compressible":false},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hjson":{"extensions":["hjson"]},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}},"node_modules/media-typer/index.js":"var paramRegExp=/; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g,textRegExp=/^[\\u0020-\\u007e\\u0080-\\u00ff]+$/,tokenRegExp=/^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/,qescRegExp=/\\\\([\\u0000-\\u007f])/g,quoteRegExp=/([\\\\\"])/g,subtypeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,typeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,typeRegExp=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;exports.format=format,exports.parse=parse;function format(e){if(!e||\"object\"!=typeof e)throw new TypeError(\"argument obj is required\");var t=e.parameters,r=e.subtype,a=e.suffix,p=e.type;if(!p||!typeNameRegExp.test(p))throw new TypeError(\"invalid type\");if(!r||!subtypeNameRegExp.test(r))throw new TypeError(\"invalid subtype\");var n=p+\"/\"+r;if(a){if(!typeNameRegExp.test(a))throw new TypeError(\"invalid suffix\");n+=\"+\"+a}if(t&&\"object\"==typeof t)for(var o,i=Object.keys(t).sort(),s=0;s<i.length;s++){if(o=i[s],!tokenRegExp.test(o))throw new TypeError(\"invalid parameter name\");n+=\"; \"+o+\"=\"+qstring(t[o])}return n}function parse(e){if(!e)throw new TypeError(\"argument string is required\");if(\"object\"==typeof e&&(e=getcontenttype(e)),\"string\"!=typeof e)throw new TypeError(\"argument string is required to be a string\");var t,r,a,p=e.indexOf(\";\"),n=splitType(-1!==p?e.substr(0,p):e),o={};for(paramRegExp.lastIndex=p;r=paramRegExp.exec(e);){if(r.index!==p)throw new TypeError(\"invalid parameter format\");p+=r[0].length,t=r[1].toLowerCase(),'\"'===(a=r[2])[0]&&(a=a.substr(1,a.length-2).replace(qescRegExp,\"$1\")),o[t]=a}if(-1!==p&&p!==e.length)throw new TypeError(\"invalid parameter format\");return n.parameters=o,n}function getcontenttype(e){return\"function\"==typeof e.getHeader?e.getHeader(\"content-type\"):\"object\"==typeof e.headers?e.headers&&e.headers[\"content-type\"]:void 0}function qstring(e){var t=String(e);if(tokenRegExp.test(t))return t;if(t.length>0&&!textRegExp.test(t))throw new TypeError(\"invalid parameter value\");return'\"'+t.replace(quoteRegExp,\"\\\\$1\")+'\"'}function splitType(e){var t=typeRegExp.exec(e.toLowerCase());if(!t)throw new TypeError(\"invalid media type\");var r,a=t[1],p=t[2],n=p.lastIndexOf(\"+\");-1!==n&&(r=p.substr(n+1),p=p.substr(0,n));return{type:a,subtype:p,suffix:r}}","node_modules/vary/index.js":"\"use strict\";module.exports=vary,module.exports.append=append;var FIELD_NAME_REGEXP=/^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;function append(r,e){if(\"string\"!=typeof r)throw new TypeError(\"header argument is required\");if(!e)throw new TypeError(\"field argument is required\");for(var a=Array.isArray(e)?e:parse(String(e)),t=0;t<a.length;t++)if(!FIELD_NAME_REGEXP.test(a[t]))throw new TypeError(\"field argument contains an invalid header name\");if(\"*\"===r)return r;var n=r,i=parse(r.toLowerCase());if(-1!==a.indexOf(\"*\")||-1!==i.indexOf(\"*\"))return\"*\";for(var s=0;s<a.length;s++){var o=a[s].toLowerCase();-1===i.indexOf(o)&&(i.push(o),n=n?n+\", \"+a[s]:a[s])}return n}function parse(r){for(var e=0,a=[],t=0,n=0,i=r.length;n<i;n++)switch(r.charCodeAt(n)){case 32:t===e&&(t=e=n+1);break;case 44:a.push(r.substring(t,e)),t=e=n+1;break;default:e=n+1}return a.push(r.substring(t,e)),a}function vary(r,e){if(!r||!r.getHeader||!r.setHeader)throw new TypeError(\"res argument is required\");var a=r.getHeader(\"Vary\")||\"\";(a=append(Array.isArray(a)?a.join(\", \"):String(a),e))&&r.setHeader(\"Vary\",a)}","node_modules/ejs/lib/ejs.js":"\"use strict\";var fs=require(\"fs\"),path=require(\"path\"),utils=require(\"./utils\"),scopeOptionWarned=!1,_VERSION_STRING=require(\"../package.json\").version,_DEFAULT_DELIMITER=\"%\",_DEFAULT_LOCALS_NAME=\"locals\",_NAME=\"ejs\",_REGEX_STRING=\"(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)\",_OPTS=[\"delimiter\",\"scope\",\"context\",\"debug\",\"compileDebug\",\"client\",\"_with\",\"rmWhitespace\",\"strict\",\"filename\"],_OPTS_EXPRESS=_OPTS.concat(\"cache\"),_BOM=/^\\uFEFF/;exports.cache=utils.cache,exports.fileLoader=fs.readFileSync,exports.localsName=_DEFAULT_LOCALS_NAME,exports.resolveInclude=function(e,t,n){var s=path.dirname,i=path.extname,r=(0,path.resolve)(n?t:s(t),e);return i(e)||(r+=\".ejs\"),r};function getIncludePath(e,t){var n,s,i=t.views;if(\"/\"==e.charAt(0))n=exports.resolveInclude(e.replace(/^\\/*/,\"\"),t.root||\"/\",!0);else if(t.filename&&(s=exports.resolveInclude(e,t.filename),fs.existsSync(s)&&(n=s)),n||Array.isArray(i)&&i.some(function(t){return s=exports.resolveInclude(e,t,!0),fs.existsSync(s)})&&(n=s),!n)throw new Error(\"Could not find include include file.\");return n}function handleCache(e,t){var n,s=e.filename,i=arguments.length>1;if(e.cache){if(!s)throw new Error(\"cache option requires a filename\");if(n=exports.cache.get(s))return n;i||(t=fileLoader(s).toString().replace(_BOM,\"\"))}else if(!i){if(!s)throw new Error(\"Internal EJS error: no file name or template provided\");t=fileLoader(s).toString().replace(_BOM,\"\")}return n=exports.compile(t,e),e.cache&&exports.cache.set(s,n),n}function tryHandleCache(e,t,n){var s;try{s=handleCache(e)(t)}catch(e){return n(e)}return n(null,s)}function fileLoader(e){return exports.fileLoader(e)}function includeFile(e,t){var n=utils.shallowCopy({},t);return n.filename=getIncludePath(e,n),handleCache(n)}function includeSource(e,t){var n,s,i=utils.shallowCopy({},t);s=fileLoader(n=getIncludePath(e,i)).toString().replace(_BOM,\"\"),i.filename=n;var r=new Template(s,i);return r.generateSource(),{source:r.source,filename:n,template:s}}function rethrow(e,t,n,s,i){var r=t.split(\"\\n\"),a=Math.max(s-3,0),o=Math.min(r.length,s+3),c=i(n),l=r.slice(a,o).map(function(e,t){var n=t+a+1;return(n==s?\" >> \":\"    \")+n+\"| \"+e}).join(\"\\n\");throw e.path=c,e.message=(c||\"ejs\")+\":\"+s+\"\\n\"+l+\"\\n\\n\"+e.message,e}function stripSemi(e){return e.replace(/;(\\s*$)/,\"$1\")}exports.compile=function(e,t){return t&&t.scope&&(scopeOptionWarned||(console.warn(\"`scope` option is deprecated and will be removed in EJS 3\"),scopeOptionWarned=!0),t.context||(t.context=t.scope),delete t.scope),new Template(e,t).compile()},exports.render=function(e,t,n){var s=t||{},i=n||{};return 2==arguments.length&&utils.shallowCopyFromList(i,s,_OPTS),handleCache(i,e)(s)},exports.renderFile=function(){var e,t=arguments[0],n=arguments[arguments.length-1],s={filename:t};return arguments.length>2?(e=arguments[1],3===arguments.length?e.settings?(e.settings[\"view options\"]&&utils.shallowCopyFromList(s,e.settings[\"view options\"],_OPTS_EXPRESS),e.settings.views&&(s.views=e.settings.views)):utils.shallowCopyFromList(s,e,_OPTS_EXPRESS):utils.shallowCopy(s,arguments[2]),s.filename=t):e={},tryHandleCache(s,e,n)},exports.clearCache=function(){exports.cache.reset()};function Template(e,t){t=t||{};var n={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source=\"\",this.dependencies=[],n.client=t.client||!1,n.escapeFunction=t.escape||utils.escapeXML,n.compileDebug=!1!==t.compileDebug,n.debug=!!t.debug,n.filename=t.filename,n.delimiter=t.delimiter||exports.delimiter||_DEFAULT_DELIMITER,n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.localsName=t.localsName||exports.localsName||_DEFAULT_LOCALS_NAME,n.views=t.views,n.strict?n._with=!1:n._with=void 0===t._with||t._with,this.opts=n,this.regex=this.createRegex()}Template.modes={EVAL:\"eval\",ESCAPED:\"escaped\",RAW:\"raw\",COMMENT:\"comment\",LITERAL:\"literal\"},Template.prototype={createRegex:function(){var e=_REGEX_STRING,t=utils.escapeRegExpChars(this.opts.delimiter);return e=e.replace(/%/g,t),new RegExp(e)},compile:function(){var e,t,n=this.opts,s=\"\",i=\"\",r=n.escapeFunction;this.source||(this.generateSource(),s+=\"  var __output = [], __append = __output.push.bind(__output);\\n\",!1!==n._with&&(s+=\"  with (\"+n.localsName+\" || {}) {\\n\",i+=\"  }\\n\"),i+='  return __output.join(\"\");\\n',this.source=s+this.source+i),e=n.compileDebug?\"var __line = 1\\n  , __lines = \"+JSON.stringify(this.templateText)+\"\\n  , __filename = \"+(n.filename?JSON.stringify(n.filename):\"undefined\")+\";\\ntry {\\n\"+this.source+\"} catch (e) {\\n  rethrow(e, __lines, __filename, __line, escapeFn);\\n}\\n\":this.source,n.client&&(e=\"escapeFn = escapeFn || \"+r.toString()+\";\\n\"+e,n.compileDebug&&(e=\"rethrow = rethrow || \"+rethrow.toString()+\";\\n\"+e)),n.strict&&(e='\"use strict\";\\n'+e),n.debug&&console.log(e);try{t=new Function(n.localsName+\", escapeFn, include, rethrow\",e)}catch(e){throw e instanceof SyntaxError&&(n.filename&&(e.message+=\" in \"+n.filename),e.message+=\" while compiling ejs\\n\\n\",e.message+=\"If the above error is not helpful, you may want to try EJS-Lint:\\n\",e.message+=\"https://github.com/RyanZim/EJS-Lint\"),e}if(n.client)return t.dependencies=this.dependencies,t;var a=function(e){return t.apply(n.context,[e||{},r,function(t,s){var i=utils.shallowCopy({},e);return s&&(i=utils.shallowCopy(i,s)),includeFile(t,n)(i)},rethrow])};return a.dependencies=this.dependencies,a},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/\\r/g,\"\").replace(/^\\s+|\\s+$/gm,\"\")),this.templateText=this.templateText.replace(/[ \\t]*<%_/gm,\"<%_\").replace(/_%>[ \\t]*/gm,\"_%>\");var e=this,t=this.parseTemplateText(),n=this.opts.delimiter;t&&t.length&&t.forEach(function(s,i){var r,a,o,c,l,p;if(0===s.indexOf(\"<\"+n)&&0!==s.indexOf(\"<\"+n+n)&&(a=t[i+2])!=n+\">\"&&a!=\"-\"+n+\">\"&&a!=\"_\"+n+\">\")throw new Error('Could not find matching close tag for \"'+s+'\".');if((o=s.match(/^\\s*include\\s+(\\S+)/))&&(r=t[i-1])&&(r==\"<\"+n||r==\"<\"+n+\"-\"||r==\"<\"+n+\"_\"))return c=utils.shallowCopy({},e.opts),l=includeSource(o[1],c),p=e.opts.compileDebug?\"    ; (function(){\\n      var __line = 1\\n      , __lines = \"+JSON.stringify(l.template)+\"\\n      , __filename = \"+JSON.stringify(l.filename)+\";\\n      try {\\n\"+l.source+\"      } catch (e) {\\n        rethrow(e, __lines, __filename, __line, escapeFn);\\n      }\\n    ; }).call(this)\\n\":\"    ; (function(){\\n\"+l.source+\"    ; }).call(this)\\n\",e.source+=p,void e.dependencies.push(exports.resolveInclude(o[1],c.filename));e.scanLine(s)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,s=n.exec(t),i=[];s;)0!==(e=s.index)&&(i.push(t.substring(0,e)),t=t.slice(e)),i.push(s[0]),t=t.slice(s[0].length),s=n.exec(t);return t&&i.push(t),i},_addOutput:function(e){if(this.truncate?(e=e.replace(/^(?:\\r\\n|\\r|\\n)/,\"\"),this.truncate=!1):this.opts.rmWhitespace&&(e=e.replace(/^\\n/,\"\")),!e)return e;e=(e=(e=(e=e.replace(/\\\\/g,\"\\\\\\\\\")).replace(/\\n/g,\"\\\\n\")).replace(/\\r/g,\"\\\\r\")).replace(/\"/g,'\\\\\"'),this.source+='    ; __append(\"'+e+'\")\\n'},scanLine:function(e){var t=this.opts.delimiter,n=0;switch(n=e.split(\"\\n\").length-1,e){case\"<\"+t:case\"<\"+t+\"_\":this.mode=Template.modes.EVAL;break;case\"<\"+t+\"=\":this.mode=Template.modes.ESCAPED;break;case\"<\"+t+\"-\":this.mode=Template.modes.RAW;break;case\"<\"+t+\"#\":this.mode=Template.modes.COMMENT;break;case\"<\"+t+t:this.mode=Template.modes.LITERAL,this.source+='    ; __append(\"'+e.replace(\"<\"+t+t,\"<\"+t)+'\")\\n';break;case t+t+\">\":this.mode=Template.modes.LITERAL,this.source+='    ; __append(\"'+e.replace(t+t+\">\",t+\">\")+'\")\\n';break;case t+\">\":case\"-\"+t+\">\":case\"_\"+t+\">\":this.mode==Template.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf(\"-\")||0===e.indexOf(\"_\");break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:e.lastIndexOf(\"//\")>e.lastIndexOf(\"\\n\")&&(e+=\"\\n\")}switch(this.mode){case Template.modes.EVAL:this.source+=\"    ; \"+e+\"\\n\";break;case Template.modes.ESCAPED:this.source+=\"    ; __append(escapeFn(\"+stripSemi(e)+\"))\\n\";break;case Template.modes.RAW:this.source+=\"    ; __append(\"+stripSemi(e)+\")\\n\";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&n&&(this.currentLine+=n,this.source+=\"    ; __line = \"+this.currentLine+\"\\n\")}},exports.escapeXML=utils.escapeXML,exports.__express=exports.renderFile,require.extensions&&(require.extensions[\".ejs\"]=function(e,t){var n=t||e.filename,s={filename:n,client:!0},i=fileLoader(n).toString(),r=exports.compile(i,s);e._compile(\"module.exports = \"+r.toString()+\";\",n)}),exports.VERSION=_VERSION_STRING,exports.name=_NAME,\"undefined\"!=typeof window&&(window.ejs=exports);","node_modules/ejs/lib/utils.js":"\"use strict\";var regExpChars=/[|\\\\{}()[\\]^$+*?.]/g;exports.escapeRegExpChars=function(t){return t?String(t).replace(regExpChars,\"\\\\$&\"):\"\"};var _ENCODE_HTML_RULES={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&#34;\",\"'\":\"&#39;\"},_MATCH_HTML=/[&<>\\'\"]/g;function encode_char(t){return _ENCODE_HTML_RULES[t]||t}var escapeFuncStr='var _ENCODE_HTML_RULES = {\\n      \"&\": \"&amp;\"\\n    , \"<\": \"&lt;\"\\n    , \">\": \"&gt;\"\\n    , \\'\"\\': \"&#34;\"\\n    , \"\\'\": \"&#39;\"\\n    }\\n  , _MATCH_HTML = /[&<>\\'\"]/g;\\nfunction encode_char(c) {\\n  return _ENCODE_HTML_RULES[c] || c;\\n};\\n';exports.escapeXML=function(t){return void 0==t?\"\":String(t).replace(_MATCH_HTML,encode_char)},exports.escapeXML.toString=function(){return Function.prototype.toString.call(this)+\";\\n\"+escapeFuncStr},exports.shallowCopy=function(t,n){n=n||{};for(var r in n)t[r]=n[r];return t},exports.shallowCopyFromList=function(t,n,r){for(var e=0;e<r.length;e++){var a=r[e];void 0!==n[a]&&(t[a]=n[a])}return t},exports.cache={_data:{},set:function(t,n){this._data[t]=n},get:function(t){return this._data[t]},reset:function(){this._data={}}};","node_modules/ejs/package.json":{"_from":"ejs@~2.5.7","_id":"ejs@2.5.7","_inBundle":false,"_integrity":"sha1-zIcsFoiArjxxiXYv1f/ACJbJUYo=","_location":"/ejs","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"ejs@~2.5.7","name":"ejs","escapedName":"ejs","rawSpec":"~2.5.7","saveSpec":null,"fetchSpec":"~2.5.7"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/ejs/-/ejs-2.5.7.tgz","_shasum":"cc872c168880ae3c7189762fd5ffc00896c9518a","_spec":"ejs@~2.5.7","_where":"c:\\Workspace\\walkner\\walkner-maxos","author":{"name":"Matthew Eernisse","email":"mde@fleegix.org","url":"http://fleegix.org"},"bugs":{"url":"https://github.com/mde/ejs/issues"},"bundleDependencies":false,"contributors":[{"name":"Timothy Gu","email":"timothygu99@gmail.com","url":"https://timothygu.github.io"}],"dependencies":{},"deprecated":false,"description":"Embedded JavaScript templates","devDependencies":{"browserify":"^13.0.1","eslint":"^3.0.0","git-directory-deploy":"^1.5.1","istanbul":"~0.4.3","jake":"^8.0.0","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^3.0.2","uglify-js":"^2.6.2"},"engines":{"node":">=0.10.0"},"homepage":"https://github.com/mde/ejs","keywords":["template","engine","ejs"],"license":"Apache-2.0","main":"./lib/ejs.js","name":"ejs","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"scripts":{"coverage":"istanbul cover node_modules/mocha/bin/_mocha","devdoc":"jake doc[dev]","doc":"jake doc","lint":"eslint \"**/*.js\" Jakefile","test":"jake test"},"version":"2.5.7"},"node_modules/messageformat-amd/lib/localeLib.js":"\"use strict\";var path=require(\"path\");exports.resolveFile=function(e,r){return null===e?require.resolve(\"messageformat/locale/\"+r):path.join(e,r+\".js\")},exports.wrap=function(e){return[\"define(function() {\",\"var MessageFormat = {locale: {}};\",\"return \"+e,\"});\"].join(\"\\n\")};","node_modules/messageformat-amd/lib/nlsLib.js":"\"use strict\";var MessageFormat=require(\"messageformat\");exports.compileObject=function(e,n){return compileObject(new MessageFormat(e,function(){}),n)},exports.wrap=function(e,n,t,r){return['define([\"'+e+n+'\"], function(locale) {',(r||function(){return\"\"})(n),\"return \"+t+\";\",\"});\"].join(\"\\n\")};function compileObject(e,n){for(var t=\"{\\n\",r=Object.keys(n),o=r.length,c=o-1,i=0;i<o;++i){var u=r[i],a=n[u],l=typeof a;t+=JSON.stringify(u)+\": \",t+=null===a?\"null\":\"boolean\"===l?a?\"true\":\"false\":\"object\"===l?compileObject(e,a):e.precompile(e.parse(String(a))),i!==c&&(t+=\",\"),t+=\"\\n\"}return t+\"}\"}","node_modules/messageformat-amd/lib/middleware/locale.js":"\"use strict\";var readFile=require(\"fs\").readFile,localeLib=require(\"../localeLib\");module.exports=createLocaleMiddleware;function createLocaleMiddleware(e){return e=setUpOptions(e),function(r,t,l){var a=resolveLocaleFiles(e.root,r.url);if(0===a.length)return l();readNextLocaleFile(a,e.wrap,t,l)}}function setUpOptions(e){var r={};e||(e={});var t=e.root;if(\"string\"==typeof t){var l=t[t.length-1];r.root=\"/\"===l||\"\\\\\"===l?t.substring(0,t.length-1):t}else r.root=null;return r.wrap=\"function\"==typeof e.wrap?e.wrap:localeLib.wrap,r}function resolveLocaleFiles(e,r){var t=r.match(/^\\/([a-z0-9]+(?:-[a-z0-9]+)?)\\.js$/i);if(null===t)return null;for(var l=t[1],a=[];;){var i;try{i=localeLib.resolveFile(e,l)}catch(e){i=null}null!==i&&a.push(i);var o=l.lastIndexOf(\"-\");if(-1===o)break;l=l.substr(0,o)}return a}function readNextLocaleFile(e,r,t,l){var a=e.shift();readFile(a,\"utf8\",function(a,i){if(a)return\"ENOENT\"===a.code&&e.length>0?readNextLocaleFile(e,r,t,l):l(a);t.setHeader(\"Content-Type\",\"application/javascript\"),t.end(r(i))})}","node_modules/messageformat-amd/lib/middleware/nls.js":"\"use strict\";var fs=require(\"fs\"),nlsLib=require(\"../nlsLib\"),MessageFormat=require(\"messageformat\");module.exports=createNlsMiddleware;function createNlsMiddleware(e){return e=setUpOptions(e),function(r,t,n){if(null===r.url.match(/^(?:\\/[a-z0-9\\-]+)?\\/([a-z0-9-_]+)\\.js$/i))return n();var l=e.defaultLocale,a=r.url.indexOf(\"/\",1);-1!==a&&(l=r.url.substring(1,a));var o;if(\"function\"==typeof e.jsonPath){var s=-1===a?r.url.substr(1):r.url.substr(a+1);o=e.jsonPath(l===e.defaultLocale?null:l,s.replace(/\\.js$/,\"\"))}else o=e.jsonPath+r.url+\"on\";return compileJsonFile(o,l,e,t,n)}}function setUpOptions(e){var r={};e||(e={});var t=e.jsonPath;if(\"function\"!=typeof t)if(\"string\"==typeof t){var n=t.charAt(t.length-1);\"/\"!==n&&\"\\\\\"!==n||(t=t.substr(0,t.length-1))}else t=\"nls\";return r.jsonPath=t,r.defaultLocale=\"string\"==typeof e.defaultLocale?e.defaultLocale:\"en\",r.localeModulePrefix=\"string\"==typeof e.localeModulePrefix?e.localeModulePrefix:\"nls/locale/\",r.wrap=\"function\"==typeof e.wrap?e.wrap:nlsLib.wrap,r.includeJs=\"function\"==typeof e.includeJs?e.includeJs:function(e){var r=new MessageFormat(e,function(r){return e(r)});return\"var \"+r.globalName+\" = \"+r.functions()+\";\"},r}function compileJsonFile(e,r,t,n,l){fs.readFile(e,\"utf8\",function(e,a){if(e)return l();var o;try{o=nlsLib.compileObject(r,JSON.parse(a))}catch(e){return l(e)}n.setHeader(\"content-type\",\"application/javascript\"),n.end(t.wrap(t.localeModulePrefix,r,o,t.includeJs))})}","node_modules/messageformat/messageformat.js":"!function(t){function e(t,r,n){var o=t||\"en\";if(r)e.locale[o]=r;else{for(;o&&!e.locale.hasOwnProperty(o);)o=o.replace(/[-_]?[^-_]*$/,\"\");o||(o=t.replace(/[-_].*$/,\"\"),e.loadLocale(o))}this.lc=o,this.globalName=n||\"i18n\"}\"locale\"in e||(e.locale={}),e.loadLocale=function(t){try{var r=require(\"path\").join(__dirname,\"locale\",t+\".js\"),n=(\"\"+require(\"fs\").readFileSync(r)).match(/{[^]*}/);if(!n)throw\"no function found in file '\"+r+\"'\";e.locale[t]=\"function(n)\"+n}catch(r){if(\"en\"!=t)throw r.message=\"Locale \"+t+\" could not be loaded: \"+r.message,r;e.locale[t]='function(n){return n===1?\"one\":\"other\"}'}},e.prototype.functions=function(){var t=[];for(var r in e.locale)e.locale.hasOwnProperty(r)&&t.push(JSON.stringify(r)+\":\"+e.locale[r].toString().trim());return\"{lc:{\"+t.join(\",\")+'},\\nc:function(d,k){if(!d)throw new Error(\"MessageFormat: Data required for \\'\"+k+\"\\'.\")},\\nn:function(d,k,o){if(isNaN(d[k]))throw new Error(\"MessageFormat: \\'\"+k+\"\\' isn\\'t a number.\");return d[k]-(o||0)},\\nv:function(d,k){'+this.globalName+\".c(d,k);return d[k]},\\np:function(d,k,o,l,p){\"+this.globalName+\".c(d,k);return d[k] in p?p[d[k]]:(k=\"+this.globalName+\".lc[l](d[k]-o),k in p?p[k]:p.other)},\\ns:function(d,k,p){\"+this.globalName+\".c(d,k);return d[k] in p?p[d[k]]:p.other}}\"};var r=function(){function t(t,e,r,n,o,a){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=a,this.name=\"SyntaxError\"}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error);return{SyntaxError:t,parse:function(e){var r,n=arguments.length>1?arguments[1]:{},o={},a={start:_t},u=_t,i=function(t){return{type:\"program\",program:t}},l=o,c=function(t,e){var r=[];t&&t.val&&r.push(t);for(var n in e)e.hasOwnProperty(n)&&r.push(e[n]);return{type:\"messageFormatPattern\",statements:r}},s=\"{\",p={type:\"literal\",value:\"{\",description:'\"{\"'},f=\"}\",h={type:\"literal\",value:\"}\",description:'\"}\"'},m=function(t,e){var r=[];return t&&r.push(t),e&&e.val&&r.push(e),{type:\"messageFormatPatternRight\",statements:r}},d=null,v=\",\",y={type:\"literal\",value:\",\",description:'\",\"'},g=function(t,e){var r={type:\"messageFormatElement\",argumentIndex:t};return e&&e.length?r.elementFormat=e[1]:r.output=!0,r},F=\"plural\",A={type:\"literal\",value:\"plural\",description:'\"plural\"'},k=function(t,e){return{type:\"elementFormat\",key:t,val:e.val}},x=\"select\",_={type:\"literal\",value:\"select\",description:'\"select\"'},w=function(t){return{type:\"pluralStyle\",val:t}},b=function(t){return{type:\"selectStyle\",val:t}},C=function(t,e){var r={type:\"pluralFormatPattern\",pluralForms:e};return r.offset=t||0,r},N=\"offset\",j={type:\"literal\",value:\"offset\",description:'\"offset\"'},E=\":\",P={type:\"literal\",value:\":\",description:'\":\"'},S=function(t){return t},R=function(t){return{type:\"selectFormatPattern\",pluralForms:t}},O=function(t,e){return{type:\"pluralForms\",key:t,val:e}},$=function(t){return t},I=\"=\",J={type:\"literal\",value:\"=\",description:'\"=\"'},M=function(t,e){for(var r=[],n=0;n<e.length;++n)for(var o=0;o<e[n].length;++o)r.push(e[n][o]);return{type:\"string\",val:t+r.join(\"\")}},q=/^[0-9a-zA-Z$_]/,z={type:\"class\",value:\"[0-9a-zA-Z$_]\",description:\"[0-9a-zA-Z$_]\"},L=/^[^ \\t\\n\\r,.+={}]/,Z={type:\"class\",value:\"[^ \\\\t\\\\n\\\\r,.+={}]\",description:\"[^ \\\\t\\\\n\\\\r,.+={}]\"},B=function(t,e){return t+(e?e.join(\"\"):\"\")},D=function(t){return t.join(\"\")},T=/^[^{}\\\\\\0-\\x1F \\t\\n\\r]/,U={type:\"class\",value:\"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\",description:\"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\"},G=function(t){return t},H=\"\\\\#\",K={type:\"literal\",value:\"\\\\#\",description:'\"\\\\\\\\#\"'},Q=function(){return\"\\\\#\"},V=\"\\\\{\",W={type:\"literal\",value:\"\\\\{\",description:'\"\\\\\\\\{\"'},X=function(){return\"{\"},Y=\"\\\\}\",tt={type:\"literal\",value:\"\\\\}\",description:'\"\\\\\\\\}\"'},et=function(){return\"}\"},rt=\"\\\\u\",nt={type:\"literal\",value:\"\\\\u\",description:'\"\\\\\\\\u\"'},ot=function(t,e,r,n){return String.fromCharCode(parseInt(\"0x\"+t+e+r+n))},at=/^[0-9]/,ut={type:\"class\",value:\"[0-9]\",description:\"[0-9]\"},it=function(t){return parseInt(t.join(\"\"),10)},lt=/^[0-9a-fA-F]/,ct={type:\"class\",value:\"[0-9a-fA-F]\",description:\"[0-9a-fA-F]\"},st={type:\"other\",description:\"whitespace\"},pt=function(t){return t.join(\"\")},ft=/^[ \\t\\n\\r]/,ht={type:\"class\",value:\"[ \\\\t\\\\n\\\\r]\",description:\"[ \\\\t\\\\n\\\\r]\"},mt=0,dt=0,vt={line:1,column:1,seenCR:!1},yt=0,gt=[],Ft=0;if(\"startRule\"in n){if(!(n.startRule in a))throw new Error(\"Can't start parsing from rule \\\"\"+n.startRule+'\".');u=a[n.startRule]}function At(t){return dt!==t&&(dt>t&&(dt=0,vt={line:1,column:1,seenCR:!1}),function(t,r,n){var o,a;for(o=r;o<n;o++)\"\\n\"===(a=e.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):\"\\r\"===a||\"\\u2028\"===a||\"\\u2029\"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(vt,dt,t),dt=t),vt}function kt(t){mt<yt||(mt>yt&&(yt=mt,gt=[]),gt.push(t))}function xt(r,n,o){var a=At(o),u=o<e.length?e.charAt(o):null;return null!==n&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(n),new t(null!==r?r:function(t,e){var r,n,o,a=new Array(t.length);for(o=0;o<t.length;o++)a[o]=t[o].description;return r=t.length>1?a.slice(0,-1).join(\", \")+\" or \"+a[t.length-1]:a[0],n=e?'\"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"').replace(/\\x08/g,\"\\\\b\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\f/g,\"\\\\f\").replace(/\\r/g,\"\\\\r\").replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g,function(t){return\"\\\\x0\"+e(t)}).replace(/[\\x10-\\x1F\\x80-\\xFF]/g,function(t){return\"\\\\x\"+e(t)}).replace(/[\\u0180-\\u0FFF]/g,function(t){return\"\\\\u0\"+e(t)}).replace(/[\\u1080-\\uFFFF]/g,function(t){return\"\\\\u\"+e(t)})}(e)+'\"':\"end of input\",\"Expected \"+r+\" but \"+n+\" found.\"}(n,u),n,u,o,a.line,a.column)}function _t(){var t;return mt,(t=wt())!==o&&(t=i(t)),t}function wt(){var t,e,r,n;if(t=mt,(e=Nt())!==o){for(r=[],n=bt();n!==o;)r.push(n),n=bt();r!==o?t=e=c(e,r):(mt=t,t=l)}else mt=t,t=l;return t}function bt(){var t,r,n,a,u;return t=mt,123===e.charCodeAt(mt)?(r=s,mt++):(r=o,0===Ft&&kt(p)),r!==o&&Ot()!==o&&(n=function(){var t,r,n,a,u;return t=mt,(r=jt())!==o?(n=mt,44===e.charCodeAt(mt)?(a=v,mt++):(a=o,0===Ft&&kt(y)),a!==o&&(u=function(){var t,r,n,a,u;return t=mt,(r=Ot())!==o?(e.substr(mt,6)===F?(n=F,mt+=6):(n=o,0===Ft&&kt(A)),n!==o&&Ot()!==o?(44===e.charCodeAt(mt)?(a=v,mt++):(a=o,0===Ft&&kt(y)),a!==o&&Ot()!==o&&(u=function(){var t;return mt,(t=function(){var t,r,n,a;if(t=mt,(r=function(){var t,r,n,a,u;return t=mt,(r=Ot())!==o?(e.substr(mt,6)===N?(n=N,mt+=6):(n=o,0===Ft&&kt(j)),n!==o&&Ot()!==o?(58===e.charCodeAt(mt)?(a=E,mt++):(a=o,0===Ft&&kt(P)),a!==o&&Ot()!==o&&(u=St())!==o&&Ot()!==o?(r=S(u),t=r):(mt=t,t=l)):(mt=t,t=l)):(mt=t,t=l),t}())===o&&(r=d),r!==o){for(n=[],a=Ct();a!==o;)n.push(a),a=Ct();n!==o?(r=C(r,n),t=r):(mt=t,t=l)}else mt=t,t=l;return t}())!==o&&(t=w(t)),t}())!==o&&Ot()!==o?(r=k(n,u),t=r):(mt=t,t=l)):(mt=t,t=l)):(mt=t,t=l),t===o&&(t=mt,(r=Ot())!==o?(e.substr(mt,6)===x?(n=x,mt+=6):(n=o,0===Ft&&kt(_)),n!==o&&Ot()!==o?(44===e.charCodeAt(mt)?(a=v,mt++):(a=o,0===Ft&&kt(y)),a!==o&&Ot()!==o&&(u=function(){var t;return mt,(t=function(){var t,e;for(mt,t=[],e=Ct();e!==o;)t.push(e),e=Ct();return t!==o&&(t=R(t)),t}())!==o&&(t=b(t)),t}())!==o&&Ot()!==o?(r=k(n,u),t=r):(mt=t,t=l)):(mt=t,t=l)):(mt=t,t=l)),t}())!==o?n=a=[a,u]:(mt=n,n=l),n===o&&(n=d),n!==o?(r=g(r,n),t=r):(mt=t,t=l)):(mt=t,t=l),t}())!==o&&Ot()!==o?(125===e.charCodeAt(mt)?(a=f,mt++):(a=o,0===Ft&&kt(h)),a!==o&&(u=Nt())!==o?t=r=m(n,u):(mt=t,t=l)):(mt=t,t=l),t}function Ct(){var t,r,n,a,u;return t=mt,Ot()!==o&&(r=function(){var t,r,n;return t=mt,(r=jt())!==o&&(r=$(r)),(t=r)===o&&(t=mt,61===e.charCodeAt(mt)?(r=I,mt++):(r=o,0===Ft&&kt(J)),r!==o&&(n=St())!==o?(r=S(n),t=r):(mt=t,t=l)),t}())!==o&&Ot()!==o?(123===e.charCodeAt(mt)?(n=s,mt++):(n=o,0===Ft&&kt(p)),n!==o&&Ot()!==o&&(a=wt())!==o&&Ot()!==o?(125===e.charCodeAt(mt)?(u=f,mt++):(u=o,0===Ft&&kt(h)),u!==o?t=O(r,a):(mt=t,t=l)):(mt=t,t=l)):(mt=t,t=l),t}function Nt(){var t,e,r,n,a,u,i;if(t=mt,(e=Ot())!==o){for(r=[],n=mt,(a=Ot())!==o&&(u=Et())!==o&&(i=Ot())!==o?n=a=[a,u,i]:(mt=n,n=l);n!==o;)r.push(n),n=mt,(a=Ot())!==o&&(u=Et())!==o&&(i=Ot())!==o?n=a=[a,u,i]:(mt=n,n=l);r!==o?t=e=M(e,r):(mt=t,t=l)}else mt=t,t=l;return t}function jt(){var t,r,n,a;if(t=mt,Ot()!==o)if(q.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=o,0===Ft&&kt(z)),r!==o){for(n=[],L.test(e.charAt(mt))?(a=e.charAt(mt),mt++):(a=o,0===Ft&&kt(Z));a!==o;)n.push(a),L.test(e.charAt(mt))?(a=e.charAt(mt),mt++):(a=o,0===Ft&&kt(Z));n!==o&&(a=Ot())!==o?t=B(r,n):(mt=t,t=l)}else mt=t,t=l;else mt=t,t=l;return t}function Et(){var t,e;if(mt,t=[],(e=Pt())!==o)for(;e!==o;)t.push(e),e=Pt();else t=l;return t!==o&&(t=D(t)),t}function Pt(){var t,r,n,a,u,i;return t=mt,T.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=o,0===Ft&&kt(U)),r!==o&&(r=G(r)),(t=r)===o&&(t=mt,e.substr(mt,2)===H?(r=H,mt+=2):(r=o,0===Ft&&kt(K)),r!==o&&(r=Q()),(t=r)===o&&(t=mt,e.substr(mt,2)===V?(r=V,mt+=2):(r=o,0===Ft&&kt(W)),r!==o&&(r=X()),(t=r)===o&&(t=mt,e.substr(mt,2)===Y?(r=Y,mt+=2):(r=o,0===Ft&&kt(tt)),r!==o&&(r=et()),(t=r)===o&&(t=mt,e.substr(mt,2)===rt?(r=rt,mt+=2):(r=o,0===Ft&&kt(nt)),r!==o&&(n=Rt())!==o&&(a=Rt())!==o&&(u=Rt())!==o&&(i=Rt())!==o?t=r=ot(n,a,u,i):(mt=t,t=l))))),t}function St(){var t,r;if(mt,t=[],at.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=o,0===Ft&&kt(ut)),r!==o)for(;r!==o;)t.push(r),at.test(e.charAt(mt))?(r=e.charAt(mt),mt++):(r=o,0===Ft&&kt(ut));else t=l;return t!==o&&(t=it(t)),t}function Rt(){var t;return lt.test(e.charAt(mt))?(t=e.charAt(mt),mt++):(t=o,0===Ft&&kt(ct)),t}function Ot(){var t,e,r;for(Ft++,t=mt,e=[],r=$t();r!==o;)e.push(r),r=$t();return e!==o&&(e=pt(e)),t=e,Ft--,t===o&&(e=o,0===Ft&&kt(st)),t}function $t(){var t;return ft.test(e.charAt(mt))?(t=e.charAt(mt),mt++):(t=o,0===Ft&&kt(ht)),t}if((r=u())!==o&&mt===e.length)return r;throw r!==o&&mt<e.length&&kt({type:\"end\",description:\"end of input\"}),xt(null,gt,yt)}}}();e.prototype.parse=function(){return r.parse.apply(r,arguments)},e.prototype.precompile=function(t){var e=this,r=!1;function n(t){var e=JSON.parse(JSON.stringify(t));return e.pf_count++,e}function o(t,a){a=a||{keys:{},offset:{}};var u,i,l=[];switch(t.type){case\"program\":return o(t.program);case\"messageFormatPattern\":for(u=0;u<t.statements.length;++u)l.push(o(t.statements[u],a));return i=l.join(\"+\")||'\"\"',a.pf_count?i:\"function(d){return \"+i+\"}\";case\"messageFormatPatternRight\":for(u=0;u<t.statements.length;++u)l.push(o(t.statements[u],a));return l.join(\"+\");case\"messageFormatElement\":return a.pf_count=a.pf_count||0,t.output?e.globalName+'.v(d,\"'+t.argumentIndex+'\")':(a.keys[a.pf_count]='\"'+t.argumentIndex+'\"',o(t.elementFormat,a));case\"elementFormat\":return\"select\"===t.key?e.globalName+\".s(d,\"+a.keys[a.pf_count]+\",\"+o(t.val,a)+\")\":\"plural\"===t.key?(a.offset[a.pf_count||0]=t.val.offset||0,e.globalName+\".p(d,\"+a.keys[a.pf_count]+\",\"+(a.offset[a.pf_count]||0)+',\"'+e.lc+'\",'+o(t.val,a)+\")\"):\"\";case\"pluralFormatPattern\":for(a.pf_count=a.pf_count||0,r=!0,u=0;u<t.pluralForms.length;++u)\"other\"===t.pluralForms[u].key&&(r=!1),l.push('\"'+t.pluralForms[u].key+'\":'+o(t.pluralForms[u].val,n(a)));if(r)throw new Error(\"No 'other' form found in pluralFormatPattern \"+a.pf_count);return\"{\"+l.join(\",\")+\"}\";case\"selectFormatPattern\":for(a.pf_count=a.pf_count||0,a.offset[a.pf_count]=0,r=!0,u=0;u<t.pluralForms.length;++u)\"other\"===t.pluralForms[u].key&&(r=!1),l.push('\"'+t.pluralForms[u].key+'\":'+o(t.pluralForms[u].val,n(a)));if(r)throw new Error(\"No 'other' form found in selectFormatPattern \"+a.pf_count);return\"{\"+l.join(\",\")+\"}\";case\"string\":if(i='\"'+(t.val||\"\").replace(/\\n/g,\"\\\\n\").replace(/\"/g,'\\\\\"')+'\"',a.pf_count){var c=a.offset[a.pf_count-1];i=(i=i.replace(/(^|[^\\\\])#/g,'$1\"+'+e.globalName+\".n(d,\"+a.keys[a.pf_count-1]+(c?\",\"+c:\"\")+')+\"')).replace(/^\"\"\\+/,\"\").replace(/\\+\"\"$/,\"\")}return i;default:throw new Error(\"Bad AST type: \"+t.type)}}return o(t)},e.prototype.compile=function(t){return new Function(\"this['\"+this.globalName+\"']=\"+this.functions()+\";return \"+this.precompile(this.parse(t)))()},e.prototype.precompileObject=function(t){var e=[];for(var r in t)e.push(JSON.stringify(r)+\":\"+this.precompile(this.parse(t[r])));return\"{\\n\"+e.join(\",\\n\")+\"}\"},\"undefined\"!=typeof exports?(\"undefined\"!=typeof module&&module.exports&&(exports=module.exports=e),exports.MessageFormat=e):\"function\"==typeof define&&define.amd?define(function(){return e}):t.MessageFormat=e}(this);","node_modules/h5.rql/lib/index.js":"\"use strict\";var Term=require(\"./Term\"),Query=require(\"./Query\"),Parser=require(\"./Parser\"),specialTerms=require(\"./specialTerms\"),valueConverters=require(\"./valueConverters\");exports.Term=Term,exports.Query=Query,exports.Parser=Parser,exports.specialTerms=specialTerms,exports.valueConverters=valueConverters,exports.parser=null,exports.parse=function(e){null===exports.parser&&(exports.parser=new Parser({jsonQueryCompatible:!0,fiqlCompatible:!0,allowEmptyValues:!1,allowSlashedArrays:!0,specialTerms:Object.keys(specialTerms)}));var r=new Query,s={};r.selector=exports.parser.parse(e,s);for(var a in s)s.hasOwnProperty(a)&&specialTerms.hasOwnProperty(a)&&specialTerms[a](r,a,s[a]);return r};","node_modules/h5.rql/lib/Term.js":"\"use strict\";module.exports=Term;function Term(e,s){this.name=e||null,this.args=s||[]}","node_modules/h5.rql/lib/Query.js":"\"use strict\";var Term=require(\"./Term\"),stringSerializer=require(\"./serializers/stringSerializer\");module.exports=Query;function Query(){this.selector=new Term(\"and\"),this.fields={},this.skip=0,this.limit=-1,this.sort={}}Query.fromObject=function(e){if(e instanceof Query)return e;var r=new Query;return e?(e.selector&&(r.selector=e.selector),e.fields&&(r.fields=e.fields),e.skip&&(r.skip=e.skip),e.limit&&(r.limit=e.limit),e.sort&&(r.sort=e.sort),r):r},Query.prototype.toString=function(e){return stringSerializer.fromQuery(this,e)},Query.prototype.isEmpty=function(){return 0===this.skip&&-1===this.limit&&0===Object.keys(this.fields).length&&0===Object.keys(this.sort).length&&0===this.selector.args.length};","node_modules/h5.rql/lib/Parser.js":"\"use strict\";var Term=require(\"./Term\"),valueConverters=require(\"./valueConverters\");module.exports=Parser,module.exports.Options=ParserOptions;var validCharactersRegExp=/^[\\+\\*\\$\\-:\\w%\\._!'~]$/,slashedArraysRegExp=/[\\+\\*\\$\\-:\\w%\\._!'~]*\\/[\\+\\*\\$\\-:\\w%\\._!'~\\/]*/g,fiqlRegExp=new RegExp(\"(\\\\([\\\\+\\\\*\\\\$\\\\-:\\\\w%\\\\._,]+\\\\)|[\\\\+\\\\*\\\\$\\\\-:\\\\w%\\\\._]*|)([<>!]?=(?:[\\\\w]*=)?|>|<)(\\\\([\\\\+\\\\*\\\\$\\\\-:\\\\w%\\\\._,!'~]*\\\\)|[\\\\+\\\\*\\\\$\\\\-:\\\\w%\\\\._!'~]*|)\",\"g\"),operatorMap={\"=\":\"eq\",\"==\":\"eq\",\">\":\"gt\",\">=\":\"ge\",\"<\":\"lt\",\"<=\":\"le\",\"!=\":\"ne\"};function ParserOptions(e){\"object\"==typeof e&&null!==e||(e={}),this.jsonQueryCompatible=!0===e.jsonQueryCompatible,this.fiqlCompatible=void 0===e.fiqlCompatible||!0===e.fiqlCompatible,this.allowSlashedArrays=!0===e.allowSlashedArrays,this.allowEmptyValues=!0===e.allowEmptyValues,this.defaultValueConverter=\"function\"==typeof e.defaultValueConverter?e.defaultValueConverter:valueConverters.default,this.specialTerms=Array.isArray(e.specialTerms)?e.specialTerms:[],this.emptyValue=e.hasOwnProperty(\"emptyValue\")?e.emptyValue:\"\"}function Parser(e){this.options=e instanceof ParserOptions?e:new ParserOptions(e)}Parser.prototype.parse=function(e,r){var t=\"object\"==typeof r&&null!==r,a=this.options.specialTerms,n=null,s=new Term,o=[],l=!0;this.options.jsonQueryCompatible&&(e=this.makeJsonQueryCompatible(e)),this.options.allowSlashedArrays&&(e=this.convertSlashedArrays(e)),this.options.fiqlCompatible&&(e=this.convertFiql(e));for(var i=0,u=e.length;i<u;++i){var p=e[i];switch(p){case\"(\":o.push(s),s=new Term(n),t&&null!==n&&-1!==a.indexOf(n)&&(delete r[n],r[n]=s.args),n=null,l=!0;break;case\",\":if(!1===l){if(!this.options.allowEmptyValues)throw new Error(\"Empty value at position \"+i+\" is not allowed.\");n=this.options.emptyValue}null!==n&&(s.args.push(this.convertStringToValue(n)),n=null),l=!1;break;case\")\":null!==n&&(s.args.push(this.convertStringToValue(n)),n=null);var h=null===s.name?s.args:s;(s=o.pop()).args.push(h),l=!0;break;case\"&\":case\"|\":var c=\"&\"===p?\"and\":\"or\";if(null!==s.name&&s.name!==c)throw new Error(\"Can not mix conjunctions within a group at position \"+i+\", use parenthesises around each set of the same conjunctions (& and |)\");s.name=\"&\"===p?\"and\":\"or\",null!==n&&(s.args.push(this.convertStringToValue(n)),n=null);break;default:if(!validCharactersRegExp.test(p))throw new Error(\"Invalid character at position \"+i+\": '\"+p+\"' (\"+p.charCodeAt(0)+\")\");null===n?n=p:n+=p,l=!0}}return null!==n&&s.args.push(this.convertStringToValue(n)),null===s.name&&(s.name=\"and\"),\"and\"===s.name&&1===s.args.length&&s.args[0]instanceof Term&&\"and\"===s.args[0].name&&(s=s.args[0]),s},Parser.prototype.makeJsonQueryCompatible=function(e){return e.replace(/%3C=/g,\"=le=\").replace(/%3E=/g,\"=ge=\").replace(/%3C/g,\"=lt=\").replace(/%3E/g,\"=gt=\")},Parser.prototype.convertSlashedArrays=function(e){return-1!==e.indexOf(\"/\")?e.replace(slashedArraysRegExp,function(e){return\"(\"+e.replace(/\\//g,\",\")+\")\"}):e},Parser.prototype.convertFiql=function(e){return e.replace(fiqlRegExp,function(e,r,t,a){return(t=t.length<3?operatorMap[t]:t.substring(1,t.length-1))+\"(\"+r+\",\"+a+\")\"})},Parser.prototype.convertStringToValue=function(e){var r,t=e.indexOf(\":\");if(-1!==t){var a=e.substr(0,t);if(void 0===(r=valueConverters[a]))throw new Error(\"Unknown value converter: \"+a);e=e.substr(t+1)}else r=this.options.defaultValueConverter;return r(e,this)};","node_modules/h5.rql/lib/specialTerms.js":"\"use strict\";module.exports={select:selectTermHandler,exclude:selectTermHandler,sort:sortTermHandler,limit:limitTermHandler};function selectTermHandler(r,e,t){r.fields={};for(var s=\"select\"===e,l=0,i=t.length;l<i;++l){var a=t[l];Array.isArray(a)&&(a=a.join(\".\")),r.fields[a]=s}}function sortTermHandler(r,e,t){r.sort={};for(var s=0,l=t.length;s<l;++s){var i=t[s];Array.isArray(i)&&(i=i.join(\".\")),\"-\"===i[0]?r.sort[i.substr(1)]=-1:\"+\"===i[0]?r.sort[i.substr(1)]=1:r.sort[i]=1}}function limitTermHandler(r,e,t){var s=parseInt(t[0],10),l=0;t.length>1&&(l=parseInt(t[1],10)),r.limit=isNaN(s)||s<1?-1:s,r.skip=isNaN(l)||l<0?0:l}","node_modules/h5.rql/lib/valueConverters.js":"\"use strict\";var autoConvertedMap=require(\"./autoConvertedMap\");module.exports={default:autoConverter,auto:autoConverter,number:numberConverter,epoch:epochConverter,isodate:isodateConverter,date:dateConverter,boolean:booleanConverter,string:stringConverter,re:regExpConverter,glob:globConverter};function autoConverter(e,r){if(autoConvertedMap.hasOwnProperty(e))return autoConvertedMap[e];var t=+e;return isNaN(t)||t.toString()!==e?(e=decodeURIComponent(e),r.options.jsonQueryCompatible&&\"'\"===e[0]&&\"'\"===e[e.length-1]?JSON.parse('\"'+e.substring(1,e.length-1)+'\"'):e):t}function numberConverter(e){var r=+e;if(isNaN(r))throw new Error(\"Invalid number: \"+e);return r}function epochConverter(e){var r=new Date(+e);if(isNaN(r.getTime()))throw new Error(\"Invalid date: \"+e);return r}function isodateConverter(e){return e=decodeURIComponent(e),e=\"0000\".substr(0,4-e.length)+e,e+=\"0000-01-01T00:00:00Z\".substring(e.length),dateConverter(e)}function dateConverter(e){e=decodeURIComponent(e);var r,t=/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(e);if(r=null!==t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6])):new Date(e),isNaN(r.getTime()))throw new Error(\"Invalid date: \"+e);return r}function booleanConverter(e){return!!e}function stringConverter(e){return decodeURIComponent(e)}function regExpConverter(e){var r=e=decodeURIComponent(e),t=\"\";if(\"/\"===e[0]){var n=e.lastIndexOf(\"/\");r=e.substr(1,n-1),t=e.substr(n+1)}return new RegExp(r,t)}function globConverter(e){return e=decodeURIComponent(e).replace(/([\\\\\\|\\(\\)\\[\\]\\{\\}\\^\\$\\*\\+\\?\\.<>])/g,\"\\\\$1\").replace(/\\\\\\*/g,\".*\").replace(/\\\\\\?/g,\".?\"),e=\".*\"===e.substr(0,2)?e.substr(2):\"^\"+e,e=\".*\"===e.substr(e.length-2)?e.substr(0,e.length-2):e+\"$\",new RegExp(e,\"i\")}","node_modules/h5.rql/lib/serializers/stringSerializer.js":"\"use strict\";var specialTerms=require(\"../specialTerms\"),autoConvertedMap=require(\"../autoConvertedMap\");exports.fromQuery=serializeRqlToString;var cmpOperatorMap={eq:\"=\",ne:\"!=\",le:\"<=\",ge:\">=\",lt:\"<\",gt:\">\",in:\"=in=\",nin:\"=nin=\"};function serializeRqlToString(e,r){var s=[],n=r&&r.doubleEncode?doubleEncodeString:encodeString;return pushFields(s,e.fields),pushSort(s,e.sort),pushLimit(s,e.limit,e.skip),pushSelector(s,n,e.selector),s.join(\"\").substr(1)}function pushFields(e,r){var s=Object.keys(r);0!==s.length&&e.push(r[s[0]]?\"&select(\":\"&exclude(\",s.join(\",\"),\")\")}function pushSort(e,r){var s=Object.keys(r),n=s.length;if(0!==n){e.push(\"&sort(\");for(var t=0;t<n;++t){var u=s[t];-1===r[u]&&e.push(\"-\"),e.push(u),t<n-1&&e.push(\",\")}e.push(\")\")}}function pushLimit(e,r,s){-1!==r&&(e.push(\"&limit(\",r),0!==s&&e.push(\",\",s),e.push(\")\"))}function pushSelector(e,r,s){var n=s.args.length;if(0!==n)if(\"and\"===s.name)for(var t=0;t<n;++t){var u=s.args[t];specialTerms.hasOwnProperty(u.name)||(e.push(\"&\"),pushTerm(e,r,u,n))}else e.push(\"&\"),pushTerm(e,r,s,n,!0)}function pushTerm(e,r,s,n,t){if(Array.isArray(s))pushArray(e,r,s);else if(null!==s&&\"object\"==typeof s&&\"string\"==typeof s.name&&Array.isArray(s.args)){if(cmpOperatorMap.hasOwnProperty(s.name)&&s.args.length>1)return pushTerm(e,r,s.args[0],0),e.push(cmpOperatorMap[s.name]),void pushTerm(e,r,s.args[1],0);var u=\",\";\"and\"===s.name?u=\"&\":\"or\"===s.name&&!0!==t&&(u=\"|\"),pushTermWithArgs(e,r,u,s,n)}else pushValue(e,r,s)}function pushTermWithArgs(e,r,s,n,t){var u=n.args.length;\",\"===s?e.push(n.name,\"(\"):1!==t&&e.push(\"(\");for(var a=0;a<u;++a)pushTerm(e,r,n.args[a],u),a<u-1&&e.push(s);\",\"!==s&&1===t||e.push(\")\")}function pushArray(e,r,s){e.push(\"(\");for(var n=0,t=s.length;n<t;++n)pushTerm(e,r,s[n],t),n<t-1&&e.push(\",\");e.push(\")\")}function pushValue(e,r,s){switch(typeof s){case\"undefined\":e.push(\"undefined\");break;case\"boolean\":e.push(s?\"true\":\"false\");break;case\"number\":e.push(s.toString(10));break;case\"object\":pushObjectValue(e,r,s);break;default:0===s.length?e.push(\"string:\"):isNaN(+s)?autoConvertedMap.hasOwnProperty(s)?e.push(\"string:\",s):e.push(r(s)):e.push(\"string:\",s.toString())}}function pushObjectValue(e,r,s){if(null===s)e.push(\"null\");else if(s instanceof Date)e.push(\"epoch:\",s.getTime().toString());else if(s instanceof RegExp){var n=s.toString(),t=n.lastIndexOf(\"/\");\"\"===n.substr(t+1)&&(n=n.substr(1,t-1)),e.push(\"re:\",r(n))}else\"function\"==typeof s.convertToRqlValue?e.push(s.convertToRqlValue(r)):e.push(r(s.toString()))}function encodeString(e){return e=encodeURIComponent(e),/[\\(\\)]/.test(e)&&(e=e.replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")),e}function doubleEncodeString(e){return encodeString(encodeString(e))}","node_modules/h5.rql/lib/autoConvertedMap.js":"\"use strict\";module.exports={true:!0,false:!1,null:null,undefined:void 0,Infinity:1/0,\"-Infinity\":-1/0};","node_modules/h5.rql/lib/serializers/mongoSerializer.js":"\"use strict\";exports.fromQuery=serializeRqlToMongo,exports.fromQuery.Options=MongoSerializerOptions;function MongoSerializerOptions(r){null==r&&(r={}),this.compactAnd=void 0===r.compactAnd||!0===r.compactAnd,this.allowWhere=!0===r.allowWhere,this.isPropertyAllowed=\"function\"==typeof r.isPropertyAllowed?r.isPropertyAllowed:this.createPropertyFilter(r)}MongoSerializerOptions.prototype.createPropertyFilter=function(r){if(Array.isArray(r.whitelist)){var e=r.whitelist;return function(r){return-1!==e.indexOf(r)}}if(Array.isArray(r.blacklist)){var t=r.blacklist;return function(r){return-1===t.indexOf(r)}}return function(){return!0}};function serializeRqlToMongo(r,e){e instanceof MongoSerializerOptions||(e=new MongoSerializerOptions(e));var t={selector:convertTerm(e,r.selector)||{},fields:r.fields,sort:r.sort,limit:r.limit<1?0:r.limit,skip:r.skip};return e.compactAnd&&Array.isArray(t.selector.$and)&&1===Object.keys(t.selector).length&&(t.selector=compactQueries(t.selector.$and)),t}function convertTerm(r,e){if(\"object\"!=typeof e||null===e||\"string\"!=typeof e.name||!Array.isArray(e.args))return null;switch(e.name){case\"and\":case\"or\":case\"nor\":return convertLogicalOperator(r,e.name,e.args);case\"not\":return convertNotOperator(r,e.args);case\"eq\":case\"ne\":case\"gt\":case\"ge\":case\"lt\":case\"le\":return convertComparisonOperator(r,e.name,e.args);case\"in\":case\"nin\":case\"all\":if(Array.isArray(e.args[1])&&e.args[1].length>0)return convertComparisonOperator(r,e.name,e.args);break;case\"exists\":if(\"boolean\"==typeof e.args[1])return convertBinaryOperator(r,\"exists\",e.args[0],e.args[1]);break;case\"type\":if(\"number\"==typeof e.args[1])return convertBinaryOperator(r,\"type\",e.args[0],e.args[1]);break;case\"mod\":return convertModOperator(r,e.args);case\"where\":if(r.allowWhere&&\"string\"==typeof e.args[0])return{$where:e.args[0]};break;case\"regex\":return convertRegexOperator(r,e.args);case\"size\":if(\"number\"==typeof e.args[1])return convertBinaryOperator(r,\"size\",e.args[0],e.args[1]);break;case\"elemMatch\":return convertElemMatchOperator(r,e.args)}return null}function convertBinaryOperator(r,e,t,n){if(Array.isArray(t)&&(t=t.join(\".\")),!r.isPropertyAllowed(t))return null;var o={};return o[t]={},o[t][\"$\"+e]=n,o}function convertModOperator(r,e){return Array.isArray(e[1])&&2===e[1].length&&\"number\"==typeof e[1][0]&&\"number\"==typeof e[1][1]?convertBinaryOperator(r,\"mod\",e[0],e[1]):e.length>=3&&\"number\"==typeof e[1]&&\"number\"==typeof e[2]?convertBinaryOperator(r,\"mod\",e[0],[e[1],e[2]]):null}function convertRegexOperator(r,e){if(e.length>=2&&(\"string\"==typeof e[1]||e[1]instanceof RegExp)){var t=Array.isArray(e[0])?e[0].join(\".\"):e[0];if(!r.isPropertyAllowed(t))return null;var n=convertBinaryOperator(r,\"regex\",t,e[1]);return e.length>=3&&\"string\"==typeof e[2]&&(n[t].$options=e[2]),n}return null}function convertElemMatchOperator(r,e){if(e.length<2)return null;var t=Array.isArray(e[0])?e[0].join(\".\"):e[0];if(!r.isPropertyAllowed(t))return null;(e=[].concat(e)).shift();var n=convertLogicalOperator(r,\"and\",e);if(null===n)return null;return convertBinaryOperator(r,\"elemMatch\",t,compactQueries(n.$and))}function convertLogicalOperator(r,e,t){for(var n=[],o=0,a=t.length;o<a;++o){var i=convertTerm(r,t[o]);null!==i&&n.push(i)}if(0===n.length)return null;var c={};return c[\"$\"+e]=n,c}function convertNotOperator(r,e){for(var t={},n=0,o=0,a=e.length;o<a;++o){var i=convertTerm(r,e[o]);null!==i&&Object.keys(i).forEach(function(r){if(\"$\"!==r[0]){n+=1,t.hasOwnProperty(r)||(t[r]={});var e=i[r];isOperatorObject(e,!1)?(t[r].hasOwnProperty(\"$not\")||(t[r].$not={}),Object.keys(e).forEach(function(n){t[r].$not[n]=e[n]})):t[r].$ne=e}})}return 0===n?null:t}function convertComparisonOperator(r,e,t){if(t.length<2)return null;var n=Array.isArray(t[0])?t[0].join(\".\"):t[0];if(!r.isPropertyAllowed(n))return null;var o=t[1],a={};return\"eq\"===e?(a[n]=o,a):(\"le\"===e?e=\"lte\":\"ge\"===e&&(e=\"gte\"),a[n]={},a[n][\"$\"+e]=o,a)}function compactQueries(r){for(var e={},t=0,n=r.length;t<n;++t)compactQuery(e,r[t]);return e}function compactQuery(r,e){Object.keys(e).forEach(function(t){void 0===r[t]&&(r[t]={}),compactQueryValue(r,t,e[t])})}function compactQueryValue(r,e,t){isOperatorObject(t,!1)?Object.keys(t).forEach(function(n){r[e][n]=t[n]}):r[e]=t}function isOperatorObject(r,e){if(\"object\"!=typeof r||null===r)return!1;var t=Object.keys(r);if(0===t.length)return e;for(var n=0,o=t.length;n<o;++n)if(\"$\"===t[n][0])return!0;return!1}","node_modules/body-parser/lib/types/json.js":"\"use strict\";var bytes=require(\"bytes\"),contentType=require(\"content-type\"),createError=require(\"http-errors\"),debug=require(\"debug\")(\"body-parser:json\"),read=require(\"../read\"),typeis=require(\"type-is\");module.exports=json;var FIRST_CHAR_REGEXP=/^[\\x20\\x09\\x0a\\x0d]*(.)/;function json(e){var r=e||{},t=\"number\"!=typeof r.limit?bytes.parse(r.limit||\"100kb\"):r.limit,n=!1!==r.inflate,i=r.reviver,o=!1!==r.strict,u=r.type||\"application/json\",a=r.verify||!1;if(!1!==a&&\"function\"!=typeof a)throw new TypeError(\"option verify must be function\");var s=\"function\"!=typeof u?typeChecker(u):u;function p(e){if(0===e.length)return{};if(o){var r=firstchar(e);if(\"{\"!==r&&\"[\"!==r)throw debug(\"strict violation\"),new SyntaxError(\"Unexpected token \"+r)}return debug(\"parse json\"),JSON.parse(e,i)}return function(e,r,i){if(e._body)return debug(\"body already parsed\"),void i();if(e.body=e.body||{},!typeis.hasBody(e))return debug(\"skip empty body\"),void i();if(debug(\"content-type %j\",e.headers[\"content-type\"]),!s(e))return debug(\"skip parsing\"),void i();var o=getCharset(e)||\"utf-8\";if(\"utf-\"!==o.substr(0,4))return debug(\"invalid charset\"),void i(createError(415,'unsupported charset \"'+o.toUpperCase()+'\"',{charset:o}));read(e,r,i,p,debug,{encoding:o,inflate:n,limit:t,verify:a})}}function firstchar(e){return FIRST_CHAR_REGEXP.exec(e)[1]}function getCharset(e){try{return contentType.parse(e).parameters.charset.toLowerCase()}catch(e){return}}function typeChecker(e){return function(r){return Boolean(typeis(r,e))}}","node_modules/body-parser/lib/types/urlencoded.js":"\"use strict\";var bytes=require(\"bytes\"),contentType=require(\"content-type\"),createError=require(\"http-errors\"),debug=require(\"debug\")(\"body-parser:urlencoded\"),deprecate=require(\"depd\")(\"body-parser\"),read=require(\"../read\"),typeis=require(\"type-is\");module.exports=urlencoded;var parsers=Object.create(null);function urlencoded(e){var r=e||{};void 0===r.extended&&deprecate(\"undefined extended: provide extended option\");var t=!1!==r.extended,i=!1!==r.inflate,n=\"number\"!=typeof r.limit?bytes.parse(r.limit||\"100kb\"):r.limit,a=r.type||\"application/x-www-form-urlencoded\",o=r.verify||!1;if(!1!==o&&\"function\"!=typeof o)throw new TypeError(\"option verify must be function\");var u=t?extendedparser(r):simpleparser(r),p=\"function\"!=typeof a?typeChecker(a):a;function d(e){return e.length?u(e):{}}return function(e,r,t){if(e._body)return debug(\"body already parsed\"),void t();if(e.body=e.body||{},!typeis.hasBody(e))return debug(\"skip empty body\"),void t();if(debug(\"content-type %j\",e.headers[\"content-type\"]),!p(e))return debug(\"skip parsing\"),void t();var a=getCharset(e)||\"utf-8\";if(\"utf-8\"!==a)return debug(\"invalid charset\"),void t(createError(415,'unsupported charset \"'+a.toUpperCase()+'\"',{charset:a}));read(e,r,t,d,debug,{debug:debug,encoding:a,inflate:i,limit:n,verify:o})}}function extendedparser(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,t=parser(\"qs\");if(isNaN(r)||r<1)throw new TypeError(\"option parameterLimit must be a positive number\");return isFinite(r)&&(r|=0),function(e){var i=parameterCount(e,r);if(void 0===i)throw debug(\"too many parameters\"),createError(413,\"too many parameters\");var n=Math.max(100,i);return debug(\"parse extended urlencoding\"),t(e,{allowPrototypes:!0,arrayLimit:n,depth:1/0,parameterLimit:r})}}function getCharset(e){try{return contentType.parse(e).parameters.charset.toLowerCase()}catch(e){return}}function parameterCount(e,r){for(var t=0,i=0;-1!==(i=e.indexOf(\"&\",i));)if(t++,i++,t===r)return;return t}function parser(e){var r=parsers[e];if(void 0!==r)return r.parse;switch(e){case\"qs\":r=require(\"qs\");break;case\"querystring\":r=require(\"querystring\")}return parsers[e]=r,r.parse}function simpleparser(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,t=parser(\"querystring\");if(isNaN(r)||r<1)throw new TypeError(\"option parameterLimit must be a positive number\");return isFinite(r)&&(r|=0),function(e){if(void 0===parameterCount(e,r))throw debug(\"too many parameters\"),createError(413,\"too many parameters\");return debug(\"parse urlencoding\"),t(e,void 0,void 0,{maxKeys:r})}}function typeChecker(e){return function(r){return Boolean(typeis(r,e))}}","node_modules/body-parser/lib/types/text.js":"\"use strict\";var bytes=require(\"bytes\"),contentType=require(\"content-type\"),debug=require(\"debug\")(\"body-parser:text\"),read=require(\"../read\"),typeis=require(\"type-is\");module.exports=text;function text(e){var t=e||{},r=t.defaultCharset||\"utf-8\",n=!1!==t.inflate,i=\"number\"!=typeof t.limit?bytes.parse(t.limit||\"100kb\"):t.limit,o=t.type||\"text/plain\",u=t.verify||!1;if(!1!==u&&\"function\"!=typeof u)throw new TypeError(\"option verify must be function\");var y=\"function\"!=typeof o?typeChecker(o):o;function a(e){return e}return function(e,t,o){if(e._body)return debug(\"body already parsed\"),void o();if(e.body=e.body||{},!typeis.hasBody(e))return debug(\"skip empty body\"),void o();if(debug(\"content-type %j\",e.headers[\"content-type\"]),!y(e))return debug(\"skip parsing\"),void o();var p=getCharset(e)||r;read(e,t,o,a,debug,{encoding:p,inflate:n,limit:i,verify:u})}}function getCharset(e){try{return contentType.parse(e).parameters.charset.toLowerCase()}catch(e){return}}function typeChecker(e){return function(t){return Boolean(typeis(t,e))}}","node_modules/iconv-lite/lib/bom-handling.js":"\"use strict\";var BOMChar=\"\\ufeff\";exports.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(r,t){this.encoder=r,this.addBOM=!0}PrependBOMWrapper.prototype.write=function(r){return this.addBOM&&(r=BOMChar+r,this.addBOM=!1),this.encoder.write(r)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper;function StripBOMWrapper(r,t){this.decoder=r,this.pass=!1,this.options=t||{}}StripBOMWrapper.prototype.write=function(r){var t=this.decoder.write(r);return this.pass||!t?t:(t[0]===BOMChar&&(t=t.slice(1),\"function\"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()};","node_modules/iconv-lite/lib/streams.js":"\"use strict\";var Transform=require(\"stream\").Transform;module.exports=function(t){t.encodeStream=function(e,r){return new IconvLiteEncoderStream(t.getEncoder(e,r),r)},t.decodeStream=function(e,r){return new IconvLiteDecoderStream(t.getDecoder(e,r),r)},t.supportsStreams=!0,t.IconvLiteEncoderStream=IconvLiteEncoderStream,t.IconvLiteDecoderStream=IconvLiteDecoderStream,t._collect=IconvLiteDecoderStream.prototype.collect};function IconvLiteEncoderStream(t,e){this.conv=t,(e=e||{}).decodeStrings=!1,Transform.call(this,e)}IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function(t,e,r){if(\"string\"!=typeof t)return r(new Error(\"Iconv encoding stream needs strings as its input.\"));try{var o=this.conv.write(t);o&&o.length&&this.push(o),r()}catch(t){r(t)}},IconvLiteEncoderStream.prototype._flush=function(t){try{var e=this.conv.end();e&&e.length&&this.push(e),t()}catch(e){t(e)}},IconvLiteEncoderStream.prototype.collect=function(t){var e=[];return this.on(\"error\",t),this.on(\"data\",function(t){e.push(t)}),this.on(\"end\",function(){t(null,Buffer.concat(e))}),this};function IconvLiteDecoderStream(t,e){this.conv=t,(e=e||{}).encoding=this.encoding=\"utf8\",Transform.call(this,e)}IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function(t,e,r){if(!Buffer.isBuffer(t))return r(new Error(\"Iconv decoding stream needs buffers as its input.\"));try{var o=this.conv.write(t);o&&o.length&&this.push(o,this.encoding),r()}catch(t){r(t)}},IconvLiteDecoderStream.prototype._flush=function(t){try{var e=this.conv.end();e&&e.length&&this.push(e,this.encoding),t()}catch(e){t(e)}},IconvLiteDecoderStream.prototype.collect=function(t){var e=\"\";return this.on(\"error\",t),this.on(\"data\",function(t){e+=t}),this.on(\"end\",function(){t(null,e)}),this};","node_modules/iconv-lite/lib/extend-node.js":"\"use strict\";module.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(new Buffer(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error(\"ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node\"),void console.error(\"See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\");var o={hex:!0,utf8:!0,\"utf-8\":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,\"ucs-2\":!0,utf16le:!0,\"utf-16le\":!0};Buffer.isNativeEncoding=function(e){return e&&o[e.toLowerCase()]};var r=require(\"buffer\").SlowBuffer;if(t.SlowBufferToString=r.prototype.toString,r.prototype.toString=function(o,r,i){return o=String(o||\"utf8\").toLowerCase(),Buffer.isNativeEncoding(o)?t.SlowBufferToString.call(this,o,r,i):(void 0===r&&(r=0),void 0===i&&(i=this.length),e.decode(this.slice(r,i),o))},t.SlowBufferWrite=r.prototype.write,r.prototype.write=function(o,r,i,n){if(isFinite(r))isFinite(i)||(n=i,i=void 0);else{var f=n;n=r,r=i,i=f}r=+r||0;var u=this.length-r;if(i?(i=+i)>u&&(i=u):i=u,n=String(n||\"utf8\").toLowerCase(),Buffer.isNativeEncoding(n))return t.SlowBufferWrite.call(this,o,r,i,n);if(o.length>0&&(i<0||r<0))throw new RangeError(\"attempt to write beyond buffer bounds\");var s=e.encode(o,n);return s.length<i&&(i=s.length),s.copy(this,r,0,i),i},t.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(t){return Buffer.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=Buffer.byteLength,Buffer.byteLength=r.byteLength=function(o,r){return r=String(r||\"utf8\").toLowerCase(),Buffer.isNativeEncoding(r)?t.BufferByteLength.call(this,o,r):e.encode(o,r).length},t.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(o,r,i){return o=String(o||\"utf8\").toLowerCase(),Buffer.isNativeEncoding(o)?t.BufferToString.call(this,o,r,i):(void 0===r&&(r=0),void 0===i&&(i=this.length),e.decode(this.slice(r,i),o))},t.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(o,r,i,n){var f=r,u=i,s=n;if(isFinite(r))isFinite(i)||(n=i,i=void 0);else{var d=n;n=r,r=i,i=d}if(n=String(n||\"utf8\").toLowerCase(),Buffer.isNativeEncoding(n))return t.BufferWrite.call(this,o,f,u,s);r=+r||0;var c=this.length-r;if(i?(i=+i)>c&&(i=c):i=c,o.length>0&&(i<0||r<0))throw new RangeError(\"attempt to write beyond buffer bounds\");var g=e.encode(o,n);return g.length<i&&(i=g.length),g.copy(this,r,0,i),i},e.supportsStreams){var i=require(\"stream\").Readable;t.ReadableSetEncoding=i.prototype.setEncoding,i.prototype.setEncoding=function(t,o){this._readableState.decoder=e.getDecoder(t,o),this._readableState.encoding=t},i.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error(\"require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.\");delete Buffer.isNativeEncoding;var o=require(\"buffer\").SlowBuffer;if(o.prototype.toString=t.SlowBufferToString,o.prototype.write=t.SlowBufferWrite,Buffer.isEncoding=t.BufferIsEncoding,Buffer.byteLength=t.BufferByteLength,Buffer.prototype.toString=t.BufferToString,Buffer.prototype.write=t.BufferWrite,e.supportsStreams){var r=require(\"stream\").Readable;r.prototype.setEncoding=t.ReadableSetEncoding,delete r.prototype.collect}t=void 0}}};","node_modules/iconv-lite/encodings/index.js":"\"use strict\";for(var modules=[require(\"./internal\"),require(\"./utf16\"),require(\"./utf7\"),require(\"./sbcs-codec\"),require(\"./sbcs-data\"),require(\"./sbcs-data-generated\"),require(\"./dbcs-codec\"),require(\"./dbcs-data\")],i=0;i<modules.length;i++){var module=modules[i];for(var enc in module)Object.prototype.hasOwnProperty.call(module,enc)&&(exports[enc]=module[enc])}","node_modules/iconv-lite/encodings/internal.js":"\"use strict\";module.exports={utf8:{type:\"_internal\",bomAware:!0},cesu8:{type:\"_internal\",bomAware:!0},unicode11utf8:\"utf8\",ucs2:{type:\"_internal\",bomAware:!0},utf16le:\"ucs2\",binary:{type:\"_internal\"},base64:{type:\"_internal\"},hex:{type:\"_internal\"},_internal:InternalCodec};function InternalCodec(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,\"base64\"===this.enc?this.encoder=InternalEncoderBase64:\"cesu8\"===this.enc&&(this.enc=\"utf8\",this.encoder=InternalEncoderCesu8,3==new Buffer(\"eda080\",\"hex\").toString().length&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=t.defaultCharUnicode))}InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=require(\"string_decoder\").StringDecoder;StringDecoder.prototype.end||(StringDecoder.prototype.end=function(){});function InternalDecoder(e,t){StringDecoder.call(this,t.enc)}InternalDecoder.prototype=StringDecoder.prototype;function InternalEncoder(e,t){this.enc=t.enc}InternalEncoder.prototype.write=function(e){return new Buffer(e,this.enc)},InternalEncoder.prototype.end=function(){};function InternalEncoderBase64(e,t){this.prevStr=\"\"}InternalEncoderBase64.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),new Buffer(e,\"base64\")},InternalEncoderBase64.prototype.end=function(){return new Buffer(this.prevStr,\"base64\")};function InternalEncoderCesu8(e,t){}InternalEncoderCesu8.prototype.write=function(e){for(var t=new Buffer(3*e.length),n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},InternalEncoderCesu8.prototype.end=function(){};function InternalDecoderCesu8(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}InternalDecoderCesu8.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,o=\"\",c=0;c<e.length;c++){var i=e[c];128!=(192&i)?(n>0&&(o+=this.defaultCharUnicode,n=0),i<128?o+=String.fromCharCode(i):i<224?(t=31&i,n=1,r=1):i<240?(t=15&i,n=2,r=1):o+=this.defaultCharUnicode):n>0?(t=t<<6|63&i,r++,0===--n&&(o+=2===r&&t<128&&t>0?this.defaultCharUnicode:3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):o+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,o},InternalDecoderCesu8.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e};","node_modules/iconv-lite/encodings/utf16.js":"\"use strict\";exports.utf16be=Utf16BECodec;function Utf16BECodec(){}Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0;function Utf16BEEncoder(){}Utf16BEEncoder.prototype.write=function(t){for(var e=new Buffer(t,\"ucs2\"),o=0;o<e.length;o+=2){var n=e[o];e[o]=e[o+1],e[o+1]=n}return e},Utf16BEEncoder.prototype.end=function(){};function Utf16BEDecoder(){this.overflowByte=-1}Utf16BEDecoder.prototype.write=function(t){if(0==t.length)return\"\";var e=new Buffer(t.length+1),o=0,n=0;for(-1!==this.overflowByte&&(e[0]=t[0],e[1]=this.overflowByte,o=1,n=2);o<t.length-1;o+=2,n+=2)e[n]=t[o+1],e[n+1]=t[o];return this.overflowByte=o==t.length-1?t[t.length-1]:-1,e.slice(0,n).toString(\"ucs2\")},Utf16BEDecoder.prototype.end=function(){},exports.utf16=Utf16Codec;function Utf16Codec(t,e){this.iconv=e}Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder;function Utf16Encoder(t,e){void 0===(t=t||{}).addBOM&&(t.addBOM=!0),this.encoder=e.iconv.getEncoder(\"utf-16le\",t)}Utf16Encoder.prototype.write=function(t){return this.encoder.write(t)},Utf16Encoder.prototype.end=function(){return this.encoder.end()};function Utf16Decoder(t,e){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=t||{},this.iconv=e.iconv}Utf16Decoder.prototype.write=function(t){if(!this.decoder){if(this.initialBytes.push(t),this.initialBytesLen+=t.length,this.initialBytesLen<16)return\"\";var e=detectEncoding(t=Buffer.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(t)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var t=Buffer.concat(this.initialBytes),e=detectEncoding(t,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);var o=this.decoder.write(t),n=this.decoder.end();return n?o+n:o}return this.decoder.end()};function detectEncoding(t,e){var o=e||\"utf-16le\";if(t.length>=2)if(254==t[0]&&255==t[1])o=\"utf-16be\";else if(255==t[0]&&254==t[1])o=\"utf-16le\";else{for(var n=0,i=0,r=Math.min(t.length-t.length%2,64),c=0;c<r;c+=2)0===t[c]&&0!==t[c+1]&&i++,0!==t[c]&&0===t[c+1]&&n++;i>n?o=\"utf-16be\":i<n&&(o=\"utf-16le\")}return o}","node_modules/iconv-lite/encodings/utf7.js":"\"use strict\";exports.utf7=Utf7Codec,exports.unicode11utf7=\"utf7\";function Utf7Codec(e,t){this.iconv=t}Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var nonDirectChars=/[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;function Utf7Encoder(e,t){this.iconv=t.iconv}Utf7Encoder.prototype.write=function(e){return new Buffer(e.replace(nonDirectChars,function(e){return\"+\"+(\"+\"===e?\"\":this.iconv.encode(e,\"utf16-be\").toString(\"base64\").replace(/=+$/,\"\"))+\"-\"}.bind(this)))},Utf7Encoder.prototype.end=function(){};function Utf7Decoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=\"\"}for(var base64Regex=/[A-Za-z0-9\\/+]/,base64Chars=[],i=0;i<256;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar=\"+\".charCodeAt(0),minusChar=\"-\".charCodeAt(0),andChar=\"&\".charCodeAt(0);Utf7Decoder.prototype.write=function(e){for(var t=\"\",i=0,s=this.inBase64,c=this.base64Accum,r=0;r<e.length;r++)if(s){if(!base64Chars[e[r]]){if(r==i&&e[r]==minusChar)t+=\"+\";else{var n=c+e.slice(i,r).toString();t+=this.iconv.decode(new Buffer(n,\"base64\"),\"utf16-be\")}e[r]!=minusChar&&r--,i=r+1,s=!1,c=\"\"}}else e[r]==plusChar&&(t+=this.iconv.decode(e.slice(i,r),\"ascii\"),i=r+1,s=!0);if(s){var o=(n=c+e.slice(i).toString()).length-n.length%8;c=n.slice(o),n=n.slice(0,o),t+=this.iconv.decode(new Buffer(n,\"base64\"),\"utf16-be\")}else t+=this.iconv.decode(e.slice(i),\"ascii\");return this.inBase64=s,this.base64Accum=c,t},Utf7Decoder.prototype.end=function(){var e=\"\";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(new Buffer(this.base64Accum,\"base64\"),\"utf16-be\")),this.inBase64=!1,this.base64Accum=\"\",e},exports.utf7imap=Utf7IMAPCodec;function Utf7IMAPCodec(e,t){this.iconv=t}Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0;function Utf7IMAPEncoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=new Buffer(6),this.base64AccumIdx=0}Utf7IMAPEncoder.prototype.write=function(e){for(var t=this.inBase64,i=this.base64Accum,s=this.base64AccumIdx,c=new Buffer(5*e.length+10),r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);32<=o&&o<=126?(t&&(s>0&&(r+=c.write(i.slice(0,s).toString(\"base64\").replace(/\\//g,\",\").replace(/=+$/,\"\"),r),s=0),c[r++]=minusChar,t=!1),t||(c[r++]=o,o===andChar&&(c[r++]=minusChar))):(t||(c[r++]=andChar,t=!0),t&&(i[s++]=o>>8,i[s++]=255&o,s==i.length&&(r+=c.write(i.toString(\"base64\").replace(/\\//g,\",\"),r),s=0)))}return this.inBase64=t,this.base64AccumIdx=s,c.slice(0,r)},Utf7IMAPEncoder.prototype.end=function(){var e=new Buffer(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString(\"base64\").replace(/\\//g,\",\").replace(/=+$/,\"\"),t),this.base64AccumIdx=0),e[t++]=minusChar,this.inBase64=!1),e.slice(0,t)};function Utf7IMAPDecoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=\"\"}var base64IMAPChars=base64Chars.slice();base64IMAPChars[\",\".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function(e){for(var t=\"\",i=0,s=this.inBase64,c=this.base64Accum,r=0;r<e.length;r++)if(s){if(!base64IMAPChars[e[r]]){if(r==i&&e[r]==minusChar)t+=\"&\";else{var n=c+e.slice(i,r).toString().replace(/,/g,\"/\");t+=this.iconv.decode(new Buffer(n,\"base64\"),\"utf16-be\")}e[r]!=minusChar&&r--,i=r+1,s=!1,c=\"\"}}else e[r]==andChar&&(t+=this.iconv.decode(e.slice(i,r),\"ascii\"),i=r+1,s=!0);if(s){var o=(n=c+e.slice(i).toString().replace(/,/g,\"/\")).length-n.length%8;c=n.slice(o),n=n.slice(0,o),t+=this.iconv.decode(new Buffer(n,\"base64\"),\"utf16-be\")}else t+=this.iconv.decode(e.slice(i),\"ascii\");return this.inBase64=s,this.base64Accum=c,t},Utf7IMAPDecoder.prototype.end=function(){var e=\"\";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(new Buffer(this.base64Accum,\"base64\"),\"utf16-be\")),this.inBase64=!1,this.base64Accum=\"\",e};","node_modules/iconv-lite/encodings/sbcs-codec.js":"\"use strict\";exports._sbcs=SBCSCodec;function SBCSCodec(e,r){if(!e)throw new Error(\"SBCS codec is called without the data.\");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error(\"Encoding '\"+e.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");if(128===e.chars.length){for(var o=\"\",t=0;t<128;t++)o+=String.fromCharCode(t);e.chars=o+e.chars}this.decodeBuf=new Buffer(e.chars,\"ucs2\");var c=new Buffer(65536);c.fill(r.defaultCharSingleByte.charCodeAt(0));for(t=0;t<e.chars.length;t++)c[e.chars.charCodeAt(t)]=t;this.encodeBuf=c}SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder;function SBCSEncoder(e,r){this.encodeBuf=r.encodeBuf}SBCSEncoder.prototype.write=function(e){for(var r=new Buffer(e.length),o=0;o<e.length;o++)r[o]=this.encodeBuf[e.charCodeAt(o)];return r},SBCSEncoder.prototype.end=function(){};function SBCSDecoder(e,r){this.decodeBuf=r.decodeBuf}SBCSDecoder.prototype.write=function(e){for(var r=this.decodeBuf,o=new Buffer(2*e.length),t=0,c=0,n=0;n<e.length;n++)t=2*e[n],o[c=2*n]=r[t],o[c+1]=r[t+1];return o.toString(\"ucs2\")},SBCSDecoder.prototype.end=function(){};","node_modules/iconv-lite/encodings/sbcs-data.js":"\"use strict\";module.exports={10029:\"maccenteuro\",maccenteuro:{type:\"_sbcs\",chars:\"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ\"},808:\"cp808\",ibm808:\"cp808\",cp808:{type:\"_sbcs\",chars:\"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№€■ \"},ascii8bit:\"ascii\",usascii:\"ascii\",ansix34:\"ascii\",ansix341968:\"ascii\",ansix341986:\"ascii\",csascii:\"ascii\",cp367:\"ascii\",ibm367:\"ascii\",isoir6:\"ascii\",iso646us:\"ascii\",iso646irv:\"ascii\",us:\"ascii\",latin1:\"iso88591\",latin2:\"iso88592\",latin3:\"iso88593\",latin4:\"iso88594\",latin5:\"iso88599\",latin6:\"iso885910\",latin7:\"iso885913\",latin8:\"iso885914\",latin9:\"iso885915\",latin10:\"iso885916\",csisolatin1:\"iso88591\",csisolatin2:\"iso88592\",csisolatin3:\"iso88593\",csisolatin4:\"iso88594\",csisolatincyrillic:\"iso88595\",csisolatinarabic:\"iso88596\",csisolatingreek:\"iso88597\",csisolatinhebrew:\"iso88598\",csisolatin5:\"iso88599\",csisolatin6:\"iso885910\",l1:\"iso88591\",l2:\"iso88592\",l3:\"iso88593\",l4:\"iso88594\",l5:\"iso88599\",l6:\"iso885910\",l7:\"iso885913\",l8:\"iso885914\",l9:\"iso885915\",l10:\"iso885916\",isoir14:\"iso646jp\",isoir57:\"iso646cn\",isoir100:\"iso88591\",isoir101:\"iso88592\",isoir109:\"iso88593\",isoir110:\"iso88594\",isoir144:\"iso88595\",isoir127:\"iso88596\",isoir126:\"iso88597\",isoir138:\"iso88598\",isoir148:\"iso88599\",isoir157:\"iso885910\",isoir166:\"tis620\",isoir179:\"iso885913\",isoir199:\"iso885914\",isoir203:\"iso885915\",isoir226:\"iso885916\",cp819:\"iso88591\",ibm819:\"iso88591\",cyrillic:\"iso88595\",arabic:\"iso88596\",arabic8:\"iso88596\",ecma114:\"iso88596\",asmo708:\"iso88596\",greek:\"iso88597\",greek8:\"iso88597\",ecma118:\"iso88597\",elot928:\"iso88597\",hebrew:\"iso88598\",hebrew8:\"iso88598\",turkish:\"iso88599\",turkish8:\"iso88599\",thai:\"iso885911\",thai8:\"iso885911\",celtic:\"iso885914\",celtic8:\"iso885914\",isoceltic:\"iso885914\",tis6200:\"tis620\",tis62025291:\"tis620\",tis62025330:\"tis620\",10000:\"macroman\",10006:\"macgreek\",10007:\"maccyrillic\",10079:\"maciceland\",10081:\"macturkish\",cspc8codepage437:\"cp437\",cspc775baltic:\"cp775\",cspc850multilingual:\"cp850\",cspcp852:\"cp852\",cspc862latinhebrew:\"cp862\",cpgr:\"cp869\",msee:\"cp1250\",mscyrl:\"cp1251\",msansi:\"cp1252\",msgreek:\"cp1253\",msturk:\"cp1254\",mshebr:\"cp1255\",msarab:\"cp1256\",winbaltrim:\"cp1257\",cp20866:\"koi8r\",20866:\"koi8r\",ibm878:\"koi8r\",cskoi8r:\"koi8r\",cp21866:\"koi8u\",21866:\"koi8u\",ibm1168:\"koi8u\",strk10482002:\"rk1048\",tcvn5712:\"tcvn\",tcvn57121:\"tcvn\",gb198880:\"iso646cn\",cn:\"iso646cn\",csiso14jisc6220ro:\"iso646jp\",jisc62201969ro:\"iso646jp\",jp:\"iso646jp\",cshproman8:\"hproman8\",r8:\"hproman8\",roman8:\"hproman8\",xroman8:\"hproman8\",ibm1051:\"hproman8\",mac:\"macintosh\",csmacintosh:\"macintosh\"};","node_modules/iconv-lite/encodings/sbcs-data-generated.js":"\"use strict\";module.exports={437:\"cp437\",737:\"cp737\",775:\"cp775\",850:\"cp850\",852:\"cp852\",855:\"cp855\",856:\"cp856\",857:\"cp857\",858:\"cp858\",860:\"cp860\",861:\"cp861\",862:\"cp862\",863:\"cp863\",864:\"cp864\",865:\"cp865\",866:\"cp866\",869:\"cp869\",874:\"windows874\",922:\"cp922\",1046:\"cp1046\",1124:\"cp1124\",1125:\"cp1125\",1129:\"cp1129\",1133:\"cp1133\",1161:\"cp1161\",1162:\"cp1162\",1163:\"cp1163\",1250:\"windows1250\",1251:\"windows1251\",1252:\"windows1252\",1253:\"windows1253\",1254:\"windows1254\",1255:\"windows1255\",1256:\"windows1256\",1257:\"windows1257\",1258:\"windows1258\",28591:\"iso88591\",28592:\"iso88592\",28593:\"iso88593\",28594:\"iso88594\",28595:\"iso88595\",28596:\"iso88596\",28597:\"iso88597\",28598:\"iso88598\",28599:\"iso88599\",28600:\"iso885910\",28601:\"iso885911\",28603:\"iso885913\",28604:\"iso885914\",28605:\"iso885915\",28606:\"iso885916\",windows874:{type:\"_sbcs\",chars:\"€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"},win874:\"windows874\",cp874:\"windows874\",windows1250:{type:\"_sbcs\",chars:\"€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙\"},win1250:\"windows1250\",cp1250:\"windows1250\",windows1251:{type:\"_sbcs\",chars:\"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"},win1251:\"windows1251\",cp1251:\"windows1251\",windows1252:{type:\"_sbcs\",chars:\"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"},win1252:\"windows1252\",cp1252:\"windows1252\",windows1253:{type:\"_sbcs\",chars:\"€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�\"},win1253:\"windows1253\",cp1253:\"windows1253\",windows1254:{type:\"_sbcs\",chars:\"€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ\"},win1254:\"windows1254\",cp1254:\"windows1254\",windows1255:{type:\"_sbcs\",chars:\"€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹ�ֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�\"},win1255:\"windows1255\",cp1255:\"windows1255\",windows1256:{type:\"_sbcs\",chars:\"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے\"},win1256:\"windows1256\",cp1256:\"windows1256\",windows1257:{type:\"_sbcs\",chars:\"€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙\"},win1257:\"windows1257\",cp1257:\"windows1257\",windows1258:{type:\"_sbcs\",chars:\"€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"},win1258:\"windows1258\",cp1258:\"windows1258\",iso88591:{type:\"_sbcs\",chars:\" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"},cp28591:\"iso88591\",iso88592:{type:\"_sbcs\",chars:\" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙\"},cp28592:\"iso88592\",iso88593:{type:\"_sbcs\",chars:\" Ħ˘£¤�Ĥ§¨İŞĞĴ­�Ż°ħ²³´µĥ·¸ışğĵ½�żÀÁÂ�ÄĊĈÇÈÉÊËÌÍÎÏ�ÑÒÓÔĠÖ×ĜÙÚÛÜŬŜßàáâ�äċĉçèéêëìíîï�ñòóôġö÷ĝùúûüŭŝ˙\"},cp28593:\"iso88593\",iso88594:{type:\"_sbcs\",chars:\" ĄĸŖ¤ĨĻ§¨ŠĒĢŦ­Ž¯°ą˛ŗ´ĩļˇ¸šēģŧŊžŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎĪĐŅŌĶÔÕÖ×ØŲÚÛÜŨŪßāáâãäåæįčéęëėíîīđņōķôõö÷øųúûüũū˙\"},cp28594:\"iso88594\",iso88595:{type:\"_sbcs\",chars:\" ЁЂЃЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђѓєѕіїјљњћќ§ўџ\"},cp28595:\"iso88595\",iso88596:{type:\"_sbcs\",chars:\" ���¤�������،­�������������؛���؟�ءآأؤإئابةتثجحخدذرزسشصضطظعغ�����ـفقكلمنهوىيًٌٍَُِّْ�������������\"},cp28596:\"iso88596\",iso88597:{type:\"_sbcs\",chars:\" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�\"},cp28597:\"iso88597\",iso88598:{type:\"_sbcs\",chars:\" �¢£¤¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾��������������������������������‗אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�\"},cp28598:\"iso88598\",iso88599:{type:\"_sbcs\",chars:\" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ\"},cp28599:\"iso88599\",iso885910:{type:\"_sbcs\",chars:\" ĄĒĢĪĨĶ§ĻĐŠŦŽ­ŪŊ°ąēģīĩķ·ļđšŧž―ūŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎÏÐŅŌÓÔÕÖŨØŲÚÛÜÝÞßāáâãäåæįčéęëėíîïðņōóôõöũøųúûüýþĸ\"},cp28600:\"iso885910\",iso885911:{type:\"_sbcs\",chars:\" กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"},cp28601:\"iso885911\",iso885913:{type:\"_sbcs\",chars:\" ”¢£¤„¦§Ø©Ŗ«¬­®Æ°±²³“µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž’\"},cp28603:\"iso885913\",iso885914:{type:\"_sbcs\",chars:\" Ḃḃ£ĊċḊ§Ẁ©ẂḋỲ­®ŸḞḟĠġṀṁ¶ṖẁṗẃṠỳẄẅṡÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŴÑÒÓÔÕÖṪØÙÚÛÜÝŶßàáâãäåæçèéêëìíîïŵñòóôõöṫøùúûüýŷÿ\"},cp28604:\"iso885914\",iso885915:{type:\"_sbcs\",chars:\" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"},cp28605:\"iso885915\",iso885916:{type:\"_sbcs\",chars:\" ĄąŁ€„Š§š©Ș«Ź­źŻ°±ČłŽ”¶·žčș»ŒœŸżÀÁÂĂÄĆÆÇÈÉÊËÌÍÎÏĐŃÒÓÔŐÖŚŰÙÚÛÜĘȚßàáâăäćæçèéêëìíîïđńòóôőöśűùúûüęțÿ\"},cp28606:\"iso885916\",cp437:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm437:\"cp437\",csibm437:\"cp437\",cp737:{type:\"_sbcs\",chars:\"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ \"},ibm737:\"cp737\",csibm737:\"cp737\",cp775:{type:\"_sbcs\",chars:\"ĆüéāäģåćłēŖŗīŹÄÅÉæÆōöĢ¢ŚśÖÜø£Ø×¤ĀĪóŻżź”¦©®¬½¼Ł«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀ÓßŌŃõÕµńĶķĻļņĒŅ’­±“¾¶§÷„°∙·¹³²■ \"},ibm775:\"cp775\",csibm775:\"cp775\",cp850:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ \"},ibm850:\"cp850\",csibm850:\"cp850\",cp852:{type:\"_sbcs\",chars:\"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ \"},ibm852:\"cp852\",csibm852:\"cp852\",cp855:{type:\"_sbcs\",chars:\"ђЂѓЃёЁєЄѕЅіІїЇјЈљЉњЊћЋќЌўЎџЏюЮъЪаАбБцЦдДеЕфФгГ«»░▒▓│┤хХиИ╣║╗╝йЙ┐└┴┬├─┼кК╚╔╩╦╠═╬¤лЛмМнНоОп┘┌█▄Пя▀ЯрРсСтТуУжЖвВьЬ№­ыЫзЗшШэЭщЩчЧ§■ \"},ibm855:\"cp855\",csibm855:\"cp855\",cp856:{type:\"_sbcs\",chars:\"אבגדהוזחטיךכלםמןנסעףפץצקרשת�£�×����������®¬½¼�«»░▒▓│┤���©╣║╗╝¢¥┐└┴┬├─┼��╚╔╩╦╠═╬¤���������┘┌█▄¦�▀������µ�������¯´­±‗¾¶§÷¸°¨·¹³²■ \"},ibm856:\"cp856\",csibm856:\"cp856\",cp857:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ \"},ibm857:\"cp857\",csibm857:\"cp857\",cp858:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈ€ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ \"},ibm858:\"cp858\",csibm858:\"cp858\",cp860:{type:\"_sbcs\",chars:\"ÇüéâãàÁçêÊèÍÔìÃÂÉÀÈôõòÚùÌÕÜ¢£Ù₧ÓáíóúñÑªº¿Ò¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm860:\"cp860\",csibm860:\"cp860\",cp861:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm861:\"cp861\",csibm861:\"cp861\",cp862:{type:\"_sbcs\",chars:\"אבגדהוזחטיךכלםמןנסעףפץצקרשת¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm862:\"cp862\",csibm862:\"cp862\",cp863:{type:\"_sbcs\",chars:\"ÇüéâÂà¶çêëèïî‗À§ÉÈÊôËÏûù¤ÔÜ¢£ÙÛƒ¦´óú¨¸³¯Î⌐¬½¼¾«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm863:\"cp863\",csibm863:\"cp863\",cp864:{type:\"_sbcs\",chars:\"\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\\\"#$٪&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~°·∙√▒─│┼┤┬├┴┐┌└┘β∞φ±½¼≈«»ﻷﻸ��ﻻﻼ� ­ﺂ£¤ﺄ��ﺎﺏﺕﺙ،ﺝﺡﺥ٠١٢٣٤٥٦٧٨٩ﻑ؛ﺱﺵﺹ؟¢ﺀﺁﺃﺅﻊﺋﺍﺑﺓﺗﺛﺟﺣﺧﺩﺫﺭﺯﺳﺷﺻﺿﻁﻅﻋﻏ¦¬÷×ﻉـﻓﻗﻛﻟﻣﻧﻫﻭﻯﻳﺽﻌﻎﻍﻡﹽّﻥﻩﻬﻰﻲﻐﻕﻵﻶﻝﻙﻱ■�\"},ibm864:\"cp864\",csibm864:\"cp864\",cp865:{type:\"_sbcs\",chars:\"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"},ibm865:\"cp865\",csibm865:\"cp865\",cp866:{type:\"_sbcs\",chars:\"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ \"},ibm866:\"cp866\",csibm866:\"cp866\",cp869:{type:\"_sbcs\",chars:\"������Ά�·¬¦‘’Έ―ΉΊΪΌ��ΎΫ©Ώ²³ά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ΄­±υφχ§ψ΅°¨ωϋΰώ■ \"},ibm869:\"cp869\",csibm869:\"cp869\",cp922:{type:\"_sbcs\",chars:\" ¡¢£¤¥¦§¨©ª«¬­®‾°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŠÑÒÓÔÕÖ×ØÙÚÛÜÝŽßàáâãäåæçèéêëìíîïšñòóôõö÷øùúûüýžÿ\"},ibm922:\"cp922\",csibm922:\"cp922\",cp1046:{type:\"_sbcs\",chars:\"ﺈ×÷ﹱ■│─┐┌└┘ﹹﹻﹽﹿﹷﺊﻰﻳﻲﻎﻏﻐﻶﻸﻺﻼ ¤ﺋﺑﺗﺛﺟﺣ،­ﺧﺳ٠١٢٣٤٥٦٧٨٩ﺷ؛ﺻﺿﻊ؟ﻋءآأؤإئابةتثجحخدذرزسشصضطﻇعغﻌﺂﺄﺎﻓـفقكلمنهوىيًٌٍَُِّْﻗﻛﻟﻵﻷﻹﻻﻣﻧﻬﻩ�\"},ibm1046:\"cp1046\",csibm1046:\"cp1046\",cp1124:{type:\"_sbcs\",chars:\" ЁЂҐЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђґєѕіїјљњћќ§ўџ\"},ibm1124:\"cp1124\",csibm1124:\"cp1124\",cp1125:{type:\"_sbcs\",chars:\"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёҐґЄєІіЇї·√№¤■ \"},ibm1125:\"cp1125\",csibm1125:\"cp1125\",cp1129:{type:\"_sbcs\",chars:\" ¡¢£¤¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"},ibm1129:\"cp1129\",csibm1129:\"cp1129\",cp1133:{type:\"_sbcs\",chars:\" ກຂຄງຈສຊຍດຕຖທນບປຜຝພຟມຢຣລວຫອຮ���ຯະາຳິີຶືຸູຼັົຽ���ເແໂໃໄ່້໊໋໌ໍໆ�ໜໝ₭����������������໐໑໒໓໔໕໖໗໘໙��¢¬¦�\"},ibm1133:\"cp1133\",csibm1133:\"cp1133\",cp1161:{type:\"_sbcs\",chars:\"��������������������������������่กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู้๊๋€฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛¢¬¦ \"},ibm1161:\"cp1161\",csibm1161:\"cp1161\",cp1162:{type:\"_sbcs\",chars:\"€…‘’“”•–— กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"},ibm1162:\"cp1162\",csibm1162:\"cp1162\",cp1163:{type:\"_sbcs\",chars:\" ¡¢£€¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"},ibm1163:\"cp1163\",csibm1163:\"cp1163\",maccroatian:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊�©⁄¤‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ\"},maccyrillic:{type:\"_sbcs\",chars:\"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°¢£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµ∂ЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤\"},macgreek:{type:\"_sbcs\",chars:\"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦­ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ�\"},maciceland:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"},macroman:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"},macromania:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂŞ∞±≤≥¥µ∂∑∏π∫ªºΩăş¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›Ţţ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"},macthai:{type:\"_sbcs\",chars:\"«»…“”�•‘’� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู\\ufeff​–—฿เแโใไๅๆ็่้๊๋์ํ™๏๐๑๒๓๔๕๖๗๘๙®©����\"},macturkish:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙ�ˆ˜¯˘˙˚¸˝˛ˇ\"},macukraine:{type:\"_sbcs\",chars:\"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤\"},koi8r:{type:\"_sbcs\",chars:\"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ё╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡Ё╢╣╤╥╦╧╨╩╪╫╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"},koi8u:{type:\"_sbcs\",chars:\"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґ╝╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪Ґ╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"},koi8ru:{type:\"_sbcs\",chars:\"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґў╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪ҐЎ©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"},koi8t:{type:\"_sbcs\",chars:\"қғ‚Ғ„…†‡�‰ҳ‹ҲҷҶ�Қ‘’“”•–—�™�›�����ӯӮё¤ӣ¦§���«¬­®�°±²Ё�Ӣ¶·�№�»���©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"},armscii8:{type:\"_sbcs\",chars:\" �և։)(»«—.՝,-֊…՜՛՞ԱաԲբԳգԴդԵեԶզԷէԸըԹթԺժԻիԼլԽխԾծԿկՀհՁձՂղՃճՄմՅյՆնՇշՈոՉչՊպՋջՌռՍսՎվՏտՐրՑցՒւՓփՔքՕօՖֆ՚�\"},rk1048:{type:\"_sbcs\",chars:\"ЂЃ‚ѓ„…†‡€‰Љ‹ЊҚҺЏђ‘’“”•–—�™љ›њқһџ ҰұӘ¤Ө¦§Ё©Ғ«¬­®Ү°±Ііөµ¶·ё№ғ»әҢңүАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"},tcvn:{type:\"_sbcs\",chars:\"\\0ÚỤ\u0003ỪỬỮ\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010ỨỰỲỶỸÝỴ\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÀẢÃÁẠẶẬÈẺẼÉẸỆÌỈĨÍỊÒỎÕÓỌỘỜỞỠỚỢÙỦŨ ĂÂÊÔƠƯĐăâêôơưđẶ̀̀̉̃́àảãáạẲằẳẵắẴẮẦẨẪẤỀặầẩẫấậèỂẻẽéẹềểễếệìỉỄẾỒĩíịòỔỏõóọồổỗốộờởỡớợùỖủũúụừửữứựỳỷỹýỵỐ\"},georgianacademy:{type:\"_sbcs\",chars:\"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზთიკლმნოპჟრსტუფქღყშჩცძწჭხჯჰჱჲჳჴჵჶçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"},georgianps:{type:\"_sbcs\",chars:\"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზჱთიკლმნჲოპჟრსტჳუფქღყშჩცძწჭხჴჯჰჵæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"},pt154:{type:\"_sbcs\",chars:\"ҖҒӮғ„…ҶҮҲүҠӢҢҚҺҸҗ‘’“”•–—ҳҷҡӣңқһҹ ЎўЈӨҘҰ§Ё©Ә«¬ӯ®Ҝ°ұІіҙө¶·ё№ә»јҪҫҝАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"},viscii:{type:\"_sbcs\",chars:\"\\0\u0001Ẳ\u0003\u0004ẴẪ\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013Ỷ\u0015\u0016\u0017\u0018Ỹ\u001a\u001b\u001c\u001dỴ\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ẠẮẰẶẤẦẨẬẼẸẾỀỂỄỆỐỒỔỖỘỢỚỜỞỊỎỌỈỦŨỤỲÕắằặấầẩậẽẹếềểễệốồổỗỠƠộờởịỰỨỪỬơớƯÀÁÂÃẢĂẳẵÈÉÊẺÌÍĨỳĐứÒÓÔạỷừửÙÚỹỵÝỡưàáâãảăữẫèéêẻìíĩỉđựòóôõỏọụùúũủýợỮ\"},iso646cn:{type:\"_sbcs\",chars:\"\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\\\"#¥%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������\"},iso646jp:{type:\"_sbcs\",chars:\"\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[¥]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������\"},hproman8:{type:\"_sbcs\",chars:\" ÀÂÈÊËÎÏ´ˋˆ¨˜ÙÛ₤¯Ýý°ÇçÑñ¡¿¤£¥§ƒ¢âêôûáéóúàèòùäëöüÅîØÆåíøæÄìÖÜÉïßÔÁÃãÐðÍÌÓÒÕõŠšÚŸÿÞþ·µ¶¾—¼½ªº«■»±�\"},macintosh:{type:\"_sbcs\",chars:\"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"},ascii:{type:\"_sbcs\",chars:\"��������������������������������������������������������������������������������������������������������������������������������\"},tis620:{type:\"_sbcs\",chars:\"���������������������������������กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"}};","node_modules/iconv-lite/encodings/dbcs-codec.js":"\"use strict\";exports._dbcs=DBCSCodec;for(var UNASSIGNED=-1,GB18030_CODE=-2,SEQ_START=-10,NODE_START=-1e3,UNASSIGNED_NODE=new Array(256),DEF_CHAR=-1,i=0;i<256;i++)UNASSIGNED_NODE[i]=UNASSIGNED;function DBCSCodec(e,t){if(this.encodingName=e.encodingName,!e)throw new Error(\"DBCS codec is called without the data.\");if(!e.table)throw new Error(\"Encoding '\"+this.encodingName+\"' has no data.\");var o=e.table();this.decodeTables=[],this.decodeTables[0]=UNASSIGNED_NODE.slice(0),this.decodeTableSeq=[];for(var i=0;i<o.length;i++)this._addDecodeChunk(o[i]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var r={};if(e.encodeSkipVals)for(i=0;i<e.encodeSkipVals.length;i++){var d=e.encodeSkipVals[i];if(\"number\"==typeof d)r[d]=!0;else for(var n=d.from;n<=d.to;n++)r[n]=!0}if(this._fillEncodeTable(0,0,r),e.encodeAdd)for(var a in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,a)&&this._setEncodeChar(a.charCodeAt(0),e.encodeAdd[a]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===UNASSIGNED&&(this.defCharSB=this.encodeTable[0][\"?\"]),this.defCharSB===UNASSIGNED&&(this.defCharSB=\"?\".charCodeAt(0)),\"function\"==typeof e.gb18030){this.gb18030=e.gb18030();var h=this.decodeTables.length,s=this.decodeTables[h]=UNASSIGNED_NODE.slice(0),c=this.decodeTables.length,l=this.decodeTables[c]=UNASSIGNED_NODE.slice(0);for(i=129;i<=254;i++){var S=NODE_START-this.decodeTables[0][i],f=this.decodeTables[S];for(n=48;n<=57;n++)f[n]=NODE_START-h}for(i=129;i<=254;i++)s[i]=NODE_START-c;for(i=48;i<=57;i++)l[i]=GB18030_CODE}}DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var o=this.decodeTables[0],i=t.length-1;i>0;i--){var r=o[t[i]];if(r==UNASSIGNED)o[t[i]]=NODE_START-this.decodeTables.length,this.decodeTables.push(o=UNASSIGNED_NODE.slice(0));else{if(!(r<=NODE_START))throw new Error(\"Overwrite byte in \"+this.encodingName+\", addr: \"+e.toString(16));o=this.decodeTables[NODE_START-r]}}return o},DBCSCodec.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),o=this._getDecodeTrieNode(t);t&=255;for(var i=1;i<e.length;i++){var r=e[i];if(\"string\"==typeof r)for(var d=0;d<r.length;){var n=r.charCodeAt(d++);if(55296<=n&&n<56320){var a=r.charCodeAt(d++);if(!(56320<=a&&a<57344))throw new Error(\"Incorrect surrogate pair in \"+this.encodingName+\" at chunk \"+e[0]);o[t++]=65536+1024*(n-55296)+(a-56320)}else if(4080<n&&n<=4095){for(var h=4095-n+2,s=[],c=0;c<h;c++)s.push(r.charCodeAt(d++));o[t++]=SEQ_START-this.decodeTableSeq.length,this.decodeTableSeq.push(s)}else o[t++]=n}else{if(\"number\"!=typeof r)throw new Error(\"Incorrect type '\"+typeof r+\"' given in \"+this.encodingName+\" at chunk \"+e[0]);var l=o[t-1]+1;for(d=0;d<r;d++)o[t++]=l++}}if(t>255)throw new Error(\"Incorrect chunk in \"+this.encodingName+\" at addr \"+e[0]+\": too long\"+t)},DBCSCodec.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=UNASSIGNED_NODE.slice(0)),this.encodeTable[t]},DBCSCodec.prototype._setEncodeChar=function(e,t){var o=this._getEncodeBucket(e),i=255&e;o[i]<=SEQ_START?this.encodeTableSeq[SEQ_START-o[i]][DEF_CHAR]=t:o[i]==UNASSIGNED&&(o[i]=t)},DBCSCodec.prototype._setEncodeSequence=function(e,t){var o,i=e[0],r=this._getEncodeBucket(i),d=255&i;r[d]<=SEQ_START?o=this.encodeTableSeq[SEQ_START-r[d]]:(o={},r[d]!==UNASSIGNED&&(o[DEF_CHAR]=r[d]),r[d]=SEQ_START-this.encodeTableSeq.length,this.encodeTableSeq.push(o));for(var n=1;n<e.length-1;n++){var a=o[i];\"object\"==typeof a?o=a:(o=o[i]={},void 0!==a&&(o[DEF_CHAR]=a))}o[i=e[e.length-1]]=t},DBCSCodec.prototype._fillEncodeTable=function(e,t,o){for(var i=this.decodeTables[e],r=0;r<256;r++){var d=i[r],n=t+r;o[n]||(d>=0?this._setEncodeChar(d,n):d<=NODE_START?this._fillEncodeTable(NODE_START-d,n<<8,o):d<=SEQ_START&&this._setEncodeSequence(this.decodeTableSeq[SEQ_START-d],n))}};function DBCSEncoder(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}DBCSEncoder.prototype.write=function(e){for(var t=new Buffer(e.length*(this.gb18030?4:3)),o=this.leadSurrogate,i=this.seqObj,r=-1,d=0,n=0;;){if(-1===r){if(d==e.length)break;var a=e.charCodeAt(d++)}else{a=r;r=-1}if(55296<=a&&a<57344)if(a<56320){if(-1===o){o=a;continue}o=a,a=UNASSIGNED}else-1!==o?(a=65536+1024*(o-55296)+(a-56320),o=-1):a=UNASSIGNED;else-1!==o&&(r=a,a=UNASSIGNED,o=-1);var h=UNASSIGNED;if(void 0!==i&&a!=UNASSIGNED){var s=i[a];if(\"object\"==typeof s){i=s;continue}\"number\"==typeof s?h=s:void 0==s&&void 0!==(s=i[DEF_CHAR])&&(h=s,r=a),i=void 0}else if(a>=0){var c=this.encodeTable[a>>8];if(void 0!==c&&(h=c[255&a]),h<=SEQ_START){i=this.encodeTableSeq[SEQ_START-h];continue}if(h==UNASSIGNED&&this.gb18030){var l=findIdx(this.gb18030.uChars,a);if(-1!=l){h=this.gb18030.gbChars[l]+(a-this.gb18030.uChars[l]);t[n++]=129+Math.floor(h/12600),h%=12600,t[n++]=48+Math.floor(h/1260),h%=1260,t[n++]=129+Math.floor(h/10),h%=10,t[n++]=48+h;continue}}}h===UNASSIGNED&&(h=this.defaultCharSingleByte),h<256?t[n++]=h:h<65536?(t[n++]=h>>8,t[n++]=255&h):(t[n++]=h>>16,t[n++]=h>>8&255,t[n++]=255&h)}return this.seqObj=i,this.leadSurrogate=o,t.slice(0,n)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=new Buffer(10),t=0;if(this.seqObj){var o=this.seqObj[DEF_CHAR];void 0!==o&&(o<256?e[t++]=o:(e[t++]=o>>8,e[t++]=255&o)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},DBCSEncoder.prototype.findIdx=findIdx;function DBCSDecoder(e,t){this.nodeIdx=0,this.prevBuf=new Buffer(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}DBCSDecoder.prototype.write=function(e){var t=new Buffer(2*e.length),o=this.nodeIdx,i=this.prevBuf,r=this.prevBuf.length,d=-this.prevBuf.length;r>0&&(i=Buffer.concat([i,e.slice(0,10)]));for(var n=0,a=0;n<e.length;n++){var h,s=n>=0?e[n]:i[n+r];if((h=this.decodeTables[o][s])>=0);else if(h===UNASSIGNED)n=d,h=this.defaultCharUnicode.charCodeAt(0);else if(h===GB18030_CODE){var c=d>=0?e.slice(d,n+1):i.slice(d+r,n+1+r),l=12600*(c[0]-129)+1260*(c[1]-48)+10*(c[2]-129)+(c[3]-48),S=findIdx(this.gb18030.gbChars,l);h=this.gb18030.uChars[S]+l-this.gb18030.gbChars[S]}else{if(h<=NODE_START){o=NODE_START-h;continue}if(!(h<=SEQ_START))throw new Error(\"iconv-lite internal error: invalid decoding table value \"+h+\" at \"+o+\"/\"+s);for(var f=this.decodeTableSeq[SEQ_START-h],T=0;T<f.length-1;T++)h=f[T],t[a++]=255&h,t[a++]=h>>8;h=f[f.length-1]}if(h>65535){h-=65536;var E=55296+Math.floor(h/1024);t[a++]=255&E,t[a++]=E>>8,h=56320+h%1024}t[a++]=255&h,t[a++]=h>>8,o=0,d=n+1}return this.nodeIdx=o,this.prevBuf=d>=0?e.slice(d):i.slice(d+r),t.slice(0,a).toString(\"ucs2\")},DBCSDecoder.prototype.end=function(){for(var e=\"\";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=new Buffer(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e};function findIdx(e,t){if(e[0]>t)return-1;for(var o=0,i=e.length;o<i-1;){var r=o+Math.floor((i-o+1)/2);e[r]<=t?o=r:i=r}return o}","node_modules/iconv-lite/encodings/dbcs-data.js":"\"use strict\";module.exports={shiftjis:{type:\"_dbcs\",table:function(){return require(\"./tables/shiftjis.json\")},encodeAdd:{\"¥\":92,\"‾\":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:\"shiftjis\",mskanji:\"shiftjis\",sjis:\"shiftjis\",windows31j:\"shiftjis\",ms31j:\"shiftjis\",xsjis:\"shiftjis\",windows932:\"shiftjis\",ms932:\"shiftjis\",932:\"shiftjis\",cp932:\"shiftjis\",eucjp:{type:\"_dbcs\",table:function(){return require(\"./tables/eucjp.json\")},encodeAdd:{\"¥\":92,\"‾\":126}},gb2312:\"cp936\",gb231280:\"cp936\",gb23121980:\"cp936\",csgb2312:\"cp936\",csiso58gb231280:\"cp936\",euccn:\"cp936\",windows936:\"cp936\",ms936:\"cp936\",936:\"cp936\",cp936:{type:\"_dbcs\",table:function(){return require(\"./tables/cp936.json\")}},gbk:{type:\"_dbcs\",table:function(){return require(\"./tables/cp936.json\").concat(require(\"./tables/gbk-added.json\"))}},xgbk:\"gbk\",isoir58:\"gbk\",gb18030:{type:\"_dbcs\",table:function(){return require(\"./tables/cp936.json\").concat(require(\"./tables/gbk-added.json\"))},gb18030:function(){return require(\"./tables/gb18030-ranges.json\")},encodeSkipVals:[128],encodeAdd:{\"€\":41699}},chinese:\"gb18030\",windows949:\"cp949\",ms949:\"cp949\",949:\"cp949\",cp949:{type:\"_dbcs\",table:function(){return require(\"./tables/cp949.json\")}},cseuckr:\"cp949\",csksc56011987:\"cp949\",euckr:\"cp949\",isoir149:\"cp949\",korean:\"cp949\",ksc56011987:\"cp949\",ksc56011989:\"cp949\",ksc5601:\"cp949\",windows950:\"cp950\",ms950:\"cp950\",950:\"cp950\",cp950:{type:\"_dbcs\",table:function(){return require(\"./tables/cp950.json\")}},big5:\"big5hkscs\",big5hkscs:{type:\"_dbcs\",table:function(){return require(\"./tables/cp950.json\").concat(require(\"./tables/big5-added.json\"))},encodeSkipVals:[41676]},cnbig5:\"big5hkscs\",csbig5:\"big5hkscs\",xxbig5:\"big5hkscs\"};","node_modules/crc/lib/index.js":"\"use strict\";module.exports={crc1:require(\"./crc1\"),crc8:require(\"./crc8\"),crc81wire:require(\"./crc8_1wire\"),crc16:require(\"./crc16\"),crc16ccitt:require(\"./crc16_ccitt\"),crc16modbus:require(\"./crc16_modbus\"),crc16xmodem:require(\"./crc16_xmodem\"),crc16kermit:require(\"./crc16_kermit\"),crc24:require(\"./crc24\"),crc32:require(\"./crc32\")};","node_modules/uid-safe/index.js":"\"use strict\";var randomBytes=require(\"random-bytes\"),EQUAL_END_REGEXP=/=+$/,PLUS_GLOBAL_REGEXP=/\\+/g,SLASH_GLOBAL_REGEXP=/\\//g;module.exports=uid,module.exports.sync=uidSync;function uid(e,n){if(void 0!==n&&\"function\"!=typeof n)throw new TypeError(\"argument callback must be a function\");if(!n&&!global.Promise)throw new TypeError(\"argument callback is required\");return n?generateUid(e,n):new Promise(function(n,r){generateUid(e,function(e,t){if(e)return r(e);n(t)})})}function uidSync(e){return toString(randomBytes.sync(e))}function generateUid(e,n){randomBytes(e,function(e,r){if(e)return n(e);n(null,toString(r))})}function toString(e){return e.toString(\"base64\").replace(EQUAL_END_REGEXP,\"\").replace(PLUS_GLOBAL_REGEXP,\"-\").replace(SLASH_GLOBAL_REGEXP,\"_\")}","node_modules/on-headers/index.js":"\"use strict\";var slice=Array.prototype.slice;module.exports=function(e,t){if(!e)throw new TypeError(\"argument res is required\");if(\"function\"!=typeof t)throw new TypeError(\"argument listener must be a function\");e.writeHead=createWriteHead(e.writeHead,t)};function createWriteHead(e,t){var r=!1;return function(a){var i=setWriteHeadHeaders.apply(this,arguments);r||(r=!0,t.call(this),\"number\"==typeof i[0]&&this.statusCode!==i[0]&&(i[0]=this.statusCode,i.length=1)),e.apply(this,i)}}function setWriteHeadHeaders(e){var t=arguments.length,r=t>1&&\"string\"==typeof arguments[1]?2:1,a=t>=r+1?arguments[r]:void 0;if(this.statusCode=e,Array.isArray(a))for(var i=0,s=a.length;i<s;++i)this.setHeader(a[i][0],a[i][1]);else if(a){var n=Object.keys(a);for(i=0;i<n.length;i++){var o=n[i];o&&this.setHeader(o,a[o])}}var u=new Array(Math.min(t,r));for(i=0;i<u.length;i++)u[i]=arguments[i];return u}","node_modules/express-session/session/session.js":"\"use strict\";module.exports=Session;function Session(e,t){if(Object.defineProperty(this,\"req\",{value:e}),Object.defineProperty(this,\"id\",{value:e.sessionID}),\"object\"==typeof t&&null!==t)for(var i in t)i in this||(this[i]=t[i])}defineMethod(Session.prototype,\"touch\",function(){return this.resetMaxAge()}),defineMethod(Session.prototype,\"resetMaxAge\",function(){return this.cookie.maxAge=this.cookie.originalMaxAge,this}),defineMethod(Session.prototype,\"save\",function(e){return this.req.sessionStore.set(this.id,this,e||function(){}),this}),defineMethod(Session.prototype,\"reload\",function(e){var t=this.req,i=this.req.sessionStore;return i.get(this.id,function(o,s){return o?e(o):s?(i.createSession(t,s),void e()):e(new Error(\"failed to load session\"))}),this}),defineMethod(Session.prototype,\"destroy\",function(e){return delete this.req.session,this.req.sessionStore.destroy(this.id,e),this}),defineMethod(Session.prototype,\"regenerate\",function(e){return this.req.sessionStore.regenerate(this.req,e),this});function defineMethod(e,t,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i,writable:!0})}","node_modules/express-session/session/memory.js":"\"use strict\";var Store=require(\"./store\"),util=require(\"util\"),defer=\"function\"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};module.exports=MemoryStore;function MemoryStore(){Store.call(this),this.sessions=Object.create(null)}util.inherits(MemoryStore,Store),MemoryStore.prototype.all=function(e){for(var t=Object.keys(this.sessions),o=Object.create(null),s=0;s<t.length;s++){var r=t[s],i=getSession.call(this,r);i&&(o[r]=i)}e&&defer(e,null,o)},MemoryStore.prototype.clear=function(e){this.sessions=Object.create(null),e&&defer(e)},MemoryStore.prototype.destroy=function(e,t){delete this.sessions[e],t&&defer(t)},MemoryStore.prototype.get=function(e,t){defer(t,null,getSession.call(this,e))},MemoryStore.prototype.set=function(e,t,o){this.sessions[e]=JSON.stringify(t),o&&defer(o)},MemoryStore.prototype.length=function(e){this.all(function(t,o){if(t)return e(t);e(null,Object.keys(o).length)})},MemoryStore.prototype.touch=function(e,t,o){var s=getSession.call(this,e);s&&(s.cookie=t.cookie,this.sessions[e]=JSON.stringify(s)),o&&defer(o)};function getSession(e){var t=this.sessions[e];if(t){var o=\"string\"==typeof(t=JSON.parse(t)).cookie.expires?new Date(t.cookie.expires):t.cookie.expires;if(!(o&&o<=Date.now()))return t;delete this.sessions[e]}}","node_modules/express-session/session/cookie.js":"\"use strict\";var merge=require(\"utils-merge\"),cookie=require(\"cookie\"),Cookie=module.exports=function(e){this.path=\"/\",this.maxAge=null,this.httpOnly=!0,e&&merge(this,e),this.originalMaxAge=void 0==this.originalMaxAge?this.maxAge:this.originalMaxAge};Cookie.prototype={set expires(e){this._expires=e,this.originalMaxAge=this.maxAge},get expires(){return this._expires},set maxAge(e){this.expires=\"number\"==typeof e?new Date(Date.now()+e):e},get maxAge(){return this.expires instanceof Date?this.expires.valueOf()-Date.now():this.expires},get data(){return{originalMaxAge:this.originalMaxAge,expires:this._expires,secure:this.secure,httpOnly:this.httpOnly,domain:this.domain,path:this.path,sameSite:this.sameSite}},serialize:function(e,i){return cookie.serialize(e,i,this.data)},toJSON:function(){return this.data}};","node_modules/express-session/session/store.js":"\"use strict\";var Cookie=require(\"./cookie\"),EventEmitter=require(\"events\").EventEmitter,Session=require(\"./session\"),util=require(\"util\");module.exports=Store;function Store(){EventEmitter.call(this)}util.inherits(Store,EventEmitter),Store.prototype.regenerate=function(e,t){var o=this;this.destroy(e.sessionID,function(i){o.generate(e),t(i)})},Store.prototype.load=function(e,t){var o=this;this.get(e,function(i,r){if(i)return t(i);if(!r)return t();var n={sessionID:e,sessionStore:o};t(null,o.createSession(n,r))})},Store.prototype.createSession=function(e,t){var o=t.cookie.expires,i=t.cookie.originalMaxAge;return t.cookie=new Cookie(t.cookie),\"string\"==typeof o&&(t.cookie.expires=new Date(o)),t.cookie.originalMaxAge=i,e.session=new Session(e,t),e.session};","node_modules/crc/lib/crc1.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=(0,_define_crc2.default)(\"crc1\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=~~r,u=0,_=0;_<e.length;_++){u+=e[_]}return(f+=u%256)%256});","node_modules/crc/lib/crc8.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"crc-8\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=~~r,u=0;u<e.length;u++){var t=e[u];f=255&TABLE[255&(f^t)]}return f});","node_modules/crc/lib/crc8_1wire.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"dallas-1-wire\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=~~r,u=0;u<e.length;u++){var t=e[u];f=255&TABLE[255&(f^t)]}return f});","node_modules/crc/lib/crc16.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"crc-16\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=~~r,u=0;u<e.length;u++){var t=e[u];f=65535&(TABLE[255&(f^t)]^f>>8)}return f});","node_modules/crc/lib/crc16_ccitt.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"ccitt\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=void 0!==r?~~r:65535,u=0;u<e.length;u++){var t=e[u];f=65535&(TABLE[255&(f>>8^t)]^f<<8)}return f});","node_modules/crc/lib/crc16_modbus.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"crc-16-modbus\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=void 0!==r?~~r:65535,u=0;u<e.length;u++){var t=e[u];f=65535&(TABLE[255&(f^t)]^f>>8)}return f});","node_modules/crc/lib/crc16_xmodem.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=(0,_define_crc2.default)(\"xmodem\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=void 0!==r?~~r:0,u=0;u<e.length;u++){var _=f>>>8&255;_^=255&e[u],f=f<<8&65535,f^=_^=_>>>4,f^=_=_<<5&65535,f^=_=_<<7&65535}return f});","node_modules/crc/lib/crc16_kermit.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"kermit\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=void 0!==r?~~r:0,u=0;u<e.length;u++){var t=e[u];f=65535&(TABLE[255&(f^t)]^f>>8)}return f});","node_modules/crc/lib/crc24.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"crc-24\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=void 0!==r?~~r:11994318,u=0;u<e.length;u++){var t=e[u];f=16777215&(TABLE[255&(f>>16^t)]^f<<8)}return f});","node_modules/crc/lib/crc32.js":"\"use strict\";var _buffer=require(\"buffer\"),_create_buffer=require(\"./create_buffer\"),_create_buffer2=_interopRequireDefault(_create_buffer),_define_crc=require(\"./define_crc\"),_define_crc2=_interopRequireDefault(_define_crc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var TABLE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];\"undefined\"!=typeof Int32Array&&(TABLE=new Int32Array(TABLE)),module.exports=(0,_define_crc2.default)(\"crc-32\",function(e,r){_buffer.Buffer.isBuffer(e)||(e=(0,_create_buffer2.default)(e));for(var f=0===r?0:-1^~~r,u=0;u<e.length;u++){var t=e[u];f=TABLE[255&(f^t)]^f>>>8}return-1^f});","node_modules/crc/lib/create_buffer.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _buffer=require(\"buffer\"),createBuffer=_buffer.Buffer.from&&_buffer.Buffer.alloc&&_buffer.Buffer.allocUnsafe&&_buffer.Buffer.allocUnsafeSlow?_buffer.Buffer.from:function(f){return new _buffer.Buffer(f)};exports.default=createBuffer;","node_modules/crc/lib/define_crc.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(e,t){var n=function(e,n){return t(e,n)>>>0};return n.signed=t,n.unsigned=n,n.model=e,n};","node_modules/random-bytes/index.js":"\"use strict\";var crypto=require(\"crypto\"),generateAttempts=crypto.randomBytes===crypto.pseudoRandomBytes?1:3;module.exports=randomBytes,module.exports.sync=randomBytesSync;function randomBytes(e,t){if(void 0!==t&&\"function\"!=typeof t)throw new TypeError(\"argument callback must be a function\");if(!t&&!global.Promise)throw new TypeError(\"argument callback is required\");return t?generateRandomBytes(e,generateAttempts,t):new Promise(function(t,r){generateRandomBytes(e,generateAttempts,function(e,n){if(e)return r(e);t(n)})})}function randomBytesSync(e){for(var t=null,r=0;r<generateAttempts;r++)try{return crypto.randomBytes(e)}catch(e){t=e}throw t}function generateRandomBytes(e,t,r){crypto.randomBytes(e,function(n,o){return n?--t?void setTimeout(generateRandomBytes.bind(null,e,t,r),10):r(n):r(null,o)})}","backend/modules/users/routes.js":"\"use strict\";const _=require(\"lodash\"),bcrypt=require(\"bcrypt\"),crypto=require(\"crypto\"),step=require(\"h5.step\");module.exports=function(s,e){const t=s[e.config.expressId],i=s[e.config.userId],r=s[e.config.settingsId],n=s[e.config.mongooseId],o=n.model(\"User\"),u=n.model(\"PasswordResetRequest\"),d=i.auth(\"USERS:VIEW\"),a=i.auth.apply(i,e.config.browsePrivileges),c=i.auth(\"USERS:MANAGE\");t.get(\"/users/settings\",a,function(s,e,t){return s.rql.selector={name:\"regex\",args:[\"_id\",\"^users\\\\.\"]},t()},t.crud.browseRoute.bind(null,s,r.Setting)),t.put(\"/users/settings/:id\",c,r.updateRoute),t.get(\"/users\",a,t.crud.browseRoute.bind(null,s,o)),t.post(\"/users\",c,p,g,t.crud.addRoute.bind(null,s,o)),t.get(\"/users/:id\",function(s,e,t){s.session.user&&s.params.id===s.session.user._id?t():d(s,e,t)},t.crud.readRoute.bind(null,s,o)),t.put(\"/users/:id\",function(s,e,t){const i=s.session.user;i&&s.params.id===i._id?(i.privileges&&-1!==i.privileges.indexOf(\"USERS:MANAGE\")||(s.body=_.pick(s.body,[\"_id\",\"login\",\"email\",\"password\",\"password2\",\"firstName\",\"lastName\",\"sex\",\"mobile\",\"personellId\",\"mrps\"])),t()):c(s,e,t)},l,p,g,t.crud.editRoute.bind(null,s,o)),t.delete(\"/users/:id\",c,l,t.crud.deleteRoute.bind(null,s,o)),t.post(\"/login\",function(e,t,r){i.authenticate(e.body,function(n,o){if(n)return n.status<500&&s.broker.publish(\"users.loginFailure\",{severity:\"warning\",user:e.session.user,login:String(e.body.login)}),r(n);const u=e.sessionID;e.session.regenerate(function(n){if(n)return r(n);delete o.password,o._id=o._id.toString(),o.loggedIn=!0,o.ipAddress=i.getRealIp({},e),o.local=i.isLocalIpAddress(o.ipAddress),e.session.user=o,t.format({json:function(){t.send(e.session.user)},default:function(){t.redirect(\"/\")}}),s.broker.publish(\"users.login\",{user:o,oldSessionId:u,newSessionId:e.sessionID,socketId:e.body.socketId})})})}),t.get(\"/logout\",function(e,t,r){const n=_.isObject(e.session.user)?e.session.user:null,o=e.sessionID;e.session.regenerate(function(u){if(u)return r(u);const d=_.assign({},i.guest);d.loggedIn=!1,d.ipAddress=i.getRealIp({},e),d.local=i.isLocalIpAddress(d.ipAddress),e.session.user=d,t.format({json:function(){t.sendStatus(204)},default:function(){t.redirect(\"/\")}}),null!==n&&(n.ipAddress=d.ipAddress,s.broker.publish(\"users.logout\",{user:n,oldSessionId:o,newSessionId:e.sessionID}))})}),t.post(\"/resetPassword/request\",g,function(t,r,n){const d=s[e.config.mailSenderId];if(!d)return r.sendStatus(500);const a=t.body;if(!(_.isString(a.subject)&&_.isString(a.text)&&_.isString(a.login)&&_.isString(a.passwordText)))return r.sendStatus(400);step(function(){o.findOne({login:a.login},{login:1,email:1}).lean().exec(this.next())},function(s,e){return s?this.skip(s):e?/^.+@.+\\.[a-z]+$/.test(e.email)?void(this.user=e):(s=new Error(\"INVALID_EMAIL\"),s.status=400,this.skip(s)):(s=new Error(\"NOT_FOUND\"),s.status=404,this.skip(s))},function(){crypto.pseudoRandomBytes(32,this.next())},function(s,e){if(s)return this.skip(s);this.passwordResetRequest=new u({_id:e.toString(\"hex\").toUpperCase(),createdAt:new Date,creator:i.createUserInfo(t.session.user,t),user:this.user._id,password:a.password}),this.passwordResetRequest.save(this.next())},function(s){if(s)return this.skip(s);const e=a.subject,t=a.text.replace(/\\{REQUEST_ID\\}/g,this.passwordResetRequest._id).replace(/\\{LOGIN\\}/g,this.user.login).replace(/\\{PASSWORD\\}/g,a.passwordText);d.send(this.user.email,e,t,this.next())},function(s){return s?n(s):r.sendStatus(204)})}),t.get(\"/resetPassword/:id\",function(s,t,i){step(function(){u.findById(s.params.id,this.next())},function(s,e){return s?this.skip(s):e?Date.now()-e.createdAt.getTime()>864e5?(s=new Error(\"REQUEST_EXPIRED\"),s.status=400,this.skip(s)):void(this.passwordResetRequest=e):(s=new Error(\"REQUEST_NOT_FOUND\"),s.status=404,this.skip(s))},function(){o.findById(this.passwordResetRequest.user,this.next())},function(s,e){return s?this.skip(s):e?void(this.user=e):(s=new Error(\"USER_NOT_FOUND\"),s.status=400,this.skip(s))},function(){this.user.password=this.passwordResetRequest.password,this.user.save(this.next())},function(s){if(s)return i(s);if(t.redirect(303,\"/\"),this.passwordResetRequest){const s=this.passwordResetRequest;s.remove(function(t){t&&e.error(\"Failed to remove the password reset request [%s]: %s\",s._id,t.message)})}this.passwordResetRequest=null,this.user=null})});function l(s,e,t){return s.params.id===i.root._id||s.params.id===i.guest._id?e.sendStatus(400):t()}function p(e,t,i){const r=e.body.login;if(!_.isString(r)||!e.body.active)return i();const n={login:e.body.login=r.trim(),active:!0};e.body._id&&(n._id={$ne:e.body._id}),o.findOne(n,{_id:1}).lean().exec(function(e,t){return e?i(e):t?i(s.createError(\"LOGIN_USED\",400)):i()})}function g(s,e,t){if(!_.isObject(s.body))return t();const i=s.body.password;if(!_.isString(i)||0===i.length)return t();bcrypt.hash(i,10,function(e,r){if(e)return t(e);s.body.passwordText=i,s.body.password=r,t()})}};","backend/modules/users/commands.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(n,s){n[s.config.sioId].sockets.on(\"connection\",function(n){n.on(\"users.sync\",function(n,e){_.isFunction(e)||(e=function(){});if(s.syncing)return e();const i=n.handshake.user||{privileges:[]};if(!i.super&&-1===i.privileges.indexOf(\"USERS:MANAGE\"))return e(new Error(\"AUTH\"));e(),s.syncUsers(i)}.bind(null,n))})};","backend/modules/users/syncUsers.js":"\"use strict\";const _=require(\"lodash\"),bcrypt=require(\"bcrypt\"),transliterate=require(\"transliteration\").transliterate,step=require(\"h5.step\");module.exports=function(e,n,t){let r;try{r=require(\"tedious\")}catch(e){return t(new Error(\"MODULE\"))}if(!n.config.tediousConnection)return t(new Error(\"MODULE\"));const i=e[n.config.companiesId],s=e[n.config.mongooseId].model(\"User\"),o=new r.Connection(n.config.tediousConnection);o.on(\"error\",function(e){n.error(\"[tedious] %s\",e.message)}),o.on(\"connect\",function(e){if(e)return t(e);!function(e){const n={created:0,updated:0,errors:0},s=[],o=new r.Request(function(){const e=[];return _.forEach(i.models,function(n){const t=n._id.replace(/'/g,\"\\\\'\");e.push(\"[USERS].[US_ADD_FIELDS] LIKE '10001&\"+t+\"&%'\")}),\"\\n      SELECT\\n        [USERS].[US_ID],\\n        [CARDS].[CA_NUMBER],\\n        [USERS].[US_NAME],\\n        [USERS].[US_SURNAME],\\n        [USERS].[US_PERSONELLID],\\n        [USERS].[US_ADD_FIELDS],\\n        [USERS].[US_ACTIVE]\\n      FROM [USERS]\\n      LEFT JOIN [CARDS] ON [USERS].[US_CARD_ID]=[CARDS].[CA_ID]\\n     WHERE [USERS].[US_ACTIVE]=1 AND (\"+e.join(\" OR \")+\") ORDER BY [USERS].[US_ID]\"}(),function(r){e.close(),r?t(r):setImmediate(a,n,s,0)});o.on(\"row\",function(e){const n=parseAddFields(e[5].value);s.push({kdId:+e[0].value,card:_.isString(e[1].value)&&!_.isEmpty(e[1].value)?e[1].value.toString():null,firstName:e[2].value,lastName:e[3].value,personellId:e[4].value,active:1===e[6].value,company:n[10001]||null,kdDivision:n[10003]||null,kdPosition:n[10004]||null})}),e.execSql(o)}(o)});function a(e,r,i){if(i===r.length)return setImmediate(t,null,e);const o=r[i];step(function(){if(!o.personellId)return this.skip();s.findOne({kdId:o.kdId},this.parallel()),s.findOne({login:String(o.personellId)},this.parallel())},function(t,r,i){if(t)return n.error(\"Failed to find a user by KD ID [%s]: %s\",o.kdId,t.message),++e.errors,this.skip();let a=i||r;this.isNew=!1,a?a.set(o):(this.isNew=!0,o.login=o.personellId,o.password=\"]:->\",o.email=generateEmailAddress(n.config.emailGenerator,o),a=new s(o)),a.gender||(a.gender=/a$/i.test(a.firstName)?\"female\":\"male\"),this.userModel=a},function(){this.isNew&&bcrypt.hash(this.userModel.login,10,this.next())},function(e,t){e&&n.warn(`[sync] Failed to hash password: ${e.message}`),t&&(this.userModel.password=t)},function(){l(this.userModel,this.isNew,!1,e,this.next())},function(){this.userModel=null,setImmediate(a,e,r,i+1)})}function l(e,t,r,i,o){const a=e.modifiedPaths();if(!a.length||1===a.length&&\"kdId\"===a[0])return o();e.save(function(a){if(a){let t=a.message;if(\"ValidationError\"===a.name&&(t+=\":\\n\"+_.map(a.errors,function(e){return e.toString()}).join(\"\\n\")),n.error(\"Failed to save a user with KD ID [%s]: %s\",e.kdId,t),11e3===a.code&&!r)return function(e,n,t){s.findOne({login:e.login}).exec(function(r,i){if(r||!i)return t();i.set({card:e.card,firstName:e.firstName,lastName:e.lastName,personellId:e.personellId,active:e.active,company:e.company,kdDivision:e.kdDivision,kdPosition:e.kdPosition}),setImmediate(l,i,!1,!0,n,t)})}(e,i,o);++i.errors}else t?(++i.created,n.debug(`[sync] Created: ${e.login}: ${e.firstName} ${e.lastName}`)):++i.updated;return o()})}};function parseAddFields(e){if(!_.isString(e)||_.isEmpty(e))return{};const n=e.split(\"&\"),t={};for(let e=0,r=n.length;e<r;e+=2){const r=n[e].trim();null!=r&&\"\"!==r&&(t[r]=n[e+1].trim())}return t}function generateEmailAddress(e,n){return e?e({firstName:transliterate(n.firstName||\"\",{unknown:\"?\"}).toLowerCase(),lastName:transliterate(n.lastName||\"\",{unknown:\"?\"}).toLowerCase(),personnelId:n.personnelId||\"\",company:(n.company||\"\").toUpperCase()}):\"\"}","backend/modules/users/presenceChecker.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\");module.exports=function(e,s){if(!s.config.tediousConnection)return;const t=100;let n=null;try{n=require(\"tedious\")}catch(e){return}e.broker.subscribe(\"app.started\",()=>i(1e3)).setLimit(1);function i(e){setTimeout(r,e)}function r(){step(function(){e[s.config.settingsId].findValues({_id:/^users\\.presence\\./},\"users.presence.\",this.next())},function(e,s){return e?this.skip(e):(this.lastRecord=s.lastRecord||13106914,this.hardware={},String(s.hardware).split(\"\\n\").forEach(e=>{const s=e.match(/([0-9]+):([12])/);s&&(this.hardware[s[1]]=+s[2])}),_.isEmpty(this.hardware)?this.skip():void 0)},function(){this.conn=new n.Connection(s.config.tediousConnection),this.conn.on(\"error\",e=>s.error(\"[presence] %s\",e.message)),this.conn.on(\"connect\",this.next())},function(e){if(e)return this.skip(e);const s=`\\n          SELECT TOP ${t+1} PLR_ID, PLR_CARD_ID, PLR_DATE, PLR_INOUT, PLR_HARDWARE_ID\\n          FROM PL_REGISTRATIONS\\n          WHERE PLR_ID > ${this.lastRecord}\\n            AND PLR_HARDWARE_ID IN(${Object.keys(this.hardware)})\\n          ORDER BY PLR_ID ASC\\n        `,i=new n.Request(s,this.next()),r=this.rows=[];i.on(\"row\",function(e){const s={};e.forEach(function(e){e.metadata&&(s[e.metadata.colName]=e.value)}),r.push(s)}),this.conn.execSql(i)},function(e){if(e)return this.skip(e);if(0===this.rows.length)return this.skip();this.more=this.rows.length===t+1,this.more&&this.rows.pop();const s=this.presence={};this.rows.forEach(e=>{s[e.PLR_CARD_ID]={in:this.hardware[e.PLR_HARDWARE_ID]===e.PLR_INOUT,at:e.PLR_DATE}})},function(){const t=e[s.config.mongooseId].model(\"User\"),n={card:{$in:Object.keys(this.presence)}};t.find(n,{card:1,presence:1,presenceAt:1}).lean().exec(this.next())},function(t,n){if(t)return this.skip(t);const i=e[s.config.mongooseId].model(\"User\");this.changes={},n.forEach(e=>{const s=this.presence[e.card];s.in===e.presence||s.at<e.presenceAt||(this.changes[e._id]=s.in,i.collection.update({_id:e._id},{$set:{presence:s.in,presenceAt:s.at}},this.group()))})},function(t){if(t)return this.skip(t);e[s.config.settingsId].update(\"users.presence.lastRecord\",_.last(this.rows).PLR_ID,null,this.next())},function(t){this.conn&&(this.conn.close(),this.conn=null),t?(s.error(`[presence] Failed to check: ${t.message}`),i(3e4)):(_.isEmpty(this.changes)||e.broker.publish(\"users.presence.updated\",this.changes),i(this.more?500:5e3))})}};","node_modules/transliteration/lib/node/index.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.slugify=exports.transliterate=void 0;var _transliterate=require(\"./transliterate\"),_transliterate2=_interopRequireDefault(_transliterate),_slugify=require(\"./slugify\"),_slugify2=_interopRequireDefault(_slugify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.transliterate=_transliterate2.default,exports.slugify=_slugify2.default;","node_modules/transliteration/lib/node/transliterate.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.replaceStr=void 0;var _utils=require(\"./utils\"),_charmap=require(\"../../data/charmap.json\"),_charmap2=_interopRequireDefault(_charmap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let charmap={};const defaultOptions={unknown:\"[?]\",replace:[],replaceAfter:[],ignore:[],trim:!0};let configOptions={};const replaceStr=exports.replaceStr=((e,t)=>{let r=e;for(const e of t)e[0]instanceof RegExp?e[0].global||(e[0]=new RegExp(e[0].toString().replace(/^\\/|\\/$/),`${e[0].flags}g`)):\"string\"==typeof e[0]&&(e[0]=new RegExp((0,_utils.escapeRegExp)(e[0]),\"g\")),e[0]instanceof RegExp&&(r=r.replace(e[0],e[1]));return r}),transliterate=(e,t)=>{const r=t?(0,_utils.mergeOptions)(defaultOptions,t):(0,_utils.mergeOptions)(defaultOptions,configOptions);let n,i,a,o,s,p,l=String(e);if(r.ignore instanceof Array&&r.ignore.length>0)for(n in r.ignore){a=l.split(r.ignore[n]),o=[];for(i in a)(s=r.ignore.slice(0)).splice(n,1),o.push(transliterate(a[i],(0,_utils.mergeOptions)(r,{ignore:s,trim:!1})));return o.join(r.ignore[n])}l=replaceStr(l,r.replace),l=(0,_utils.fixChineseSpace)(l);const c=(0,_utils.ucs2decode)(l),u=[];for(p of c)if(p>65535)u.push(r.unknown);else{const e=p>>8;void 0===charmap[e]&&(charmap[e]=_charmap2.default[e]||[]),p&=255;const t=charmap[e][p];void 0===t||null===t?u.push(r.unknown):u.push(charmap[e][p])}r.trim&&u.length>1&&r.replaceAfter.push([/(^ +?)|( +?$)/g,\"\"]);let f=u.join(\"\");return f=replaceStr(f,r.replaceAfter)};transliterate.setCharmap=(e=>charmap=e||charmap),transliterate.config=(e=>void 0===e?configOptions:configOptions=(0,_utils.mergeOptions)(defaultOptions,e)),exports.default=transliterate;","node_modules/transliteration/lib/node/slugify.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _transliterate=require(\"./transliterate\"),_transliterate2=_interopRequireDefault(_transliterate),_utils=require(\"./utils\");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const defaultOptions={lowercase:!0,separator:\"-\",replace:[],replaceAfter:[],ignore:[]};let configOptions={};const slugify=(e,t)=>{const r=t?(0,_utils.mergeOptions)(defaultOptions,t):(0,_utils.mergeOptions)(defaultOptions,configOptions),i=(0,_utils.escapeRegExp)(r.separator);r.replaceAfter.push([/[^a-zA-Z0-9]+/g,r.separator],[new RegExp(`^(${i})+|(${i})+$`,\"g\"),\"\"]);const s={replaceAfter:r.replaceAfter,replace:r.replace,ignore:r.ignore};let a=(0,_transliterate2.default)(e,s);return r.lowercase&&(a=a.toLowerCase()),a};slugify.config=(e=>void 0===e?configOptions:configOptions=(0,_utils.mergeOptions)(defaultOptions,e)),exports.default=slugify;","node_modules/transliteration/lib/node/utils.js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const ucs2decode=exports.ucs2decode=(e=>{const t=[];let r=0;for(;r<e.length;){const p=e.charCodeAt(r++);if(p>=55296&&p<=56319&&r<e.length){const s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&p)<<10)+(1023&s)+65536):(t.push(p),r--)}else t.push(p)}return t}),fixChineseSpace=exports.fixChineseSpace=(e=>e.replace(/([^\\u4e00-\\u9fa5\\W])([\\u4e00-\\u9fa5])/g,\"$1 $2\")),escapeRegExp=exports.escapeRegExp=(e=>{let t=e;return null!==t&&void 0!==t||(t=\"\"),t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")}),mergeOptions=exports.mergeOptions=((e,t)=>{const r={},p=t||{};for(const t in e)if(r[t]=void 0===p[t]?e[t]:p[t],r[t]instanceof Array&&(r[t]=r[t].slice(0)),\"replace\"===t&&\"object\"==typeof r[t]&&!(r[t]instanceof Array)){const e=[];for(const t in r.replace)e.push([t,r.replace[t]]);r.replace=e}return r}),parseCmdEqualOption=exports.parseCmdEqualOption=(e=>{let t=e||{};let r,p=\"__REPLACE_TOKEN__\";for(;t.indexOf(p)>-1;)p+=p;return t.match(/[^\\\\]\\\\\\\\=/)?t=t.replace(/([^\\\\])\\\\\\\\=/g,\"$1\\\\=\"):t.match(/[^\\\\]\\\\=/)&&(t=t.replace(/([^\\\\])\\\\=/g,`$1${p}`)),2!==(r=t.split(\"=\").map(e=>e.replace(new RegExp(p,\"g\"),\"=\"))).length&&(r=!1),r});","node_modules/transliteration/data/charmap.json":{"0":["\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\b","\t","\n","\u000b","\f","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f"," ","!","\"","#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ","!","C/","PS","$?","Y=","|","SS","\"","(c)","a","<<","!","","(r)","-","deg","+-","2","3","'","u","P","*",",","1","o",">>","1/4","1/2","3/4","?","A","A","A","A","A","A","AE","C","E","E","E","E","I","I","I","I","D","N","O","O","O","O","O","x","O","U","U","U","U","U","Th","ss","a","a","a","a","a","a","ae","c","e","e","e","e","i","i","i","i","d","n","o","o","o","o","o","/","o","u","u","u","u","y","th","y"],"1":["A","a","A","a","A","a","C","c","C","c","C","c","C","c","D","d","D","d","E","e","E","e","E","e","E","e","E","e","G","g","G","g","G","g","G","g","H","h","H","h","I","i","I","i","I","i","I","i","I","i","IJ","ij","J","j","K","k","k","L","l","L","l","L","l","L","l","L","l","N","n","N","n","N","n","'n","NG","ng","O","o","O","o","O","o","OE","oe","R","r","R","r","R","r","S","s","S","s","S","s","S","s","T","t","T","t","T","t","U","u","U","u","U","u","U","u","U","u","U","u","W","w","Y","y","Y","Z","z","Z","z","Z","z","s","b","B","B","b","6","6","O","C","c","D","D","D","d","d","3","@","E","F","f","G","G","hv","I","I","K","k","l","l","W","N","n","O","O","o","OI","oi","P","p","YR","2","2","SH","sh","t","T","t","T","U","u","Y","V","Y","y","Z","z","ZH","ZH","zh","zh","2","5","5","ts","w","|","||","|=","!","DZ","Dz","dz","LJ","Lj","lj","NJ","Nj","nj","A","a","I","i","O","o","U","u","U","u","U","u","U","u","U","u","@","A","a","A","a","AE","ae","G","g","G","g","K","k","O","o","O","o","ZH","zh","j","DZ","D","dz","G","g","HV","W","N","n","A","a","AE","ae","O","o"],"2":["A","a","A","a","E","e","E","e","I","i","I","i","O","o","O","o","R","r","R","r","U","u","U","u","S","s","T","t","Y","y","H","h","N","d","OU","ou","Z","z","A","a","E","e","O","o","O","o","O","o","O","o","Y","y","l","n","t","j","db","qp","A","C","c","L","T","s","z","?","?","B","U","V","E","e","J","j","Q","q","R","r","Y","y","a","a","a","b","o","c","d","d","e","@","@","e","e","e","e","j","g","g","g","g","u","Y","h","h","i","i","I","l","l","l","lZ","W","W","m","n","n","n","o","OE","O","F","R","R","R","R","r","r","R","R","R","s","S","j","S","S","t","t","U","U","v","^","W","Y","Y","z","z","Z","Z","?","?","?","C","@","B","E","G","H","j","k","L","q","?","?","dz","dZ","dz","ts","tS","tC","fN","ls","lz","WW","]]","h","h","k","h","j","r","r","r","r","w","y","'","\"","`","'","`","`","'","?","?","<",">","^","V","^","V","'","-","/","\\",",","_","\\","/",":",".","`","'","^","V","+","-","V",".","@",",","~","\"","R","X","G","l","s","x","?","","","","","","","","V","=","\"",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"3":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"'",",",null,null,null,null,"",null,null,null,"?",null,null,null,null,null,"","","A",";","E","I","I",null,"O",null,"U","O","I","A","V","G","D","E","Z","I","Th","I","K","L","M","N","X","O","P","R",null,"S","T","Y","F","H","Ps","O","I","Y","a","e","i","i","y","a","v","g","d","e","z","i","th","i","k","l","m","n","x","o","p","r","s","s","t","y","f","h","ps","o","i","y","o","y","o",null,"b","th","U","U","U","ph","p","&",null,null,"St","st","W","w","Q","q","Sp","sp","Sh","sh","F","f","Kh","kh","H","h","G","g","CH","ch","Ti","ti","k","r","c","j",null,null,null,null,null,null,null,null,null,null,null,null],"4":["Jo","Yo","Dj","Gj","Ie","Dz","I","Yi","J","Lj","Nj","Tsh","Kj","I","U","Dzh","A","B","V","G","D","E","Zh","Z","I","Y","K","L","M","N","O","P","R","S","T","U","F","H","C","Ch","Sh","Shch","","Y","","E","Yu","Ya","a","b","v","g","d","e","zh","z","i","y","k","l","m","n","o","p","r","s","t","u","f","h","c","ch","sh","shch","","y","","e","yu","ya","je","yo","dj","gj","ie","dz","i","yi","j","lj","nj","tsh","kj","i","u","dzh","O","o","E","e","Ie","ie","E","e","Ie","ie","O","o","Io","io","Ks","ks","Ps","ps","F","f","Y","y","Y","y","u","u","O","o","O","o","Ot","ot","Q","q","*1000*","","","","",null,"*100.000*","*1.000.000*",null,null,"\"","\"","R'","r'","G'","g'","G'","g'","G'","g'","Zh'","zh'","Z'","z'","K'","k'","K'","k'","K'","k'","K'","k'","N'","n'","Ng","ng","P'","p'","Kh","kh","S'","s'","T'","t'","U","u","U'","u'","Kh'","kh'","Tts","tts","Ch'","ch'","Ch'","ch'","H","h","Ch","ch","Ch'","ch'","`","Zh","zh","K'","k'",null,null,"N'","n'",null,null,"Ch","ch",null,null,null,"a","a","A","a","Ae","ae","Ie","ie","@","@","@","@","Zh","zh","Z","z","Dz","dz","I","i","I","i","O","o","O","o","O","o","E","e","U","u","U","u","U","u","Ch","ch",null,null,"Y","y",null,null,null,null,null,null],"5":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"A","B","G","D","E","Z","E","E","T`","Zh","I","L","Kh","Ts","K","H","Dz","Gh","Ch","M","Y","N","Sh","O","Ch`","P","J","Rh","S","V","T","R","Ts`","W","P`","K`","O","F",null,null,"<","'","/","!",",","?",".",null,"a","b","g","d","e","z","e","e","t`","zh","i","l","kh","ts","k","h","dz","gh","ch","m","y","n","sh","o","ch`","p","j","rh","s","v","t","r","ts`","w","p`","k`","o","f","ew",null,".","-",null,null,null,null,null,null,"","","","","","","","","","","","","","","","","",null,"","","","","","","","","","","","","","@","e","a","o","i","e","e","a","a","o",null,"u","'","","","","","","",":","",null,null,null,null,null,null,null,null,null,null,null,"","b","g","d","h","v","z","kh","t","y","k","k","l","m","m","n","n","s","`","p","p","ts","ts","q","r","sh","t",null,null,null,null,null,"V","oy","i","'","\"",null,null,null,null,null,null,null,null,null,null,null],"6":[null,null,null,null,null,null,null,null,null,null,null,null,",",null,null,null,null,null,null,null,null,null,null,null,null,null,null,";",null,null,null,"?",null,"","a","'","w'","","y'","","b","@","t","th","j","H","kh","d","dh","r","z","s","sh","S","D","T","Z","aa","G",null,null,null,null,null,"","f","q","k","l","m","n","h","w","~","y","an","un","in","a","u","i","W","","","'","'",null,null,null,null,null,null,null,null,null,null,"0","1","2","3","4","5","6","7","8","9","%",".",",","*",null,null,"","'","'","'","","'","'w","'u","'y","tt","tth","b","t","T","p","th","bh","'h","H","ny","dy","H","ch","cch","dd","D","D","Dt","dh","ddh","d","D","D","rr","R","R","R","R","R","R","j","R","S","S","S","S","S","T","GH","F","F","F","v","f","ph","Q","Q","kh","k","K","K","ng","K","g","G","N","G","G","G","L","L","L","L","N","N","N","N","N","h","Ch","hy","h","H","@","W","oe","oe","u","yu","yu","W","v","y","Y","Y","W","","","y","y'",".","ae","","","","","","","","@","#","","","","","","","","","","","^","","","","",null,null,"0","1","2","3","4","5","6","7","8","9","Sh","D","Gh","&","+m",null],"7":["//","/",",","!","!","-",",",",",";","?","~","{","}","*",null,"","'","","b","g","g","d","d","h","w","z","H","t","t","y","yh","k","l","m","n","s","s","`","p","p","S","q","r","sh","t",null,null,null,"a","a","a","A","A","A","e","e","e","E","i","i","u","u","u","o","","`","'","","","X","Q","@","@","|","+",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"h","sh","n","r","b","L","k","'","v","m","f","dh","th","l","g","ny","s","d","z","t","y","p","j","ch","tt","hh","kh","th","z","sh","s","d","t","z","`","gh","q","w","a","aa","i","ee","u","oo","e","ey","o","oa","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"9":[null,"N","N","H",null,"a","aa","i","ii","u","uu","R","L","eN","e","e","ai","oN","o","o","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n","nnn","p","ph","b","bh","m","y","r","rr","l","l","lll","v","sh","ss","s","h",null,null,"'","'","aa","i","ii","u","uu","R","RR","eN","e","e","ai","oN","o","o","au","",null,null,"AUM","'","'","`","'",null,null,null,"q","khh","ghh","z","dddh","rh","f","yy","RR","LL","L","LL"," / "," // ","0","1","2","3","4","5","6","7","8","9",".",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"N","N","H",null,"a","aa","i","ii","u","uu","R","RR",null,null,"e","ai",null,null,"o","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","y","r",null,"l",null,null,null,"sh","ss","s","h",null,null,"'",null,"aa","i","ii","u","uu","R","RR",null,null,"e","ai",null,null,"o","au","",null,null,null,null,null,null,null,null,null,"+",null,null,null,null,"rr","rh",null,"yy","RR","LL","L","LL",null,null,"0","1","2","3","4","5","6","7","8","9","r'","r`","Rs","Rs","1/","2/","3/","4/"," 1 - 1/","/16","",null,null,null,null,null],"10":[null,null,"N",null,null,"a","aa","i","ii","u","uu",null,null,null,null,"ee","ai",null,null,"oo","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bb","m","y","r",null,"l","ll",null,"v","sh",null,"s","h",null,null,"'",null,"aa","i","ii","u","uu",null,null,null,null,"ee","ai",null,null,"oo","au","",null,null,null,null,null,null,null,null,null,null,null,"khh","ghh","z","rr",null,"f",null,null,null,null,null,null,null,"0","1","2","3","4","5","6","7","8","9","N","H","","","G.E.O.",null,null,null,null,null,null,null,null,null,null,null,null,"N","N","H",null,"a","aa","i","ii","u","uu","R",null,"eN",null,"e","ai","oN",null,"o","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","ya","r",null,"l","ll",null,"v","sh","ss","s","h",null,null,"'","'","aa","i","ii","u","uu","R","RR","eN",null,"e","ai","oN",null,"o","au","",null,null,"AUM",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"RR",null,null,null,null,null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"11":[null,"N","N","H",null,"a","aa","i","ii","u","uu","R","L",null,null,"e","ai",null,null,"o","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","y","r",null,"l","ll",null,"","sh","ss","s","h",null,null,"'","'","aa","i","ii","u","uu","R",null,null,null,"e","ai",null,null,"o","au","",null,null,null,null,null,null,null,null,"+","+",null,null,null,null,"rr","rh",null,"yy","RR","LL",null,null,null,null,"0","1","2","3","4","5","6","7","8","9","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"N","H",null,"a","aa","i","ii","u","uu",null,null,null,"e","ee","ai",null,"o","oo","au","k",null,null,null,"ng","c",null,"j",null,"ny","tt",null,null,null,"nn","t",null,null,null,"n","nnn","p",null,null,null,"m","y","r","rr","l","ll","lll","v",null,"ss","s","h",null,null,null,null,"aa","i","ii","u","uu",null,null,null,"e","ee","ai",null,"o","oo","au","",null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"0","1","2","3","4","5","6","7","8","9","+10+","+100+","+1000+",null,null,null,null,null,null,null,null,null,null,null,null,null],"12":[null,"N","N","H",null,"a","aa","i","ii","u","uu","R","L",null,"e","ee","ai",null,"o","oo","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","y","r","rr","l","ll",null,"v","sh","ss","s","h",null,null,null,null,"aa","i","ii","u","uu","R","RR",null,"e","ee","ai",null,"o","oo","au","",null,null,null,null,null,null,null,"+","+",null,null,null,null,null,null,null,null,null,"RR","LL",null,null,null,null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"N","H",null,"a","aa","i","ii","u","uu","R","L",null,"e","ee","ai",null,"o","oo","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","y","r","rr","l","ll",null,"v","sh","ss","s","h",null,null,null,null,"aa","i","ii","u","uu","R","RR",null,"e","ee","ai",null,"o","oo","au","",null,null,null,null,null,null,null,"+","+",null,null,null,null,null,null,null,"lll",null,"RR","LL",null,null,null,null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"13":[null,null,"N","H",null,"a","aa","i","ii","u","uu","R","L",null,"e","ee","ai",null,"o","oo","au","k","kh","g","gh","ng","c","ch","j","jh","ny","tt","tth","dd","ddh","nn","t","th","d","dh","n",null,"p","ph","b","bh","m","y","r","rr","l","ll","lll","v","sh","ss","s","h",null,null,null,null,"aa","i","ii","u","uu","R",null,null,"e","ee","ai","","o","oo","au","",null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,null,null,null,"RR","LL",null,null,null,null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"N","H",null,"a","aa","ae","aae","i","ii","u","uu","R","RR","L","LL","e","ee","ai","o","oo","au",null,null,null,"k","kh","g","gh","ng","nng","c","ch","j","jh","ny","jny","nyj","tt","tth","dd","ddh","nn","nndd","t","th","d","dh","n",null,"nd","p","ph","b","bh","m","mb","y","r",null,"l",null,null,"v","sh","ss","s","h","ll","f",null,null,null,"",null,null,null,null,"aa","ae","aae","i","ii","u",null,"uu",null,"R","e","ee","ai","o","oo","au","L",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"RR","LL"," . ",null,null,null,null,null,null,null,null,null,null,null],"14":[null,"k","kh","kh","kh","kh","kh","ng","cch","ch","ch","ch","ch","y","d","t","th","th","th","n","d","t","th","th","th","n","b","p","ph","f","ph","f","ph","m","y","r","R","l","L","w","s","s","s","h","l","`","h","~","a","a","aa","am","i","ii","ue","uue","u","uu","'",null,null,null,null,"Bh.","e","ae","o","ai","ai","ao","+","","","","","","","M",""," * ","0","1","2","3","4","5","6","7","8","9"," // "," /// ",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"k","kh",null,"kh",null,null,"ng","ch",null,"s",null,null,"ny",null,null,null,null,null,null,"d","h","th","th",null,"n","b","p","ph","f","ph","f",null,"m","y","r",null,"l",null,"w",null,null,"s","h",null,"`","","~","a","","aa","am","i","ii","y","yy","u","uu",null,"o","l","ny",null,null,"e","ei","o","ay","ai",null,"+",null,"","","","","","M",null,null,"0","1","2","3","4","5","6","7","8","9",null,null,"hn","hm",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"15":["AUM","","","","","","",""," // "," * ","","-"," / "," / "," // "," -/ "," +/ "," X/ "," /XX/ "," /X/ ",",","","","","","","","","","","","","0","1","2","3","4","5","6","7","8","9",".5","1.5","2.5","3.5","4.5","5.5","6.5","7.5","8.5","-.5","+","*","^","_","","~",null,"]","[[","]]","","","k","kh","g","gh","ng","c","ch","j",null,"ny","tt","tth","dd","ddh","nn","t","th","d","dh","n","p","ph","b","bh","m","ts","tsh","dz","dzh","w","zh","z","'","y","r","l","sh","ssh","s","h","a","kss","r",null,null,null,null,null,null,"aa","i","ii","u","uu","R","RR","L","LL","e","ee","o","oo","M","H","i","ii","","","","","","","","","","",null,null,null,null,"k","kh","g","gh","ng","c","ch","j",null,"ny","tt","tth","dd","ddh","nn","t","th","d","dh","n","p","ph","b","bh","m","ts","tsh","dz","dzh","w","zh","z","'","y","r","l","sh","ss","s","h","a","kss","w","y","r",null,"X"," :X: "," /O/ "," /o/ "," \\o\\ "," (O) ","","","","","","","","","",null,null,"",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"23":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"k","kh","g","gh","ng","c","ch","j","jh","ny","t","tth","d","ddh","nn","t","th","d","dh","n","p","ph","b","bh","m","y","r","l","v","sh","ss","s","h","l","q","a","aa","i","ii","u","uk","uu","uuv","ry","ryy","ly","lyy","e","ai","oo","oo","au","a","aa","aa","i","ii","y","yy","u","uu","ua","oe","ya","ie","e","ae","ai","oo","au","M","H","a`","","","","r","","!","","","","","","."," // ",":","+","++"," * "," /// ","KR","'",null,null,null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"24":[" @ "," ... ",",",". ",": "," // ","","-",",",". ","","","","","",null,"0","1","2","3","4","5","6","7","8","9",null,null,null,null,null,null,"a","e","i","o","u","O","U","ee","n","ng","b","p","q","g","m","l","s","sh","t","d","ch","j","y","r","w","f","k","kha","ts","z","h","zr","lh","zh","ch","-","e","i","o","u","O","U","ng","b","p","q","g","m","t","d","ch","j","ts","y","w","k","g","h","jy","ny","dz","e","i","iy","U","u","ng","k","g","h","p","sh","t","d","j","f","g","h","ts","z","r","ch","zh","i","k","r","f","zh",null,null,null,null,null,null,null,null,null,"H","X","W","M"," 3 "," 333 ","a","i","k","ng","c","tt","tth","dd","nn","t","d","p","ph","ss","zh","z","a","t","zh","gh","ng","c","jh","tta","ddh","t","dh","ss","cy","zh","z","u","y","bh","'",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"30":["A","a","B","b","B","b","B","b","C","c","D","d","D","d","D","d","D","d","D","d","E","e","E","e","E","e","E","e","E","e","F","f","G","g","H","h","H","h","H","h","H","h","H","h","I","i","I","i","K","k","K","k","K","k","L","l","L","l","L","l","L","l","M","m","M","m","M","m","N","n","N","n","N","n","N","n","O","o","O","o","O","o","O","o","P","p","P","p","R","r","R","r","R","r","R","r","S","s","S","s","S","s","S","s","S","s","T","t","T","t","T","t","T","t","U","u","U","u","U","u","U","u","U","u","V","v","V","v","W","w","W","w","W","w","W","w","W","w","X","x","X","x","Y","y","Z","z","Z","z","Z","z","h","t","w","y","a","S",null,null,null,null,"A","a","A","a","A","a","A","a","A","a","A","a","A","a","A","a","A","a","A","a","A","a","A","a","E","e","E","e","E","e","E","e","E","e","E","e","E","e","E","e","I","i","I","i","O","o","O","o","O","o","O","o","O","o","O","o","O","o","O","o","O","o","O","o","O","o","O","o","U","u","U","u","U","u","U","u","U","u","U","u","U","u","Y","y","Y","y","Y","y","Y","y",null,null,null,null,null,null],"31":["a","a","a","a","a","a","a","a","A","A","A","A","A","A","A","A","e","e","e","e","e","e",null,null,"E","E","E","E","E","E",null,null,"e","e","e","e","e","e","e","e","E","E","E","E","E","E","E","E","i","i","i","i","i","i","i","i","I","I","I","I","I","I","I","I","o","o","o","o","o","o",null,null,"O","O","O","O","O","O",null,null,"u","u","u","u","u","u","u","u",null,"U",null,"U",null,"U",null,"U","o","o","o","o","o","o","o","o","O","O","O","O","O","O","O","O","a","a","e","e","e","e","i","i","o","o","u","u","o","o",null,null,"a","a","a","a","a","a","a","a","A","A","A","A","A","A","A","A","e","e","e","e","e","e","e","e","E","E","E","E","E","E","E","E","o","o","o","o","o","o","o","o","O","O","O","O","O","O","O","O","a","a","a","a","a",null,"a","a","A","A","A","A","A","'","i","'","~","\"~","e","e","e",null,"e","e","E","E","E","E","E","'`","''","'~","i","i","i","i",null,null,"i","i","I","I","I","I",null,"`'","`'","`~","u","u","u","u","R","R","u","u","U","U","U","U","R","\"`","\"'","`",null,null,"o","o","o",null,"o","o","O","O","O","O","O","'","`",null],"32":[" "," "," "," "," "," "," "," "," "," "," "," ","","","","","-","-","-","-","--","--","||","_","'","'",",","'","\"","\"",",,","\"","+","++","*","*>",".","..","...",".","\n","\n\n","","","","",""," ","%0","%00","'","''","'''","`","``","```","^","<",">","*","!!","!?","-","_","-","^","***","--","/","-[","]-",null,"?!","!?","7","PP","(]","[)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","0","","","","4","5","6","7","8","9","+","-","=","(",")","n","0","1","2","3","4","5","6","7","8","9","+","-","=","(",")",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ECU","CL","Cr","FF","L","mil","N","Pts","Rs","W","NS","D","EU","K","T","Dr",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"33":["","","C","","","","","","","","g","H","H","H","h","","I","I","L","l","lb","N","no","(p)","P","P","Q","R","R","R","","","(sm)","(tel)","(tm)","","Z","",null,"mho","Z","",null,null,"B","C","e","e","","F",null,"M","o","","","","","i","Q","(fax)","pi","","","Pi","","G","L","L","Y","D","d","e","i","j","","","per","",null,null,null,null,null," 1/3 "," 2/3 "," 1/5 "," 2/5 "," 3/5 "," 4/5 "," 1/6 "," 5/6 "," 1/8 "," 3/8 "," 5/8 "," 7/8 "," 1/","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","L","C","D","M","i","ii","iii","iv","v","vi","vii","viii","ix","x","xi","xii","l","c","d","m","(D","D)","((|))",")",null,null,null,null,null,null,null,null,null,null,null,null,"-","|","-","|","-","|","\\","/","\\","/","-","-","~","~","-","|","-","|","-","-","-","|","-","|","|","-","-","-","-","-","-","|","|","|","|","|","|","|","^","V","\\","=","V","^","-","-","|","|","-","-","|","|","=","|","=","=","|","=","|","=","=","=","=","=","=","|","=","|","=","|","\\","/","\\","/","=","=","~","~","|","|","-","|","-","|","-","-","-","|","-","|","|","|","|","|","|","|","-","\\","\\","|",null,null,null,null,null,null,null,null,null,null,null,null],"36":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"37":["-","-","|","|","-","-","|","|","-","-","|","|","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","-","-","|","|","-","|","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","+","/","\\","X","-","|","-","|","-","|","-","|","-","|","-","|","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","-","|",null,null,null,null,null,null,null,null,null,null,"#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","#","^","^","^","^",">",">",">",">",">",">","V","V","V","V","<","<","<","<","<","<","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","#","#","#","#","#","^","^","^","O","#","#","#","#","#","#","#","#",null,null,null,null,null,null,null,null],"38":["","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"39":[null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,"","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"40":[" ","a","1","b","'","k","2","l","@","c","i","f","/","m","s","p","\"","e","3","h","9","o","6","r","^","d","j","g",">","n","t","q",",","*","5","<","-","u","8","v",".","%","[","$","+","x","!","&",";",":","4","\\","0","z","7","(","_","?","w","]","#","y",")","=","[d7]","[d17]","[d27]","[d127]","[d37]","[d137]","[d237]","[d1237]","[d47]","[d147]","[d247]","[d1247]","[d347]","[d1347]","[d2347]","[d12347]","[d57]","[d157]","[d257]","[d1257]","[d357]","[d1357]","[d2357]","[d12357]","[d457]","[d1457]","[d2457]","[d12457]","[d3457]","[d13457]","[d23457]","[d123457]","[d67]","[d167]","[d267]","[d1267]","[d367]","[d1367]","[d2367]","[d12367]","[d467]","[d1467]","[d2467]","[d12467]","[d3467]","[d13467]","[d23467]","[d123467]","[d567]","[d1567]","[d2567]","[d12567]","[d3567]","[d13567]","[d23567]","[d123567]","[d4567]","[d14567]","[d24567]","[d124567]","[d34567]","[d134567]","[d234567]","[d1234567]","[d8]","[d18]","[d28]","[d128]","[d38]","[d138]","[d238]","[d1238]","[d48]","[d148]","[d248]","[d1248]","[d348]","[d1348]","[d2348]","[d12348]","[d58]","[d158]","[d258]","[d1258]","[d358]","[d1358]","[d2358]","[d12358]","[d458]","[d1458]","[d2458]","[d12458]","[d3458]","[d13458]","[d23458]","[d123458]","[d68]","[d168]","[d268]","[d1268]","[d368]","[d1368]","[d2368]","[d12368]","[d468]","[d1468]","[d2468]","[d12468]","[d3468]","[d13468]","[d23468]","[d123468]","[d568]","[d1568]","[d2568]","[d12568]","[d3568]","[d13568]","[d23568]","[d123568]","[d4568]","[d14568]","[d24568]","[d124568]","[d34568]","[d134568]","[d234568]","[d1234568]","[d78]","[d178]","[d278]","[d1278]","[d378]","[d1378]","[d2378]","[d12378]","[d478]","[d1478]","[d2478]","[d12478]","[d3478]","[d13478]","[d23478]","[d123478]","[d578]","[d1578]","[d2578]","[d12578]","[d3578]","[d13578]","[d23578]","[d123578]","[d4578]","[d14578]","[d24578]","[d124578]","[d34578]","[d134578]","[d234578]","[d1234578]","[d678]","[d1678]","[d2678]","[d12678]","[d3678]","[d13678]","[d23678]","[d123678]","[d4678]","[d14678]","[d24678]","[d124678]","[d34678]","[d134678]","[d234678]","[d1234678]","[d5678]","[d15678]","[d25678]","[d125678]","[d35678]","[d135678]","[d235678]","[d1235678]","[d45678]","[d145678]","[d245678]","[d1245678]","[d345678]","[d1345678]","[d2345678]","[d12345678]"],"48":[" ",",",". ","\"","[JIS]","\"","/","0","<","> ","<<",">> ","[","] ","{","} ","[(",")] ","@","X ","[","] ","[[","]] ","((",")) ","[[","]] ","~ ","``","''",",,","@","1","2","3","4","5","6","7","8","9","","","","","","","~","+","+","+","+","","@"," // ","+10+","+20+","+30+",null,null,null,"","",null,"a","a","i","i","u","u","e","e","o","o","ka","ga","ki","gi","ku","gu","ke","ge","ko","go","sa","za","si","zi","su","zu","se","ze","so","zo","ta","da","ti","di","tu","tu","du","te","de","to","do","na","ni","nu","ne","no","ha","ba","pa","hi","bi","pi","hu","bu","pu","he","be","pe","ho","bo","po","ma","mi","mu","me","mo","ya","ya","yu","yu","yo","yo","ra","ri","ru","re","ro","wa","wa","wi","we","wo","n","vu",null,null,null,null,"","","","","\"","\"",null,null,"a","a","i","i","u","u","e","e","o","o","ka","ga","ki","gi","ku","gu","ke","ge","ko","go","sa","za","si","zi","su","zu","se","ze","so","zo","ta","da","ti","di","tu","tu","du","te","de","to","do","na","ni","nu","ne","no","ha","ba","pa","hi","bi","pi","hu","bu","pu","he","be","pe","ho","bo","po","ma","mi","mu","me","mo","ya","ya","yu","yu","yo","yo","ra","ri","ru","re","ro","wa","wa","wi","we","wo","n","vu","ka","ke","va","vi","ve","vo","","","\"","\"",null],"49":[null,null,null,null,null,"B","P","M","F","D","T","N","L","G","K","H","J","Q","X","ZH","CH","SH","R","Z","C","S","A","O","E","EH","AI","EI","AU","OU","AN","EN","ANG","ENG","ER","I","U","IU","V","NG","GN",null,null,null,null,"g","gg","gs","n","nj","nh","d","dd","r","lg","lm","lb","ls","lt","lp","rh","m","b","bb","bs","s","ss","","j","jj","c","k","t","p","h","a","ae","ya","yae","eo","e","yeo","ye","o","wa","wae","oe","yo","u","weo","we","wi","yu","eu","yi","i","","nn","nd","ns","nZ","lgs","ld","lbs","lZ","lQ","mb","ms","mZ","mN","bg","","bsg","bst","bj","bt","bN","bbN","sg","sn","sd","sb","sj","Z","","N","Ns","NZ","pN","hh","Q","yo-ya","yo-yae","yo-i","yu-yeo","yu-ye","yu-i","U","U-i",null,"","","","","","","","","","","","","","","","","BU","ZI","JI","GU","EE","ENN","OO","ONN","IR","ANN","INN","UNN","IM","NGG","AINN","AUNN","AM","OM","ONG","INNN","P","T","K","H",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"50":["(g)","(n)","(d)","(r)","(m)","(b)","(s)","()","(j)","(c)","(k)","(t)","(p)","(h)","(ga)","(na)","(da)","(ra)","(ma)","(ba)","(sa)","(a)","(ja)","(ca)","(ka)","(ta)","(pa)","(ha)","(ju)",null,null,null,"(1) ","(2) ","(3) ","(4) ","(5) ","(6) ","(7) ","(8) ","(9) ","(10) ","(Yue) ","(Huo) ","(Shui) ","(Mu) ","(Jin) ","(Tu) ","(Ri) ","(Zhu) ","(You) ","(She) ","(Ming) ","(Te) ","(Cai) ","(Zhu) ","(Lao) ","(Dai) ","(Hu) ","(Xue) ","(Jian) ","(Qi) ","(Zi) ","(Xie) ","(Ji) ","(Xiu) ","<<",">>",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"(g)","(n)","(d)","(r)","(m)","(b)","(s)","()","(j)","(c)","(k)","(t)","(p)","(h)","(ga)","(na)","(da)","(ra)","(ma)","(ba)","(sa)","(a)","(ja)","(ca)","(ka)","(ta)","(pa)","(ha)",null,null,null,"KIS ","(1) ","(2) ","(3) ","(4) ","(5) ","(6) ","(7) ","(8) ","(9) ","(10) ","(Yue) ","(Huo) ","(Shui) ","(Mu) ","(Jin) ","(Tu) ","(Ri) ","(Zhu) ","(You) ","(She) ","(Ming) ","(Te) ","(Cai) ","(Zhu) ","(Lao) ","(Mi) ","(Nan) ","(Nu) ","(Shi) ","(You) ","(Yin) ","(Zhu) ","(Xiang) ","(Xiu) ","(Xie) ","(Zheng) ","(Shang) ","(Zhong) ","(Xia) ","(Zuo) ","(You) ","(Yi) ","(Zong) ","(Xue) ","(Jian) ","(Qi) ","(Zi) ","(Xie) ","(Ye) ",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1M","2M","3M","4M","5M","6M","7M","8M","9M","10M","11M","12M",null,null,null,null,"a","i","u","u","o","ka","ki","ku","ke","ko","sa","si","su","se","so","ta","ti","tu","te","to","na","ni","nu","ne","no","ha","hi","hu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","wi","we","wo",null],"51":["apartment","alpha","ampere","are","inning","inch","won","escudo","acre","ounce","ohm","kai-ri","carat","calorie","gallon","gamma","giga","guinea","curie","guilder","kilo","kilogram","kilometer","kilowatt","gram","gram ton","cruzeiro","krone","case","koruna","co-op","cycle","centime","shilling","centi","cent","dozen","desi","dollar","ton","nano","knot","heights","percent","parts","barrel","piaster","picul","pico","building","farad","feet","bushel","franc","hectare","peso","pfennig","hertz","pence","page","beta","point","volt","hon","pound","hall","horn","micro","mile","mach","mark","mansion","micron","milli","millibar","mega","megaton","meter","yard","yard","yuan","liter","lira","rupee","ruble","rem","roentgen","watt","0h","1h","2h","3h","4h","5h","6h","7h","8h","9h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h","24h","HPA","da","AU","bar","oV","pc",null,null,null,null,"Heisei","Syouwa","Taisyou","Meiji","Inc.","pA","nA","microamp","mA","kA","kB","MB","GB","cal","kcal","pF","nF","microFarad","microgram","mg","kg","Hz","kHz","MHz","GHz","THz","microliter","ml","dl","kl","fm","nm","micrometer","mm","cm","km","mm^2","cm^2","m^2","km^2","mm^4","cm^3","m^3","km^3","m/s","m/s^2","Pa","kPa","MPa","GPa","rad","rad/s","rad/s^2","ps","ns","microsecond","ms","pV","nV","microvolt","mV","kV","MV","pW","nW","microwatt","mW","kW","MW","kOhm","MOhm","a.m.","Bq","cc","cd","C/kg","Co.","dB","Gy","ha","HP","in","K.K.","KM","kt","lm","ln","log","lx","mb","mil","mol","pH","p.m.","PPM","PR","sr","Sv","Wb",null,null,"1d","2d","3d","4d","5d","6d","7d","8d","9d","10d","11d","12d","13d","14d","15d","16d","17d","18d","19d","20d","21d","22d","23d","24d","25d","26d","27d","28d","29d","30d","31d",null],"252":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"253":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","","","","","","","","","",null,null,null,null],"254":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"","","","~",null,null,null,null,null,null,null,null,null,null,null,null,"..","--","-","_","_","(",") ","{","} ","[","] ","[(",")] ","<<",">> ","<","> ","[","] ","{","}",null,null,null,null,"","","","","","","",",",",",".","",";",":","?","!","-","(",")","{","}","{","}","#","&","*","+","-","<",">","=","","\\","$","%","@",null,null,null,null,"","","",null,"",null,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",null,null,""],"255":[null,"!","\"","#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~",null,null,".","[","]",",","*","wo","a","i","u","e","o","ya","yu","yo","tu","+","a","i","u","e","o","ka","ki","ku","ke","ko","sa","si","su","se","so","ta","ti","tu","te","to","na","ni","nu","ne","no","ha","hi","hu","he","ho","ma","mi","mu","me","mo","ya","yu","yo","ra","ri","ru","re","ro","wa","n",":",";","","g","gg","gs","n","nj","nh","d","dd","r","lg","lm","lb","ls","lt","lp","rh","m","b","bb","bs","s","ss","","j","jj","c","k","t","p","h",null,null,null,"a","ae","ya","yae","eo","e",null,null,"yeo","ye","o","wa","wae","oe",null,null,"yo","u","weo","we","wi","yu",null,null,"eu","yi","i",null,null,null,"/C","PS","!","-","|","Y=","W=",null,"|","-","|","-","|","#","O",null,null,null,null,null,null,null,null,null,null,"{","|","}","","","",""]},"backend/modules/controller/routes.js":"\"use strict\";const _=require(\"lodash\"),moment=require(\"moment\"),ObjectID=require(\"mongodb\").ObjectID,step=require(\"h5.step\"),mongoSerializer=require(\"h5.rql/lib/serializers/mongoSerializer\");module.exports=function(e,t){const n=e[t.config.expressId],i=e[t.config.mongooseId],a={valueMinutely:{min:\"n\",n:\"n\",max:\"x\",x:\"x\",avg:\"v\",v:\"v\"},value:{min:\"min\",n:\"min\",max:\"max\",x:\"max\",avg:\"avg\",v:\"avg\"},deltaMinutely:{min:\"dn\",n:\"dn\",max:\"dx\",x:\"dx\",avg:\"dv\",v:\"dv\"},delta:{min:\"dMin\",n:\"dMin\",dmin:\"dMin\",dn:\"dMin\",max:\"dMax\",x:\"dMax\",dmax:\"dMax\",dx:\"dMax\",avg:\"dAvg\",v:\"dAvg\",davg:\"dAvg\",dV:\"dAvg\"}},l=e[t.config.userId].auth();n.get(\"/tags\",l,function(e,n){const i=_.values(t.tags);n.send({totalCount:i.length,collection:i})}),n.get(\"/tags/:tag/metric\",l,function(e,t,n){const a=e.params.tag;if(!_.isString(a)||0===a.length)return void n(new Error(\"UNKNOWN_TAG\"));const l=Date.now();let m=moment(parseInt(e.query.start,10)).startOf(\"minute\").valueOf(),c=moment(parseInt(e.query.stop,10)).startOf(\"minute\").valueOf(),d=60,g=\"minutely\";if(isNaN(m)||m<0)return void n(new Error(\"INVALID_START\"));(isNaN(c)||c<=0||c>l)&&(c=moment(l).startOf(\"minute\").valueOf());m>=c&&(c=m+6e4);m=1e3*Math.floor(m/1e3);const f=((c=1e3*Math.floor(c/1e3))-m)/1e3;f>2678400?(d=86400,g=\"daily\"):f>86400&&(d=3600,g=\"hourly\");d*=1e3;const v=\"minutely\"===g,h=i.connection.db.collection(v?`tags.${a}.avg`:`tags.avg.${g}`),x=v?{_id:{$gte:ObjectID.createFromTime(Math.floor(m/1e3)),$lt:ObjectID.createFromTime(Math.floor(c/1e3))}}:{tag:a,time:{$gte:m,$lt:c}},M=o(e.query.valueField||\"v\",v),p=r(e.query.deltaField||\"\",v),N={[M]:1};p&&(N[p]=1);v||(N.time=1);h.find(x).project(N).toArray(function(e,i){e?n(e):t.send(function(e,t,n,i,a,l,m){const c=\"minutely\"===m?u:s,d=[],g=[],f=null!==n,v={start:i,stop:a,step:l,interval:m,valueField:o(t,!1),deltaField:r(n,!1),firstTime:e.length?c(e[0]):-1,lastTime:e.length?c(e[e.length-1]):-1,totalCount:Math.ceil((a-i)/l),missingRight:0,missingLeft:0,minValue:Number.MAX_SAFE_INTEGER,maxValue:Number.MIN_SAFE_INTEGER,values:d,dMinValue:Number.MAX_SAFE_INTEGER,dMaxValue:Number.MIN_SAFE_INTEGER,deltas:g};if(0===e.length)return v;let h=null,x=null,M=null;for(let i=0,a=e.length;i<a;++i){const a=e[i],o=c(a);if(null!==h){let e=Math.ceil((o-h)/l)-1;if(e>0)for(;e--;)d.push(null),f&&g.push(null)}h=o,(x=a[t])>v.maxValue&&(v.maxValue=x),x<v.minValue&&(v.minValue=x),d.push(x),f&&((M=a[n])>v.dMaxValue&&(v.dMaxValue=M),M<v.dMinValue&&(v.dMinValue=M),g.push(M))}const _=Math.ceil((a-(-1===v.lastTime?i:v.lastTime))/l)-1;return v.missingRight=_,v.missingLeft=v.totalCount-d.length-_,v}(i,M,p,m,c,d,g))})}),n.get(\"/tags/:tag/changes\",l,function(e,n,a){const l=t.tags[e.params.tag];if(!l)return a(new Error(\"UNKNOWN_TAG\"));if(!l.archive)return a(new Error(\"TAG_NOT_ARCHIVED\"));const o=function(e,t){const n=mongoSerializer.fromQuery(e);if(\"all\"===t.archive)n.selector.n=t.name,n.fields={t:1,v:1},n.sort={t:-1};else{n.fields={s:1,n:1,x:1,v:1},n.sort={_id:-1};const e=n.selector.t;\"object\"==typeof e&&(n.selector._id={},_.forEach(e,function(e,t){\"number\"==typeof e&&_.includes([\"$gt\",\"$gte\",\"$lt\",\"$lte\"],t)&&(n.selector._id[t]=ObjectID.createFromTime(Math.round(e/1e3)))}),delete n.selector.t)}return n}(e.rql,l),r=\"all\"===l.archive?\"tags.all\":`tags.${l.name}.avg`,u=i.connection.db.collection(r);step(function(){u.count(o.selector,this.next())},function(e,t){if(e)return this.done(a,e);this.totalCount=t,t>0&&u.find(o.selector,null,o).toArray(this.next())},function(e,t){if(e)return this.done(a,e);n.format({json:()=>{n.json({totalCount:this.totalCount,collection:_.map(t,e=>(\"avg\"===l.archive&&(e.t=e._id.getTimestamp().getTime()),e._id=void 0,e))})}})})});function o(e,t){return t?a.valueMinutely[e.toLowerCase()]||\"v\":a.value[e.toLowerCase()]||\"avg\"}function r(e,t){return e?t?a.deltaMinutely[e.toLowerCase()]||null:a.delta[e.toLowerCase()]||null:null}function u(e){return e._id.getTimestamp().getTime()}function s(e){return e.time}};","backend/modules/alarms/routes.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),parseCondition=require(\"./parseCondition\");module.exports=function(t,n){const o=t[n.config.expressId],i=t[n.config.userId].auth,s=t[n.config.controllerId],e=t[n.config.mongooseId].model(\"Alarm\"),d=i(\"ALARMS:VIEW\"),r=i(\"ALARMS:MANAGE\"),a=i(\"ALARMS:ACK\");o.get(\"/alarms\",d,function(t,n,o){const i=t.rql.fields;(i.severity||i.actionIndex)&&(i.lastStateChangeTime||(i.lastStateChangeTime=!0),i.startActions||(i[\"startActions.severity\"]||(i[\"startActions.severity\"]=!0),i[\"startActions.delay\"]||(i[\"startActions.delay\"]=!0)));o()},o.crud.browseRoute.bind(null,t,e)),o.post(\"/alarms\",r,u,o.crud.addRoute.bind(null,t,e)),o.get(\"/alarms/:id\",d,o.crud.readRoute.bind(null,t,e)),o.put(\"/alarms/:id\",r,u,o.crud.editRoute.bind(null,t,e)),o.post(\"/alarms/:id\",function(t,n,o){\"ack\"===t.body.action?a(t,n,o):r(t,n,o)},function(t,i,s){switch(t.body.action){case\"ack\":case\"run\":case\"stop\":return e.findById(t.params.id,{},function(o,e){if(o)return s(o);if(null===e)return i.sendStatus(404);const d=_.isObject(t.session.user)?t.session.user:null;n[t.body.action](e.id,d,function(t){t?s(t):i.sendStatus(204)})});default:return s(o.createHttpError(`Unsupported action: ${t.body.action}`,400,\"UNSUPPORTED_ACTION\"))}}),o.delete(\"/alarms/:id\",r,o.crud.deleteRoute.bind(null,t,e));function u(t,n,o){step(function(){parseCondition(s.values,t.body.startCondition,this.next())},function(n,i,s){if(n)return this.done(o,n);t.body.startConditionTags=s,t.body.startFunction=i},function(){t.body.stopConditionMode===e.StopConditionMode.SPECIFIED?parseCondition(s.values,t.body.stopCondition,this.next()):(t.body.stopCondition=\"\",t.body.stopConditionTags=[],t.body.stopFunction=\"\")},function(n,i,s){if(n)return this.done(o,n);t.body.stopConditionTags=s,t.body.stopFunction=i},o)}};","backend/modules/alarms/parseCondition.js":"\"use strict\";const step=require(\"h5.step\"),esprima=require(\"esprima\"),estraverse=require(\"estraverse\"),escodegen=require(\"escodegen\"),TAG_VALUES_VARIABLE_NAME=\"$\",ILLEGAL_STATEMENT_TYPES=[estraverse.Syntax.WhileStatement,estraverse.Syntax.DoWhileStatement,estraverse.Syntax.ForStatement,estraverse.Syntax.ForInStatement,estraverse.Syntax.ThisExpression],ILLEGAL_FUNCTION_CALLS=[\"eval\",\"require\",\"Function\"];module.exports=parseCondition;function parseCondition(e,t,r){step(function(){try{this.tree=esprima.parse(\"function test() {\\n\"+t+\"\\n}\",{loc:!0})}catch(e){return this.done(r,e)}process.nextTick(this.next())},function(){try{this.localVariables=collectLocalVariablesAndValidate(this.tree)}catch(e){return this.done(r,e)}process.nextTick(this.next())},function(){try{this.tags=collectTagVariables(e,this.tree,this.localVariables)}catch(e){return this.done(r,e)}process.nextTick(this.next())},function(){const e=this.tree.body[0].body.body,t=e[e.length-1];t&&t.type===esprima.Syntax.ExpressionStatement&&(t.type=esprima.Syntax.ReturnStatement,t.argument=t.expression,delete t.expression)},function(){let e;try{e=escodegen.generate({type:esprima.Syntax.Program,body:this.tree.body[0].body.body})}catch(e){return this.done(r,e)}r(null,e,this.tags)})}function collectLocalVariablesAndValidate(e){const t=[\"Array\",\"Boolean\",\"Date\",\"Function\",\"Infinity\",\"Math\",\"NaN\",\"Number\",\"Object\",\"RegExp\",\"String\",\"undefined\"];return estraverse.traverse(e,{enter:function(e,r){let n;if(-1!==ILLEGAL_STATEMENT_TYPES.indexOf(e.type))throw n=new Error(`Illegal statement: ${e.type}.`),n.code=\"ILLEGAL_STATEMENT\",n.nodeLoc=e.loc,n.nodeType=e.type,n;if(e.type===estraverse.Syntax.VariableDeclaration)e.declarations.forEach(function(r){if(r.id.name===TAG_VALUES_VARIABLE_NAME)throw createReservedVariableNameError(e);t.push(r.id.name)});else if(e.type===estraverse.Syntax.FunctionDeclaration||e.type===estraverse.Syntax.FunctionExpression)e.params.forEach(function(r){if(r.name===TAG_VALUES_VARIABLE_NAME)throw createReservedVariableNameError(e);t.push(r.name)});else if(e.type===estraverse.Syntax.Identifier&&r.type===estraverse.Syntax.CallExpression&&-1!==ILLEGAL_FUNCTION_CALLS.indexOf(e.name))throw n=new Error(`Illegal function call: ${e.name}.`),n.code=\"ILLEGAL_FUNCTION_CALL\",n.nodeLoc=e.loc,n.nodeType=e.type,n}}),t}function collectTagVariables(e,t,r){const n={};return estraverse.traverse(t,{enter:function(t,a){if(!0!==t.skipped&&null!==a&&a.type!==estraverse.Syntax.FunctionDeclaration&&a.type!==estraverse.Syntax.Property)return t.type===estraverse.Syntax.CallExpression?markAsSkipped(t.callee):t.type===estraverse.Syntax.MemberExpression?handleMemberExpressionNode(r,e,n,t):t.type===estraverse.Syntax.Identifier?handleIdentifierNode(r,e,n,t):void 0}}),Object.keys(n)}function markAsSkipped(e){estraverse.traverse(e,{enter:function(e){e.skipped=!0}})}function handleMemberExpressionNode(e,t,r,n){const a=getLeftmostIdentifierName(n);if(-1!==e.indexOf(a))return markAsSkipped(n);let o;if(null!==(o=a===TAG_VALUES_VARIABLE_NAME&&n.computed&&n.property.type===estraverse.Syntax.Literal?n.property.value:getTagNameFromMemberExpression(n))){const e=o.match(/\\[(.*?)\\]/g),a=null===e?o:o.replace(/\\[(.*?)\\]/g,\".*\");assertTagNameExistence(t,n,a,null!==e),r[a]=!0,transformToTagValue(n,o,e)}return estraverse.VisitorOption.Skip}function assertTagNameExistence(e,t,r,n){let a;if(n){const t=new RegExp(\"^\"+escapeRegExp(r).replace(/\\\\\\.\\\\\\*/g,\"\\\\.[a-zA-Z0-9]+\")+\"$\");a=Object.keys(e).some(function(e){return t.test(e)})}else a=void 0!==e[r];if(!a)throw createUnknownTagNameError(r,t)}function handleIdentifierNode(e,t,r,n){if(-1===e.indexOf(n.name)){if(void 0===t[n.name])throw createUnknownTagNameError(n.name,n);return r[n.name]=!0,transformToTagValue(n,n.name,null),estraverse.VisitorOption.Skip}}function getLeftmostIdentifierName(e){return e.object.type===estraverse.Syntax.MemberExpression?getLeftmostIdentifierName(e.object):e.object.type===estraverse.Syntax.Identifier?e.object.name:null}function getTagNameFromMemberExpression(e){if(isInvalidObjectType(e))throw createIllegalComplexTagNameError(e.object);if(isInvalidPropertyType(e))throw createIllegalComplexTagNameError(e.property);const t=e.object.type===estraverse.Syntax.Identifier?e.object.name:getTagNameFromMemberExpression(e.object);let r;return r=e.property.type===estraverse.Syntax.Identifier?e.computed?\"[\"+e.property.name+\"]\":\".\"+e.property.name:\".\"+e.property.value,t+r}function transformToTagValue(e,t,r){e.type=estraverse.Syntax.MemberExpression,e.computed=!0,e.object={type:estraverse.Syntax.Identifier,name:TAG_VALUES_VARIABLE_NAME};let n=`'${t}'`;Array.isArray(r)&&r.forEach(function(e){const t=e.substr(1,e.length-2);n=n.replace(e,`.' + ${t} + '`)}),e.property=esprima.parse(n).body[0].expression}function isInvalidPropertyType(e){return e.property.type!==estraverse.Syntax.Identifier&&e.property.type!==estraverse.Syntax.Literal}function isInvalidObjectType(e){return e.object.type!==estraverse.Syntax.Identifier&&e.object.type!==estraverse.Syntax.MemberExpression}function createUnknownTagNameError(e,t){const r=new Error(`Unknown tag name: ${e}`);return r.code=\"UNKNOWN_TAG_NAME\",r.tagName=e,r.nodeLoc=t.loc,r.nodeType=t.type,r}function createReservedVariableNameError(e){const t=new Error(`[${TAG_VALUES_VARIABLE_NAME}] cannot be used as a local var.`);return t.code=\"RESERVED_VARIABLE_NAME\",t.varName=TAG_VALUES_VARIABLE_NAME,t.nodeLoc=e.loc,t}function createIllegalComplexTagNameError(e){const t=new Error(\"Complex expressions in tag names are not allowed.\");return t.code=\"ILLEGAL_COMPLEX_TAG_NAME\",t.nodeLoc=e.loc,t.nodeType=e.type,t}function escapeRegExp(e){return e.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\")}","node_modules/esprima/esprima.js":"!function(e,u){\"use strict\";\"function\"==typeof define&&define.amd?define([\"exports\"],u):\"undefined\"!=typeof exports?u(exports):u(e.esprima={})}(this,function(e){\"use strict\";var u,t,n,i,r,a,s,o,l,D,c,f,h,p,C,F,A,E,d,m,B,y,g,v,S,w,x;(t={})[(u={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10}).BooleanLiteral]=\"Boolean\",t[u.EOF]=\"<end>\",t[u.Identifier]=\"Identifier\",t[u.Keyword]=\"Keyword\",t[u.NullLiteral]=\"Null\",t[u.NumericLiteral]=\"Numeric\",t[u.Punctuator]=\"Punctuator\",t[u.StringLiteral]=\"String\",t[u.RegularExpression]=\"RegularExpression\",t[u.Template]=\"Template\",n=[\"(\",\"{\",\"[\",\"in\",\"typeof\",\"instanceof\",\"new\",\"return\",\"case\",\"delete\",\"throw\",\"void\",\"=\",\"+=\",\"-=\",\"*=\",\"/=\",\"%=\",\"<<=\",\">>=\",\">>>=\",\"&=\",\"|=\",\"^=\",\",\",\"+\",\"-\",\"*\",\"/\",\"%\",\"++\",\"--\",\"<<\",\">>\",\">>>\",\"&\",\"|\",\"^\",\"!\",\"~\",\"&&\",\"||\",\"?\",\":\",\"===\",\"==\",\">=\",\"<=\",\"<\",\">\",\"!=\",\"!==\"],i={AssignmentExpression:\"AssignmentExpression\",AssignmentPattern:\"AssignmentPattern\",ArrayExpression:\"ArrayExpression\",ArrayPattern:\"ArrayPattern\",ArrowFunctionExpression:\"ArrowFunctionExpression\",BlockStatement:\"BlockStatement\",BinaryExpression:\"BinaryExpression\",BreakStatement:\"BreakStatement\",CallExpression:\"CallExpression\",CatchClause:\"CatchClause\",ClassBody:\"ClassBody\",ClassDeclaration:\"ClassDeclaration\",ClassExpression:\"ClassExpression\",ConditionalExpression:\"ConditionalExpression\",ContinueStatement:\"ContinueStatement\",DoWhileStatement:\"DoWhileStatement\",DebuggerStatement:\"DebuggerStatement\",EmptyStatement:\"EmptyStatement\",ExportAllDeclaration:\"ExportAllDeclaration\",ExportDefaultDeclaration:\"ExportDefaultDeclaration\",ExportNamedDeclaration:\"ExportNamedDeclaration\",ExportSpecifier:\"ExportSpecifier\",ExpressionStatement:\"ExpressionStatement\",ForStatement:\"ForStatement\",ForOfStatement:\"ForOfStatement\",ForInStatement:\"ForInStatement\",FunctionDeclaration:\"FunctionDeclaration\",FunctionExpression:\"FunctionExpression\",Identifier:\"Identifier\",IfStatement:\"IfStatement\",ImportDeclaration:\"ImportDeclaration\",ImportDefaultSpecifier:\"ImportDefaultSpecifier\",ImportNamespaceSpecifier:\"ImportNamespaceSpecifier\",ImportSpecifier:\"ImportSpecifier\",Literal:\"Literal\",LabeledStatement:\"LabeledStatement\",LogicalExpression:\"LogicalExpression\",MemberExpression:\"MemberExpression\",MetaProperty:\"MetaProperty\",MethodDefinition:\"MethodDefinition\",NewExpression:\"NewExpression\",ObjectExpression:\"ObjectExpression\",ObjectPattern:\"ObjectPattern\",Program:\"Program\",Property:\"Property\",RestElement:\"RestElement\",ReturnStatement:\"ReturnStatement\",SequenceExpression:\"SequenceExpression\",SpreadElement:\"SpreadElement\",Super:\"Super\",SwitchCase:\"SwitchCase\",SwitchStatement:\"SwitchStatement\",TaggedTemplateExpression:\"TaggedTemplateExpression\",TemplateElement:\"TemplateElement\",TemplateLiteral:\"TemplateLiteral\",ThisExpression:\"ThisExpression\",ThrowStatement:\"ThrowStatement\",TryStatement:\"TryStatement\",UnaryExpression:\"UnaryExpression\",UpdateExpression:\"UpdateExpression\",VariableDeclaration:\"VariableDeclaration\",VariableDeclarator:\"VariableDeclarator\",WhileStatement:\"WhileStatement\",WithStatement:\"WithStatement\",YieldExpression:\"YieldExpression\"},r={ArrowParameterPlaceHolder:\"ArrowParameterPlaceHolder\"},a={UnexpectedToken:\"Unexpected token %0\",UnexpectedNumber:\"Unexpected number\",UnexpectedString:\"Unexpected string\",UnexpectedIdentifier:\"Unexpected identifier\",UnexpectedReserved:\"Unexpected reserved word\",UnexpectedTemplate:\"Unexpected quasi %0\",UnexpectedEOS:\"Unexpected end of input\",NewlineAfterThrow:\"Illegal newline after throw\",InvalidRegExp:\"Invalid regular expression\",UnterminatedRegExp:\"Invalid regular expression: missing /\",InvalidLHSInAssignment:\"Invalid left-hand side in assignment\",InvalidLHSInForIn:\"Invalid left-hand side in for-in\",InvalidLHSInForLoop:\"Invalid left-hand side in for-loop\",MultipleDefaultsInSwitch:\"More than one default clause in switch statement\",NoCatchOrFinally:\"Missing catch or finally after try\",UnknownLabel:\"Undefined label '%0'\",Redeclaration:\"%0 '%1' has already been declared\",IllegalContinue:\"Illegal continue statement\",IllegalBreak:\"Illegal break statement\",IllegalReturn:\"Illegal return statement\",StrictModeWith:\"Strict mode code may not include a with statement\",StrictCatchVariable:\"Catch variable may not be eval or arguments in strict mode\",StrictVarName:\"Variable name may not be eval or arguments in strict mode\",StrictParamName:\"Parameter name eval or arguments is not allowed in strict mode\",StrictParamDupe:\"Strict mode function may not have duplicate parameter names\",StrictFunctionName:\"Function name may not be eval or arguments in strict mode\",StrictOctalLiteral:\"Octal literals are not allowed in strict mode.\",StrictDelete:\"Delete of an unqualified identifier in strict mode.\",StrictLHSAssignment:\"Assignment to eval or arguments is not allowed in strict mode\",StrictLHSPostfix:\"Postfix increment/decrement may not have eval or arguments operand in strict mode\",StrictLHSPrefix:\"Prefix increment/decrement may not have eval or arguments operand in strict mode\",StrictReservedWord:\"Use of future reserved word in strict mode\",TemplateOctalLiteral:\"Octal literals are not allowed in template strings.\",ParameterAfterRestParameter:\"Rest parameter must be last formal parameter\",DefaultRestParameter:\"Unexpected token =\",ObjectPatternAsRestParameter:\"Unexpected token {\",DuplicateProtoProperty:\"Duplicate __proto__ fields are not allowed in object literals\",ConstructorSpecialMethod:\"Class constructor may not be an accessor\",DuplicateConstructor:\"A class may only have one constructor\",StaticPrototype:\"Classes may not have static property named prototype\",MissingFromClause:\"Unexpected token\",NoAsAfterImportNamespace:\"Unexpected token\",InvalidModuleSpecifier:\"Unexpected token\",IllegalImportDeclaration:\"Unexpected token\",IllegalExportDeclaration:\"Unexpected token\",DuplicateBinding:\"Duplicate binding %0\"},s={NonAsciiIdentifierStart:/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]/,NonAsciiIdentifierPart:/[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDD0-\\uDDDA\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF01-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/};function b(e,u){if(!e)throw new Error(\"ASSERT: \"+u)}function k(e){return e>=48&&e<=57}function I(e){return\"0123456789abcdefABCDEF\".indexOf(e)>=0}function P(e){return\"01234567\".indexOf(e)>=0}function L(e){var u=\"0\"!==e,t=\"01234567\".indexOf(e);return D<B&&P(o[D])&&(u=!0,t=8*t+\"01234567\".indexOf(o[D++]),\"0123\".indexOf(e)>=0&&D<B&&P(o[D])&&(t=8*t+\"01234567\".indexOf(o[D++]))),{code:t,octal:u}}function T(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function N(e){return 10===e||13===e||8232===e||8233===e}function O(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function R(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&s.NonAsciiIdentifierStart.test(O(e))}function U(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&s.NonAsciiIdentifierPart.test(O(e))}function Y(e){switch(e){case\"implements\":case\"interface\":case\"package\":case\"private\":case\"protected\":case\"public\":case\"static\":case\"yield\":case\"let\":return!0;default:return!1}}function M(e){return\"eval\"===e||\"arguments\"===e}function V(e,u,t,n,i){var r;b(\"number\"==typeof t,\"Comment must have valid position\"),g.lastCommentStart=t,r={type:e,value:u},v.range&&(r.range=[t,n]),v.loc&&(r.loc=i),v.comments.push(r),v.attachComment&&(v.leadingComments.push(r),v.trailingComments.push(r)),v.tokenize&&(r.type=r.type+\"Comment\",v.delegate&&(r=v.delegate(r)),v.tokens.push(r))}function j(e){var u,t,n,i;for(u=D-e,t={start:{line:c,column:D-f-e}};D<B;)if(n=o.charCodeAt(D),++D,N(n))return h=!0,v.comments&&(i=o.slice(u+e,D-1),t.end={line:c,column:D-f-1},V(\"Line\",i,u,D-1,t)),13===n&&10===o.charCodeAt(D)&&++D,++c,void(f=D);v.comments&&(i=o.slice(u+e,D),t.end={line:c,column:D-f},V(\"Line\",i,u,D,t))}function W(){var e,u,t,n;for(v.comments&&(e=D-2,u={start:{line:c,column:D-f-2}});D<B;)if(t=o.charCodeAt(D),N(t))13===t&&10===o.charCodeAt(D+1)&&++D,h=!0,++c,f=++D;else if(42===t){if(47===o.charCodeAt(D+1))return++D,++D,void(v.comments&&(n=o.slice(e+2,D-2),u.end={line:c,column:D-f},V(\"Block\",n,e,D,u)));++D}else++D;v.comments&&(u.end={line:c,column:D-f},V(\"Block\",n=o.slice(e+2,D),e,D,u)),pe()}function H(){var e,u;for(h=!1,u=0===D;D<B;)if(e=o.charCodeAt(D),T(e))++D;else if(N(e))h=!0,++D,13===e&&10===o.charCodeAt(D)&&++D,++c,f=D,u=!0;else if(47===e)if(47===(e=o.charCodeAt(D+1)))++D,++D,j(2),u=!0;else{if(42!==e)break;++D,++D,W()}else if(u&&45===e){if(45!==o.charCodeAt(D+1)||62!==o.charCodeAt(D+2))break;D+=3,j(3)}else{if(60!==e)break;if(\"!--\"!==o.slice(D+1,D+4))break;++D,++D,++D,++D,j(4)}}function K(e){var u,t,n,i=0;for(t=\"u\"===e?4:2,u=0;u<t;++u){if(!(D<B&&I(o[D])))return\"\";n=o[D++],i=16*i+\"0123456789abcdef\".indexOf(n.toLowerCase())}return String.fromCharCode(i)}function q(){var e,u;for(u=0,\"}\"===(e=o[D])&&he();D<B&&(e=o[D++],I(e));)u=16*u+\"0123456789abcdef\".indexOf(e.toLowerCase());return(u>1114111||\"}\"!==e)&&he(),O(u)}function z(e){var u,t;return(u=o.charCodeAt(e))>=55296&&u<=56319&&(t=o.charCodeAt(e+1))>=56320&&t<=57343&&(u=1024*(u-55296)+t-56320+65536),u}function _(){var e,u,t;for(t=O(e=z(D)),D+=t.length,92===e&&(117!==o.charCodeAt(D)&&he(),\"{\"===o[++D]?(++D,u=q()):(e=(u=K(\"u\")).charCodeAt(0),u&&\"\\\\\"!==u&&R(e)||he()),t=u);D<B&&(e=z(D),U(e));)t+=u=O(e),D+=u.length,92===e&&(t=t.substr(0,t.length-1),117!==o.charCodeAt(D)&&he(),\"{\"===o[++D]?(++D,u=q()):(e=(u=K(\"u\")).charCodeAt(0),u&&\"\\\\\"!==u&&U(e)||he()),t+=u);return t}function $(){var e,t,n;return e=D,t=92===o.charCodeAt(D)?_():function(){var e,u;for(e=D++;D<B;){if(92===(u=o.charCodeAt(D)))return D=e,_();if(u>=55296&&u<57343)return D=e,_();if(!U(u))break;++D}return o.slice(e,D)}(),n=1===t.length?u.Identifier:function(e){switch(e.length){case 2:return\"if\"===e||\"in\"===e||\"do\"===e;case 3:return\"var\"===e||\"for\"===e||\"new\"===e||\"try\"===e||\"let\"===e;case 4:return\"this\"===e||\"else\"===e||\"case\"===e||\"void\"===e||\"with\"===e||\"enum\"===e;case 5:return\"while\"===e||\"break\"===e||\"catch\"===e||\"throw\"===e||\"const\"===e||\"yield\"===e||\"class\"===e||\"super\"===e;case 6:return\"return\"===e||\"typeof\"===e||\"delete\"===e||\"switch\"===e||\"export\"===e||\"import\"===e;case 7:return\"default\"===e||\"finally\"===e||\"extends\"===e;case 8:return\"function\"===e||\"continue\"===e||\"debugger\"===e;case 10:return\"instanceof\"===e;default:return!1}}(t)?u.Keyword:\"null\"===t?u.NullLiteral:\"true\"===t||\"false\"===t?u.BooleanLiteral:u.Identifier,{type:n,value:t,lineNumber:c,lineStart:f,start:e,end:D}}function G(){var e,t;switch(e={type:u.Punctuator,value:\"\",lineNumber:c,lineStart:f,start:D,end:D},t=o[D]){case\"(\":v.tokenize&&(v.openParenToken=v.tokenValues.length),++D;break;case\"{\":v.tokenize&&(v.openCurlyToken=v.tokenValues.length),g.curlyStack.push(\"{\"),++D;break;case\".\":\".\"===o[++D]&&\".\"===o[D+1]&&(D+=2,t=\"...\");break;case\"}\":++D,g.curlyStack.pop();break;case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"?\":case\"~\":++D;break;default:\">>>=\"===(t=o.substr(D,4))?D+=4:\"===\"===(t=t.substr(0,3))||\"!==\"===t||\">>>\"===t||\"<<=\"===t||\">>=\"===t?D+=3:\"&&\"===(t=t.substr(0,2))||\"||\"===t||\"==\"===t||\"!=\"===t||\"+=\"===t||\"-=\"===t||\"*=\"===t||\"/=\"===t||\"++\"===t||\"--\"===t||\"<<\"===t||\">>\"===t||\"&=\"===t||\"|=\"===t||\"^=\"===t||\"%=\"===t||\"<=\"===t||\">=\"===t||\"=>\"===t?D+=2:(t=o[D],\"<>=!+-*%&|^/\".indexOf(t)>=0&&++D)}return D===e.start&&he(),e.end=D,e.value=t,e}function X(e,t){var n,i;for(P(e)?(i=!0,n=\"0\"+o[D++]):(i=!1,++D,n=\"\");D<B&&P(o[D]);)n+=o[D++];return i||0!==n.length||he(),(R(o.charCodeAt(D))||k(o.charCodeAt(D)))&&he(),{type:u.NumericLiteral,value:parseInt(n,8),octal:i,lineNumber:c,lineStart:f,start:t,end:D}}function J(){var e,t,n;if(n=o[D],b(k(n.charCodeAt(0))||\".\"===n,\"Numeric literal must start with a decimal digit or a decimal point\"),t=D,e=\"\",\".\"!==n){if(e=o[D++],n=o[D],\"0\"===e){if(\"x\"===n||\"X\"===n)return++D,function(e){for(var t=\"\";D<B&&I(o[D]);)t+=o[D++];return 0===t.length&&he(),R(o.charCodeAt(D))&&he(),{type:u.NumericLiteral,value:parseInt(\"0x\"+t,16),lineNumber:c,lineStart:f,start:e,end:D}}(t);if(\"b\"===n||\"B\"===n)return++D,function(e){var t,n;for(n=\"\";D<B&&(\"0\"===(t=o[D])||\"1\"===t);)n+=o[D++];return 0===n.length&&he(),D<B&&(R(t=o.charCodeAt(D))||k(t))&&he(),{type:u.NumericLiteral,value:parseInt(n,2),lineNumber:c,lineStart:f,start:e,end:D}}(t);if(\"o\"===n||\"O\"===n)return X(n,t);if(P(n)&&function(){var e,u;for(e=D+1;e<B;++e){if(\"8\"===(u=o[e])||\"9\"===u)return!1;if(!P(u))return!0}return!0}())return X(n,t)}for(;k(o.charCodeAt(D));)e+=o[D++];n=o[D]}if(\".\"===n){for(e+=o[D++];k(o.charCodeAt(D));)e+=o[D++];n=o[D]}if(\"e\"===n||\"E\"===n)if(e+=o[D++],\"+\"!==(n=o[D])&&\"-\"!==n||(e+=o[D++]),k(o.charCodeAt(D)))for(;k(o.charCodeAt(D));)e+=o[D++];else he();return R(o.charCodeAt(D))&&he(),{type:u.NumericLiteral,value:parseFloat(e),lineNumber:c,lineStart:f,start:t,end:D}}function Q(){var e,t,n,i;return m=!0,y=null,H(),e=D,t=function(){var e,u,t,n,i;for(b(\"/\"===(e=o[D]),\"Regular expression literal must start with a slash\"),u=o[D++],t=!1,n=!1;D<B;)if(e=o[D++],u+=e,\"\\\\\"===e)N((e=o[D++]).charCodeAt(0))&&he(null,a.UnterminatedRegExp),u+=e;else if(N(e.charCodeAt(0)))he(null,a.UnterminatedRegExp);else if(t)\"]\"===e&&(t=!1);else{if(\"/\"===e){n=!0;break}\"[\"===e&&(t=!0)}return n||he(null,a.UnterminatedRegExp),i=u.substr(1,u.length-2),{value:i,literal:u}}(),n=function(){var e,u,t,n;for(u=\"\",t=\"\";D<B&&(e=o[D],U(e.charCodeAt(0)));)if(++D,\"\\\\\"===e&&D<B)if(\"u\"===(e=o[D])){if(++D,n=D,e=K(\"u\"))for(t+=e,u+=\"\\\\u\";n<D;++n)u+=o[n];else D=n,t+=\"u\",u+=\"\\\\u\";pe()}else u+=\"\\\\\",pe();else t+=e,u+=e;return{value:t,literal:u}}(),i=function(e,u){var t=e;u.indexOf(\"u\")>=0&&(t=t.replace(/\\\\u\\{([0-9a-fA-F]+)\\}|\\\\u([a-fA-F0-9]{4})/g,function(e,u,t){var n=parseInt(u||t,16);return n>1114111&&he(null,a.InvalidRegExp),n<=65535?String.fromCharCode(n):\"￿\"}).replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\"￿\"));try{RegExp(t)}catch(e){he(null,a.InvalidRegExp)}try{return new RegExp(e,u)}catch(e){return null}}(t.value,n.value),m=!1,v.tokenize?{type:u.RegularExpression,value:i,regex:{pattern:t.value,flags:n.value},lineNumber:c,lineStart:f,start:e,end:D}:{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:D}}function Z(){var e,u,t,n;return H(),e=D,u={start:{line:c,column:D-f}},t=Q(),u.end={line:c,column:D-f},v.tokenize||(v.tokens.length>0&&(n=v.tokens[v.tokens.length-1]).range[0]===e&&\"Punctuator\"===n.type&&(\"/\"!==n.value&&\"/=\"!==n.value||v.tokens.pop()),v.tokens.push({type:\"RegularExpression\",value:t.literal,regex:t.regex,range:[e,D],loc:u})),t}function ee(e){return e.type===u.Identifier||e.type===u.Keyword||e.type===u.BooleanLiteral||e.type===u.NullLiteral}function ue(){var e,t;return D>=B?{type:u.EOF,lineNumber:c,lineStart:f,start:D,end:D}:(e=o.charCodeAt(D),R(e)?(t=$(),l&&Y(t.value)&&(t.type=u.Keyword),t):40===e||41===e||59===e?G():39===e||34===e?function(){var e,t,n,i,r,a=\"\",s=!1;for(b(\"'\"===(e=o[D])||'\"'===e,\"String literal must starts with a quote\"),t=D,++D;D<B;){if((n=o[D++])===e){e=\"\";break}if(\"\\\\\"===n)if((n=o[D++])&&N(n.charCodeAt(0)))++c,\"\\r\"===n&&\"\\n\"===o[D]&&++D,f=D;else switch(n){case\"u\":case\"x\":if(\"{\"===o[D])++D,a+=q();else{if(!(i=K(n)))throw he();a+=i}break;case\"n\":a+=\"\\n\";break;case\"r\":a+=\"\\r\";break;case\"t\":a+=\"\\t\";break;case\"b\":a+=\"\\b\";break;case\"f\":a+=\"\\f\";break;case\"v\":a+=\"\\v\";break;case\"8\":case\"9\":a+=n,pe();break;default:P(n)?(s=(r=L(n)).octal||s,a+=String.fromCharCode(r.code)):a+=n}else{if(N(n.charCodeAt(0)))break;a+=n}}return\"\"!==e&&(D=t,he()),{type:u.StringLiteral,value:a,octal:s,lineNumber:E,lineStart:d,start:t,end:D}}():46===e?k(o.charCodeAt(D+1))?J():G():k(e)?J():v.tokenize&&47===e?function(){var e,u,t;function i(e){return e&&e.length>1&&e[0]>=\"a\"&&e[0]<=\"z\"}switch(u=v.tokenValues[v.tokenValues.length-1],e=null!==u,u){case\"this\":case\"]\":e=!1;break;case\")\":e=\"if\"===(t=v.tokenValues[v.openParenToken-1])||\"while\"===t||\"for\"===t||\"with\"===t;break;case\"}\":e=!1,i(v.tokenValues[v.openCurlyToken-3])?e=!!(t=v.tokenValues[v.openCurlyToken-4])&&n.indexOf(t)<0:i(v.tokenValues[v.openCurlyToken-4])&&(e=!(t=v.tokenValues[v.openCurlyToken-5])||n.indexOf(t)<0)}return e?Z():G()}():96===e||125===e&&\"${\"===g.curlyStack[g.curlyStack.length-1]?function(){var e,t,n,i,r,s,l,h,p=\"\";for(i=!1,s=!1,t=D,r=\"`\"===o[D],n=2,++D;D<B;){if(\"`\"===(e=o[D++])){n=1,s=!0,i=!0;break}if(\"$\"===e){if(\"{\"===o[D]){g.curlyStack.push(\"${\"),++D,i=!0;break}p+=e}else if(\"\\\\\"===e)if(e=o[D++],N(e.charCodeAt(0)))++c,\"\\r\"===e&&\"\\n\"===o[D]&&++D,f=D;else switch(e){case\"n\":p+=\"\\n\";break;case\"r\":p+=\"\\r\";break;case\"t\":p+=\"\\t\";break;case\"u\":case\"x\":\"{\"===o[D]?(++D,p+=q()):(l=D,(h=K(e))?p+=h:(D=l,p+=e));break;case\"b\":p+=\"\\b\";break;case\"f\":p+=\"\\f\";break;case\"v\":p+=\"\\v\";break;default:\"0\"===e?(k(o.charCodeAt(D))&&De(a.TemplateOctalLiteral),p+=\"\\0\"):P(e)?De(a.TemplateOctalLiteral):p+=e}else N(e.charCodeAt(0))?(++c,\"\\r\"===e&&\"\\n\"===o[D]&&++D,f=D,p+=\"\\n\"):p+=e}return i||he(),r||g.curlyStack.pop(),{type:u.Template,value:{cooked:p,raw:o.slice(t+1,D-n)},head:r,tail:s,lineNumber:c,lineStart:f,start:t,end:D}}():e>=55296&&e<57343&&(e=z(D),R(e))?$():G())}function te(){var e,n,i,r;return e={start:{line:c,column:D-f}},n=ue(),e.end={line:c,column:D-f},n.type!==u.EOF&&(i=o.slice(n.start,n.end),r={type:t[n.type],value:i,range:[n.start,n.end],loc:e},n.regex&&(r.regex={pattern:n.regex.pattern,flags:n.regex.flags}),v.tokenValues&&v.tokenValues.push(\"Punctuator\"===r.type||\"Keyword\"===r.type?r.value:null),v.tokenize&&(v.range||delete r.range,v.loc||delete r.loc,v.delegate&&(r=v.delegate(r))),v.tokens.push(r)),n}function ne(){var e;return m=!0,p=D,C=c,F=f,H(),e=y,A=D,E=c,d=f,y=void 0!==v.tokens?te():ue(),m=!1,e}function ie(){m=!0,H(),p=D,C=c,F=f,A=D,E=c,d=f,y=void 0!==v.tokens?te():ue(),m=!1}function re(){this.start=new function(){this.line=E,this.column=A-d},this.end=null}function ae(){v.range&&(this.range=[A,0]),v.loc&&(this.loc=new re)}function se(e){v.range&&(this.range=[e.start,0]),v.loc&&(this.loc=new function(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}(e))}se.prototype=ae.prototype={processComment:function(){var e,u,t,n,r,a,s=v.bottomRightStack,o=s[s.length-1];if(!(this.type===i.Program&&this.body.length>0)){if(this.type===i.BlockStatement&&0===this.body.length){for(u=[],r=v.leadingComments.length-1;r>=0;--r)a=v.leadingComments[r],this.range[1]>=a.range[1]&&(u.unshift(a),v.leadingComments.splice(r,1),v.trailingComments.splice(r,1));if(u.length)return void(this.innerComments=u)}if(v.trailingComments.length>0){for(n=[],r=v.trailingComments.length-1;r>=0;--r)(a=v.trailingComments[r]).range[0]>=this.range[1]&&(n.unshift(a),v.trailingComments.splice(r,1));v.trailingComments=[]}else o&&o.trailingComments&&o.trailingComments[0].range[0]>=this.range[1]&&(n=o.trailingComments,delete o.trailingComments);for(;o&&o.range[0]>=this.range[0];)e=s.pop(),o=s[s.length-1];if(e){if(e.leadingComments){for(t=[],r=e.leadingComments.length-1;r>=0;--r)(a=e.leadingComments[r]).range[1]<=this.range[0]&&(t.unshift(a),e.leadingComments.splice(r,1));e.leadingComments.length||(e.leadingComments=void 0)}}else if(v.leadingComments.length>0)for(t=[],r=v.leadingComments.length-1;r>=0;--r)(a=v.leadingComments[r]).range[1]<=this.range[0]&&(t.unshift(a),v.leadingComments.splice(r,1));t&&t.length>0&&(this.leadingComments=t),n&&n.length>0&&(this.trailingComments=n),s.push(this)}},finish:function(){v.range&&(this.range[1]=p),v.loc&&(this.loc.end={line:C,column:p-F},v.source&&(this.loc.source=v.source)),v.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,u,t,n){return this.type=i.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=u,this.body=t,this.generator=!1,this.expression=n,this.finish(),this},finishAssignmentExpression:function(e,u,t){return this.type=i.AssignmentExpression,this.operator=e,this.left=u,this.right=t,this.finish(),this},finishAssignmentPattern:function(e,u){return this.type=i.AssignmentPattern,this.left=e,this.right=u,this.finish(),this},finishBinaryExpression:function(e,u,t){return this.type=\"||\"===e||\"&&\"===e?i.LogicalExpression:i.BinaryExpression,this.operator=e,this.left=u,this.right=t,this.finish(),this},finishBlockStatement:function(e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,u){return this.type=i.CallExpression,this.callee=e,this.arguments=u,this.finish(),this},finishCatchClause:function(e,u){return this.type=i.CatchClause,this.param=e,this.body=u,this.finish(),this},finishClassBody:function(e){return this.type=i.ClassBody,this.body=e,this.finish(),this},finishClassDeclaration:function(e,u,t){return this.type=i.ClassDeclaration,this.id=e,this.superClass=u,this.body=t,this.finish(),this},finishClassExpression:function(e,u,t){return this.type=i.ClassExpression,this.id=e,this.superClass=u,this.body=t,this.finish(),this},finishConditionalExpression:function(e,u,t){return this.type=i.ConditionalExpression,this.test=e,this.consequent=u,this.alternate=t,this.finish(),this},finishContinueStatement:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=i.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,u){return this.type=i.DoWhileStatement,this.body=e,this.test=u,this.finish(),this},finishEmptyStatement:function(){return this.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,u,t,n){return this.type=i.ForStatement,this.init=e,this.test=u,this.update=t,this.body=n,this.finish(),this},finishForOfStatement:function(e,u,t){return this.type=i.ForOfStatement,this.left=e,this.right=u,this.body=t,this.finish(),this},finishForInStatement:function(e,u,t){return this.type=i.ForInStatement,this.left=e,this.right=u,this.body=t,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,u,t,n,r){return this.type=i.FunctionDeclaration,this.id=e,this.params=u,this.defaults=t,this.body=n,this.generator=r,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,u,t,n,r){return this.type=i.FunctionExpression,this.id=e,this.params=u,this.defaults=t,this.body=n,this.generator=r,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,u,t){return this.type=i.IfStatement,this.test=e,this.consequent=u,this.alternate=t,this.finish(),this},finishLabeledStatement:function(e,u){return this.type=i.LabeledStatement,this.label=e,this.body=u,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal,this.value=e.value,this.raw=o.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,u,t){return this.type=i.MemberExpression,this.computed=\"[\"===e,this.object=u,this.property=t,this.finish(),this},finishMetaProperty:function(e,u){return this.type=i.MetaProperty,this.meta=e,this.property=u,this.finish(),this},finishNewExpression:function(e,u){return this.type=i.NewExpression,this.callee=e,this.arguments=u,this.finish(),this},finishObjectExpression:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,u){return this.type=i.UpdateExpression,this.operator=e,this.argument=u,this.prefix=!1,this.finish(),this},finishProgram:function(e,u){return this.type=i.Program,this.body=e,this.sourceType=u,this.finish(),this},finishProperty:function(e,u,t,n,r,a){return this.type=i.Property,this.key=u,this.computed=t,this.value=n,this.kind=e,this.method=r,this.shorthand=a,this.finish(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=i.SequenceExpression,this.expressions=e,this.finish(),this},finishSpreadElement:function(e){return this.type=i.SpreadElement,this.argument=e,this.finish(),this},finishSwitchCase:function(e,u){return this.type=i.SwitchCase,this.test=e,this.consequent=u,this.finish(),this},finishSuper:function(){return this.type=i.Super,this.finish(),this},finishSwitchStatement:function(e,u){return this.type=i.SwitchStatement,this.discriminant=e,this.cases=u,this.finish(),this},finishTaggedTemplateExpression:function(e,u){return this.type=i.TaggedTemplateExpression,this.tag=e,this.quasi=u,this.finish(),this},finishTemplateElement:function(e,u){return this.type=i.TemplateElement,this.value=e,this.tail=u,this.finish(),this},finishTemplateLiteral:function(e,u){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=u,this.finish(),this},finishThisExpression:function(){return this.type=i.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=i.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,u,t){return this.type=i.TryStatement,this.block=e,this.guardedHandlers=[],this.handlers=u?[u]:[],this.handler=u,this.finalizer=t,this.finish(),this},finishUnaryExpression:function(e,u){return this.type=\"++\"===e||\"--\"===e?i.UpdateExpression:i.UnaryExpression,this.operator=e,this.argument=u,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=\"var\",this.finish(),this},finishLexicalDeclaration:function(e,u){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=u,this.finish(),this},finishVariableDeclarator:function(e,u){return this.type=i.VariableDeclarator,this.id=e,this.init=u,this.finish(),this},finishWhileStatement:function(e,u){return this.type=i.WhileStatement,this.test=e,this.body=u,this.finish(),this},finishWithStatement:function(e,u){return this.type=i.WithStatement,this.object=e,this.body=u,this.finish(),this},finishExportSpecifier:function(e,u){return this.type=i.ExportSpecifier,this.exported=u||e,this.local=e,this.finish(),this},finishImportDefaultSpecifier:function(e){return this.type=i.ImportDefaultSpecifier,this.local=e,this.finish(),this},finishImportNamespaceSpecifier:function(e){return this.type=i.ImportNamespaceSpecifier,this.local=e,this.finish(),this},finishExportNamedDeclaration:function(e,u,t){return this.type=i.ExportNamedDeclaration,this.declaration=e,this.specifiers=u,this.source=t,this.finish(),this},finishExportDefaultDeclaration:function(e){return this.type=i.ExportDefaultDeclaration,this.declaration=e,this.finish(),this},finishExportAllDeclaration:function(e){return this.type=i.ExportAllDeclaration,this.source=e,this.finish(),this},finishImportSpecifier:function(e,u){return this.type=i.ImportSpecifier,this.local=e||u,this.imported=u,this.finish(),this},finishImportDeclaration:function(e,u){return this.type=i.ImportDeclaration,this.specifiers=e,this.source=u,this.finish(),this},finishYieldExpression:function(e,u){return this.type=i.YieldExpression,this.argument=e,this.delegate=u,this.finish(),this}};function oe(e){var u,t;for(u=0;u<v.errors.length;u++)if((t=v.errors[u]).index===e.index&&t.message===e.message)return;v.errors.push(e)}function le(e,u,t){var n,i,r;return n=\"Line \"+e+\": \"+t,i=u-(m?f:F)+1,r=function(e,u){var t=new Error(e);try{throw t}catch(e){Object.create&&Object.defineProperty&&(t=Object.create(e),Object.defineProperty(t,\"column\",{value:u}))}finally{return t}}(n,i),r.lineNumber=e,r.description=t,r.index=u,r}function De(e){var u,t;throw u=Array.prototype.slice.call(arguments,1),t=e.replace(/%(\\d)/g,function(e,t){return b(t<u.length,\"Message reference must be in range\"),u[t]}),le(C,p,t)}function ce(e){var u,t,n;if(u=Array.prototype.slice.call(arguments,1),t=e.replace(/%(\\d)/g,function(e,t){return b(t<u.length,\"Message reference must be in range\"),u[t]}),n=le(c,p,t),!v.errors)throw n;oe(n)}function fe(e,t){var n,i=t||a.UnexpectedToken;return e?(t||(i=e.type===u.EOF?a.UnexpectedEOS:e.type===u.Identifier?a.UnexpectedIdentifier:e.type===u.NumericLiteral?a.UnexpectedNumber:e.type===u.StringLiteral?a.UnexpectedString:e.type===u.Template?a.UnexpectedTemplate:a.UnexpectedToken,e.type===u.Keyword&&(!function(e){switch(e){case\"enum\":case\"export\":case\"import\":case\"super\":return!0;default:return!1}}(e.value)?l&&Y(e.value)&&(i=a.StrictReservedWord):i=a.UnexpectedReserved)),n=e.type===u.Template?e.value.raw:e.value):n=\"ILLEGAL\",i=i.replace(\"%0\",n),e&&\"number\"==typeof e.lineNumber?le(e.lineNumber,e.start,i):le(m?c:C,m?D:p,i)}function he(e,u){throw fe(e,u)}function pe(e,u){var t=fe(e,u);if(!v.errors)throw t;oe(t)}function Ce(e){var t=ne();t.type===u.Punctuator&&t.value===e||he(t)}function Fe(){var e;v.errors?(e=y).type===u.Punctuator&&\",\"===e.value?ne():e.type===u.Punctuator&&\";\"===e.value?(ne(),pe(e)):pe(e,a.UnexpectedToken):Ce(\",\")}function Ae(e){var t=ne();t.type===u.Keyword&&t.value===e||he(t)}function Ee(e){return y.type===u.Punctuator&&y.value===e}function de(e){return y.type===u.Keyword&&y.value===e}function me(e){return y.type===u.Identifier&&y.value===e}function Be(){59===o.charCodeAt(A)||Ee(\";\")?ne():h||(p=A,C=E,F=d,y.type===u.EOF||Ee(\"}\")||he(y))}function ye(e){var u,t=S,n=w,i=x;return S=!0,w=!0,x=null,u=e(),null!==x&&he(x),S=t,w=n,x=i,u}function ge(e){var u,t=S,n=w,i=x;return S=!0,w=!0,x=null,u=e(),S=S&&t,w=w&&n,x=i||x,u}function ve(e,t){var n,i,r,a=new ae,s=Ee(\"[\");if(y.type===u.Identifier){if(i=y,n=tu(),Ee(\"=\"))return e.push(i),ne(),r=Qe(),a.finishProperty(\"init\",n,!1,new se(i).finishAssignmentPattern(n,r),!1,!0);if(!Ee(\":\"))return e.push(i),a.finishProperty(\"init\",n,!1,n,!1,!0)}else n=ke();return Ce(\":\"),r=we(e,t),a.finishProperty(\"init\",n,s,r,!1,!1)}function Se(e,u){return Ee(\"[\")?function(e,u){var t,n,i=new ae,r=[];for(Ce(\"[\");!Ee(\"]\");)if(Ee(\",\"))ne(),r.push(null);else{if(Ee(\"...\")){n=new ae,ne(),e.push(y),t=tu(u),r.push(n.finishRestElement(t));break}r.push(we(e,u)),Ee(\"]\")||Ce(\",\")}return Ce(\"]\"),i.finishArrayPattern(r)}(e,u):Ee(\"{\")?function(e,u){var t=new ae,n=[];for(Ce(\"{\");!Ee(\"}\");)n.push(ve(e,u)),Ee(\"}\")||Ce(\",\");return ne(),t.finishObjectPattern(n)}(e,u):(de(\"let\")&&(\"const\"!==u&&\"let\"!==u||pe(y,a.UnexpectedToken)),e.push(y),tu(u))}function we(e,u){var t,n,i,r=y;return t=Se(e,u),Ee(\"=\")&&(ne(),n=g.allowYield,g.allowYield=!0,i=ye(Qe),g.allowYield=n,t=new se(r).finishAssignmentPattern(t,i)),t}function xe(){var e,u=[],t=new ae;for(Ce(\"[\");!Ee(\"]\");)Ee(\",\")?(ne(),u.push(null)):Ee(\"...\")?(e=new ae,ne(),e.finishSpreadElement(ge(Qe)),Ee(\"]\")||(w=S=!1,Ce(\",\")),u.push(e)):(u.push(ge(Qe)),Ee(\"]\")||Ce(\",\"));return ne(),t.finishArrayExpression(u)}function be(e,u,t){var n,i;return w=S=!1,n=l,i=ye(fu),l&&u.firstRestricted&&pe(u.firstRestricted,u.message),l&&u.stricted&&pe(u.stricted,u.message),l=n,e.finishFunctionExpression(null,u.params,u.defaults,i,t)}function ke(){var e,t,n=new ae;switch((e=ne()).type){case u.StringLiteral:case u.NumericLiteral:return l&&e.octal&&pe(e,a.StrictOctalLiteral),n.finishLiteral(e);case u.Identifier:case u.BooleanLiteral:case u.NullLiteral:case u.Keyword:return n.finishIdentifier(e.value);case u.Punctuator:if(\"[\"===e.value)return t=ye(Qe),Ce(\"]\"),t}he(e)}function Ie(){switch(y.type){case u.Identifier:case u.StringLiteral:case u.BooleanLiteral:case u.NullLiteral:case u.NumericLiteral:case u.Keyword:return!0;case u.Punctuator:return\"[\"===y.value}return!1}function Pe(e,t,n,i){var r,a,s,o,l=g.allowYield;if(e.type===u.Identifier){if(\"get\"===e.value&&Ie())return n=Ee(\"[\"),t=ke(),s=new ae,Ce(\"(\"),Ce(\")\"),g.allowYield=!1,r=be(s,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),g.allowYield=l,i.finishProperty(\"get\",t,n,r,!1,!1);if(\"set\"===e.value&&Ie())return n=Ee(\"[\"),t=ke(),s=new ae,Ce(\"(\"),a={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},Ee(\")\")?pe(y):(g.allowYield=!1,pu(a),g.allowYield=l,0===a.defaultCount&&(a.defaults=[])),Ce(\")\"),g.allowYield=!1,r=be(s,a,!1),g.allowYield=l,i.finishProperty(\"set\",t,n,r,!1,!1)}else if(e.type===u.Punctuator&&\"*\"===e.value&&Ie())return n=Ee(\"[\"),t=ke(),s=new ae,g.allowYield=!0,o=Cu(),g.allowYield=l,g.allowYield=!1,r=be(s,o,!0),g.allowYield=l,i.finishProperty(\"init\",t,n,r,!0,!1);return t&&Ee(\"(\")?(r=function(){var e,u,t=new ae,n=g.allowYield;return g.allowYield=!1,e=Cu(),g.allowYield=n,g.allowYield=!1,u=be(t,e,!1),g.allowYield=n,u}(),i.finishProperty(\"init\",t,n,r,!0,!1)):null}function Le(e){var t,n,r,s,o,l=y,D=new ae;return t=Ee(\"[\"),Ee(\"*\")?ne():n=ke(),(r=Pe(l,n,t,D))?r:(n||he(y),t||(s=n.type===i.Identifier&&\"__proto__\"===n.name||n.type===i.Literal&&\"__proto__\"===n.value,e.value&&s&&ce(a.DuplicateProtoProperty),e.value|=s),Ee(\":\")?(ne(),o=ge(Qe),D.finishProperty(\"init\",n,t,o,!1,!1)):l.type===u.Identifier?Ee(\"=\")?(x=y,ne(),o=ye(Qe),D.finishProperty(\"init\",n,t,new se(l).finishAssignmentPattern(n,o),!1,!0)):D.finishProperty(\"init\",n,t,n,!1,!0):void he(y))}function Te(){var e=[],u={value:!1},t=new ae;for(Ce(\"{\");!Ee(\"}\");)e.push(Le(u)),Ee(\"}\")||Fe();return Ce(\"}\"),t.finishObjectExpression(e)}function Ne(e){var u;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement:case i.AssignmentPattern:break;case i.SpreadElement:e.type=i.RestElement,Ne(e.argument);break;case i.ArrayExpression:for(e.type=i.ArrayPattern,u=0;u<e.elements.length;u++)null!==e.elements[u]&&Ne(e.elements[u]);break;case i.ObjectExpression:for(e.type=i.ObjectPattern,u=0;u<e.properties.length;u++)Ne(e.properties[u].value);break;case i.AssignmentExpression:e.type=i.AssignmentPattern,Ne(e.left)}}function Oe(e){var t,n;return(y.type!==u.Template||e.head&&!y.head)&&he(),t=new ae,n=ne(),t.finishTemplateElement({raw:n.value.raw,cooked:n.value.cooked},n.tail)}function Re(){var e,u,t,n=new ae;for(u=[e=Oe({head:!0})],t=[];!e.tail;)t.push(Ze()),e=Oe({head:!1}),u.push(e);return n.finishTemplateLiteral(u,t)}function Ue(){var e,u,t,n,a=[];if(Ce(\"(\"),Ee(\")\"))return ne(),Ee(\"=>\")||Ce(\"=>\"),{type:r.ArrowParameterPlaceHolder,params:[],rawParams:[]};if(t=y,Ee(\"...\"))return e=ou(a),Ce(\")\"),Ee(\"=>\")||Ce(\"=>\"),{type:r.ArrowParameterPlaceHolder,params:[e]};if(S=!0,e=ge(Qe),Ee(\",\")){for(w=!1,u=[e];A<B&&Ee(\",\");){if(ne(),Ee(\"...\")){for(S||he(y),u.push(ou(a)),Ce(\")\"),Ee(\"=>\")||Ce(\"=>\"),S=!1,n=0;n<u.length;n++)Ne(u[n]);return{type:r.ArrowParameterPlaceHolder,params:u}}u.push(ge(Qe))}e=new se(t).finishSequenceExpression(u)}if(Ce(\")\"),Ee(\"=>\")){if(e.type===i.Identifier&&\"yield\"===e.name)return{type:r.ArrowParameterPlaceHolder,params:[e]};if(S||he(y),e.type===i.SequenceExpression)for(n=0;n<e.expressions.length;n++)Ne(e.expressions[n]);else Ne(e);e={type:r.ArrowParameterPlaceHolder,params:e.type===i.SequenceExpression?e.expressions:[e]}}return S=!1,e}function Ye(){var e,t,n,i;if(Ee(\"(\"))return S=!1,ge(Ue);if(Ee(\"[\"))return ge(xe);if(Ee(\"{\"))return ge(Te);if(e=y.type,i=new ae,e===u.Identifier)\"module\"===g.sourceType&&\"await\"===y.value&&pe(y),n=i.finishIdentifier(ne().value);else if(e===u.StringLiteral||e===u.NumericLiteral)w=S=!1,l&&y.octal&&pe(y,a.StrictOctalLiteral),n=i.finishLiteral(ne());else if(e===u.Keyword){if(!l&&g.allowYield&&de(\"yield\"))return Ve();if(!l&&de(\"let\"))return i.finishIdentifier(ne().value);if(w=S=!1,de(\"function\"))return function(){var e,u,t,n,i,r,s,o,D,c=null,f=[],h=[],p=new ae;D=g.allowYield,Ae(\"function\"),(o=Ee(\"*\"))&&ne();g.allowYield=!o,Ee(\"(\")||(e=y,c=l||o||!de(\"yield\")?tu():Ve(),l?M(e.value)&&pe(e,a.StrictFunctionName):M(e.value)?(t=e,n=a.StrictFunctionName):Y(e.value)&&(t=e,n=a.StrictReservedWord));i=Cu(t),f=i.params,h=i.defaults,u=i.stricted,t=i.firstRestricted,i.message&&(n=i.message);s=l,r=fu(),l&&t&&he(t,n);l&&u&&pe(u,n);return l=s,g.allowYield=D,p.finishFunctionExpression(c,f,h,r,o)}();if(de(\"this\"))return ne(),i.finishThisExpression();if(de(\"class\"))return function(){var e,t=null,n=null,i=new ae,r=l;l=!0,Ae(\"class\"),y.type===u.Identifier&&(t=tu());de(\"extends\")&&(ne(),n=ye(Ke));return e=Au(),l=r,i.finishClassExpression(t,n,e)}();he(ne())}else e===u.BooleanLiteral?(w=S=!1,(t=ne()).value=\"true\"===t.value,n=i.finishLiteral(t)):e===u.NullLiteral?(w=S=!1,(t=ne()).value=null,n=i.finishLiteral(t)):Ee(\"/\")||Ee(\"/=\")?(w=S=!1,D=A,t=void 0!==v.tokens?Z():Q(),ne(),n=i.finishLiteral(t)):e===u.Template?n=Re():he(ne());return n}function Me(){var e,u=[];if(Ce(\"(\"),!Ee(\")\"))for(;A<B&&(Ee(\"...\")?(e=new ae,ne(),e.finishSpreadElement(ye(Qe))):e=ye(Qe),u.push(e),!Ee(\")\"));)Fe();return Ce(\")\"),u}function Ve(){var e,u=new ae;return e=ne(),ee(e)||he(e),u.finishIdentifier(e.value)}function je(){return Ce(\".\"),Ve()}function We(){var e;return Ce(\"[\"),e=ye(Ze),Ce(\"]\"),e}function He(){var e,t,n=new ae;if(Ae(\"new\"),Ee(\".\")){if(ne(),y.type===u.Identifier&&\"target\"===y.value&&g.inFunctionBody)return ne(),n.finishMetaProperty(\"new\",\"target\");he(y)}return e=ye(qe),t=Ee(\"(\")?Me():[],w=S=!1,n.finishNewExpression(e,t)}function Ke(){var e,t,n,i,r,a=g.allowIn;for(r=y,g.allowIn=!0,de(\"super\")&&g.inFunctionBody?(t=new ae,ne(),t=t.finishSuper(),Ee(\"(\")||Ee(\".\")||Ee(\"[\")||he(y)):t=ge(de(\"new\")?He:Ye);;)if(Ee(\".\"))S=!1,w=!0,i=je(),t=new se(r).finishMemberExpression(\".\",t,i);else if(Ee(\"(\"))S=!1,w=!1,n=Me(),t=new se(r).finishCallExpression(t,n);else if(Ee(\"[\"))S=!1,w=!0,i=We(),t=new se(r).finishMemberExpression(\"[\",t,i);else{if(y.type!==u.Template||!y.head)break;e=Re(),t=new se(r).finishTaggedTemplateExpression(t,e)}return g.allowIn=a,t}function qe(){var e,t,n,i;for(b(g.allowIn,\"callee of new expression always allow in keyword.\"),i=y,de(\"super\")&&g.inFunctionBody?(t=new ae,ne(),t=t.finishSuper(),Ee(\"[\")||Ee(\".\")||he(y)):t=ge(de(\"new\")?He:Ye);;)if(Ee(\"[\"))S=!1,w=!0,n=We(),t=new se(i).finishMemberExpression(\"[\",t,n);else if(Ee(\".\"))S=!1,w=!0,n=je(),t=new se(i).finishMemberExpression(\".\",t,n);else{if(y.type!==u.Template||!y.head)break;e=Re(),t=new se(i).finishTaggedTemplateExpression(t,e)}return t}function ze(){var e,t,n=y;return e=ge(Ke),h||y.type!==u.Punctuator||(Ee(\"++\")||Ee(\"--\"))&&(l&&e.type===i.Identifier&&M(e.name)&&ce(a.StrictLHSPostfix),w||ce(a.InvalidLHSInAssignment),w=S=!1,t=ne(),e=new se(n).finishPostfixExpression(t.value,e)),e}function _e(){var e,t,n;return y.type!==u.Punctuator&&y.type!==u.Keyword?t=ze():Ee(\"++\")||Ee(\"--\")?(n=y,e=ne(),t=ge(_e),l&&t.type===i.Identifier&&M(t.name)&&ce(a.StrictLHSPrefix),w||ce(a.InvalidLHSInAssignment),t=new se(n).finishUnaryExpression(e.value,t),w=S=!1):Ee(\"+\")||Ee(\"-\")||Ee(\"~\")||Ee(\"!\")?(n=y,e=ne(),t=ge(_e),t=new se(n).finishUnaryExpression(e.value,t),w=S=!1):de(\"delete\")||de(\"void\")||de(\"typeof\")?(n=y,e=ne(),t=ge(_e),t=new se(n).finishUnaryExpression(e.value,t),l&&\"delete\"===t.operator&&t.argument.type===i.Identifier&&ce(a.StrictDelete),w=S=!1):t=ze(),t}function $e(e,t){var n=0;if(e.type!==u.Punctuator&&e.type!==u.Keyword)return 0;switch(e.value){case\"||\":n=1;break;case\"&&\":n=2;break;case\"|\":n=3;break;case\"^\":n=4;break;case\"&\":n=5;break;case\"==\":case\"!=\":case\"===\":case\"!==\":n=6;break;case\"<\":case\">\":case\"<=\":case\">=\":case\"instanceof\":n=7;break;case\"in\":n=t?7:0;break;case\"<<\":case\">>\":case\">>>\":n=8;break;case\"+\":case\"-\":n=9;break;case\"*\":case\"/\":case\"%\":n=11}return n}function Ge(){var e,u,t,n,i,r,a,s,o,l;if(e=y,o=ge(_e),n=y,0===(i=$e(n,g.allowIn)))return o;for(w=S=!1,n.prec=i,ne(),u=[e,y],r=[o,n,a=ye(_e)];(i=$e(y,g.allowIn))>0;){for(;r.length>2&&i<=r[r.length-2].prec;)a=r.pop(),s=r.pop().value,o=r.pop(),u.pop(),t=new se(u[u.length-1]).finishBinaryExpression(s,o,a),r.push(t);(n=ne()).prec=i,r.push(n),u.push(y),t=ye(_e),r.push(t)}for(t=r[l=r.length-1],u.pop();l>1;)t=new se(u.pop()).finishBinaryExpression(r[l-1].value,r[l-2],t),l-=2;return t}function Xe(e,u){var t;switch(u.type){case i.Identifier:hu(e,u,u.name);break;case i.RestElement:Xe(e,u.argument);break;case i.AssignmentPattern:Xe(e,u.left);break;case i.ArrayPattern:for(t=0;t<u.elements.length;t++)null!==u.elements[t]&&Xe(e,u.elements[t]);break;case i.YieldExpression:break;default:for(b(u.type===i.ObjectPattern,\"Invalid type\"),t=0;t<u.properties.length;t++)Xe(e,u.properties[t].value)}}function Je(e,u){var t,n,r;return h&&pe(y),Ce(\"=>\"),t=l,n=g.allowYield,g.allowYield=!0,r=Ee(\"{\")?fu():ye(Qe),l&&e.firstRestricted&&he(e.firstRestricted,e.message),l&&e.stricted&&pe(e.stricted,e.message),l=t,g.allowYield=n,u.finishArrowFunctionExpression(e.params,e.defaults,r,r.type!==i.BlockStatement)}function Qe(){var e,t,n,s,o;return o=y,e=y,!g.allowYield&&de(\"yield\")?function(){var e,t,n,i;return e=null,t=new ae,n=!1,Ae(\"yield\"),h||(i=g.allowYield,g.allowYield=!1,(n=Ee(\"*\"))?(ne(),e=Qe()):Ee(\";\")||Ee(\"}\")||Ee(\")\")||y.type===u.EOF||(e=Qe()),g.allowYield=i),t.finishYieldExpression(e,n)}():(t=function(){var e,u,t,n,i;return i=y,e=ge(Ge),Ee(\"?\")&&(ne(),u=g.allowIn,g.allowIn=!0,t=ye(Qe),g.allowIn=u,Ce(\":\"),n=ye(Qe),e=new se(i).finishConditionalExpression(e,t,n),w=S=!1),e}()).type===r.ArrowParameterPlaceHolder||Ee(\"=>\")?(w=S=!1,(s=function(e){var u,t,n,s,o,D,c;switch(o=[],D=0,s=[e],e.type){case i.Identifier:break;case r.ArrowParameterPlaceHolder:s=e.params;break;default:return null}for(c={paramSet:{}},u=0,t=s.length;u<t;u+=1)switch((n=s[u]).type){case i.AssignmentPattern:s[u]=n.left,n.right.type===i.YieldExpression&&(n.right.argument&&he(y),n.right.type=i.Identifier,n.right.name=\"yield\",delete n.right.argument,delete n.right.delegate),o.push(n.right),++D,Xe(c,n.left);break;default:Xe(c,n),s[u]=n,o.push(null)}if(l||!g.allowYield)for(u=0,t=s.length;u<t;u+=1)(n=s[u]).type===i.YieldExpression&&he(y);return c.message===a.StrictParamDupe&&he(l?c.stricted:c.firstRestricted,c.message),0===D&&(o=[]),{params:s,defaults:o,stricted:c.stricted,firstRestricted:c.firstRestricted,message:c.message}}(t))?(x=null,Je(s,new se(o))):t):(function(){var e;return y.type===u.Punctuator&&(\"=\"===(e=y.value)||\"*=\"===e||\"/=\"===e||\"%=\"===e||\"+=\"===e||\"-=\"===e||\"<<=\"===e||\">>=\"===e||\">>>=\"===e||\"&=\"===e||\"^=\"===e||\"|=\"===e)}()&&(w||ce(a.InvalidLHSInAssignment),l&&t.type===i.Identifier&&(M(t.name)&&pe(e,a.StrictLHSAssignment),Y(t.name)&&pe(e,a.StrictReservedWord)),Ee(\"=\")?Ne(t):w=S=!1,e=ne(),n=ye(Qe),t=new se(o).finishAssignmentExpression(e.value,t,n),x=null),t)}function Ze(){var e,u,t=y;if(e=ye(Qe),Ee(\",\")){for(u=[e];A<B&&Ee(\",\");)ne(),u.push(ye(Qe));e=new se(t).finishSequenceExpression(u)}return e}function eu(){if(y.type===u.Keyword)switch(y.value){case\"export\":return\"module\"!==g.sourceType&&pe(y,a.IllegalExportDeclaration),function(){var e=new ae;g.inFunctionBody&&De(a.IllegalExportDeclaration);if(Ae(\"export\"),de(\"default\"))return function(e){var u=null,t=null;if(Ae(\"default\"),de(\"function\"))return u=Fu(new ae,!0),e.finishExportDefaultDeclaration(u);if(de(\"class\"))return u=Eu(!0),e.finishExportDefaultDeclaration(u);me(\"from\")&&De(a.UnexpectedToken,y.value);t=Ee(\"{\")?Te():Ee(\"[\")?xe():Qe();return Be(),e.finishExportDefaultDeclaration(t)}(e);if(Ee(\"*\"))return function(e){var u;Ce(\"*\"),me(\"from\")||De(y.value?a.UnexpectedToken:a.MissingFromClause,y.value);return ne(),u=du(),Be(),e.finishExportAllDeclaration(u)}(e);return function(e){var t,n=null,i=null,r=[];if(y.type===u.Keyword)switch(y.value){case\"let\":case\"const\":return n=su({inFor:!1}),e.finishExportNamedDeclaration(n,r,null);case\"var\":case\"class\":case\"function\":return n=eu(),e.finishExportNamedDeclaration(n,r,null)}Ce(\"{\");for(;!Ee(\"}\")&&(t=t||de(\"default\"),r.push(mu()),Ee(\"}\")||(Ce(\",\"),!Ee(\"}\"))););Ce(\"}\"),me(\"from\")?(ne(),i=du(),Be()):t?De(y.value?a.UnexpectedToken:a.MissingFromClause,y.value):Be();return e.finishExportNamedDeclaration(n,r,i)}(e)}();case\"import\":return\"module\"!==g.sourceType&&pe(y,a.IllegalImportDeclaration),function(){var e,t=[],n=new ae;g.inFunctionBody&&De(a.IllegalImportDeclaration);Ae(\"import\"),y.type===u.StringLiteral?e=du():(Ee(\"{\")?t=t.concat(yu()):Ee(\"*\")?t.push(gu()):ee(y)&&!de(\"default\")?(t.push(function(){var e,u=new ae;return e=Ve(),u.finishImportDefaultSpecifier(e)}()),Ee(\",\")&&(ne(),Ee(\"*\")?t.push(gu()):Ee(\"{\")?t=t.concat(yu()):he(y))):he(ne()),me(\"from\")||De(y.value?a.UnexpectedToken:a.MissingFromClause,y.value),ne(),e=du());return Be(),n.finishImportDeclaration(t,e)}();case\"const\":return su({inFor:!1});case\"function\":return Fu(new ae);case\"class\":return Eu()}return de(\"let\")&&function(){var e,t;return t={index:D,lineNumber:c,lineStart:f,hasLineTerminator:h,lastIndex:p,lastLineNumber:C,lastLineStart:F,startIndex:A,startLineNumber:E,startLineStart:d,lookahead:y,tokenCount:v.tokens?v.tokens.length:0},ne(),e=y.type===u.Identifier||Ee(\"[\")||Ee(\"{\")||de(\"let\")||de(\"yield\"),function(e){D=e.index,c=e.lineNumber,f=e.lineStart,h=e.hasLineTerminator,p=e.lastIndex,C=e.lastLineNumber,F=e.lastLineStart,A=e.startIndex,E=e.startLineNumber,d=e.startLineStart,y=e.lookahead,v.tokens&&v.tokens.splice(e.tokenCount,v.tokens.length)}(t),e}()?su({inFor:!1}):cu()}function uu(){var e,u=new ae;return Ce(\"{\"),e=function(){for(var e=[];A<B&&!Ee(\"}\");)e.push(eu());return e}(),Ce(\"}\"),u.finishBlockStatement(e)}function tu(e){var t,n=new ae;return(t=ne()).type===u.Keyword&&\"yield\"===t.value?(l&&pe(t,a.StrictReservedWord),g.allowYield||he(t)):t.type!==u.Identifier?l&&t.type===u.Keyword&&Y(t.value)?pe(t,a.StrictReservedWord):(l||\"let\"!==t.value||\"var\"!==e)&&he(t):\"module\"===g.sourceType&&t.type===u.Identifier&&\"await\"===t.value&&pe(t),n.finishIdentifier(t.value)}function nu(e){var u,t=null,n=new ae;return u=Se([],\"var\"),l&&M(u.name)&&ce(a.StrictVarName),Ee(\"=\")?(ne(),t=ye(Qe)):u.type===i.Identifier||e.inFor||Ce(\"=\"),n.finishVariableDeclarator(u,t)}function iu(e){var u,t;for(t=[nu(u={inFor:e.inFor})];Ee(\",\");)ne(),t.push(nu(u));return t}function ru(e,u){var t,n=null,r=new ae;return t=Se([],e),l&&t.type===i.Identifier&&M(t.name)&&ce(a.StrictVarName),\"const\"===e?de(\"in\")||me(\"of\")||(Ce(\"=\"),n=ye(Qe)):(!u.inFor&&t.type!==i.Identifier||Ee(\"=\"))&&(Ce(\"=\"),n=ye(Qe)),r.finishVariableDeclarator(t,n)}function au(e,u){for(var t=[ru(e,u)];Ee(\",\");)ne(),t.push(ru(e,u));return t}function su(e){var u,t,n=new ae;return u=ne().value,b(\"let\"===u||\"const\"===u,\"Lexical declaration must be either let or const\"),t=au(u,e),Be(),n.finishLexicalDeclaration(t,u)}function ou(e){var u,t=new ae;return ne(),Ee(\"{\")&&De(a.ObjectPatternAsRestParameter),e.push(y),u=tu(),Ee(\"=\")&&De(a.DefaultRestParameter),Ee(\")\")||De(a.ParameterAfterRestParameter),t.finishRestElement(u)}function lu(){var e,u,t=[],n=new ae;for(de(\"default\")?(ne(),e=null):(Ae(\"case\"),e=Ze()),Ce(\":\");A<B&&!(Ee(\"}\")||de(\"default\")||de(\"case\"));)u=eu(),t.push(u);return n.finishSwitchCase(e,t)}function Du(e){var u,t=null,n=null;return Ae(\"try\"),u=uu(),de(\"catch\")&&(t=function(){var e,u,t,n,i=[],r={},s=new ae;for(Ae(\"catch\"),Ce(\"(\"),Ee(\")\")&&he(y),e=Se(i),t=0;t<i.length;t++)u=\"$\"+i[t].value,Object.prototype.hasOwnProperty.call(r,u)&&ce(a.DuplicateBinding,i[t].value),r[u]=!0;return l&&M(e.name)&&ce(a.StrictCatchVariable),Ce(\")\"),n=uu(),s.finishCatchClause(e,n)}()),de(\"finally\")&&(ne(),n=uu()),t||n||De(a.NoCatchOrFinally),e.finishTryStatement(u,t,n)}function cu(){var e,t,n,r,s=y.type;if(s===u.EOF&&he(y),s===u.Punctuator&&\"{\"===y.value)return uu();if(w=S=!0,r=new ae,s===u.Punctuator)switch(y.value){case\";\":return function(e){return Ce(\";\"),e.finishEmptyStatement()}(r);case\"(\":return function(e){var u=Ze();return Be(),e.finishExpressionStatement(u)}(r)}else if(s===u.Keyword)switch(y.value){case\"break\":return function(e){var t,n=null;return Ae(\"break\"),59===o.charCodeAt(p)?(ne(),g.inIteration||g.inSwitch||De(a.IllegalBreak),e.finishBreakStatement(null)):(h?g.inIteration||g.inSwitch||De(a.IllegalBreak):y.type===u.Identifier&&(t=\"$\"+(n=tu()).name,Object.prototype.hasOwnProperty.call(g.labelSet,t)||De(a.UnknownLabel,n.name)),Be(),null!==n||g.inIteration||g.inSwitch||De(a.IllegalBreak),e.finishBreakStatement(n))}(r);case\"continue\":return function(e){var t,n=null;return Ae(\"continue\"),59===o.charCodeAt(A)?(ne(),g.inIteration||De(a.IllegalContinue),e.finishContinueStatement(null)):h?(g.inIteration||De(a.IllegalContinue),e.finishContinueStatement(null)):(y.type===u.Identifier&&(t=\"$\"+(n=tu()).name,Object.prototype.hasOwnProperty.call(g.labelSet,t)||De(a.UnknownLabel,n.name)),Be(),null!==n||g.inIteration||De(a.IllegalContinue),e.finishContinueStatement(n))}(r);case\"debugger\":return function(e){return Ae(\"debugger\"),Be(),e.finishDebuggerStatement()}(r);case\"do\":return function(e){var u,t,n;return Ae(\"do\"),n=g.inIteration,g.inIteration=!0,u=cu(),g.inIteration=n,Ae(\"while\"),Ce(\"(\"),t=Ze(),Ce(\")\"),Ee(\";\")&&ne(),e.finishDoWhileStatement(u,t)}(r);case\"for\":return function(e){var u,t,n,i,r,s,o,D,c,f,h,p,C=g.allowIn;if(u=r=s=null,t=!0,Ae(\"for\"),Ce(\"(\"),Ee(\";\"))ne();else if(de(\"var\"))u=new ae,ne(),g.allowIn=!1,f=iu({inFor:!0}),g.allowIn=C,1===f.length&&de(\"in\")?(u=u.finishVariableDeclaration(f),ne(),o=u,D=Ze(),u=null):1===f.length&&null===f[0].init&&me(\"of\")?(u=u.finishVariableDeclaration(f),ne(),o=u,D=Qe(),u=null,t=!1):(u=u.finishVariableDeclaration(f),Ce(\";\"));else if(de(\"const\")||de(\"let\"))u=new ae,c=ne().value,l||\"in\"!==y.value?(g.allowIn=!1,f=au(c,{inFor:!0}),g.allowIn=C,1===f.length&&null===f[0].init&&de(\"in\")?(u=u.finishLexicalDeclaration(f,c),ne(),o=u,D=Ze(),u=null):1===f.length&&null===f[0].init&&me(\"of\")?(u=u.finishLexicalDeclaration(f,c),ne(),o=u,D=Qe(),u=null,t=!1):(Be(),u=u.finishLexicalDeclaration(f,c))):(u=u.finishIdentifier(c),ne(),o=u,D=Ze(),u=null);else if(i=y,g.allowIn=!1,u=ge(Qe),g.allowIn=C,de(\"in\"))w||ce(a.InvalidLHSInForIn),ne(),Ne(u),o=u,D=Ze(),u=null;else if(me(\"of\"))w||ce(a.InvalidLHSInForLoop),ne(),Ne(u),o=u,D=Qe(),u=null,t=!1;else{if(Ee(\",\")){for(n=[u];Ee(\",\");)ne(),n.push(ye(Qe));u=new se(i).finishSequenceExpression(n)}Ce(\";\")}return void 0===o&&(Ee(\";\")||(r=Ze()),Ce(\";\"),Ee(\")\")||(s=Ze())),Ce(\")\"),p=g.inIteration,g.inIteration=!0,h=ye(cu),g.inIteration=p,void 0===o?e.finishForStatement(u,r,s,h):t?e.finishForInStatement(o,D,h):e.finishForOfStatement(o,D,h)}(r);case\"function\":return Fu(r);case\"if\":return function(e){var u,t,n;return Ae(\"if\"),Ce(\"(\"),u=Ze(),Ce(\")\"),t=cu(),de(\"else\")?(ne(),n=cu()):n=null,e.finishIfStatement(u,t,n)}(r);case\"return\":return function(e){var t=null;return Ae(\"return\"),g.inFunctionBody||ce(a.IllegalReturn),32===o.charCodeAt(p)&&R(o.charCodeAt(p+1))?(t=Ze(),Be(),e.finishReturnStatement(t)):h?e.finishReturnStatement(null):(Ee(\";\")||Ee(\"}\")||y.type===u.EOF||(t=Ze()),Be(),e.finishReturnStatement(t))}(r);case\"switch\":return function(e){var u,t,n,i,r;if(Ae(\"switch\"),Ce(\"(\"),u=Ze(),Ce(\")\"),Ce(\"{\"),t=[],Ee(\"}\"))return ne(),e.finishSwitchStatement(u,t);for(i=g.inSwitch,g.inSwitch=!0,r=!1;A<B&&!Ee(\"}\");)null===(n=lu()).test&&(r&&De(a.MultipleDefaultsInSwitch),r=!0),t.push(n);return g.inSwitch=i,Ce(\"}\"),e.finishSwitchStatement(u,t)}(r);case\"throw\":return function(e){var u;return Ae(\"throw\"),h&&De(a.NewlineAfterThrow),u=Ze(),Be(),e.finishThrowStatement(u)}(r);case\"try\":return Du(r);case\"var\":return function(e){var u;return Ae(\"var\"),u=iu({inFor:!1}),Be(),e.finishVariableDeclaration(u)}(r);case\"while\":return function(e){var u,t,n;return Ae(\"while\"),Ce(\"(\"),u=Ze(),Ce(\")\"),n=g.inIteration,g.inIteration=!0,t=cu(),g.inIteration=n,e.finishWhileStatement(u,t)}(r);case\"with\":return function(e){var u,t;return l&&ce(a.StrictModeWith),Ae(\"with\"),Ce(\"(\"),u=Ze(),Ce(\")\"),t=cu(),e.finishWithStatement(u,t)}(r)}return(e=Ze()).type===i.Identifier&&Ee(\":\")?(ne(),n=\"$\"+e.name,Object.prototype.hasOwnProperty.call(g.labelSet,n)&&De(a.Redeclaration,\"Label\",e.name),g.labelSet[n]=!0,t=cu(),delete g.labelSet[n],r.finishLabeledStatement(e,t)):(Be(),r.finishExpressionStatement(e))}function fu(){var e,t,n,r,s,D,c,f=[],h=new ae;for(Ce(\"{\");A<B&&y.type===u.StringLiteral&&(t=y,e=eu(),f.push(e),e.expression.type===i.Literal);)\"use strict\"===o.slice(t.start+1,t.end-1)?(l=!0,n&&pe(n,a.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(r=g.labelSet,s=g.inIteration,D=g.inSwitch,c=g.inFunctionBody,g.labelSet={},g.inIteration=!1,g.inSwitch=!1,g.inFunctionBody=!0;A<B&&!Ee(\"}\");)f.push(eu());return Ce(\"}\"),g.labelSet=r,g.inIteration=s,g.inSwitch=D,g.inFunctionBody=c,h.finishBlockStatement(f)}function hu(e,u,t){var n=\"$\"+t;l?(M(t)&&(e.stricted=u,e.message=a.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=u,e.message=a.StrictParamDupe)):e.firstRestricted||(M(t)?(e.firstRestricted=u,e.message=a.StrictParamName):Y(t)?(e.firstRestricted=u,e.message=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=u,e.message=a.StrictParamDupe)),e.paramSet[n]=!0}function pu(e){var u,t,n,r=[];if(\"...\"===y.value)return u=ou(r),hu(e,u.argument,u.argument.name),e.params.push(u),e.defaults.push(null),!1;for(u=we(r),t=0;t<r.length;t++)hu(e,r[t],r[t].value);return u.type===i.AssignmentPattern&&(n=u.right,u=u.left,++e.defaultCount),e.params.push(u),e.defaults.push(n),!Ee(\")\")}function Cu(e){var u;if(u={params:[],defaultCount:0,defaults:[],firstRestricted:e},Ce(\"(\"),!Ee(\")\"))for(u.paramSet={};A<B&&pu(u);)Ce(\",\");return Ce(\")\"),0===u.defaultCount&&(u.defaults=[]),{params:u.params,defaults:u.defaults,stricted:u.stricted,firstRestricted:u.firstRestricted,message:u.message}}function Fu(e,u){var t,n,i,r,s,o,D,c,f,h=null,p=[],C=[];return f=g.allowYield,Ae(\"function\"),(c=Ee(\"*\"))&&ne(),u&&Ee(\"(\")||(n=y,h=tu(),l?M(n.value)&&pe(n,a.StrictFunctionName):M(n.value)?(s=n,o=a.StrictFunctionName):Y(n.value)&&(s=n,o=a.StrictReservedWord)),g.allowYield=!c,r=Cu(s),p=r.params,C=r.defaults,i=r.stricted,s=r.firstRestricted,r.message&&(o=r.message),D=l,t=fu(),l&&s&&he(s,o),l&&i&&pe(i,o),l=D,g.allowYield=f,e.finishFunctionDeclaration(h,p,C,t,c)}function Au(){var e,u,t,n,r,s,o,l=!1;for(e=new ae,Ce(\"{\"),n=[];!Ee(\"}\");)Ee(\";\")?ne():(r=new ae,u=y,t=!1,s=Ee(\"[\"),Ee(\"*\")?ne():\"static\"===(o=ke()).name&&(Ie()||Ee(\"*\"))&&(u=y,t=!0,s=Ee(\"[\"),Ee(\"*\")?ne():o=ke()),(r=Pe(u,o,s,r))?(r.static=t,\"init\"===r.kind&&(r.kind=\"method\"),t?r.computed||\"prototype\"!==(r.key.name||r.key.value.toString())||he(u,a.StaticPrototype):r.computed||\"constructor\"!==(r.key.name||r.key.value.toString())||(\"method\"===r.kind&&r.method&&!r.value.generator||he(u,a.ConstructorSpecialMethod),l?he(u,a.DuplicateConstructor):l=!0,r.kind=\"constructor\"),r.type=i.MethodDefinition,delete r.method,delete r.shorthand,n.push(r)):he(y));return ne(),e.finishClassBody(n)}function Eu(e){var t,n=null,i=null,r=new ae,a=l;return l=!0,Ae(\"class\"),e&&y.type!==u.Identifier||(n=tu()),de(\"extends\")&&(ne(),i=ye(Ke)),t=Au(),l=a,r.finishClassDeclaration(n,i,t)}function du(){var e=new ae;return y.type!==u.StringLiteral&&De(a.InvalidModuleSpecifier),e.finishLiteral(ne())}function mu(){var e,u,t,n=new ae;return de(\"default\")?(t=new ae,ne(),u=t.finishIdentifier(\"default\")):u=tu(),me(\"as\")&&(ne(),e=Ve()),n.finishExportSpecifier(u,e)}function Bu(){var e,u,t=new ae;return u=Ve(),me(\"as\")&&(ne(),e=tu()),t.finishImportSpecifier(e,u)}function yu(){var e=[];for(Ce(\"{\");!Ee(\"}\")&&(e.push(Bu()),Ee(\"}\")||(Ce(\",\"),!Ee(\"}\"))););return Ce(\"}\"),e}function gu(){var e,u=new ae;return Ce(\"*\"),me(\"as\")||De(a.NoAsAfterImportNamespace),ne(),e=Ve(),u.finishImportNamespaceSpecifier(e)}function vu(){var e,t;return ie(),t=new ae,e=function(){for(var e,t,n,r=[];A<B&&(t=y).type===u.StringLiteral&&(e=eu(),r.push(e),e.expression.type===i.Literal);)\"use strict\"===o.slice(t.start+1,t.end-1)?(l=!0,n&&pe(n,a.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(;A<B&&void 0!==(e=eu());)r.push(e);return r}(),t.finishProgram(e,g.sourceType)}e.version=\"2.7.3\",e.tokenize=function(e,t,n){var i,r;i=String,\"string\"==typeof e||e instanceof String||(e=i(e)),D=0,c=(o=e).length>0?1:0,A=D,E=c,d=f=0,B=o.length,y=null,g={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},v={},(t=t||{}).tokens=!0,v.tokens=[],v.tokenValues=[],v.tokenize=!0,v.delegate=n,v.openParenToken=-1,v.openCurlyToken=-1,v.range=\"boolean\"==typeof t.range&&t.range,v.loc=\"boolean\"==typeof t.loc&&t.loc,\"boolean\"==typeof t.comment&&t.comment&&(v.comments=[]),\"boolean\"==typeof t.tolerant&&t.tolerant&&(v.errors=[]);try{if(ie(),y.type===u.EOF)return v.tokens;for(ne();y.type!==u.EOF;)try{ne()}catch(e){if(v.errors){oe(e);break}throw e}r=v.tokens,void 0!==v.errors&&(r.errors=v.errors)}catch(e){throw e}finally{v={}}return r},e.parse=function(e,u){var t,n;n=String,\"string\"==typeof e||e instanceof String||(e=n(e)),D=0,c=(o=e).length>0?1:0,A=D,E=c,d=f=0,B=o.length,y=null,g={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:\"script\"},l=!1,v={},void 0!==u&&(v.range=\"boolean\"==typeof u.range&&u.range,v.loc=\"boolean\"==typeof u.loc&&u.loc,v.attachComment=\"boolean\"==typeof u.attachComment&&u.attachComment,v.loc&&null!==u.source&&void 0!==u.source&&(v.source=n(u.source)),\"boolean\"==typeof u.tokens&&u.tokens&&(v.tokens=[]),\"boolean\"==typeof u.comment&&u.comment&&(v.comments=[]),\"boolean\"==typeof u.tolerant&&u.tolerant&&(v.errors=[]),v.attachComment&&(v.range=!0,v.comments=[],v.bottomRightStack=[],v.trailingComments=[],v.leadingComments=[]),\"module\"===u.sourceType&&(g.sourceType=u.sourceType,l=!0));try{t=vu(),void 0!==v.comments&&(t.comments=v.comments),void 0!==v.tokens&&(function(){var e,u,t,n=[];for(e=0;e<v.tokens.length;++e)t={type:(u=v.tokens[e]).type,value:u.value},u.regex&&(t.regex={pattern:u.regex.pattern,flags:u.regex.flags}),v.range&&(t.range=u.range),v.loc&&(t.loc=u.loc),n.push(t);v.tokens=n}(),t.tokens=v.tokens),void 0!==v.errors&&(t.errors=v.errors)}catch(e){throw e}finally{v={}}return t},e.Syntax=function(){var e,u={};\"function\"==typeof Object.create&&(u=Object.create(null));for(e in i)i.hasOwnProperty(e)&&(u[e]=i[e]);return\"function\"==typeof Object.freeze&&Object.freeze(u),u}()});","node_modules/estraverse/estraverse.js":"!function e(t){\"use strict\";var n,r,i,o,a,s,l,p,c;(r=Array.isArray)||(r=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)});function u(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]=\"object\"==typeof n&&null!==n?u(n):n);return r}a=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),s=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n};n={AssignmentExpression:\"AssignmentExpression\",AssignmentPattern:\"AssignmentPattern\",ArrayExpression:\"ArrayExpression\",ArrayPattern:\"ArrayPattern\",ArrowFunctionExpression:\"ArrowFunctionExpression\",AwaitExpression:\"AwaitExpression\",BlockStatement:\"BlockStatement\",BinaryExpression:\"BinaryExpression\",BreakStatement:\"BreakStatement\",CallExpression:\"CallExpression\",CatchClause:\"CatchClause\",ClassBody:\"ClassBody\",ClassDeclaration:\"ClassDeclaration\",ClassExpression:\"ClassExpression\",ComprehensionBlock:\"ComprehensionBlock\",ComprehensionExpression:\"ComprehensionExpression\",ConditionalExpression:\"ConditionalExpression\",ContinueStatement:\"ContinueStatement\",DebuggerStatement:\"DebuggerStatement\",DirectiveStatement:\"DirectiveStatement\",DoWhileStatement:\"DoWhileStatement\",EmptyStatement:\"EmptyStatement\",ExportAllDeclaration:\"ExportAllDeclaration\",ExportDefaultDeclaration:\"ExportDefaultDeclaration\",ExportNamedDeclaration:\"ExportNamedDeclaration\",ExportSpecifier:\"ExportSpecifier\",ExpressionStatement:\"ExpressionStatement\",ForStatement:\"ForStatement\",ForInStatement:\"ForInStatement\",ForOfStatement:\"ForOfStatement\",FunctionDeclaration:\"FunctionDeclaration\",FunctionExpression:\"FunctionExpression\",GeneratorExpression:\"GeneratorExpression\",Identifier:\"Identifier\",IfStatement:\"IfStatement\",ImportDeclaration:\"ImportDeclaration\",ImportDefaultSpecifier:\"ImportDefaultSpecifier\",ImportNamespaceSpecifier:\"ImportNamespaceSpecifier\",ImportSpecifier:\"ImportSpecifier\",Literal:\"Literal\",LabeledStatement:\"LabeledStatement\",LogicalExpression:\"LogicalExpression\",MemberExpression:\"MemberExpression\",MetaProperty:\"MetaProperty\",MethodDefinition:\"MethodDefinition\",ModuleSpecifier:\"ModuleSpecifier\",NewExpression:\"NewExpression\",ObjectExpression:\"ObjectExpression\",ObjectPattern:\"ObjectPattern\",Program:\"Program\",Property:\"Property\",RestElement:\"RestElement\",ReturnStatement:\"ReturnStatement\",SequenceExpression:\"SequenceExpression\",SpreadElement:\"SpreadElement\",Super:\"Super\",SwitchStatement:\"SwitchStatement\",SwitchCase:\"SwitchCase\",TaggedTemplateExpression:\"TaggedTemplateExpression\",TemplateElement:\"TemplateElement\",TemplateLiteral:\"TemplateLiteral\",ThisExpression:\"ThisExpression\",ThrowStatement:\"ThrowStatement\",TryStatement:\"TryStatement\",UnaryExpression:\"UnaryExpression\",UpdateExpression:\"UpdateExpression\",VariableDeclaration:\"VariableDeclaration\",VariableDeclarator:\"VariableDeclarator\",WhileStatement:\"WhileStatement\",WithStatement:\"WithStatement\",YieldExpression:\"YieldExpression\"},o={AssignmentExpression:[\"left\",\"right\"],AssignmentPattern:[\"left\",\"right\"],ArrayExpression:[\"elements\"],ArrayPattern:[\"elements\"],ArrowFunctionExpression:[\"params\",\"body\"],AwaitExpression:[\"argument\"],BlockStatement:[\"body\"],BinaryExpression:[\"left\",\"right\"],BreakStatement:[\"label\"],CallExpression:[\"callee\",\"arguments\"],CatchClause:[\"param\",\"body\"],ClassBody:[\"body\"],ClassDeclaration:[\"id\",\"superClass\",\"body\"],ClassExpression:[\"id\",\"superClass\",\"body\"],ComprehensionBlock:[\"left\",\"right\"],ComprehensionExpression:[\"blocks\",\"filter\",\"body\"],ConditionalExpression:[\"test\",\"consequent\",\"alternate\"],ContinueStatement:[\"label\"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:[\"body\",\"test\"],EmptyStatement:[],ExportAllDeclaration:[\"source\"],ExportDefaultDeclaration:[\"declaration\"],ExportNamedDeclaration:[\"declaration\",\"specifiers\",\"source\"],ExportSpecifier:[\"exported\",\"local\"],ExpressionStatement:[\"expression\"],ForStatement:[\"init\",\"test\",\"update\",\"body\"],ForInStatement:[\"left\",\"right\",\"body\"],ForOfStatement:[\"left\",\"right\",\"body\"],FunctionDeclaration:[\"id\",\"params\",\"body\"],FunctionExpression:[\"id\",\"params\",\"body\"],GeneratorExpression:[\"blocks\",\"filter\",\"body\"],Identifier:[],IfStatement:[\"test\",\"consequent\",\"alternate\"],ImportDeclaration:[\"specifiers\",\"source\"],ImportDefaultSpecifier:[\"local\"],ImportNamespaceSpecifier:[\"local\"],ImportSpecifier:[\"imported\",\"local\"],Literal:[],LabeledStatement:[\"label\",\"body\"],LogicalExpression:[\"left\",\"right\"],MemberExpression:[\"object\",\"property\"],MetaProperty:[\"meta\",\"property\"],MethodDefinition:[\"key\",\"value\"],ModuleSpecifier:[],NewExpression:[\"callee\",\"arguments\"],ObjectExpression:[\"properties\"],ObjectPattern:[\"properties\"],Program:[\"body\"],Property:[\"key\",\"value\"],RestElement:[\"argument\"],ReturnStatement:[\"argument\"],SequenceExpression:[\"expressions\"],SpreadElement:[\"argument\"],Super:[],SwitchStatement:[\"discriminant\",\"cases\"],SwitchCase:[\"test\",\"consequent\"],TaggedTemplateExpression:[\"tag\",\"quasi\"],TemplateElement:[],TemplateLiteral:[\"quasis\",\"expressions\"],ThisExpression:[],ThrowStatement:[\"argument\"],TryStatement:[\"block\",\"handler\",\"finalizer\"],UnaryExpression:[\"argument\"],UpdateExpression:[\"argument\"],VariableDeclaration:[\"declarations\"],VariableDeclarator:[\"id\",\"init\"],WhileStatement:[\"test\",\"body\"],WithStatement:[\"object\",\"body\"],YieldExpression:[\"argument\"]},i={Break:l={},Skip:p={},Remove:c={}};function f(e,t){this.parent=e,this.key=t}f.prototype.replace=function(e){this.parent[this.key]=e},f.prototype.remove=function(){return r(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function h(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function m(){}m.prototype.path=function(){var e,t,n,i,o;function a(e,t){if(r(t))for(n=0,i=t.length;n<i;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(o=[],e=2,t=this.__leavelist.length;e<t;++e)a(o,this.__leavelist[e].path);return a(o,this.__current.path),o},m.prototype.type=function(){return this.current().type||this.__current.wrap},m.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;e<t;++e)n.push(this.__leavelist[e].node);return n},m.prototype.current=function(){return this.__current.node},m.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},m.prototype.notify=function(e){this.__state=e},m.prototype.skip=function(){this.notify(p)},m.prototype.break=function(){this.notify(l)},m.prototype.remove=function(){this.notify(c)},m.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,\"iteration\"===t.fallback?this.__fallback=s:\"function\"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=o,t.keys&&(this.__keys=function(e,t){var n,r,i,o=s(t);for(r=0,i=o.length;r<i;r+=1)e[n=o[r]]=t[n];return e}(a(this.__keys),t.keys))};function d(e){return null!=e&&(\"object\"==typeof e&&\"string\"==typeof e.type)}function y(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&\"properties\"===t}m.prototype.traverse=function(e,t){var n,i,o,a,s,c,u,f,m,_,x,g;for(this.__initialize(e,t),g={},n=this.__worklist,i=this.__leavelist,n.push(new h(e,null,null,null)),i.push(new h(null,null,null,null));n.length;)if((o=n.pop())!==g){if(o.node){if(c=this.__execute(t.enter,o),this.__state===l||c===l)return;if(n.push(g),i.push(o),this.__state===p||c===p)continue;if(a=o.node,s=a.type||o.wrap,!(_=this.__keys[s])){if(!this.__fallback)throw new Error(\"Unknown node type \"+s+\".\");_=this.__fallback(a)}for(f=_.length;(f-=1)>=0;)if(u=_[f],x=a[u])if(r(x)){for(m=x.length;(m-=1)>=0;)if(x[m]){if(y(s,_[f]))o=new h(x[m],[u,m],\"Property\",null);else{if(!d(x[m]))continue;o=new h(x[m],[u,m],null,null)}n.push(o)}}else d(x)&&n.push(new h(x,u,null,null))}}else if(o=i.pop(),c=this.__execute(t.leave,o),this.__state===l||c===l)return},m.prototype.replace=function(e,t){var n,i,o,a,s,u,m,_,x,g,E,S,b;function k(e){var t,r,i,o;if(e.ref.remove())for(r=e.ref.key,o=e.ref.parent,t=n.length;t--;)if((i=n[t]).ref&&i.ref.parent===o){if(i.ref.key<r)break;--i.ref.key}}for(this.__initialize(e,t),E={},n=this.__worklist,i=this.__leavelist,u=new h(e,null,null,new f(S={root:e},\"root\")),n.push(u),i.push(u);n.length;)if((u=n.pop())!==E){if(void 0!==(s=this.__execute(t.enter,u))&&s!==l&&s!==p&&s!==c&&(u.ref.replace(s),u.node=s),this.__state!==c&&s!==c||(k(u),u.node=null),this.__state===l||s===l)return S.root;if((o=u.node)&&(n.push(E),i.push(u),this.__state!==p&&s!==p)){if(a=o.type||u.wrap,!(x=this.__keys[a])){if(!this.__fallback)throw new Error(\"Unknown node type \"+a+\".\");x=this.__fallback(o)}for(m=x.length;(m-=1)>=0;)if(b=x[m],g=o[b])if(r(g)){for(_=g.length;(_-=1)>=0;)if(g[_]){if(y(a,x[m]))u=new h(g[_],[b,_],\"Property\",new f(g,_));else{if(!d(g[_]))continue;u=new h(g[_],[b,_],null,new f(g,_))}n.push(u)}}else d(g)&&n.push(new h(g,b,null,new f(o,b)))}}else if(u=i.pop(),void 0!==(s=this.__execute(t.leave,u))&&s!==l&&s!==p&&s!==c&&u.ref.replace(s),this.__state!==c&&s!==c||k(u),this.__state===l||s===l)return S.root;return S.root};function _(e,t){return(new m).traverse(e,t)}function x(e,t){var n;return n=function(e,t){var n,r,i,o;for(r=e.length,i=0;r;)t(e[o=i+(n=r>>>1)])?r=n:(i=o+1,r-=n+1);return i}(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),(n-=1)>=0&&(e.extendedRange[0]=t[n].range[1]),e}return t.version=require(\"./package.json\").version,t.Syntax=n,t.traverse=_,t.replace=function(e,t){return(new m).replace(e,t)},t.attachComments=function(e,t,n){var r,o,a,s,l=[];if(!e.range)throw new Error(\"attachComments needs range information\");if(!n.length){if(t.length){for(a=0,o=t.length;a<o;a+=1)(r=u(t[a])).extendedRange=[0,e.range[0]],l.push(r);e.leadingComments=l}return e}for(a=0,o=t.length;a<o;a+=1)l.push(x(u(t[a]),n));return s=0,_(e,{enter:function(e){for(var t;s<l.length&&!((t=l[s]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?i.Break:l[s].extendedRange[0]>e.range[1]?i.Skip:void 0}}),s=0,_(e,{leave:function(e){for(var t;s<l.length&&(t=l[s],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?i.Break:l[s].extendedRange[0]>e.range[1]?i.Skip:void 0}}),e},t.VisitorKeys=o,t.VisitorOption=i,t.Controller=m,t.cloneEnvironment=function(){return e({})},t}(exports);","node_modules/escodegen/escodegen.js":"!function(){\"use strict\";var e,t,n,r,i,s,o,a,u,p,c,l,h,g,m,f,d,y,S,x,b,v,E,C,A,q,w;i=require(\"estraverse\"),s=require(\"esutils\"),e=i.Syntax;function k(e){return X.Statement.hasOwnProperty(e.type)}n={\"||\":(t={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19}).LogicalOR,\"&&\":t.LogicalAND,\"|\":t.BitwiseOR,\"^\":t.BitwiseXOR,\"&\":t.BitwiseAND,\"==\":t.Equality,\"!=\":t.Equality,\"===\":t.Equality,\"!==\":t.Equality,is:t.Equality,isnt:t.Equality,\"<\":t.Relational,\">\":t.Relational,\"<=\":t.Relational,\">=\":t.Relational,in:t.Relational,instanceof:t.Relational,\"<<\":t.BitwiseSHIFT,\">>\":t.BitwiseSHIFT,\">>>\":t.BitwiseSHIFT,\"+\":t.Additive,\"-\":t.Additive,\"*\":t.Multiplicative,\"%\":t.Multiplicative,\"/\":t.Multiplicative};var B=7,P=1;function F(e,t){var n=\"\";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(n+=e);return n}(o=Array.isArray)||(o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)});function I(e){var t=e.length;return t&&s.code.isLineTerminator(e.charCodeAt(t-1))}function M(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function D(e,t){var n,r;function i(e){return\"object\"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}for(n in t)t.hasOwnProperty(n)&&(i(r=t[n])?i(e[n])?D(e[n],r):e[n]=D({},r):e[n]=r);return e}function L(e,t){return 8232==(-2&e)?(t?\"u\":\"\\\\u\")+(8232===e?\"2028\":\"2029\"):10===e||13===e?(t?\"\":\"\\\\\")+(10===e?\"n\":\"r\"):String.fromCharCode(e)}function R(e,t){var n;return 8===e?\"\\\\b\":12===e?\"\\\\f\":9===e?\"\\\\t\":(n=e.toString(16).toUpperCase(),p||e>255?\"\\\\u\"+\"0000\".slice(n.length)+n:0!==e||s.code.isDecimalDigit(t)?11===e?\"\\\\x0B\":\"\\\\x\"+\"00\".slice(n.length)+n:\"\\\\0\")}function T(e){if(92===e)return\"\\\\\\\\\";if(10===e)return\"\\\\n\";if(13===e)return\"\\\\r\";if(8232===e)return\"\\\\u2028\";if(8233===e)return\"\\\\u2029\";throw new Error(\"Incorrectly classified character\")}function O(e){var t,n,r,i=\"\";for(t=0,n=e.length;t<n;++t)r=e[t],i+=o(r)?O(r):r;return i}function j(e,t){if(!E)return o(e)?O(e):e;if(null==t){if(e instanceof r)return e;t={}}return null==t.loc?new r(null,null,E,e,t.name||null):new r(t.loc.start.line,t.loc.start.column,!0===E?t.loc.source||null:E,e,t.name||null)}function N(){return f||\" \"}function W(e,t){var n,r,i,o;return 0===(n=j(e).toString()).length?[t]:0===(r=j(t).toString()).length?[e]:(i=n.charCodeAt(n.length-1),o=r.charCodeAt(0),(43===i||45===i)&&i===o||s.code.isIdentifierPartES5(i)&&s.code.isIdentifierPartES5(o)||47===i&&105===o?[e,N(),t]:s.code.isWhiteSpace(i)||s.code.isLineTerminator(i)||s.code.isWhiteSpace(o)||s.code.isLineTerminator(o)?[e,t]:[e,f,t])}function z(e){return[a,e]}function U(e){var t;t=a,e(a+=u),a=t}function K(e,t){if(\"Line\"===e.type){if(I(e.value))return\"//\"+e.value;var n=\"//\"+e.value;return A||(n+=\"\\n\"),n}return b.format.indent.adjustMultilineComment&&/[\\n\\r]/.test(e.value)?function(e,t){var n,r,i,o,u,p,c,l;for(n=e.split(/\\r\\n|[\\r\\n]/),p=Number.MAX_VALUE,r=1,i=n.length;r<i;++r){for(o=n[r],u=0;u<o.length&&s.code.isWhiteSpace(o.charCodeAt(u));)++u;p>u&&(p=u)}for(void 0!==t?(c=a,\"*\"===n[1][p]&&(t+=\" \"),a=t):(1&p&&--p,c=a),r=1,i=n.length;r<i;++r)l=j(z(n[r].slice(p))),n[r]=E?l.join(\"\"):l;return a=c,n.join(\"\\n\")}(\"/*\"+e.value+\"*/\",t):\"/*\"+e.value+\"*/\"}function V(t,n){var r,i,o,p,c,l,h,g,m,f,d,y;if(t.leadingComments&&t.leadingComments.length>0){if(p=n,A){for(n=[],g=(o=t.leadingComments[0]).extendedRange,m=o.range,(y=((d=C.substring(g[0],m[0])).match(/\\n/g)||[]).length)>0?(n.push(F(\"\\n\",y)),n.push(z(K(o)))):(n.push(d),n.push(K(o))),f=m,r=1,i=t.leadingComments.length;r<i;r++)m=(o=t.leadingComments[r]).range,y=(C.substring(f[1],m[0]).match(/\\n/g)||[]).length,n.push(F(\"\\n\",y)),n.push(z(K(o))),f=m;y=(C.substring(m[1],g[1]).match(/\\n/g)||[]).length,n.push(F(\"\\n\",y))}else for(o=t.leadingComments[0],n=[],S&&t.type===e.Program&&0===t.body.length&&n.push(\"\\n\"),n.push(K(o)),I(j(n).toString())||n.push(\"\\n\"),r=1,i=t.leadingComments.length;r<i;++r)I(j(h=[K(o=t.leadingComments[r])]).toString())||h.push(\"\\n\"),n.push(z(h));n.push(z(p))}if(t.trailingComments)if(A)g=(o=t.trailingComments[0]).extendedRange,m=o.range,(y=((d=C.substring(g[0],m[0])).match(/\\n/g)||[]).length)>0?(n.push(F(\"\\n\",y)),n.push(z(K(o)))):(n.push(d),n.push(K(o)));else for(c=!I(j(n).toString()),l=F(\" \",function(e){var t;for(t=e.length-1;t>=0&&!s.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}(j([a,n,u]).toString())),r=0,i=t.trailingComments.length;r<i;++r)o=t.trailingComments[r],c?(n=0===r?[n,u]:[n,l]).push(K(o,l)):n=[n,z(K(o))],r===i-1||I(j(n).toString())||(n=[n,\"\\n\"]);return n}function G(e,t,n){var r,i=0;for(r=e;r<t;r++)\"\\n\"===C[r]&&i++;for(r=1;r<i;r++)n.push(m)}function H(e,t,n){return t<n?[\"(\",e,\")\"]:e}function Y(e){var t,n,r;for(t=1,n=(r=e.split(/\\r\\n|\\n/)).length;t<n;t++)r[t]=m+a+r[t];return r}function X(){}X.prototype.maybeBlock=function(t,n){var r,i,s=this;return i=!b.comment||!t.leadingComments,t.type===e.BlockStatement&&i?[f,this.generateStatement(t,n)]:t.type===e.EmptyStatement&&i?\";\":(U(function(){r=[m,z(s.generateStatement(t,n))]}),r)},X.prototype.maybeBlockSuffix=function(t,n){var r=I(j(n).toString());return t.type!==e.BlockStatement||b.comment&&t.leadingComments||r?r?[n,a]:[n,m,a]:[n,f]};function $(e){return j(e.name,e)}function _(e,t){return e.async?\"async\"+(t?N():f):\"\"}function J(e){return e.generator&&!b.moz.starlessGenerator?\"*\"+f:\"\"}function Q(e){var t=e.value;return t.async?_(t,!e.computed):J(t)?\"*\":\"\"}X.prototype.generatePattern=function(t,n,r){return t.type===e.Identifier?$(t):this.generateExpression(t,n,r)},X.prototype.generateFunctionParams=function(n){var r,i,s,o;if(o=!1,n.type!==e.ArrowFunctionExpression||n.rest||n.defaults&&0!==n.defaults.length||1!==n.params.length||n.params[0].type!==e.Identifier){for((s=n.type===e.ArrowFunctionExpression?[_(n,!1)]:[]).push(\"(\"),n.defaults&&(o=!0),r=0,i=n.params.length;r<i;++r)o&&n.defaults[r]?s.push(this.generateAssignment(n.params[r],n.defaults[r],\"=\",t.Assignment,B)):s.push(this.generatePattern(n.params[r],t.Assignment,B)),r+1<i&&s.push(\",\"+f);n.rest&&(n.params.length&&s.push(\",\"+f),s.push(\"...\"),s.push($(n.rest))),s.push(\")\")}else s=[_(n,!0),$(n.params[0])];return s},X.prototype.generateFunctionBody=function(n){var r,i;return r=this.generateFunctionParams(n),n.type===e.ArrowFunctionExpression&&(r.push(f),r.push(\"=>\")),n.expression?(r.push(f),\"{\"===(i=this.generateExpression(n.body,t.Assignment,B)).toString().charAt(0)&&(i=[\"(\",i,\")\"]),r.push(i)):r.push(this.maybeBlock(n.body,9)),r},X.prototype.generateIterationForStatement=function(n,r,i){var s=[\"for\"+f+\"(\"],o=this;return U(function(){r.left.type===e.VariableDeclaration?U(function(){s.push(r.left.kind+N()),s.push(o.generateStatement(r.left.declarations[0],0))}):s.push(o.generateExpression(r.left,t.Call,B)),s=[W(s=W(s,n),o.generateExpression(r.right,t.Sequence,B)),\")\"]}),s.push(this.maybeBlock(r.body,i)),s},X.prototype.generatePropertyKey=function(e,n,r){var i=[];return n&&i.push(\"[\"),\"AssignmentPattern\"===r.type?i.push(this.AssignmentPattern(r,t.Sequence,B)):i.push(this.generateExpression(e,t.Sequence,B)),n&&i.push(\"]\"),i},X.prototype.generateAssignment=function(e,n,r,i,s){return t.Assignment<i&&(s|=1),H([this.generateExpression(e,t.Call,s),f+r+f,this.generateExpression(n,t.Assignment,s)],t.Assignment,i)},X.prototype.semicolon=function(e){return!y&&32&e?\"\":\";\"},M(X.prototype,X.Statement={BlockStatement:function(e,t){var n,r,i=[\"{\",m],s=this;return U(function(){0===e.body.length&&A&&(n=e.range)[1]-n[0]>2&&(\"\\n\"===(r=C.substring(n[0]+1,n[1]-1))[0]&&(i=[\"{\"]),i.push(r));var o,a,u,p;for(p=P,8&t&&(p|=16),o=0,a=e.body.length;o<a;++o)A&&(0===o&&(e.body[0].leadingComments&&(n=e.body[0].leadingComments[0].extendedRange,\"\\n\"===(r=C.substring(n[0],n[1]))[0]&&(i=[\"{\"])),e.body[0].leadingComments||G(e.range[0],e.body[0].range[0],i)),o>0&&(e.body[o-1].trailingComments||e.body[o].leadingComments||G(e.body[o-1].range[1],e.body[o].range[0],i))),o===a-1&&(p|=32),u=e.body[o].leadingComments&&A?s.generateStatement(e.body[o],p):z(s.generateStatement(e.body[o],p)),i.push(u),I(j(u).toString())||(A&&o<a-1?e.body[o+1].leadingComments||i.push(m):i.push(m)),A&&o===a-1&&(e.body[o].trailingComments||G(e.body[o].range[1],e.range[1],i))}),i.push(z(\"}\")),i},BreakStatement:function(e,t){return e.label?\"break \"+e.label.name+this.semicolon(t):\"break\"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?\"continue \"+e.label.name+this.semicolon(t):\"continue\"+this.semicolon(t)},ClassBody:function(e,n){var r=[\"{\",m],i=this;return U(function(n){var s,o;for(s=0,o=e.body.length;s<o;++s)r.push(n),r.push(i.generateExpression(e.body[s],t.Sequence,B)),s+1<o&&r.push(m)}),I(j(r).toString())||r.push(m),r.push(a),r.push(\"}\"),r},ClassDeclaration:function(e,n){var r;return r=[\"class\"],e.id&&(r=W(r,this.generateExpression(e.id,t.Sequence,B))),e.superClass&&(r=W(r,W(\"extends\",this.generateExpression(e.superClass,t.Assignment,B)))),r.push(f),r.push(this.generateStatement(e.body,33)),r},DirectiveStatement:function(e,t){return b.raw&&e.raw?e.raw+this.semicolon(t):function(e){var t,n,r,i;for(i=\"double\"===h?'\"':\"'\",t=0,n=e.length;t<n;++t){if(39===(r=e.charCodeAt(t))){i='\"';break}if(34===r){i=\"'\";break}92===r&&++t}return i+e+i}(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,n){var r=W(\"do\",this.maybeBlock(e.body,P));return r=this.maybeBlockSuffix(e.body,r),W(r,[\"while\"+f+\"(\",this.generateExpression(e.test,t.Sequence,B),\")\"+this.semicolon(n)])},CatchClause:function(e,n){var r,i=this;return U(function(){var n;r=[\"catch\"+f+\"(\",i.generateExpression(e.param,t.Sequence,B),\")\"],e.guard&&(n=i.generateExpression(e.guard,t.Sequence,B),r.splice(2,0,\" if \",n))}),r.push(this.maybeBlock(e.body,P)),r},DebuggerStatement:function(e,t){return\"debugger\"+this.semicolon(t)},EmptyStatement:function(e,t){return\";\"},ExportDefaultDeclaration:function(e,n){var r,i=[\"export\"];return r=32&n?33:P,i=W(i,\"default\"),i=k(e.declaration)?W(i,this.generateStatement(e.declaration,r)):W(i,this.generateExpression(e.declaration,t.Assignment,B)+this.semicolon(n))},ExportNamedDeclaration:function(n,r){var i,s=[\"export\"],o=this;return i=32&r?33:P,n.declaration?W(s,this.generateStatement(n.declaration,i)):(n.specifiers&&(0===n.specifiers.length?s=W(s,\"{\"+f+\"}\"):n.specifiers[0].type===e.ExportBatchSpecifier?s=W(s,this.generateExpression(n.specifiers[0],t.Sequence,B)):(s=W(s,\"{\"),U(function(e){var r,i;for(s.push(m),r=0,i=n.specifiers.length;r<i;++r)s.push(e),s.push(o.generateExpression(n.specifiers[r],t.Sequence,B)),r+1<i&&s.push(\",\"+m)}),I(j(s).toString())||s.push(m),s.push(a+\"}\")),n.source?s=W(s,[\"from\"+f,this.generateExpression(n.source,t.Sequence,B),this.semicolon(r)]):s.push(this.semicolon(r))),s)},ExportAllDeclaration:function(e,n){return[\"export\"+f,\"*\"+f,\"from\"+f,this.generateExpression(e.source,t.Sequence,B),this.semicolon(n)]},ExpressionStatement:function(n,r){var i,o;return i=[this.generateExpression(n.expression,t.Sequence,B)],123===(o=j(i).toString()).charCodeAt(0)||function(e){var t;return\"class\"===e.slice(0,5)&&(123===(t=e.charCodeAt(5))||s.code.isWhiteSpace(t)||s.code.isLineTerminator(t))}(o)||function(e){var t;return\"function\"===e.slice(0,8)&&(40===(t=e.charCodeAt(8))||s.code.isWhiteSpace(t)||42===t||s.code.isLineTerminator(t))}(o)||function(e){var t,n,r;if(\"async\"!==e.slice(0,5))return!1;if(!s.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(n=6,r=e.length;n<r&&s.code.isWhiteSpace(e.charCodeAt(n));++n);return n!==r&&\"function\"===e.slice(n,n+8)&&(40===(t=e.charCodeAt(n+8))||s.code.isWhiteSpace(t)||42===t||s.code.isLineTerminator(t))}(o)||x&&16&r&&n.expression.type===e.Literal&&\"string\"==typeof n.expression.value?i=[\"(\",i,\")\"+this.semicolon(r)]:i.push(this.semicolon(r)),i},ImportDeclaration:function(n,r){var i,s,o=this;return 0===n.specifiers.length?[\"import\",f,this.generateExpression(n.source,t.Sequence,B),this.semicolon(r)]:(i=[\"import\"],s=0,n.specifiers[s].type===e.ImportDefaultSpecifier&&(i=W(i,[this.generateExpression(n.specifiers[s],t.Sequence,B)]),++s),n.specifiers[s]&&(0!==s&&i.push(\",\"),n.specifiers[s].type===e.ImportNamespaceSpecifier?i=W(i,[f,this.generateExpression(n.specifiers[s],t.Sequence,B)]):(i.push(f+\"{\"),n.specifiers.length-s==1?(i.push(f),i.push(this.generateExpression(n.specifiers[s],t.Sequence,B)),i.push(f+\"}\"+f)):(U(function(e){var r,a;for(i.push(m),r=s,a=n.specifiers.length;r<a;++r)i.push(e),i.push(o.generateExpression(n.specifiers[r],t.Sequence,B)),r+1<a&&i.push(\",\"+m)}),I(j(i).toString())||i.push(m),i.push(a+\"}\"+f)))),i=W(i,[\"from\"+f,this.generateExpression(n.source,t.Sequence,B),this.semicolon(r)]))},VariableDeclarator:function(e,n){var r=1&n?B:6;return e.init?[this.generateExpression(e.id,t.Assignment,r),f,\"=\",f,this.generateExpression(e.init,t.Assignment,r)]:this.generatePattern(e.id,t.Assignment,r)},VariableDeclaration:function(e,t){var n,r,i,s,o,a=this;n=[e.kind],o=1&t?P:0;function u(){for(s=e.declarations[0],b.comment&&s.leadingComments?(n.push(\"\\n\"),n.push(z(a.generateStatement(s,o)))):(n.push(N()),n.push(a.generateStatement(s,o))),r=1,i=e.declarations.length;r<i;++r)s=e.declarations[r],b.comment&&s.leadingComments?(n.push(\",\"+m),n.push(z(a.generateStatement(s,o)))):(n.push(\",\"+f),n.push(a.generateStatement(s,o)))}return e.declarations.length>1?U(u):u(),n.push(this.semicolon(t)),n},ThrowStatement:function(e,n){return[W(\"throw\",this.generateExpression(e.argument,t.Sequence,B)),this.semicolon(n)]},TryStatement:function(e,t){var n,r,i,s;if(n=[\"try\",this.maybeBlock(e.block,P)],n=this.maybeBlockSuffix(e.block,n),e.handlers)for(r=0,i=e.handlers.length;r<i;++r)n=W(n,this.generateStatement(e.handlers[r],P)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(e.handlers[r].body,n));else{for(r=0,i=(s=e.guardedHandlers||[]).length;r<i;++r)n=W(n,this.generateStatement(s[r],P)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(s[r].body,n));if(e.handler)if(o(e.handler))for(r=0,i=e.handler.length;r<i;++r)n=W(n,this.generateStatement(e.handler[r],P)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(e.handler[r].body,n));else n=W(n,this.generateStatement(e.handler,P)),e.finalizer&&(n=this.maybeBlockSuffix(e.handler.body,n))}return e.finalizer&&(n=W(n,[\"finally\",this.maybeBlock(e.finalizer,P)])),n},SwitchStatement:function(e,n){var r,i,s,o,a,u=this;if(U(function(){r=[\"switch\"+f+\"(\",u.generateExpression(e.discriminant,t.Sequence,B),\")\"+f+\"{\"+m]}),e.cases)for(a=P,s=0,o=e.cases.length;s<o;++s)s===o-1&&(a|=32),i=z(this.generateStatement(e.cases[s],a)),r.push(i),I(j(i).toString())||r.push(m);return r.push(z(\"}\")),r},SwitchCase:function(n,r){var i,s,o,a,u,p=this;return U(function(){for(i=n.test?[W(\"case\",p.generateExpression(n.test,t.Sequence,B)),\":\"]:[\"default:\"],o=0,(a=n.consequent.length)&&n.consequent[0].type===e.BlockStatement&&(s=p.maybeBlock(n.consequent[0],P),i.push(s),o=1),o===a||I(j(i).toString())||i.push(m),u=P;o<a;++o)o===a-1&&32&r&&(u|=32),s=z(p.generateStatement(n.consequent[o],u)),i.push(s),o+1===a||I(j(s).toString())||i.push(m)}),i},IfStatement:function(n,r){var i,s,o,a=this;return U(function(){i=[\"if\"+f+\"(\",a.generateExpression(n.test,t.Sequence,B),\")\"]}),o=32&r,s=P,o&&(s|=32),n.alternate?(i.push(this.maybeBlock(n.consequent,P)),i=this.maybeBlockSuffix(n.consequent,i),i=n.alternate.type===e.IfStatement?W(i,[\"else \",this.generateStatement(n.alternate,s)]):W(i,W(\"else\",this.maybeBlock(n.alternate,s)))):i.push(this.maybeBlock(n.consequent,s)),i},ForStatement:function(n,r){var i,s=this;return U(function(){i=[\"for\"+f+\"(\"],n.init?n.init.type===e.VariableDeclaration?i.push(s.generateStatement(n.init,0)):(i.push(s.generateExpression(n.init,t.Sequence,6)),i.push(\";\")):i.push(\";\"),n.test?(i.push(f),i.push(s.generateExpression(n.test,t.Sequence,B)),i.push(\";\")):i.push(\";\"),n.update?(i.push(f),i.push(s.generateExpression(n.update,t.Sequence,B)),i.push(\")\")):i.push(\")\")}),i.push(this.maybeBlock(n.body,32&r?33:P)),i},ForInStatement:function(e,t){return this.generateIterationForStatement(\"in\",e,32&t?33:P)},ForOfStatement:function(e,t){return this.generateIterationForStatement(\"of\",e,32&t?33:P)},LabeledStatement:function(e,t){return[e.label.name+\":\",this.maybeBlock(e.body,32&t?33:P)]},Program:function(e,t){var n,r,i,s,o;for(s=e.body.length,n=[S&&s>0?\"\\n\":\"\"],o=17,i=0;i<s;++i)S||i!==s-1||(o|=32),A&&(0===i&&(e.body[0].leadingComments||G(e.range[0],e.body[i].range[0],n)),i>0&&(e.body[i-1].trailingComments||e.body[i].leadingComments||G(e.body[i-1].range[1],e.body[i].range[0],n))),r=z(this.generateStatement(e.body[i],o)),n.push(r),i+1<s&&!I(j(r).toString())&&(A?e.body[i+1].leadingComments||n.push(m):n.push(m)),A&&i===s-1&&(e.body[i].trailingComments||G(e.body[i].range[1],e.range[1],n));return n},FunctionDeclaration:function(e,t){return[_(e,!0),\"function\",J(e)||N(),e.id?$(e.id):\"\",this.generateFunctionBody(e)]},ReturnStatement:function(e,n){return e.argument?[W(\"return\",this.generateExpression(e.argument,t.Sequence,B)),this.semicolon(n)]:[\"return\"+this.semicolon(n)]},WhileStatement:function(e,n){var r,i=this;return U(function(){r=[\"while\"+f+\"(\",i.generateExpression(e.test,t.Sequence,B),\")\"]}),r.push(this.maybeBlock(e.body,32&n?33:P)),r},WithStatement:function(e,n){var r,i=this;return U(function(){r=[\"with\"+f+\"(\",i.generateExpression(e.object,t.Sequence,B),\")\"]}),r.push(this.maybeBlock(e.body,32&n?33:P)),r}}),M(X.prototype,X.Expression={SequenceExpression:function(e,n,r){var i,s,o;for(t.Sequence<n&&(r|=1),i=[],s=0,o=e.expressions.length;s<o;++s)i.push(this.generateExpression(e.expressions[s],t.Assignment,r)),s+1<o&&i.push(\",\"+f);return H(i,t.Sequence,n)},AssignmentExpression:function(e,t,n){return this.generateAssignment(e.left,e.right,e.operator,t,n)},ArrowFunctionExpression:function(e,n,r){return H(this.generateFunctionBody(e),t.ArrowFunction,n)},ConditionalExpression:function(e,n,r){return t.Conditional<n&&(r|=1),H([this.generateExpression(e.test,t.LogicalOR,r),f+\"?\"+f,this.generateExpression(e.consequent,t.Assignment,r),f+\":\"+f,this.generateExpression(e.alternate,t.Assignment,r)],t.Conditional,n)},LogicalExpression:function(e,t,n){return this.BinaryExpression(e,t,n)},BinaryExpression:function(e,t,r){var i,o,a,u;return(o=n[e.operator])<t&&(r|=1),a=this.generateExpression(e.left,o,r),u=a.toString(),i=47===u.charCodeAt(u.length-1)&&s.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[a,N(),e.operator]:W(a,e.operator),a=this.generateExpression(e.right,o+1,r),\"/\"===e.operator&&\"/\"===a.toString().charAt(0)||\"<\"===e.operator.slice(-1)&&\"!--\"===a.toString().slice(0,3)?(i.push(N()),i.push(a)):i=W(i,a),\"in\"!==e.operator||1&r?H(i,o,t):[\"(\",i,\")\"]},CallExpression:function(e,n,r){var i,s,o;for((i=[this.generateExpression(e.callee,t.Call,3)]).push(\"(\"),s=0,o=e.arguments.length;s<o;++s)i.push(this.generateExpression(e.arguments[s],t.Assignment,B)),s+1<o&&i.push(\",\"+f);return i.push(\")\"),2&r?H(i,t.Call,n):[\"(\",i,\")\"]},NewExpression:function(e,n,r){var i,s,o,a,u;if(s=e.arguments.length,u=4&r&&!d&&0===s?5:1,i=W(\"new\",this.generateExpression(e.callee,t.New,u)),!(4&r)||d||s>0){for(i.push(\"(\"),o=0,a=s;o<a;++o)i.push(this.generateExpression(e.arguments[o],t.Assignment,B)),o+1<a&&i.push(\",\"+f);i.push(\")\")}return H(i,t.New,n)},MemberExpression:function(n,r,i){var o,a;return o=[this.generateExpression(n.object,t.Call,2&i?3:1)],n.computed?(o.push(\"[\"),o.push(this.generateExpression(n.property,t.Sequence,2&i?B:5)),o.push(\"]\")):(n.object.type===e.Literal&&\"number\"==typeof n.object.value&&(a=j(o).toString()).indexOf(\".\")<0&&!/[eExX]/.test(a)&&s.code.isDecimalDigit(a.charCodeAt(a.length-1))&&!(a.length>=2&&48===a.charCodeAt(0))&&o.push(\".\"),o.push(\".\"),o.push($(n.property))),H(o,t.Member,r)},MetaProperty:function(e,n,r){var i;return(i=[]).push(e.meta),i.push(\".\"),i.push(e.property),H(i,t.Member,n)},UnaryExpression:function(e,n,r){var i,o,a,u,p;return o=this.generateExpression(e.argument,t.Unary,B),\"\"===f?i=W(e.operator,o):(i=[e.operator],e.operator.length>2?i=W(i,o):(p=(u=j(i).toString()).charCodeAt(u.length-1),a=o.toString().charCodeAt(0),(43===p||45===p)&&p===a||s.code.isIdentifierPartES5(p)&&s.code.isIdentifierPartES5(a)?(i.push(N()),i.push(o)):i.push(o))),H(i,t.Unary,n)},YieldExpression:function(e,n,r){var i;return i=e.delegate?\"yield*\":\"yield\",e.argument&&(i=W(i,this.generateExpression(e.argument,t.Yield,B))),H(i,t.Yield,n)},AwaitExpression:function(e,n,r){return H(W(e.all?\"await*\":\"await\",this.generateExpression(e.argument,t.Await,B)),t.Await,n)},UpdateExpression:function(e,n,r){return e.prefix?H([e.operator,this.generateExpression(e.argument,t.Unary,B)],t.Unary,n):H([this.generateExpression(e.argument,t.Postfix,B),e.operator],t.Postfix,n)},FunctionExpression:function(e,t,n){var r=[_(e,!0),\"function\"];return e.id?(r.push(J(e)||N()),r.push($(e.id))):r.push(J(e)||f),r.push(this.generateFunctionBody(e)),r},ArrayPattern:function(e,t,n){return this.ArrayExpression(e,t,n,!0)},ArrayExpression:function(e,n,r,i){var s,o,u=this;return e.elements.length?(o=!i&&e.elements.length>1,s=[\"[\",o?m:\"\"],U(function(n){var r,i;for(r=0,i=e.elements.length;r<i;++r)e.elements[r]?(s.push(o?n:\"\"),s.push(u.generateExpression(e.elements[r],t.Assignment,B))):(o&&s.push(n),r+1===i&&s.push(\",\")),r+1<i&&s.push(\",\"+(o?m:f))}),o&&!I(j(s).toString())&&s.push(m),s.push(o?a:\"\"),s.push(\"]\"),s):\"[]\"},RestElement:function(e,t,n){return\"...\"+this.generatePattern(e.argument)},ClassExpression:function(e,n,r){var i;return i=[\"class\"],e.id&&(i=W(i,this.generateExpression(e.id,t.Sequence,B))),e.superClass&&(i=W(i,W(\"extends\",this.generateExpression(e.superClass,t.Assignment,B)))),i.push(f),i.push(this.generateStatement(e.body,33)),i},MethodDefinition:function(e,t,n){var r,i;return r=e.static?[\"static\"+f]:[],i=\"get\"===e.kind||\"set\"===e.kind?[W(e.kind,this.generatePropertyKey(e.key,e.computed,e.value)),this.generateFunctionBody(e.value)]:[Q(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)],W(r,i)},Property:function(e,n,r){return\"get\"===e.kind||\"set\"===e.kind?[e.kind,N(),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:e.shorthand?this.generatePropertyKey(e.key,e.computed,e.value):e.method?[Q(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed,e.value),\":\"+f,this.generateExpression(e.value,t.Assignment,B)]},ObjectExpression:function(e,n,r){var i,s,o,u=this;return e.properties.length?(i=e.properties.length>1,U(function(){o=u.generateExpression(e.properties[0],t.Sequence,B)}),i||function(e){return/[\\r\\n]/g.test(e)}(j(o).toString())?(U(function(n){var r,a;if(s=[\"{\",m,n,o],i)for(s.push(\",\"+m),r=1,a=e.properties.length;r<a;++r)s.push(n),s.push(u.generateExpression(e.properties[r],t.Sequence,B)),r+1<a&&s.push(\",\"+m)}),I(j(s).toString())||s.push(m),s.push(a),s.push(\"}\"),s):[\"{\",f,o,f,\"}\"]):\"{}\"},AssignmentPattern:function(e,t,n){return this.generateAssignment(e.left,e.right,\"=\",t,n)},ObjectPattern:function(n,r,i){var s,o,u,p,c=this;if(!n.properties.length)return\"{}\";if(p=!1,1===n.properties.length)n.properties[0].value.type!==e.Identifier&&(p=!0);else for(o=0,u=n.properties.length;o<u;++o)if(!n.properties[o].shorthand){p=!0;break}return s=[\"{\",p?m:\"\"],U(function(e){var r,i;for(r=0,i=n.properties.length;r<i;++r)s.push(p?e:\"\"),s.push(c.generateExpression(n.properties[r],t.Sequence,B)),r+1<i&&s.push(\",\"+(p?m:f))}),p&&!I(j(s).toString())&&s.push(m),s.push(p?a:\"\"),s.push(\"}\"),s},ThisExpression:function(e,t,n){return\"this\"},Super:function(e,t,n){return\"super\"},Identifier:function(e,t,n){return $(e)},ImportDefaultSpecifier:function(e,t,n){return $(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,n){var r=[\"*\"],i=e.id||e.local;return i&&r.push(f+\"as\"+N()+$(i)),r},ImportSpecifier:function(e,t,n){var r=e.imported,i=[r.name],s=e.local;return s&&s.name!==r.name&&i.push(N()+\"as\"+N()+$(s)),i},ExportSpecifier:function(e,t,n){var r=e.local,i=[r.name],s=e.exported;return s&&s.name!==r.name&&i.push(N()+\"as\"+N()+$(s)),i},Literal:function(t,n,r){var i;if(t.hasOwnProperty(\"raw\")&&v&&b.raw)try{if((i=v(t.raw).body[0].expression).type===e.Literal&&i.value===t.value)return t.raw}catch(e){}return null===t.value?\"null\":\"string\"==typeof t.value?function(e){var t,n,r,i,o,a=\"\",u=0,c=0;for(t=0,n=e.length;t<n;++t){if(39===(r=e.charCodeAt(t)))++u;else if(34===r)++c;else if(47===r&&p)a+=\"\\\\\";else{if(s.code.isLineTerminator(r)||92===r){a+=T(r);continue}if(!s.code.isIdentifierPartES5(r)&&(p&&r<32||!p&&!g&&(r<32||r>126))){a+=R(r,e.charCodeAt(t+1));continue}}a+=String.fromCharCode(r)}if(i=!(\"double\"===h||\"auto\"===h&&c<u),o=i?\"'\":'\"',!(i?u:c))return o+a+o;for(e=a,a=o,t=0,n=e.length;t<n;++t)(39===(r=e.charCodeAt(t))&&i||34===r&&!i)&&(a+=\"\\\\\"),a+=String.fromCharCode(r);return a+o}(t.value):\"number\"==typeof t.value?function(e){var t,n,r,i,s;if(e!=e)throw new Error(\"Numeric literal whose value is NaN\");if(e<0||0===e&&1/e<0)throw new Error(\"Numeric literal whose value is negative\");if(e===1/0)return p?\"null\":c?\"1e400\":\"1e+400\";if(t=\"\"+e,!c||t.length<3)return t;for(n=t.indexOf(\".\"),p||48!==t.charCodeAt(0)||1!==n||(n=0,t=t.slice(1)),r=t,t=t.replace(\"e+\",\"e\"),i=0,(s=r.indexOf(\"e\"))>0&&(i=+r.slice(s+1),r=r.slice(0,s)),n>=0&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+\"\"),s=0;48===r.charCodeAt(r.length+s-1);)--s;return 0!==s&&(i-=s,r=r.slice(0,s)),0!==i&&(r+=\"e\"+i),(r.length<t.length||l&&e>1e12&&Math.floor(e)===e&&(r=\"0x\"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}(t.value):\"boolean\"==typeof t.value?t.value?\"true\":\"false\":function(e){var t,n,r,i,s,o,a,u;if(n=e.toString(),e.source){if(!(t=n.match(/\\/([^/]*)$/)))return n;for(r=t[1],n=\"\",a=!1,u=!1,i=0,s=e.source.length;i<s;++i)o=e.source.charCodeAt(i),u?(n+=L(o,u),u=!1):(a?93===o&&(a=!1):47===o?n+=\"\\\\\":91===o&&(a=!0),n+=L(o,u),u=92===o);return\"/\"+n+\"/\"+r}return n}(t.value)},GeneratorExpression:function(e,t,n){return this.ComprehensionExpression(e,t,n)},ComprehensionExpression:function(n,r,i){var s,o,a,u,p=this;return s=n.type===e.GeneratorExpression?[\"(\"]:[\"[\"],b.moz.comprehensionExpressionStartsWithAssignment&&(u=this.generateExpression(n.body,t.Assignment,B),s.push(u)),n.blocks&&U(function(){for(o=0,a=n.blocks.length;o<a;++o)u=p.generateExpression(n.blocks[o],t.Sequence,B),o>0||b.moz.comprehensionExpressionStartsWithAssignment?s=W(s,u):s.push(u)}),n.filter&&(s=W(s,\"if\"+f),u=this.generateExpression(n.filter,t.Sequence,B),s=W(s,[\"(\",u,\")\"])),b.moz.comprehensionExpressionStartsWithAssignment||(u=this.generateExpression(n.body,t.Assignment,B),s=W(s,u)),s.push(n.type===e.GeneratorExpression?\")\":\"]\"),s},ComprehensionBlock:function(n,r,i){var s;return s=n.left.type===e.VariableDeclaration?[n.left.kind,N(),this.generateStatement(n.left.declarations[0],0)]:this.generateExpression(n.left,t.Call,B),s=W(s,n.of?\"of\":\"in\"),s=W(s,this.generateExpression(n.right,t.Sequence,B)),[\"for\"+f+\"(\",s,\")\"]},SpreadElement:function(e,n,r){return[\"...\",this.generateExpression(e.argument,t.Assignment,B)]},TaggedTemplateExpression:function(e,n,r){var i=3;2&r||(i=1);return H([this.generateExpression(e.tag,t.Call,i),this.generateExpression(e.quasi,t.Primary,4)],t.TaggedTemplate,n)},TemplateElement:function(e,t,n){return e.value.raw},TemplateLiteral:function(e,n,r){var i,s,o;for(i=[\"`\"],s=0,o=e.quasis.length;s<o;++s)i.push(this.generateExpression(e.quasis[s],t.Primary,B)),s+1<o&&(i.push(\"${\"+f),i.push(this.generateExpression(e.expressions[s],t.Sequence,B)),i.push(f+\"}\"));return i.push(\"`\"),i},ModuleSpecifier:function(e,t,n){return this.Literal(e,t,n)}}),X.prototype.generateExpression=function(n,r,i){var s,o;return o=n.type||e.Property,b.verbatim&&n.hasOwnProperty(b.verbatim)?function(e,n){var r,i;return r=e[b.verbatim],i=\"string\"==typeof r?H(Y(r),t.Sequence,n):H(i=Y(r.content),null!=r.precedence?r.precedence:t.Sequence,n),j(i,e)}(n,r):(s=this[o](n,r,i),b.comment&&(s=V(n,s)),j(s,n))},X.prototype.generateStatement=function(t,n){var r,i;return r=this[t.type](t,n),b.comment&&(r=V(t,r)),i=j(r).toString(),t.type!==e.Program||S||\"\"!==m||\"\\n\"!==i.charAt(i.length-1)||(r=E?j(r).replaceRight(/\\s+$/,\"\"):i.replace(/\\s+$/,\"\")),j(r,t)};function Z(e){var n;if(n=new X,k(e))return n.generateStatement(e,P);if(function(e){return X.Expression.hasOwnProperty(e.type)}(e))return n.generateExpression(e,t.Sequence,B);throw new Error(\"Unknown node type: \"+e.type)}q={indent:{style:\"\",base:0},renumber:!0,hexadecimal:!0,quotes:\"auto\",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},w={indent:{style:\"    \",base:0,adjustMultilineComment:!1},newline:\"\\n\",space:\" \",json:!1,renumber:!1,hexadecimal:!1,quotes:\"single\",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},exports.version=require(\"./package.json\").version,exports.generate=function(e,t){var n,i,s={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:\"    \",base:0,adjustMultilineComment:!1},newline:\"\\n\",space:\" \",json:!1,renumber:!1,hexadecimal:!1,quotes:\"single\",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=t?(\"string\"==typeof t.indent&&(s.format.indent.style=t.indent),\"number\"==typeof t.base&&(s.format.indent.base=t.base),t=D(s,t),u=t.format.indent.style,a=\"string\"==typeof t.base?t.base:F(u,t.format.indent.base)):(u=(t=s).format.indent.style,a=F(u,t.format.indent.base)),p=t.format.json,c=t.format.renumber,l=!p&&t.format.hexadecimal,h=p?\"double\":t.format.quotes,g=t.format.escapeless,m=t.format.newline,f=t.format.space,t.format.compact&&(m=f=u=a=\"\"),d=t.format.parentheses,y=t.format.semicolons,S=t.format.safeConcatenation,x=t.directive,v=p?null:t.parse,E=t.sourceMap,C=t.sourceCode,A=t.format.preserveBlankLines&&null!==C,b=t,E&&(r=exports.browser?global.sourceMap.SourceNode:require(\"source-map\").SourceNode),n=Z(e),E?(i=n.toStringWithSourceMap({file:t.file,sourceRoot:t.sourceMapRoot}),t.sourceContent&&i.map.setSourceContent(t.sourceMap,t.sourceContent),t.sourceMapWithCode?i:i.map.toString()):(i={code:n.toString(),map:null},t.sourceMapWithCode?i:i.code)},exports.attachComments=i.attachComments,exports.Precedence=D({},t),exports.browser=!1,exports.FORMAT_MINIFY=q,exports.FORMAT_DEFAULTS=w}();","node_modules/estraverse/package.json":{"_from":"estraverse@~4.2.0","_id":"estraverse@4.2.0","_inBundle":false,"_integrity":"sha1-De4/7TH81GlhjOc0IJn8GvoL2xM=","_location":"/estraverse","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"estraverse@~4.2.0","name":"estraverse","escapedName":"estraverse","rawSpec":"~4.2.0","saveSpec":null,"fetchSpec":"~4.2.0"},"_requiredBy":["/","/eslint","/eslint-scope","/esquery","/esrecurse"],"_resolved":"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz","_shasum":"0dee3fed31fcd469618ce7342099fc1afa0bdb13","_spec":"estraverse@~4.2.0","_where":"c:\\Workspace\\walkner\\walkner-maxos","bugs":{"url":"https://github.com/estools/estraverse/issues"},"bundleDependencies":false,"deprecated":false,"description":"ECMAScript JS AST traversal functions","devDependencies":{"babel-preset-es2015":"^6.3.13","babel-register":"^6.3.13","chai":"^2.1.1","espree":"^1.11.0","gulp":"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1","jshint":"^2.5.6","mocha":"^2.1.0"},"engines":{"node":">=0.10.0"},"homepage":"https://github.com/estools/estraverse","license":"BSD-2-Clause","main":"estraverse.js","maintainers":[{"name":"Yusuke Suzuki","email":"utatane.tea@gmail.com","url":"http://github.com/Constellation"}],"name":"estraverse","repository":{"type":"git","url":"git+ssh://git@github.com/estools/estraverse.git"},"scripts":{"lint":"jshint estraverse.js","test":"npm run-script lint && npm run-script unit-test","unit-test":"mocha --compilers js:babel-register"},"version":"4.2.0"},"node_modules/esutils/lib/utils.js":"!function(){\"use strict\";exports.ast=require(\"./ast\"),exports.code=require(\"./code\"),exports.keyword=require(\"./keyword\")}();","node_modules/escodegen/package.json":{"_from":"escodegen@~1.8.0","_id":"escodegen@1.8.1","_inBundle":false,"_integrity":"sha1-WltTr0aTEQvrsIZ6o0MN07cKEBg=","_location":"/escodegen","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"escodegen@~1.8.0","name":"escodegen","escapedName":"escodegen","rawSpec":"~1.8.0","saveSpec":null,"fetchSpec":"~1.8.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/escodegen/-/escodegen-1.8.1.tgz","_shasum":"5a5b53af4693110bebb0867aa3430dd3b70a1018","_spec":"escodegen@~1.8.0","_where":"c:\\Workspace\\walkner\\walkner-maxos","bin":{"esgenerate":"./bin/esgenerate.js","escodegen":"./bin/escodegen.js"},"bugs":{"url":"https://github.com/estools/escodegen/issues"},"bundleDependencies":false,"dependencies":{"esprima":"^2.7.1","estraverse":"^1.9.1","esutils":"^2.0.2","optionator":"^0.8.1","source-map":"~0.2.0"},"deprecated":false,"description":"ECMAScript code generator","devDependencies":{"acorn":"^2.7.0","bluebird":"^2.3.11","bower-registry-client":"^0.2.1","chai":"^1.10.0","commonjs-everywhere":"^0.9.7","gulp":"^3.8.10","gulp-eslint":"^0.2.0","gulp-mocha":"^2.0.0","semver":"^5.1.0"},"engines":{"node":">=0.12.0"},"files":["LICENSE.BSD","LICENSE.source-map","README.md","bin","escodegen.js","package.json"],"homepage":"http://github.com/estools/escodegen","license":"BSD-2-Clause","main":"escodegen.js","maintainers":[{"name":"Yusuke Suzuki","email":"utatane.tea@gmail.com","url":"http://github.com/Constellation"}],"name":"escodegen","optionalDependencies":{"source-map":"~0.2.0"},"repository":{"type":"git","url":"git+ssh://git@github.com/estools/escodegen.git"},"scripts":{"build":"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js","lint":"gulp lint","release":"node tools/release.js","test":"gulp travis","unit-test":"gulp test"},"version":"1.8.1"},"node_modules/esutils/lib/ast.js":"!function(){\"use strict\";function e(e){if(null==e)return!1;switch(e.type){case\"BlockStatement\":case\"BreakStatement\":case\"ContinueStatement\":case\"DebuggerStatement\":case\"DoWhileStatement\":case\"EmptyStatement\":case\"ExpressionStatement\":case\"ForInStatement\":case\"ForStatement\":case\"IfStatement\":case\"LabeledStatement\":case\"ReturnStatement\":case\"SwitchStatement\":case\"ThrowStatement\":case\"TryStatement\":case\"VariableDeclaration\":case\"WhileStatement\":case\"WithStatement\":return!0}return!1}function t(e){switch(e.type){case\"IfStatement\":return null!=e.alternate?e.alternate:e.consequent;case\"LabeledStatement\":case\"ForStatement\":case\"ForInStatement\":case\"WhileStatement\":case\"WithStatement\":return e.body}return null}module.exports={isExpression:function(e){if(null==e)return!1;switch(e.type){case\"ArrayExpression\":case\"AssignmentExpression\":case\"BinaryExpression\":case\"CallExpression\":case\"ConditionalExpression\":case\"FunctionExpression\":case\"Identifier\":case\"Literal\":case\"LogicalExpression\":case\"MemberExpression\":case\"NewExpression\":case\"ObjectExpression\":case\"SequenceExpression\":case\"ThisExpression\":case\"UnaryExpression\":case\"UpdateExpression\":return!0}return!1},isStatement:e,isIterationStatement:function(e){if(null==e)return!1;switch(e.type){case\"DoWhileStatement\":case\"ForInStatement\":case\"ForStatement\":case\"WhileStatement\":return!0}return!1},isSourceElement:function(t){return e(t)||null!=t&&\"FunctionDeclaration\"===t.type},isProblematicIfStatement:function(e){var n;if(\"IfStatement\"!==e.type)return!1;if(null==e.alternate)return!1;n=e.consequent;do{if(\"IfStatement\"===n.type&&null==n.alternate)return!0;n=t(n)}while(n);return!1},trailingStatement:t}}();","node_modules/esutils/lib/code.js":"!function(){\"use strict\";var u,D,A,F,C,E;D={NonAsciiIdentifierStart:/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,NonAsciiIdentifierPart:/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/},u={NonAsciiIdentifierStart:/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]/,NonAsciiIdentifierPart:/[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDD0-\\uDDDA\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF01-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/};A=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function B(u){if(u<=65535)return String.fromCharCode(u);return String.fromCharCode(Math.floor((u-65536)/1024)+55296)+String.fromCharCode((u-65536)%1024+56320)}for(F=new Array(128),E=0;E<128;++E)F[E]=E>=97&&E<=122||E>=65&&E<=90||36===E||95===E;for(C=new Array(128),E=0;E<128;++E)C[E]=E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||36===E||95===E;module.exports={isDecimalDigit:function(u){return 48<=u&&u<=57},isHexDigit:function(u){return 48<=u&&u<=57||97<=u&&u<=102||65<=u&&u<=70},isOctalDigit:function(u){return u>=48&&u<=55},isWhiteSpace:function(u){return 32===u||9===u||11===u||12===u||160===u||u>=5760&&A.indexOf(u)>=0},isLineTerminator:function(u){return 10===u||13===u||8232===u||8233===u},isIdentifierStartES5:function(u){return u<128?F[u]:D.NonAsciiIdentifierStart.test(B(u))},isIdentifierPartES5:function(u){return u<128?C[u]:D.NonAsciiIdentifierPart.test(B(u))},isIdentifierStartES6:function(D){return D<128?F[D]:u.NonAsciiIdentifierStart.test(B(D))},isIdentifierPartES6:function(D){return D<128?C[D]:u.NonAsciiIdentifierPart.test(B(D))}}}();","node_modules/esutils/lib/keyword.js":"!function(){\"use strict\";var e=require(\"./code\");function r(e,r){return!(!r&&\"yield\"===e)&&t(e,r)}function t(e,r){if(r&&function(e){switch(e){case\"implements\":case\"interface\":case\"package\":case\"private\":case\"protected\":case\"public\":case\"static\":case\"let\":return!0;default:return!1}}(e))return!0;switch(e.length){case 2:return\"if\"===e||\"in\"===e||\"do\"===e;case 3:return\"var\"===e||\"for\"===e||\"new\"===e||\"try\"===e;case 4:return\"this\"===e||\"else\"===e||\"case\"===e||\"void\"===e||\"with\"===e||\"enum\"===e;case 5:return\"while\"===e||\"break\"===e||\"catch\"===e||\"throw\"===e||\"const\"===e||\"yield\"===e||\"class\"===e||\"super\"===e;case 6:return\"return\"===e||\"typeof\"===e||\"delete\"===e||\"switch\"===e||\"export\"===e||\"import\"===e;case 7:return\"default\"===e||\"finally\"===e||\"extends\"===e;case 8:return\"function\"===e||\"continue\"===e||\"debugger\"===e;case 10:return\"instanceof\"===e;default:return!1}}function n(e,t){return\"null\"===e||\"true\"===e||\"false\"===e||r(e,t)}function i(e,r){return\"null\"===e||\"true\"===e||\"false\"===e||t(e,r)}function u(r){var t,n,i;if(0===r.length)return!1;if(i=r.charCodeAt(0),!e.isIdentifierStartES5(i))return!1;for(t=1,n=r.length;t<n;++t)if(i=r.charCodeAt(t),!e.isIdentifierPartES5(i))return!1;return!0}function s(e,r){return 1024*(e-55296)+(r-56320)+65536}function c(r){var t,n,i,u,c;if(0===r.length)return!1;for(c=e.isIdentifierStartES6,t=0,n=r.length;t<n;++t){if(55296<=(i=r.charCodeAt(t))&&i<=56319){if(++t>=n)return!1;if(!(56320<=(u=r.charCodeAt(t))&&u<=57343))return!1;i=s(i,u)}if(!c(i))return!1;c=e.isIdentifierPartES6}return!0}module.exports={isKeywordES5:r,isKeywordES6:t,isReservedWordES5:n,isReservedWordES6:i,isRestrictedWord:function(e){return\"eval\"===e||\"arguments\"===e},isIdentifierNameES5:u,isIdentifierNameES6:c,isIdentifierES5:function(e,r){return u(e)&&!n(e,r)},isIdentifierES6:function(e,r){return c(e)&&!i(e,r)}}}();","backend/modules/maxos/routes.js":"\"use strict\";const{URL:URL}=require(\"url\"),_=require(\"lodash\"),step=require(\"h5.step\"),request=require(\"request\"),resolveProductName=require(\"../util/resolveProductName\");module.exports=function(e,t){const o=e[t.config.controllerId],r=e[t.config.messengerClientId],n=e[t.config.expressId],i=e[t.config.userId],s=e[t.config.mongooseId].model(\"MaxosTest\");n.get(\"/maxos/test\",function(e,o){o.json(t.test)}),n.get(\"/maxos/tests\",n.crud.browseRoute.bind(null,e,s)),n.get(\"/maxos/tests/:id\",n.crud.readRoute.bind(null,e,s)),n.get(\"/maxos/recentOrders\",d,function(e,t,r){const n=String(o.values.prodLines).split(\",\").map(e=>encodeURIComponent(e.trim())).filter(e=>!!e),i=o.values.remoteServerUrl||\"http://127.0.0.1/\",s=new URL(`/prodShiftOrders?select(orderId)&sort(-startedAt)&limit(50)&prodLine=in=(${n})`,i),a={proxy:o.values.httpProxyUrl,json:!0,timeout:1e4};request.get(s.toString(),a,(e,o,n)=>e?r(e):_.isPlainObject(n)&&_.isArray(n.collection)?t.json(_.take(_.uniq(_.map(n.collection,\"orderId\")),6)):t.json([]))}),n.post(\"/maxos/printLabels\",function(e,t,o){if(a(e)||i.isAllowedTo(e.session.user,[[\"LOCAL\"],[\"MAXOS:MANAGE:PRINT_LABELS\"]]))return o();t.sendStatus(403)},function(t,o,n){let{orderNo:a,items:d,kinds:c}=t.body;if(!(c=_.isArray(c)?c.filter(e=>\"inside\"===e||\"outside\"===e):[]).length)return n(e.createError(\"INPUT\",400));step(function(){s.findOne({\"order._id\":a,status:\"success\"},{order:1}).lean().exec(this.parallel()),s.findLastSerialNumber(a,this.parallel())},function(s,l,u){if(s)return n(s);const m=+String(u).split(\".\")[2];if(!l||0===m)return n(e.createError(\"EMPTY_ORDER\",400));const p=new Set;String(d).split(/[, ]/).forEach(e=>{if(e=e.replace(/[^0-9\\-]+/g,\"\"),/^[0-9]{1,4}$/.test(e))p.add(+e);else if(/^[0-9]{1,4}-[0-9]{1,4}$/.test(e)){const[t,o]=e.split(\"-\").map(e=>+e);if(t===o)p.add(+t);else if(t<o)for(let e=t;e<=o;++e)p.add(e)}});const f=Array.from(p).sort((e,t)=>e-t);if(f.length>0&&0===f[0]&&f.shift(),!f.length)return n(e.createError(\"EMPTY_ITEMS\",400));if(_.last(f)>m)return n(Object.assign(e.createError(\"INVALID_MAX_ITEM\",400),{itemNo:_.last(f),maxItemNo:m}));const g={inside:[],outside:[]},h=l.order.quantityInBox||2;let x=0;if(c.includes(\"inside\")&&(g.inside=f,x+=g.inside.length),c.includes(\"outside\")){const e=new Set;f.forEach(t=>{const o=t%h;0===o?e.add(t):e.add(t+(h-t%h))}),g.outside=Array.from(e).sort((e,t)=>e-t),x+=g.outside.length}const b=`${Date.now()}.${Math.random()}`;r.request(\"maxos.labels.print\",{commId:b,orderNo:a,items:g,labelCount:x},r=>{if(r)return n(r);e.broker.publish(\"maxos.labels.printing\",{user:i.createUserInfo(t.session.user,t),severity:x>10?\"warning\":\"info\",orderNo:a,items:d,kinds:c,labelCount:x}),o.json({orderNo:a,labelCount:x,commId:b})})})}),n.get(\"/maxos/order/:id\",d,function(t,r,n){if(\"000000000\"===t.params.id)return r.json({_id:\"000000000\",productName:\"Test product\",productFamily:\"TEST FAMILY\",materialNumber:\"000000000000\",specialDesignation:\"Lorem ipsum dolor sit amet, consectetur!\",commercialDesignation:\"Test commercial designation 0x0x0\",additionalInformation:\"Test additional information\",factoryCode:\"0000\",nonPhilipsCode:\"0 set\",dateCode:\"0A\",eocCode:\"12467400\",voltage:\"230/400V\",ipFactorValue:\"IP65\",quantityInBox:\"2\",quantityInOrder:\"9999\",ean1:\"0123456789000\",ean1Box:\"123456789012\",logoCodes:[\"01\",\"02\",\"09\",\"27\",\"40\",\"57\",\"47\"],cables:0,connectors:0,cores:0});step(function(){const r=o.values.remoteServerUrl||\"http://127.0.0.1/\",n=new URL(`/orders/${t.params.id}?select(name,description,bom)`,r),i=new URL(`/orders/zlf1/${t.params.id}`,r),s={proxy:o.values.httpProxyUrl,json:!0,timeout:1e4},a=this.parallel(),d=this.parallel();request.get(n.toString(),s,(o,r,n)=>o?a(o):_.isPlainObject(n)&&n._id===t.params.id?a(null,n):void a(e.createError(\"SAP_ORDER_NOT_FOUND\",404))),request.get(i.toString(),s,(o,r,n)=>o?d(o):_.isPlainObject(n)&&n._id===t.params.id?d(null,n):void d(e.createError(\"ZLF_ORDER_NOT_FOUND\",404)))},function(e,t,o){if(e)return n(e);const i=_.filter(t.bom,e=>/WIRE\\s*C(OMP|PL)/i.test(e.name)).map(e=>{const t={connectors:0,cores:0};return e.name.trim().split(/\\s+/).forEach(e=>{const o=e.match(/^([0-9])(L|ST)$/i);if(o)return void(t.connectors=+o[1]);const r=e.match(/^(?:[0-9]x)?([0-9])x[0-9](?:[,.][0-9])?$/i);r&&(t.cores=+r[1])}),t}),s=[];for(let e=1;e<=20;++e){const t=o[`logo_code_${e}`];t&&s.push(t)}const a=resolveProductName(t),d=0===i.length&&(/unwired/i.test(a)||/unwired/i.test(o.commercial_designation));r.json({_id:t._id,productName:a,productFamily:o.product_family_name,materialNumber:o.material_number.replace(/^0+/,\"\"),specialDesignation:o.special_designation,commercialDesignation:o.commercial_designation,additionalInformation:o.additional_information,factoryCode:o.factory_code,nonPhilipsCode:o.non_philips_code,dateCode:o.date_code,eocCode:o.eoc_code,voltage:o.voltage,ipFactorValue:o.ip_factor_value,quantityInBox:o.quantity_of_products_in_box,quantityInOrder:o.production_order_quantity,ean1:o.ean1_barcode,ean1Box:o.ean1_barcode_box,logoCodes:s,cables:d?-1:i.length,connectors:d?-1:i.length?i[0].connectors:0,cores:d?-1:i.length?i[0].cores:0})})});function a(e){return e.headers&&e.headers[\"user-agent\"]&&e.headers[\"user-agent\"].includes(\"X11; Linux\")}function d(e,t,o){if(a(e)||i.isAllowedTo(e.session.user,[[\"LOCAL\"],[\"MAXOS:MANAGE:CHANGE_ORDER\"]]))return o();t.sendStatus(403)}};","backend/modules/maxos/commands.js":"\"use strict\";module.exports=function(o,n){o[n.config.sioId].sockets.on(\"connection\",o=>{})};","backend/modules/maxos/safeGuards.js":"\"use strict\";const step=require(\"h5.step\");module.exports=function(e,r){const{getTagValue:o,setTagValue:t}=e[r.config.modbusId];e.broker.subscribe(\"beforeWriteTagValue.L.*.*.control\",e=>{e.allowWrite=e.allowWrite&&(!e.newValue||!o(\"estop\"))}),e.broker.subscribe(\"beforeWriteTagValue.S.*.control\",e=>{e.allowWrite=e.allowWrite&&(!e.newValue||!o(\"estop\"))}),e.broker.subscribe(\"beforeWriteTagValue.program.order\",e=>{e.allowWrite=e.allowWrite&&\"idle\"===o(\"program.state\")}),e.broker.subscribe(\"tagValueChanged.estop\",e=>{e.newValue&&step(function(){const e=[\"S.1.control\",\"S.2.control\"],r=o(\"powerConnector.1\"),a=o(\"powerConnector.2\");if(r)for(let o=1;o<=7;++o)e.push(`L.${r}.${o}.control`);if(a)for(let r=1;r<=7;++r)e.push(`L.${a}.${r}.control`);e.forEach(e=>t(e,!1,this.group()))},function(e){e&&r.error(`Failed to turn off control after e-stop: ${e.message}`)})}),e.broker.subscribe(\"tagValueChanged.program.order\",e=>{step(function(){const r=e.newValue||{cables:0,connectors:0,cores:0};t(\"program.cables\",r.cables,this.group()),t(\"program.connectors\",r.connectors,this.group()),t(\"program.cores\",r.cores,this.group())},function(e){e&&r.error(`Failed to change program config: ${e.message}`)})}),e.broker.subscribe(\"tagValueChanged.program.state\",e=>{r.debug(`Entered [${e.newValue}] from [${e.oldValue}].`)}),e.broker.subscribe(\"tagValueChanged.safetyTest.blackbox\",e=>{r.initialized&&(!0===e.newValue?r.glp2.stop(()=>{}):!1===e.newValue&&r.glp2.start())})};","backend/modules/maxos/program.js":"\"use strict\";const util=require(\"util\"),_=require(\"lodash\"),deepEqual=require(\"deep-equal\"),step=require(\"h5.step\"),states=require(\"./states\"),Glp2Manager=require(\"./Glp2Manager\"),labels=require(\"./labels\"),HANDLE_PROGRAM_DELAY=100;module.exports=function(e,t){const r=e[t.config.messengerServerId],s=e[t.config.modbusId],n=e[t.config.mongooseId].model(\"MaxosTest\");let a=!1,i=HANDLE_PROGRAM_DELAY;const o={handle:null,clear:()=>{}};t.initialized=!1,t.glp2=new Glp2Manager({comPort:t.config.testerAddress,comAddress:1,cancelDelay:1,readDeviceOptions:!1,log:function(){t.debug(util.format.apply(util,arguments))}}),t.glp2.isInProgress=(()=>!0),t.glp2.lastResponse=null,t.glp2.on(\"ready\",()=>g(\"masters.tester\",!0)),t.glp2.on(\"close\",()=>g(\"masters.tester\",!1)),t.test=new n,t.tags={get:u,set:g,wait:p,time:l},t.message=function(e,t,r){\"function\"==typeof t&&(r=t,t={});g(\"program.message\",Object.assign({key:e},t),r)},t.labels={build:labels.build.bind(labels,u),print:labels.print.bind(labels,t.config.spoolExe,u)},r.handle(\"maxos.test.get\",function(e,r){r(null,t.test.toJSON())}),r.handle(\"maxos.labels.print\",function(r,s){labels.bulkPrint(e,t,r,s)}),e.broker.subscribe(\"app.started\",function(){step(function(){n.find({status:\"running\"}).exec(this.next())},function(e,r){if(e)return t.error(`Failed to find interrupted tests: ${e.message}`);r.length&&t.info(`Finishing ${r.length} interrupted tests...`),r.forEach(e=>e.fail(\"INTERRUPTED\",null).save(this.group()))},function(r){r&&t.error(`Failed to finish interrupted tests: ${r.message}`),e.broker.publish(\"maxos.test.updated\",t.test.toJSON())},function(){g(\"program.state\",\"idle\",this.group()),g(\"program.message\",null,this.group()),g(\"program.order\",null,this.group()),g(\"program.cables\",0,this.group()),g(\"program.connectors\",0,this.group()),g(\"program.cores\",0,this.group()),g(\"program.cable\",1,this.group())},function(){if(this.nextStep=_.once(this.next()),t.glp2.once(\"ready\",this.nextStep),t.glp2.once(\"error\",this.nextStep),t.glp2.once(\"close\",this.nextStep),t.tags.get(\"safetyTest.blackbox\"))return setImmediate(this.nextStep);t.glp2.start()},function(){t.glp2.removeListener(\"ready\",this.nextStep),t.glp2.removeListener(\"error\",this.nextStep),t.glp2.removeListener(\"close\",this.nextStep),t.debug(`[glp2] ${t.glp2.isReady()?\"Ready\":\"Not ready\"}!`),e.broker.subscribe(\"tagValuesChanged\",()=>d()),t.initialized=!0,setImmediate(d)})}).setLimit(1),e.broker.subscribe(\"tagValueChanged.program.message\",function(){Array.isArray(t.test.messages)&&t.test.messages.push(Object.assign({date:new Date(l(\"program.message\"))},u(\"program.message\")))}),e.broker.subscribe(\"tagValueChanged.program.order\",function(){const e=u(\"program.order\");if(!e)return g(\"program.lastSerialNumber\",\"\"),void g(\"program.quantityDone\",0);step(function(){n.findLastSerialNumber(e._id,this.parallel()),n.findQuantityDone(e._id,this.parallel())},function(e,r,s){e&&t.error(`Failed to find order info: ${e.message}`),r&&g(\"program.lastSerialNumber\",r),s&&g(\"program.quantityDone\",s)})});function l(e){const t=s.tags[e];return t?t.lastChangeTime:0}function u(e,t){const r=s.values[e];return null===r?void 0===t?null:t:r}function g(e,t,r,n){r||(r=(()=>{})),n||(n=0),s.setTagValue(e,t,function(s){return s?n<3?setTimeout(g,1e3*n+1,e,t,r,n+1):r(s):deepEqual(u(e),t)?r():void setTimeout(p,25,Date.now(),1e3,e,t,r)})}function p(t,r,s,n,a){return deepEqual(u(s),n)?a():Date.now()-t>r?a(e.createError(`Waiting for [${s}] to be [${JSON.stringify(n).substring(0,30)}] timed out`)):void setTimeout(p,33,t,r,s,n,a)}function d(){o.handle&&(o.clear(o.handle),o.handle=null),a?i=0:(i=HANDLE_PROGRAM_DELAY,a=!0,states[u(\"program.state\")](e,t,()=>{const e=i;i=HANDLE_PROGRAM_DELAY,a=!1,e?(o.clear=clearTimeout,o.handle=setTimeout(d,e)):(o.clear=clearImmediate,o.handle=setImmediate(d))}))}};","backend/modules/maxos/client.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(e,t){const s=e[t.config.messengerClientId];t.test={},e.broker.subscribe(\"messenger.client.connected\",n).setFilter(e=>\"req\"===e.socketType&&e.moduleName===t.config.messengerClientId),e.broker.subscribe(\"maxos.test.updated\",e=>Object.assign(t.test,e)),s.isConnected()&&setImmediate(n);function n(){s.request(\"maxos.test.get\",{},function(s,n){s&&t.error(`Failed to sync: ${s.message}`),_.isPlainObject(n)&&(t.info(\"Synced current test.\"),e.broker.publish(\"maxos.test.updated\",n))})}};","node_modules/request/index.js":"\"use strict\";var extend=require(\"extend\"),cookies=require(\"./lib/cookies\"),helpers=require(\"./lib/helpers\"),paramsHaveRequestBody=helpers.paramsHaveRequestBody;function initParams(e,t,r){\"function\"==typeof t&&(r=t);var u={};return\"object\"==typeof t?extend(u,t,{uri:e}):extend(u,\"string\"==typeof e?{uri:e}:e),u.callback=r||u.callback,u}function request(e,t,r){if(void 0===e)throw new Error(\"undefined is not a valid uri or options object.\");var u=initParams(e,t,r);if(\"HEAD\"===u.method&&paramsHaveRequestBody(u))throw new Error(\"HTTP HEAD requests MUST NOT include a request body.\");return new request.Request(u)}function verbFunc(e){var t=e.toUpperCase();return function(e,r,u){var n=initParams(e,r,u);return n.method=t,request(n,n.callback)}}request.get=verbFunc(\"get\"),request.head=verbFunc(\"head\"),request.options=verbFunc(\"options\"),request.post=verbFunc(\"post\"),request.put=verbFunc(\"put\"),request.patch=verbFunc(\"patch\"),request.del=verbFunc(\"delete\"),request.delete=verbFunc(\"delete\"),request.jar=function(e){return cookies.jar(e)},request.cookie=function(e){return cookies.parse(e)};function wrapRequestMethod(e,t,r,u){return function(n,o,s){var a=initParams(n,o,s),i={};return extend(!0,i,t,a),i.pool=a.pool||t.pool,u&&(i.method=u.toUpperCase()),\"function\"==typeof r&&(e=r),e(i,i.callback)}}request.defaults=function(e,t){var r=this;\"function\"==typeof(e=e||{})&&(t=e,e={});var u=wrapRequestMethod(r,e,t);return[\"get\",\"head\",\"post\",\"put\",\"patch\",\"del\",\"delete\"].forEach(function(n){u[n]=wrapRequestMethod(r[n],e,t,n)}),u.cookie=wrapRequestMethod(r.cookie,e,t),u.jar=r.jar,u.defaults=r.defaults,u},request.forever=function(e,t){var r={};return t&&extend(r,t),e&&(r.agentOptions=e),r.forever=!0,request.defaults(r)},module.exports=request,request.Request=require(\"./request\"),request.initParams=initParams,Object.defineProperty(request,\"debug\",{enumerable:!0,get:function(){return request.Request.debug},set:function(e){request.Request.debug=e}});","backend/modules/util/resolveProductName.js":"\"use strict\";const _=require(\"lodash\"),PRODUCT_FAMILY_RE=/^[A-Z0-9]{6}/;module.exports=function(t){if(!t)return\"\";const r=t.description||\"\",i=t.name||\"\";return _.isEmpty(r)?i.trim():_.isEmpty(i)?r.trim():PRODUCT_FAMILY_RE.test(i)?i.trim():(r||i).trim()};","node_modules/request/lib/cookies.js":"\"use strict\";var tough=require(\"tough-cookie\"),Cookie=tough.Cookie,CookieJar=tough.CookieJar;exports.parse=function(o){if(o&&o.uri&&(o=o.uri),\"string\"!=typeof o)throw new Error(\"The cookie function only accepts STRING as param\");return Cookie.parse(o,{loose:!0})};function RequestJar(o){this._jar=new CookieJar(o,{looseMode:!0})}RequestJar.prototype.setCookie=function(o,e,t){return this._jar.setCookieSync(o,e,t||{})},RequestJar.prototype.getCookieString=function(o){return this._jar.getCookieStringSync(o)},RequestJar.prototype.getCookies=function(o){return this._jar.getCookiesSync(o)},exports.jar=function(o){return new RequestJar(o)};","node_modules/request/lib/helpers.js":"\"use strict\";var jsonSafeStringify=require(\"json-stringify-safe\"),crypto=require(\"crypto\"),Buffer=require(\"safe-buffer\").Buffer,defer=\"undefined\"==typeof setImmediate?process.nextTick:setImmediate;function paramsHaveRequestBody(e){return e.body||e.requestBodyStream||e.json&&\"boolean\"!=typeof e.json||e.multipart}function safeStringify(e,r){var t;try{t=JSON.stringify(e,r)}catch(s){t=jsonSafeStringify(e,r)}return t}function md5(e){return crypto.createHash(\"md5\").update(e).digest(\"hex\")}function isReadStream(e){return e.readable&&e.path&&e.mode}function toBase64(e){return Buffer.from(e||\"\",\"utf8\").toString(\"base64\")}function copy(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function version(){var e=process.version.replace(\"v\",\"\").split(\".\");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}exports.paramsHaveRequestBody=paramsHaveRequestBody,exports.safeStringify=safeStringify,exports.md5=md5,exports.isReadStream=isReadStream,exports.toBase64=toBase64,exports.copy=copy,exports.version=version,exports.defer=defer;","node_modules/request/request.js":"\"use strict\";var http=require(\"http\"),https=require(\"https\"),url=require(\"url\"),util=require(\"util\"),stream=require(\"stream\"),zlib=require(\"zlib\"),hawk=require(\"hawk\"),aws2=require(\"aws-sign2\"),aws4=require(\"aws4\"),httpSignature=require(\"http-signature\"),mime=require(\"mime-types\"),stringstream=require(\"stringstream\"),caseless=require(\"caseless\"),ForeverAgent=require(\"forever-agent\"),FormData=require(\"form-data\"),extend=require(\"extend\"),isstream=require(\"isstream\"),isTypedArray=require(\"is-typedarray\").strict,helpers=require(\"./lib/helpers\"),cookies=require(\"./lib/cookies\"),getProxyFromURI=require(\"./lib/getProxyFromURI\"),Querystring=require(\"./lib/querystring\").Querystring,Har=require(\"./lib/har\").Har,Auth=require(\"./lib/auth\").Auth,OAuth=require(\"./lib/oauth\").OAuth,Multipart=require(\"./lib/multipart\").Multipart,Redirect=require(\"./lib/redirect\").Redirect,Tunnel=require(\"./lib/tunnel\").Tunnel,now=require(\"performance-now\"),Buffer=require(\"safe-buffer\").Buffer,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};function filterForNonReserved(e,t){var r={};for(var i in t){-1===e.indexOf(i)&&(r[i]=t[i])}return r}function filterOutReservedFunctions(e,t){var r={};for(var i in t){var s=!(-1===e.indexOf(i)),o=\"function\"==typeof t[i];s&&o||(r[i]=t[i])}return r}function requestToJSON(){return{uri:this.uri,method:this.method,headers:this.headers}}function responseToJSON(){return{statusCode:this.statusCode,body:this.body,headers:this.headers,request:requestToJSON.call(this.request)}}function Request(e){e.har&&(this._har=new Har(this),e=this._har.options(e)),stream.Stream.call(this);var t=Object.keys(Request.prototype),r=filterForNonReserved(t,e);extend(this,r),e=filterOutReservedFunctions(t,e),this.readable=!0,this.writable=!0,e.method&&(this.explicitMethod=!0),this._qs=new Querystring(this),this._auth=new Auth(this),this._oauth=new OAuth(this),this._multipart=new Multipart(this),this._redirect=new Redirect(this),this._tunnel=new Tunnel(this),this.init(e)}util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\\brequest\\b/.test(process.env.NODE_DEBUG);function debug(){Request.debug&&console.error(\"REQUEST %s\",util.format.apply(util,arguments))}Request.prototype.debug=debug,Request.prototype.init=function(e){var t=this;e||(e={}),t.headers=t.headers?copy(t.headers):{};for(var r in t.headers)void 0===t.headers[r]&&delete t.headers[r];if(caseless.httpify(t,t.headers),t.method||(t.method=e.method||\"GET\"),t.localAddress||(t.localAddress=e.localAddress),t._qs.init(e),debug(e),t.pool||!1===t.pool||(t.pool=globalPool),t.dests=t.dests||[],t.__isRequestRequest=!0,!t._callback&&t.callback&&(t._callback=t.callback,t.callback=function(){t._callbackCalled||(t._callbackCalled=!0,t._callback.apply(t,arguments))},t.on(\"error\",t.callback.bind()),t.on(\"complete\",t.callback.bind(t,null))),!t.uri&&t.url&&(t.uri=t.url,delete t.url),t.baseUrl){if(\"string\"!=typeof t.baseUrl)return t.emit(\"error\",new Error(\"options.baseUrl must be a string\"));if(\"string\"!=typeof t.uri)return t.emit(\"error\",new Error(\"options.uri must be a string when using options.baseUrl\"));if(0===t.uri.indexOf(\"//\")||-1!==t.uri.indexOf(\"://\"))return t.emit(\"error\",new Error(\"options.uri must be a path when using options.baseUrl\"));var i=t.baseUrl.lastIndexOf(\"/\")===t.baseUrl.length-1,s=0===t.uri.indexOf(\"/\");i&&s?t.uri=t.baseUrl+t.uri.slice(1):i||s?t.uri=t.baseUrl+t.uri:\"\"===t.uri?t.uri=t.baseUrl:t.uri=t.baseUrl+\"/\"+t.uri,delete t.baseUrl}if(!t.uri)return t.emit(\"error\",new Error(\"options.uri is a required argument\"));if(\"string\"==typeof t.uri&&(t.uri=url.parse(t.uri)),t.uri.href||(t.uri.href=url.format(t.uri)),\"unix:\"===t.uri.protocol)return t.emit(\"error\",new Error(\"`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`\"));if(\"unix\"===t.uri.host&&t.enableUnixSocket(),!1===t.strictSSL&&(t.rejectUnauthorized=!1),t.uri.pathname||(t.uri.pathname=\"/\"),!(t.uri.host||t.uri.hostname&&t.uri.port||t.uri.isUnix)){var o='Invalid URI \"'+url.format(t.uri)+'\"';return 0===Object.keys(e).length&&(o+=\". This can be caused by a crappy redirection.\"),t.abort(),t.emit(\"error\",new Error(o))}if(t.hasOwnProperty(\"proxy\")||(t.proxy=getProxyFromURI(t.uri)),t.tunnel=t._tunnel.isEnabled(),t.proxy&&t._tunnel.setup(e),t._redirect.onRequest(e),t.setHost=!1,!t.hasHeader(\"host\")){var n=t.originalHostHeaderName||\"host\";t.setHeader(n,t.uri.host),t.setHost=!0}if(t.jar(t._jar||e.jar),t.uri.port||(\"http:\"===t.uri.protocol?t.uri.port=80:\"https:\"===t.uri.protocol&&(t.uri.port=443)),t.proxy&&!t.tunnel?(t.port=t.proxy.port,t.host=t.proxy.hostname):(t.port=t.uri.port,t.host=t.uri.hostname),e.form&&t.form(e.form),e.formData){var a=e.formData,u=t.form(),h=function(e,t){t&&t.hasOwnProperty(\"value\")&&t.hasOwnProperty(\"options\")?u.append(e,t.value,t.options):u.append(e,t)};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(d instanceof Array)for(var c=0;c<d.length;c++)h(p,d[c]);else h(p,d)}}if(e.qs&&t.qs(e.qs),t.uri.path?t.path=t.uri.path:t.path=t.uri.pathname+(t.uri.search||\"\"),0===t.path.length&&(t.path=\"/\"),e.aws&&t.aws(e.aws),e.hawk&&t.hawk(e.hawk),e.httpSignature&&t.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,\"username\")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,\"password\")&&(e.auth.pass=e.auth.password),t.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),t.gzip&&!t.hasHeader(\"accept-encoding\")&&t.setHeader(\"accept-encoding\",\"gzip, deflate\"),t.uri.auth&&!t.hasHeader(\"authorization\")){var l=t.uri.auth.split(\":\").map(function(e){return t._qs.unescape(e)});t.auth(l[0],l.slice(1).join(\":\"),!0)}if(!t.tunnel&&t.proxy&&t.proxy.auth&&!t.hasHeader(\"proxy-authorization\")){var m=t.proxy.auth.split(\":\").map(function(e){return t._qs.unescape(e)}),f=\"Basic \"+toBase64(m.join(\":\"));t.setHeader(\"proxy-authorization\",f)}t.proxy&&!t.tunnel&&(t.path=t.uri.protocol+\"//\"+t.uri.host+t.path),e.json&&t.json(e.json),e.multipart&&t.multipart(e.multipart),e.time&&(t.timing=!0,t.elapsedTime=t.elapsedTime||0);function g(){if(isTypedArray(t.body)&&(t.body=Buffer.from(t.body)),!t.hasHeader(\"content-length\")){var e;(e=\"string\"==typeof t.body?Buffer.byteLength(t.body):Array.isArray(t.body)?t.body.reduce(function(e,t){return e+t.length},0):t.body.length)?t.setHeader(\"content-length\",e):t.emit(\"error\",new Error(\"Argument error, options.body.\"))}}t.body&&!isstream(t.body)&&g(),e.oauth?t.oauth(e.oauth):t._oauth.params&&t.hasHeader(\"authorization\")&&t.oauth(t._oauth.params);var y=t.proxy&&!t.tunnel?t.proxy.protocol:t.uri.protocol,b={\"http:\":http,\"https:\":https},q=t.httpModules||{};if(t.httpModule=q[y]||b[y],!t.httpModule)return t.emit(\"error\",new Error(\"Invalid protocol: \"+y));if(e.ca&&(t.ca=e.ca),!t.agent)if(e.agentOptions&&(t.agentOptions=e.agentOptions),e.agentClass)t.agentClass=e.agentClass;else if(e.forever){var v=version();0===v.major&&v.minor<=10?t.agentClass=\"http:\"===y?ForeverAgent:ForeverAgent.SSL:(t.agentClass=t.httpModule.Agent,t.agentOptions=t.agentOptions||{},t.agentOptions.keepAlive=!0)}else t.agentClass=t.httpModule.Agent;!1===t.pool?t.agent=!1:t.agent=t.agent||t.getNewAgent(),t.on(\"pipe\",function(e){if(t.ntick&&t._started&&t.emit(\"error\",new Error(\"You cannot pipe to this stream after the outbound request has started.\")),t.src=e,isReadStream(e))t.hasHeader(\"content-type\")||t.setHeader(\"content-type\",mime.lookup(e.path));else{if(e.headers)for(var r in e.headers)t.hasHeader(r)||t.setHeader(r,e.headers[r]);t._json&&!t.hasHeader(\"content-type\")&&t.setHeader(\"content-type\",\"application/json\"),e.method&&!t.explicitMethod&&(t.method=e.method)}}),defer(function(){if(!t._aborted){var e=function(){if(t._form&&(t._auth.hasAuth?t._auth.hasAuth&&t._auth.sentAuth&&t._form.pipe(t):t._form.pipe(t)),t._multipart&&t._multipart.chunked&&t._multipart.body.pipe(t),t.body)isstream(t.body)?t.body.pipe(t):(g(),Array.isArray(t.body)?t.body.forEach(function(e){t.write(e)}):t.write(t.body),t.end());else if(t.requestBodyStream)console.warn(\"options.requestBodyStream is deprecated, please pass the request object to stream.pipe.\"),t.requestBodyStream.pipe(t);else if(!t.src){if(t._auth.hasAuth&&!t._auth.sentAuth)return void t.end();\"GET\"!==t.method&&void 0!==t.method&&t.setHeader(\"content-length\",0),t.end()}};t._form&&!t.hasHeader(\"content-length\")?(t.setHeader(t._form.getHeaders(),!0),t._form.getLength(function(r,i){r||isNaN(i)||t.setHeader(\"content-length\",i),e()})):e(),t.ntick=!0}})},Request.prototype.getNewAgent=function(){var e=this.agentClass,t={};if(this.agentOptions)for(var r in this.agentOptions)t[r]=this.agentOptions[r];this.ca&&(t.ca=this.ca),this.ciphers&&(t.ciphers=this.ciphers),this.secureProtocol&&(t.secureProtocol=this.secureProtocol),this.secureOptions&&(t.secureOptions=this.secureOptions),void 0!==this.rejectUnauthorized&&(t.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(t.key=this.key,t.cert=this.cert),this.pfx&&(t.pfx=this.pfx),this.passphrase&&(t.passphrase=this.passphrase);var i=\"\";e!==this.httpModule.Agent&&(i+=e.name);var s=this.proxy;\"string\"==typeof s&&(s=url.parse(s));return(s&&\"https:\"===s.protocol||\"https:\"===this.uri.protocol)&&(t.ca&&(i&&(i+=\":\"),i+=t.ca),void 0!==t.rejectUnauthorized&&(i&&(i+=\":\"),i+=t.rejectUnauthorized),t.cert&&(i&&(i+=\":\"),i+=t.cert.toString(\"ascii\")+t.key.toString(\"ascii\")),t.pfx&&(i&&(i+=\":\"),i+=t.pfx.toString(\"ascii\")),t.ciphers&&(i&&(i+=\":\"),i+=t.ciphers),t.secureProtocol&&(i&&(i+=\":\"),i+=t.secureProtocol),t.secureOptions&&(i&&(i+=\":\"),i+=t.secureOptions)),this.pool===globalPool&&!i&&0===Object.keys(t).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(i=this.uri.protocol+i,this.pool[i]||(this.pool[i]=new e(t),this.pool.maxSockets&&(this.pool[i].maxSockets=this.pool.maxSockets)),this.pool[i])},Request.prototype.start=function(){var e=this;if(e.timing)var t=(new Date).getTime(),r=now();if(!e._aborted){e._started=!0,e.method=e.method||\"GET\",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader(\"content-length\")&&e.setHeader(\"content-length\",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var i=copy(e);delete i.auth,debug(\"make request\",e.uri.href),delete i.timeout;try{e.req=e.httpModule.request(i)}catch(t){return void e.emit(\"error\",t)}e.timing&&(e.startTime=t,e.startTimeNow=r,e.timings={});var s;e.timeout&&!e.timeoutTimer&&(e.timeout<0?s=0:\"number\"==typeof e.timeout&&isFinite(e.timeout)&&(s=e.timeout)),e.req.on(\"response\",e.onRequestResponse.bind(e)),e.req.on(\"error\",e.onRequestError.bind(e)),e.req.on(\"drain\",function(){e.emit(\"drain\")}),e.req.on(\"socket\",function(t){var r=t._connecting||t.connecting;if(e.timing&&(e.timings.socket=now()-e.startTimeNow,r)){var i=function(){e.timings.lookup=now()-e.startTimeNow},o=function(){e.timings.connect=now()-e.startTimeNow};t.once(\"lookup\",i),t.once(\"connect\",o),e.req.once(\"error\",function(){t.removeListener(\"lookup\",i),t.removeListener(\"connect\",o)})}var n=function(){e.req.setTimeout(s,function(){if(e.req){e.abort();var t=new Error(\"ESOCKETTIMEDOUT\");t.code=\"ESOCKETTIMEDOUT\",t.connect=!1,e.emit(\"error\",t)}})};if(void 0!==s)if(r){var a=function(){t.removeListener(\"connect\",a),clearTimeout(e.timeoutTimer),e.timeoutTimer=null,n()};t.on(\"connect\",a),e.req.on(\"error\",function(e){t.removeListener(\"connect\",a)}),e.timeoutTimer=setTimeout(function(){t.removeListener(\"connect\",a),e.abort();var r=new Error(\"ETIMEDOUT\");r.code=\"ETIMEDOUT\",r.connect=!0,e.emit(\"error\",r)},s)}else n();e.emit(\"socket\",t)}),e.emit(\"request\",e.req)}},Request.prototype.onRequestError=function(e){if(!this._aborted){if(this.req&&this.req._reusedSocket&&\"ECONNRESET\"===e.code&&this.agent.addRequestNoreuse)return this.agent={addRequest:this.agent.addRequestNoreuse.bind(this.agent)},this.start(),void this.req.end();this.timeout&&this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.emit(\"error\",e)}},Request.prototype.onRequestResponse=function(e){var t=this;if(t.timing&&(t.timings.response=now()-t.startTimeNow),debug(\"onRequestResponse\",t.uri.href,e.statusCode,e.headers),e.on(\"end\",function(){t.timing&&(t.timings.end=now()-t.startTimeNow,e.timingStart=t.startTime,t.timings.socket||(t.timings.socket=0),t.timings.lookup||(t.timings.lookup=t.timings.socket),t.timings.connect||(t.timings.connect=t.timings.lookup),t.timings.response||(t.timings.response=t.timings.connect),debug(\"elapsed time\",t.timings.end),t.elapsedTime+=Math.round(t.timings.end),e.elapsedTime=t.elapsedTime,e.timings=t.timings,e.timingPhases={wait:t.timings.socket,dns:t.timings.lookup-t.timings.socket,tcp:t.timings.connect-t.timings.lookup,firstByte:t.timings.response-t.timings.connect,download:t.timings.end-t.timings.response,total:t.timings.end}),debug(\"response end\",t.uri.href,e.statusCode,e.headers)}),t._aborted)return debug(\"aborted\",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=responseToJSON,t.httpModule!==https||!t.strictSSL||e.hasOwnProperty(\"socket\")&&e.socket.authorized){t.originalHost=t.getHeader(\"host\"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader(\"host\")),t.setHost&&t.removeHeader(\"host\"),t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null);var r=t._jar&&t._jar.setCookie?t._jar:globalCookieJar,i=function(e){try{r.setCookie(e,t.uri.href,{ignoreError:!0})}catch(e){t.emit(\"error\",e)}};if(e.caseless=caseless(e.headers),e.caseless.has(\"set-cookie\")&&!t._disableCookies){var s=e.caseless.has(\"set-cookie\");Array.isArray(e.headers[s])?e.headers[s].forEach(i):i(e.headers[s])}if(!t._redirect.onResponse(e)){e.on(\"close\",function(){t._ended||t.response.emit(\"end\")}),e.once(\"end\",function(){t._ended=!0});var o;if(t.gzip&&!function(e){return\"HEAD\"===t.method||e>=100&&e<200||204===e||304===e}(e.statusCode)){var n=e.headers[\"content-encoding\"]||\"identity\";n=n.trim().toLowerCase();var a={flush:zlib.Z_SYNC_FLUSH,finishFlush:zlib.Z_SYNC_FLUSH};\"gzip\"===n?(o=zlib.createGunzip(a),e.pipe(o)):\"deflate\"===n?(o=zlib.createInflate(a),e.pipe(o)):(\"identity\"!==n&&debug(\"ignoring unrecognized Content-Encoding \"+n),o=e)}else o=e;t.encoding&&(0!==t.dests.length?console.error(\"Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid.\"):o.setEncoding?o.setEncoding(t.encoding):o=o.pipe(stringstream(t.encoding))),t._paused&&o.pause(),t.responseContent=o,t.emit(\"response\",e),t.dests.forEach(function(e){t.pipeDest(e)}),o.on(\"data\",function(r){t.timing&&!t.responseStarted&&(t.responseStartTime=(new Date).getTime(),e.responseStartTime=t.responseStartTime),t._destdata=!0,t.emit(\"data\",r)}),o.once(\"end\",function(e){t.emit(\"end\",e)}),o.on(\"error\",function(e){t.emit(\"error\",e)}),o.on(\"close\",function(){t.emit(\"close\")}),t.callback?t.readResponseBody(e):t.on(\"end\",function(){t._aborted?debug(\"aborted\",t.uri.href):t.emit(\"complete\",e)}),debug(\"finish init function\",t.uri.href)}}else{debug(\"strict ssl error\",t.uri.href);var u=e.hasOwnProperty(\"socket\")?e.socket.authorizationError:t.uri.href+\" does not support SSL\";t.emit(\"error\",new Error(\"SSL Error: \"+u))}},Request.prototype.readResponseBody=function(e){var t=this;debug(\"reading response's body\");var r=[],i=0,s=[];t.on(\"data\",function(e){Buffer.isBuffer(e)?e.length&&(i+=e.length,r.push(e)):s.push(e)}),t.on(\"end\",function(){if(debug(\"end event\",t.uri.href),t._aborted)return debug(\"aborted\",t.uri.href),r=[],void(i=0);if(i?(debug(\"has body\",t.uri.href,i),e.body=Buffer.concat(r,i),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),r=[],i=0):s.length&&(\"utf8\"===t.encoding&&s[0].length>0&&\"\\ufeff\"===s[0][0]&&(s[0]=s[0].substring(1)),e.body=s.join(\"\")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(e){debug(\"invalid JSON received\",t.uri.href)}debug(\"emitting complete\",t.uri.href),void 0!==e.body||t._json||(e.body=null===t.encoding?Buffer.alloc(0):\"\"),t.emit(\"complete\",e,e.body)})},Request.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.destroy(),this.emit(\"abort\")},Request.prototype.pipeDest=function(e){var t=this.response;if(e.headers&&!e.headersSent){if(t.caseless.has(\"content-type\")){var r=t.caseless.has(\"content-type\");e.setHeader?e.setHeader(r,t.headers[r]):e.headers[r]=t.headers[r]}if(t.caseless.has(\"content-length\")){var i=t.caseless.has(\"content-length\");e.setHeader?e.setHeader(i,t.headers[i]):e.headers[i]=t.headers[i]}}if(e.setHeader&&!e.headersSent){for(var s in t.headers)this.gzip&&\"content-encoding\"===s||e.setHeader(s,t.headers[s]);e.statusCode=t.statusCode}this.pipefilter&&this.pipefilter(t,e)},Request.prototype.qs=function(e,t){var r;r=!t&&this.uri.query?this._qs.parse(this.uri.query):{};for(var i in e)r[i]=e[i];var s=this._qs.stringify(r);return\"\"===s?this:(this.uri=url.parse(this.uri.href.split(\"?\")[0]+\"?\"+s),this.url=this.uri,this.path=this.uri.path,\"unix\"===this.uri.host&&this.enableUnixSocket(),this)},Request.prototype.form=function(e){var t=this;return e?(/^application\\/x-www-form-urlencoded\\b/.test(t.getHeader(\"content-type\"))||t.setHeader(\"content-type\",\"application/x-www-form-urlencoded\"),t.body=\"string\"==typeof e?t._qs.rfc3986(e.toString(\"utf8\")):t._qs.stringify(e).toString(\"utf8\"),t):(t._form=new FormData,t._form.on(\"error\",function(e){e.message=\"form-data: \"+e.message,t.emit(\"error\",e),t.abort()}),t._form)},Request.prototype.multipart=function(e){return this._multipart.onRequest(e),this._multipart.chunked||(this.body=this._multipart.body),this},Request.prototype.json=function(e){return this.hasHeader(\"accept\")||this.setHeader(\"accept\",\"application/json\"),\"function\"==typeof this.jsonReplacer&&(this._jsonReplacer=this.jsonReplacer),this._json=!0,\"boolean\"==typeof e?void 0!==this.body&&(/^application\\/x-www-form-urlencoded\\b/.test(this.getHeader(\"content-type\"))?this.body=this._qs.rfc3986(this.body):this.body=safeStringify(this.body,this._jsonReplacer),this.hasHeader(\"content-type\")||this.setHeader(\"content-type\",\"application/json\")):(this.body=safeStringify(e,this._jsonReplacer),this.hasHeader(\"content-type\")||this.setHeader(\"content-type\",\"application/json\")),\"function\"==typeof this.jsonReviver&&(this._jsonReviver=this.jsonReviver),this},Request.prototype.getHeader=function(e,t){var r,i;return t||(t=this.headers),Object.keys(t).forEach(function(s){s.length===e.length&&(i=new RegExp(e,\"i\"),s.match(i)&&(r=t[s]))}),r},Request.prototype.enableUnixSocket=function(){var e=this.uri.path.split(\":\"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},Request.prototype.auth=function(e,t,r,i){return this._auth.onRequest(e,t,r,i),this},Request.prototype.aws=function(e,t){if(!t)return this._aws=e,this;if(4===e.sign_version||\"4\"===e.sign_version){var r={host:this.uri.host,path:this.uri.path,method:this.method,headers:{\"content-type\":this.getHeader(\"content-type\")||\"\"},body:this.body},i=aws4.sign(r,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});this.setHeader(\"authorization\",i.headers.Authorization),this.setHeader(\"x-amz-date\",i.headers[\"X-Amz-Date\"]),i.headers[\"X-Amz-Security-Token\"]&&this.setHeader(\"x-amz-security-token\",i.headers[\"X-Amz-Security-Token\"])}else{var s=new Date;this.setHeader(\"date\",s.toUTCString());var o={key:e.key,secret:e.secret,verb:this.method.toUpperCase(),date:s,contentType:this.getHeader(\"content-type\")||\"\",md5:this.getHeader(\"content-md5\")||\"\",amazonHeaders:aws2.canonicalizeHeaders(this.headers)},n=this.uri.path;e.bucket&&n?o.resource=\"/\"+e.bucket+n:e.bucket&&!n?o.resource=\"/\"+e.bucket:!e.bucket&&n?o.resource=n:e.bucket||n||(o.resource=\"/\"),o.resource=aws2.canonicalizeResource(o.resource),this.setHeader(\"authorization\",aws2.authorization(o))}return this},Request.prototype.httpSignature=function(e){var t=this;return httpSignature.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),debug(\"httpSignature authorization\",t.getHeader(\"authorization\")),t},Request.prototype.hawk=function(e){this.setHeader(\"Authorization\",hawk.client.header(this.uri,this.method,e).field)},Request.prototype.oauth=function(e){return this._oauth.onRequest(e),this},Request.prototype.jar=function(e){var t;if(0===this._redirect.redirectsFollowed&&(this.originalCookieHeader=this.getHeader(\"cookie\")),e){var r=e&&e.getCookieString?e:globalCookieJar,i=this.uri.href;r&&(t=r.getCookieString(i))}else t=!1,this._disableCookies=!0;return t&&t.length&&(this.originalCookieHeader?this.setHeader(\"cookie\",this.originalCookieHeader+\"; \"+t):this.setHeader(\"cookie\",t)),this._jar=e,this},Request.prototype.pipe=function(e,t){if(!this.response)return this.dests.push(e),stream.Stream.prototype.pipe.call(this,e,t),e;if(this._destdata)this.emit(\"error\",new Error(\"You cannot pipe after data has been emitted from the response.\"));else{if(!this._ended)return stream.Stream.prototype.pipe.call(this,e,t),this.pipeDest(e),e;this.emit(\"error\",new Error(\"You cannot pipe after the response has been ended.\"))}},Request.prototype.write=function(){if(!this._aborted)return this._started||this.start(),this.req?this.req.write.apply(this.req,arguments):void 0},Request.prototype.end=function(e){this._aborted||(e&&this.write(e),this._started||this.start(),this.req&&this.req.end())},Request.prototype.pause=function(){this.responseContent?this.responseContent.pause.apply(this.responseContent,arguments):this._paused=!0},Request.prototype.resume=function(){this.responseContent?this.responseContent.resume.apply(this.responseContent,arguments):this._paused=!1},Request.prototype.destroy=function(){this._ended?this.response&&this.response.destroy():this.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request;","node_modules/tough-cookie/lib/cookie.js":"\"use strict\";var punycode,net=require(\"net\"),urlParse=require(\"url\").parse,pubsuffix=require(\"./pubsuffix\"),Store=require(\"./store\").Store,MemoryCookieStore=require(\"./memstore\").MemoryCookieStore,pathMatch=require(\"./pathMatch\").pathMatch,VERSION=require(\"../package.json\").version;try{punycode=require(\"punycode\")}catch(e){console.warn(\"cookie: can't load punycode; won't use punycode for domain normalization\")}var DATE_DELIM=/[\\x09\\x20-\\x2F\\x3B-\\x40\\x5B-\\x60\\x7B-\\x7E]/,COOKIE_OCTET=/[\\x21\\x23-\\x2B\\x2D-\\x3A\\x3C-\\x5B\\x5D-\\x7E]/,COOKIE_OCTETS=new RegExp(\"^\"+COOKIE_OCTET.source+\"+$\"),CONTROL_CHARS=/[\\x00-\\x1F]/,COOKIE_PAIR=/^(([^=;]+))\\s{0,256}=\\s*([^\\n\\r\\0]*)/,LOOSE_COOKIE_PAIR=/^((?:=)?([^=;]*)\\s{0,256}=\\s*)?([^\\n\\r\\0]*)/,PATH_VALUE=/[\\x20-\\x3A\\x3C-\\x7E]+/,DAY_OF_MONTH=/^(\\d{1,2})[^\\d]*$/,TIME=/^(\\d{1,2})[^\\d]*:(\\d{1,2})[^\\d]*:(\\d{1,2})[^\\d]*$/,MONTH=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},NUM_TO_MONTH=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],NUM_TO_DAY=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],YEAR=/^(\\d{2}|\\d{4})$/,MAX_TIME=2147483647e3,MIN_TIME=0;function parseDate(e){if(e){var t=e.split(DATE_DELIM);if(t){for(var o=null,r=null,i=null,n=null,a=null,s=null,u=0;u<t.length;u++){var l=t[u].trim();if(l.length){var c;if(null===i&&(c=TIME.exec(l))){if(o=parseInt(c[1],10),r=parseInt(c[2],10),i=parseInt(c[3],10),o>23||r>59||i>59)return}else if(null===n&&(c=DAY_OF_MONTH.exec(l))){if((n=parseInt(c,10))<1||n>31)return}else if(null===a&&(c=MONTH.exec(l)))a=MONTH_TO_NUM[c[1].toLowerCase()];else if(null===s&&(c=YEAR.exec(l))&&(70<=(s=parseInt(c[0],10))&&s<=99?s+=1900:0<=s&&s<=69&&(s+=2e3),s<1601))return}}if(null!==i&&null!==n&&null!==a&&null!==s)return new Date(Date.UTC(s,a,n,o,r,i))}}}function formatDate(e){var t=e.getUTCDate();t=t>=10?t:\"0\"+t;var o=e.getUTCHours();o=o>=10?o:\"0\"+o;var r=e.getUTCMinutes();r=r>=10?r:\"0\"+r;var i=e.getUTCSeconds();return i=i>=10?i:\"0\"+i,NUM_TO_DAY[e.getUTCDay()]+\", \"+t+\" \"+NUM_TO_MONTH[e.getUTCMonth()]+\" \"+e.getUTCFullYear()+\" \"+o+\":\"+r+\":\"+i+\" GMT\"}function canonicalDomain(e){return null==e?null:(e=e.trim().replace(/^\\./,\"\"),punycode&&/[^\\u0001-\\u007f]/.test(e)&&(e=punycode.toASCII(e)),e.toLowerCase())}function domainMatch(e,t,o){if(null==e||null==t)return null;if(!1!==o&&(e=canonicalDomain(e),t=canonicalDomain(t)),e==t)return!0;if(net.isIP(e))return!1;var r=e.indexOf(t);return!(r<=0)&&(e.length===t.length+r&&\".\"===e.substr(r-1,1))}function defaultPath(e){if(!e||\"/\"!==e.substr(0,1))return\"/\";if(\"/\"===e)return e;var t=e.lastIndexOf(\"/\");return 0===t?\"/\":e.slice(0,t)}function parse(e,t){t&&\"object\"==typeof t||(t={});var o=(e=e.trim()).indexOf(\";\"),r=(t.loose?LOOSE_COOKIE_PAIR:COOKIE_PAIR).exec(-1===o?e:e.substr(0,o));if(r){var i=new Cookie;if(r[1]?i.key=r[2].trim():i.key=\"\",i.value=r[3].trim(),!CONTROL_CHARS.test(i.key)&&!CONTROL_CHARS.test(i.value)){if(-1===o)return i;var n=e.slice(o+1).trim();if(0===n.length)return i;for(var a=n.split(\";\");a.length;){var s=a.shift().trim();if(0!==s.length){var u,l,c=s.indexOf(\"=\");switch(-1===c?(u=s,l=null):(u=s.substr(0,c),l=s.substr(c+1)),u=u.trim().toLowerCase(),l&&(l=l.trim()),u){case\"expires\":if(l){var p=parseDate(l);p&&(i.expires=p)}break;case\"max-age\":if(l&&/^-?[0-9]+$/.test(l)){var f=parseInt(l,10);i.setMaxAge(f)}break;case\"domain\":if(l){var h=l.trim().replace(/^\\./,\"\");h&&(i.domain=h.toLowerCase())}break;case\"path\":i.path=l&&\"/\"===l[0]?l:null;break;case\"secure\":i.secure=!0;break;case\"httponly\":i.httpOnly=!0;break;default:i.extensions=i.extensions||[],i.extensions.push(s)}}}return i}}}function jsonParse(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}function fromJSON(e){if(!e)return null;var t;if(\"string\"==typeof e){if((t=jsonParse(e))instanceof Error)return null}else t=e;for(var o=new Cookie,r=0;r<Cookie.serializableProperties.length;r++){var i=Cookie.serializableProperties[r];void 0!==t[i]&&t[i]!==Cookie.prototype[i]&&(\"expires\"===i||\"creation\"===i||\"lastAccessed\"===i?null===t[i]?o[i]=null:o[i]=\"Infinity\"==t[i]?\"Infinity\":new Date(t[i]):o[i]=t[i])}return o}function cookieCompare(e,t){var o=0,r=e.path?e.path.length:0;if(0!=(o=(t.path?t.path.length:0)-r))return o;return 0!=(o=(e.creation?e.creation.getTime():MAX_TIME)-(t.creation?t.creation.getTime():MAX_TIME))?o:o=e.creationIndex-t.creationIndex}function permutePath(e){if(\"/\"===e)return[\"/\"];e.lastIndexOf(\"/\")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var o=e.lastIndexOf(\"/\");if(0===o)break;e=e.substr(0,o),t.push(e)}return t.push(\"/\"),t}function getCookieContext(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return urlParse(e)}function Cookie(e){e=e||{},Object.keys(e).forEach(function(t){Cookie.prototype.hasOwnProperty(t)&&Cookie.prototype[t]!==e[t]&&\"_\"!==t.substr(0,1)&&(this[t]=e[t])},this),this.creation=this.creation||new Date,Object.defineProperty(this,\"creationIndex\",{configurable:!1,enumerable:!1,writable:!0,value:++Cookie.cookiesCreated})}Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.prototype.key=\"\",Cookie.prototype.value=\"\",Cookie.prototype.expires=\"Infinity\",Cookie.prototype.maxAge=null,Cookie.prototype.domain=null,Cookie.prototype.path=null,Cookie.prototype.secure=!1,Cookie.prototype.httpOnly=!1,Cookie.prototype.extensions=null,Cookie.prototype.hostOnly=null,Cookie.prototype.pathIsDefault=null,Cookie.prototype.creation=null,Cookie.prototype.lastAccessed=null,Object.defineProperty(Cookie.prototype,\"creationIndex\",{configurable:!0,enumerable:!1,writable:!0,value:0}),Cookie.serializableProperties=Object.keys(Cookie.prototype).filter(function(e){return!(Cookie.prototype[e]instanceof Function||\"creationIndex\"===e||\"_\"===e.substr(0,1))}),Cookie.prototype.inspect=function(){var e=Date.now();return'Cookie=\"'+this.toString()+\"; hostOnly=\"+(null!=this.hostOnly?this.hostOnly:\"?\")+\"; aAge=\"+(this.lastAccessed?e-this.lastAccessed.getTime()+\"ms\":\"?\")+\"; cAge=\"+(this.creation?e-this.creation.getTime()+\"ms\":\"?\")+'\"'},Cookie.prototype.toJSON=function(){for(var e={},t=Cookie.serializableProperties,o=0;o<t.length;o++){var r=t[o];this[r]!==Cookie.prototype[r]&&(\"expires\"===r||\"creation\"===r||\"lastAccessed\"===r?null===this[r]?e[r]=null:e[r]=\"Infinity\"==this[r]?\"Infinity\":this[r].toISOString():\"maxAge\"===r?null!==this[r]&&(e[r]=this[r]==1/0||this[r]==-1/0?this[r].toString():this[r]):this[r]!==Cookie.prototype[r]&&(e[r]=this[r]))}return e},Cookie.prototype.clone=function(){return fromJSON(this.toJSON())},Cookie.prototype.validate=function(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\\.$/))return!1;if(null==pubsuffix.getPublicSuffix(e))return!1}return!0},Cookie.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=parseDate(e)||\"Infinity\"},Cookie.prototype.setMaxAge=function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e},Cookie.prototype.cookieString=function(){var e=this.value;return null==e&&(e=\"\"),\"\"===this.key?e:this.key+\"=\"+e},Cookie.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?e+=\"; Expires=\"+formatDate(this.expires):e+=\"; Expires=\"+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+=\"; Max-Age=\"+this.maxAge),this.domain&&!this.hostOnly&&(e+=\"; Domain=\"+this.domain),this.path&&(e+=\"; Path=\"+this.path),this.secure&&(e+=\"; Secure\"),this.httpOnly&&(e+=\"; HttpOnly\"),this.extensions&&this.extensions.forEach(function(t){e+=\"; \"+t}),e},Cookie.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=parseDate(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},Cookie.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,o=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+o}return this.expires==1/0?1/0:this.expires.getTime()},Cookie.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(MAX_TIME):t==-1/0?new Date(MIN_TIME):new Date(t)},Cookie.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},Cookie.prototype.cdomain=Cookie.prototype.canonicalizedDomain=function(){return null==this.domain?null:canonicalDomain(this.domain)};function CookieJar(e,t){\"boolean\"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new MemoryCookieStore),this.store=e}CookieJar.prototype.store=null,CookieJar.prototype.rejectPublicSuffixes=!0,CookieJar.prototype.enableLooseMode=!1;var CAN_BE_SYNC=[];CAN_BE_SYNC.push(\"setCookie\"),CookieJar.prototype.setCookie=function(e,t,o,r){var i,n=getCookieContext(t);o instanceof Function&&(r=o,o={});var a=canonicalDomain(n.hostname),s=this.enableLooseMode;if(null!=o.loose&&(s=o.loose),e instanceof Cookie||(e=Cookie.parse(e,{loose:s})),!e)return i=new Error(\"Cookie failed to parse\"),r(o.ignoreError?null:i);var u=o.now||new Date;if(this.rejectPublicSuffixes&&e.domain){if(null==pubsuffix.getPublicSuffix(e.cdomain()))return i=new Error(\"Cookie has domain set to a public suffix\"),r(o.ignoreError?null:i)}if(e.domain){if(!domainMatch(a,e.cdomain(),!1))return i=new Error(\"Cookie not in this host's domain. Cookie:\"+e.cdomain()+\" Request:\"+a),r(o.ignoreError?null:i);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&\"/\"===e.path[0]||(e.path=defaultPath(n.pathname),e.pathIsDefault=!0),!1===o.http&&e.httpOnly)return i=new Error(\"Cookie is HttpOnly and this isn't an HTTP API\"),r(o.ignoreError?null:i);var l=this.store;l.updateCookie||(l.updateCookie=function(e,t,o){this.putCookie(t,o)});l.findCookie(e.domain,e.path,e.key,function(t,i){if(t)return r(t);var n=function(t){if(t)return r(t);r(null,e)};if(i){if(!1===o.http&&i.httpOnly)return t=new Error(\"old Cookie is HttpOnly and this isn't an HTTP API\"),r(o.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=u,l.updateCookie(i,e,n)}else e.creation=e.lastAccessed=u,l.putCookie(e,n)})},CAN_BE_SYNC.push(\"getCookies\"),CookieJar.prototype.getCookies=function(e,t,o){var r=getCookieContext(e);t instanceof Function&&(o=t,t={});var i=canonicalDomain(r.hostname),n=r.pathname||\"/\",a=t.secure;null!=a||!r.protocol||\"https:\"!=r.protocol&&\"wss:\"!=r.protocol||(a=!0);var s=t.http;null==s&&(s=!0);var u=t.now||Date.now(),l=!1!==t.expire,c=!!t.allPaths,p=this.store;function f(e){if(e.hostOnly){if(e.domain!=i)return!1}else if(!domainMatch(i,e.domain,!1))return!1;return!(!c&&!pathMatch(n,e.path))&&(!(e.secure&&!a)&&(!(e.httpOnly&&!s)&&(!(l&&e.expiryTime()<=u)||(p.removeCookie(e.domain,e.path,e.key,function(){}),!1))))}p.findCookies(i,c?null:n,function(e,r){if(e)return o(e);r=r.filter(f),!1!==t.sort&&(r=r.sort(cookieCompare));var i=new Date;r.forEach(function(e){e.lastAccessed=i}),o(null,r)})},CAN_BE_SYNC.push(\"getCookieString\"),CookieJar.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,o){e?t(e):t(null,o.sort(cookieCompare).map(function(e){return e.cookieString()}).join(\"; \"))}),this.getCookies.apply(this,e)},CAN_BE_SYNC.push(\"getSetCookieStrings\"),CookieJar.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,o){e?t(e):t(null,o.map(function(e){return e.toString()}))}),this.getCookies.apply(this,e)},CAN_BE_SYNC.push(\"serialize\"),CookieJar.prototype.serialize=function(e){var t=this.store.constructor.name;\"Object\"===t&&(t=null);var o={version:\"tough-cookie@\"+VERSION,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||\"function\"!=typeof this.store.getAllCookies)return e(new Error(\"store does not support getAllCookies and cannot be serialized\"));this.store.getAllCookies(function(t,r){return t?e(t):(o.cookies=r.map(function(e){return e=e instanceof Cookie?e.toJSON():e,delete e.creationIndex,e}),e(null,o))})},CookieJar.prototype.toJSON=function(){return this.serializeSync()},CAN_BE_SYNC.push(\"_importCookies\"),CookieJar.prototype._importCookies=function(e,t){var o=this,r=e.cookies;if(!r||!Array.isArray(r))return t(new Error(\"serialized jar has no cookies array\"));r=r.slice();function i(e){if(e)return t(e);if(!r.length)return t(e,o);var n;try{n=fromJSON(r.shift())}catch(e){return t(e)}if(null===n)return i(null);o.store.putCookie(n,i)}i()},CookieJar.deserialize=function(e,t,o){3!==arguments.length&&(o=t,t=null);var r;if(\"string\"==typeof e){if((r=jsonParse(e))instanceof Error)return o(r)}else r=e;var i=new CookieJar(t,r.rejectPublicSuffixes);i._importCookies(r,function(e){if(e)return o(e);o(null,i)})},CookieJar.deserializeSync=function(e,t){var o=\"string\"==typeof e?JSON.parse(e):e,r=new CookieJar(t,o.rejectPublicSuffixes);if(!r.store.synchronous)throw new Error(\"CookieJar store is not synchronous; use async API instead.\");return r._importCookiesSync(o),r},CookieJar.fromJSON=CookieJar.deserializeSync,CAN_BE_SYNC.push(\"clone\"),CookieJar.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize(function(o,r){if(o)return t(o);CookieJar.deserialize(e,r,t)})};function syncWrap(e){return function(){if(!this.store.synchronous)throw new Error(\"CookieJar store is not synchronous; use async API instead.\");var t,o,r=Array.prototype.slice.call(arguments);if(r.push(function(e,r){t=e,o=r}),this[e].apply(this,r),t)throw t;return o}}CAN_BE_SYNC.forEach(function(e){CookieJar.prototype[e+\"Sync\"]=syncWrap(e)}),module.exports={CookieJar:CookieJar,Cookie:Cookie,Store:Store,MemoryCookieStore:MemoryCookieStore,parseDate:parseDate,formatDate:formatDate,parse:parse,fromJSON:fromJSON,domainMatch:domainMatch,defaultPath:defaultPath,pathMatch:pathMatch,getPublicSuffix:pubsuffix.getPublicSuffix,cookieCompare:cookieCompare,permuteDomain:require(\"./permuteDomain\").permuteDomain,permutePath:permutePath,canonicalDomain:canonicalDomain};","node_modules/tough-cookie/lib/pubsuffix.js":"\"use strict\";var punycode=require(\"punycode\");module.exports.getPublicSuffix=function(e){if(!e)return null;if(e.match(/^\\./))return null;var r=punycode.toASCII(e),n=!1;if(r!==e&&(e=r,n=!0),index[e])return null;for(var u=(e=e.toLowerCase()).split(\".\").reverse(),i=\"\",t=0,l=0;l<u.length;l++){var o=u[l]+i;index[\"*\"+i]?(t=l+1,!1===index[o]&&t--):index[o]&&(t=l+1),i=\".\"+o}if(index[\"*\"+i])return null;if(t=t||1,u.length>t){var d=u.slice(0,t+1).reverse().join(\".\");return n?punycode.toUnicode(d):d}return null};var index=module.exports.index=Object.freeze({com:1,org:1,pl:1,de:1});","node_modules/tough-cookie/lib/store.js":"\"use strict\";function Store(){}exports.Store=Store,Store.prototype.synchronous=!1,Store.prototype.findCookie=function(o,e,t,r){throw new Error(\"findCookie is not implemented\")},Store.prototype.findCookies=function(o,e,t){throw new Error(\"findCookies is not implemented\")},Store.prototype.putCookie=function(o,e){throw new Error(\"putCookie is not implemented\")},Store.prototype.updateCookie=function(o,e,t){throw new Error(\"updateCookie is not implemented\")},Store.prototype.removeCookie=function(o,e,t,r){throw new Error(\"removeCookie is not implemented\")},Store.prototype.removeCookies=function(o,e,t){throw new Error(\"removeCookies is not implemented\")},Store.prototype.getAllCookies=function(o){throw new Error(\"getAllCookies is not implemented (therefore jar cannot be serialized)\")};","node_modules/tough-cookie/lib/memstore.js":"\"use strict\";var Store=require(\"./store\").Store,permuteDomain=require(\"./permuteDomain\").permuteDomain,pathMatch=require(\"./pathMatch\").pathMatch,util=require(\"util\");function MemoryCookieStore(){Store.call(this),this.idx={}}util.inherits(MemoryCookieStore,Store),exports.MemoryCookieStore=MemoryCookieStore,MemoryCookieStore.prototype.idx=null,MemoryCookieStore.prototype.synchronous=!0,MemoryCookieStore.prototype.inspect=function(){return\"{ idx: \"+util.inspect(this.idx,!1,2)+\" }\"},MemoryCookieStore.prototype.findCookie=function(o,t,e,i){return this.idx[o]&&this.idx[o][t]?i(null,this.idx[o][t][e]||null):i(null,void 0)},MemoryCookieStore.prototype.findCookies=function(o,t,e){var i=[];if(!o)return e(null,[]);var r;r=t?function(o){Object.keys(o).forEach(function(e){if(pathMatch(t,e)){var r=o[e];for(var n in r)i.push(r[n])}})}:function(o){for(var t in o){var e=o[t];for(var r in e)i.push(e[r])}};var n=permuteDomain(o)||[o],u=this.idx;n.forEach(function(o){var t=u[o];t&&r(t)}),e(null,i)},MemoryCookieStore.prototype.putCookie=function(o,t){this.idx[o.domain]||(this.idx[o.domain]={}),this.idx[o.domain][o.path]||(this.idx[o.domain][o.path]={}),this.idx[o.domain][o.path][o.key]=o,t(null)},MemoryCookieStore.prototype.updateCookie=function(o,t,e){this.putCookie(t,e)},MemoryCookieStore.prototype.removeCookie=function(o,t,e,i){this.idx[o]&&this.idx[o][t]&&this.idx[o][t][e]&&delete this.idx[o][t][e],i(null)},MemoryCookieStore.prototype.removeCookies=function(o,t,e){return this.idx[o]&&(t?delete this.idx[o][t]:delete this.idx[o]),e(null)},MemoryCookieStore.prototype.getAllCookies=function(o){var t=[],e=this.idx;Object.keys(e).forEach(function(o){Object.keys(e[o]).forEach(function(i){Object.keys(e[o][i]).forEach(function(r){null!==r&&t.push(e[o][i][r])})})}),t.sort(function(o,t){return(o.creationIndex||0)-(t.creationIndex||0)}),o(null,t)};","node_modules/tough-cookie/lib/pathMatch.js":"\"use strict\";function pathMatch(t,r){if(r===t)return!0;if(0===t.indexOf(r)){if(\"/\"===r.substr(-1))return!0;if(\"/\"===t.substr(r.length,1))return!0}return!1}exports.pathMatch=pathMatch;","node_modules/tough-cookie/package.json":{"_from":"tough-cookie@~2.3.3","_id":"tough-cookie@2.3.3","_inBundle":false,"_integrity":"sha1-C2GKVWW23qkL80JdBNVe3EdadWE=","_location":"/tough-cookie","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"tough-cookie@~2.3.3","name":"tough-cookie","escapedName":"tough-cookie","rawSpec":"~2.3.3","saveSpec":null,"fetchSpec":"~2.3.3"},"_requiredBy":["/request","/twilio/request"],"_resolved":"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.3.tgz","_shasum":"0b618a5565b6dea90bf3425d04d55edc475a7561","_spec":"tough-cookie@~2.3.3","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\request","author":{"name":"Jeremy Stashewsky","email":"jstashewsky@salesforce.com"},"bugs":{"url":"https://github.com/salesforce/tough-cookie/issues"},"bundleDependencies":false,"contributors":[{"name":"Alexander Savin"},{"name":"Ian Livingstone"},{"name":"Ivan Nikulin"},{"name":"Lalit Kapoor"},{"name":"Sam Thompson"},{"name":"Sebastian Mayr"}],"dependencies":{"punycode":"^1.4.1"},"deprecated":false,"description":"RFC6265 Cookies and Cookie Jar for node.js","devDependencies":{"async":"^1.4.2","string.prototype.repeat":"^0.2.0","vows":"^0.8.1"},"engines":{"node":">=0.8"},"files":["lib"],"homepage":"https://github.com/salesforce/tough-cookie","keywords":["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],"license":"BSD-3-Clause","main":"./lib/cookie","name":"tough-cookie","repository":{"type":"git","url":"git://github.com/salesforce/tough-cookie.git"},"scripts":{"suffixup":"curl -o public_suffix_list.dat https://publicsuffix.org/list/public_suffix_list.dat && ./generate-pubsuffix.js","test":"vows test/*_test.js"},"version":"2.3.3"},"node_modules/tough-cookie/lib/permuteDomain.js":"\"use strict\";var pubsuffix=require(\"./pubsuffix\");function permuteDomain(e){var r=pubsuffix.getPublicSuffix(e);if(!r)return null;if(r==e)return[e];for(var u=e.slice(0,-(r.length+1)).split(\".\").reverse(),i=r,t=[i];u.length;)i=u.shift()+\".\"+i,t.push(i);return t}exports.permuteDomain=permuteDomain;","node_modules/json-stringify-safe/stringify.js":"exports=module.exports=stringify,exports.getSerialize=serializer;function stringify(i,r,e,n){return JSON.stringify(i,serializer(r,n),e)}function serializer(i,r){var e=[],n=[];return null==r&&(r=function(i,r){return e[0]===r?\"[Circular ~]\":\"[Circular ~.\"+n.slice(0,e.indexOf(r)).join(\".\")+\"]\"}),function(l,s){if(e.length>0){var t=e.indexOf(this);~t?e.splice(t+1):e.push(this),~t?n.splice(t,1/0,l):n.push(l),~e.indexOf(s)&&(s=r.call(this,l,s))}else e.push(s);return null==i?s:i.call(this,l,s)}}","node_modules/hawk/lib/index.js":"\"use strict\";exports.error=exports.Error=require(\"boom\"),exports.sntp=require(\"sntp\"),exports.server=require(\"./server\"),exports.client=require(\"./client\"),exports.crypto=require(\"./crypto\"),exports.utils=require(\"./utils\"),exports.uri={authenticate:exports.server.authenticateBewit,getBewit:exports.client.getBewit};","node_modules/aws-sign2/index.js":"var crypto=require(\"crypto\"),parse=require(\"url\").parse,keys=[\"acl\",\"location\",\"logging\",\"notification\",\"partNumber\",\"policy\",\"requestPayment\",\"torrent\",\"uploadId\",\"uploads\",\"versionId\",\"versioning\",\"versions\",\"website\"];function authorization(e){return\"AWS \"+e.key+\":\"+sign(e)}module.exports=authorization,module.exports.authorization=authorization;function hmacSha1(e){return crypto.createHmac(\"sha1\",e.secret).update(e.message).digest(\"base64\")}module.exports.hmacSha1=hmacSha1;function sign(e){return e.message=stringToSign(e),hmacSha1(e)}module.exports.sign=sign;function signQuery(e){return e.message=queryStringToSign(e),hmacSha1(e)}module.exports.signQuery=signQuery;function stringToSign(e){var n=e.amazonHeaders||\"\";n&&(n+=\"\\n\");return[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():\"\",n+e.resource].join(\"\\n\")}module.exports.stringToSign=stringToSign;function queryStringToSign(e){return\"GET\\n\\n\\n\"+e.date+\"\\n\"+e.resource}module.exports.queryStringToSign=queryStringToSign;function canonicalizeHeaders(e){for(var n=[],r=Object.keys(e),o=0,t=r.length;o<t;++o){var i,a=e[i=r[o]];0===(i=i.toLowerCase()).indexOf(\"x-amz\")&&n.push(i+\":\"+a)}return n.sort().join(\"\\n\")}module.exports.canonicalizeHeaders=canonicalizeHeaders;function canonicalizeResource(e){var n=parse(e,!0),r=n.pathname,o=[];return Object.keys(n.query).forEach(function(e){if(~keys.indexOf(e)){var r=\"\"==n.query[e]?\"\":\"=\"+encodeURIComponent(n.query[e]);o.push(e+r)}}),r+(o.length?\"?\"+o.sort().join(\"&\"):\"\")}module.exports.canonicalizeResource=canonicalizeResource;","node_modules/aws4/aws4.js":"var aws4=exports,url=require(\"url\"),querystring=require(\"querystring\"),crypto=require(\"crypto\"),lru=require(\"./lru\"),credentialsCache=lru(1e3);function hmac(e,t,s){return crypto.createHmac(\"sha256\",e).update(t,\"utf8\").digest(s)}function hash(e,t){return crypto.createHash(\"sha256\").update(e,\"utf8\").digest(t)}function encodeRfc3986(e){return e.replace(/[!'()*]/g,function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(e,t){\"string\"==typeof e&&(e=url.parse(e));var s=e.headers=e.headers||{},i=this.matchHost(e.hostname||e.host||s.Host||s.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||i[0]||\"\",this.region=e.region||i[1]||\"us-east-1\",\"email\"===this.service&&(this.service=\"ses\"),!e.method&&e.body&&(e.method=\"POST\"),s.Host||s.host||(s.Host=e.hostname||e.host||this.createHost(),e.port&&(s.Host+=\":\"+e.port)),e.hostname||e.host||(e.hostname=s.Host||s.host),this.isCodeCommitGit=\"codecommit\"===this.service&&\"GIT\"===e.method}RequestSigner.prototype.matchHost=function(e){var t=((e||\"\").match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/)||[]).slice(1,3);return\"es\"===t[1]&&(t=t.reverse()),t},RequestSigner.prototype.isSingleRegion=function(){return[\"s3\",\"sdb\"].indexOf(this.service)>=0&&\"us-east-1\"===this.region||[\"cloudfront\",\"ls\",\"route53\",\"iam\",\"importexport\",\"sts\"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var e=this.isSingleRegion()?\"\":(\"s3\"===this.service&&\"us-east-1\"!==this.region?\"-\":\".\")+this.region;return(\"ses\"===this.service?\"email\":this.service)+e+\".amazonaws.com\"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var e,t=this.request,s=t.headers;t.signQuery?(this.parsedPath.query=e=this.parsedPath.query||{},this.credentials.sessionToken&&(e[\"X-Amz-Security-Token\"]=this.credentials.sessionToken),\"s3\"!==this.service||e[\"X-Amz-Expires\"]||(e[\"X-Amz-Expires\"]=86400),e[\"X-Amz-Date\"]?this.datetime=e[\"X-Amz-Date\"]:e[\"X-Amz-Date\"]=this.getDateTime(),e[\"X-Amz-Algorithm\"]=\"AWS4-HMAC-SHA256\",e[\"X-Amz-Credential\"]=this.credentials.accessKeyId+\"/\"+this.credentialString(),e[\"X-Amz-SignedHeaders\"]=this.signedHeaders()):(t.doNotModifyHeaders||this.isCodeCommitGit||(!t.body||s[\"Content-Type\"]||s[\"content-type\"]||(s[\"Content-Type\"]=\"application/x-www-form-urlencoded; charset=utf-8\"),!t.body||s[\"Content-Length\"]||s[\"content-length\"]||(s[\"Content-Length\"]=Buffer.byteLength(t.body)),!this.credentials.sessionToken||s[\"X-Amz-Security-Token\"]||s[\"x-amz-security-token\"]||(s[\"X-Amz-Security-Token\"]=this.credentials.sessionToken),\"s3\"!==this.service||s[\"X-Amz-Content-Sha256\"]||s[\"x-amz-content-sha256\"]||(s[\"X-Amz-Content-Sha256\"]=hash(this.request.body||\"\",\"hex\")),s[\"X-Amz-Date\"]||s[\"x-amz-date\"]?this.datetime=s[\"X-Amz-Date\"]||s[\"x-amz-date\"]:s[\"X-Amz-Date\"]=this.getDateTime()),delete s.Authorization,delete s.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query[\"X-Amz-Signature\"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\"),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return[\"AWS4-HMAC-SHA256 Credential=\"+this.credentials.accessKeyId+\"/\"+this.credentialString(),\"SignedHeaders=\"+this.signedHeaders(),\"Signature=\"+this.signature()].join(\", \")},RequestSigner.prototype.signature=function(){var e=this.getDate(),t=[this.credentials.secretAccessKey,e,this.region,this.service].join(),s=credentialsCache.get(t);return s||(s=hmac(hmac(hmac(hmac(\"AWS4\"+this.credentials.secretAccessKey,e),this.region),this.service),\"aws4_request\"),credentialsCache.set(t,s)),hmac(s,this.stringToSign(),\"hex\")},RequestSigner.prototype.stringToSign=function(){return[\"AWS4-HMAC-SHA256\",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),\"hex\")].join(\"\\n\")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,s=this.parsedPath.query,i=this.request.headers,r=\"\",n=\"s3\"!==this.service,a=\"s3\"===this.service||this.request.doNotEncodePath,o=\"s3\"===this.service,h=\"s3\"===this.service;return e=\"s3\"===this.service&&this.request.signQuery?\"UNSIGNED-PAYLOAD\":this.isCodeCommitGit?\"\":i[\"X-Amz-Content-Sha256\"]||i[\"x-amz-content-sha256\"]||hash(this.request.body||\"\",\"hex\"),s&&(r=encodeRfc3986(querystring.stringify(Object.keys(s).sort().reduce(function(e,t){return t?(e[t]=Array.isArray(s[t])?h?s[t][0]:s[t].slice().sort():s[t],e):e},{})))),\"/\"!==t&&(n&&(t=t.replace(/\\/{2,}/g,\"/\")),\"/\"!==(t=t.split(\"/\").reduce(function(e,t){return n&&\"..\"===t?e.pop():n&&\".\"===t||(a&&(t=querystring.unescape(t)),e.push(encodeRfc3986(querystring.escape(t)))),e},[]).join(\"/\"))[0]&&(t=\"/\"+t),o&&(t=t.replace(/%2F/g,\"/\"))),[this.request.method||\"GET\",t,r,this.canonicalHeaders()+\"\\n\",this.signedHeaders(),e].join(\"\\n\")},RequestSigner.prototype.canonicalHeaders=function(){var e=this.request.headers;return Object.keys(e).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}).map(function(t){return t.toLowerCase()+\":\"+function(e){return e.toString().trim().replace(/\\s+/g,\" \")}(e[t])}).join(\"\\n\")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(e){return e.toLowerCase()}).sort().join(\";\")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,\"aws4_request\"].join(\"/\")},RequestSigner.prototype.defaultCredentials=function(){var e=process.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var e=this.request.path||\"/\",t=e.indexOf(\"?\"),s=null;t>=0&&(s=querystring.parse(e.slice(t+1)),e=e.slice(0,t)),/[^0-9A-Za-z!'()*\\-._~%/]/.test(e)&&(e=e.split(\"/\").map(function(e){return querystring.escape(querystring.unescape(e))}).join(\"/\")),this.parsedPath={path:e,query:s}},RequestSigner.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[\"\"]&&delete t[\"\"],e+\"?\"+encodeRfc3986(querystring.stringify(t))):e},aws4.RequestSigner=RequestSigner,aws4.sign=function(e,t){return new RequestSigner(e,t).sign()};","node_modules/http-signature/lib/index.js":"var parser=require(\"./parser\"),signer=require(\"./signer\"),verify=require(\"./verify\"),utils=require(\"./utils\");module.exports={parse:parser.parseRequest,parseRequest:parser.parseRequest,sign:signer.signRequest,signRequest:signer.signRequest,createSigner:signer.createSigner,isSigner:signer.isSigner,sshKeyToPEM:utils.sshKeyToPEM,sshKeyFingerprint:utils.fingerprint,pemToRsaSSHKey:utils.pemToRsaSSHKey,verify:verify.verifySignature,verifySignature:verify.verifySignature,verifyHMAC:verify.verifyHMAC};","node_modules/stringstream/stringstream.js":"var util=require(\"util\"),Stream=require(\"stream\"),StringDecoder=require(\"string_decoder\").StringDecoder;module.exports=StringStream,module.exports.AlignedStringDecoder=AlignedStringDecoder;function StringStream(t,e){if(!(this instanceof StringStream))return new StringStream(t,e);Stream.call(this),null==t&&(t=\"utf8\"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==e?t:e,this.fromEncoding=null==e?\"\":t,this.decoder=new AlignedStringDecoder(this.toEncoding)}util.inherits(StringStream,Stream),StringStream.prototype.write=function(t){if(!this.writable){var e=new Error(\"stream not writable\");return e.code=\"EPIPE\",this.emit(\"error\",e),!1}this.fromEncoding&&(Buffer.isBuffer(t)&&(t=t.toString()),t=new Buffer(t,this.fromEncoding));var i=this.decoder.write(t);return i.length&&this.emit(\"data\",i),!this.paused},StringStream.prototype.flush=function(){if(this.decoder.flush){var t=this.decoder.flush();t.length&&this.emit(\"data\",t)}},StringStream.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit(\"end\"),this.writable=this.readable=!1,this.destroy())},StringStream.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit(\"close\")},StringStream.prototype.pause=function(){this.paused=!0},StringStream.prototype.resume=function(){this.paused&&this.emit(\"drain\"),this.paused=!1};function AlignedStringDecoder(t){switch(StringDecoder.call(this,t),this.encoding){case\"base64\":this.write=alignedWrite,this.alignedBuffer=new Buffer(3),this.alignedBytes=0}}util.inherits(AlignedStringDecoder,StringDecoder),AlignedStringDecoder.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return\"\";var t=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,t};function alignedWrite(t){var e=(this.alignedBytes+t.length)%this.alignedBuffer.length;if(!e&&!this.alignedBytes)return t.toString(this.encoding);var i=new Buffer(this.alignedBytes+t.length-e);return this.alignedBuffer.copy(i,0,0,this.alignedBytes),t.copy(i,this.alignedBytes,0,t.length-e),t.copy(this.alignedBuffer,0,t.length-e,t.length),this.alignedBytes=e,i.toString(this.encoding)}","node_modules/caseless/index.js":"function Caseless(e){this.dict=e||{}}Caseless.prototype.set=function(e,t,s){if(\"object\"!=typeof e){void 0===s&&(s=!0);var r=this.has(e);return!s&&r?this.dict[r]=this.dict[r]+\",\"+t:this.dict[r||e]=t,r}for(var i in e)this.set(i,e[i],t)},Caseless.prototype.has=function(e){for(var t=Object.keys(this.dict),s=(e=e.toLowerCase(),0);s<t.length;s++)if(t[s].toLowerCase()===e)return t[s];return!1},Caseless.prototype.get=function(e){e=e.toLowerCase();var t,s,r=this.dict;return Object.keys(r).forEach(function(i){s=i.toLowerCase(),e===s&&(t=r[i])}),t},Caseless.prototype.swap=function(e){var t=this.has(e);if(t!==e){if(!t)throw new Error('There is no header than matches \"'+e+'\"');this.dict[e]=this.dict[t],delete this.dict[t]}},Caseless.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]},module.exports=function(e){return new Caseless(e)},module.exports.httpify=function(e,t){var s=new Caseless(t);return e.setHeader=function(e,t,r){if(void 0!==t)return s.set(e,t,r)},e.hasHeader=function(e){return s.has(e)},e.getHeader=function(e){return s.get(e)},e.removeHeader=function(e){return s.del(e)},e.headers=s.dict,s};","node_modules/forever-agent/index.js":"module.exports=ForeverAgent,ForeverAgent.SSL=ForeverAgentSSL;var util=require(\"util\"),Agent=require(\"http\").Agent,net=require(\"net\"),tls=require(\"tls\"),AgentSSL=require(\"https\").Agent;function getConnectionName(e,t){return\"string\"==typeof e?e+\":\"+t:e.host+\":\"+e.port+\":\"+(e.localAddress?e.localAddress+\":\":\":\")}function ForeverAgent(e){var t=this;t.options=e||{},t.requests={},t.sockets={},t.freeSockets={},t.maxSockets=t.options.maxSockets||Agent.defaultMaxSockets,t.minSockets=t.options.minSockets||ForeverAgent.defaultMinSockets,t.on(\"free\",function(e,o,r){var s=getConnectionName(o,r);if(t.requests[s]&&t.requests[s].length)t.requests[s].shift().onSocket(e);else if(t.sockets[s].length<t.minSockets){t.freeSockets[s]||(t.freeSockets[s]=[]),t.freeSockets[s].push(e);var n=function(){e.destroy()};e._onIdleError=n,e.on(\"error\",n)}else e.destroy()})}util.inherits(ForeverAgent,Agent),ForeverAgent.defaultMinSockets=5,ForeverAgent.prototype.createConnection=net.createConnection,ForeverAgent.prototype.addRequestNoreuse=Agent.prototype.addRequest,ForeverAgent.prototype.addRequest=function(e,t,o){var r=getConnectionName(t,o);if(\"string\"!=typeof t){var s=t;o=s.port,t=s.host}if(this.freeSockets[r]&&this.freeSockets[r].length>0&&!e.useChunkedEncodingByDefault){var n=this.freeSockets[r].pop();n.removeListener(\"error\",n._onIdleError),delete n._onIdleError,e._reusedSocket=!0,e.onSocket(n)}else this.addRequestNoreuse(e,t,o)},ForeverAgent.prototype.removeSocket=function(e,t,o,r){if(this.sockets[t]){-1!==(s=this.sockets[t].indexOf(e))&&this.sockets[t].splice(s,1)}else this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);if(this.freeSockets[t]){var s;-1!==(s=this.freeSockets[t].indexOf(e))&&(this.freeSockets[t].splice(s,1),0===this.freeSockets[t].length&&delete this.freeSockets[t])}this.requests[t]&&this.requests[t].length&&this.createSocket(t,o,r).emit(\"free\")};function ForeverAgentSSL(e){ForeverAgent.call(this,e)}util.inherits(ForeverAgentSSL,ForeverAgent),ForeverAgentSSL.prototype.createConnection=createConnectionSSL,ForeverAgentSSL.prototype.addRequestNoreuse=AgentSSL.prototype.addRequest;function createConnectionSSL(e,t,o){return o=\"object\"==typeof e?e:\"object\"==typeof t?t:\"object\"==typeof o?o:{},\"number\"==typeof e&&(o.port=e),\"string\"==typeof t&&(o.host=t),tls.connect(o)}","node_modules/form-data/lib/form_data.js":"var CombinedStream=require(\"combined-stream\"),util=require(\"util\"),path=require(\"path\"),http=require(\"http\"),https=require(\"https\"),parseUrl=require(\"url\").parse,fs=require(\"fs\"),mime=require(\"mime-types\"),asynckit=require(\"asynckit\"),populate=require(\"./populate.js\");module.exports=FormData,util.inherits(FormData,CombinedStream);function FormData(t){if(!(this instanceof FormData))return new FormData;this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],CombinedStream.call(this),t=t||{};for(var e in t)this[e]=t[e]}FormData.LINE_BREAK=\"\\r\\n\",FormData.DEFAULT_CONTENT_TYPE=\"application/octet-stream\",FormData.prototype.append=function(t,e,r){\"string\"==typeof(r=r||{})&&(r={filename:r});var a=CombinedStream.prototype.append.bind(this);if(\"number\"==typeof e&&(e=\"\"+e),util.isArray(e))this._error(new Error(\"Arrays are not supported.\"));else{var o=this._multiPartHeader(t,e,r),n=this._multiPartFooter();a(o),a(e),a(n),this._trackLength(o,e,r)}},FormData.prototype._trackLength=function(t,e,r){var a=0;null!=r.knownLength?a+=+r.knownLength:Buffer.isBuffer(e)?a=e.length:\"string\"==typeof e&&(a=Buffer.byteLength(e)),this._valueLength+=a,this._overheadLength+=Buffer.byteLength(t)+FormData.LINE_BREAK.length,e&&(e.path||e.readable&&e.hasOwnProperty(\"httpVersion\"))&&(r.knownLength||this._valuesToMeasure.push(e))},FormData.prototype._lengthRetriever=function(t,e){t.hasOwnProperty(\"fd\")?void 0!=t.end&&t.end!=1/0&&void 0!=t.start?e(null,t.end+1-(t.start?t.start:0)):fs.stat(t.path,function(r,a){var o;r?e(r):(o=a.size-(t.start?t.start:0),e(null,o))}):t.hasOwnProperty(\"httpVersion\")?e(null,+t.headers[\"content-length\"]):t.hasOwnProperty(\"httpModule\")?(t.on(\"response\",function(r){t.pause(),e(null,+r.headers[\"content-length\"])}),t.resume()):e(\"Unknown stream\")},FormData.prototype._multiPartHeader=function(t,e,r){if(\"string\"==typeof r.header)return r.header;var a=this._getContentDisposition(e,r),o=this._getContentType(e,r),n=\"\",i={\"Content-Disposition\":[\"form-data\",'name=\"'+t+'\"'].concat(a||[]),\"Content-Type\":[].concat(o||[])};\"object\"==typeof r.header&&populate(i,r.header);var s;for(var h in i)i.hasOwnProperty(h)&&null!=(s=i[h])&&(Array.isArray(s)||(s=[s]),s.length&&(n+=h+\": \"+s.join(\"; \")+FormData.LINE_BREAK));return\"--\"+this.getBoundary()+FormData.LINE_BREAK+n+FormData.LINE_BREAK},FormData.prototype._getContentDisposition=function(t,e){var r,a;return\"string\"==typeof e.filepath?r=path.normalize(e.filepath).replace(/\\\\/g,\"/\"):e.filename||t.name||t.path?r=path.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty(\"httpVersion\")&&(r=path.basename(t.client._httpMessage.path)),r&&(a='filename=\"'+r+'\"'),a},FormData.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=mime.lookup(t.name)),!r&&t.path&&(r=mime.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty(\"httpVersion\")&&(r=t.headers[\"content-type\"]),r||!e.filepath&&!e.filename||(r=mime.lookup(e.filepath||e.filename)),r||\"object\"!=typeof t||(r=FormData.DEFAULT_CONTENT_TYPE),r},FormData.prototype._multiPartFooter=function(){return function(t){var e=FormData.LINE_BREAK;0===this._streams.length&&(e+=this._lastBoundary()),t(e)}.bind(this)},FormData.prototype._lastBoundary=function(){return\"--\"+this.getBoundary()+\"--\"+FormData.LINE_BREAK},FormData.prototype.getHeaders=function(t){var e,r={\"content-type\":\"multipart/form-data; boundary=\"+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r},FormData.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},FormData.prototype._generateBoundary=function(){for(var t=\"--------------------------\",e=0;e<24;e++)t+=Math.floor(10*Math.random()).toString(16);this._boundary=t},FormData.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error(\"Cannot calculate proper length in synchronous way.\")),t},FormData.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t},FormData.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;this._streams.length&&(e+=this._lastBoundary().length),this._valuesToMeasure.length?asynckit.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,a){r?t(r):(a.forEach(function(t){e+=t}),t(null,e))}):process.nextTick(t.bind(this,null,e))},FormData.prototype.submit=function(t,e){var r,a,o={method:\"post\"};return\"string\"==typeof t?(t=parseUrl(t),a=populate({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},o)):(a=populate(t,o)).port||(a.port=\"https:\"==a.protocol?443:80),a.headers=this.getHeaders(t.headers),r=\"https:\"==a.protocol?https.request(a):http.request(a),this.getLength(function(t,a){t?this._error(t):(r.setHeader(\"Content-Length\",a),this.pipe(r),e&&(r.on(\"error\",e),r.on(\"response\",e.bind(this,null))))}.bind(this)),r},FormData.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit(\"error\",t))},FormData.prototype.toString=function(){return\"[object FormData]\"};","node_modules/isstream/isstream.js":"var stream=require(\"stream\");function isStream(e){return e instanceof stream.Stream}function isReadable(e){return isStream(e)&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState}function isWritable(e){return isStream(e)&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState}function isDuplex(e){return isReadable(e)&&isWritable(e)}module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=isDuplex;","node_modules/is-typedarray/index.js":"module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={\"[object Int8Array]\":!0,\"[object Int16Array]\":!0,\"[object Int32Array]\":!0,\"[object Uint8Array]\":!0,\"[object Uint8ClampedArray]\":!0,\"[object Uint16Array]\":!0,\"[object Uint32Array]\":!0,\"[object Float32Array]\":!0,\"[object Float64Array]\":!0};function isTypedArray(r){return isStrictTypedArray(r)||isLooseTypedArray(r)}function isStrictTypedArray(r){return r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function isLooseTypedArray(r){return names[toString.call(r)]}","node_modules/request/lib/getProxyFromURI.js":"\"use strict\";function formatHostname(o){return o.replace(/^\\.*/,\".\").toLowerCase()}function parseNoProxyZone(o){var r=(o=o.trim().toLowerCase()).split(\":\",2);return{hostname:formatHostname(r[0]),port:r[1],hasPort:o.indexOf(\":\")>-1}}function uriInNoProxy(o,r){var t=o.port||(\"https:\"===o.protocol?\"443\":\"80\"),e=formatHostname(o.hostname);return r.split(\",\").map(parseNoProxyZone).some(function(o){var r=e.indexOf(o.hostname),n=r>-1&&r===e.length-o.hostname.length;return o.hasPort?t===o.port&&n:n})}function getProxyFromURI(o){var r=process.env.NO_PROXY||process.env.no_proxy||\"\";return\"*\"===r?null:\"\"!==r&&uriInNoProxy(o,r)?null:\"http:\"===o.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:\"https:\"===o.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}module.exports=getProxyFromURI;","node_modules/request/lib/querystring.js":"\"use strict\";var qs=require(\"qs\"),querystring=require(\"querystring\");function Querystring(i){this.request=i,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}Querystring.prototype.init=function(i){this.lib||(this.useQuerystring=i.useQuerystring,this.lib=this.useQuerystring?querystring:qs,this.parseOptions=i.qsParseOptions||{},this.stringifyOptions=i.qsStringifyOptions||{})},Querystring.prototype.stringify=function(i){return this.useQuerystring?this.rfc3986(this.lib.stringify(i,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(i,this.stringifyOptions)},Querystring.prototype.parse=function(i){return this.useQuerystring?this.lib.parse(i,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(i,this.parseOptions)},Querystring.prototype.rfc3986=function(i){return i.replace(/[!'()*]/g,function(i){return\"%\"+i.charCodeAt(0).toString(16).toUpperCase()})},Querystring.prototype.unescape=querystring.unescape,exports.Querystring=Querystring;","node_modules/request/lib/har.js":"\"use strict\";var fs=require(\"fs\"),qs=require(\"querystring\"),validate=require(\"har-validator\"),extend=require(\"extend\");function Har(e){this.request=e}Har.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var a=[e[t.name],t.value];return e[t.name]=a,e},Har.prototype.prep=function(e){if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var t=e.cookies.map(function(e){return e.name+\"=\"+e.value});t.length&&(e.headersObj.cookie=t.join(\"; \"))}function a(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(a([\"multipart/mixed\",\"multipart/related\",\"multipart/form-data\",\"multipart/alternative\"]))e.postData.mimeType=\"multipart/form-data\";else if(a([\"application/x-www-form-urlencoded\"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=qs.stringify(e.postData.paramsObj)):e.postData.text=\"\";else if(a([\"text/json\",\"text/x-json\",\"application/json\",\"application/x-json\"])&&(e.postData.mimeType=\"application/json\",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(t){this.request.debug(t),e.postData.mimeType=\"text/plain\"}return e},Har.prototype.options=function(e){if(!e.har)return e;var t={};if(extend(t,e.har),t.log&&t.log.entries&&(t=t.log.entries[0]),t.url=t.url||e.url||e.uri||e.baseUrl||\"/\",t.httpVersion=t.httpVersion||\"HTTP/1.1\",t.queryString=t.queryString||[],t.headers=t.headers||[],t.cookies=t.cookies||[],t.postData=t.postData||{},t.postData.mimeType=t.postData.mimeType||\"application/octet-stream\",t.bodySize=0,t.headersSize=0,t.postData.size=0,!validate.request(t))return e;var a=this.prep(t);a.url&&(e.url=a.url),a.method&&(e.method=a.method),Object.keys(a.queryObj).length&&(e.qs=a.queryObj),Object.keys(a.headersObj).length&&(e.headers=a.headersObj);function r(e){return 0===a.postData.mimeType.indexOf(e)}return r(\"application/x-www-form-urlencoded\")?e.form=a.postData.paramsObj:r(\"application/json\")?a.postData.jsonObj&&(e.body=a.postData.jsonObj,e.json=!0):r(\"multipart/form-data\")?(e.formData={},a.postData.params.forEach(function(t){var a={};t.fileName||t.fileName||t.contentType?(t.fileName&&!t.value?a.value=fs.createReadStream(t.fileName):t.value&&(a.value=t.value),t.fileName&&(a.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),e.formData[t.name]=a):e.formData[t.name]=t.value})):a.postData.text&&(e.body=a.postData.text),e},exports.Har=Har;","node_modules/request/lib/auth.js":"\"use strict\";var caseless=require(\"caseless\"),uuid=require(\"uuid\"),helpers=require(\"./helpers\"),md5=helpers.md5,toBase64=helpers.toBase64;function Auth(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}Auth.prototype.basic=function(e,t,s){(\"string\"!=typeof e||void 0!==t&&\"string\"!=typeof t)&&this.request.emit(\"error\",new Error(\"auth() received invalid user or password\")),this.user=e,this.pass=t,this.hasAuth=!0;if(s||void 0===s){var r=\"Basic \"+toBase64(e+\":\"+(t||\"\"));return this.sentAuth=!0,r}},Auth.prototype.bearer=function(e,t){if(this.bearerToken=e,this.hasAuth=!0,t||void 0===t){\"function\"==typeof e&&(e=e());var s=\"Bearer \"+(e||\"\");return this.sentAuth=!0,s}},Auth.prototype.digest=function(e,t,s){for(var r={},i=/([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;;){var h=i.exec(s);if(!h)break;r[h[1]]=h[2]||h[3]}var u=/(^|,)\\s*auth\\s*($|,)/.test(r.qop)&&\"auth\",a=u&&\"00000001\",o=u&&uuid().replace(/-/g,\"\"),n=function(e,t,s,r,i,h){var u=md5(t+\":\"+s+\":\"+r);return e&&\"md5-sess\"===e.toLowerCase()?md5(u+\":\"+i+\":\"+h):u}(r.algorithm,this.user,r.realm,this.pass,r.nonce,o),c=md5(e+\":\"+t),p=md5(u?n+\":\"+r.nonce+\":\"+a+\":\"+o+\":\"+u+\":\"+c:n+\":\"+r.nonce+\":\"+c),d={username:this.user,realm:r.realm,nonce:r.nonce,uri:t,qop:u,response:p,nc:a,cnonce:o,algorithm:r.algorithm,opaque:r.opaque};s=[];for(var l in d)d[l]&&(\"qop\"===l||\"nc\"===l||\"algorithm\"===l?s.push(l+\"=\"+d[l]):s.push(l+'=\"'+d[l]+'\"'));return s=\"Digest \"+s.join(\", \"),this.sentAuth=!0,s},Auth.prototype.onRequest=function(e,t,s,r){var i,h=this.request;void 0===r&&void 0===e?this.request.emit(\"error\",new Error(\"no auth mechanism defined\")):i=void 0!==r?this.bearer(r,s):this.basic(e,t,s),i&&h.setHeader(\"authorization\",i)},Auth.prototype.onResponse=function(e){var t=this.request;if(!this.hasAuth||this.sentAuth)return null;var s=caseless(e.headers).get(\"www-authenticate\"),r=s&&s.split(\" \")[0].toLowerCase();switch(t.debug(\"reauth\",r),r){case\"basic\":return this.basic(this.user,this.pass,!0);case\"bearer\":return this.bearer(this.bearerToken,!0);case\"digest\":return this.digest(t.method,t.path,s)}},exports.Auth=Auth;","node_modules/request/lib/oauth.js":"\"use strict\";var url=require(\"url\"),qs=require(\"qs\"),caseless=require(\"caseless\"),uuid=require(\"uuid\"),oauth=require(\"oauth-sign\"),crypto=require(\"crypto\"),Buffer=require(\"safe-buffer\").Buffer;function OAuth(e){this.request=e,this.params=null}OAuth.prototype.buildParams=function(e,t,r,a,o,s){var u={};for(var h in e)u[\"oauth_\"+h]=e[h];u.oauth_version||(u.oauth_version=\"1.0\"),u.oauth_timestamp||(u.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),u.oauth_nonce||(u.oauth_nonce=uuid().replace(/-/g,\"\")),u.oauth_signature_method||(u.oauth_signature_method=\"HMAC-SHA1\");var i=u.oauth_consumer_secret||u.oauth_private_key;delete u.oauth_consumer_secret,delete u.oauth_private_key;var n=u.oauth_token_secret;delete u.oauth_token_secret;var c=u.oauth_realm;delete u.oauth_realm,delete u.oauth_transport_method;var d=t.protocol+\"//\"+t.host+t.pathname,_=s.parse([].concat(a,o,s.stringify(u)).join(\"&\"));return u.oauth_signature=oauth.sign(u.oauth_signature_method,r,d,_,i,n),c&&(u.realm=c),u},OAuth.prototype.buildBodyHash=function(e,t){[\"HMAC-SHA1\",\"RSA-SHA1\"].indexOf(e.signature_method||\"HMAC-SHA1\")<0&&this.request.emit(\"error\",new Error(\"oauth: \"+e.signature_method+\" signature_method not supported with body_hash signing.\"));var r=crypto.createHash(\"sha1\");r.update(t||\"\");var a=r.digest(\"hex\");return Buffer.from(a).toString(\"base64\")},OAuth.prototype.concatParams=function(e,t,r){r=r||\"\";var a=Object.keys(e).filter(function(e){return\"realm\"!==e&&\"oauth_signature\"!==e}).sort();return e.realm&&a.splice(0,0,\"realm\"),a.push(\"oauth_signature\"),a.map(function(t){return t+\"=\"+r+oauth.rfc3986(e[t])+r}).join(t)},OAuth.prototype.onRequest=function(e){this.params=e;var t,r,a=this.request.uri||{},o=this.request.method||\"\",s=caseless(this.request.headers),u=this.request.body||\"\",h=this.request.qsLib||qs,i=s.get(\"content-type\")||\"\",n=\"application/x-www-form-urlencoded\",c=e.transport_method||\"header\";i.slice(0,n.length)===n&&(i=n,t=u),a.query&&(r=a.query),\"body\"!==c||\"POST\"===o&&i===n||this.request.emit(\"error\",new Error(\"oauth: transport_method of body requires POST and content-type \"+n)),t||\"boolean\"!=typeof e.body_hash||(e.body_hash=this.buildBodyHash(e,this.request.body.toString()));var d=this.buildParams(e,a,o,r,t,h);switch(c){case\"header\":this.request.setHeader(\"Authorization\",\"OAuth \"+this.concatParams(d,\",\",'\"'));break;case\"query\":var _=this.request.uri.href+=(r?\"&\":\"?\")+this.concatParams(d,\"&\");this.request.uri=url.parse(_),this.request.path=this.request.uri.path;break;case\"body\":this.request.body=(t?t+\"&\":\"\")+this.concatParams(d,\"&\");break;default:this.request.emit(\"error\",new Error(\"oauth: transport_method invalid\"))}},exports.OAuth=OAuth;","node_modules/request/lib/multipart.js":"\"use strict\";var uuid=require(\"uuid\"),CombinedStream=require(\"combined-stream\"),isstream=require(\"isstream\"),Buffer=require(\"safe-buffer\").Buffer;function Multipart(e){this.request=e,this.boundary=uuid(),this.chunked=!1,this.body=null}Multipart.prototype.isChunked=function(e){var t=this,r=!1,n=e.data||e;return n.forEach||t.request.emit(\"error\",new Error(\"Argument error, options.multipart.\")),void 0!==e.chunked&&(r=e.chunked),\"chunked\"===t.request.getHeader(\"transfer-encoding\")&&(r=!0),r||n.forEach(function(e){void 0===e.body&&t.request.emit(\"error\",new Error(\"Body attribute missing in multipart.\")),isstream(e.body)&&(r=!0)}),r},Multipart.prototype.setHeaders=function(e){e&&!this.request.hasHeader(\"transfer-encoding\")&&this.request.setHeader(\"transfer-encoding\",\"chunked\");var t=this.request.getHeader(\"content-type\");t&&-1!==t.indexOf(\"multipart\")?-1!==t.indexOf(\"boundary\")?this.boundary=t.replace(/.*boundary=([^\\s;]+).*/,\"$1\"):this.request.setHeader(\"content-type\",t+\"; boundary=\"+this.boundary):this.request.setHeader(\"content-type\",\"multipart/related; boundary=\"+this.boundary)},Multipart.prototype.build=function(e,t){var r=this,n=t?new CombinedStream:[];function u(e){return\"number\"==typeof e&&(e=e.toString()),t?n.append(e):n.push(Buffer.from(e))}return r.request.preambleCRLF&&u(\"\\r\\n\"),e.forEach(function(e){var t=\"--\"+r.boundary+\"\\r\\n\";Object.keys(e).forEach(function(r){\"body\"!==r&&(t+=r+\": \"+e[r]+\"\\r\\n\")}),u(t+=\"\\r\\n\"),u(e.body),u(\"\\r\\n\")}),u(\"--\"+r.boundary+\"--\"),r.request.postambleCRLF&&u(\"\\r\\n\"),n},Multipart.prototype.onRequest=function(e){var t=this.isChunked(e),r=e.data||e;this.setHeaders(t),this.chunked=t,this.body=this.build(r,t)},exports.Multipart=Multipart;","node_modules/request/lib/redirect.js":"\"use strict\";var url=require(\"url\"),isUrl=/^https?:/;function Redirect(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}Redirect.prototype.onRequest=function(e){void 0!==e.maxRedirects&&(this.maxRedirects=e.maxRedirects),\"function\"==typeof e.followRedirect&&(this.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(this.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(this.followAllRedirects=e.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==e.removeRefererHeader&&(this.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(this.followOriginalHttpMethod=e.followOriginalHttpMethod)},Redirect.prototype.redirectTo=function(e){var t=this.request,r=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has(\"location\")){var o=e.caseless.get(\"location\");if(t.debug(\"redirect\",o),this.followAllRedirects)r=o;else if(this.followRedirects)switch(t.method){case\"PATCH\":case\"PUT\":case\"POST\":case\"DELETE\":break;default:r=o}}else if(401===e.statusCode){var i=t._auth.onResponse(e);i&&(t.setHeader(\"authorization\",i),r=t.uri)}return r},Redirect.prototype.onResponse=function(e){var t=this.request,r=this.redirectTo(e);if(!r||!this.allowRedirect.call(t,e))return!1;if(t.debug(\"redirect to\",r),e.resume&&e.resume(),this.redirectsFollowed>=this.maxRedirects)return t.emit(\"error\",new Error(\"Exceeded maxRedirects. Probably stuck in a redirect loop \"+t.uri.href)),!1;this.redirectsFollowed+=1,isUrl.test(r)||(r=url.resolve(t.uri.href,r));var o=t.uri;return t.uri=url.parse(r),t.uri.protocol!==o.protocol&&delete t.agent,this.redirects.push({statusCode:e.statusCode,redirectUri:r}),this.followAllRedirects&&\"HEAD\"!==t.method&&401!==e.statusCode&&307!==e.statusCode&&(t.method=this.followOriginalHttpMethod?t.method:\"GET\"),delete t.src,delete t.req,delete t._started,401!==e.statusCode&&307!==e.statusCode&&(delete t.body,delete t._form,t.headers&&(t.removeHeader(\"host\"),t.removeHeader(\"content-type\"),t.removeHeader(\"content-length\"),t.uri.hostname!==t.originalHost.split(\":\")[0]&&t.removeHeader(\"authorization\"))),this.removeRefererHeader||t.setHeader(\"referer\",o.href),t.emit(\"redirect\"),t.init(),!0},exports.Redirect=Redirect;","node_modules/request/lib/tunnel.js":"\"use strict\";var url=require(\"url\"),tunnel=require(\"tunnel-agent\"),defaultProxyHeaderWhiteList=[\"accept\",\"accept-charset\",\"accept-encoding\",\"accept-language\",\"accept-ranges\",\"cache-control\",\"content-encoding\",\"content-language\",\"content-location\",\"content-md5\",\"content-range\",\"content-type\",\"connection\",\"date\",\"expect\",\"max-forwards\",\"pragma\",\"referer\",\"te\",\"user-agent\",\"via\"],defaultProxyHeaderExclusiveList=[\"proxy-authorization\"];function constructProxyHost(e){var t=e.port,r=e.protocol,n=e.hostname+\":\";return n+=t||(\"https:\"===r?\"443\":\"80\")}function constructProxyHeaderWhiteList(e,t){var r=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return r[e.toLowerCase()]}).reduce(function(t,r){return t[r]=e[r],t},{})}function constructTunnelOptions(e,t){var r=e.proxy;return{proxy:{host:r.hostname,port:+r.port,proxyAuth:r.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol}}function constructTunnelFnName(e,t){return[\"https:\"===e.protocol?\"https\":\"http\",\"https:\"===t.protocol?\"Https\":\"Http\"].join(\"Over\")}function getTunnelFn(e){var t=constructTunnelFnName(e.uri,e.proxy);return tunnel[t]}function Tunnel(e){this.request=e,this.proxyHeaderWhiteList=defaultProxyHeaderWhiteList,this.proxyHeaderExclusiveList=[],void 0!==e.tunnel&&(this.tunnelOverride=e.tunnel)}Tunnel.prototype.isEnabled=function(){var e=this.request;return void 0!==this.tunnelOverride?this.tunnelOverride:\"https:\"===e.uri.protocol},Tunnel.prototype.setup=function(e){var t=this.request;if(e=e||{},\"string\"==typeof t.proxy&&(t.proxy=url.parse(t.proxy)),!t.proxy||!t.tunnel)return!1;e.proxyHeaderWhiteList&&(this.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(this.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var r=this.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList),n=this.proxyHeaderWhiteList.concat(r),o=constructProxyHeaderWhiteList(t.headers,n);o.host=constructProxyHost(t.uri),r.forEach(t.removeHeader,t);var s=getTunnelFn(t),u=constructTunnelOptions(t,o);return t.agent=s(u),!0},Tunnel.defaultProxyHeaderWhiteList=defaultProxyHeaderWhiteList,Tunnel.defaultProxyHeaderExclusiveList=defaultProxyHeaderExclusiveList,exports.Tunnel=Tunnel;","node_modules/performance-now/lib/performance-now.js":"(function(){var e,n,r,o,t,u;\"undefined\"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:\"undefined\"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-t)/1e6},n=process.hrtime,o=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})(),u=1e9*process.uptime(),t=o-u):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);","node_modules/boom/lib/index.js":"\"use strict\";const Hoek=require(\"hoek\"),internals={STATUS_CODES:Object.setPrototypeOf({100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Moved Temporarily\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",307:\"Temporary Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Time-out\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Request Entity Too Large\",414:\"Request-URI Too Large\",415:\"Unsupported Media Type\",416:\"Requested Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Time-out\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"},null)};exports.boomify=function(e,t){return Hoek.assert(e instanceof Error,\"Cannot wrap non-Error object\"),t=t||{},e.isBoom?!1===t.override||!t.statusCode&&!t.message?e:internals.initialize(e,t.statusCode||e.output.statusCode,t.message):internals.initialize(e,t.statusCode||500,t.message)},exports.wrap=function(e,t,r){return Hoek.assert(e instanceof Error,\"Cannot wrap non-Error object\"),Hoek.assert(!e.isBoom||!t&&!r,\"Cannot provide statusCode or message with boom error\"),e.isBoom?e:internals.initialize(e,t||500,r)},exports.create=function(e,t,r){return internals.create(e,t,r,exports.create)},internals.create=function(e,t,r,o){if(t instanceof Error)return r&&(t.data=r),exports.wrap(t,e);const n=new Error(t||void 0);return Error.captureStackTrace(n,o),n.data=r||null,internals.initialize(n,e),n.typeof=o,n},internals.initialize=function(e,t,r){const o=parseInt(t,10);return Hoek.assert(!isNaN(o)&&o>=400,\"First argument must be a number (400+):\",t),e.isBoom=!0,e.isServer=o>=500,e.hasOwnProperty(\"data\")||(e.data=null),e.output={statusCode:o,payload:{},headers:{}},e.reformat=internals.reformat,r||e.message||(e.reformat(),r=e.output.payload.error),r&&(e.message=r+(e.message?\": \"+e.message:\"\"),e.output.payload.message=e.message),e.reformat(),e},internals.reformat=function(){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=internals.STATUS_CODES[this.output.statusCode]||\"Unknown\",500===this.output.statusCode?this.output.payload.message=\"An internal server error occurred\":this.message&&(this.output.payload.message=this.message)},exports.badRequest=function(e,t){return internals.create(400,e,t,exports.badRequest)},exports.unauthorized=function(e,t,r){const o=internals.create(401,e,void 0,exports.unauthorized);if(!t)return o;let n=\"\";if(\"string\"==typeof t){if(n=t,(r||e)&&(o.output.payload.attributes={}),r)if(\"string\"==typeof r)n=n+\" \"+Hoek.escapeHeaderAttribute(r),o.output.payload.attributes=r;else{const e=Object.keys(r);for(let t=0;t<e.length;++t){const a=e[t];t&&(n+=\",\");let s=r[a];null!==s&&void 0!==s||(s=\"\"),n=n+\" \"+a+'=\"'+Hoek.escapeHeaderAttribute(s.toString())+'\"',o.output.payload.attributes[a]=s}}e?(r&&(n+=\",\"),n=n+' error=\"'+Hoek.escapeHeaderAttribute(e)+'\"',o.output.payload.attributes.error=e):o.isMissing=!0}else{const e=t;for(let t=0;t<e.length;++t)t&&(n+=\", \"),n+=e[t]}return o.output.headers[\"WWW-Authenticate\"]=n,o},exports.paymentRequired=function(e,t){return internals.create(402,e,t,exports.paymentRequired)},exports.forbidden=function(e,t){return internals.create(403,e,t,exports.forbidden)},exports.notFound=function(e,t){return internals.create(404,e,t,exports.notFound)},exports.methodNotAllowed=function(e,t,r){const o=internals.create(405,e,t,exports.methodNotAllowed);return\"string\"==typeof r&&(r=[r]),Array.isArray(r)&&(o.output.headers.Allow=r.join(\", \")),o},exports.notAcceptable=function(e,t){return internals.create(406,e,t,exports.notAcceptable)},exports.proxyAuthRequired=function(e,t){return internals.create(407,e,t,exports.proxyAuthRequired)},exports.clientTimeout=function(e,t){return internals.create(408,e,t,exports.clientTimeout)},exports.conflict=function(e,t){return internals.create(409,e,t,exports.conflict)},exports.resourceGone=function(e,t){return internals.create(410,e,t,exports.resourceGone)},exports.lengthRequired=function(e,t){return internals.create(411,e,t,exports.lengthRequired)},exports.preconditionFailed=function(e,t){return internals.create(412,e,t,exports.preconditionFailed)},exports.entityTooLarge=function(e,t){return internals.create(413,e,t,exports.entityTooLarge)},exports.uriTooLong=function(e,t){return internals.create(414,e,t,exports.uriTooLong)},exports.unsupportedMediaType=function(e,t){return internals.create(415,e,t,exports.unsupportedMediaType)},exports.rangeNotSatisfiable=function(e,t){return internals.create(416,e,t,exports.rangeNotSatisfiable)},exports.expectationFailed=function(e,t){return internals.create(417,e,t,exports.expectationFailed)},exports.teapot=function(e,t){return internals.create(418,e,t,exports.teapot)},exports.badData=function(e,t){return internals.create(422,e,t,exports.badData)},exports.locked=function(e,t){return internals.create(423,e,t,exports.locked)},exports.preconditionRequired=function(e,t){return internals.create(428,e,t,exports.preconditionRequired)},exports.tooManyRequests=function(e,t){return internals.create(429,e,t,exports.tooManyRequests)},exports.illegal=function(e,t){return internals.create(451,e,t,exports.illegal)},exports.internal=function(e,t,r){return internals.serverError(e,t,r,exports.internal)},internals.serverError=function(e,t,r,o){if(t instanceof Error&&!t.isBoom)return exports.wrap(t,r,e);const n=internals.create(r||500,e,void 0,o);return n.data=t,n},exports.notImplemented=function(e,t){return internals.serverError(e,t,501,exports.notImplemented)},exports.badGateway=function(e,t){return internals.serverError(e,t,502,exports.badGateway)},exports.serverUnavailable=function(e,t){return internals.serverError(e,t,503,exports.serverUnavailable)},exports.gatewayTimeout=function(e,t){return internals.serverError(e,t,504,exports.gatewayTimeout)},exports.badImplementation=function(e,t){const r=internals.serverError(e,t,500,exports.badImplementation);return r.isDeveloperError=!0,r};","node_modules/sntp/lib/index.js":"\"use strict\";const Dgram=require(\"dgram\"),Dns=require(\"dns\"),Hoek=require(\"hoek\"),internals={};exports.time=function(e,t){2!==arguments.length&&(t=arguments[0],e={});const r=Hoek.clone(e);r.host=r.host||\"time.google.com\",r.port=r.port||123,r.resolveReference=r.resolveReference||!1;let s=null,n=0;const o=Hoek.once((e,r)=>{clearTimeout(s),i.removeAllListeners(),i.once(\"error\",Hoek.ignore);try{i.close()}catch(e){}return t(e,r)});r.timeout&&(s=setTimeout(()=>o(new Error(\"Timeout\")),r.timeout));const i=Dgram.createSocket(\"udp4\");i.once(\"error\",e=>o(e)),i.on(\"message\",(e,t)=>{const s=Date.now(),i=new internals.NtpMessage(e);if(!i.isValid)return o(new Error(\"Invalid server response\"),i);if(i.originateTimestamp!==n)return o(new Error(\"Wrong originate timestamp\"),i);const a=i.originateTimestamp,l=i.receiveTimestamp,c=i.transmitTimestamp,h=s;if(i.d=h-a-(c-l),i.t=(l-a+(c-h))/2,i.receivedLocally=s,!r.resolveReference||\"secondary\"!==i.stratum)return o(null,i);Dns.reverse(i.referenceId,(e,t)=>(e||(i.referenceHost=t[0]),o(null,i)))});const a=new Buffer(48);for(let e=0;e<48;++e)a[e]=0;a[0]=35,n=Date.now(),internals.fromMsecs(n,a,40),i.send(a,0,a.length,r.port,r.host,(e,t)=>{if(e||48!==t)return o(e||new Error(\"Could not send entire message\"))})},internals.NtpMessage=function(e){if(this.isValid=!1,48!==e.length)return;switch(e[0]>>6){case 0:this.leapIndicator=\"no-warning\";break;case 1:this.leapIndicator=\"last-minute-61\";break;case 2:this.leapIndicator=\"last-minute-59\";break;case 3:this.leapIndicator=\"alarm\"}const t=(56&e[0])>>3;this.version=t;switch(7&e[0]){case 1:this.mode=\"symmetric-active\";break;case 2:this.mode=\"symmetric-passive\";break;case 3:this.mode=\"client\";break;case 4:this.mode=\"server\";break;case 5:this.mode=\"broadcast\";break;case 0:case 6:case 7:this.mode=\"reserved\"}const r=e[1];this.stratum=0===r?\"death\":1===r?\"primary\":r<=15?\"secondary\":\"reserved\",this.pollInterval=1e3*Math.round(Math.pow(2,e[2])),this.precision=1e3*Math.pow(2,e[3]);const s=256*(256*(256*e[4]+e[5])+e[6])+e[7];switch(this.rootDelay=s/65536*1e3,this.rootDispersion=1e3*((e[8]<<8)+e[9]+((e[10]<<8)+e[11])/Math.pow(2,16)),this.referenceId=\"\",this.stratum){case\"death\":case\"primary\":this.referenceId=String.fromCharCode(e[12])+String.fromCharCode(e[13])+String.fromCharCode(e[14])+String.fromCharCode(e[15]);break;case\"secondary\":this.referenceId=e[12]+\".\"+e[13]+\".\"+e[14]+\".\"+e[15]}return this.referenceTimestamp=internals.toMsecs(e,16),this.originateTimestamp=internals.toMsecs(e,24),this.receiveTimestamp=internals.toMsecs(e,32),this.transmitTimestamp=internals.toMsecs(e,40),4===this.version&&\"reserved\"!==this.stratum&&\"server\"===this.mode&&this.originateTimestamp&&this.receiveTimestamp&&this.transmitTimestamp&&(this.isValid=!0),this},internals.toMsecs=function(e,t){let r=0,s=0;for(let s=0;s<4;++s)r=256*r+e[t+s];for(let r=4;r<8;++r)s=256*s+e[t+r];return 1e3*(r-2208988800+s/Math.pow(2,32))},internals.fromMsecs=function(e,t,r){const s=Math.floor(e/1e3)+2208988800,n=Math.round(e%1e3/1e3*Math.pow(2,32));t[r+0]=(4278190080&s)>>24,t[r+1]=(16711680&s)>>16,t[r+2]=(65280&s)>>8,t[r+3]=255&s,t[r+4]=(4278190080&n)>>24,t[r+5]=(16711680&n)>>16,t[r+6]=(65280&n)>>8,t[r+7]=255&n},internals.last={offset:0,expires:0,host:\"\",port:0},exports.offset=function(e,t){2!==arguments.length&&(t=arguments[0],e={});const r=Date.now(),s=e.clockSyncRefresh||864e5;internals.last.offset&&internals.last.host===e.host&&internals.last.port===e.port&&r<internals.last.expires?process.nextTick(()=>t(null,internals.last.offset)):exports.time(e,(n,o)=>n?t(n,0):(internals.last={offset:Math.round(o.t),expires:r+s,host:e.host,port:e.port},t(null,internals.last.offset)))},internals.now={started:!1,intervalId:null},exports.start=function(e,t){if(2!==arguments.length&&(t=arguments[0],e={}),internals.now.started)return void process.nextTick(()=>t());const r=t=>{t&&e.onError&&e.onError(t)};internals.now.started=!0,exports.offset(e,(s,n)=>(r(s),internals.now.intervalId=setInterval(()=>{exports.offset(e,r)},e.clockSyncRefresh||864e5),t()))},exports.stop=function(){internals.now.started&&(clearInterval(internals.now.intervalId),internals.now.started=!1,internals.now.intervalId=null)},exports.isLive=function(){return internals.now.started},exports.now=function(){const e=Date.now();return!exports.isLive()||e>=internals.last.expires?e:e+internals.last.offset};","node_modules/hawk/lib/server.js":"\"use strict\";const Boom=require(\"boom\"),Hoek=require(\"hoek\"),Cryptiles=require(\"cryptiles\"),Crypto=require(\"./crypto\"),Utils=require(\"./utils\"),internals={};exports.authenticate=function(e,t,n,i){i=Hoek.nextTick(i),n.nonceFunc=n.nonceFunc||internals.nonceFunc,n.timestampSkewSec=n.timestampSkewSec||60;const a=Utils.now(n.localtimeOffsetMsec),r=Utils.parseRequest(e,n);if(r instanceof Error)return i(Boom.badRequest(r.message));const o=Utils.parseAuthorizationHeader(r.authorization);if(o instanceof Error)return i(o);const s={method:r.method,host:r.host,port:r.port,resource:r.url,ts:o.ts,nonce:o.nonce,hash:o.hash,ext:o.ext,app:o.app,dlg:o.dlg,mac:o.mac,id:o.id};if(!(o.id&&o.ts&&o.nonce&&o.mac))return i(Boom.badRequest(\"Missing attributes\"),null,s);t(o.id,(e,t)=>{if(e)return i(e,t||null,s);if(!t)return i(Utils.unauthorized(\"Unknown credentials\"),null,s);if(!t.key||!t.algorithm)return i(Boom.internal(\"Invalid credentials\"),t,s);if(-1===Crypto.algorithms.indexOf(t.algorithm))return i(Boom.internal(\"Unknown algorithm\"),t,s);const l=Crypto.calculateMac(\"header\",t,s);if(!Cryptiles.fixedTimeComparison(l,o.mac))return i(Utils.unauthorized(\"Bad mac\"),t,s);if(n.payload||\"\"===n.payload){if(!o.hash)return i(Utils.unauthorized(\"Missing required payload hash\"),t,s);const e=Crypto.calculatePayloadHash(n.payload,t.algorithm,r.contentType);if(!Cryptiles.fixedTimeComparison(e,o.hash))return i(Utils.unauthorized(\"Bad payload hash\"),t,s)}n.nonceFunc(t.key,o.nonce,o.ts,e=>{if(e)return i(Utils.unauthorized(\"Invalid nonce\"),t,s);if(Math.abs(1e3*o.ts-a)>1e3*n.timestampSkewSec){const e=Crypto.timestampMessage(t,n.localtimeOffsetMsec);return i(Utils.unauthorized(\"Stale timestamp\",e),t,s)}return i(null,t,s)})})},exports.authenticatePayload=function(e,t,n,i){const a=Crypto.calculatePayloadHash(e,t.algorithm,i);return Cryptiles.fixedTimeComparison(a,n.hash)},exports.authenticatePayloadHash=function(e,t){return Cryptiles.fixedTimeComparison(e,t.hash)},exports.header=function(e,t,n){if(n=n||{},!t||\"object\"!=typeof t||\"object\"!=typeof n)return\"\";if(t=Hoek.clone(t),delete t.mac,t.hash=n.hash,t.ext=n.ext,!e||!e.key||!e.algorithm)return\"\";if(-1===Crypto.algorithms.indexOf(e.algorithm))return\"\";t.hash||!n.payload&&\"\"!==n.payload||(t.hash=Crypto.calculatePayloadHash(n.payload,e.algorithm,n.contentType));let i='Hawk mac=\"'+Crypto.calculateMac(\"response\",e,t)+'\"'+(t.hash?', hash=\"'+t.hash+'\"':\"\");return null!==t.ext&&void 0!==t.ext&&\"\"!==t.ext&&(i=i+', ext=\"'+Hoek.escapeHeaderAttribute(t.ext)+'\"'),i},internals.bewitRegex=/^(\\/.*)([\\?&])bewit\\=([^&$]*)(?:&(.+))?$/,exports.authenticateBewit=function(e,t,n,i){i=Hoek.nextTick(i);const a=Utils.now(n.localtimeOffsetMsec),r=Utils.parseRequest(e,n);if(r instanceof Error)return i(Boom.badRequest(r.message));if(r.url.length>Utils.limits.maxMatchLength)return i(Boom.badRequest(\"Resource path exceeds max length\"));const o=r.url.match(internals.bewitRegex);if(!o)return i(Utils.unauthorized());if(!o[3])return i(Utils.unauthorized(\"Empty bewit\"));if(\"GET\"!==r.method&&\"HEAD\"!==r.method)return i(Utils.unauthorized(\"Invalid method\"));if(r.authorization)return i(Boom.badRequest(\"Multiple authentications\"));const s=Hoek.base64urlDecode(o[3]);if(s instanceof Error)return i(Boom.badRequest(\"Invalid bewit encoding\"));const l=s.split(\"\\\\\");if(4!==l.length)return i(Boom.badRequest(\"Invalid bewit structure\"));const u={id:l[0],exp:parseInt(l[1],10),mac:l[2],ext:l[3]||\"\"};if(!u.id||!u.exp||!u.mac)return i(Boom.badRequest(\"Missing bewit attributes\"));let c=o[1];if(o[4]&&(c=c+o[2]+o[4]),1e3*u.exp<=a)return i(Utils.unauthorized(\"Access expired\"),null,u);t(u.id,(e,t)=>{if(e)return i(e,t||null,u.ext);if(!t)return i(Utils.unauthorized(\"Unknown credentials\"),null,u);if(!t.key||!t.algorithm)return i(Boom.internal(\"Invalid credentials\"),t,u);if(-1===Crypto.algorithms.indexOf(t.algorithm))return i(Boom.internal(\"Unknown algorithm\"),t,u);const n=Crypto.calculateMac(\"bewit\",t,{ts:u.exp,nonce:\"\",method:\"GET\",resource:c,host:r.host,port:r.port,ext:u.ext});return Cryptiles.fixedTimeComparison(n,u.mac)?i(null,t,u):i(Utils.unauthorized(\"Bad mac\"),t,u)})},exports.authenticateMessage=function(e,t,n,i,a,r,o){o=Hoek.nextTick(o),r.nonceFunc=r.nonceFunc||internals.nonceFunc,r.timestampSkewSec=r.timestampSkewSec||60;const s=Utils.now(r.localtimeOffsetMsec);if(!(i.id&&i.ts&&i.nonce&&i.hash&&i.mac))return o(Boom.badRequest(\"Invalid authorization\"));a(i.id,(a,l)=>{if(a)return o(a,l||null);if(!l)return o(Utils.unauthorized(\"Unknown credentials\"));if(!l.key||!l.algorithm)return o(Boom.internal(\"Invalid credentials\"),l);if(-1===Crypto.algorithms.indexOf(l.algorithm))return o(Boom.internal(\"Unknown algorithm\"),l);const u={ts:i.ts,nonce:i.nonce,host:e,port:t,hash:i.hash},c=Crypto.calculateMac(\"message\",l,u);if(!Cryptiles.fixedTimeComparison(c,i.mac))return o(Utils.unauthorized(\"Bad mac\"),l);const h=Crypto.calculatePayloadHash(n,l.algorithm);if(!Cryptiles.fixedTimeComparison(h,i.hash))return o(Utils.unauthorized(\"Bad message hash\"),l);r.nonceFunc(l.key,i.nonce,i.ts,e=>e?o(Utils.unauthorized(\"Invalid nonce\"),l):Math.abs(1e3*i.ts-s)>1e3*r.timestampSkewSec?o(Utils.unauthorized(\"Stale timestamp\"),l):o(null,l))})},internals.nonceFunc=function(e,t,n,i){return i()};","node_modules/hawk/lib/client.js":"\"use strict\";const Url=require(\"url\"),Hoek=require(\"hoek\"),Cryptiles=require(\"cryptiles\"),Crypto=require(\"./crypto\"),Utils=require(\"./utils\");exports.header=function(e,t,r){const a={field:\"\",artifacts:{}};if(!e||\"string\"!=typeof e&&\"object\"!=typeof e||!t||\"string\"!=typeof t||!r||\"object\"!=typeof r)return a.err=\"Invalid argument type\",a;const o=r.timestamp||Utils.nowSecs(r.localtimeOffsetMsec),n=r.credentials;if(!(n&&n.id&&n.key&&n.algorithm))return a.err=\"Invalid credential object\",a;if(-1===Crypto.algorithms.indexOf(n.algorithm))return a.err=\"Unknown algorithm\",a;\"string\"==typeof e&&(e=Url.parse(e));const s={ts:o,nonce:r.nonce||Cryptiles.randomString(6),method:t,resource:e.pathname+(e.search||\"\"),host:e.hostname,port:e.port||(\"http:\"===e.protocol?80:443),hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};a.artifacts=s,s.hash||!r.payload&&\"\"!==r.payload||(s.hash=Crypto.calculatePayloadHash(r.payload,n.algorithm,r.contentType));const i=Crypto.calculateMac(\"header\",n,s),l=null!==s.ext&&void 0!==s.ext&&\"\"!==s.ext;let c='Hawk id=\"'+n.id+'\", ts=\"'+s.ts+'\", nonce=\"'+s.nonce+(s.hash?'\", hash=\"'+s.hash:\"\")+(l?'\", ext=\"'+Hoek.escapeHeaderAttribute(s.ext):\"\")+'\", mac=\"'+i+'\"';return s.app&&(c=c+', app=\"'+s.app+(s.dlg?'\", dlg=\"'+s.dlg:\"\")+'\"'),a.field=c,a},exports.authenticate=function(e,t,r,a,o){r=Hoek.clone(r),a=a||{};let n=null,s=null;const i=function(e){if(o){return o(e,{\"www-authenticate\":n,\"server-authorization\":s})}return!e};if(e.headers[\"www-authenticate\"]){if((n=Utils.parseAuthorizationHeader(e.headers[\"www-authenticate\"],[\"ts\",\"tsm\",\"error\"]))instanceof Error)return n=null,i(new Error(\"Invalid WWW-Authenticate header\"));if(n.ts){if(Crypto.calculateTsMac(n.ts,t)!==n.tsm)return i(new Error(\"Invalid server timestamp hash\"))}}if(!e.headers[\"server-authorization\"]&&!a.required)return i();if((s=Utils.parseAuthorizationHeader(e.headers[\"server-authorization\"],[\"mac\",\"ext\",\"hash\"]))instanceof Error)return s=null,i(new Error(\"Invalid Server-Authorization header\"));r.ext=s.ext,r.hash=s.hash;if(Crypto.calculateMac(\"response\",t,r)!==s.mac)return i(new Error(\"Bad response mac\"));if(!a.payload&&\"\"!==a.payload)return i();if(!s.hash)return i(new Error(\"Missing response hash attribute\"));return Crypto.calculatePayloadHash(a.payload,t.algorithm,e.headers[\"content-type\"])!==s.hash?i(new Error(\"Bad response payload mac\")):i()},exports.getBewit=function(e,t){if(!e||\"string\"!=typeof e&&\"object\"!=typeof e||!t||\"object\"!=typeof t||!t.ttlSec)return\"\";t.ext=null===t.ext||void 0===t.ext?\"\":t.ext;const r=Utils.now(t.localtimeOffsetMsec),a=t.credentials;if(!(a&&a.id&&a.key&&a.algorithm))return\"\";if(-1===Crypto.algorithms.indexOf(a.algorithm))return\"\";\"string\"==typeof e&&(e=Url.parse(e));const o=Math.floor(r/1e3)+t.ttlSec,n=Crypto.calculateMac(\"bewit\",a,{ts:o,nonce:\"\",method:\"GET\",resource:e.pathname+(e.search||\"\"),host:e.hostname,port:e.port||(\"http:\"===e.protocol?80:443),ext:t.ext}),s=a.id+\"\\\\\"+o+\"\\\\\"+n+\"\\\\\"+t.ext;return Hoek.base64urlEncode(s)},exports.message=function(e,t,r,a){if(!e||\"string\"!=typeof e||!t||\"number\"!=typeof t||null===r||void 0===r||\"string\"!=typeof r||!a||\"object\"!=typeof a)return null;const o=a.timestamp||Utils.nowSecs(a.localtimeOffsetMsec),n=a.credentials;if(!(n&&n.id&&n.key&&n.algorithm))return null;if(-1===Crypto.algorithms.indexOf(n.algorithm))return null;const s={ts:o,nonce:a.nonce||Cryptiles.randomString(6),host:e,port:t,hash:Crypto.calculatePayloadHash(r,n.algorithm)};return{id:n.id,ts:s.ts,nonce:s.nonce,hash:s.hash,mac:Crypto.calculateMac(\"message\",n,s)}};","node_modules/hawk/lib/crypto.js":"\"use strict\";const Crypto=require(\"crypto\"),Url=require(\"url\"),Utils=require(\"./utils\");exports.headerVersion=\"1\",exports.algorithms=[\"sha1\",\"sha256\"],exports.calculateMac=function(e,t,a){const r=exports.generateNormalizedString(e,a);return Crypto.createHmac(t.algorithm,t.key).update(r).digest(\"base64\")},exports.generateNormalizedString=function(e,t){let a=t.resource||\"\";if(a&&\"/\"!==a[0]){a=Url.parse(a,!1).path}let r=\"hawk.\"+exports.headerVersion+\".\"+e+\"\\n\"+t.ts+\"\\n\"+t.nonce+\"\\n\"+(t.method||\"\").toUpperCase()+\"\\n\"+a+\"\\n\"+t.host.toLowerCase()+\"\\n\"+t.port+\"\\n\"+(t.hash||\"\")+\"\\n\";return t.ext&&(r+=t.ext.replace(\"\\\\\",\"\\\\\\\\\").replace(\"\\n\",\"\\\\n\")),r+=\"\\n\",t.app&&(r=r+t.app+\"\\n\"+(t.dlg||\"\")+\"\\n\"),r},exports.calculatePayloadHash=function(e,t,a){const r=exports.initializePayloadHash(t,a);return r.update(e||\"\"),exports.finalizePayloadHash(r)},exports.initializePayloadHash=function(e,t){const a=Crypto.createHash(e);return a.update(\"hawk.\"+exports.headerVersion+\".payload\\n\"),a.update(Utils.parseContentType(t)+\"\\n\"),a},exports.finalizePayloadHash=function(e){return e.update(\"\\n\"),e.digest(\"base64\")},exports.calculateTsMac=function(e,t){const a=Crypto.createHmac(t.algorithm,t.key);return a.update(\"hawk.\"+exports.headerVersion+\".ts\\n\"+e+\"\\n\"),a.digest(\"base64\")},exports.timestampMessage=function(e,t){const a=Utils.nowSecs(t);return{ts:a,tsm:exports.calculateTsMac(a,e)}};","node_modules/hawk/lib/utils.js":"\"use strict\";const Sntp=require(\"sntp\"),Boom=require(\"boom\"),internals={};exports.version=function(){return require(\"../package.json\").version},exports.limits={maxMatchLength:4096},internals.hostHeaderRegex=/^(?:(?:\\r\\n)?\\s)*((?:[^:]+)|(?:\\[[^\\]]+\\]))(?::(\\d+))?(?:(?:\\r\\n)?\\s)*$/,exports.parseHost=function(e,t){t=t?t.toLowerCase():\"host\";const r=e.headers[t];if(!r)return null;if(r.length>exports.limits.maxMatchLength)return null;const n=r.match(internals.hostHeaderRegex);return n?{name:n[1],port:n[2]?n[2]:e.connection&&e.connection.encrypted?443:80}:null},exports.parseContentType=function(e){return e?e.split(\";\")[0].trim().toLowerCase():\"\"},exports.parseRequest=function(e,t){if(!e.headers)return e;let r;if(!(t.host&&t.port||(r=exports.parseHost(e,t.hostHeaderName))))return new Error(\"Invalid Host header\");return{method:e.method,url:e.url,host:t.host||r.name,port:t.port||r.port,authorization:e.headers.authorization,contentType:e.headers[\"content-type\"]||\"\"}},exports.now=function(e){return Sntp.now()+(e||0)},exports.nowSecs=function(e){return Math.floor(exports.now(e)/1e3)},internals.authHeaderRegex=/^(\\w+)(?:\\s+(.*))?$/,internals.attributeRegex=/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~]+$/,exports.parseAuthorizationHeader=function(e,t){if(t=t||[\"id\",\"ts\",\"nonce\",\"hash\",\"ext\",\"mac\",\"app\",\"dlg\"],!e)return Boom.unauthorized(null,\"Hawk\");if(e.length>exports.limits.maxMatchLength)return Boom.badRequest(\"Header length too long\");const r=e.match(internals.authHeaderRegex);if(!r)return Boom.badRequest(\"Invalid header syntax\");if(\"hawk\"!==r[1].toLowerCase())return Boom.unauthorized(null,\"Hawk\");const n=r[2];if(!n)return Boom.badRequest(\"Invalid header syntax\");const o={};let a=\"\";return\"\"!==n.replace(/(\\w+)=\"([^\"\\\\]*)\"\\s*(?:,\\s*|$)/g,(e,r,n)=>{if(-1!==t.indexOf(r))if(null!==n.match(internals.attributeRegex)){if(!o.hasOwnProperty(r))return o[r]=n,\"\";a=\"Duplicate attribute: \"+r}else a=\"Bad attribute value: \"+r;else a=\"Unknown attribute: \"+r})?Boom.badRequest(a||\"Bad header format\"):o},exports.unauthorized=function(e,t){return Boom.unauthorized(e||null,\"Hawk\",t)};","node_modules/hoek/lib/index.js":"\"use strict\";const Crypto=require(\"crypto\"),Path=require(\"path\"),Util=require(\"util\"),Escape=require(\"./escape\"),internals={};exports.clone=function(e,t){if(\"object\"!=typeof e||null===e)return e;const r=(t=t||new Map).get(e);if(r)return r;let n,o=!1;if(Array.isArray(e))n=[],o=!0;else if(Buffer.isBuffer(e))n=new Buffer(e);else if(e instanceof Date)n=new Date(e.getTime());else if(e instanceof RegExp)n=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?n=e:(n=Object.create(t),o=!0)}if(t.set(e,n),o){const r=Object.getOwnPropertyNames(e);for(let o=0;o<r.length;++o){const s=r[o],a=Object.getOwnPropertyDescriptor(e,s);a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=exports.clone(e[s],t)}}return n},exports.merge=function(e,t,r,n){if(exports.assert(e&&\"object\"==typeof e,\"Invalid target value: must be an object\"),exports.assert(null===t||void 0===t||\"object\"==typeof t,\"Invalid source value: must be null, undefined, or an object\"),!t)return e;if(Array.isArray(t)){exports.assert(Array.isArray(e),\"Cannot merge array onto an object\"),!1===n&&(e.length=0);for(let r=0;r<t.length;++r)e.push(exports.clone(t[r]));return e}const o=Object.keys(t);for(let s=0;s<o.length;++s){const a=o[s],i=t[a];i&&\"object\"==typeof i?!e[a]||\"object\"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(i)||i instanceof Date||Buffer.isBuffer(i)||i instanceof RegExp?e[a]=exports.clone(i):exports.merge(e[a],i,r,n):null!==i&&void 0!==i?e[a]=i:!1!==r&&(e[a]=i)}return e},exports.applyToDefaults=function(e,t,r){if(exports.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),exports.assert(!t||!0===t||\"object\"==typeof t,\"Invalid options value: must be true, falsy or an object\"),!t)return null;const n=exports.clone(e);return!0===t?n:exports.merge(n,t,!0===r,!1)},exports.cloneWithShallow=function(e,t){if(!e||\"object\"!=typeof e)return e;const r=internals.store(e,t),n=exports.clone(e);return internals.restore(n,e,r),n},internals.store=function(e,t){const r={};for(let n=0;n<t.length;++n){const o=t[n],s=exports.reach(e,o);void 0!==s&&(r[o]=s,internals.reachSet(e,o,void 0))}return r},internals.restore=function(e,t,r){const n=Object.keys(r);for(let o=0;o<n.length;++o){const s=n[o];internals.reachSet(e,s,r[s]),internals.reachSet(t,s,r[s])}},internals.reachSet=function(e,t,r){const n=t.split(\".\");let o=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(o[t]=r),o=o[t]}},exports.applyToDefaultsWithShallow=function(e,t,r){if(exports.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),exports.assert(!t||!0===t||\"object\"==typeof t,\"Invalid options value: must be true, falsy or an object\"),exports.assert(r&&Array.isArray(r),\"Invalid keys\"),!t)return null;const n=exports.cloneWithShallow(e,r);if(!0===t)return n;const o=internals.store(t,r);return exports.merge(n,t,!1,!1),internals.restore(n,t,o),n},exports.deepEqual=function(e,t,r,n){r=r||{prototype:!0};const o=typeof e;if(o!==typeof t)return!1;if(\"object\"!==o||null===e||null===t)return e===t?0!==e||1/e==1/t:e!=e&&t!=t;if(-1!==(n=n||[]).indexOf(e))return!0;if(n.push(e),Array.isArray(e)){if(!Array.isArray(t))return!1;if(!r.part&&e.length!==t.length)return!1;for(let n=0;n<e.length;++n){if(r.part){let o=!1;for(let s=0;s<t.length;++s)if(exports.deepEqual(e[n],t[s],r)){o=!0;break}return o}if(!exports.deepEqual(e[n],t[n],r))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();if(e instanceof RegExp)return t instanceof RegExp&&e.toString()===t.toString();if(r.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const s=Object.getOwnPropertyNames(e);if(!r.part&&s.length!==Object.getOwnPropertyNames(t).length)return!1;for(let o=0;o<s.length;++o){const a=s[o],i=Object.getOwnPropertyDescriptor(e,a);if(i.get){if(!exports.deepEqual(i,Object.getOwnPropertyDescriptor(t,a),r,n))return!1}else if(!exports.deepEqual(e[a],t[a],r,n))return!1}return!0},exports.unique=((e,t)=>{let r;if(t){r=[];const n=new Set;e.forEach(e=>{const o=e[t];n.has(o)||(n.add(o),r.push(e))})}else r=Array.from(new Set(e));return r}),exports.mapToObject=function(e,t){if(!e)return null;const r={};for(let n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},exports.intersect=function(e,t,r){if(!e||!t)return[];const n=[],o=Array.isArray(e)?exports.mapToObject(e):e,s={};for(let e=0;e<t.length;++e)if(o[t[e]]&&!s[t[e]]){if(r)return t[e];n.push(t[e]),s[t[e]]=!0}return r?null:n},exports.contain=function(e,t,r){let n=null;\"object\"!=typeof e||\"object\"!=typeof t||Array.isArray(e)||Array.isArray(t)?t=[].concat(t):(n=t,t=Object.keys(t)),r=r||{},exports.assert(arguments.length>=2,\"Insufficient arguments\"),exports.assert(\"string\"==typeof e||\"object\"==typeof e,\"Reference must be string or an object\"),exports.assert(t.length,\"Values array cannot be empty\");let o,s;if(r.deep){o=exports.deepEqual;const e=r.hasOwnProperty(\"only\"),t=r.hasOwnProperty(\"part\");s={prototype:e?r.only:!!t&&!r.part,part:e?!r.only:!t||r.part}}else o=((e,t)=>e===t);let a=!1;const i=new Array(t.length);for(let e=0;e<i.length;++e)i[e]=0;if(\"string\"==typeof e){let r=\"(\";for(let e=0;e<t.length;++e){const n=t[e];exports.assert(\"string\"==typeof n,\"Cannot compare string reference to non-string value\"),r+=(e?\"|\":\"\")+exports.escapeRegex(n)}const n=new RegExp(r+\")\",\"g\");a=!!e.replace(n,(e,r)=>{const n=t.indexOf(r);return++i[n],\"\"})}else if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=!1;for(let a=0;a<t.length&&!1===n;++a)n=o(t[a],e[r],s)&&a;!1!==n?++i[n]:a=!0}else{const r=Object.getOwnPropertyNames(e);for(let c=0;c<r.length;++c){const p=r[c],l=t.indexOf(p);if(-1!==l){if(n&&!o(n[p],e[p],s))return!1;++i[l]}else a=!0}}let c=!1;for(let e=0;e<i.length;++e)if(c=c||!!i[e],r.once&&i[e]>1||!r.part&&!i[e])return!1;return(!r.only||!a)&&c},exports.flatten=function(e,t){const r=t||[];for(let t=0;t<e.length;++t)Array.isArray(e[t])?exports.flatten(e[t],r):r.push(e[t]);return r},exports.reach=function(e,t,r){if(!1===t||null===t||void 0===t)return e;\"string\"==typeof(r=r||{})&&(r={separator:r});const n=t.split(r.separator||\".\");let o=e;for(let e=0;e<n.length;++e){let s=n[e];if(\"-\"===s[0]&&Array.isArray(o)&&(s=s.slice(1,s.length),s=o.length-s),!o||\"object\"!=typeof o&&\"function\"!=typeof o||!(s in o)||\"object\"!=typeof o&&!1===r.functions){exports.assert(!r.strict||e+1===n.length,\"Missing segment\",s,\"in reach path \",t),exports.assert(\"object\"==typeof o||!0===r.functions||\"function\"!=typeof o,\"Invalid segment\",s,\"in reach path \",t),o=r.default;break}o=o[s]}return o},exports.reachTemplate=function(e,t,r){return t.replace(/{([^}]+)}/g,(t,n)=>{const o=exports.reach(e,n,r);return void 0===o||null===o?\"\":o})},exports.formatStack=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},exports.formatTrace=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push((n[4]?\"new \":\"\")+n[3]+\" (\"+n[0]+\":\"+n[1]+\":\"+n[2]+\")\")}return t},exports.callStack=function(e){const t=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};const r={};Error.captureStackTrace(r,this);const n=r.stack;Error.prepareStackTrace=t;return exports.formatStack(n).slice(1+e)},exports.displayStack=function(e){const t=exports.callStack(void 0===e?1:e+1);return exports.formatTrace(t)},exports.abortThrow=!1,exports.abort=function(e,t){if(\"test\"===process.env.NODE_ENV||!0===exports.abortThrow)throw new Error(e||\"Unknown error\");let r=\"\";t||(r=exports.displayStack(1).join(\"\\n\\t\")),console.log(\"ABORT: \"+e+\"\\n\\t\"+r),process.exit(1)},exports.assert=function(e){if(e)return;if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];let t=[];for(let e=1;e<arguments.length;++e)\"\"!==arguments[e]&&t.push(arguments[e]);throw t=t.map(e=>\"string\"==typeof e?e:e instanceof Error?e.message:exports.stringify(e)),new Error(t.join(\" \")||\"Unknown error\")},exports.Timer=function(){this.ts=0,this.reset()},exports.Timer.prototype.reset=function(){this.ts=Date.now()},exports.Timer.prototype.elapsed=function(){return Date.now()-this.ts},exports.Bench=function(){this.ts=0,this.reset()},exports.Bench.prototype.reset=function(){this.ts=exports.Bench.now()},exports.Bench.prototype.elapsed=function(){return exports.Bench.now()-this.ts},exports.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},exports.escapeRegex=function(e){return e.replace(/[\\^\\$\\.\\*\\+\\-\\?\\=\\!\\:\\|\\\\\\/\\(\\)\\[\\]\\{\\}\\,]/g,\"\\\\$&\")},exports.base64urlEncode=function(e,t){exports.assert(\"string\"==typeof e||Buffer.isBuffer(e),\"value must be string or buffer\");return(Buffer.isBuffer(e)?e:new Buffer(e,t||\"binary\")).toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\")},exports.base64urlDecode=function(e,t){if(\"string\"!=typeof e)return new Error(\"Value not a string\");if(!/^[\\w\\-]*$/.test(e))return new Error(\"Invalid character\");const r=new Buffer(e,\"base64\");return\"buffer\"===t?r:r.toString(t||\"binary\")},exports.escapeHeaderAttribute=function(e){return exports.assert(/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~\\\"\\\\]*$/.test(e),\"Bad attribute value (\"+e+\")\"),e.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,'\\\\\"')},exports.escapeHtml=function(e){return Escape.escapeHtml(e)},exports.escapeJavaScript=function(e){return Escape.escapeJavaScript(e)},exports.escapeJson=function(e){return Escape.escapeJson(e)},exports.nextTick=function(e){return function(){const t=arguments;process.nextTick(()=>{e.apply(null,t)})}},exports.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},exports.isInteger=Number.isSafeInteger,exports.ignore=function(){},exports.inherits=Util.inherits,exports.format=Util.format,exports.transform=function(e,t,r){exports.assert(null===e||void 0===e||\"object\"==typeof e||Array.isArray(e),\"Invalid source object: must be null, undefined, an object, or an array\");const n=\"object\"==typeof r&&null!==r?r.separator||\".\":\".\";if(Array.isArray(e)){const n=[];for(let o=0;o<e.length;++o)n.push(exports.transform(e[o],t,r));return n}const o={},s=Object.keys(t);for(let a=0;a<s.length;++a){const i=s[a],c=i.split(n),p=t[i];exports.assert(\"string\"==typeof p,'All mappings must be \".\" delineated strings');let l,f=o;for(;c.length>1;)f[l=c.shift()]||(f[l]={}),f=f[l];f[l=c.shift()]=exports.reach(e,p,r)}return o},exports.uniqueFilename=function(e,t){t=t?\".\"!==t[0]?\".\"+t:t:\"\",e=Path.resolve(e);const r=[Date.now(),process.pid,Crypto.randomBytes(8).toString(\"hex\")].join(\"-\")+t;return Path.join(e,r)},exports.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return\"[Cannot display object: \"+e.message+\"]\"}},exports.shallow=function(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;++n){const o=r[n];t[o]=e[o]}return t};","node_modules/hoek/lib/escape.js":"\"use strict\";const internals={};exports.escapeJavaScript=function(e){if(!e)return\"\";let n=\"\";for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);internals.isSafe(r)?n+=e[t]:n+=internals.escapeJavaScriptChar(r)}return n},exports.escapeHtml=function(e){if(!e)return\"\";let n=\"\";for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);internals.isSafe(r)?n+=e[t]:n+=internals.escapeHtmlChar(r)}return n},exports.escapeJson=function(e){if(!e)return\"\";let n;return e.replace(/[<>&\\u2028\\u2029]/g,e=>60===(n=e.charCodeAt(0))?\"\\\\u003c\":62===n?\"\\\\u003e\":38===n?\"\\\\u0026\":8232===n?\"\\\\u2028\":\"\\\\u2029\")},internals.escapeJavaScriptChar=function(e){if(e>=256)return\"\\\\u\"+internals.padLeft(\"\"+e,4);const n=new Buffer(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"\\\\x\"+internals.padLeft(n,2)},internals.escapeHtmlChar=function(e){const n=internals.namedHtml[e];if(void 0!==n)return n;if(e>=256)return\"&#\"+e+\";\";const t=new Buffer(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"&#x\"+internals.padLeft(t,2)+\";\"},internals.padLeft=function(e,n){for(;e.length<n;)e=\"0\"+e;return e},internals.isSafe=function(e){return void 0!==internals.safeCharCodes[e]},internals.namedHtml={38:\"&amp;\",60:\"&lt;\",62:\"&gt;\",34:\"&quot;\",160:\"&nbsp;\",162:\"&cent;\",163:\"&pound;\",164:\"&curren;\",169:\"&copy;\",174:\"&reg;\"},internals.safeCharCodes=function(){const e={};for(let n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&(e[n]=null);return e}();","node_modules/cryptiles/lib/index.js":"\"use strict\";const Crypto=require(\"crypto\"),Boom=require(\"boom\");exports.randomString=function(r){const t=exports.randomBits(6*(r+1));if(t instanceof Error)return t;return t.toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\").slice(0,r)},exports.randomDigits=function(r){const t=exports.randomBits(8*r);if(t instanceof Error)return t;const e=[];for(let r=0;r<t.length;++r)e.push(Math.floor(t[r]/25.6));return e.join(\"\")},exports.randomBits=function(r){if(!r||r<0)return Boom.internal(\"Invalid random bits count\");const t=Math.ceil(r/8);try{return Crypto.randomBytes(t)}catch(r){return Boom.internal(\"Failed generating random bits: \"+r.message)}},exports.fixedTimeComparison=function(r,t){if(\"string\"!=typeof r||\"string\"!=typeof t)return!1;let e=r.length===t.length?0:1;e&&(t=r);for(let n=0;n<r.length;++n){e|=r.charCodeAt(n)^t.charCodeAt(n)}return 0===e};","node_modules/aws4/lru.js":"module.exports=function(t){return new LruCache(t)};function LruCache(t){this.capacity=0|t,this.map=Object.create(null),this.list=new DoublyLinkedList}LruCache.prototype.get=function(t){var e=this.map[t];if(null!=e)return this.used(e),e.val},LruCache.prototype.set=function(t,e){var i=this.map[t];if(null!=i)i.val=e;else{if(this.capacity||this.prune(),!this.capacity)return!1;i=new DoublyLinkedNode(t,e),this.map[t]=i,this.capacity--}return this.used(i),!0},LruCache.prototype.used=function(t){this.list.moveToFront(t)},LruCache.prototype.prune=function(){var t=this.list.pop();null!=t&&(delete this.map[t.key],this.capacity++)};function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}DoublyLinkedList.prototype.moveToFront=function(t){this.firstNode!=t&&(this.remove(t),null==this.firstNode?(this.firstNode=t,this.lastNode=t,t.prev=null,t.next=null):(t.prev=null,t.next=this.firstNode,t.next.prev=t,this.firstNode=t))},DoublyLinkedList.prototype.pop=function(){var t=this.lastNode;return null!=t&&this.remove(t),t},DoublyLinkedList.prototype.remove=function(t){this.firstNode==t?this.firstNode=t.next:null!=t.prev&&(t.prev.next=t.next),this.lastNode==t?this.lastNode=t.prev:null!=t.next&&(t.next.prev=t.prev)};function DoublyLinkedNode(t,e){this.key=t,this.val=e,this.prev=null,this.next=null}","node_modules/http-signature/lib/parser.js":"var assert=require(\"assert-plus\"),util=require(\"util\"),utils=require(\"./utils\"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,HttpSignatureError=utils.HttpSignatureError,InvalidAlgorithmError=utils.InvalidAlgorithmError,validateAlgorithm=utils.validateAlgorithm,State={New:0,Params:1},ParamsState={Name:0,Quote:1,Value:2,Comma:3};function ExpiredRequestError(r){HttpSignatureError.call(this,r,ExpiredRequestError)}util.inherits(ExpiredRequestError,HttpSignatureError);function InvalidHeaderError(r){HttpSignatureError.call(this,r,InvalidHeaderError)}util.inherits(InvalidHeaderError,HttpSignatureError);function InvalidParamsError(r){HttpSignatureError.call(this,r,InvalidParamsError)}util.inherits(InvalidParamsError,HttpSignatureError);function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}util.inherits(MissingHeaderError,HttpSignatureError);function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}util.inherits(StrictParsingError,HttpSignatureError),module.exports={parseRequest:function(r,e){assert.object(r,\"request\"),assert.object(r.headers,\"request.headers\"),void 0===e&&(e={}),void 0===e.headers&&(e.headers=[r.headers[\"x-date\"]?\"x-date\":\"date\"]),assert.object(e,\"options\"),assert.arrayOfString(e.headers,\"options.headers\"),assert.optionalFinite(e.clockSkew,\"options.clockSkew\");var a=e.authorizationHeaderName||\"authorization\";if(!r.headers[a])throw new MissingHeaderError(\"no \"+a+\" header present in the request\");e.clockSkew=e.clockSkew||300;var t=0,i=State.New,s=ParamsState.Name,o=\"\",n=\"\",d={scheme:\"\",params:{},signingString:\"\"},h=r.headers[a];for(t=0;t<h.length;t++){var l=h.charAt(t);switch(Number(i)){case State.New:\" \"!==l?d.scheme+=l:i=State.Params;break;case State.Params:switch(Number(s)){case ParamsState.Name:var m=l.charCodeAt(0);if(m>=65&&m<=90||m>=97&&m<=122)o+=l;else{if(\"=\"!==l)throw new InvalidHeaderError(\"bad param format\");if(0===o.length)throw new InvalidHeaderError(\"bad param format\");s=ParamsState.Quote}break;case ParamsState.Quote:if('\"'!==l)throw new InvalidHeaderError(\"bad param format\");n=\"\",s=ParamsState.Value;break;case ParamsState.Value:'\"'===l?(d.params[o]=n,s=ParamsState.Comma):n+=l;break;case ParamsState.Comma:if(\",\"!==l)throw new InvalidHeaderError(\"bad param format\");o=\"\",s=ParamsState.Name;break;default:throw new Error(\"Invalid substate\")}break;default:throw new Error(\"Invalid substate\")}}if(d.params.headers&&\"\"!==d.params.headers?d.params.headers=d.params.headers.split(\" \"):r.headers[\"x-date\"]?d.params.headers=[\"x-date\"]:d.params.headers=[\"date\"],!d.scheme||\"Signature\"!==d.scheme)throw new InvalidHeaderError('scheme was not \"Signature\"');if(!d.params.keyId)throw new InvalidHeaderError(\"keyId was not specified\");if(!d.params.algorithm)throw new InvalidHeaderError(\"algorithm was not specified\");if(!d.params.signature)throw new InvalidHeaderError(\"signature was not specified\");d.params.algorithm=d.params.algorithm.toLowerCase();try{validateAlgorithm(d.params.algorithm)}catch(r){throw r instanceof InvalidAlgorithmError?new InvalidParamsError(d.params.algorithm+\" is not supported\"):r}for(t=0;t<d.params.headers.length;t++){var u=d.params.headers[t].toLowerCase();if(d.params.headers[t]=u,\"request-line\"===u){if(e.strict)throw new StrictParsingError(\"request-line is not a valid header with strict parsing enabled.\");d.signingString+=r.method+\" \"+r.url+\" HTTP/\"+r.httpVersion}else if(\"(request-target)\"===u)d.signingString+=\"(request-target): \"+r.method.toLowerCase()+\" \"+r.url;else{var g=r.headers[u];if(void 0===g)throw new MissingHeaderError(u+\" was not in the request\");d.signingString+=u+\": \"+g}t+1<d.params.headers.length&&(d.signingString+=\"\\n\")}var p;if(r.headers.date||r.headers[\"x-date\"]){p=r.headers[\"x-date\"]?new Date(r.headers[\"x-date\"]):new Date(r.headers.date);var w=new Date,c=Math.abs(w.getTime()-p.getTime());if(c>1e3*e.clockSkew)throw new ExpiredRequestError(\"clock skew of \"+c/1e3+\"s was greater than \"+e.clockSkew+\"s\")}if(e.headers.forEach(function(r){if(d.params.headers.indexOf(r.toLowerCase())<0)throw new MissingHeaderError(r+\" was not a signed header\")}),e.algorithms&&-1===e.algorithms.indexOf(d.params.algorithm))throw new InvalidParamsError(d.params.algorithm+\" is not a supported algorithm\");return d.algorithm=d.params.algorithm.toUpperCase(),d.keyId=d.params.keyId,d}};","node_modules/http-signature/lib/signer.js":"var assert=require(\"assert-plus\"),crypto=require(\"crypto\"),http=require(\"http\"),util=require(\"util\"),sshpk=require(\"sshpk\"),jsprim=require(\"jsprim\"),utils=require(\"./utils\"),sprintf=require(\"util\").format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId=\"%s\",algorithm=\"%s\",headers=\"%s\",signature=\"%s\"';function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}util.inherits(MissingHeaderError,HttpSignatureError);function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}util.inherits(StrictParsingError,HttpSignatureError);function RequestSigner(r){assert.object(r,\"options\");var e=[];if(void 0!==r.algorithm&&(assert.string(r.algorithm,\"options.algorithm\"),e=validateAlgorithm(r.algorithm)),this.rs_alg=e,void 0!==r.sign)assert.func(r.sign,\"options.sign\"),this.rs_signFunc=r.sign;else if(\"hmac\"===e[0]&&void 0!==r.key){if(assert.string(r.keyId,\"options.keyId\"),this.rs_keyId=r.keyId,\"string\"!=typeof r.key&&!Buffer.isBuffer(r.key))throw new TypeError(\"options.key for HMAC must be a string or Buffer\");this.rs_signer=crypto.createHmac(e[1].toUpperCase(),r.key),this.rs_signer.sign=function(){var r=this.digest(\"base64\");return{hashAlgorithm:e[1],toString:function(){return r}}}}else{if(void 0===r.key)throw new TypeError(\"options.sign (func) or options.key is required\");var t=r.key;if((\"string\"==typeof t||Buffer.isBuffer(t))&&(t=sshpk.parsePrivateKey(t)),assert.ok(sshpk.PrivateKey.isPrivateKey(t,[1,2]),\"options.key must be a sshpk.PrivateKey\"),this.rs_key=t,assert.string(r.keyId,\"options.keyId\"),this.rs_keyId=r.keyId,!PK_ALGOS[t.type])throw new InvalidAlgorithmError(t.type.toUpperCase()+\" type keys are not supported\");if(void 0!==e[0]&&t.type!==e[0])throw new InvalidAlgorithmError(\"options.key must be a \"+e[0].toUpperCase()+\" key, was given a \"+t.type.toUpperCase()+\" key instead\");this.rs_signer=t.createSign(e[1])}this.rs_headers=[],this.rs_lines=[]}RequestSigner.prototype.writeHeader=function(r,e){if(assert.string(r,\"header\"),r=r.toLowerCase(),assert.string(e,\"value\"),this.rs_headers.push(r),this.rs_signFunc)this.rs_lines.push(r+\": \"+e);else{var t=r+\": \"+e;this.rs_headers.length>0&&(t=\"\\n\"+t),this.rs_signer.update(t)}return e},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader(\"date\",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(r,e){assert.string(r,\"method\"),assert.string(e,\"path\"),r=r.toLowerCase(),this.writeHeader(\"(request-target)\",r+\" \"+e)},RequestSigner.prototype.sign=function(r){if(assert.func(r,\"callback\"),this.rs_headers.length<1)throw new Error(\"At least one header must be signed\");var e,t;if(this.rs_signFunc){var s=this.rs_lines.join(\"\\n\"),i=this;this.rs_signFunc(s,function(s,a){if(s)r(s);else{try{assert.object(a,\"signature\"),assert.string(a.keyId,\"signature.keyId\"),assert.string(a.algorithm,\"signature.algorithm\"),assert.string(a.signature,\"signature.signature\"),e=validateAlgorithm(a.algorithm),t=sprintf(AUTHZ_FMT,a.keyId,a.algorithm,i.rs_headers.join(\" \"),a.signature)}catch(e){return void r(e)}r(null,t)}})}else{try{var a=this.rs_signer.sign()}catch(e){return void r(e)}e=(this.rs_alg[0]||this.rs_key.type)+\"-\"+a.hashAlgorithm;var o=a.toString();t=sprintf(AUTHZ_FMT,this.rs_keyId,e,this.rs_headers.join(\" \"),o),r(null,t)}},module.exports={isSigner:function(r){return\"object\"==typeof r&&r instanceof RequestSigner},createSigner:function(r){return new RequestSigner(r)},signRequest:function(r,e){assert.object(r,\"request\"),assert.object(e,\"options\"),assert.optionalString(e.algorithm,\"options.algorithm\"),assert.string(e.keyId,\"options.keyId\"),assert.optionalArrayOfString(e.headers,\"options.headers\"),assert.optionalString(e.httpVersion,\"options.httpVersion\"),r.getHeader(\"Date\")||r.setHeader(\"Date\",jsprim.rfc1123(new Date)),e.headers||(e.headers=[\"date\"]),e.httpVersion||(e.httpVersion=\"1.1\");var t=[];e.algorithm&&(e.algorithm=e.algorithm.toLowerCase(),t=validateAlgorithm(e.algorithm));var s,i=\"\";for(s=0;s<e.headers.length;s++){if(\"string\"!=typeof e.headers[s])throw new TypeError(\"options.headers must be an array of Strings\");var a=e.headers[s].toLowerCase();if(\"request-line\"===a){if(e.strict)throw new StrictParsingError(\"request-line is not a valid header with strict parsing enabled.\");i+=r.method+\" \"+r.path+\" HTTP/\"+e.httpVersion}else if(\"(request-target)\"===a)i+=\"(request-target): \"+r.method.toLowerCase()+\" \"+r.path;else{var o=r.getHeader(a);if(void 0===o||\"\"===o)throw new MissingHeaderError(a+\" was not in the request\");i+=a+\": \"+o}s+1<e.headers.length&&(i+=\"\\n\")}r.hasOwnProperty(\"_stringToSign\")&&(r._stringToSign=i);var n;if(\"hmac\"===t[0]){if(\"string\"!=typeof e.key&&!Buffer.isBuffer(e.key))throw new TypeError(\"options.key must be a string or Buffer\");var h=crypto.createHmac(t[1].toUpperCase(),e.key);h.update(i),n=h.digest(\"base64\")}else{var g=e.key;if((\"string\"==typeof g||Buffer.isBuffer(g))&&(g=sshpk.parsePrivateKey(e.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(g,[1,2]),\"options.key must be a sshpk.PrivateKey\"),!PK_ALGOS[g.type])throw new InvalidAlgorithmError(g.type.toUpperCase()+\" type keys are not supported\");if(void 0!==t[0]&&g.type!==t[0])throw new InvalidAlgorithmError(\"options.key must be a \"+t[0].toUpperCase()+\" key, was given a \"+g.type.toUpperCase()+\" key instead\");var p=g.createSign(t[1]);p.update(i);var u=p.sign();if(!HASH_ALGOS[u.hashAlgorithm])throw new InvalidAlgorithmError(u.hashAlgorithm.toUpperCase()+\" is not a supported hash algorithm\");e.algorithm=g.type+\"-\"+u.hashAlgorithm,n=u.toString(),assert.notStrictEqual(n,\"\",\"empty signature produced\")}var l=e.authorizationHeaderName||\"Authorization\";return r.setHeader(l,sprintf(AUTHZ_FMT,e.keyId,e.algorithm,e.headers.join(\" \"),n)),!0}};","node_modules/http-signature/lib/verify.js":"var assert=require(\"assert-plus\"),crypto=require(\"crypto\"),sshpk=require(\"sshpk\"),utils=require(\"./utils\"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm;module.exports={verifySignature:function(r,e){assert.object(r,\"parsedSignature\"),(\"string\"==typeof e||Buffer.isBuffer(e))&&(e=sshpk.parseKey(e)),assert.ok(sshpk.Key.isKey(e,[1,1]),\"pubkey must be a sshpk.Key\");var t=validateAlgorithm(r.algorithm);if(\"hmac\"===t[0]||t[0]!==e.type)return!1;var a=e.createVerify(t[1]);return a.update(r.signingString),a.verify(r.params.signature,\"base64\")},verifyHMAC:function(r,e){assert.object(r,\"parsedHMAC\"),assert.string(e,\"secret\");var t=validateAlgorithm(r.algorithm);if(\"hmac\"!==t[0])return!1;var a=t[1].toUpperCase(),i=crypto.createHmac(a,e);i.update(r.signingString);var s=crypto.createHmac(a,e);s.update(i.digest()),s=s.digest();var u=crypto.createHmac(a,e);return u.update(new Buffer(r.params.signature,\"base64\")),u=u.digest(),\"string\"==typeof s?s===u:Buffer.isBuffer(s)&&!s.equals?s.toString(\"binary\")===u.toString(\"binary\"):s.equals(u)}};","node_modules/http-signature/lib/utils.js":"var assert=require(\"assert-plus\"),sshpk=require(\"sshpk\"),util=require(\"util\"),HASH_ALGOS={sha1:!0,sha256:!0,sha512:!0},PK_ALGOS={rsa:!0,dsa:!0,ecdsa:!0};function HttpSignatureError(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||HttpSignatureError),this.message=r,this.name=t.name}util.inherits(HttpSignatureError,Error);function InvalidAlgorithmError(r){HttpSignatureError.call(this,r,InvalidAlgorithmError)}util.inherits(InvalidAlgorithmError,HttpSignatureError);function validateAlgorithm(r){var t=r.toLowerCase().split(\"-\");if(2!==t.length)throw new InvalidAlgorithmError(t[0].toUpperCase()+\" is not a valid algorithm\");if(\"hmac\"!==t[0]&&!PK_ALGOS[t[0]])throw new InvalidAlgorithmError(t[0].toUpperCase()+\" type keys are not supported\");if(!HASH_ALGOS[t[1]])throw new InvalidAlgorithmError(t[1].toUpperCase()+\" is not a supported hash algorithm\");return t}module.exports={HASH_ALGOS:HASH_ALGOS,PK_ALGOS:PK_ALGOS,HttpSignatureError:HttpSignatureError,InvalidAlgorithmError:InvalidAlgorithmError,validateAlgorithm:validateAlgorithm,sshKeyToPEM:function(r){assert.string(r,\"ssh_key\");return sshpk.parseKey(r,\"ssh\").toString(\"pem\")},fingerprint:function(r){assert.string(r,\"ssh_key\");return sshpk.parseKey(r,\"ssh\").fingerprint(\"md5\").toString(\"hex\")},pemToRsaSSHKey:function(r,t){assert.equal(\"string\",typeof r,\"typeof pem\");var e=sshpk.parseKey(r,\"pem\");return e.comment=t,e.toString(\"ssh\")}};","node_modules/assert-plus/assert.js":"var assert=require(\"assert\"),Stream=require(\"stream\").Stream,util=require(\"util\"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _toss(t,r,e,o,n){throw new assert.AssertionError({message:util.format(\"%s (%s) is required\",t,r),actual:void 0===n?typeof o:n(o),expected:r,operator:e||\"===\",stackStartFunction:_toss.caller})}function _getClass(t){return Object.prototype.toString.call(t).slice(8,-1)}function noop(){}var types={bool:{check:function(t){return\"boolean\"==typeof t}},func:{check:function(t){return\"function\"==typeof t}},string:{check:function(t){return\"string\"==typeof t}},object:{check:function(t){return\"object\"==typeof t&&null!==t}},number:{check:function(t){return\"number\"==typeof t&&!isNaN(t)}},finite:{check:function(t){return\"number\"==typeof t&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return Buffer.isBuffer(t)},operator:\"Buffer.isBuffer\"},array:{check:function(t){return Array.isArray(t)},operator:\"Array.isArray\"},stream:{check:function(t){return t instanceof Stream},operator:\"instanceof\",actual:_getClass},date:{check:function(t){return t instanceof Date},operator:\"instanceof\",actual:_getClass},regexp:{check:function(t){return t instanceof RegExp},operator:\"instanceof\",actual:_getClass},uuid:{check:function(t){return\"string\"==typeof t&&UUID_REGEXP.test(t)},operator:\"isUUID\"}};function _setExports(t){var r,e=Object.keys(types);return r=process.env.NODE_NDEBUG?noop:function(t,r){t||_toss(r,\"true\",t)},e.forEach(function(e){if(t)r[e]=noop;else{var o=types[e];r[e]=function(t,r){o.check(t)||_toss(r,e,o.operator,t,o.actual)}}}),e.forEach(function(e){var o=\"optional\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e];r[o]=function(t,r){void 0!==t&&null!==t&&(n.check(t)||_toss(r,e,n.operator,t,n.actual))}}}),e.forEach(function(e){var o=\"arrayOf\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e],a=\"[\"+e+\"]\";r[o]=function(t,r){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}),e.forEach(function(e){var o=\"optionalArrayOf\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e],a=\"[\"+e+\"]\";r[o]=function(t,r){if(void 0!==t&&null!==t){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}}),Object.keys(assert).forEach(function(e){r[e]=\"AssertionError\"!==e&&t?noop:assert[e]}),r._setExports=_setExports,r}module.exports=_setExports(process.env.NODE_NDEBUG);","node_modules/sshpk/lib/index.js":"var Key=require(\"./key\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),PrivateKey=require(\"./private-key\"),Certificate=require(\"./certificate\"),Identity=require(\"./identity\"),errs=require(\"./errors\");module.exports={Key:Key,parseKey:Key.parse,Fingerprint:Fingerprint,parseFingerprint:Fingerprint.parse,Signature:Signature,parseSignature:Signature.parse,PrivateKey:PrivateKey,parsePrivateKey:PrivateKey.parse,generatePrivateKey:PrivateKey.generate,Certificate:Certificate,parseCertificate:Certificate.parse,createSelfSignedCertificate:Certificate.createSelfSigned,createCertificate:Certificate.create,Identity:Identity,identityFromDN:Identity.parseDN,identityForHost:Identity.forHost,identityForUser:Identity.forUser,identityForEmail:Identity.forEmail,FingerprintFormatError:errs.FingerprintFormatError,InvalidAlgorithmError:errs.InvalidAlgorithmError,KeyParseError:errs.KeyParseError,SignatureParseError:errs.SignatureParseError,KeyEncryptedError:errs.KeyEncryptedError,CertificateParseError:errs.CertificateParseError};","node_modules/sshpk/lib/key.js":"module.exports=Key;var edCompat,assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),DiffieHellman=require(\"./dhe\").DiffieHellman,errs=require(\"./errors\"),utils=require(\"./utils\"),PrivateKey=require(\"./private-key\");try{edCompat=require(\"./ed-compat\")}catch(r){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require(\"./formats/auto\"),formats.pem=require(\"./formats/pem\"),formats.pkcs1=require(\"./formats/pkcs1\"),formats.pkcs8=require(\"./formats/pkcs8\"),formats.rfc4253=require(\"./formats/rfc4253\"),formats.ssh=require(\"./formats/ssh\"),formats[\"ssh-private\"]=require(\"./formats/ssh-private\"),formats.openssh=formats[\"ssh-private\"];function Key(r){assert.object(r,\"options\"),assert.arrayOfObject(r.parts,\"options.parts\"),assert.string(r.type,\"options.type\"),assert.optionalString(r.comment,\"options.comment\");var e=algs.info[r.type];if(\"object\"!=typeof e)throw new InvalidAlgorithmError(r.type);for(var t={},s=0;s<r.parts.length;++s){var i=r.parts[s];t[i.name]=i}this.type=r.type,this.parts=r.parts,this.part=t,this.comment=void 0,this.source=r.source,this._rfc4253Cache=r._rfc4253Cache,this._hashCache={};var a;if(this.curve=void 0,\"ecdsa\"===this.type){var o=this.part.curve.data.toString();this.curve=o,a=algs.curves[o].size}else if(\"ed25519\"===this.type||\"curve25519\"===this.type)a=256,this.curve=\"curve25519\";else{var n=this.part[e.sizePart];a=8*(a=n.data.length)-utils.countZeros(n.data)}this.size=a}Key.formats=formats,Key.prototype.toBuffer=function(r,e){return void 0===r&&(r=\"ssh\"),assert.string(r,\"format\"),assert.object(formats[r],\"formats[format]\"),assert.optionalObject(e,\"options\"),\"rfc4253\"===r?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[r].write(this,e)},Key.prototype.toString=function(r,e){return this.toBuffer(r,e).toString()},Key.prototype.hash=function(r){if(assert.string(r,\"algorithm\"),r=r.toLowerCase(),void 0===algs.hashAlgs[r])throw new InvalidAlgorithmError(r);if(this._hashCache[r])return this._hashCache[r];var e=crypto.createHash(r).update(this.toBuffer(\"rfc4253\")).digest();return this._hashCache[r]=e,e},Key.prototype.fingerprint=function(r){void 0===r&&(r=\"sha256\"),assert.string(r,\"algorithm\");var e={type:\"key\",hash:this.hash(r),algorithm:r};return new Fingerprint(e)},Key.prototype.defaultHashAlgorithm=function(){var r=\"sha1\";return\"rsa\"===this.type&&(r=\"sha256\"),\"dsa\"===this.type&&this.size>1024&&(r=\"sha256\"),\"ed25519\"===this.type&&(r=\"sha512\"),\"ecdsa\"===this.type&&(r=this.size<=256?\"sha256\":this.size<=384?\"sha384\":\"sha512\"),r},Key.prototype.createVerify=function(r){if(void 0===r&&(r=this.defaultHashAlgorithm()),assert.string(r,\"hash algorithm\"),\"ed25519\"===this.type&&void 0!==edCompat)return new edCompat.Verifier(this,r);if(\"curve25519\"===this.type)throw new Error(\"Curve25519 keys are not suitable for signing or verification\");var e,t,s;try{t=r.toUpperCase(),e=crypto.createVerify(t)}catch(r){s=r}(void 0===e||s instanceof Error&&s.message.match(/Unknown message digest/))&&(t=\"RSA-\",t+=r.toUpperCase(),e=crypto.createVerify(t)),assert.ok(e,\"failed to create verifier\");var i=e.verify.bind(e),a=this.toBuffer(\"pkcs8\"),o=this.curve,n=this;return e.verify=function(e,t){if(Signature.isSignature(e,[2,0]))return e.type===n.type&&((!e.hashAlgorithm||e.hashAlgorithm===r)&&((!e.curve||\"ecdsa\"!==n.type||e.curve===o)&&i(a,e.toBuffer(\"asn1\"))));if(\"string\"==typeof e||Buffer.isBuffer(e))return i(a,e,t);throw Signature.isSignature(e,[1,0])?new Error(\"signature was created by too old a version of sshpk and cannot be verified\"):new TypeError(\"signature must be a string, Buffer, or Signature object\")},e},Key.prototype.createDiffieHellman=function(){if(\"rsa\"===this.type)throw new Error(\"RSA keys do not support Diffie-Hellman\");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(r,e,t){\"string\"!=typeof r&&assert.buffer(r,\"data\"),void 0===e&&(e=\"auto\"),assert.string(e,\"format\"),\"string\"==typeof t&&(t={filename:t}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),assert.optionalString(t.filename,\"options.filename\"),void 0===t.filename&&(t.filename=\"(unnamed)\"),assert.object(formats[e],\"formats[format]\");try{var s=formats[e].read(r,t);return s instanceof PrivateKey&&(s=s.toPublic()),s.comment||(s.comment=t.filename),s}catch(r){if(\"KeyEncryptedError\"===r.name)throw r;throw new KeyParseError(t.filename,e,r)}},Key.isKey=function(r,e){return utils.isCompatible(r,Key,e)},Key.prototype._sshpkApiVersion=[1,5],Key._oldVersionDetect=function(r){return assert.func(r.toBuffer),assert.func(r.fingerprint),r.createDH?[1,4]:r.defaultHashAlgorithm?[1,3]:r.formats.auto?[1,2]:r.formats.pkcs1?[1,1]:[1,0]};","node_modules/sshpk/lib/fingerprint.js":"module.exports=Fingerprint;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),errs=require(\"./errors\"),Key=require(\"./key\"),Certificate=require(\"./certificate\"),utils=require(\"./utils\"),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Fingerprint(r){if(assert.object(r,\"options\"),assert.string(r.type,\"options.type\"),assert.buffer(r.hash,\"options.hash\"),assert.string(r.algorithm,\"options.algorithm\"),this.algorithm=r.algorithm.toLowerCase(),!0!==algs.hashAlgs[this.algorithm])throw new InvalidAlgorithmError(this.algorithm);this.hash=r.hash,this.type=r.type}Fingerprint.prototype.toString=function(r){switch(void 0===r&&(r=\"md5\"===this.algorithm?\"hex\":\"base64\"),assert.string(r),r){case\"hex\":return addColons(this.hash.toString(\"hex\"));case\"base64\":return sshBase64Format(this.algorithm,this.hash.toString(\"base64\"));default:throw new FingerprintFormatError(void 0,r)}},Fingerprint.prototype.matches=function(r){assert.object(r,\"key or certificate\"),\"key\"===this.type?utils.assertCompatible(r,Key,[1,0],\"key\"):utils.assertCompatible(r,Certificate,[1,0],\"certificate\");var t=r.hash(this.algorithm),e=crypto.createHash(this.algorithm).update(t).digest(\"base64\");return void 0===this.hash2&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest(\"base64\")),this.hash2===e},Fingerprint.parse=function(r,t){assert.string(r,\"fingerprint\");var e,i,s;Array.isArray(t)&&(s=t,t={}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),void 0!==t.enAlgs&&(s=t.enAlgs),assert.optionalArrayOfString(s,\"algorithms\");var o=r.split(\":\");if(2==o.length){e=o[0].toLowerCase();if(!/^[A-Za-z0-9+\\/=]+$/.test(o[1]))throw new FingerprintFormatError(r);try{i=new Buffer(o[1],\"base64\")}catch(t){throw new FingerprintFormatError(r)}}else if(o.length>2){e=\"md5\",\"md5\"===o[0].toLowerCase()&&(o=o.slice(1)),o=o.join(\"\");if(!/^[a-fA-F0-9]+$/.test(o))throw new FingerprintFormatError(r);try{i=new Buffer(o,\"hex\")}catch(t){throw new FingerprintFormatError(r)}}if(void 0===e)throw new FingerprintFormatError(r);if(void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(void 0!==s&&-1===(s=s.map(function(r){return r.toLowerCase()})).indexOf(e))throw new InvalidAlgorithmError(e);return new Fingerprint({algorithm:e,hash:i,type:t.type||\"key\"})};function addColons(r){return r.replace(/(.{2})(?=.)/g,\"$1:\")}function base64Strip(r){return r.replace(/=*$/,\"\")}function sshBase64Format(r,t){return r.toUpperCase()+\":\"+base64Strip(t)}Fingerprint.isFingerprint=function(r,t){return utils.isCompatible(r,Fingerprint,t)},Fingerprint.prototype._sshpkApiVersion=[1,1],Fingerprint._oldVersionDetect=function(r){return assert.func(r.toString),assert.func(r.matches),[1,0]};","node_modules/sshpk/lib/signature.js":"module.exports=Signature;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),errs=require(\"./errors\"),utils=require(\"./utils\"),asn1=require(\"asn1\"),SSHBuffer=require(\"./ssh-buffer\"),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;function Signature(r){assert.object(r,\"options\"),assert.arrayOfObject(r.parts,\"options.parts\"),assert.string(r.type,\"options.type\");for(var e={},t=0;t<r.parts.length;++t){var a=r.parts[t];e[a.name]=a}this.type=r.type,this.hashAlgorithm=r.hashAlgo,this.curve=r.curve,this.parts=r.parts,this.part=e}Signature.prototype.toBuffer=function(r){void 0===r&&(r=\"asn1\"),assert.string(r,\"format\");var e,t=\"ssh-\"+this.type;switch(this.type){case\"rsa\":switch(this.hashAlgorithm){case\"sha256\":t=\"rsa-sha2-256\";break;case\"sha512\":t=\"rsa-sha2-512\";break;case\"sha1\":case void 0:break;default:throw new Error(\"SSH signature format does not support hash algorithm \"+this.hashAlgorithm)}return\"ssh\"===r?((e=new SSHBuffer({})).writeString(t),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case\"ed25519\":return\"ssh\"===r?((e=new SSHBuffer({})).writeString(t),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case\"dsa\":case\"ecdsa\":var a,s;if(\"asn1\"===r){var i=new asn1.BerWriter;return i.startSequence(),a=utils.mpNormalize(this.part.r.data),s=utils.mpNormalize(this.part.s.data),i.writeBuffer(a,asn1.Ber.Integer),i.writeBuffer(s,asn1.Ber.Integer),i.endSequence(),i.buffer}if(\"ssh\"===r&&\"dsa\"===this.type){if((e=new SSHBuffer({})).writeString(\"ssh-dss\"),(a=this.part.r.data).length>20&&0===a[0]&&(a=a.slice(1)),(s=this.part.s.data).length>20&&0===s[0]&&(s=s.slice(1)),this.hashAlgorithm&&\"sha1\"!==this.hashAlgorithm||a.length+s.length!==40)throw new Error(\"OpenSSH only supports DSA signatures with SHA1 hash\");return e.writeBuffer(Buffer.concat([a,s])),e.toBuffer()}if(\"ssh\"===r&&\"ecdsa\"===this.type){var n=new SSHBuffer({});a=this.part.r.data,n.writeBuffer(a),n.writePart(this.part.s),e=new SSHBuffer({});var u;0===a[0]&&(a=a.slice(1));var h=8*a.length;return 256===h?u=\"nistp256\":384===h?u=\"nistp384\":528===h&&(u=\"nistp521\"),e.writeString(\"ecdsa-sha2-\"+u),e.writeBuffer(n.toBuffer()),e.toBuffer()}throw new Error(\"Invalid signature format\");default:throw new Error(\"Invalid signature data\")}},Signature.prototype.toString=function(r){return assert.optionalString(r,\"format\"),this.toBuffer(r).toString(\"base64\")},Signature.parse=function(r,e,t){\"string\"==typeof r&&(r=new Buffer(r,\"base64\")),assert.buffer(r,\"data\"),assert.string(t,\"format\"),assert.string(e,\"type\");var a={};a.type=e.toLowerCase(),a.parts=[];try{switch(assert.ok(r.length>0,\"signature must not be empty\"),a.type){case\"rsa\":case\"ed25519\":return parseOneNum(r,e,t,a);case\"dsa\":case\"ecdsa\":return\"asn1\"===t?parseDSAasn1(r,e,t,a):\"dsa\"===a.type?parseDSA(r,e,t,a):parseECDSA(r,e,t,a);default:throw new InvalidAlgorithmError(e)}}catch(r){if(r instanceof InvalidAlgorithmError)throw r;throw new SignatureParseError(e,t,r)}};function parseOneNum(r,e,t,a){if(\"ssh\"===t){try{var s=new SSHBuffer({buffer:r}),i=s.readString()}catch(r){}if(void 0!==s){var n=\"SSH signature does not match expected type (expected \"+e+\", got \"+i+\")\";switch(i){case\"ssh-rsa\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha1\";break;case\"rsa-sha2-256\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha256\";break;case\"rsa-sha2-512\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha512\";break;case\"ssh-ed25519\":assert.strictEqual(e,\"ed25519\",n),a.hashAlgo=\"sha512\";break;default:throw new Error(\"Unknown SSH signature type: \"+i)}var u=s.readPart();return assert.ok(s.atEnd(),\"extra trailing bytes\"),u.name=\"sig\",a.parts.push(u),new Signature(a)}}return a.parts.push({name:\"sig\",data:r}),new Signature(a)}function parseDSAasn1(r,e,t,a){var s=new asn1.BerReader(r);s.readSequence();var i=s.readString(asn1.Ber.Integer,!0),n=s.readString(asn1.Ber.Integer,!0);return a.parts.push({name:\"r\",data:utils.mpNormalize(i)}),a.parts.push({name:\"s\",data:utils.mpNormalize(n)}),new Signature(a)}function parseDSA(r,e,t,a){if(40!=r.length){var s=new SSHBuffer({buffer:r}),i=s.readBuffer();\"ssh-dss\"===i.toString(\"ascii\")&&(i=s.readBuffer()),assert.ok(s.atEnd(),\"extra trailing bytes\"),assert.strictEqual(i.length,40,\"invalid inner length\"),r=i}return a.parts.push({name:\"r\",data:r.slice(0,20)}),a.parts.push({name:\"s\",data:r.slice(20,40)}),new Signature(a)}function parseECDSA(r,e,t,a){var s,i,n=new SSHBuffer({buffer:r}),u=n.readBuffer(),h=u.toString(\"ascii\");if(\"ecdsa-\"===h.slice(0,6)){var o=h.split(\"-\");switch(assert.strictEqual(o[0],\"ecdsa\"),assert.strictEqual(o[1],\"sha2\"),a.curve=o[2],a.curve){case\"nistp256\":a.hashAlgo=\"sha256\";break;case\"nistp384\":a.hashAlgo=\"sha384\";break;case\"nistp521\":a.hashAlgo=\"sha512\";break;default:throw new Error(\"Unsupported ECDSA curve: \"+a.curve)}u=n.readBuffer(),assert.ok(n.atEnd(),\"extra trailing bytes on outer\"),s=(n=new SSHBuffer({buffer:u})).readPart()}else s={data:u};return i=n.readPart(),assert.ok(n.atEnd(),\"extra trailing bytes\"),s.name=\"r\",i.name=\"s\",a.parts.push(s),a.parts.push(i),new Signature(a)}Signature.isSignature=function(r,e){return utils.isCompatible(r,Signature,e)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(r){return assert.func(r.toBuffer),r.hasOwnProperty(\"hashAlgorithm\")?[2,0]:[1,0]};","node_modules/sshpk/lib/private-key.js":"module.exports=PrivateKey;var edCompat,nacl,assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),dhe=require(\"./dhe\"),generateECDSA=dhe.generateECDSA,generateED25519=dhe.generateED25519;try{edCompat=require(\"./ed-compat\")}catch(e){}var Key=require(\"./key\"),InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,KeyEncryptedError=errs.KeyEncryptedError,formats={};formats.auto=require(\"./formats/auto\"),formats.pem=require(\"./formats/pem\"),formats.pkcs1=require(\"./formats/pkcs1\"),formats.pkcs8=require(\"./formats/pkcs8\"),formats.rfc4253=require(\"./formats/rfc4253\"),formats[\"ssh-private\"]=require(\"./formats/ssh-private\"),formats.openssh=formats[\"ssh-private\"],formats.ssh=formats[\"ssh-private\"];function PrivateKey(e){assert.object(e,\"options\"),Key.call(this,e),this._pubCache=void 0}util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(e,r){return void 0===e&&(e=\"pkcs1\"),assert.string(e,\"format\"),assert.object(formats[e],\"formats[format]\"),assert.optionalObject(r,\"options\"),formats[e].write(this,r)},PrivateKey.prototype.hash=function(e){return this.toPublic().hash(e)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=algs.info[this.type],r=[],t=0;t<e.parts.length;++t){var a=e.parts[t];r.push(this.part[a])}return this._pubCache=new Key({type:this.type,source:this,parts:r}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(e){assert.string(e,\"type\");var r,t,a;if(\"ed25519\"===this.type&&\"curve25519\"===e)return void 0===nacl&&(nacl=require(\"tweetnacl\")),0===(r=this.part.r.data)[0]&&(r=r.slice(1)),r=r.slice(0,32),a=nacl.box.keyPair.fromSecretKey(new Uint8Array(r)),t=new Buffer(a.publicKey),r=Buffer.concat([r,t]),new PrivateKey({type:\"curve25519\",parts:[{name:\"R\",data:utils.mpNormalize(t)},{name:\"r\",data:r}]});if(\"curve25519\"===this.type&&\"ed25519\"===e)return void 0===nacl&&(nacl=require(\"tweetnacl\")),0===(r=this.part.r.data)[0]&&(r=r.slice(1)),r=r.slice(0,32),a=nacl.sign.keyPair.fromSeed(new Uint8Array(r)),t=new Buffer(a.publicKey),r=Buffer.concat([r,t]),new PrivateKey({type:\"ed25519\",parts:[{name:\"R\",data:utils.mpNormalize(t)},{name:\"r\",data:r}]});throw new Error(\"Key derivation not supported from \"+this.type+\" to \"+e)},PrivateKey.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},PrivateKey.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),assert.string(e,\"hash algorithm\"),\"ed25519\"===this.type&&void 0!==edCompat)return new edCompat.Signer(this,e);if(\"curve25519\"===this.type)throw new Error(\"Curve25519 keys are not suitable for signing or verification\");var r,t,a;try{t=e.toUpperCase(),r=crypto.createSign(t)}catch(e){a=e}(void 0===r||a instanceof Error&&a.message.match(/Unknown message digest/))&&(t=\"RSA-\",t+=e.toUpperCase(),r=crypto.createSign(t)),assert.ok(r,\"failed to create verifier\");var i=r.sign.bind(r),s=this.toBuffer(\"pkcs1\"),o=this.type,n=this.curve;return r.sign=function(){var r=i(s);return\"string\"==typeof r&&(r=new Buffer(r,\"binary\")),r=Signature.parse(r,o,\"asn1\"),r.hashAlgorithm=e,r.curve=n,r},r},PrivateKey.parse=function(e,r,t){\"string\"!=typeof e&&assert.buffer(e,\"data\"),void 0===r&&(r=\"auto\"),assert.string(r,\"format\"),\"string\"==typeof t&&(t={filename:t}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),assert.optionalString(t.filename,\"options.filename\"),void 0===t.filename&&(t.filename=\"(unnamed)\"),assert.object(formats[r],\"formats[format]\");try{var a=formats[r].read(e,t);return assert.ok(a instanceof PrivateKey,\"key is not a private key\"),a.comment||(a.comment=t.filename),a}catch(e){if(\"KeyEncryptedError\"===e.name)throw e;throw new KeyParseError(t.filename,r,e)}},PrivateKey.isPrivateKey=function(e,r){return utils.isCompatible(e,PrivateKey,r)},PrivateKey.generate=function(e,r){switch(void 0===r&&(r={}),assert.object(r,\"options\"),e){case\"ecdsa\":return void 0===r.curve&&(r.curve=\"nistp256\"),assert.string(r.curve,\"options.curve\"),generateECDSA(r.curve);case\"ed25519\":return generateED25519();default:throw new Error('Key generation not supported with key type \"'+e+'\"')}},PrivateKey.prototype._sshpkApiVersion=[1,4],PrivateKey._oldVersionDetect=function(e){return assert.func(e.toPublic),assert.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]};","node_modules/sshpk/lib/certificate.js":"module.exports=Certificate;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),Key=require(\"./key\"),PrivateKey=require(\"./private-key\"),Identity=require(\"./identity\"),formats={};formats.openssh=require(\"./formats/openssh-cert\"),formats.x509=require(\"./formats/x509\"),formats.pem=require(\"./formats/x509-pem\");var CertificateParseError=errs.CertificateParseError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Certificate(e){assert.object(e,\"options\"),assert.arrayOfObject(e.subjects,\"options.subjects\"),utils.assertCompatible(e.subjects[0],Identity,[1,0],\"options.subjects\"),utils.assertCompatible(e.subjectKey,Key,[1,0],\"options.subjectKey\"),utils.assertCompatible(e.issuer,Identity,[1,0],\"options.issuer\"),void 0!==e.issuerKey&&utils.assertCompatible(e.issuerKey,Key,[1,0],\"options.issuerKey\"),assert.object(e.signatures,\"options.signatures\"),assert.buffer(e.serial,\"options.serial\"),assert.date(e.validFrom,\"options.validFrom\"),assert.date(e.validUntil,\"optons.validUntil\"),assert.optionalArrayOfString(e.purposes,\"options.purposes\"),this._hashCache={},this.subjects=e.subjects,this.issuer=e.issuer,this.subjectKey=e.subjectKey,this.issuerKey=e.issuerKey,this.signatures=e.signatures,this.serial=e.serial,this.validFrom=e.validFrom,this.validUntil=e.validUntil,this.purposes=e.purposes}Certificate.formats=formats,Certificate.prototype.toBuffer=function(e,t){return void 0===e&&(e=\"x509\"),assert.string(e,\"format\"),assert.object(formats[e],\"formats[format]\"),assert.optionalObject(t,\"options\"),formats[e].write(this,t)},Certificate.prototype.toString=function(e,t){return void 0===e&&(e=\"pem\"),this.toBuffer(e,t).toString()},Certificate.prototype.fingerprint=function(e){void 0===e&&(e=\"sha256\"),assert.string(e,\"algorithm\");var t={type:\"certificate\",hash:this.hash(e),algorithm:e};return new Fingerprint(t)},Certificate.prototype.hash=function(e){if(assert.string(e,\"algorithm\"),e=e.toLowerCase(),void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(this._hashCache[e])return this._hashCache[e];var t=crypto.createHash(e).update(this.toBuffer(\"x509\")).digest();return this._hashCache[e]=t,t},Certificate.prototype.isExpired=function(e){return void 0===e&&(e=new Date),!(e.getTime()>=this.validFrom.getTime()&&e.getTime()<this.validUntil.getTime())},Certificate.prototype.isSignedBy=function(e){return utils.assertCompatible(e,Certificate,[1,0],\"issuer\"),!!this.issuer.equals(e.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf(\"ca\"))&&this.isSignedByKey(e.subjectKey))},Certificate.prototype.isSignedByKey=function(e){if(utils.assertCompatible(e,Key,[1,2],\"issuerKey\"),void 0!==this.issuerKey)return this.issuerKey.fingerprint(\"sha512\").matches(e);var t=Object.keys(this.signatures)[0],i=formats[t].verify(this,e);return i&&(this.issuerKey=e),i},Certificate.prototype.signWith=function(e){utils.assertCompatible(e,PrivateKey,[1,2],\"key\");for(var t=Object.keys(formats),i=!1,r=0;r<t.length;++r)if(\"pem\"!==t[r]){!0===formats[t[r]].sign(this,e)&&(i=!0)}if(!i)throw new Error(\"Failed to sign the certificate for any available certificate formats\")},Certificate.createSelfSigned=function(e,t,i){var r;r=Array.isArray(e)?e:[e],assert.arrayOfObject(r),r.forEach(function(e){utils.assertCompatible(e,Identity,[1,0],\"subject\")}),utils.assertCompatible(t,PrivateKey,[1,2],\"private key\"),assert.optionalObject(i,\"options\"),void 0===i&&(i={}),assert.optionalObject(i.validFrom,\"options.validFrom\"),assert.optionalObject(i.validUntil,\"options.validUntil\");var s=i.validFrom,a=i.validUntil;if(void 0===s&&(s=new Date),void 0===a){assert.optionalNumber(i.lifetime,\"options.lifetime\");var o=i.lifetime;void 0===o&&(o=31536e4),(a=new Date).setTime(a.getTime()+1e3*o)}assert.optionalBuffer(i.serial,\"options.serial\");var n=i.serial;void 0===n&&(n=new Buffer(\"0000000000000001\",\"hex\"));var u=i.purposes;if(void 0===u&&(u=[]),-1===u.indexOf(\"signature\")&&u.push(\"signature\"),-1===u.indexOf(\"ca\")&&u.push(\"ca\"),-1===u.indexOf(\"crl\")&&u.push(\"crl\"),u.length<=3){var l=r.filter(function(e){return\"host\"===e.type}),f=r.filter(function(e){return\"user\"===e.type});l.length>0&&-1===u.indexOf(\"serverAuth\")&&u.push(\"serverAuth\"),f.length>0&&-1===u.indexOf(\"clientAuth\")&&u.push(\"clientAuth\"),(f.length>0||l.length>0)&&(-1===u.indexOf(\"keyAgreement\")&&u.push(\"keyAgreement\"),\"rsa\"===t.type&&-1===u.indexOf(\"encryption\")&&u.push(\"encryption\"))}var p=new Certificate({subjects:r,issuer:r[0],subjectKey:t.toPublic(),issuerKey:t.toPublic(),signatures:{},serial:n,validFrom:s,validUntil:a,purposes:u});return p.signWith(t),p},Certificate.create=function(e,t,i,r,s){var a;a=Array.isArray(e)?e:[e],assert.arrayOfObject(a),a.forEach(function(e){utils.assertCompatible(e,Identity,[1,0],\"subject\")}),utils.assertCompatible(t,Key,[1,0],\"key\"),PrivateKey.isPrivateKey(t)&&(t=t.toPublic()),utils.assertCompatible(i,Identity,[1,0],\"issuer\"),utils.assertCompatible(r,PrivateKey,[1,2],\"issuer key\"),assert.optionalObject(s,\"options\"),void 0===s&&(s={}),assert.optionalObject(s.validFrom,\"options.validFrom\"),assert.optionalObject(s.validUntil,\"options.validUntil\");var o=s.validFrom,n=s.validUntil;if(void 0===o&&(o=new Date),void 0===n){assert.optionalNumber(s.lifetime,\"options.lifetime\");var u=s.lifetime;void 0===u&&(u=31536e4),(n=new Date).setTime(n.getTime()+1e3*u)}assert.optionalBuffer(s.serial,\"options.serial\");var l=s.serial;void 0===l&&(l=new Buffer(\"0000000000000001\",\"hex\"));var f=s.purposes;void 0===f&&(f=[]),-1===f.indexOf(\"signature\")&&f.push(\"signature\"),!0===s.ca&&(-1===f.indexOf(\"ca\")&&f.push(\"ca\"),-1===f.indexOf(\"crl\")&&f.push(\"crl\"));var p=a.filter(function(e){return\"host\"===e.type}),c=a.filter(function(e){return\"user\"===e.type});p.length>0&&-1===f.indexOf(\"serverAuth\")&&f.push(\"serverAuth\"),c.length>0&&-1===f.indexOf(\"clientAuth\")&&f.push(\"clientAuth\"),(c.length>0||p.length>0)&&(-1===f.indexOf(\"keyAgreement\")&&f.push(\"keyAgreement\"),\"rsa\"===t.type&&-1===f.indexOf(\"encryption\")&&f.push(\"encryption\"));var h=new Certificate({subjects:a,issuer:i,subjectKey:t,issuerKey:r.toPublic(),signatures:{},serial:l,validFrom:o,validUntil:n,purposes:f});return h.signWith(r),h},Certificate.parse=function(e,t,i){\"string\"!=typeof e&&assert.buffer(e,\"data\"),void 0===t&&(t=\"auto\"),assert.string(t,\"format\"),\"string\"==typeof i&&(i={filename:i}),assert.optionalObject(i,\"options\"),void 0===i&&(i={}),assert.optionalString(i.filename,\"options.filename\"),void 0===i.filename&&(i.filename=\"(unnamed)\"),assert.object(formats[t],\"formats[format]\");try{return formats[t].read(e,i)}catch(e){throw new CertificateParseError(i.filename,t,e)}},Certificate.isCertificate=function(e,t){return utils.isCompatible(e,Certificate,t)},Certificate.prototype._sshpkApiVersion=[1,0],Certificate._oldVersionDetect=function(e){return[1,0]};","node_modules/sshpk/lib/identity.js":"module.exports=Identity;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),asn1=require(\"asn1\"),DNS_NAME_RE=/^([*]|[a-z0-9][a-z0-9\\-]{0,62})(?:\\.([*]|[a-z0-9][a-z0-9\\-]{0,62}))*$/i,oids={};oids.cn=\"2.5.4.3\",oids.o=\"2.5.4.10\",oids.ou=\"2.5.4.11\",oids.l=\"2.5.4.7\",oids.s=\"2.5.4.8\",oids.c=\"2.5.4.6\",oids.sn=\"2.5.4.4\",oids.dc=\"0.9.2342.19200300.100.1.25\",oids.uid=\"0.9.2342.19200300.100.1.1\",oids.mail=\"0.9.2342.19200300.100.1.3\";var unoids={};Object.keys(oids).forEach(function(t){unoids[oids[t]]=t});function Identity(t){var e=this;if(assert.object(t,\"options\"),assert.arrayOfObject(t.components,\"options.components\"),this.components=t.components,this.componentLookup={},this.components.forEach(function(t){t.name&&!t.oid&&(t.oid=oids[t.name]),t.oid&&!t.name&&(t.name=unoids[t.oid]),void 0===e.componentLookup[t.name]&&(e.componentLookup[t.name]=[]),e.componentLookup[t.name].push(t)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),assert.optionalString(t.type,\"options.type\"),void 0===t.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type=\"host\",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type=\"host\",this.hostname=this.componentLookup.dc.map(function(t){return t.value}).join(\".\")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type=\"user\",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type=\"host\",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type=\"user\",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type=\"email\",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type=\"user\",this.uid=this.componentLookup.cn[0].value):this.type=\"unknown\";else if(this.type=t.type,\"host\"===this.type)this.hostname=t.hostname;else if(\"user\"===this.type)this.uid=t.uid;else{if(\"email\"!==this.type)throw new Error(\"Unknown type \"+this.type);this.email=t.email}}Identity.prototype.toString=function(){return this.components.map(function(t){return t.name.toUpperCase()+\"=\"+t.value}).join(\", \")};var NOT_PRINTABLE=/[^a-zA-Z0-9 '(),+.\\/:=?-]/,NOT_IA5=/[^\\x00-\\x7f]/;Identity.prototype.toAsn1=function(t,e){t.startSequence(e),this.components.forEach(function(e){if(t.startSequence(asn1.Ber.Constructor|asn1.Ber.Set),t.startSequence(),t.writeOID(e.oid),e.value.match(NOT_IA5)){var n=new Buffer(e.value,\"utf8\");t.writeBuffer(n,asn1.Ber.Utf8String)}else e.value.match(NOT_PRINTABLE)?t.writeString(e.value,asn1.Ber.IA5String):t.writeString(e.value,asn1.Ber.PrintableString);t.endSequence(),t.endSequence()}),t.endSequence()};function globMatch(t,e){if(\"**\"===t||\"**\"===e)return!0;var n=t.split(\".\"),o=e.split(\".\");if(n.length!==o.length)return!1;for(var i=0;i<n.length;++i)if(\"*\"!==n[i]&&\"*\"!==o[i]&&n[i]!==o[i])return!1;return!0}Identity.prototype.equals=function(t){if(!Identity.isIdentity(t,[1,0]))return!1;if(t.components.length!==this.components.length)return!1;for(var e=0;e<this.components.length;++e){if(this.components[e].oid!==t.components[e].oid)return!1;if(!globMatch(this.components[e].value,t.components[e].value))return!1}return!0},Identity.forHost=function(t){return assert.string(t,\"hostname\"),new Identity({type:\"host\",hostname:t,components:[{name:\"cn\",value:t}]})},Identity.forUser=function(t){return assert.string(t,\"uid\"),new Identity({type:\"user\",uid:t,components:[{name:\"uid\",value:t}]})},Identity.forEmail=function(t){return assert.string(t,\"email\"),new Identity({type:\"email\",email:t,components:[{name:\"mail\",value:t}]})},Identity.parseDN=function(t){assert.string(t,\"dn\");return new Identity({components:t.split(\",\").map(function(t){var e=(t=t.trim()).indexOf(\"=\");return{name:t.slice(0,e).toLowerCase(),value:t.slice(e+1)}})})},Identity.parseAsn1=function(t,e){var n=[];t.readSequence(e);for(var o=t.offset+t.length;t.offset<o;){t.readSequence(asn1.Ber.Constructor|asn1.Ber.Set);var i=t.offset+t.length;t.readSequence();var s,r=t.readOID(),u=t.peek();switch(u){case asn1.Ber.PrintableString:case asn1.Ber.IA5String:case asn1.Ber.OctetString:case asn1.Ber.T61String:s=t.readString(u);break;case asn1.Ber.Utf8String:s=(s=t.readString(u,!0)).toString(\"utf8\");break;case asn1.Ber.CharacterString:case asn1.Ber.BMPString:s=(s=t.readString(u,!0)).toString(\"utf16le\");break;default:throw new Error(\"Unknown asn1 type \"+u)}n.push({oid:r,value:s}),t._offset=i}return t._offset=o,new Identity({components:n})},Identity.isIdentity=function(t,e){return utils.isCompatible(t,Identity,e)},Identity.prototype._sshpkApiVersion=[1,0],Identity._oldVersionDetect=function(t){return[1,0]};","node_modules/sshpk/lib/errors.js":"var assert=require(\"assert-plus\"),util=require(\"util\");function FingerprintFormatError(r,e){Error.captureStackTrace&&Error.captureStackTrace(this,FingerprintFormatError),this.name=\"FingerprintFormatError\",this.fingerprint=r,this.format=e,this.message=\"Fingerprint format is not supported, or is invalid: \",void 0!==r&&(this.message+=\" fingerprint = \"+r),void 0!==e&&(this.message+=\" format = \"+e)}util.inherits(FingerprintFormatError,Error);function InvalidAlgorithmError(r){Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAlgorithmError),this.name=\"InvalidAlgorithmError\",this.algorithm=r,this.message='Algorithm \"'+r+'\" is not supported'}util.inherits(InvalidAlgorithmError,Error);function KeyParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,KeyParseError),this.name=\"KeyParseError\",this.format=e,this.keyName=r,this.innerErr=t,this.message=\"Failed to parse \"+r+\" as a valid \"+e+\" format key: \"+t.message}util.inherits(KeyParseError,Error);function SignatureParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,SignatureParseError),this.name=\"SignatureParseError\",this.type=r,this.format=e,this.innerErr=t,this.message=\"Failed to parse the given data as a \"+r+\" signature in \"+e+\" format: \"+t.message}util.inherits(SignatureParseError,Error);function CertificateParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,CertificateParseError),this.name=\"CertificateParseError\",this.format=e,this.certName=r,this.innerErr=t,this.message=\"Failed to parse \"+r+\" as a valid \"+e+\" format certificate: \"+t.message}util.inherits(CertificateParseError,Error);function KeyEncryptedError(r,e){Error.captureStackTrace&&Error.captureStackTrace(this,KeyEncryptedError),this.name=\"KeyEncryptedError\",this.format=e,this.keyName=r,this.message=\"The \"+e+\" format key \"+r+\" is encrypted (password-protected), and no passphrase was provided in `options`\"}util.inherits(KeyEncryptedError,Error),module.exports={FingerprintFormatError:FingerprintFormatError,InvalidAlgorithmError:InvalidAlgorithmError,KeyParseError:KeyParseError,SignatureParseError:SignatureParseError,KeyEncryptedError:KeyEncryptedError,CertificateParseError:CertificateParseError};","node_modules/sshpk/lib/algs.js":"var algInfo={dsa:{parts:[\"p\",\"q\",\"g\",\"y\"],sizePart:\"p\"},rsa:{parts:[\"e\",\"n\"],sizePart:\"n\"},ecdsa:{parts:[\"curve\",\"Q\"],sizePart:\"Q\"},ed25519:{parts:[\"R\"],normalize:!1,sizePart:\"R\"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:[\"p\",\"q\",\"g\",\"y\",\"x\"]},rsa:{parts:[\"n\",\"e\",\"d\",\"iqmp\",\"p\",\"q\"]},ecdsa:{parts:[\"curve\",\"Q\",\"d\"]},ed25519:{parts:[\"R\",\"r\"],normalize:!1}};algPrivInfo.curve25519=algPrivInfo.ed25519;var hashAlgs={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves={nistp256:{size:256,pkcs8oid:\"1.2.840.10045.3.1.7\",p:new Buffer(\"00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00c49d3608 86e70493 6a6678e1 139d26b7819f7e90\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5\".replace(/ /g,\"\"),\"hex\")},nistp384:{size:384,pkcs8oid:\"1.3.132.0.34\",p:new Buffer(\"00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00a335926a a319a27a 1d00896a 6773a4827acdac73\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f\".replace(/ /g,\"\"),\"hex\")},nistp521:{size:521,pkcs8oid:\"1.3.132.0.35\",p:new Buffer(\"01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00d09e8800 291cb853 96cc6717 393284aaa0da64ba\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650\".replace(/ /g,\"\"),\"hex\")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:hashAlgs,curves:curves};","node_modules/sshpk/lib/dhe.js":"module.exports={DiffieHellman:DiffieHellman,generateECDSA:generateECDSA,generateED25519:generateED25519};var nacl,ecdh,ec,jsbn,assert=require(\"assert-plus\"),crypto=require(\"crypto\"),algs=require(\"./algs\"),utils=require(\"./utils\"),Key=require(\"./key\"),PrivateKey=require(\"./private-key\"),CRYPTO_HAVE_ECDH=void 0!==crypto.createECDH;function DiffieHellman(e){if(utils.assertCompatible(e,Key,[1,4],\"key\"),this._isPriv=PrivateKey.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,\"dsa\"===e.type){if(!CRYPTO_HAVE_ECDH)throw new Error(\"Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH\");this._dh=crypto.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if(\"ecdsa\"===e.type){if(!CRYPTO_HAVE_ECDH)return void 0===ecdh&&(ecdh=require(\"ecc-jsbn\")),void 0===ec&&(ec=require(\"ecc-jsbn/lib/ec\")),void 0===jsbn&&(jsbn=require(\"jsbn\").BigInteger),this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,e.part.d.data)));var t={nistp256:\"prime256v1\",nistp384:\"secp384r1\",nistp521:\"secp521r1\"}[e.curve];if(this._dh=crypto.createECDH(t),\"object\"!=typeof this._dh||\"function\"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if(\"curve25519\"!==e.type)throw new Error(\"DH not supported for \"+e.type+\" keys\");void 0===nacl&&(nacl=require(\"tweetnacl\")),this._isPriv&&(this._priv=e.part.r.data)}}DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(e,t){if(assert.object(e,\"key\"),t||utils.assertCompatible(e,PrivateKey,[1,3],\"key\"),utils.assertCompatible(e,Key,[1,4],\"key\"),e.type!==this._algo)throw new Error(\"A \"+e.type+\" key cannot be used in \"+this._algo+\" Diffie-Hellman\");if(e.curve!==this._curve)throw new Error(\"A key from the \"+e.curve+\" curve cannot be used with a \"+this._curve+\" Diffie-Hellman\");\"dsa\"===e.type&&(assert.deepEqual(e.part.p,this._p,\"DSA key prime does not match\"),assert.deepEqual(e.part.g,this._g,\"DSA key generator does not match\"))},DiffieHellman.prototype.setKey=function(e){this._keyCheck(e),\"dsa\"===e.type?(this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)):\"ecdsa\"===e.type?CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new ECPrivate(this._ecParams,e.part.d.data):\"curve25519\"===e.type&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=e,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error(\"DH exchange has not been initialized with a private key yet\");var t;if(\"dsa\"===this._algo)return this._dh.computeSecret(e.part.y.data);if(\"ecdsa\"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(e.part.Q.data):(t=new ECPublic(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if(\"curve25519\"===this._algo){for(t=e.part.R.data;0===t[0]&&t.length>32;)t=t.slice(1);assert.strictEqual(t.length,32),assert.strictEqual(this._priv.length,64);var r=this._priv.slice(0,32),i=nacl.box.before(new Uint8Array(t),new Uint8Array(r));return new Buffer(i)}throw new Error(\"Invalid algorithm: \"+this._algo)},DiffieHellman.prototype.generateKey=function(){var e,t,r=[];if(\"dsa\"===this._algo)return this._dh.generateKeys(),r.push({name:\"p\",data:this._p.data}),r.push({name:\"q\",data:this._key.part.q.data}),r.push({name:\"g\",data:this._g.data}),r.push({name:\"y\",data:this._dh.getPublicKey()}),r.push({name:\"x\",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:\"dsa\",parts:r}),this._isPriv=!0,this._key;if(\"ecdsa\"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),r.push({name:\"curve\",data:new Buffer(this._curve)}),r.push({name:\"Q\",data:this._dh.getPublicKey()}),r.push({name:\"d\",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:\"ecdsa\",curve:this._curve,parts:r}),this._isPriv=!0,this._key;var i=this._ecParams.getN(),a=new jsbn(crypto.randomBytes(i.bitLength())),s=i.subtract(jsbn.ONE);return e=a.mod(s).add(jsbn.ONE),t=this._ecParams.getG().multiply(e),e=new Buffer(e.toByteArray()),t=new Buffer(this._ecParams.getCurve().encodePointHex(t),\"hex\"),this._priv=new ECPrivate(this._ecParams,e),r.push({name:\"curve\",data:new Buffer(this._curve)}),r.push({name:\"Q\",data:t}),r.push({name:\"d\",data:e}),this._key=new PrivateKey({type:\"ecdsa\",curve:this._curve,parts:r}),this._isPriv=!0,this._key}if(\"curve25519\"===this._algo){var n=nacl.box.keyPair();return e=new Buffer(n.secretKey),t=new Buffer(n.publicKey),e=Buffer.concat([e,t]),assert.strictEqual(e.length,64),assert.strictEqual(t.length,32),r.push({name:\"R\",data:t}),r.push({name:\"r\",data:e}),this._key=new PrivateKey({type:\"curve25519\",parts:r}),this._isPriv=!0,this._key}throw new Error(\"Invalid algorithm: \"+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey;function X9ECParameters(e){var t=algs.curves[e];assert.object(t);var r=new jsbn(t.p),i=new jsbn(t.a),a=new jsbn(t.b),s=new jsbn(t.n),n=jsbn.ONE,h=new ec.ECCurveFp(r,i,a),p=h.decodePointHex(t.G.toString(\"hex\"));this.curve=h,this.g=p,this.n=s,this.h=n}X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h};function ECPublic(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString(\"hex\"))}function ECPrivate(e,t){this._params=e,this._priv=new jsbn(utils.mpNormalize(t))}ECPrivate.prototype.deriveSharedSecret=function(e){assert.ok(e instanceof ECPublic);var t=e._pub.multiply(this._priv);return new Buffer(t.getX().toBigInteger().toByteArray())};function generateED25519(){void 0===nacl&&(nacl=require(\"tweetnacl\"));var e=nacl.sign.keyPair(),t=new Buffer(e.secretKey),r=new Buffer(e.publicKey);assert.strictEqual(t.length,64),assert.strictEqual(r.length,32);var i=[];i.push({name:\"R\",data:r}),i.push({name:\"r\",data:t});return new PrivateKey({type:\"ed25519\",parts:i})}function generateECDSA(e){var t=[];if(CRYPTO_HAVE_ECDH){var r={nistp256:\"prime256v1\",nistp384:\"secp384r1\",nistp521:\"secp521r1\"}[e],i=crypto.createECDH(r);return i.generateKeys(),t.push({name:\"curve\",data:new Buffer(e)}),t.push({name:\"Q\",data:i.getPublicKey()}),t.push({name:\"d\",data:i.getPrivateKey()}),new PrivateKey({type:\"ecdsa\",curve:e,parts:t})}void 0===ecdh&&(ecdh=require(\"ecc-jsbn\")),void 0===ec&&(ec=require(\"ecc-jsbn/lib/ec\")),void 0===jsbn&&(jsbn=require(\"jsbn\").BigInteger);var a=new X9ECParameters(e),s=a.getN(),n=Math.ceil((s.bitLength()+64)/8),h=new jsbn(crypto.randomBytes(n)),p=s.subtract(jsbn.ONE),c=h.mod(p).add(jsbn.ONE),u=a.getG().multiply(c);return c=new Buffer(c.toByteArray()),u=new Buffer(a.getCurve().encodePointHex(u),\"hex\"),t.push({name:\"curve\",data:new Buffer(e)}),t.push({name:\"Q\",data:u}),t.push({name:\"d\",data:c}),new PrivateKey({type:\"ecdsa\",curve:e,parts:t})}","node_modules/sshpk/lib/utils.js":"module.exports={bufferSplit:bufferSplit,addRSAMissing:addRSAMissing,calculateDSAPublic:calculateDSAPublic,mpNormalize:mpNormalize,ecNormalize:ecNormalize,countZeros:countZeros,assertCompatible:assertCompatible,isCompatible:isCompatible,opensslKeyDeriv:opensslKeyDeriv,opensshCipherInfo:opensshCipherInfo};var assert=require(\"assert-plus\"),PrivateKey=require(\"./private-key\"),crypto=require(\"crypto\"),MAX_CLASS_DEPTH=3;function isCompatible(e,r,t){if(null===e||\"object\"!=typeof e)return!1;if(void 0===t&&(t=r.prototype._sshpkApiVersion),e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])return!0;for(var s=Object.getPrototypeOf(e),a=0;s.constructor.name!==r.name;)if(!(s=Object.getPrototypeOf(s))||++a>MAX_CLASS_DEPTH)return!1;if(s.constructor.name!==r.name)return!1;var o=s._sshpkApiVersion;return void 0===o&&(o=r._oldVersionDetect(e)),!(o[0]!=t[0]||o[1]<t[1])}function assertCompatible(e,r,t,s){if(void 0===s&&(s=\"object\"),assert.ok(e,s+\" must not be null\"),assert.object(e,s+\" must be an object\"),void 0===t&&(t=r.prototype._sshpkApiVersion),!(e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])){for(var a=Object.getPrototypeOf(e),o=0;a.constructor.name!==r.name;)a=Object.getPrototypeOf(a),assert.ok(a&&++o<=MAX_CLASS_DEPTH,s+\" must be a \"+r.name+\" instance\");assert.strictEqual(a.constructor.name,r.name,s+\" must be a \"+r.name+\" instance\");var i=a._sshpkApiVersion;void 0===i&&(i=r._oldVersionDetect(e)),assert.ok(i[0]==t[0]&&i[1]>=t[1],s+\" must be compatible with \"+r.name+\" klass version \"+t[0]+\".\"+t[1])}}var CIPHER_LEN={\"des-ede3-cbc\":{key:7,iv:8},\"aes-128-cbc\":{key:16,iv:16}},PKCS5_SALT_LEN=8;function opensslKeyDeriv(e,r,t,s){assert.buffer(r,\"salt\"),assert.buffer(t,\"passphrase\"),assert.number(s,\"iteration count\");var a=CIPHER_LEN[e];assert.object(a,\"supported cipher\"),r=r.slice(0,PKCS5_SALT_LEN);for(var o,i,n,c=new Buffer(0);c.length<a.key+a.iv;){n=[],i&&n.push(i),n.push(t),n.push(r),o=Buffer.concat(n);for(var p=0;p<s;++p)o=crypto.createHash(\"md5\").update(o).digest();c=Buffer.concat([c,o]),i=o}return{key:c.slice(0,a.key),iv:c.slice(a.key,a.key+a.iv)}}function countZeros(e){for(var r=0,t=8;r<e.length;){var s=1<<t;if((e[r]&s)===s)break;--t<0&&(r++,t=8)}return 8*r+(8-t)-1}function bufferSplit(e,r){assert.buffer(e),assert.string(r);for(var t=[],s=0,a=0,o=0;o<e.length;++o)if(e[o]===r.charCodeAt(a)?++a:a=e[o]===r.charCodeAt(0)?1:0,a>=r.length){var i=o+1;t.push(e.slice(s,i-a)),s=i,a=0}return s<=e.length&&t.push(e.slice(s,e.length)),t}function ecNormalize(e,r){if(assert.buffer(e),0===e[0]&&4===e[1])return r?e:e.slice(1);if(4===e[0]){if(!r)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error(\"Compressed elliptic curve points are not supported\");if(4!==e[0])throw new Error(\"Not a valid elliptic curve point\");if(!r)return e}var t=new Buffer(e.length+1);return t[0]=0,e.copy(t,1),t}function mpNormalize(e){for(assert.buffer(e);e.length>1&&0===e[0]&&0==(128&e[1]);)e=e.slice(1);if(128==(128&e[0])){var r=new Buffer(e.length+1);r[0]=0,e.copy(r,1),e=r}return e}function bigintToMpBuf(e){var r=new Buffer(e.toByteArray());return r=mpNormalize(r)}function calculateDSAPublic(e,r,t){assert.buffer(e),assert.buffer(r),assert.buffer(t);try{var s=require(\"jsbn\").BigInteger}catch(e){throw new Error(\"To load a PKCS#8 format DSA private key, the node jsbn library is required.\")}e=new s(e),r=new s(r),t=new s(t);return bigintToMpBuf(e.modPow(t,r))}function addRSAMissing(e){assert.object(e),assertCompatible(e,PrivateKey,[1,1]);try{var r=require(\"jsbn\").BigInteger}catch(e){throw new Error(\"To write a PEM private key from this source, the node jsbn lib is required.\")}var t,s=new r(e.part.d.data);if(!e.part.dmodp){var a=new r(e.part.p.data);t=bigintToMpBuf(s.mod(a.subtract(1))),e.part.dmodp={name:\"dmodp\",data:t},e.parts.push(e.part.dmodp)}if(!e.part.dmodq){var o=new r(e.part.q.data);t=bigintToMpBuf(s.mod(o.subtract(1))),e.part.dmodq={name:\"dmodq\",data:t},e.parts.push(e.part.dmodq)}}function opensshCipherInfo(e){var r={};switch(e){case\"3des-cbc\":r.keySize=24,r.blockSize=8,r.opensslName=\"des-ede3-cbc\";break;case\"blowfish-cbc\":r.keySize=16,r.blockSize=8,r.opensslName=\"bf-cbc\";break;case\"aes128-cbc\":case\"aes128-ctr\":case\"aes128-gcm@openssh.com\":r.keySize=16,r.blockSize=16,r.opensslName=\"aes-128-\"+e.slice(7,10);break;case\"aes192-cbc\":case\"aes192-ctr\":case\"aes192-gcm@openssh.com\":r.keySize=24,r.blockSize=16,r.opensslName=\"aes-192-\"+e.slice(7,10);break;case\"aes256-cbc\":case\"aes256-ctr\":case\"aes256-gcm@openssh.com\":r.keySize=32,r.blockSize=16,r.opensslName=\"aes-256-\"+e.slice(7,10);break;default:throw new Error('Unsupported openssl cipher \"'+e+'\"')}return r}","node_modules/sshpk/lib/ed-compat.js":"module.exports={Verifier:Verifier,Signer:Signer};var nacl,stream=require(\"stream\"),util=require(\"util\"),assert=require(\"assert-plus\"),Signature=require(\"./signature\");function Verifier(e,r){if(void 0===nacl&&(nacl=require(\"tweetnacl\")),\"sha512\"!==r.toLowerCase())throw new Error(\"ED25519 only supports the use of SHA-512 hashes\");this.key=e,this.chunks=[],stream.Writable.call(this,{})}util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(e,r,t){this.chunks.push(e),t()},Verifier.prototype.update=function(e){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),this.chunks.push(e)},Verifier.prototype.verify=function(e,r){var t;if(Signature.isSignature(e,[2,0])){if(\"ed25519\"!==e.type)return!1;t=e.toBuffer(\"raw\")}else if(\"string\"==typeof e)t=new Buffer(e,\"base64\");else if(Signature.isSignature(e,[1,0]))throw new Error(\"signature was created by too old a version of sshpk and cannot be verified\");return assert.buffer(t),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(t),new Uint8Array(this.key.part.R.data))};function Signer(e,r){if(void 0===nacl&&(nacl=require(\"tweetnacl\")),\"sha512\"!==r.toLowerCase())throw new Error(\"ED25519 only supports the use of SHA-512 hashes\");this.key=e,this.chunks=[],stream.Writable.call(this,{})}util.inherits(Signer,stream.Writable),Signer.prototype._write=function(e,r,t){this.chunks.push(e),t()},Signer.prototype.update=function(e){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),this.chunks.push(e)},Signer.prototype.sign=function(){var e=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),r=new Buffer(e),t=Signature.parse(r,\"ed25519\",\"raw\");return t.hashAlgorithm=\"sha512\",t};","node_modules/sshpk/lib/formats/auto.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),ssh=require(\"./ssh\"),rfc4253=require(\"./rfc4253\");function read(e,r){if(\"string\"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(e,r);if(e.match(/^\\s*ssh-[a-z]/))return ssh.read(e,r);if(e.match(/^\\s*ecdsa-/))return ssh.read(e,r);e=new Buffer(e,\"binary\")}else{if(assert.buffer(e),findPEMHeader(e))return pem.read(e,r);if(findSSHHeader(e))return ssh.read(e,r)}if(e.readUInt32BE(0)<e.length)return rfc4253.read(e,r);throw new Error(\"Failed to auto-detect format of key\")}function findSSHHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]||9===e[r]);)++r;return r+4<=e.length&&\"ssh-\"===e.slice(r,r+4).toString(\"ascii\")||r+6<=e.length&&\"ecdsa-\"===e.slice(r,r+6).toString(\"ascii\")}function findPEMHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]);)++r;if(45!==e[r])return!1;for(;r<e.length&&45===e[r];)++r;for(;r<e.length&&32===e[r];)++r;return!(r+5>e.length||\"BEGIN\"!==e.slice(r,r+5).toString(\"ascii\"))}function write(e,r){throw new Error('\"auto\" format cannot be used for writing')}","node_modules/sshpk/lib/formats/pem.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),crypto=require(\"crypto\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pkcs1=require(\"./pkcs1\"),pkcs8=require(\"./pkcs8\"),sshpriv=require(\"./ssh-private\"),rfc4253=require(\"./rfc4253\"),errors=require(\"../errors\");function read(e,r,s){var t=e;\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var a=e.trim().split(\"\\n\"),i=a[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(i,\"invalid PEM header\");var c=a[a.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(c,\"invalid PEM footer\"),assert.equal(i[2],c[2]);var n,o=i[2].toLowerCase();i[1]&&(assert.equal(i[1],c[1],\"PEM header and footer mismatch\"),n=i[1].trim());for(var p={};a=a.slice(1),i=a[0].match(/^([A-Za-z0-9-]+): (.+)$/);)p[i[1].toLowerCase()]=i[2];var u,f,l;if(p[\"proc-type\"]){var h=p[\"proc-type\"].split(\",\");if(\"4\"===h[0]&&\"ENCRYPTED\"===h[1]){if(\"string\"==typeof r.passphrase&&(r.passphrase=new Buffer(r.passphrase,\"utf-8\")),!Buffer.isBuffer(r.passphrase))throw new errors.KeyEncryptedError(r.filename,\"PEM\");h=p[\"dek-info\"].split(\",\"),assert.ok(2===h.length),u=h[0].toLowerCase(),l=new Buffer(h[1],\"hex\"),f=utils.opensslKeyDeriv(u,l,r.passphrase,1).key}}if(a=a.slice(0,-1).join(\"\"),e=new Buffer(a,\"base64\"),u&&f&&l){var k,w=crypto.createDecipheriv(u,f,l),E=[];for(w.once(\"error\",function(e){if(-1!==e.toString().indexOf(\"bad decrypt\"))throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");throw e}),w.write(e),w.end();null!==(k=w.read());)E.push(k);e=Buffer.concat(E)}if(n&&\"openssh\"===n.toLowerCase())return sshpriv.readSSHPrivate(o,e,r);if(n&&\"ssh2\"===n.toLowerCase())return rfc4253.readType(o,e,r);var d=new asn1.BerReader(e);return d.originalInput=t,d.readSequence(),n?(s&&assert.strictEqual(s,\"pkcs1\"),pkcs1.readPkcs1(n,o,d)):(s&&assert.strictEqual(s,\"pkcs8\"),pkcs8.readPkcs8(n,o,d))}function write(e,r,s){assert.object(e);var t,a={ecdsa:\"EC\",rsa:\"RSA\",dsa:\"DSA\"}[e.type],i=new asn1.BerWriter;if(PrivateKey.isPrivateKey(e))s&&\"pkcs8\"===s?(t=\"PRIVATE KEY\",pkcs8.writePkcs8(i,e)):(s&&assert.strictEqual(s,\"pkcs1\"),t=a+\" PRIVATE KEY\",pkcs1.writePkcs1(i,e));else{if(!Key.isKey(e))throw new Error(\"key is not a Key or PrivateKey\");s&&\"pkcs1\"===s?(t=a+\" PUBLIC KEY\",pkcs1.writePkcs1(i,e)):(s&&assert.strictEqual(s,\"pkcs8\"),t=\"PUBLIC KEY\",pkcs8.writePkcs8(i,e))}var c=i.buffer.toString(\"base64\"),n=c.length+c.length/64+18+16+2*t.length+10,o=new Buffer(n),p=0;p+=o.write(\"-----BEGIN \"+t+\"-----\\n\",p);for(var u=0;u<c.length;){var f=u+64;f>c.length&&(f=c.length),p+=o.write(c.slice(u,f),p),o[p++]=10,u=f}return p+=o.write(\"-----END \"+t+\"-----\\n\",p),o.slice(0,p)}","node_modules/sshpk/lib/formats/pkcs1.js":"module.exports={read:read,readPkcs1:readPkcs1,write:write,writePkcs1:writePkcs1};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),pkcs8=require(\"./pkcs8\"),readECDSACurve=pkcs8.readECDSACurve;function read(e,r){return pem.read(e,r,\"pkcs1\")}function write(e,r){return pem.write(e,r,\"pkcs1\")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs1(e,r,a){switch(e){case\"RSA\":if(\"public\"===r)return readPkcs1RSAPublic(a);if(\"private\"===r)return readPkcs1RSAPrivate(a);throw new Error(\"Unknown key type: \"+r);case\"DSA\":if(\"public\"===r)return readPkcs1DSAPublic(a);if(\"private\"===r)return readPkcs1DSAPrivate(a);throw new Error(\"Unknown key type: \"+r);case\"EC\":case\"ECDSA\":if(\"private\"===r)return readPkcs1ECDSAPrivate(a);if(\"public\"===r)return readPkcs1ECDSAPublic(a);throw new Error(\"Unknown key type: \"+r);default:throw new Error(\"Unknown key algo: \"+e)}}function readPkcs1RSAPublic(e){var r=readMPInt(e,\"modulus\"),a=readMPInt(e,\"exponent\");return new Key({type:\"rsa\",parts:[{name:\"e\",data:a},{name:\"n\",data:r}]})}function readPkcs1RSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r[0],0);var a=readMPInt(e,\"modulus\"),t=readMPInt(e,\"public exponent\"),n=readMPInt(e,\"private exponent\"),i=readMPInt(e,\"prime1\"),s=readMPInt(e,\"prime2\"),d=readMPInt(e,\"exponent1\"),u=readMPInt(e,\"exponent2\"),c=readMPInt(e,\"iqmp\");return new PrivateKey({type:\"rsa\",parts:[{name:\"n\",data:a},{name:\"e\",data:t},{name:\"d\",data:n},{name:\"iqmp\",data:c},{name:\"p\",data:i},{name:\"q\",data:s},{name:\"dmodp\",data:d},{name:\"dmodq\",data:u}]})}function readPkcs1DSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r.readUInt8(0),0);var a=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),n=readMPInt(e,\"g\"),i=readMPInt(e,\"y\"),s=readMPInt(e,\"x\");return new PrivateKey({type:\"dsa\",parts:[{name:\"p\",data:a},{name:\"q\",data:t},{name:\"g\",data:n},{name:\"y\",data:i},{name:\"x\",data:s}]})}function readPkcs1DSAPublic(e){var r=readMPInt(e,\"y\"),a=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),n=readMPInt(e,\"g\");return new Key({type:\"dsa\",parts:[{name:\"y\",data:r},{name:\"p\",data:a},{name:\"q\",data:t},{name:\"g\",data:n}]})}function readPkcs1ECDSAPublic(e){e.readSequence();var r=e.readOID();assert.strictEqual(r,\"1.2.840.10045.2.1\",\"must be ecPublicKey\");for(var a,t=e.readOID(),n=Object.keys(algs.curves),i=0;i<n.length;++i){var s=n[i];if(algs.curves[s].pkcs8oid===t){a=s;break}}assert.string(a,\"a known ECDSA named curve\");var d=e.readString(asn1.Ber.BitString,!0);d=utils.ecNormalize(d);var u={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(a)},{name:\"Q\",data:d}]};return new Key(u)}function readPkcs1ECDSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r.readUInt8(0),1);var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(160);var t=readECDSACurve(e);assert.string(t,\"a known elliptic curve\"),e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(t)},{name:\"Q\",data:n},{name:\"d\",data:a}]};return new PrivateKey(i)}function writePkcs1(e,r){switch(e.startSequence(),r.type){case\"rsa\":PrivateKey.isPrivateKey(r)?writePkcs1RSAPrivate(e,r):writePkcs1RSAPublic(e,r);break;case\"dsa\":PrivateKey.isPrivateKey(r)?writePkcs1DSAPrivate(e,r):writePkcs1DSAPublic(e,r);break;case\"ecdsa\":PrivateKey.isPrivateKey(r)?writePkcs1ECDSAPrivate(e,r):writePkcs1ECDSAPublic(e,r);break;default:throw new Error(\"Unknown key algo: \"+r.type)}e.endSequence()}function writePkcs1RSAPublic(e,r){e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer)}function writePkcs1RSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),r.part.dmodp&&r.part.dmodq||utils.addRSAMissing(r),e.writeBuffer(r.part.dmodp.data,asn1.Ber.Integer),e.writeBuffer(r.part.dmodq.data,asn1.Ber.Integer),e.writeBuffer(r.part.iqmp.data,asn1.Ber.Integer)}function writePkcs1DSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer),e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.x.data,asn1.Ber.Integer)}function writePkcs1DSAPublic(e,r){e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer)}function writePkcs1ECDSAPublic(e,r){e.startSequence(),e.writeOID(\"1.2.840.10045.2.1\");var a=r.part.curve.data.toString(),t=algs.curves[a].pkcs8oid;assert.string(t,\"a known ECDSA named curve\"),e.writeOID(t),e.endSequence();var n=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(n,asn1.Ber.BitString)}function writePkcs1ECDSAPrivate(e,r){var a=new Buffer(1);a[0]=1,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.OctetString),e.startSequence(160);var t=r.part.curve.data.toString(),n=algs.curves[t].pkcs8oid;assert.string(n,\"a known ECDSA named curve\"),e.writeOID(n),e.endSequence(),e.startSequence(161);var i=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(i,asn1.Ber.BitString),e.endSequence()}","node_modules/sshpk/lib/formats/pkcs8.js":"module.exports={read:read,readPkcs8:readPkcs8,write:write,writePkcs8:writePkcs8,readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\");function read(e,r){return pem.read(e,r,\"pkcs8\")}function write(e,r){return pem.write(e,r,\"pkcs8\")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs8(e,r,t){t.peek()===asn1.Ber.Integer&&(assert.strictEqual(r,\"private\",\"unexpected Integer at start of public key\"),t.readString(asn1.Ber.Integer,!0)),t.readSequence();var a=t.offset+t.length,n=t.readOID();switch(n){case\"1.2.840.113549.1.1.1\":return t._offset=a,\"public\"===r?readPkcs8RSAPublic(t):readPkcs8RSAPrivate(t);case\"1.2.840.10040.4.1\":return\"public\"===r?readPkcs8DSAPublic(t):readPkcs8DSAPrivate(t);case\"1.2.840.10045.2.1\":return\"public\"===r?readPkcs8ECDSAPublic(t):readPkcs8ECDSAPrivate(t);default:throw new Error(\"Unknown key type OID \"+n)}}function readPkcs8RSAPublic(e){e.readSequence(asn1.Ber.BitString),e.readByte(),e.readSequence();var r=readMPInt(e,\"modulus\"),t=readMPInt(e,\"exponent\"),a={type:\"rsa\",source:e.originalInput,parts:[{name:\"e\",data:t},{name:\"n\",data:r}]};return new Key(a)}function readPkcs8RSAPrivate(e){e.readSequence(asn1.Ber.OctetString),e.readSequence();var r=readMPInt(e,\"version\");assert.equal(r[0],0,\"unknown RSA private key version\");var t=readMPInt(e,\"modulus\"),a=readMPInt(e,\"public exponent\"),n=readMPInt(e,\"private exponent\"),i=readMPInt(e,\"prime1\"),s=readMPInt(e,\"prime2\"),u=readMPInt(e,\"exponent1\"),c=readMPInt(e,\"exponent2\"),d=readMPInt(e,\"iqmp\");return new PrivateKey({type:\"rsa\",parts:[{name:\"n\",data:t},{name:\"e\",data:a},{name:\"d\",data:n},{name:\"iqmp\",data:d},{name:\"p\",data:i},{name:\"q\",data:s},{name:\"dmodp\",data:u},{name:\"dmodq\",data:c}]})}function readPkcs8DSAPublic(e){e.readSequence();var r=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),a=readMPInt(e,\"g\");e.readSequence(asn1.Ber.BitString),e.readByte();var n=readMPInt(e,\"y\");return new Key({type:\"dsa\",parts:[{name:\"p\",data:r},{name:\"q\",data:t},{name:\"g\",data:a},{name:\"y\",data:n}]})}function readPkcs8DSAPrivate(e){e.readSequence();var r=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),a=readMPInt(e,\"g\");e.readSequence(asn1.Ber.OctetString);var n=readMPInt(e,\"x\"),i=utils.calculateDSAPublic(a,r,n);return new PrivateKey({type:\"dsa\",parts:[{name:\"p\",data:r},{name:\"q\",data:t},{name:\"g\",data:a},{name:\"y\",data:i},{name:\"x\",data:n}]})}function readECDSACurve(e){var r,t,a,n,i;if(e.peek()===asn1.Ber.OID){var s=e.readOID();for(t=Object.keys(algs.curves),a=0;a<t.length;++a)if(n=t[a],(i=algs.curves[n]).pkcs8oid===s){r=n;break}}else{e.readSequence();var u=e.readString(asn1.Ber.Integer,!0);assert.strictEqual(u[0],1,\"ECDSA key not version 1\");var c={};e.readSequence();var d=e.readOID();assert.strictEqual(d,\"1.2.840.10045.1.1\",\"ECDSA key is not from a prime-field\");var S=c.p=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0));c.size=8*S.length-utils.countZeros(S),e.readSequence(),c.a=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),c.b=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),e.peek()===asn1.Ber.BitString&&(c.s=e.readString(asn1.Ber.BitString,!0)),c.G=e.readString(asn1.Ber.OctetString,!0),assert.strictEqual(c.G[0],4,\"uncompressed G is required\"),c.n=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),c.h=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),assert.strictEqual(c.h[0],1,\"a cofactor=1 curve is required\"),t=Object.keys(algs.curves);var f=Object.keys(c);for(a=0;a<t.length;++a){n=t[a],i=algs.curves[n];for(var B=!0,p=0;p<f.length;++p){var g=f[p];if(void 0!==i[g])if(\"object\"==typeof i[g]&&void 0!==i[g].equals){if(!i[g].equals(c[g])){B=!1;break}}else if(Buffer.isBuffer(i[g])){if(i[g].toString(\"binary\")!==c[g].toString(\"binary\")){B=!1;break}}else if(i[g]!==c[g]){B=!1;break}}if(B){r=n;break}}}return r}function readPkcs8ECDSAPrivate(e){var r=readECDSACurve(e);assert.string(r,\"a known elliptic curve\"),e.readSequence(asn1.Ber.OctetString),e.readSequence();var t=readMPInt(e,\"version\");assert.equal(t[0],1,\"unknown version of ECDSA key\");var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(r)},{name:\"Q\",data:n},{name:\"d\",data:a}]};return new PrivateKey(i)}function readPkcs8ECDSAPublic(e){var r=readECDSACurve(e);assert.string(r,\"a known elliptic curve\");var t=e.readString(asn1.Ber.BitString,!0);t=utils.ecNormalize(t);var a={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(r)},{name:\"Q\",data:t}]};return new Key(a)}function writePkcs8(e,r){if(e.startSequence(),PrivateKey.isPrivateKey(r)){var t=new Buffer(1);t[0]=0,e.writeBuffer(t,asn1.Ber.Integer)}switch(e.startSequence(),r.type){case\"rsa\":e.writeOID(\"1.2.840.113549.1.1.1\"),PrivateKey.isPrivateKey(r)?writePkcs8RSAPrivate(r,e):writePkcs8RSAPublic(r,e);break;case\"dsa\":e.writeOID(\"1.2.840.10040.4.1\"),PrivateKey.isPrivateKey(r)?writePkcs8DSAPrivate(r,e):writePkcs8DSAPublic(r,e);break;case\"ecdsa\":e.writeOID(\"1.2.840.10045.2.1\"),PrivateKey.isPrivateKey(r)?writePkcs8ECDSAPrivate(r,e):writePkcs8ECDSAPublic(r,e);break;default:throw new Error(\"Unsupported key type: \"+r.type)}e.endSequence()}function writePkcs8RSAPrivate(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=0,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.Integer),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),e.part.dmodp&&e.part.dmodq||utils.addRSAMissing(e),r.writeBuffer(e.part.dmodp.data,asn1.Ber.Integer),r.writeBuffer(e.part.dmodq.data,asn1.Ber.Integer),r.writeBuffer(e.part.iqmp.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8RSAPublic(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8DSAPrivate(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.writeBuffer(e.part.x.data,asn1.Ber.Integer),r.endSequence()}function writePkcs8DSAPublic(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.writeBuffer(e.part.y.data,asn1.Ber.Integer),r.endSequence()}function writeECDSACurve(e,r){var t=algs.curves[e.curve];if(t.pkcs8oid)r.writeOID(t.pkcs8oid);else{r.startSequence();var a=new Buffer(1);a.writeUInt8(1,0),r.writeBuffer(a,asn1.Ber.Integer),r.startSequence(),r.writeOID(\"1.2.840.10045.1.1\"),r.writeBuffer(t.p,asn1.Ber.Integer),r.endSequence(),r.startSequence();var n=t.p;0===n[0]&&(n=n.slice(1)),r.writeBuffer(n,asn1.Ber.OctetString),r.writeBuffer(t.b,asn1.Ber.OctetString),r.writeBuffer(t.s,asn1.Ber.BitString),r.endSequence(),r.writeBuffer(t.G,asn1.Ber.OctetString),r.writeBuffer(t.n,asn1.Ber.Integer);var i=t.h;i||((i=new Buffer(1))[0]=1),r.writeBuffer(i,asn1.Ber.Integer),r.endSequence()}}function writePkcs8ECDSAPublic(e,r){writeECDSACurve(e,r),r.endSequence();var t=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(t,asn1.Ber.BitString)}function writePkcs8ECDSAPrivate(e,r){writeECDSACurve(e,r),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=1,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.OctetString),r.startSequence(161);var a=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(a,asn1.Ber.BitString),r.endSequence(),r.endSequence(),r.endSequence()}","node_modules/sshpk/lib/formats/rfc4253.js":"module.exports={read:read.bind(void 0,!1,void 0),readType:read.bind(void 0,!1),write:write,readPartial:read.bind(void 0,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=require(\"assert-plus\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),SSHBuffer=require(\"../ssh-buffer\");function algToKeyType(e){if(assert.string(e),\"ssh-dss\"===e)return\"dsa\";if(\"ssh-rsa\"===e)return\"rsa\";if(\"ssh-ed25519\"===e)return\"ed25519\";if(\"ssh-curve25519\"===e)return\"curve25519\";if(e.match(/^ecdsa-sha2-/))return\"ecdsa\";throw new Error(\"Unknown algorithm \"+e)}function keyTypeToAlg(e){if(assert.object(e),\"dsa\"===e.type)return\"ssh-dss\";if(\"rsa\"===e.type)return\"ssh-rsa\";if(\"ed25519\"===e.type)return\"ssh-ed25519\";if(\"curve25519\"===e.type)return\"ssh-curve25519\";if(\"ecdsa\"===e.type)return\"ecdsa-sha2-\"+e.part.curve.data.toString();throw new Error(\"Unknown key type \"+e.type)}function read(e,r,t,a){\"string\"==typeof t&&(t=new Buffer(t)),assert.buffer(t,\"buf\");var s={},n=s.parts=[],i=new SSHBuffer({buffer:t}),o=i.readString();assert.ok(!i.atEnd(),\"key must have at least one part\"),s.type=algToKeyType(o);var f=algs.info[s.type].parts.length;for(r&&\"private\"===r&&(f=algs.privInfo[s.type].parts.length);!i.atEnd()&&n.length<f;)n.push(i.readPart());for(;!e&&!i.atEnd();)n.push(i.readPart());assert.ok(n.length>=1,\"key must have at least one part\"),assert.ok(e||i.atEnd(),\"leftover bytes at end of key\");var u=Key,p=algs.info[s.type];if(\"private\"!==r&&p.parts.length===n.length||(p=algs.privInfo[s.type],u=PrivateKey),assert.strictEqual(p.parts.length,n.length),\"ecdsa\"===s.type){var d=/^ecdsa-sha2-(.+)$/.exec(o);assert.ok(null!==d),assert.strictEqual(d[1],n[0].data.toString())}for(var y=!0,l=0;l<p.parts.length;++l)if(n[l].name=p.parts[l],\"curve\"!==n[l].name&&!1!==p.normalize){var g=n[l],v=utils.mpNormalize(g.data);v!==g.data&&(g.data=v,y=!1)}return y&&(s._rfc4253Cache=i.toBuffer()),e&&\"object\"==typeof e&&(e.remainder=i.remainder(),e.consumed=i._offset),new u(s)}function write(e,r){assert.object(e);var t,a=keyTypeToAlg(e),s=algs.info[e.type];PrivateKey.isPrivateKey(e)&&(s=algs.privInfo[e.type]);var n=s.parts,i=new SSHBuffer({});for(i.writeString(a),t=0;t<n.length;++t){var o=e.part[n[t]].data;!1!==s.normalize&&(o=utils.mpNormalize(o)),i.writeBuffer(o)}return i.toBuffer()}","node_modules/sshpk/lib/formats/ssh.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),rfc4253=require(\"./rfc4253\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),sshpriv=require(\"./ssh-private\"),SSHKEY_RE=/^([a-z0-9-]+)[ \\t]+([a-zA-Z0-9+\\/]+[=]*)([\\n \\t]+([^\\n]+))?$/,SSHKEY_RE2=/^([a-z0-9-]+)[ \\t]+([a-zA-Z0-9+\\/ \\t\\n]+[=]*)(.*)$/;function read(e,r){\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var t=e.trim().replace(/[\\\\\\r]/g,\"\"),a=t.match(SSHKEY_RE);a||(a=t.match(SSHKEY_RE2)),assert.ok(a,\"key must match regex\");var s,c=rfc4253.algToKeyType(a[1]),i=new Buffer(a[2],\"base64\"),u={};if(a[4])try{s=rfc4253.read(i)}catch(e){a=t.match(SSHKEY_RE2),assert.ok(a,\"key must match regex\"),i=new Buffer(a[2],\"base64\"),s=rfc4253.readInternal(u,\"public\",i)}else s=rfc4253.readInternal(u,\"public\",i);if(assert.strictEqual(c,s.type),a[4]&&a[4].length>0)s.comment=a[4];else if(u.consumed){var n=a[2]+a[3],f=4*Math.ceil(u.consumed/3);n=n.slice(0,f-2).replace(/[^a-zA-Z0-9+\\/=]/g,\"\")+n.slice(f-2);for(u.consumed%3>0&&\"=\"!==n.slice(f-1,f)&&f--;\"=\"===n.slice(f,f+1);)f++;var l=n.slice(f);(l=l.replace(/[\\r\\n]/g,\" \").replace(/^\\s+/,\"\")).match(/^[a-zA-Z0-9]/)&&(s.comment=l)}return s}function write(e,r){if(assert.object(e),!Key.isKey(e))throw new Error(\"Must be a public key\");var t=[],a=rfc4253.keyTypeToAlg(e);t.push(a);var s=rfc4253.write(e);return t.push(s.toString(\"base64\")),e.comment&&t.push(e.comment),new Buffer(t.join(\" \"))}","node_modules/sshpk/lib/formats/ssh-private.js":"module.exports={read:read,readSSHPrivate:readSSHPrivate,write:write};var bcrypt,assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),crypto=require(\"crypto\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),rfc4253=require(\"./rfc4253\"),SSHBuffer=require(\"../ssh-buffer\"),errors=require(\"../errors\");function read(e,r){return pem.read(e,r)}var MAGIC=\"openssh-key-v1\";function readSSHPrivate(e,r,t){var n=(r=new SSHBuffer({buffer:r})).readCString();assert.strictEqual(n,MAGIC,\"bad magic string\");var i=r.readString(),a=r.readString(),f=r.readBuffer();if(1!==r.readInt())throw new Error(\"OpenSSH-format key file contains multiple keys: this is unsupported.\");var s=r.readBuffer();if(\"public\"===e)return assert.ok(r.atEnd(),\"excess bytes left after key\"),rfc4253.read(s);var o=r.readBuffer();assert.ok(r.atEnd(),\"excess bytes left after key\");var u=new SSHBuffer({buffer:f});switch(a){case\"none\":if(\"none\"!==i)throw new Error('OpenSSH-format key uses KDF \"none\" but specifies a cipher other than \"none\"');break;case\"bcrypt\":var p=u.readBuffer(),c=u.readInt(),d=utils.opensshCipherInfo(i);if(void 0===bcrypt&&(bcrypt=require(\"bcrypt-pbkdf\")),\"string\"==typeof t.passphrase&&(t.passphrase=new Buffer(t.passphrase,\"utf-8\")),!Buffer.isBuffer(t.passphrase))throw new errors.KeyEncryptedError(t.filename,\"OpenSSH\");var y=new Uint8Array(t.passphrase),w=new Uint8Array(p),l=new Uint8Array(d.keySize+d.blockSize);if(0!==bcrypt.pbkdf(y,y.length,w,w.length,l,l.length,c))throw new Error(\"bcrypt_pbkdf function returned failure, parameters invalid\");var S=(l=new Buffer(l)).slice(0,d.keySize),h=l.slice(d.keySize,d.keySize+d.blockSize),v=crypto.createDecipheriv(d.opensslName,S,h);v.setAutoPadding(!1);var b,k=[];for(v.once(\"error\",function(e){if(-1!==e.toString().indexOf(\"bad decrypt\"))throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");throw e}),v.write(o),v.end();null!==(b=v.read());)k.push(b);o=Buffer.concat(k);break;default:throw new Error('OpenSSH-format key uses unknown KDF \"'+a+'\"')}if((r=new SSHBuffer({buffer:o})).readInt()!==r.readInt())throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");var B={},g=rfc4253.readInternal(B,\"private\",r.remainder());r.skip(B.consumed);var m=r.readString();return g.comment=m,g}function write(e,r){var t;t=PrivateKey.isPrivateKey(e)?e.toPublic():e;var n,i=\"none\",a=\"none\",f=new Buffer(0),s={blockSize:8};void 0!==r&&(\"string\"==typeof(n=r.passphrase)&&(n=new Buffer(n,\"utf-8\")),void 0!==n&&(assert.buffer(n,\"options.passphrase\"),assert.optionalString(r.cipher,\"options.cipher\"),void 0===(i=r.cipher)&&(i=\"aes128-ctr\"),s=utils.opensshCipherInfo(i),a=\"bcrypt\"));var o;if(PrivateKey.isPrivateKey(e)){o=new SSHBuffer({});var u=crypto.randomBytes(4).readUInt32BE(0);o.writeInt(u),o.writeInt(u),o.write(e.toBuffer(\"rfc4253\")),o.writeString(e.comment||\"\");for(var p=1;o._offset%s.blockSize!=0;)o.writeChar(p++);o=o.toBuffer()}switch(a){case\"none\":break;case\"bcrypt\":var c=crypto.randomBytes(16),d=new SSHBuffer({});d.writeBuffer(c),d.writeInt(16),f=d.toBuffer(),void 0===bcrypt&&(bcrypt=require(\"bcrypt-pbkdf\"));var y=new Uint8Array(n),w=new Uint8Array(c),l=new Uint8Array(s.keySize+s.blockSize);if(0!==bcrypt.pbkdf(y,y.length,w,w.length,l,l.length,16))throw new Error(\"bcrypt_pbkdf function returned failure, parameters invalid\");var S=(l=new Buffer(l)).slice(0,s.keySize),h=l.slice(s.keySize,s.keySize+s.blockSize),v=crypto.createCipheriv(s.opensslName,S,h);v.setAutoPadding(!1);var b,k=[];for(v.once(\"error\",function(e){throw e}),v.write(o),v.end();null!==(b=v.read());)k.push(b);o=Buffer.concat(k);break;default:throw new Error(\"Unsupported kdf \"+a)}var B=new SSHBuffer({});B.writeCString(MAGIC),B.writeString(i),B.writeString(a),B.writeBuffer(f),B.writeInt(1),B.writeBuffer(t.toBuffer(\"rfc4253\")),o&&B.writeBuffer(o),B=B.toBuffer();var g;g=PrivateKey.isPrivateKey(e)?\"OPENSSH PRIVATE KEY\":\"OPENSSH PUBLIC KEY\";var m=B.toString(\"base64\"),E=m.length+m.length/70+18+16+2*g.length+10,I=0;I+=(B=new Buffer(E)).write(\"-----BEGIN \"+g+\"-----\\n\",I);for(var P=0;P<m.length;){var H=P+70;H>m.length&&(H=m.length),I+=B.write(m.slice(P,H),I),B[I++]=10,P=H}return I+=B.write(\"-----END \"+g+\"-----\\n\",I),B.slice(0,I)}","node_modules/sshpk/lib/formats/openssh-cert.js":"module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write,fromBuffer:fromBuffer,toBuffer:toBuffer};var assert=require(\"assert-plus\"),SSHBuffer=require(\"../ssh-buffer\"),crypto=require(\"crypto\"),algs=require(\"../algs\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),Identity=require(\"../identity\"),rfc4253=require(\"./rfc4253\"),Signature=require(\"../signature\"),utils=require(\"../utils\"),Certificate=require(\"../certificate\");function verify(e,r){return!1}var TYPES={user:1,host:2};Object.keys(TYPES).forEach(function(e){TYPES[TYPES[e]]=e});var ECDSA_ALGO=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;function read(e,r){Buffer.isBuffer(e)&&(e=e.toString(\"ascii\"));var t=e.trim().split(/[ \\t\\n]+/g);if(t.length<2||t.length>3)throw new Error(\"Not a valid SSH certificate line\");var s=t[0],n=t[1];return n=new Buffer(n,\"base64\"),fromBuffer(n,s)}function fromBuffer(e,r,t){var s=new SSHBuffer({buffer:e}),n=s.readString();if(void 0!==r&&n!==r)throw new Error(\"SSH certificate algorithm mismatch\");void 0===r&&(r=n);var i={};i.signatures={},i.signatures.openssh={},i.signatures.openssh.nonce=s.readBuffer();var a={},u=a.parts=[];a.type=getAlg(r);for(var o=algs.info[a.type].parts.length;u.length<o;)u.push(s.readPart());assert.ok(u.length>=1,\"key must have at least one part\");var f=algs.info[a.type];if(\"ecdsa\"===a.type){var c=ECDSA_ALGO.exec(r);assert.ok(null!==c),assert.strictEqual(c[1],u[0].data.toString())}for(var d=0;d<f.parts.length;++d)if(u[d].name=f.parts[d],\"curve\"!==u[d].name&&!1!==f.normalize){var h=u[d];h.data=utils.mpNormalize(h.data)}i.subjectKey=new Key(a),i.serial=s.readInt64();var p=TYPES[s.readInt()];assert.string(p,\"valid cert type\"),i.signatures.openssh.keyId=s.readString();for(var v=[],g=s.readBuffer(),y=new SSHBuffer({buffer:g});!y.atEnd();)v.push(y.readString());0===v.length&&(v=[\"*\"]),i.subjects=v.map(function(e){if(\"user\"===p)return Identity.forUser(e);if(\"host\"===p)return Identity.forHost(e);throw new Error(\"Unknown identity type \"+p)}),i.validFrom=int64ToDate(s.readInt64()),i.validUntil=int64ToDate(s.readInt64()),i.signatures.openssh.critical=s.readBuffer(),i.signatures.openssh.exts=s.readBuffer(),s.readBuffer();var l=s.readBuffer();i.issuerKey=rfc4253.read(l),i.issuer=Identity.forHost(\"**\");var w=s.readBuffer();return i.signatures.openssh.signature=Signature.parse(w,i.issuerKey.type,\"ssh\"),void 0!==t&&(t.remainder=s.remainder(),t.consumed=s._offset),new Certificate(i)}function int64ToDate(e){var r=4294967296*e.readUInt32BE(0);r+=e.readUInt32BE(4);var t=new Date;return t.setTime(1e3*r),t.sourceInt64=e,t}function dateToInt64(e){if(void 0!==e.sourceInt64)return e.sourceInt64;var r=Math.round(e.getTime()/1e3),t=Math.floor(r/4294967296),s=Math.floor(r%4294967296),n=new Buffer(8);return n.writeUInt32BE(t,0),n.writeUInt32BE(s,4),n}function sign(e,r){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var t=toBuffer(e,!0)}catch(r){return delete e.signatures.openssh,!1}var s=e.signatures.openssh,n=void 0;\"rsa\"!==r.type&&\"dsa\"!==r.type||(n=\"sha1\");var i=r.createSign(n);return i.write(t),s.signature=i.sign(),!0}function signAsync(e,r,t){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var s=toBuffer(e,!0)}catch(r){return delete e.signatures.openssh,void t(r)}var n=e.signatures.openssh;r(s,function(e,r){if(e)t(e);else{try{r.toBuffer(\"ssh\")}catch(e){return void t(e)}n.signature=r,t()}})}function write(e,r){void 0===r&&(r={});var t=toBuffer(e),s=getCertType(e.subjectKey)+\" \"+t.toString(\"base64\");return r.comment&&(s=s+\" \"+r.comment),s}function toBuffer(e,r){assert.object(e.signatures.openssh,\"signature for openssh format\");var t=e.signatures.openssh;void 0===t.nonce&&(t.nonce=crypto.randomBytes(16));var s=new SSHBuffer({});s.writeString(getCertType(e.subjectKey)),s.writeBuffer(t.nonce);var n=e.subjectKey;algs.info[n.type].parts.forEach(function(e){s.writePart(n.part[e])}),s.writeInt64(e.serial);var i=e.subjects[0].type;assert.notStrictEqual(i,\"unknown\"),e.subjects.forEach(function(e){assert.strictEqual(e.type,i)}),i=TYPES[i],s.writeInt(i),void 0===t.keyId&&(t.keyId=e.subjects[0].type+\"_\"+(e.subjects[0].uid||e.subjects[0].hostname)),s.writeString(t.keyId);var a=new SSHBuffer({});return e.subjects.forEach(function(e){i===TYPES.host?a.writeString(e.hostname):i===TYPES.user&&a.writeString(e.uid)}),s.writeBuffer(a.toBuffer()),s.writeInt64(dateToInt64(e.validFrom)),s.writeInt64(dateToInt64(e.validUntil)),void 0===t.critical&&(t.critical=new Buffer(0)),s.writeBuffer(t.critical),void 0===t.exts&&(t.exts=new Buffer(0)),s.writeBuffer(t.exts),s.writeBuffer(new Buffer(0)),a=rfc4253.write(e.issuerKey),s.writeBuffer(a),r||s.writeBuffer(t.signature.toBuffer(\"ssh\")),s.toBuffer()}function getAlg(e){if(\"ssh-rsa-cert-v01@openssh.com\"===e)return\"rsa\";if(\"ssh-dss-cert-v01@openssh.com\"===e)return\"dsa\";if(e.match(ECDSA_ALGO))return\"ecdsa\";if(\"ssh-ed25519-cert-v01@openssh.com\"===e)return\"ed25519\";throw new Error(\"Unsupported cert type \"+e)}function getCertType(e){if(\"rsa\"===e.type)return\"ssh-rsa-cert-v01@openssh.com\";if(\"dsa\"===e.type)return\"ssh-dss-cert-v01@openssh.com\";if(\"ecdsa\"===e.type)return\"ecdsa-sha2-\"+e.curve+\"-cert-v01@openssh.com\";if(\"ed25519\"===e.type)return\"ssh-ed25519-cert-v01@openssh.com\";throw new Error(\"Unsupported key type \"+e.type)}","node_modules/sshpk/lib/formats/x509.js":"module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),Identity=require(\"../identity\"),Signature=require(\"../signature\"),Certificate=require(\"../certificate\"),pkcs8=require(\"./pkcs8\");function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function verify(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\");var a=t.algo.split(\"-\");if(a[0]!==r.type)return!1;var s=t.cache;if(void 0===s){var n=new asn1.BerWriter;writeTBSCert(e,n),s=n.buffer}var i=r.createVerify(a[1]);return i.write(s),i.verify(t.signature)}function Local(e){return asn1.Ber.Context|asn1.Ber.Constructor|e}function Context(e){return asn1.Ber.Context|e}var SIGN_ALGS={\"rsa-md5\":\"1.2.840.113549.1.1.4\",\"rsa-sha1\":\"1.2.840.113549.1.1.5\",\"rsa-sha256\":\"1.2.840.113549.1.1.11\",\"rsa-sha384\":\"1.2.840.113549.1.1.12\",\"rsa-sha512\":\"1.2.840.113549.1.1.13\",\"dsa-sha1\":\"1.2.840.10040.4.3\",\"dsa-sha256\":\"2.16.840.1.101.3.4.3.2\",\"ecdsa-sha1\":\"1.2.840.10045.4.1\",\"ecdsa-sha256\":\"1.2.840.10045.4.3.2\",\"ecdsa-sha384\":\"1.2.840.10045.4.3.3\",\"ecdsa-sha512\":\"1.2.840.10045.4.3.4\"};Object.keys(SIGN_ALGS).forEach(function(e){SIGN_ALGS[SIGN_ALGS[e]]=e}),SIGN_ALGS[\"1.3.14.3.2.3\"]=\"rsa-md5\",SIGN_ALGS[\"1.3.14.3.2.29\"]=\"rsa-sha1\";var EXTS={issuerKeyId:\"2.5.29.35\",altName:\"2.5.29.17\",basicConstraints:\"2.5.29.19\",keyUsage:\"2.5.29.15\",extKeyUsage:\"2.5.29.37\"};function read(e,r){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),assert.buffer(e,\"buf\");var t=new asn1.BerReader(e);if(t.readSequence(),Math.abs(t.length-t.remain)>1)throw new Error(\"DER sequence does not contain whole byte stream\");var a=t.offset;t.readSequence();var s=t.offset+t.length,n=s;if(t.peek()===Local(0)){t.readSequence(Local(0));var i=t.readInt();assert.ok(i<=3,\"only x.509 versions up to v3 supported\")}var o={};o.signatures={};var u=o.signatures.x509={};u.extras={},o.serial=readMPInt(t,\"serial\"),t.readSequence();var c=t.offset+t.length,f=t.readOID();if(void 0===SIGN_ALGS[f])throw new Error(\"unknown signature algorithm \"+f);if(t._offset=c,o.issuer=Identity.parseAsn1(t),t.readSequence(),o.validFrom=readDate(t),o.validUntil=readDate(t),o.subjects=[Identity.parseAsn1(t)],t.readSequence(),c=t.offset+t.length,o.subjectKey=pkcs8.readPkcs8(void 0,\"public\",t),t._offset=c,t.peek()===Local(1)&&(t.readSequence(Local(1)),u.extras.issuerUniqueID=e.slice(t.offset,t.offset+t.length),t._offset+=t.length),t.peek()===Local(2)&&(t.readSequence(Local(2)),u.extras.subjectUniqueID=e.slice(t.offset,t.offset+t.length),t._offset+=t.length),t.peek()===Local(3)){t.readSequence(Local(3));var d=t.offset+t.length;for(t.readSequence();t.offset<d;)readExtension(o,e,t);assert.strictEqual(t.offset,d)}assert.strictEqual(t.offset,s),t.readSequence(),c=t.offset+t.length;var l=t.readOID(),S=SIGN_ALGS[l];if(void 0===S)throw new Error(\"unknown signature algorithm \"+l);t._offset=c;var g=t.readString(asn1.Ber.BitString,!0);0===g[0]&&(g=g.slice(1));var p=S.split(\"-\");return u.signature=Signature.parse(g,p[0],\"asn1\"),u.signature.hashAlgorithm=p[1],u.algo=S,u.cache=e.slice(a,n),new Certificate(o)}function readDate(e){if(e.peek()===asn1.Ber.UTCTime)return utcTimeToDate(e.readString(asn1.Ber.UTCTime));if(e.peek()===asn1.Ber.GeneralizedTime)return gTimeToDate(e.readString(asn1.Ber.GeneralizedTime));throw new Error(\"Unsupported date format\")}var ALTNAME={OtherName:Local(0),RFC822Name:Context(1),DNSName:Context(2),X400Address:Local(3),DirectoryName:Local(4),EDIPartyName:Local(5),URI:Context(6),IPAddress:Context(7),OID:Context(8)},EXTPURPOSE={serverAuth:\"1.3.6.1.5.5.7.3.1\",clientAuth:\"1.3.6.1.5.5.7.3.2\",codeSigning:\"1.3.6.1.5.5.7.3.3\",joyentDocker:\"1.3.6.1.4.1.38678.1.4.1\",joyentCmon:\"1.3.6.1.4.1.38678.1.4.2\"},EXTPURPOSE_REV={};Object.keys(EXTPURPOSE).forEach(function(e){EXTPURPOSE_REV[EXTPURPOSE[e]]=e});var KEYUSEBITS=[\"signature\",\"identity\",\"keyEncryption\",\"encryption\",\"keyAgreement\",\"ca\",\"crl\"];function readExtension(e,r,t){t.readSequence();var a,s=t.offset+t.length,n=t.readOID(),i=e.signatures.x509;i.extras.exts=[];var o;switch(t.peek()===asn1.Ber.Boolean&&(o=t.readBoolean()),n){case EXTS.basicConstraints:t.readSequence(asn1.Ber.OctetString),t.readSequence();var u=t.offset+t.length,c=!1;t.peek()===asn1.Ber.Boolean&&(c=t.readBoolean()),void 0===e.purposes&&(e.purposes=[]),!0===c&&e.purposes.push(\"ca\");var f={oid:n,critical:o};t.offset<u&&t.peek()===asn1.Ber.Integer&&(f.pathLen=t.readInt()),i.extras.exts.push(f);break;case EXTS.extKeyUsage:t.readSequence(asn1.Ber.OctetString),t.readSequence(),void 0===e.purposes&&(e.purposes=[]);for(var d=t.offset+t.length;t.offset<d;){var l=t.readOID();e.purposes.push(EXTPURPOSE_REV[l]||l)}-1!==e.purposes.indexOf(\"serverAuth\")&&-1===e.purposes.indexOf(\"clientAuth\")?e.subjects.forEach(function(e){\"host\"!==e.type&&(e.type=\"host\",e.hostname=e.uid||e.email||e.components[0].value)}):-1!==e.purposes.indexOf(\"clientAuth\")&&-1===e.purposes.indexOf(\"serverAuth\")&&e.subjects.forEach(function(e){\"user\"!==e.type&&(e.type=\"user\",e.uid=e.hostname||e.email||e.components[0].value)}),i.extras.exts.push({oid:n,critical:o});break;case EXTS.keyUsage:t.readSequence(asn1.Ber.OctetString);var S=t.readString(asn1.Ber.BitString,!0);readBitField(S,KEYUSEBITS).forEach(function(r){void 0===e.purposes&&(e.purposes=[]),-1===e.purposes.indexOf(r)&&e.purposes.push(r)}),i.extras.exts.push({oid:n,critical:o,bits:S});break;case EXTS.altName:t.readSequence(asn1.Ber.OctetString),t.readSequence();for(var g=t.offset+t.length;t.offset<g;)switch(t.peek()){case ALTNAME.OtherName:case ALTNAME.EDIPartyName:t.readSequence(),t._offset+=t.length;break;case ALTNAME.OID:t.readOID(ALTNAME.OID);break;case ALTNAME.RFC822Name:var p=t.readString(ALTNAME.RFC822Name);a=Identity.forEmail(p),e.subjects[0].equals(a)||e.subjects.push(a);break;case ALTNAME.DirectoryName:t.readSequence(ALTNAME.DirectoryName),a=Identity.parseAsn1(t),e.subjects[0].equals(a)||e.subjects.push(a);break;case ALTNAME.DNSName:var h=t.readString(ALTNAME.DNSName);a=Identity.forHost(h),e.subjects[0].equals(a)||e.subjects.push(a);break;default:t.readString(t.peek())}i.extras.exts.push({oid:n,critical:o});break;default:i.extras.exts.push({oid:n,critical:o,data:t.readString(asn1.Ber.OctetString,!0)})}t._offset=s}var UTCTIME_RE=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function utcTimeToDate(e){var r=e.match(UTCTIME_RE);assert.ok(r,\"timestamps must be in UTC\");var t=new Date,a=t.getUTCFullYear(),s=100*Math.floor(a/100),n=parseInt(r[1],10);return n+=a%100<50&&n>=60?s-1:s,t.setUTCFullYear(n,parseInt(r[2],10)-1,parseInt(r[3],10)),t.setUTCHours(parseInt(r[4],10),parseInt(r[5],10)),r[6]&&r[6].length>0&&t.setUTCSeconds(parseInt(r[6],10)),t}var GTIME_RE=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function gTimeToDate(e){var r=e.match(GTIME_RE);assert.ok(r);var t=new Date;return t.setUTCFullYear(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10)),t.setUTCHours(parseInt(r[4],10),parseInt(r[5],10)),r[6]&&r[6].length>0&&t.setUTCSeconds(parseInt(r[6],10)),t}function zeroPad(e){for(var r=\"\"+e;r.length<2;)r=\"0\"+r;return r}function dateToUTCTime(e){var r=\"\";return r+=zeroPad(e.getUTCFullYear()%100),r+=zeroPad(e.getUTCMonth()+1),r+=zeroPad(e.getUTCDate()),r+=zeroPad(e.getUTCHours()),r+=zeroPad(e.getUTCMinutes()),r+=zeroPad(e.getUTCSeconds()),r+=\"Z\"}function sign(e,r){void 0===e.signatures.x509&&(e.signatures.x509={});var t=e.signatures.x509;if(t.algo=r.type+\"-\"+r.defaultHashAlgorithm(),void 0===SIGN_ALGS[t.algo])return!1;var a=new asn1.BerWriter;writeTBSCert(e,a);var s=a.buffer;t.cache=s;var n=r.createSign();return n.write(s),e.signatures.x509.signature=n.sign(),!0}function signAsync(e,r,t){void 0===e.signatures.x509&&(e.signatures.x509={});var a=e.signatures.x509,s=new asn1.BerWriter;writeTBSCert(e,s);var n=s.buffer;a.cache=n,r(n,function(e,r){e?t(e):(a.algo=r.type+\"-\"+r.hashAlgorithm,void 0!==SIGN_ALGS[a.algo]?(a.signature=r,t()):t(new Error('Invalid signing algorithm \"'+a.algo+'\"')))})}function write(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\");var a=new asn1.BerWriter;a.startSequence(),t.cache?(a._ensure(t.cache.length),t.cache.copy(a._buf,a._offset),a._offset+=t.cache.length):writeTBSCert(e,a),a.startSequence(),a.writeOID(SIGN_ALGS[t.algo]),t.algo.match(/^rsa-/)&&a.writeNull(),a.endSequence();var s=t.signature.toBuffer(\"asn1\"),n=new Buffer(s.length+1);return n[0]=0,s.copy(n,1),a.writeBuffer(n,asn1.Ber.BitString),a.endSequence(),a.buffer}function writeTBSCert(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\"),r.startSequence(),r.startSequence(Local(0)),r.writeInt(2),r.endSequence(),r.writeBuffer(utils.mpNormalize(e.serial),asn1.Ber.Integer),r.startSequence(),r.writeOID(SIGN_ALGS[t.algo]),r.endSequence(),e.issuer.toAsn1(r),r.startSequence(),r.writeString(dateToUTCTime(e.validFrom),asn1.Ber.UTCTime),r.writeString(dateToUTCTime(e.validUntil),asn1.Ber.UTCTime),r.endSequence();var a=e.subjects[0],s=e.subjects.slice(1);if(a.toAsn1(r),pkcs8.writePkcs8(r,e.subjectKey),t.extras&&t.extras.issuerUniqueID&&r.writeBuffer(t.extras.issuerUniqueID,Local(1)),t.extras&&t.extras.subjectUniqueID&&r.writeBuffer(t.extras.subjectUniqueID,Local(2)),s.length>0||\"host\"===a.type||void 0!==e.purposes&&e.purposes.length>0||t.extras&&t.extras.exts){r.startSequence(Local(3)),r.startSequence();var n=[];void 0!==e.purposes&&e.purposes.length>0&&(n.push({oid:EXTS.basicConstraints,critical:!0}),n.push({oid:EXTS.keyUsage,critical:!0}),n.push({oid:EXTS.extKeyUsage,critical:!0})),n.push({oid:EXTS.altName}),t.extras&&t.extras.exts&&(n=t.extras.exts);for(var i=0;i<n.length;++i){if(r.startSequence(),r.writeOID(n[i].oid),void 0!==n[i].critical&&r.writeBoolean(n[i].critical),n[i].oid===EXTS.altName){r.startSequence(asn1.Ber.OctetString),r.startSequence(),\"host\"===a.type&&r.writeString(a.hostname,Context(2));for(var o=0;o<s.length;++o)\"host\"===s[o].type?r.writeString(s[o].hostname,ALTNAME.DNSName):\"email\"===s[o].type?r.writeString(s[o].email,ALTNAME.RFC822Name):(r.startSequence(ALTNAME.DirectoryName),s[o].toAsn1(r),r.endSequence());r.endSequence(),r.endSequence()}else if(n[i].oid===EXTS.basicConstraints){r.startSequence(asn1.Ber.OctetString),r.startSequence();var u=-1!==e.purposes.indexOf(\"ca\"),c=n[i].pathLen;r.writeBoolean(u),void 0!==c&&r.writeInt(c),r.endSequence(),r.endSequence()}else if(n[i].oid===EXTS.extKeyUsage)r.startSequence(asn1.Ber.OctetString),r.startSequence(),e.purposes.forEach(function(e){if(\"ca\"!==e&&-1===KEYUSEBITS.indexOf(e)){var t=e;void 0!==EXTPURPOSE[e]&&(t=EXTPURPOSE[e]),r.writeOID(t)}}),r.endSequence(),r.endSequence();else if(n[i].oid===EXTS.keyUsage){if(r.startSequence(asn1.Ber.OctetString),void 0!==n[i].bits)r.writeBuffer(n[i].bits,asn1.Ber.BitString);else{var f=writeBitField(e.purposes,KEYUSEBITS);r.writeBuffer(f,asn1.Ber.BitString)}r.endSequence()}else r.writeBuffer(n[i].data,asn1.Ber.OctetString);r.endSequence()}r.endSequence(),r.endSequence()}r.endSequence()}function readBitField(e,r){for(var t=8*(e.length-1)-e[0],a={},s=0;s<t;++s){var n=1<<7-s%8,i=0!=(e[1+Math.floor(s/8)]&n),o=r[s];i&&\"string\"==typeof o&&(a[o]=!0)}return Object.keys(a)}function writeBitField(e,r){var t=r.length,a=Math.ceil(t/8),s=8*a-t,n=new Buffer(1+a);n.fill(0),n[0]=s;for(var i=0;i<t;++i){var o=1+Math.floor(i/8),u=1<<7-i%8,c=r[i];if(void 0!==c){-1!==e.indexOf(c)&&(n[o]|=u)}}return n}","node_modules/sshpk/lib/formats/x509-pem.js":"var x509=require(\"./x509\");module.exports={read:read,verify:x509.verify,sign:x509.sign,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),Identity=require(\"../identity\"),Signature=require(\"../signature\"),Certificate=require(\"../certificate\");function read(e,r){\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var i=e.trim().split(/[\\r\\n]+/g),t=i[0].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);assert.ok(t,\"invalid PEM header\");var a=i[i.length-1].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);assert.ok(a,\"invalid PEM footer\");for(var n={};i=i.slice(1),t=i[0].match(/^([A-Za-z0-9-]+): (.+)$/);)n[t[1].toLowerCase()]=t[2];return i=i.slice(0,-1).join(\"\"),e=new Buffer(i,\"base64\"),x509.read(e,r)}function write(e,r){var i=x509.write(e,r).toString(\"base64\"),t=i.length+i.length/64+18+16+2*\"CERTIFICATE\".length+10,a=new Buffer(t),n=0;n+=a.write(\"-----BEGIN CERTIFICATE-----\\n\",n);for(var s=0;s<i.length;){var u=s+64;u>i.length&&(u=i.length),n+=a.write(i.slice(s,u),n),a[n++]=10,s=u}return n+=a.write(\"-----END CERTIFICATE-----\\n\",n),a.slice(0,n)}","node_modules/asn1/lib/index.js":"var Ber=require(\"./ber/index\");module.exports={Ber:Ber,BerReader:Ber.Reader,BerWriter:Ber.Writer};","node_modules/sshpk/lib/ssh-buffer.js":"module.exports=SSHBuffer;var assert=require(\"assert-plus\");function SSHBuffer(t){assert.object(t,\"options\"),void 0!==t.buffer&&assert.buffer(t.buffer,\"options.buffer\"),this._size=t.buffer?t.buffer.length:1024,this._buffer=t.buffer||new Buffer(this._size),this._offset=0}SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(t){this._offset+=t},SSHBuffer.prototype.expand=function(){this._size*=2;var t=new Buffer(this._size);this._buffer.copy(t,0),this._buffer=t},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var t=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+t<=this._buffer.length,\"length out of bounds at +0x\"+this._offset.toString(16)+\" (data truncated?)\");var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var t=this._offset;t<this._buffer.length&&0!==this._buffer[t];)t++;assert.ok(t<this._buffer.length,\"c string does not terminate\");var f=this._buffer.slice(this._offset,t).toString();return this._offset=t+1,f},SSHBuffer.prototype.readInt=function(){var t=this._buffer.readUInt32BE(this._offset);return this._offset+=4,t},SSHBuffer.prototype.readInt64=function(){assert.ok(this._offset+8<this._buffer.length,\"buffer not long enough to read Int64\");var t=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,t},SSHBuffer.prototype.readChar=function(){return this._buffer[this._offset++]},SSHBuffer.prototype.writeBuffer=function(t){for(;this._offset+4+t.length>this._size;)this.expand();this._buffer.writeUInt32BE(t.length,this._offset),this._offset+=4,t.copy(this._buffer,this._offset),this._offset+=t.length},SSHBuffer.prototype.writeString=function(t){this.writeBuffer(new Buffer(t,\"utf8\"))},SSHBuffer.prototype.writeCString=function(t){for(;this._offset+1+t.length>this._size;)this.expand();this._buffer.write(t,this._offset),this._offset+=t.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(t){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(t,this._offset),this._offset+=4},SSHBuffer.prototype.writeInt64=function(t){if(assert.buffer(t,\"value\"),t.length>8){for(var f=t.slice(0,t.length-8),e=0;e<f.length;++e)assert.strictEqual(f[e],0,\"must fit in 64 bits of precision\");t=t.slice(t.length-8,t.length)}for(;this._offset+8>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=8},SSHBuffer.prototype.writeChar=function(t){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=t},SSHBuffer.prototype.writePart=function(t){this.writeBuffer(t.data)},SSHBuffer.prototype.write=function(t){for(;this._offset+t.length>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=t.length};","node_modules/asn1/lib/ber/index.js":"var errors=require(\"./errors\"),types=require(\"./types\"),Reader=require(\"./reader\"),Writer=require(\"./writer\");module.exports={Reader:Reader,Writer:Writer};for(var t in types)types.hasOwnProperty(t)&&(module.exports[t]=types[t]);for(var e in errors)errors.hasOwnProperty(e)&&(module.exports[e]=errors[e]);","node_modules/asn1/lib/ber/errors.js":"module.exports={newInvalidAsn1Error:function(r){var n=new Error;return n.name=\"InvalidAsn1Error\",n.message=r||\"\",n}};","node_modules/asn1/lib/ber/types.js":"module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128};","node_modules/asn1/lib/ber/reader.js":"var assert=require(\"assert\"),ASN1=require(\"./types\"),errors=require(\"./errors\"),newInvalidAsn1Error=errors.newInvalidAsn1Error;function Reader(e){if(!e||!Buffer.isBuffer(e))throw new TypeError(\"data must be a node Buffer\");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(Reader.prototype,\"length\",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,\"offset\",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,\"remain\",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,\"buffer\",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0==(t&=127))throw newInvalidAsn1Error(\"Indefinite length not supported\");if(t>4)throw newInvalidAsn1Error(\"encoding too long\");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},Reader.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0!==this._readTag(ASN1.Boolean)},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(e,t){e||(e=ASN1.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?new Buffer(0):\"\";var i=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?i:i.toString(\"utf8\")},Reader.prototype.readOID=function(e){e||(e=ASN1.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var o=255&t[i];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(\".\")},Reader.prototype._readTag=function(e){assert.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw newInvalidAsn1Error(\"Integer too long: \"+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],i=0,o=0;o<this.length;o++)i<<=8,i|=255&this._buf[this._offset++];return 128==(128&n)&&4!==o&&(i-=1<<8*o),i>>0},module.exports=Reader;","node_modules/asn1/lib/ber/writer.js":"var assert=require(\"assert\"),ASN1=require(\"./types\"),errors=require(\"./errors\"),newInvalidAsn1Error=errors.newInvalidAsn1Error,DEFAULT_OPTS={size:1024,growthFactor:8};function merge(t,e){assert.ok(t),assert.equal(typeof t,\"object\"),assert.ok(e),assert.equal(typeof e,\"object\");return Object.getOwnPropertyNames(t).forEach(function(r){if(!e[r]){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s)}}),e}function Writer(t){t=merge(DEFAULT_OPTS,t||{}),this._buf=new Buffer(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}Object.defineProperty(Writer.prototype,\"buffer\",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+\" unended sequence(s)\");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");this._ensure(1),this._buf[this._offset++]=t},Writer.prototype.writeInt=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");\"number\"!=typeof e&&(e=ASN1.Integer);for(var r=4;(0==(4286578688&t)||-8388608==(4286578688&t))&&r>1;)r--,t<<=8;if(r>4)throw new InvalidAsn1Error(\"BER ints cannot be > 0xffffffff\");for(this._ensure(2+r),this._buf[this._offset++]=e,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");return\"number\"!=typeof e&&(e=ASN1.Enumeration),this.writeInt(t,e)},Writer.prototype.writeBoolean=function(t,e){if(\"boolean\"!=typeof t)throw new TypeError(\"argument must be a Boolean\");\"number\"!=typeof e&&(e=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},Writer.prototype.writeString=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string (was: \"+typeof t+\")\");\"number\"!=typeof e&&(e=ASN1.OctetString);var r=Buffer.byteLength(t);this.writeByte(e),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},Writer.prototype.writeBuffer=function(t,e){if(\"number\"!=typeof e)throw new TypeError(\"tag must be a number\");if(!Buffer.isBuffer(t))throw new TypeError(\"argument must be a buffer\");this.writeByte(e),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},Writer.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError(\"argument must be an Array[String]\");var e=this;t.forEach(function(t){e.writeString(t)})},Writer.prototype.writeOID=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string\");if(\"number\"!=typeof e&&(e=ASN1.OID),!/^([0-9]+\\.){3,}[0-9]+$/.test(t))throw new Error(\"argument is not a valid OID string\");var r=t.split(\".\"),s=[];s.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(t){!function(t,e){e<128?t.push(e):e<16384?(t.push(e>>>7|128),t.push(127&e)):e<2097152?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):e<268435456?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}(s,parseInt(t,10))});var i=this;this._ensure(2+s.length),this.writeByte(e),this.writeLength(s.length),s.forEach(function(t){i.writeByte(t)})},Writer.prototype.writeLength=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");if(this._ensure(4),t<=127)this._buf[this._offset++]=t;else if(t<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(t<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(t<=16777215))throw new InvalidAsn1ERror(\"Length too long (> 4 bytes)\");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},Writer.prototype.startSequence=function(t){\"number\"!=typeof t&&(t=ASN1.Sequence|ASN1.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,r=this._offset-e;if(r<=127)this._shift(e,r,-2),this._buf[t]=r;else if(r<=255)this._shift(e,r,-1),this._buf[t]=129,this._buf[t+1]=r;else if(r<=65535)this._buf[t]=130,this._buf[t+1]=r>>8,this._buf[t+2]=r;else{if(!(r<=16777215))throw new InvalidAsn1Error(\"Sequence too long\");this._shift(e,r,1),this._buf[t]=131,this._buf[t+1]=r>>16,this._buf[t+2]=r>>8,this._buf[t+3]=r}},Writer.prototype._shift=function(t,e,r){assert.ok(void 0!==t),assert.ok(void 0!==e),assert.ok(r),this._buf.copy(this._buf,t+r,t,t+e),this._offset+=r},Writer.prototype._ensure=function(t){if(assert.ok(t),this._size-this._offset<t){var e=this._size*this._options.growthFactor;e-this._offset<t&&(e+=t);var r=new Buffer(e);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=e}},module.exports=Writer;","node_modules/jsprim/lib/jsprim.js":"var mod_assert=require(\"assert-plus\"),mod_util=require(\"util\"),mod_extsprintf=require(\"extsprintf\"),mod_verror=require(\"verror\"),mod_jsonschema=require(\"json-schema\");exports.deepCopy=deepCopy,exports.deepEqual=deepEqual,exports.isEmpty=isEmpty,exports.hasKey=hasKey,exports.forEachKey=forEachKey,exports.pluck=pluck,exports.flattenObject=flattenObject,exports.flattenIter=flattenIter,exports.validateJsonObject=validateJsonObjectJS,exports.validateJsonObjectJS=validateJsonObjectJS,exports.randElt=randElt,exports.extraProperties=extraProperties,exports.mergeObjects=mergeObjects,exports.startsWith=startsWith,exports.endsWith=endsWith,exports.parseInteger=parseInteger,exports.iso8601=iso8601,exports.rfc1123=rfc1123,exports.parseDateTime=parseDateTime,exports.hrtimediff=hrtimeDiff,exports.hrtimeDiff=hrtimeDiff,exports.hrtimeAccum=hrtimeAccum,exports.hrtimeAdd=hrtimeAdd,exports.hrtimeNanosec=hrtimeNanosec,exports.hrtimeMicrosec=hrtimeMicrosec,exports.hrtimeMillisec=hrtimeMillisec;function deepCopy(e){var r,t,o=\"__deepCopy\";if(e&&e[o])throw new Error(\"attempted deep copy of cyclic object\");if(e&&e.constructor==Object){r={},e[o]=!0;for(t in e)t!=o&&(r[t]=deepCopy(e[t]));return delete e[o],r}if(e&&e.constructor==Array){for(r=[],e[o]=!0,t=0;t<e.length;t++)r.push(deepCopy(e[t]));return delete e[o],r}return e}function deepEqual(e,r){if(typeof e!=typeof r)return!1;if(null===e||null===r||\"object\"!=typeof e)return e===r;if(e.constructor!=r.constructor)return!1;var t;for(t in e){if(!r.hasOwnProperty(t))return!1;if(!deepEqual(e[t],r[t]))return!1}for(t in r)if(!e.hasOwnProperty(t))return!1;return!0}function isEmpty(e){var r;for(r in e)return!1;return!0}function hasKey(e,r){return mod_assert.equal(typeof r,\"string\"),Object.prototype.hasOwnProperty.call(e,r)}function forEachKey(e,r){for(var t in e)hasKey(e,t)&&r(t,e[t])}function pluck(e,r){return mod_assert.equal(typeof r,\"string\"),pluckv(e,r)}function pluckv(e,r){if(null!==e&&\"object\"==typeof e){if(e.hasOwnProperty(r))return e[r];var t=r.indexOf(\".\");if(-1!=t){var o=r.substr(0,t);if(e.hasOwnProperty(o))return pluckv(e[o],r.substr(t+1))}}}function flattenIter(e,r,t){doFlattenIter(e,r,[],t)}function doFlattenIter(e,r,t,o){var s,n;if(0===r)return(s=t.slice(0)).push(e),void o(s);mod_assert.ok(null!==e),mod_assert.equal(typeof e,\"object\"),mod_assert.equal(typeof r,\"number\"),mod_assert.ok(r>=0);for(n in e)(s=t.slice(0)).push(n),doFlattenIter(e[n],r-1,s,o)}function flattenObject(e,r){if(0===r)return[e];mod_assert.ok(null!==e),mod_assert.equal(typeof e,\"object\"),mod_assert.equal(typeof r,\"number\"),mod_assert.ok(r>=0);var t,o=[];for(t in e)flattenObject(e[t],r-1).forEach(function(e){o.push([t].concat(e))});return o}function startsWith(e,r){return e.substr(0,r.length)==r}function endsWith(e,r){return e.substr(e.length-r.length,r.length)==r}function iso8601(e){return\"number\"==typeof e&&(e=new Date(e)),mod_assert.ok(e.constructor===Date),mod_extsprintf.sprintf(\"%4d-%02d-%02dT%02d:%02d:%02d.%03dZ\",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}var RFC1123_MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],RFC1123_DAYS=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];function rfc1123(e){return mod_extsprintf.sprintf(\"%s, %02d %s %04d %02d:%02d:%02d GMT\",RFC1123_DAYS[e.getUTCDay()],e.getUTCDate(),RFC1123_MONTHS[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function parseDateTime(e){var r=+e;return isNaN(r)?new Date(e):new Date(r)}var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,PI_DEFAULTS={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},CP_0=48,CP_9=57,CP_A=65,CP_B=66,CP_O=79,CP_T=84,CP_X=88,CP_Z=90,CP_a=97,CP_b=98,CP_o=111,CP_t=116,CP_x=120,CP_z=122,PI_CONV_DEC=48,PI_CONV_UC=55,PI_CONV_LC=87;function parseInteger(e,r){mod_assert.string(e,\"str\"),mod_assert.optionalObject(r,\"options\");var t=!1,o=PI_DEFAULTS;r&&(t=hasKey(r,\"base\"),o=mergeObjects(o,r),mod_assert.number(o.base,\"options.base\"),mod_assert.ok(o.base>=2,\"options.base >= 2\"),mod_assert.ok(o.base<=36,\"options.base <= 36\"),mod_assert.bool(o.allowSign,\"options.allowSign\"),mod_assert.bool(o.allowPrefix,\"options.allowPrefix\"),mod_assert.bool(o.allowTrailing,\"options.allowTrailing\"),mod_assert.bool(o.allowImprecise,\"options.allowImprecise\"),mod_assert.bool(o.trimWhitespace,\"options.trimWhitespace\"),mod_assert.bool(o.leadingZeroIsOctal,\"options.leadingZeroIsOctal\"),o.leadingZeroIsOctal&&mod_assert.ok(!t,'\"base\" and \"leadingZeroIsOctal\" are mutually exclusive'));var s,n,a=-1,i=o.base,l=1,u=0,c=0,f=e.length;if(o.trimWhitespace)for(;c<f&&isSpace(e.charCodeAt(c));)++c;for(o.allowSign&&(\"-\"===e[c]?(c+=1,l=-1):\"+\"===e[c]&&(c+=1)),\"0\"===e[c]&&(o.allowPrefix&&(-1===(a=prefixToBase(e.charCodeAt(c+1)))||t&&a!==i||(i=a,c+=2)),-1===a&&o.leadingZeroIsOctal&&(i=8)),n=c;c<f&&(-1!==(s=translateDigit(e.charCodeAt(c)))&&s<i);++c)u*=i,u+=s;if(n===c)return new Error(\"invalid number: \"+JSON.stringify(e));if(o.trimWhitespace)for(;c<f&&isSpace(e.charCodeAt(c));)++c;if(c<f&&!o.allowTrailing)return new Error(\"trailing characters after number: \"+JSON.stringify(e.slice(c)));if(0===u)return 0;var p=u*l;return!o.allowImprecise&&(u>MAX_SAFE_INTEGER||p<MIN_SAFE_INTEGER)?new Error(\"number is outside of the supported range: \"+JSON.stringify(e.slice(n,c))):p}function translateDigit(e){return e>=CP_0&&e<=CP_9?e-PI_CONV_DEC:e>=CP_A&&e<=CP_Z?e-PI_CONV_UC:e>=CP_a&&e<=CP_z?e-PI_CONV_LC:-1}function isSpace(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function prefixToBase(e){return e===CP_b||e===CP_B?2:e===CP_o||e===CP_O?8:e===CP_t||e===CP_T?10:e===CP_x||e===CP_X?16:-1}function validateJsonObjectJS(e,r){var t=mod_jsonschema.validate(r,e);if(0===t.errors.length)return null;var o,s,n=t.errors[0],a=n.property,i=n.message.toLowerCase();-1!=(o=i.indexOf(\"the property \"))&&-1!=(s=i.indexOf(\" is not defined in the schema and the schema does not allow additional properties\"))&&(o+=\"the property \".length,a=\"\"===a?i.substr(o,s-o):a+\".\"+i.substr(o,s-o),i=\"unsupported property\");var l=new mod_verror.VError('property \"%s\": %s',a,i);return l.jsv_details=n,l}function randElt(e){return mod_assert.ok(Array.isArray(e)&&e.length>0,\"randElt argument must be a non-empty array\"),e[Math.floor(Math.random()*e.length)]}function assertHrtime(e){mod_assert.ok(e[0]>=0&&e[1]>=0,\"negative numbers not allowed in hrtimes\"),mod_assert.ok(e[1]<1e9,\"nanoseconds column overflow\")}function hrtimeDiff(e,r){assertHrtime(e),assertHrtime(r),mod_assert.ok(e[0]>r[0]||e[0]==r[0]&&e[1]>=r[1],\"negative differences not allowed\");var t=[e[0]-r[0],0];return e[1]>=r[1]?t[1]=e[1]-r[1]:(t[0]--,t[1]=1e9-(r[1]-e[1])),t}function hrtimeNanosec(e){return assertHrtime(e),Math.floor(1e9*e[0]+e[1])}function hrtimeMicrosec(e){return assertHrtime(e),Math.floor(1e6*e[0]+e[1]/1e3)}function hrtimeMillisec(e){return assertHrtime(e),Math.floor(1e3*e[0]+e[1]/1e6)}function hrtimeAccum(e,r){return assertHrtime(e),assertHrtime(r),e[1]+=r[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=r[0],e}function hrtimeAdd(e,r){assertHrtime(e);return hrtimeAccum([e[0],e[1]],r)}function extraProperties(e,r){mod_assert.ok(\"object\"==typeof e&&null!==e,\"obj argument must be a non-null object\"),mod_assert.ok(Array.isArray(r),\"allowed argument must be an array of strings\");for(var t=0;t<r.length;t++)mod_assert.ok(\"string\"==typeof r[t],\"allowed argument must be an array of strings\");return Object.keys(e).filter(function(e){return-1===r.indexOf(e)})}function mergeObjects(e,r,t){var o,s;if(o={},t)for(s in t)o[s]=t[s];if(e)for(s in e)o[s]=e[s];if(r)for(s in r)o[s]=r[s];return o}","node_modules/extsprintf/lib/extsprintf.js":"var mod_assert=require(\"assert\"),mod_util=require(\"util\");exports.sprintf=jsSprintf,exports.printf=jsPrintf,exports.fprintf=jsFprintf;function jsSprintf(r){var t,e,n,o,i,s,a,p,f,u=[\"([^%]*)\",\"%\",\"(['\\\\-+ #0]*?)\",\"([1-9]\\\\d*)?\",\"(\\\\.([1-9]\\\\d*))?\",\"[lhjztL]*?\",\"([diouxXfFeEgGaAcCsSp%jr])\"].join(\"\"),c=new RegExp(u),l=Array.prototype.slice.call(arguments,1),d=\"\",h=1;for(mod_assert.equal(\"string\",typeof r);null!==(f=c.exec(r));)if(d+=f[1],r=r.substring(f[0].length),t=f[2]||\"\",e=f[3]||0,n=f[4]||\"\",o=f[6],i=!1,a=!1,s=\" \",\"%\"!=o){if(0===l.length)throw new Error(\"too few args to sprintf\");if(p=l.shift(),h++,t.match(/[\\' #]/))throw new Error(\"unsupported flags: \"+t);if(n.length>0)throw new Error(\"non-zero precision not supported\");switch(t.match(/-/)&&(i=!0),t.match(/0/)&&(s=\"0\"),t.match(/\\+/)&&(a=!0),o){case\"s\":if(void 0===p||null===p)throw new Error(\"argument \"+h+\": attempted to print undefined or null as a string\");d+=doPad(s,e,i,p.toString());break;case\"d\":p=Math.floor(p);case\"f\":d+=(a=a&&p>0?\"+\":\"\")+doPad(s,e,i,p.toString());break;case\"x\":d+=doPad(s,e,i,p.toString(16));break;case\"j\":0===e&&(e=10),d+=mod_util.inspect(p,!1,e);break;case\"r\":d+=dumpException(p);break;default:throw new Error(\"unsupported conversion: \"+o)}}else d+=\"%\";return d+=r}function jsPrintf(){var r=Array.prototype.slice.call(arguments);r.unshift(process.stdout),jsFprintf.apply(null,r)}function jsFprintf(r){var t=Array.prototype.slice.call(arguments,1);return r.write(jsSprintf.apply(this,t))}function doPad(r,t,e,n){for(var o=n;o.length<t;)e?o+=r:o=r+o;return o}function dumpException(r){var t;if(!(r instanceof Error))throw new Error(jsSprintf(\"invalid type for %%r: %j\",r));if(t=\"EXCEPTION: \"+r.constructor.name+\": \"+r.stack,r.cause&&\"function\"==typeof r.cause){var e=r.cause();e&&(t+=\"\\nCaused by: \"+dumpException(e))}return t}","node_modules/verror/lib/verror.js":"var mod_assertplus=require(\"assert-plus\"),mod_util=require(\"util\"),mod_extsprintf=require(\"extsprintf\"),mod_isError=require(\"core-util-is\").isError,sprintf=mod_extsprintf.sprintf;module.exports=VError,VError.VError=VError,VError.SError=SError,VError.WError=WError,VError.MultiError=MultiError;function parseConstructorArguments(r){var o,s,t,e,n;if(mod_assertplus.object(r,\"args\"),mod_assertplus.bool(r.strict,\"args.strict\"),mod_assertplus.array(r.argv,\"args.argv\"),0===(o=r.argv).length)s={},t=[];else if(mod_isError(o[0]))s={cause:o[0]},t=o.slice(1);else if(\"object\"==typeof o[0]){s={};for(n in o[0])s[n]=o[0][n];t=o.slice(1)}else mod_assertplus.string(o[0],\"first argument to VError, SError, or WError constructor must be a string, object, or Error\"),s={},t=o;return mod_assertplus.object(s),s.strict||r.strict||(t=t.map(function(r){return null===r?\"null\":void 0===r?\"undefined\":r})),e=0===t.length?\"\":sprintf.apply(null,t),{options:s,shortmessage:e}}function VError(){var r,o,s,t,e,n,i;if(r=Array.prototype.slice.call(arguments,0),!(this instanceof VError))return o=Object.create(VError.prototype),VError.apply(o,arguments),o;if((s=parseConstructorArguments({argv:r,strict:!1})).options.name&&(mod_assertplus.string(s.options.name,'error\\'s \"name\" must be a string'),this.name=s.options.name),this.jse_shortmsg=s.shortmessage,n=s.shortmessage,(t=s.options.cause)&&(mod_assertplus.ok(mod_isError(t),\"cause is not an Error\"),this.jse_cause=t,s.options.skipCauseMessage||(n+=\": \"+t.message)),this.jse_info={},s.options.info)for(i in s.options.info)this.jse_info[i]=s.options.info[i];return this.message=n,Error.call(this,n),Error.captureStackTrace&&(e=s.options.constructorOpt||this.constructor,Error.captureStackTrace(this,e)),this}mod_util.inherits(VError,Error),VError.prototype.name=\"VError\",VError.prototype.toString=function(){var r=this.hasOwnProperty(\"name\")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=\": \"+this.message),r},VError.prototype.cause=function(){var r=VError.cause(this);return null===r?void 0:r},VError.cause=function(r){return mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_isError(r.jse_cause)?r.jse_cause:null},VError.info=function(r){var o,s,t;if(mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),s=VError.cause(r),o=null!==s?VError.info(s):{},\"object\"==typeof r.jse_info&&null!==r.jse_info)for(t in r.jse_info)o[t]=r.jse_info[t];return o},VError.findCauseByName=function(r,o){var s;for(mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_assertplus.string(o,\"name\"),mod_assertplus.ok(o.length>0,\"name cannot be empty\"),s=r;null!==s;s=VError.cause(s))if(mod_assertplus.ok(mod_isError(s)),s.name==o)return s;return null},VError.hasCauseWithName=function(r,o){return null!==VError.findCauseByName(r,o)},VError.fullStack=function(r){mod_assertplus.ok(mod_isError(r),\"err must be an Error\");var o=VError.cause(r);return o?r.stack+\"\\ncaused by: \"+VError.fullStack(o):r.stack},VError.errorFromList=function(r){return mod_assertplus.arrayOfObject(r,\"errors\"),0===r.length?null:(r.forEach(function(r){mod_assertplus.ok(mod_isError(r))}),1==r.length?r[0]:new MultiError(r))},VError.errorForEach=function(r,o){mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_assertplus.func(o,\"func\"),r instanceof MultiError?r.errors().forEach(function(r){o(r)}):o(r)};function SError(){var r,o,s,t;return r=Array.prototype.slice.call(arguments,0),this instanceof SError?(s=parseConstructorArguments({argv:r,strict:!0}),t=s.options,VError.call(this,t,\"%s\",s.shortmessage),this):(o=Object.create(SError.prototype),SError.apply(o,arguments),o)}mod_util.inherits(SError,VError);function MultiError(r){mod_assertplus.array(r,\"list of errors\"),mod_assertplus.ok(r.length>0,\"must be at least one error\"),this.ase_errors=r,VError.call(this,{cause:r[0]},\"first of %d error%s\",r.length,1==r.length?\"\":\"s\")}mod_util.inherits(MultiError,VError),MultiError.prototype.name=\"MultiError\",MultiError.prototype.errors=function(){return this.ase_errors.slice(0)};function WError(){var r,o,s,t;return r=Array.prototype.slice.call(arguments,0),this instanceof WError?(s=parseConstructorArguments({argv:r,strict:!1}),t=s.options,t.skipCauseMessage=!0,VError.call(this,t,\"%s\",s.shortmessage),this):(o=Object.create(WError.prototype),WError.apply(o,r),o)}mod_util.inherits(WError,VError),WError.prototype.name=\"WError\",WError.prototype.toString=function(){var r=this.hasOwnProperty(\"name\")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=\": \"+this.message),this.jse_cause&&this.jse_cause.message&&(r+=\"; caused by \"+this.jse_cause.toString()),r},WError.prototype.cause=function(r){return mod_isError(r)&&(this.jse_cause=r),this.jse_cause};","node_modules/json-schema/lib/validate.js":"!function(e,t){\"function\"==typeof define&&define.amd?define([],function(){return t()}):\"object\"==typeof module&&module.exports?module.exports=t():e.jsonSchema=t()}(this,function(){var e=n;e.Integer={type:\"integer\"};var t={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};e.validate=n;function n(e,t){return n(e,t,{changing:!1})}e.checkPropertyChange=function(e,t,r){return n(e,t,{changing:r||\"property\"})};var n=e._validate=function(e,n,r){r||(r={});var a=r.changing;function i(e){return e.type||t[e.name]==e&&e.name.toLowerCase()}var o=[];function m(e,t,n,s){var c;n+=n?\"number\"==typeof s?\"[\"+s+\"]\":void 0===s?\"\":\".\"+s:s;function f(e){o.push({property:n,message:e})}if((\"object\"!=typeof t||t instanceof Array)&&(n||\"function\"!=typeof t)&&(!t||!i(t)))return\"function\"==typeof t?e instanceof t||f(\"is not an instance of the class/constructor \"+t.name):t&&f(\"Invalid schema/property definition \"+t),null;a&&t.readonly&&f(\"is a readonly field, it can not be changed\"),t.extends&&m(e,t.extends,n,s);function u(e,t){if(e){if(!(\"string\"!=typeof e||\"any\"==e||(\"null\"==e?null===t:typeof t==e)||t instanceof Array&&\"array\"==e||t instanceof Date&&\"date\"==e||\"integer\"==e&&t%1==0))return[{property:n,message:typeof t+\" value found, but a \"+e+\" is required\"}];if(e instanceof Array){for(var r=[],a=0;a<e.length&&(r=u(e[a],t)).length;a++);if(r.length)return r}else if(\"object\"==typeof e){var i=o;o=[],m(t,e,n);var s=o;return o=i,s}}return[]}if(void 0===e)t.required&&f(\"is missing and it is required\");else if(o=o.concat(u(i(t),e)),t.disallow&&!u(t.disallow,e).length&&f(\" disallowed value was matched\"),null!==e){if(e instanceof Array){if(t.items){var p=t.items instanceof Array,l=t.items;for(s=0,c=e.length;s<c;s+=1)p&&(l=t.items[s]),r.coerce&&(e[s]=r.coerce(e[s],l)),o.concat(m(e[s],l,n,s))}t.minItems&&e.length<t.minItems&&f(\"There must be a minimum of \"+t.minItems+\" in the array\"),t.maxItems&&e.length>t.maxItems&&f(\"There must be a maximum of \"+t.maxItems+\" in the array\")}else(t.properties||t.additionalProperties)&&o.concat(function(e,t,n,i){if(\"object\"==typeof t){(\"object\"!=typeof e||e instanceof Array)&&o.push({property:n,message:\"an object is required\"});for(var s in t)if(t.hasOwnProperty(s)){var c=e[s];if(void 0===c&&r.existingOnly)continue;var f=t[s];void 0===c&&f.default&&(c=e[s]=f.default),r.coerce&&s in e&&(c=e[s]=r.coerce(c,f)),m(c,f,n,s)}}for(s in e){if(e.hasOwnProperty(s)&&(\"_\"!=s.charAt(0)||\"_\"!=s.charAt(1))&&t&&!t[s]&&!1===i){if(r.filter){delete e[s];continue}o.push({property:n,message:typeof c+\"The property \"+s+\" is not defined in the schema and the schema does not allow additional properties\"})}var u=t&&t[s]&&t[s].requires;!u||u in e||o.push({property:n,message:\"the presence of the property \"+s+\" requires that \"+u+\" also be present\"}),c=e[s],!i||t&&\"object\"==typeof t&&s in t||(r.coerce&&(c=e[s]=r.coerce(c,i)),m(c,i,n,s)),!a&&c&&c.$schema&&(o=o.concat(m(c,c.$schema,n,s)))}return o}(e,t.properties,n,t.additionalProperties));if(t.pattern&&\"string\"==typeof e&&!e.match(t.pattern)&&f(\"does not match the regex pattern \"+t.pattern),t.maxLength&&\"string\"==typeof e&&e.length>t.maxLength&&f(\"may only be \"+t.maxLength+\" characters long\"),t.minLength&&\"string\"==typeof e&&e.length<t.minLength&&f(\"must be at least \"+t.minLength+\" characters long\"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&f(\"must have a minimum value of \"+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&f(\"must have a maximum value of \"+t.maximum),t.enum){var h=t.enum;c=h.length;for(var y,d=0;d<c;d++)if(h[d]===e){y=1;break}y||f(\"does not have a value in the enumeration \"+h.join(\", \"))}\"number\"==typeof t.maxDecimal&&e.toString().match(new RegExp(\"\\\\.[0-9]{\"+(t.maxDecimal+1)+\",}\"))&&f(\"may only have \"+t.maxDecimal+\" digits of decimal places\")}return null}return n&&m(e,n,\"\",a||\"\"),!a&&e&&e.$schema&&m(e,e.$schema,\"\",\"\"),{valid:!o.length,errors:o}};return e.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map(function(e){return\"for property \"+e.property+\": \"+e.message}).join(\", \\n\"))},e});","node_modules/combined-stream/lib/combined_stream.js":"var util=require(\"util\"),Stream=require(\"stream\").Stream,DelayedStream=require(\"delayed-stream\");module.exports=CombinedStream;function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}util.inherits(CombinedStream,Stream),CombinedStream.create=function(t){var e=new this;t=t||{};for(var i in t)e[i]=t[i];return e},CombinedStream.isStreamLike=function(t){return\"function\"!=typeof t&&\"string\"!=typeof t&&\"boolean\"!=typeof t&&\"number\"!=typeof t&&!Buffer.isBuffer(t)},CombinedStream.prototype.append=function(t){if(CombinedStream.isStreamLike(t)){if(!(t instanceof DelayedStream)){var e=DelayedStream.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on(\"data\",this._checkDataSize.bind(this)),t=e}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},CombinedStream.prototype.pipe=function(t,e){return Stream.prototype.pipe.call(this,t,e),this.resume(),t},CombinedStream.prototype._getNext=function(){this._currentStream=null;var t=this._streams.shift();if(void 0!==t)if(\"function\"==typeof t){t(function(t){CombinedStream.isStreamLike(t)&&(t.on(\"data\",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this))}else this._pipeNext(t);else this.end()},CombinedStream.prototype._pipeNext=function(t){this._currentStream=t;if(CombinedStream.isStreamLike(t))return t.on(\"end\",this._getNext.bind(this)),void t.pipe(this,{end:!1});var e=t;this.write(e),this._getNext()},CombinedStream.prototype._handleErrors=function(t){var e=this;t.on(\"error\",function(t){e._emitError(t)})},CombinedStream.prototype.write=function(t){this.emit(\"data\",t)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit(\"pause\"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit(\"resume\")},CombinedStream.prototype.end=function(){this._reset(),this.emit(\"end\")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit(\"close\")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t=\"DelayedStream#maxDataSize of \"+this.maxDataSize+\" bytes exceeded.\";this._emitError(new Error(t))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(t){this._reset(),this.emit(\"error\",t)};","node_modules/asynckit/index.js":"module.exports={parallel:require(\"./parallel.js\"),serial:require(\"./serial.js\"),serialOrdered:require(\"./serialOrdered.js\")};","node_modules/form-data/lib/populate.js":"module.exports=function(e,n){return Object.keys(n).forEach(function(o){e[o]=e[o]||n[o]}),e};","node_modules/delayed-stream/lib/delayed_stream.js":"var Stream=require(\"stream\").Stream,util=require(\"util\");module.exports=DelayedStream;function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}util.inherits(DelayedStream,Stream),DelayedStream.create=function(e,t){var a=new this;t=t||{};for(var r in t)a[r]=t[r];a.source=e;var i=e.emit;return e.emit=function(){return a._handleEmit(arguments),i.apply(e,arguments)},e.on(\"error\",function(){}),a.pauseStream&&e.pause(),a},Object.defineProperty(DelayedStream.prototype,\"readable\",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()},DelayedStream.prototype.pause=function(){this.source.pause()},DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},DelayedStream.prototype.pipe=function(){var e=Stream.prototype.pipe.apply(this,arguments);return this.resume(),e},DelayedStream.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):(\"data\"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e=\"DelayedStream#maxDataSize of \"+this.maxDataSize+\" bytes exceeded.\";this.emit(\"error\",new Error(e))}};","node_modules/asynckit/parallel.js":"var iterate=require(\"./lib/iterate.js\"),initState=require(\"./lib/state.js\"),terminator=require(\"./lib/terminator.js\");module.exports=parallel;function parallel(e,t,r){for(var i=initState(e);i.index<(i.keyedList||e).length;)iterate(e,t,i,function(e,t){e?r(e,t):0!==Object.keys(i.jobs).length||r(null,i.results)}),i.index++;return terminator.bind(i,r)}","node_modules/asynckit/serial.js":"var serialOrdered=require(\"./serialOrdered.js\");module.exports=serial;function serial(r,e,l){return serialOrdered(r,e,null,l)}","node_modules/asynckit/serialOrdered.js":"var iterate=require(\"./lib/iterate.js\"),initState=require(\"./lib/state.js\"),terminator=require(\"./lib/terminator.js\");module.exports=serialOrdered,module.exports.ascending=ascending,module.exports.descending=descending;function serialOrdered(e,n,t,i){var r=initState(e,t);return iterate(e,n,r,function t(d,s){d?i(d,s):(r.index++,r.index<(r.keyedList||e).length?iterate(e,n,r,t):i(null,r.results))}),terminator.bind(r,i)}function ascending(e,n){return e<n?-1:e>n?1:0}function descending(e,n){return-1*ascending(e,n)}","node_modules/asynckit/lib/iterate.js":"var async=require(\"./async.js\"),abort=require(\"./abort.js\");module.exports=iterate;function iterate(e,r,t,n){var s=t.keyedList?t.keyedList[t.index]:t.index;t.jobs[s]=runJob(r,s,e[s],function(e,r){s in t.jobs&&(delete t.jobs[s],e?abort(t):t.results[s]=r,n(e,t.results))})}function runJob(e,r,t,n){return 2==e.length?e(t,async(n)):e(t,r,async(n))}","node_modules/asynckit/lib/state.js":"module.exports=state;function state(e,t){var s=!Array.isArray(e),r={index:0,keyedList:s||t?Object.keys(e):null,jobs:{},results:s?{}:[],size:s?Object.keys(e).length:e.length};return t&&r.keyedList.sort(s?t:function(s,r){return t(e[s],e[r])}),r}","node_modules/asynckit/lib/terminator.js":"var abort=require(\"./abort.js\"),async=require(\"./async.js\");module.exports=terminator;function terminator(t){Object.keys(this.jobs).length&&(this.index=this.size,abort(this),async(t)(null,this.results))}","node_modules/asynckit/lib/async.js":"var defer=require(\"./defer.js\");module.exports=async;function async(e){var n=!1;return defer(function(){n=!0}),function(r,f){n?e(r,f):defer(function(){e(r,f)})}}","node_modules/asynckit/lib/abort.js":"module.exports=abort;function abort(o){Object.keys(o.jobs).forEach(clean.bind(o)),o.jobs={}}function clean(o){\"function\"==typeof this.jobs[o]&&this.jobs[o]()}","node_modules/asynckit/lib/defer.js":"module.exports=defer;function defer(e){var t=\"function\"==typeof setImmediate?setImmediate:\"object\"==typeof process&&\"function\"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}","node_modules/har-validator/lib/promise.js":"var ajv,Ajv=require(\"ajv\"),HARError=require(\"./error\"),schemas=require(\"har-schema\");function validate(e,r){r=r||{};var t=(ajv=ajv||new Ajv({allErrors:!0,schemas:schemas})).getSchema(e+\".json\");return new Promise(function(e,n){t(r)?e(r):n(new HARError(t.errors))})}exports.afterRequest=function(e){return validate(\"afterRequest\",e)},exports.beforeRequest=function(e){return validate(\"beforeRequest\",e)},exports.browser=function(e){return validate(\"browser\",e)},exports.cache=function(e){return validate(\"cache\",e)},exports.content=function(e){return validate(\"content\",e)},exports.cookie=function(e){return validate(\"cookie\",e)},exports.creator=function(e){return validate(\"creator\",e)},exports.entry=function(e){return validate(\"entry\",e)},exports.har=function(e){return validate(\"har\",e)},exports.header=function(e){return validate(\"header\",e)},exports.log=function(e){return validate(\"log\",e)},exports.page=function(e){return validate(\"page\",e)},exports.pageTimings=function(e){return validate(\"pageTimings\",e)},exports.postData=function(e){return validate(\"postData\",e)},exports.query=function(e){return validate(\"query\",e)},exports.request=function(e){return validate(\"request\",e)},exports.response=function(e){return validate(\"response\",e)},exports.timings=function(e){return validate(\"timings\",e)};","node_modules/ajv/lib/ajv.js":"\"use strict\";var compileSchema=require(\"./compile\"),resolve=require(\"./compile/resolve\"),Cache=require(\"./cache\"),SchemaObject=require(\"./compile/schema_obj\"),stableStringify=require(\"fast-json-stable-stringify\"),formats=require(\"./compile/formats\"),rules=require(\"./compile/rules\"),$dataMetaSchema=require(\"./$data\"),patternGroups=require(\"./patternGroups\"),util=require(\"./compile/util\"),co=require(\"co\");module.exports=Ajv,Ajv.prototype.validate=validate,Ajv.prototype.compile=compile,Ajv.prototype.addSchema=addSchema,Ajv.prototype.addMetaSchema=addMetaSchema,Ajv.prototype.validateSchema=validateSchema,Ajv.prototype.getSchema=getSchema,Ajv.prototype.removeSchema=removeSchema,Ajv.prototype.addFormat=addFormat,Ajv.prototype.errorsText=errorsText,Ajv.prototype._addSchema=_addSchema,Ajv.prototype._compile=_compile,Ajv.prototype.compileAsync=require(\"./compile/async\");var customKeyword=require(\"./keyword\");Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove;var errorClasses=require(\"./compile/error_classes\");Ajv.ValidationError=errorClasses.Validation,Ajv.MissingRefError=errorClasses.MissingRef,Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID=\"http://json-schema.org/draft-06/schema\",META_IGNORE_OPTIONS=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],META_SUPPORT_DATA=[\"/properties\"];function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=util.copy(e)||{},setLogger(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats(e.format);var t=this._schemaUriFormat=this._formats[\"uri-reference\"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=chooseGetId(e),e.loopRequired=e.loopRequired||1/0,\"property\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=stableStringify),this._metaOpts=getMetaSchemaOptions(this),e.formats&&addInitialFormats(this),addDraft6MetaSchema(this),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),addInitialSchemas(this),e.patternGroups&&patternGroups(this)}function validate(e,t){var r;if(\"string\"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref \"'+e+'\"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var s=r(t);return!0===r.$async?\"*\"==this._opts.async?co(s):s:(this.errors=r.errors,s)}function compile(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function addSchema(e,t,r,a){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,a);return this}var i=this._getId(e);if(void 0!==i&&\"string\"!=typeof i)throw new Error(\"schema id must be string\");return t=resolve.normalizeId(t||i),checkUnique(this,t),this._schemas[t]=this._addSchema(e,r,a,!0),this}function addMetaSchema(e,t,r){return this.addSchema(e,t,r,!0),this}function validateSchema(e,t){var r=e.$schema;if(void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(!(r=r||this._opts.defaultMeta||defaultMeta(this)))return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;var a=this._formats.uri;this._formats.uri=\"function\"==typeof a?this._schemaUriFormatFunc:this._schemaUriFormat;var s;try{s=this.validate(r,e)}finally{this._formats.uri=a}if(!s&&t){var i=\"schema is invalid: \"+this.errorsText();if(\"log\"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return s}function defaultMeta(e){var t=e._opts.meta;return e._opts.defaultMeta=\"object\"==typeof t?e._getId(t)||t:e.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,e._opts.defaultMeta}function getSchema(e){var t=_getSchemaObj(this,e);switch(typeof t){case\"object\":return t.validate||this._compile(t);case\"string\":return this.getSchema(t);case\"undefined\":return _getSchemaFragment(this,e)}}function _getSchemaFragment(e,t){var r=resolve.schema.call(e,{schema:{}},t);if(r){var a=r.schema,s=r.root,i=r.baseId,o=compileSchema.call(e,a,s,void 0,i);return e._fragments[t]=new SchemaObject({ref:t,fragment:!0,schema:a,root:s,baseId:i,validate:o}),o}}function _getSchemaObj(e,t){return t=resolve.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function removeSchema(e){if(e instanceof RegExp)return _removeAllSchemas(this,this._schemas,e),_removeAllSchemas(this,this._refs,e),this;switch(typeof e){case\"undefined\":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case\"string\":var t=_getSchemaObj(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case\"object\":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var s=this._getId(e);s&&(s=resolve.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function _removeAllSchemas(e,t,r){for(var a in t){var s=t[a];s.meta||r&&!r.test(a)||(e._cache.del(s.cacheKey),delete t[a])}}function _addSchema(e,t,r,a){if(\"object\"!=typeof e&&\"boolean\"!=typeof e)throw new Error(\"schema should be object or boolean\");var s=this._opts.serialize,i=s?s(e):e,o=this._cache.get(i);if(o)return o;a=a||!1!==this._opts.addUsedSchema;var c=resolve.normalizeId(this._getId(e));c&&a&&checkUnique(this,c);var h,n=!1!==this._opts.validateSchema&&!t;n&&!(h=c&&c==resolve.normalizeId(e.$schema))&&this.validateSchema(e,!0);var m=resolve.ids.call(this,e),d=new SchemaObject({id:c,schema:e,localRefs:m,cacheKey:i,meta:r});return\"#\"!=c[0]&&a&&(this._refs[c]=d),this._cache.put(i,d),n&&h&&this.validateSchema(e,!0),d}function _compile(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,!0===e.schema.$async&&(s.$async=!0),s;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=compileSchema.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function s(){var t=e.validate,r=t.apply(null,arguments);return s.errors=t.errors,r}}function chooseGetId(e){switch(e.schemaId){case\"$id\":return _get$Id;case\"id\":return _getId;default:return _get$IdOrId}}function _getId(e){return e.$id&&this.logger.warn(\"schema $id ignored\",e.$id),e.id}function _get$Id(e){return e.id&&this.logger.warn(\"schema id ignored\",e.id),e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\"schema $id is different from id\");return e.$id||e.id}function errorsText(e,t){if(!(e=e||this.errors))return\"No errors\";for(var r=void 0===(t=t||{}).separator?\", \":t.separator,a=void 0===t.dataVar?\"data\":t.dataVar,s=\"\",i=0;i<e.length;i++){var o=e[i];o&&(s+=a+o.dataPath+\" \"+o.message+r)}return s.slice(0,-r.length)}function addFormat(e,t){return\"string\"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function addDraft6MetaSchema(e){var t;if(e._opts.$data&&(t=require(\"./refs/$data.json\"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=require(\"./refs/json-schema-draft-06.json\");e._opts.$data&&(r=$dataMetaSchema(r,META_SUPPORT_DATA)),e.addMetaSchema(r,META_SCHEMA_ID,!0),e._refs[\"http://json-schema.org/schema\"]=META_SCHEMA_ID}}function addInitialSchemas(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function addInitialFormats(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function checkUnique(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id \"'+t+'\" already exists')}function getMetaSchemaOptions(e){for(var t=util.copy(e._opts),r=0;r<META_IGNORE_OPTIONS.length;r++)delete t[META_IGNORE_OPTIONS[r]];return t}function setLogger(e){var t=e._opts.logger;if(!1===t)e.logger={log:noop,warn:noop,error:noop};else{if(void 0===t&&(t=console),!(\"object\"==typeof t&&t.log&&t.warn&&t.error))throw new Error(\"logger must implement log, warn and error methods\");e.logger=t}}function noop(){}","node_modules/har-validator/lib/error.js":"function HARError(r){this.name=\"HARError\",this.message=\"validation failed\",this.errors=r,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(\"validation failed\").stack}HARError.prototype=Error.prototype,module.exports=HARError;","node_modules/har-schema/lib/index.js":"\"use strict\";module.exports={afterRequest:require(\"./afterRequest.json\"),beforeRequest:require(\"./beforeRequest.json\"),browser:require(\"./browser.json\"),cache:require(\"./cache.json\"),content:require(\"./content.json\"),cookie:require(\"./cookie.json\"),creator:require(\"./creator.json\"),entry:require(\"./entry.json\"),har:require(\"./har.json\"),header:require(\"./header.json\"),log:require(\"./log.json\"),page:require(\"./page.json\"),pageTimings:require(\"./pageTimings.json\"),postData:require(\"./postData.json\"),query:require(\"./query.json\"),request:require(\"./request.json\"),response:require(\"./response.json\"),timings:require(\"./timings.json\")};","node_modules/ajv/lib/compile/index.js":"\"use strict\";var resolve=require(\"./resolve\"),util=require(\"./util\"),errorClasses=require(\"./error_classes\"),stableStringify=require(\"fast-json-stable-stringify\"),validateGenerator=require(\"../dotjs/validate\"),co=require(\"co\"),ucs2length=util.ucs2length,equal=require(\"fast-deep-equal\"),ValidationError=errorClasses.Validation;module.exports=compile;function compile(e,r,t,o){var a=this,i=this._opts,l=[void 0],n={},s=[],c={},u=[],f={},d=[];r=r||{schema:e,refVal:l,refs:n};var v=checkCompiling.call(this,e,r,o),m=this._compilations[v.index];if(v.compiling)return m.callValidate=C;var h=this._formats,p=this.RULES;try{var g=V(e,r,t,o);m.validate=g;var y=m.callValidate;return y&&(y.schema=g.schema,y.errors=null,y.refs=g.refs,y.refVal=g.refVal,y.root=g.root,y.$async=g.$async,i.sourceCode&&(y.source=g.source)),g}finally{endCompiling.call(this,e,r,o)}function C(){var e=m.validate,r=e.apply(null,arguments);return C.errors=e.errors,r}function V(e,t,o,c){var f=!t||t&&t.schema==e;if(t.schema!=r.schema)return compile.call(a,e,t,o,c);var v=!0===e.$async,m=validateGenerator({isTop:!0,schema:e,isRoot:f,baseId:c,root:t,schemaPath:\"\",errSchemaPath:\"#\",errorPath:'\"\"',MissingRefError:errorClasses.MissingRef,RULES:p,validate:validateGenerator,util:util,resolve:resolve,resolveRef:R,usePattern:b,useDefault:q,useCustomRule:E,opts:i,formats:h,logger:a.logger,self:a});m=vars(l,refValCode)+vars(s,patternCode)+vars(u,defaultCode)+vars(d,customRuleCode)+m,i.processCode&&(m=i.processCode(m));var g;try{g=new Function(\"self\",\"RULES\",\"formats\",\"root\",\"refVal\",\"defaults\",\"customRules\",\"co\",\"equal\",\"ucs2length\",\"ValidationError\",m)(a,p,h,r,l,u,d,co,equal,ucs2length,ValidationError),l[0]=g}catch(e){throw a.logger.error(\"Error compiling schema, function code:\",m),e}return g.schema=e,g.errors=null,g.refs=n,g.refVal=l,g.root=f?g:t,v&&(g.$async=!0),!0===i.sourceCode&&(g.source={code:m,patterns:s,defaults:u}),g}function R(e,o,s){o=resolve.url(e,o);var c,u,f=n[o];if(void 0!==f)return c=l[f],u=\"refVal[\"+f+\"]\",w(c,u);if(!s&&r.refs){var d=r.refs[o];if(void 0!==d)return c=r.refVal[d],u=S(o,c),w(c,u)}u=S(o);var v=resolve.call(a,V,r,o);if(void 0===v){var m=t&&t[o];m&&(v=resolve.inlineRef(m,i.inlineRefs)?m:compile.call(a,m,r,t,e))}if(void 0!==v)return function(e,r){var t=n[e];l[t]=r}(o,v),w(v,u);!function(e){delete n[e]}(o)}function S(e,r){var t=l.length;return l[t]=r,n[e]=t,\"refVal\"+t}function w(e,r){return\"object\"==typeof e||\"boolean\"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&e.$async}}function b(e){var r=c[e];return void 0===r&&(r=c[e]=s.length,s[r]=e),\"pattern\"+r}function q(e){switch(typeof e){case\"boolean\":case\"number\":return\"\"+e;case\"string\":return util.toQuotedString(e);case\"object\":if(null===e)return\"null\";var r=stableStringify(e),t=f[r];return void 0===t&&(t=f[r]=u.length,u[t]=e),\"default\"+t}}function E(e,r,t,o){var l=e.definition.validateSchema;if(l&&!1!==a._opts.validateSchema){if(!l(r)){var n=\"keyword schema is invalid: \"+a.errorsText(l.errors);if(\"log\"!=a._opts.validateSchema)throw new Error(n);a.logger.error(n)}}var s,c=e.definition.compile,u=e.definition.inline,f=e.definition.macro;if(c)s=c.call(a,r,t,o);else if(f)s=f.call(a,r,t,o),!1!==i.validateSchema&&a.validateSchema(s,!0);else if(u)s=u.call(a,o,e.keyword,r,t);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword \"'+e.keyword+'\"failed to compile');var v=d.length;return d[v]=s,{code:\"customRule\"+v,validate:s}}}function checkCompiling(e,r,t){var o=compIndex.call(this,e,r,t);return o>=0?{index:o,compiling:!0}:(o=this._compilations.length,this._compilations[o]={schema:e,root:r,baseId:t},{index:o,compiling:!1})}function endCompiling(e,r,t){var o=compIndex.call(this,e,r,t);o>=0&&this._compilations.splice(o,1)}function compIndex(e,r,t){for(var o=0;o<this._compilations.length;o++){var a=this._compilations[o];if(a.schema==e&&a.root==r&&a.baseId==t)return o}return-1}function patternCode(e,r){return\"var pattern\"+e+\" = new RegExp(\"+util.toQuotedString(r[e])+\");\"}function defaultCode(e){return\"var default\"+e+\" = defaults[\"+e+\"];\"}function refValCode(e,r){return void 0===r[e]?\"\":\"var refVal\"+e+\" = refVal[\"+e+\"];\"}function customRuleCode(e){return\"var customRule\"+e+\" = customRules[\"+e+\"];\"}function vars(e,r){if(!e.length)return\"\";for(var t=\"\",o=0;o<e.length;o++)t+=r(o,e);return t}","node_modules/ajv/lib/compile/resolve.js":"\"use strict\";var url=require(\"url\"),equal=require(\"fast-deep-equal\"),util=require(\"./util\"),SchemaObject=require(\"./schema_obj\"),traverse=require(\"json-schema-traverse\");module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=resolveIds,resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;function resolve(e,r,t){var i=this._refs[t];if(\"string\"==typeof i){if(!this._refs[i])return resolve.call(this,e,r,i);i=this._refs[i]}if((i=i||this._schemas[t])instanceof SchemaObject)return inlineRef(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var s,a,o,l=resolveSchema.call(this,r,t);return l&&(s=l.schema,r=l.root,o=l.baseId),s instanceof SchemaObject?a=s.validate||e.call(this,s.schema,r,void 0,o):void 0!==s&&(a=inlineRef(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,o)),a}function resolveSchema(e,r){var t=url.parse(r,!1,!0),i=_getFullPath(t),s=getFullPath(this._getId(e.schema));if(i!==s){var a=normalizeId(i),o=this._refs[a];if(\"string\"==typeof o)return resolveRecursive.call(this,e,o,t);if(o instanceof SchemaObject)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof SchemaObject))return;if(o.validate||this._compile(o),a==normalizeId(r))return{schema:o,root:e,baseId:s};e=o}if(!e.schema)return;s=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,t,s,e.schema,e)}function resolveRecursive(e,r,t){var i=resolveSchema.call(this,e,r);if(i){var s=i.schema,a=i.baseId;e=i.root;var o=this._getId(s);return o&&(a=resolveUrl(a,o)),getJsonPointer.call(this,t,a,s,e)}}var PREVENT_SCOPE_CHANGE=util.toHash([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function getJsonPointer(e,r,t,i){if(e.hash=e.hash||\"\",\"#/\"==e.hash.slice(0,2)){for(var s=e.hash.split(\"/\"),a=1;a<s.length;a++){var o=s[a];if(o){if(o=util.unescapeFragment(o),void 0===(t=t[o]))break;var l;if(!PREVENT_SCOPE_CHANGE[o]&&((l=this._getId(t))&&(r=resolveUrl(r,l)),t.$ref)){var n=resolveUrl(r,t.$ref),c=resolveSchema.call(this,i,n);c&&(t=c.schema,i=c.root,r=c.baseId)}}}return void 0!==t&&t!==i.schema?{schema:t,root:i,baseId:r}:void 0}}var SIMPLE_INLINED=util.toHash([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\"]);function inlineRef(e,r){return!1!==r&&(void 0===r||!0===r?checkNoRef(e):r?countKeys(e)<=r:void 0)}function checkNoRef(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(\"object\"==typeof(r=e[t])&&!checkNoRef(r))return!1}else for(var i in e){if(\"$ref\"==i)return!1;if(\"object\"==typeof(r=e[i])&&!checkNoRef(r))return!1}return!0}function countKeys(e){var r,t=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(\"object\"==typeof(r=e[i])&&(t+=countKeys(r)),t==1/0)return 1/0}else for(var s in e){if(\"$ref\"==s)return 1/0;if(SIMPLE_INLINED[s])t++;else if(\"object\"==typeof(r=e[s])&&(t+=countKeys(r)+1),t==1/0)return 1/0}return t}function getFullPath(e,r){!1!==r&&(e=normalizeId(e));return _getFullPath(url.parse(e,!1,!0))}function _getFullPath(e){var r=e.protocol||\"//\"==e.href.slice(0,2)?\"//\":\"\";return(e.protocol||\"\")+r+(e.host||\"\")+(e.path||\"\")+\"#\"}var TRAILING_SLASH_HASH=/#\\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,\"\"):\"\"}function resolveUrl(e,r){return r=normalizeId(r),url.resolve(e,r)}function resolveIds(e){var r=normalizeId(this._getId(e)),t={\"\":r},i={\"\":getFullPath(r,!1)},s={},a=this;return traverse(e,{allKeys:!0},function(e,r,o,l,n,c,h){if(\"\"!==r){var f=a._getId(e),u=t[l],m=i[l]+\"/\"+n;if(void 0!==h&&(m+=\"/\"+(\"number\"==typeof h?h:util.escapeFragment(h))),\"string\"==typeof f){f=u=normalizeId(u?url.resolve(u,f):f);var v=a._refs[f];if(\"string\"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!equal(e,v.schema))throw new Error('id \"'+f+'\" resolves to more than one schema')}else if(f!=normalizeId(m))if(\"#\"==f[0]){if(s[f]&&!equal(e,s[f]))throw new Error('id \"'+f+'\" resolves to more than one schema');s[f]=e}else a._refs[f]=m}t[r]=u,i[r]=m}}),s}","node_modules/ajv/lib/cache.js":"\"use strict\";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(t,e){this._cache[t]=e},Cache.prototype.get=function(t){return this._cache[t]},Cache.prototype.del=function(t){delete this._cache[t]},Cache.prototype.clear=function(){this._cache={}};","node_modules/ajv/lib/compile/schema_obj.js":"\"use strict\";var util=require(\"./util\");module.exports=SchemaObject;function SchemaObject(t){util.copy(t,this)}","node_modules/fast-json-stable-stringify/index.js":"\"use strict\";module.exports=function(r,t){t||(t={}),\"function\"==typeof t&&(t={cmp:t});var n=\"boolean\"==typeof t.cycles&&t.cycles,e=t.cmp&&function(r){return function(t){return function(n,e){var i={key:n,value:t[n]},u={key:e,value:t[e]};return r(i,u)}}}(t.cmp),i=[];return function r(t){if(t&&t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if(\"number\"==typeof t)return isFinite(t)?\"\"+t:\"null\";if(\"object\"!=typeof t)return JSON.stringify(t);var u,o;if(Array.isArray(t)){for(o=\"[\",u=0;u<t.length;u++)u&&(o+=\",\"),o+=r(t[u])||\"null\";return o+\"]\"}if(null===t)return\"null\";if(-1!==i.indexOf(t)){if(n)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var f=i.push(t)-1,c=Object.keys(t).sort(e&&e(t));for(o=\"\",u=0;u<c.length;u++){var l=c[u],y=r(t[l]);y&&(o&&(o+=\",\"),o+=JSON.stringify(l)+\":\"+y)}return i.splice(f,1),\"{\"+o+\"}\"}}(r)};","node_modules/ajv/lib/compile/formats.js":"\"use strict\";var util=require(\"./util\"),DATE=/^\\d\\d\\d\\d-(\\d\\d)-(\\d\\d)$/,DAYS=[0,31,29,31,30,31,30,31,31,30,31,30,31],TIME=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URIREF=/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,URL=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\\/(?:[^~/]|~0|~1)*)*$|^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;module.exports=formats;function formats(d){return d=\"full\"==d?\"full\":\"fast\",util.copy(formats[d])}formats.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\"date-time\":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\\/)\\/?[^\\s]*$/i,\"uri-reference\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\"uri-template\":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:regex,uuid:UUID,\"json-pointer\":JSON_POINTER,\"relative-json-pointer\":RELATIVE_JSON_POINTER},formats.full={date:date,time:time,\"date-time\":date_time,uri:uri,\"uri-reference\":URIREF,\"uri-template\":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:regex,uuid:UUID,\"json-pointer\":JSON_POINTER,\"relative-json-pointer\":RELATIVE_JSON_POINTER};function date(d){var a=d.match(DATE);if(!a)return!1;var u=+a[1],F=+a[2];return u>=1&&u<=12&&F>=1&&F<=DAYS[u]}function time(d,a){var u=d.match(TIME);if(!u)return!1;var F=u[1],f=u[2],D=u[3],t=u[5];return F<=23&&f<=59&&D<=59&&(!a||t)}var DATE_TIME_SEPARATOR=/t|\\s/i;function date_time(d){var a=d.split(DATE_TIME_SEPARATOR);return 2==a.length&&date(a[0])&&time(a[1],!0)}function hostname(d){return d.length<=255&&HOSTNAME.test(d)}var NOT_URI_FRAGMENT=/\\/|:/;function uri(d){return NOT_URI_FRAGMENT.test(d)&&URI.test(d)}var Z_ANCHOR=/[^\\\\]\\\\Z/;function regex(d){if(Z_ANCHOR.test(d))return!1;try{return new RegExp(d),!0}catch(d){return!1}}","node_modules/ajv/lib/compile/rules.js":"\"use strict\";var ruleModules=require(\"./_rules\"),toHash=require(\"./util\").toHash;module.exports=function(){var e=[{type:\"number\",rules:[{maximum:[\"exclusiveMaximum\"]},{minimum:[\"exclusiveMinimum\"]},\"multipleOf\",\"format\"]},{type:\"string\",rules:[\"maxLength\",\"minLength\",\"pattern\",\"format\"]},{type:\"array\",rules:[\"maxItems\",\"minItems\",\"uniqueItems\",\"contains\",\"items\"]},{type:\"object\",rules:[\"maxProperties\",\"minProperties\",\"required\",\"dependencies\",\"propertyNames\",{properties:[\"additionalProperties\",\"patternProperties\"]}]},{rules:[\"$ref\",\"const\",\"enum\",\"not\",\"anyOf\",\"oneOf\",\"allOf\"]}],t=[\"type\"];return e.all=toHash(t),e.types=toHash([\"number\",\"integer\",\"string\",\"array\",\"object\",\"boolean\",\"null\"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var i;if(\"object\"==typeof r){var s=Object.keys(r)[0];i=r[s],r=s,i.forEach(function(r){t.push(r),e.all[r]=!0})}t.push(r);return e.all[r]={keyword:r,code:ruleModules[r],implements:i}}),r.type&&(e.types[r.type]=r)}),e.keywords=toHash(t.concat([\"additionalItems\",\"$schema\",\"$id\",\"id\",\"title\",\"description\",\"default\",\"definitions\"])),e.custom={},e};","node_modules/ajv/lib/$data.js":"\"use strict\";var KEYWORDS=[\"multipleOf\",\"maximum\",\"exclusiveMaximum\",\"minimum\",\"exclusiveMinimum\",\"maxLength\",\"minLength\",\"pattern\",\"additionalItems\",\"maxItems\",\"minItems\",\"uniqueItems\",\"maxProperties\",\"minProperties\",\"required\",\"additionalProperties\",\"enum\",\"format\",\"const\"];module.exports=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var r,m=t[i].split(\"/\"),n=e;for(r=1;r<m.length;r++)n=n[m[r]];for(r=0;r<KEYWORDS.length;r++){var a=KEYWORDS[r],s=n[a];s&&(n[a]={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\"}]})}}return e};","node_modules/ajv/lib/patternGroups.js":"\"use strict\";var META_SCHEMA_ID=\"http://json-schema.org/draft-06/schema\";module.exports=function(e){var t=e._opts.defaultMeta,r=\"string\"==typeof t?{$ref:t}:e.getSchema(META_SCHEMA_ID)?{$ref:META_SCHEMA_ID}:{};e.addKeyword(\"patternGroups\",{metaSchema:{type:\"object\",additionalProperties:{type:\"object\",required:[\"schema\"],properties:{maximum:{type:\"integer\",minimum:0},minimum:{type:\"integer\",minimum:0},schema:r},additionalProperties:!1}}}),e.RULES.all.properties.implements.push(\"patternGroups\")};","node_modules/ajv/lib/compile/util.js":"\"use strict\";module.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:require(\"fast-deep-equal\"),ucs2length:require(\"./ucs2length\"),varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,finalCleanUpCode:finalCleanUpCode,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(e,r){r=r||{};for(var t in e)r[t]=e[t];return r}function checkDataType(e,r,t){var a=t?\" !== \":\" === \",n=t?\" || \":\" && \",o=t?\"!\":\"\",c=t?\"\":\"!\";switch(e){case\"null\":return r+a+\"null\";case\"array\":return o+\"Array.isArray(\"+r+\")\";case\"object\":return\"(\"+o+r+n+\"typeof \"+r+a+'\"object\"'+n+c+\"Array.isArray(\"+r+\"))\";case\"integer\":return\"(typeof \"+r+a+'\"number\"'+n+c+\"(\"+r+\" % 1)\"+n+r+a+r+\")\";default:return\"typeof \"+r+a+'\"'+e+'\"'}}function checkDataTypes(e,r){switch(e.length){case 1:return checkDataType(e[0],r,!0);default:var t=\"\",a=toHash(e);a.array&&a.object&&(t=a.null?\"(\":\"(!\"+r+\" || \",t+=\"typeof \"+r+' !== \"object\")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var n in a)t+=(t?\" && \":\"\")+checkDataType(n,r,!0);return t}}var COERCE_TO_TYPES=toHash([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function coerceToTypes(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var n=r[a];COERCE_TO_TYPES[n]?t[t.length]=n:\"array\"===e&&\"array\"===n&&(t[t.length]=n)}if(t.length)return t}else{if(COERCE_TO_TYPES[r])return[r];if(\"array\"===e&&\"array\"===r)return[\"array\"]}}function toHash(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\\\/g;function getProperty(e){return\"number\"==typeof e?\"[\"+e+\"]\":IDENTIFIER.test(e)?\".\"+e:\"['\"+escapeQuotes(e)+\"']\"}function escapeQuotes(e){return e.replace(SINGLE_QUOTE,\"\\\\$&\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\f/g,\"\\\\f\").replace(/\\t/g,\"\\\\t\")}function varOccurences(e,r){r+=\"[^0-9]\";var t=e.match(new RegExp(r,\"g\"));return t?t.length:0}function varReplace(e,r,t){return r+=\"([^0-9])\",t=t.replace(/\\$/g,\"$$$$\"),e.replace(new RegExp(r,\"g\"),t+\"$1\")}var EMPTY_ELSE=/else\\s*{\\s*}/g,EMPTY_IF_NO_ELSE=/if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g,EMPTY_IF_WITH_ELSE=/if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;function cleanUpCode(e){return e.replace(EMPTY_ELSE,\"\").replace(EMPTY_IF_NO_ELSE,\"\").replace(EMPTY_IF_WITH_ELSE,\"if (!($1))\")}var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID=\"return errors === 0;\",RETURN_TRUE=\"validate.errors = null; return true;\",RETURN_ASYNC=/if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/,RETURN_DATA_ASYNC=\"return data;\",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \\(rootData === undefined\\) rootData = data;/;function finalCleanUpCode(e,r){var t=e.match(ERRORS_REGEXP);return t&&2==t.length&&(e=r?e.replace(REMOVE_ERRORS_ASYNC,\"\").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):e.replace(REMOVE_ERRORS,\"\").replace(RETURN_VALID,RETURN_TRUE)),(t=e.match(ROOTDATA_REGEXP))&&3===t.length?e.replace(REMOVE_ROOTDATA,\"\"):e}function schemaHasRules(e,r){if(\"boolean\"==typeof e)return!e;for(var t in e)if(r[t])return!0}function schemaHasRulesExcept(e,r,t){if(\"boolean\"==typeof e)return!e&&\"not\"!=t;for(var a in e)if(a!=t&&r[a])return!0}function toQuotedString(e){return\"'\"+escapeQuotes(e)+\"'\"}function getPathExpr(e,r,t,a){return joinPaths(e,t?\"'/' + \"+r+(a?\"\":\".replace(/~/g, '~0').replace(/\\\\//g, '~1')\"):a?\"'[' + \"+r+\" + ']'\":\"'[\\\\'' + \"+r+\" + '\\\\']'\")}function getPath(e,r,t){return joinPaths(e,toQuotedString(t?\"/\"+escapeJsonPointer(r):getProperty(r)))}var JSON_POINTER=/^\\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function getData(e,r,t){var a,n,o,c;if(\"\"===e)return\"rootData\";if(\"/\"==e[0]){if(!JSON_POINTER.test(e))throw new Error(\"Invalid JSON-pointer: \"+e);n=e,o=\"rootData\"}else{if(!(c=e.match(RELATIVE_JSON_POINTER)))throw new Error(\"Invalid JSON-pointer: \"+e);if(a=+c[1],\"#\"==(n=c[2])){if(a>=r)throw new Error(\"Cannot access property/index \"+a+\" levels up, current level is \"+r);return t[r-a]}if(a>r)throw new Error(\"Cannot access data \"+a+\" levels up, current level is \"+r);if(o=\"data\"+(r-a||\"\"),!n)return o}for(var s=o,u=n.split(\"/\"),l=0;l<u.length;l++){var p=u[l];p&&(s+=\" && \"+(o+=getProperty(unescapeJsonPointer(p))))}return s}function joinPaths(e,r){return'\"\"'==e?r:(e+\" + \"+r).replace(/' \\+ '/g,\"\")}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function unescapeJsonPointer(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}","node_modules/co/index.js":"var slice=Array.prototype.slice;module.exports=co.default=co.co=co,co.wrap=function(t){return n.__generatorFunction__=t,n;function n(){return co.call(this,t.apply(this,arguments))}};function co(t){var n=this,r=slice.call(arguments,1);return new Promise(function(o,e){if(\"function\"==typeof t&&(t=t.apply(n,r)),!t||\"function\"!=typeof t.next)return o(t);i();function i(n){var r;try{r=t.next(n)}catch(t){return e(t)}u(r)}function c(n){var r;try{r=t.throw(n)}catch(t){return e(t)}u(r)}function u(t){if(t.done)return o(t.value);var r=toPromise.call(n,t.value);return r&&isPromise(r)?r.then(i,c):c(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: \"'+String(t.value)+'\"'))}})}function toPromise(t){return t?isPromise(t)?t:isGeneratorFunction(t)||isGenerator(t)?co.call(this,t):\"function\"==typeof t?thunkToPromise.call(this,t):Array.isArray(t)?arrayToPromise.call(this,t):isObject(t)?objectToPromise.call(this,t):t:t}function thunkToPromise(t){var n=this;return new Promise(function(r,o){t.call(n,function(t,n){if(t)return o(t);arguments.length>2&&(n=slice.call(arguments,1)),r(n)})})}function arrayToPromise(t){return Promise.all(t.map(toPromise,this))}function objectToPromise(t){for(var n=new t.constructor,r=Object.keys(t),o=[],e=0;e<r.length;e++){var i=r[e],c=toPromise.call(this,t[i]);c&&isPromise(c)?function(t,r){n[r]=void 0,o.push(t.then(function(t){n[r]=t}))}(c,i):n[i]=t[i]}return Promise.all(o).then(function(){return n})}function isPromise(t){return\"function\"==typeof t.then}function isGenerator(t){return\"function\"==typeof t.next&&\"function\"==typeof t.throw}function isGeneratorFunction(t){var n=t.constructor;return!!n&&(\"GeneratorFunction\"===n.name||\"GeneratorFunction\"===n.displayName||isGenerator(n.prototype))}function isObject(t){return Object==t.constructor}","node_modules/ajv/lib/compile/async.js":"\"use strict\";var MissingRefError=require(\"./error_classes\").MissingRef;module.exports=compileAsync;function compileAsync(e,n,r){var o=this;if(\"function\"!=typeof this._opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");\"function\"==typeof n&&(r=n,n=void 0);var t=i(e).then(function(){var r=o._addSchema(e,void 0,n);return r.validate||c(r)});return r&&t.then(function(e){r(null,e)},r),t;function i(e){var n=e.$schema;return n&&!o.getSchema(n)?compileAsync.call(o,{$ref:n},!0):Promise.resolve()}function c(e){try{return o._compile(e)}catch(r){if(r instanceof MissingRefError)return function(r){var t=r.missingSchema;if(u(t))throw new Error(\"Schema \"+t+\" is loaded but \"+r.missingRef+\" cannot be resolved\");var a=o._loadingSchemas[t];a||(a=o._loadingSchemas[t]=o._opts.loadSchema(t)).then(s,s);return a.then(function(e){if(!u(t))return i(e).then(function(){u(t)||o.addSchema(e,t,void 0,n)})}).then(function(){return c(e)});function s(){delete o._loadingSchemas[t]}function u(e){return o._refs[e]||o._schemas[e]}}(r);throw r}}}","node_modules/ajv/lib/keyword.js":"\"use strict\";var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=require(\"./dotjs/custom\");module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword};function addKeyword(e,r){var t=this.RULES;if(t.keywords[e])throw new Error(\"Keyword \"+e+\" is already defined\");if(!IDENTIFIER.test(e))throw new Error(\"Keyword \"+e+\" is not a valid identifier\");if(r){if(r.macro&&void 0!==r.valid)throw new Error('\"valid\" option cannot be used with macro keywords');var o=r.type;if(Array.isArray(o)){var i,a=o.length;for(i=0;i<a;i++)l(o[i]);for(i=0;i<a;i++)n(e,o[i],r)}else o&&l(o),n(e,o,r);var d=!0===r.$data&&this._opts.$data;if(d&&!r.validate)throw new Error('$data support: \"validate\" function is not defined');var s=r.metaSchema;s&&(d&&(s={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\"}]}),r.validateSchema=this.compile(s,!0))}t.keywords[e]=t.all[e]=!0;function n(e,r,o){for(var i,a=0;a<t.length;a++){var d=t[a];if(d.type==r){i=d;break}}i||(i={type:r,rules:[]},t.push(i));var s={keyword:e,definition:o,custom:!0,code:customRuleCode,implements:o.implements};i.rules.push(s),t.custom[e]=s}function l(e){if(!t.types[e])throw new Error(\"Unknown type \"+e)}return this}function getKeyword(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function removeKeyword(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var o=r[t].rules,i=0;i<o.length;i++)if(o[i].keyword==e){o.splice(i,1);break}return this}","node_modules/ajv/lib/compile/error_classes.js":"\"use strict\";var resolve=require(\"./resolve\");module.exports={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(r){this.message=\"validation failed\",this.errors=r,this.ajv=this.validation=!0}MissingRefError.message=function(r,e){return\"can't resolve reference \"+e+\" from id \"+r};function MissingRefError(r,e,s){this.message=s||MissingRefError.message(r,e),this.missingRef=resolve.url(r,e),this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}","node_modules/ajv/lib/dotjs/validate.js":"\"use strict\";module.exports=function(e,r,a){var t=\"\",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\"$ref\"),i=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var l=\"es7\"==e.opts.async;e.yieldAwait=l?\"await\":\"yield\"}t+=\" var validate = \",s?l?t+=\" (async function \":(\"*\"!=e.opts.async&&(t+=\"co.wrap\"),t+=\"(function* \"):t+=\" (function \",t+=\" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \",i&&(e.opts.sourceCode||e.opts.processCode)&&(t+=\" /*# sourceURL=\"+i+\" */ \")}if(\"boolean\"==typeof e.schema||!o&&!e.schema.$ref){var n=e.level,h=e.dataLevel,p=e.schema[\"false schema\"],c=e.schemaPath+e.util.getProperty(\"false schema\"),d=e.errSchemaPath+\"/false schema\",f=!e.opts.allErrors,u=\"data\"+(h||\"\"),v=\"valid\"+n;if(!1===e.schema){e.isTop?f=!0:t+=\" var \"+v+\" = false; \";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"false schema\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(d)+\" , params: {} \",!1!==e.opts.messages&&(t+=\" , message: 'boolean schema is false' \"),e.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else e.isTop?t+=s?\" return data; \":\" validate.errors = null; return true; \":t+=\" var \"+v+\" = true; \";return e.isTop&&(t+=\" }); return validate; \"),t}if(e.isTop){var y=e.isTop;n=e.level=0,h=e.dataLevel=0,u=\"data\";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],t+=\" var vErrors = null; \",t+=\" var errors = 0;     \",t+=\" if (rootData === undefined) rootData = data; \"}else{n=e.level,u=\"data\"+((h=e.dataLevel)||\"\");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw new Error(\"async schema in sync schema\");t+=\" var errs_\"+n+\" = errors;\"}v=\"valid\"+n,f=!e.opts.allErrors;var P,g=\"\",E=\"\",w=e.schema.type,b=Array.isArray(w);if(b&&1==w.length&&(w=w[0],b=!1),e.schema.$ref&&o){if(\"fail\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \"'+e.errSchemaPath+'\" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path \"'+e.errSchemaPath+'\"'))}if(w){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,w);var T=e.RULES.types[w];if(S||b||!0===T||T&&!Y(T)){c=e.schemaPath+\".type\",d=e.errSchemaPath+\"/type\",c=e.schemaPath+\".type\",d=e.errSchemaPath+\"/type\";var D=b?\"checkDataTypes\":\"checkDataType\";if(t+=\" if (\"+e.util[D](w,u,!0)+\") { \",S){var R=\"dataType\"+n,k=\"coerced\"+n;t+=\" var \"+R+\" = typeof \"+u+\"; \",\"array\"==e.opts.coerceTypes&&(t+=\" if (\"+R+\" == 'object' && Array.isArray(\"+u+\")) \"+R+\" = 'array'; \"),t+=\" var \"+k+\" = undefined; \";var j=\"\",A=S;if(A)for(var $,I=-1,L=A.length-1;I<L;)$=A[I+=1],I&&(t+=\" if (\"+k+\" === undefined) { \",j+=\"}\"),\"array\"==e.opts.coerceTypes&&\"array\"!=$&&(t+=\" if (\"+R+\" == 'array' && \"+u+\".length == 1) { \"+k+\" = \"+u+\" = \"+u+\"[0]; \"+R+\" = typeof \"+u+\";  } \"),\"string\"==$?t+=\" if (\"+R+\" == 'number' || \"+R+\" == 'boolean') \"+k+\" = '' + \"+u+\"; else if (\"+u+\" === null) \"+k+\" = ''; \":\"number\"==$||\"integer\"==$?(t+=\" if (\"+R+\" == 'boolean' || \"+u+\" === null || (\"+R+\" == 'string' && \"+u+\" && \"+u+\" == +\"+u+\" \",\"integer\"==$&&(t+=\" && !(\"+u+\" % 1)\"),t+=\")) \"+k+\" = +\"+u+\"; \"):\"boolean\"==$?t+=\" if (\"+u+\" === 'false' || \"+u+\" === 0 || \"+u+\" === null) \"+k+\" = false; else if (\"+u+\" === 'true' || \"+u+\" === 1) \"+k+\" = true; \":\"null\"==$?t+=\" if (\"+u+\" === '' || \"+u+\" === 0 || \"+u+\" === false) \"+k+\" = null; \":\"array\"==e.opts.coerceTypes&&\"array\"==$&&(t+=\" if (\"+R+\" == 'string' || \"+R+\" == 'number' || \"+R+\" == 'boolean' || \"+u+\" == null) \"+k+\" = [\"+u+\"]; \");t+=\" \"+j+\" if (\"+k+\" === undefined) {   \";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(d)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else {  \";var U=h?\"data\"+(h-1||\"\"):\"parentData\",_=h?e.dataPathArr[h]:\"parentDataProperty\";t+=\" \"+u+\" = \"+k+\"; \",h||(t+=\"if (\"+U+\" !== undefined)\"),t+=\" \"+U+\"[\"+_+\"] = \"+k+\"; } \"}else{(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(d)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}t+=\" } \"}}if(e.schema.$ref&&!o)t+=\" \"+e.RULES.all.$ref.code(e,\"$ref\")+\" \",f&&(t+=\" } if (errors === \",t+=y?\"0\":\"errs_\"+n,t+=\") { \",E+=\"}\");else{e.opts.v5&&e.schema.patternGroups&&e.logger.warn('keyword \"patternGroups\" is deprecated and disabled. Use option patternGroups: true to enable.');var x=e.RULES;if(x)for(var C=-1,V=x.length-1;C<V;)if(T=x[C+=1],Y(T)){if(T.type&&(t+=\" if (\"+e.util.checkDataType(T.type,u)+\") { \"),e.opts.useDefaults&&!e.compositeRule)if(\"object\"==T.type&&e.schema.properties){p=e.schema.properties;var Q=Object.keys(p);if(Q)for(var G,O=-1,J=Q.length-1;O<J;){if(void 0!==(H=p[G=Q[O+=1]]).default){t+=\"  if (\"+(z=u+e.util.getProperty(G))+\" === undefined) \"+z+\" = \",\"shared\"==e.opts.useDefaults?t+=\" \"+e.useDefault(H.default)+\" \":t+=\" \"+JSON.stringify(H.default)+\" \",t+=\"; \"}}}else if(\"array\"==T.type&&Array.isArray(e.schema.items)){var N=e.schema.items;if(N){I=-1;for(var H,q=N.length-1;I<q;)if(void 0!==(H=N[I+=1]).default){var z;t+=\"  if (\"+(z=u+\"[\"+I+\"]\")+\" === undefined) \"+z+\" = \",\"shared\"==e.opts.useDefaults?t+=\" \"+e.useDefault(H.default)+\" \":t+=\" \"+JSON.stringify(H.default)+\" \",t+=\"; \"}}}var B=T.rules;if(B)for(var F,K=-1,M=B.length-1;K<M;)if(F=B[K+=1],Z(F)){var W=F.code(e,F.keyword,T.type);W&&(t+=\" \"+W+\" \",f&&(g+=\"}\"))}if(f&&(t+=\" \"+g+\" \",g=\"\"),T.type&&(t+=\" } \",w&&w===T.type&&!S)){t+=\" else { \";var X;c=e.schemaPath+\".type\",d=e.errSchemaPath+\"/type\";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(d)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \"}f&&(t+=\" if (errors === \",t+=y?\"0\":\"errs_\"+n,t+=\") { \",E+=\"}\")}}f&&(t+=\" \"+E+\" \"),y?(s?(t+=\" if (errors === 0) return data;           \",t+=\" else throw new ValidationError(vErrors); \"):(t+=\" validate.errors = vErrors; \",t+=\" return errors === 0;       \"),t+=\" }); return validate;\"):t+=\" var \"+v+\" = errors === errs_\"+n+\";\",t=e.util.cleanUpCode(t),y&&(t=e.util.finalCleanUpCode(t,s));function Y(e){for(var r=e.rules,a=0;a<r.length;a++)if(Z(r[a]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var a=r.implements,t=0;t<a.length;t++)if(void 0!==e.schema[a[t]])return!0}(r)}return t};","node_modules/fast-deep-equal/index.js":"\"use strict\";module.exports=function r(e,t){if(e===t)return!0;var n,i=Array.isArray(e),f=Array.isArray(t);if(i&&f){if(e.length!=t.length)return!1;for(n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}if(i!=f)return!1;if(e&&t&&\"object\"==typeof e&&\"object\"==typeof t){var o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;var u=e instanceof Date,a=t instanceof Date;if(u&&a)return e.getTime()==t.getTime();if(u!=a)return!1;var g=e instanceof RegExp,c=t instanceof RegExp;if(g&&c)return e.toString()==t.toString();if(g!=c)return!1;for(n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=0;n<o.length;n++)if(!r(e[o[n]],t[o[n]]))return!1;return!0}return!1};","node_modules/json-schema-traverse/index.js":"\"use strict\";var traverse=module.exports=function(e,r,s){\"function\"==typeof r&&(s=r,r={}),_traverse(r,s,e,\"\",e)};traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _traverse(e,r,s,t,i,a,n,o,m){if(s&&\"object\"==typeof s&&!Array.isArray(s)){r(s,t,i,a,n,o,m);for(var p in s){var f=s[p];if(Array.isArray(f)){if(p in traverse.arrayKeywords)for(var v=0;v<f.length;v++)_traverse(e,r,f[v],t+\"/\"+p+\"/\"+v,i,t,p,s,v)}else if(p in traverse.propsKeywords){if(f&&\"object\"==typeof f)for(var y in f)_traverse(e,r,f[y],t+\"/\"+p+\"/\"+escapeJsonPtr(y),i,t,p,s,y)}else(p in traverse.keywords||e.allKeys&&!(p in traverse.skipKeywords))&&_traverse(e,r,f,t+\"/\"+p,i,t,p,s)}}}function escapeJsonPtr(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}","node_modules/ajv/lib/compile/ucs2length.js":"\"use strict\";module.exports=function(r){for(var t,e=0,o=r.length,c=0;c<o;)e++,(t=r.charCodeAt(c++))>=55296&&t<=56319&&c<o&&56320==(64512&(t=r.charCodeAt(c)))&&c++;return e};","node_modules/ajv/lib/compile/_rules.js":"\"use strict\";module.exports={$ref:require(\"../dotjs/ref\"),allOf:require(\"../dotjs/allOf\"),anyOf:require(\"../dotjs/anyOf\"),const:require(\"../dotjs/const\"),contains:require(\"../dotjs/contains\"),dependencies:require(\"../dotjs/dependencies\"),enum:require(\"../dotjs/enum\"),format:require(\"../dotjs/format\"),items:require(\"../dotjs/items\"),maximum:require(\"../dotjs/_limit\"),minimum:require(\"../dotjs/_limit\"),maxItems:require(\"../dotjs/_limitItems\"),minItems:require(\"../dotjs/_limitItems\"),maxLength:require(\"../dotjs/_limitLength\"),minLength:require(\"../dotjs/_limitLength\"),maxProperties:require(\"../dotjs/_limitProperties\"),minProperties:require(\"../dotjs/_limitProperties\"),multipleOf:require(\"../dotjs/multipleOf\"),not:require(\"../dotjs/not\"),oneOf:require(\"../dotjs/oneOf\"),pattern:require(\"../dotjs/pattern\"),properties:require(\"../dotjs/properties\"),propertyNames:require(\"../dotjs/propertyNames\"),required:require(\"../dotjs/required\"),uniqueItems:require(\"../dotjs/uniqueItems\"),validate:require(\"../dotjs/validate\")};","node_modules/ajv/lib/dotjs/ref.js":"\"use strict\";module.exports=function(r,e,a){var s,t,o=\" \",i=r.level,l=r.dataLevel,c=r.schema[e],n=r.errSchemaPath+\"/\"+e,h=!r.opts.allErrors,v=\"data\"+(l||\"\"),f=\"valid\"+i;if(\"#\"==c||\"#/\"==c)r.isRoot?(s=r.async,t=\"validate\"):(s=!0===r.root.schema.$async,t=\"root.refVal[0]\");else{var d=r.resolveRef(r.baseId,c,r.isRoot);if(void 0===d){var p=r.MissingRefError.message(r.baseId,c);if(\"fail\"==r.opts.missingRefs){r.logger.error(p);(g=g||[]).push(o),o=\"\",!1!==r.createErrors?(o+=\" { keyword: '$ref' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(n)+\" , params: { ref: '\"+r.util.escapeQuotes(c)+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'can\\\\'t resolve reference \"+r.util.escapeQuotes(c)+\"' \"),r.opts.verbose&&(o+=\" , schema: \"+r.util.toQuotedString(c)+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),o+=\" } \"):o+=\" {} \";var m=o;o=g.pop(),!r.compositeRule&&h?r.async?o+=\" throw new ValidationError([\"+m+\"]); \":o+=\" validate.errors = [\"+m+\"]; return false; \":o+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h&&(o+=\" if (false) { \")}else{if(\"ignore\"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,c,p);r.logger.warn(p),h&&(o+=\" if (true) { \")}}else if(d.inline){var u=r.util.copy(r);u.level++;var E=\"valid\"+u.level;u.schema=d.schema,u.schemaPath=\"\",u.errSchemaPath=c;o+=\" \"+r.validate(u).replace(/validate\\.schema/g,d.code)+\" \",h&&(o+=\" if (\"+E+\") { \")}else s=!0===d.$async,t=d.code}if(t){var g;(g=g||[]).push(o),o=\"\",r.opts.passContext?o+=\" \"+t+\".call(this, \":o+=\" \"+t+\"( \",o+=\" \"+v+\", (dataPath || '')\",'\"\"'!=r.errorPath&&(o+=\" + \"+r.errorPath);var y=o+=\" , \"+(l?\"data\"+(l-1||\"\"):\"parentData\")+\" , \"+(l?r.dataPathArr[l]:\"parentDataProperty\")+\", rootData)  \";if(o=g.pop(),s){if(!r.async)throw new Error(\"async schema referenced by sync schema\");h&&(o+=\" var \"+f+\"; \"),o+=\" try { \"+r.yieldAwait+\" \"+y+\"; \",h&&(o+=\" \"+f+\" = true; \"),o+=\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \",h&&(o+=\" \"+f+\" = false; \"),o+=\" } \",h&&(o+=\" if (\"+f+\") { \")}else o+=\" if (!\"+y+\") { if (vErrors === null) vErrors = \"+t+\".errors; else vErrors = vErrors.concat(\"+t+\".errors); errors = vErrors.length; } \",h&&(o+=\" else { \")}return o};","node_modules/ajv/lib/dotjs/allOf.js":"\"use strict\";module.exports=function(e,a,l){var t=\" \",r=e.schema[a],s=e.schemaPath+e.util.getProperty(a),c=e.errSchemaPath+\"/\"+a,h=!e.opts.allErrors,i=e.util.copy(e),u=\"\";i.level++;var o=\"valid\"+i.level,m=i.baseId,v=!0,d=r;if(d)for(var f,n=-1,p=d.length-1;n<p;)f=d[n+=1],e.util.schemaHasRules(f,e.RULES.all)&&(v=!1,i.schema=f,i.schemaPath=s+\"[\"+n+\"]\",i.errSchemaPath=c+\"/\"+n,t+=\"  \"+e.validate(i)+\" \",i.baseId=m,h&&(t+=\" if (\"+o+\") { \",u+=\"}\"));return h&&(t+=v?\" if (true) { \":\" \"+u.slice(0,-1)+\" \"),t=e.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/anyOf.js":"\"use strict\";module.exports=function(r,e,a){var s=\" \",t=r.level,l=r.dataLevel,o=r.schema[e],i=r.schemaPath+r.util.getProperty(e),h=r.errSchemaPath+\"/\"+e,v=!r.opts.allErrors,c=\"data\"+(l||\"\"),m=\"valid\"+t,u=\"errs__\"+t,n=r.util.copy(r),d=\"\";n.level++;var p=\"valid\"+n.level;if(o.every(function(e){return r.util.schemaHasRules(e,r.RULES.all)})){var f=n.baseId;s+=\" var \"+u+\" = errors; var \"+m+\" = false;  \";var E=r.compositeRule;r.compositeRule=n.compositeRule=!0;var P=o;if(P)for(var R,y=-1,g=P.length-1;y<g;)R=P[y+=1],n.schema=R,n.schemaPath=i+\"[\"+y+\"]\",n.errSchemaPath=h+\"/\"+y,s+=\"  \"+r.validate(n)+\" \",n.baseId=f,s+=\" \"+m+\" = \"+m+\" || \"+p+\"; if (!\"+m+\") { \",d+=\"}\";r.compositeRule=n.compositeRule=E,s+=\" \"+d+\" if (!\"+m+\") {   var err =   \",!1!==r.createErrors?(s+=\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(h)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should match some schema in anyOf' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&v&&(r.async?s+=\" throw new ValidationError(vErrors); \":s+=\" validate.errors = vErrors; return false; \"),s+=\" } else {  errors = \"+u+\"; if (vErrors !== null) { if (\"+u+\") vErrors.length = \"+u+\"; else vErrors = null; } \",r.opts.allErrors&&(s+=\" } \"),s=r.util.cleanUpCode(s)}else v&&(s+=\" if (true) { \");return s};","node_modules/ajv/lib/dotjs/const.js":"\"use strict\";module.exports=function(a,r,e){var t=\" \",s=a.level,o=a.dataLevel,h=a.schema[r],l=a.schemaPath+a.util.getProperty(r),c=a.errSchemaPath+\"/\"+r,d=!a.opts.allErrors,m=\"data\"+(o||\"\"),v=\"valid\"+s,i=a.opts.$data&&h&&h.$data;i&&(t+=\" var schema\"+s+\" = \"+a.util.getData(h.$data,o,a.dataPathArr)+\"; \"),i||(t+=\" var schema\"+s+\" = validate.schema\"+l+\";\"),t+=\"var \"+v+\" = equal(\"+m+\", schema\"+s+\"); if (!\"+v+\") {   \";var u=u||[];u.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'const' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(c)+\" , params: {} \",!1!==a.opts.messages&&(t+=\" , message: 'should be equal to constant' \"),a.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+m+\" \"),t+=\" } \"):t+=\" {} \";var n=t;return t=u.pop(),!a.compositeRule&&d?a.async?t+=\" throw new ValidationError([\"+n+\"]); \":t+=\" validate.errors = [\"+n+\"]; return false; \":t+=\" var err = \"+n+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" }\",d&&(t+=\" else { \"),t};","node_modules/ajv/lib/dotjs/contains.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,l=r.dataLevel,o=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+\"/\"+e,h=!r.opts.allErrors,c=\"data\"+(l||\"\"),u=\"valid\"+s,d=\"errs__\"+s,m=r.util.copy(r);m.level++;var n=\"valid\"+m.level,p=\"i\"+s,P=m.dataLevel=r.dataLevel+1,E=\"data\"+P,f=r.baseId,R=r.util.schemaHasRules(o,r.RULES.all);if(t+=\"var \"+d+\" = errors;var \"+u+\";\",R){var g=r.compositeRule;r.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=i,m.errSchemaPath=v,t+=\" var \"+n+\" = false; for (var \"+p+\" = 0; \"+p+\" < \"+c+\".length; \"+p+\"++) { \",m.errorPath=r.util.getPathExpr(r.errorPath,p,r.opts.jsonPointers,!0);var S=c+\"[\"+p+\"]\";m.dataPathArr[P]=p;var b=r.validate(m);m.baseId=f,r.util.varOccurences(b,E)<2?t+=\" \"+r.util.varReplace(b,E,S)+\" \":t+=\" var \"+E+\" = \"+S+\"; \"+b+\" \",t+=\" if (\"+n+\") break; }  \",r.compositeRule=m.compositeRule=g,t+=\"  if (!\"+n+\") {\"}else t+=\" if (\"+c+\".length == 0) {\";var y=y||[];y.push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'contains' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: {} \",!1!==r.opts.messages&&(t+=\" , message: 'should contain a valid item' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+c+\" \"),t+=\" } \"):t+=\" {} \";var L=t;return t=y.pop(),!r.compositeRule&&h?r.async?t+=\" throw new ValidationError([\"+L+\"]); \":t+=\" validate.errors = [\"+L+\"]; return false; \":t+=\" var err = \"+L+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \",R&&(t+=\"  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; } \"),r.opts.allErrors&&(t+=\" } \"),t=r.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/dependencies.js":"\"use strict\";module.exports=function(e,r,t){var a=\" \",s=e.level,o=e.dataLevel,i=e.schema[r],p=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,n=\"data\"+(o||\"\"),h=\"errs__\"+s,c=e.util.copy(e),d=\"\";c.level++;var v=\"valid\"+c.level,P={},m={},g=e.opts.ownProperties;for(E in i){var y=i[E],f=Array.isArray(y)?m:P;f[E]=y}a+=\"var \"+h+\" = errors;\";var Q=e.errorPath;a+=\"var missing\"+s+\";\";for(var E in m)if((f=m[E]).length){if(a+=\" if ( \"+n+e.util.getProperty(E)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(E)+\"') \"),u){a+=\" && ( \";var j=f;if(j)for(var w=-1,b=j.length-1;w<b;){k=j[w+=1],w&&(a+=\" || \");a+=\" ( ( \"+(I=n+(D=e.util.getProperty(k)))+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(k)+\"') \"),a+=\") && (missing\"+s+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?k:D)+\") ) \"}a+=\")) {  \";var O=\"missing\"+s,S=\"' + \"+O+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Q,O,!0):Q+\" + \"+O);var _=_||[];_.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(E)+\"', missingProperty: '\"+S+\"', depsCount: \"+f.length+\", deps: '\"+e.util.escapeQuotes(1==f.length?f[0]:f.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==f.length?a+=\"property \"+e.util.escapeQuotes(f[0]):a+=\"properties \"+e.util.escapeQuotes(f.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(E)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+n+\" \"),a+=\" } \"):a+=\" {} \";var C=a;a=_.pop(),!e.compositeRule&&u?e.async?a+=\" throw new ValidationError([\"+C+\"]); \":a+=\" validate.errors = [\"+C+\"]; return false; \":a+=\" var err = \"+C+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else{a+=\" ) { \";var R=f;if(R)for(var k,x=-1,A=R.length-1;x<A;){k=R[x+=1];var D=e.util.getProperty(k),I=(S=e.util.escapeQuotes(k),n+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,k,e.opts.jsonPointers)),a+=\" if ( \"+I+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(k)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(E)+\"', missingProperty: '\"+S+\"', depsCount: \"+f.length+\", deps: '\"+e.util.escapeQuotes(1==f.length?f[0]:f.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==f.length?a+=\"property \"+e.util.escapeQuotes(f[0]):a+=\"properties \"+e.util.escapeQuotes(f.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(E)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+n+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}a+=\" }   \",u&&(d+=\"}\",a+=\" else { \")}e.errorPath=Q;var L=c.baseId;for(var E in P){y=P[E];e.util.schemaHasRules(y,e.RULES.all)&&(a+=\" \"+v+\" = true; if ( \"+n+e.util.getProperty(E)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(E)+\"') \"),a+=\") { \",c.schema=y,c.schemaPath=p+e.util.getProperty(E),c.errSchemaPath=l+\"/\"+e.util.escapeFragment(E),a+=\"  \"+e.validate(c)+\" \",c.baseId=L,a+=\" }  \",u&&(a+=\" if (\"+v+\") { \",d+=\"}\"))}return u&&(a+=\"   \"+d+\" if (\"+h+\" == errors) {\"),a=e.util.cleanUpCode(a)};","node_modules/ajv/lib/dotjs/enum.js":"\"use strict\";module.exports=function(a,e,r){var t=\" \",s=a.level,l=a.dataLevel,o=a.schema[e],h=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+\"/\"+e,i=!a.opts.allErrors,u=\"data\"+(l||\"\"),m=\"valid\"+s,v=a.opts.$data&&o&&o.$data;v&&(t+=\" var schema\"+s+\" = \"+a.util.getData(o.$data,l,a.dataPathArr)+\"; \");var c=\"i\"+s,n=\"schema\"+s;v||(t+=\" var \"+n+\" = validate.schema\"+h+\";\"),t+=\"var \"+m+\";\",v&&(t+=\" if (schema\"+s+\" === undefined) \"+m+\" = true; else if (!Array.isArray(schema\"+s+\")) \"+m+\" = false; else {\"),t+=m+\" = false;for (var \"+c+\"=0; \"+c+\"<\"+n+\".length; \"+c+\"++) if (equal(\"+u+\", \"+n+\"[\"+c+\"])) { \"+m+\" = true; break; }\",v&&(t+=\"  }  \"),t+=\" if (!\"+m+\") {   \";var p=p||[];p.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'enum' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(d)+\" , params: { allowedValues: schema\"+s+\" } \",!1!==a.opts.messages&&(t+=\" , message: 'should be equal to one of the allowed values' \"),a.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var f=t;return t=p.pop(),!a.compositeRule&&i?a.async?t+=\" throw new ValidationError([\"+f+\"]); \":t+=\" validate.errors = [\"+f+\"]; return false; \":t+=\" var err = \"+f+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" }\",i&&(t+=\" else { \"),t};","node_modules/ajv/lib/dotjs/format.js":"\"use strict\";module.exports=function(a,t,r){var e=\" \",o=a.level,s=a.dataLevel,i=a.schema[t],n=a.schemaPath+a.util.getProperty(t),f=a.errSchemaPath+\"/\"+t,c=!a.opts.allErrors,u=\"data\"+(s||\"\");if(!1===a.opts.format)return c&&(e+=\" if (true) { \"),e;var l,m=a.opts.$data&&i&&i.$data;m?(e+=\" var schema\"+o+\" = \"+a.util.getData(i.$data,s,a.dataPathArr)+\"; \",l=\"schema\"+o):l=i;var h=a.opts.unknownFormats,d=Array.isArray(h);if(m){e+=\" var \"+(p=\"format\"+o)+\" = formats[\"+l+\"]; var \"+(v=\"isObject\"+o)+\" = typeof \"+p+\" == 'object' && !(\"+p+\" instanceof RegExp) && \"+p+\".validate; var \"+(y=\"formatType\"+o)+\" = \"+v+\" && \"+p+\".type || 'string'; if (\"+v+\") { \",a.async&&(e+=\" var async\"+o+\" = \"+p+\".async; \"),e+=\" \"+p+\" = \"+p+\".validate; } if (  \",m&&(e+=\" (\"+l+\" !== undefined && typeof \"+l+\" != 'string') || \"),e+=\" (\",\"ignore\"!=h&&(e+=\" (\"+l+\" && !\"+p+\" \",d&&(e+=\" && self._opts.unknownFormats.indexOf(\"+l+\") == -1 \"),e+=\") || \"),e+=\" (\"+p+\" && \"+y+\" == '\"+r+\"' && !(typeof \"+p+\" == 'function' ? \",a.async?e+=\" (async\"+o+\" ? \"+a.yieldAwait+\" \"+p+\"(\"+u+\") : \"+p+\"(\"+u+\")) \":e+=\" \"+p+\"(\"+u+\") \",e+=\" : \"+p+\".test(\"+u+\"))))) {\"}else{var p;if(!(p=a.formats[i])){if(\"ignore\"==h)return a.logger.warn('unknown format \"'+i+'\" ignored in schema at path \"'+a.errSchemaPath+'\"'),c&&(e+=\" if (true) { \"),e;if(d&&h.indexOf(i)>=0)return c&&(e+=\" if (true) { \"),e;throw new Error('unknown format \"'+i+'\" is used in schema at path \"'+a.errSchemaPath+'\"')}var v,y=(v=\"object\"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||\"string\";if(v){var g=!0===p.async;p=p.validate}if(y!=r)return c&&(e+=\" if (true) { \"),e;if(g){if(!a.async)throw new Error(\"async format in sync schema\");var w=\"formats\"+a.util.getProperty(i)+\".validate\";e+=\" if (!(\"+a.yieldAwait+\" \"+w+\"(\"+u+\"))) { \"}else{e+=\" if (! \";w=\"formats\"+a.util.getProperty(i);v&&(w+=\".validate\"),e+=\"function\"==typeof p?\" \"+w+\"(\"+u+\") \":\" \"+w+\".test(\"+u+\") \",e+=\") { \"}}var P=P||[];P.push(e),e=\"\",!1!==a.createErrors?(e+=\" { keyword: 'format' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(f)+\" , params: { format:  \",e+=m?\"\"+l:\"\"+a.util.toQuotedString(i),e+=\"  } \",!1!==a.opts.messages&&(e+=\" , message: 'should match format \\\"\",e+=m?\"' + \"+l+\" + '\":\"\"+a.util.escapeQuotes(i),e+=\"\\\"' \"),a.opts.verbose&&(e+=\" , schema:  \",e+=m?\"validate.schema\"+n:\"\"+a.util.toQuotedString(i),e+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+u+\" \"),e+=\" } \"):e+=\" {} \";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=\" throw new ValidationError([\"+E+\"]); \":e+=\" validate.errors = [\"+E+\"]; return false; \":e+=\" var err = \"+E+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",e+=\" } \",c&&(e+=\" else { \"),e};","node_modules/ajv/lib/dotjs/items.js":"\"use strict\";module.exports=function(a,e,r){var t=\" \",s=a.level,l=a.dataLevel,h=a.schema[e],i=a.schemaPath+a.util.getProperty(e),o=a.errSchemaPath+\"/\"+e,c=!a.opts.allErrors,v=\"data\"+(l||\"\"),d=\"valid\"+s,m=\"errs__\"+s,n=a.util.copy(a),u=\"\";n.level++;var P=\"valid\"+n.level,p=\"i\"+s,f=n.dataLevel=a.dataLevel+1,g=\"data\"+f,E=a.baseId;if(t+=\"var \"+m+\" = errors;var \"+d+\";\",Array.isArray(h)){var S=a.schema.additionalItems;if(!1===S){t+=\" \"+d+\" = \"+v+\".length <= \"+h.length+\"; \";var R=o;o=a.errSchemaPath+\"/additionalItems\",t+=\"  if (!\"+d+\") {   \";var I=I||[];I.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(o)+\" , params: { limit: \"+h.length+\" } \",!1!==a.opts.messages&&(t+=\" , message: 'should NOT have more than \"+h.length+\" items' \"),a.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+v+\" \"),t+=\" } \"):t+=\" {} \";var b=t;t=I.pop(),!a.compositeRule&&c?a.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \",o=R,c&&(u+=\"}\",t+=\" else { \")}var y=h;if(y)for(var L,A=-1,j=y.length-1;A<j;)if(L=y[A+=1],a.util.schemaHasRules(L,a.RULES.all)){t+=\" \"+P+\" = true; if (\"+v+\".length > \"+A+\") { \";var x=v+\"[\"+A+\"]\";n.schema=L,n.schemaPath=i+\"[\"+A+\"]\",n.errSchemaPath=o+\"/\"+A,n.errorPath=a.util.getPathExpr(a.errorPath,A,a.opts.jsonPointers,!0),n.dataPathArr[f]=A;var O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",t+=\" }  \",c&&(t+=\" if (\"+P+\") { \",u+=\"}\")}if(\"object\"==typeof S&&a.util.schemaHasRules(S,a.RULES.all)){n.schema=S,n.schemaPath=a.schemaPath+\".additionalItems\",n.errSchemaPath=a.errSchemaPath+\"/additionalItems\",t+=\" \"+P+\" = true; if (\"+v+\".length > \"+h.length+\") {  for (var \"+p+\" = \"+h.length+\"; \"+p+\" < \"+v+\".length; \"+p+\"++) { \",n.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers,!0);x=v+\"[\"+p+\"]\";n.dataPathArr[f]=p;O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",c&&(t+=\" if (!\"+P+\") break; \"),t+=\" } }  \",c&&(t+=\" if (\"+P+\") { \",u+=\"}\")}}else if(a.util.schemaHasRules(h,a.RULES.all)){n.schema=h,n.schemaPath=i,n.errSchemaPath=o,t+=\"  for (var \"+p+\" = 0; \"+p+\" < \"+v+\".length; \"+p+\"++) { \",n.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers,!0);x=v+\"[\"+p+\"]\";n.dataPathArr[f]=p;O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",c&&(t+=\" if (!\"+P+\") break; \"),t+=\" }\"}return c&&(t+=\" \"+u+\" if (\"+m+\" == errors) {\"),t=a.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/_limit.js":"\"use strict\";module.exports=function(e,a,r){var t,s=\" \",o=e.level,i=e.dataLevel,m=e.schema[a],l=e.schemaPath+e.util.getProperty(a),h=e.errSchemaPath+\"/\"+a,d=!e.opts.allErrors,u=\"data\"+(i||\"\"),c=e.opts.$data&&m&&m.$data;c?(s+=\" var schema\"+o+\" = \"+e.util.getData(m.$data,i,e.dataPathArr)+\"; \",t=\"schema\"+o):t=m;var n=\"maximum\"==a,v=n?\"exclusiveMaximum\":\"exclusiveMinimum\",p=e.schema[v],f=e.opts.$data&&p&&p.$data,P=n?\"<\":\">\",b=n?\">\":\"<\",x=void 0;if(f){var E=e.util.getData(p.$data,i,e.dataPathArr),y=\"exclusive\"+o,g=\"exclType\"+o,S=\"exclIsNumber\"+o,w=\"' + \"+(M=\"op\"+o)+\" + '\";s+=\" var schemaExcl\"+o+\" = \"+E+\"; \",s+=\" var \"+y+\"; var \"+g+\" = typeof \"+(E=\"schemaExcl\"+o)+\"; if (\"+g+\" != 'boolean' && \"+g+\" != 'undefined' && \"+g+\" != 'number') { \";x=v;(k=k||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(x||\"_exclusiveLimit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: {} \",!1!==e.opts.messages&&(s+=\" , message: '\"+v+\" should be boolean' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),s+=\" } \"):s+=\" {} \";var $=s;s=k.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+$+\"]); \":s+=\" validate.errors = [\"+$+\"]; return false; \":s+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } else if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+g+\" == 'number' ? ( (\"+y+\" = \"+t+\" === undefined || \"+E+\" \"+P+\"= \"+t+\") ? \"+u+\" \"+b+\"= \"+E+\" : \"+u+\" \"+b+\" \"+t+\" ) : ( (\"+y+\" = \"+E+\" === true) ? \"+u+\" \"+b+\"= \"+t+\" : \"+u+\" \"+b+\" \"+t+\" ) || \"+u+\" !== \"+u+\") { var op\"+o+\" = \"+y+\" ? '\"+P+\"' : '\"+P+\"=';\"}else{w=P;if((S=\"number\"==typeof p)&&c){var M=\"'\"+w+\"'\";s+=\" if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" ( \"+t+\" === undefined || \"+p+\" \"+P+\"= \"+t+\" ? \"+u+\" \"+b+\"= \"+p+\" : \"+u+\" \"+b+\" \"+t+\" ) || \"+u+\" !== \"+u+\") { \"}else{S&&void 0===m?(y=!0,x=v,h=e.errSchemaPath+\"/\"+v,t=p,b+=\"=\"):(S&&(t=Math[n?\"min\":\"max\"](p,m)),p===(!S||t)?(y=!0,x=v,h=e.errSchemaPath+\"/\"+v,b+=\"=\"):(y=!1,w+=\"=\"));M=\"'\"+w+\"'\";s+=\" if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+u+\" \"+b+\" \"+t+\" || \"+u+\" !== \"+u+\") { \"}}x=x||a;var k;(k=k||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(x||\"_limit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { comparison: \"+M+\", limit: \"+t+\", exclusive: \"+y+\" } \",!1!==e.opts.messages&&(s+=\" , message: 'should be \"+w+\" \",s+=c?\"' + \"+t:t+\"'\"),e.opts.verbose&&(s+=\" , schema:  \",s+=c?\"validate.schema\"+l:\"\"+m,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),s+=\" } \"):s+=\" {} \";$=s;return s=k.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+$+\"]); \":s+=\" validate.errors = [\"+$+\"]; return false; \":s+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitItems.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",o=a.level,h=a.dataLevel,m=a.schema[e],l=a.schemaPath+a.util.getProperty(e),i=a.errSchemaPath+\"/\"+e,d=!a.opts.allErrors,c=\"data\"+(h||\"\"),u=a.opts.$data&&m&&m.$data;u?(s+=\" var schema\"+o+\" = \"+a.util.getData(m.$data,h,a.dataPathArr)+\"; \",t=\"schema\"+o):t=m;s+=\"if ( \",u&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+c+\".length \"+(\"maxItems\"==e?\">\":\"<\")+\" \"+t+\") { \";var n=e,v=v||[];v.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: '\"+(n||\"_limitItems\")+\"' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(i)+\" , params: { limit: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should NOT have \",s+=\"maxItems\"==e?\"more\":\"less\",s+=\" than \",s+=u?\"' + \"+t+\" + '\":\"\"+m,s+=\" items' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=u?\"validate.schema\"+l:\"\"+m,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \";var p=s;return s=v.pop(),!a.compositeRule&&d?a.async?s+=\" throw new ValidationError([\"+p+\"]); \":s+=\" validate.errors = [\"+p+\"]; return false; \":s+=\" var err = \"+p+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitLength.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",o=a.level,h=a.dataLevel,l=a.schema[e],m=a.schemaPath+a.util.getProperty(e),n=a.errSchemaPath+\"/\"+e,c=!a.opts.allErrors,d=\"data\"+(h||\"\"),i=a.opts.$data&&l&&l.$data;i?(s+=\" var schema\"+o+\" = \"+a.util.getData(l.$data,h,a.dataPathArr)+\"; \",t=\"schema\"+o):t=l;var u=\"maxLength\"==e?\">\":\"<\";s+=\"if ( \",i&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),!1===a.opts.unicode?s+=\" \"+d+\".length \":s+=\" ucs2length(\"+d+\") \",s+=\" \"+u+\" \"+t+\") { \";var p=e,v=v||[];v.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: '\"+(p||\"_limitLength\")+\"' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(n)+\" , params: { limit: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should NOT be \",s+=\"maxLength\"==e?\"longer\":\"shorter\",s+=\" than \",s+=i?\"' + \"+t+\" + '\":\"\"+l,s+=\" characters' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=i?\"validate.schema\"+m:\"\"+l,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+d+\" \"),s+=\" } \"):s+=\" {} \";var g=s;return s=v.pop(),!a.compositeRule&&c?a.async?s+=\" throw new ValidationError([\"+g+\"]); \":s+=\" validate.errors = [\"+g+\"]; return false; \":s+=\" var err = \"+g+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",c&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitProperties.js":"\"use strict\";module.exports=function(e,r,a){var t,s=\" \",o=e.level,h=e.dataLevel,l=e.schema[r],i=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+\"/\"+r,d=!e.opts.allErrors,p=\"data\"+(h||\"\"),c=e.opts.$data&&l&&l.$data;c?(s+=\" var schema\"+o+\" = \"+e.util.getData(l.$data,h,e.dataPathArr)+\"; \",t=\"schema\"+o):t=l;s+=\"if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" Object.keys(\"+p+\").length \"+(\"maxProperties\"==r?\">\":\"<\")+\" \"+t+\") { \";var u=r,n=n||[];n.push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(u||\"_limitProperties\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(m)+\" , params: { limit: \"+t+\" } \",!1!==e.opts.messages&&(s+=\" , message: 'should NOT have \",s+=\"maxProperties\"==r?\"more\":\"less\",s+=\" than \",s+=c?\"' + \"+t+\" + '\":\"\"+l,s+=\" properties' \"),e.opts.verbose&&(s+=\" , schema:  \",s+=c?\"validate.schema\"+i:\"\"+l,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=n.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/multipleOf.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",i=a.level,o=a.dataLevel,l=a.schema[e],d=a.schemaPath+a.util.getProperty(e),h=a.errSchemaPath+\"/\"+e,n=!a.opts.allErrors,m=\"data\"+(o||\"\"),p=a.opts.$data&&l&&l.$data;p?(s+=\" var schema\"+i+\" = \"+a.util.getData(l.$data,o,a.dataPathArr)+\"; \",t=\"schema\"+i):t=l,s+=\"var division\"+i+\";if (\",p&&(s+=\" \"+t+\" !== undefined && ( typeof \"+t+\" != 'number' || \"),s+=\" (division\"+i+\" = \"+m+\" / \"+t+\", \",a.opts.multipleOfPrecision?s+=\" Math.abs(Math.round(division\"+i+\") - division\"+i+\") > 1e-\"+a.opts.multipleOfPrecision+\" \":s+=\" division\"+i+\" !== parseInt(division\"+i+\") \",s+=\" ) \",p&&(s+=\"  )  \"),s+=\" ) {   \";var u=u||[];u.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(h)+\" , params: { multipleOf: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should be multiple of \",s+=p?\"' + \"+t:t+\"'\"),a.opts.verbose&&(s+=\" , schema:  \",s+=p?\"validate.schema\"+d:\"\"+l,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+m+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=u.pop(),!a.compositeRule&&n?a.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",n&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/not.js":"\"use strict\";module.exports=function(r,e,a){var s=\" \",t=r.level,o=r.dataLevel,l=r.schema[e],h=r.schemaPath+r.util.getProperty(e),c=r.errSchemaPath+\"/\"+e,i=!r.opts.allErrors,v=\"data\"+(o||\"\"),m=\"errs__\"+t,p=r.util.copy(r);p.level++;var u=\"valid\"+p.level;if(r.util.schemaHasRules(l,r.RULES.all)){p.schema=l,p.schemaPath=h,p.errSchemaPath=c,s+=\" var \"+m+\" = errors;  \";var d=r.compositeRule;r.compositeRule=p.compositeRule=!0,p.createErrors=!1;var E;p.opts.allErrors&&(E=p.opts.allErrors,p.opts.allErrors=!1),s+=\" \"+r.validate(p)+\" \",p.createErrors=!0,E&&(p.opts.allErrors=E),r.compositeRule=p.compositeRule=d,s+=\" if (\"+u+\") {   \";var n=n||[];n.push(s),s=\"\",!1!==r.createErrors?(s+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(c)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should NOT be valid' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),s+=\" } \"):s+=\" {} \";var P=s;s=n.pop(),!r.compositeRule&&i?r.async?s+=\" throw new ValidationError([\"+P+\"]); \":s+=\" validate.errors = [\"+P+\"]; return false; \":s+=\" var err = \"+P+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } else {  errors = \"+m+\"; if (vErrors !== null) { if (\"+m+\") vErrors.length = \"+m+\"; else vErrors = null; } \",r.opts.allErrors&&(s+=\" } \")}else s+=\"  var err =   \",!1!==r.createErrors?(s+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(c)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should NOT be valid' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i&&(s+=\" if (false) { \");return s};","node_modules/ajv/lib/dotjs/oneOf.js":"\"use strict\";module.exports=function(e,r,a){var s=\" \",l=e.level,t=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),v=e.errSchemaPath+\"/\"+r,h=!e.opts.allErrors,c=\"data\"+(t||\"\"),m=\"valid\"+l,u=\"errs__\"+l,d=e.util.copy(e),p=\"\";d.level++;var n=\"valid\"+d.level;s+=\"var \"+u+\" = errors;var prevValid\"+l+\" = false;var \"+m+\" = false;\";var f=d.baseId,E=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=o;if(P)for(var R,g=-1,y=P.length-1;g<y;)R=P[g+=1],e.util.schemaHasRules(R,e.RULES.all)?(d.schema=R,d.schemaPath=i+\"[\"+g+\"]\",d.errSchemaPath=v+\"/\"+g,s+=\"  \"+e.validate(d)+\" \",d.baseId=f):s+=\" var \"+n+\" = true; \",g&&(s+=\" if (\"+n+\" && prevValid\"+l+\") \"+m+\" = false; else { \",p+=\"}\"),s+=\" if (\"+n+\") \"+m+\" = prevValid\"+l+\" = true;\";return e.compositeRule=d.compositeRule=E,s+=p+\"if (!\"+m+\") {   var err =   \",!1!==e.createErrors?(s+=\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(v)+\" , params: {} \",!1!==e.opts.messages&&(s+=\" , message: 'should match exactly one schema in oneOf' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&h&&(e.async?s+=\" throw new ValidationError(vErrors); \":s+=\" validate.errors = vErrors; return false; \"),s+=\"} else {  errors = \"+u+\"; if (vErrors !== null) { if (\"+u+\") vErrors.length = \"+u+\"; else vErrors = null; }\",e.opts.allErrors&&(s+=\" } \"),s};","node_modules/ajv/lib/dotjs/pattern.js":"\"use strict\";module.exports=function(a,e,t){var r,s=\" \",o=a.level,h=a.dataLevel,l=a.schema[e],u=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+\"/\"+e,i=!a.opts.allErrors,n=\"data\"+(h||\"\"),p=a.opts.$data&&l&&l.$data;p?(s+=\" var schema\"+o+\" = \"+a.util.getData(l.$data,h,a.dataPathArr)+\"; \",r=\"schema\"+o):r=l;var c=p?\"(new RegExp(\"+r+\"))\":a.usePattern(l);s+=\"if ( \",p&&(s+=\" (\"+r+\" !== undefined && typeof \"+r+\" != 'string') || \"),s+=\" !\"+c+\".test(\"+n+\") ) {   \";var m=m||[];m.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: 'pattern' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(d)+\" , params: { pattern:  \",s+=p?\"\"+r:\"\"+a.util.toQuotedString(l),s+=\"  } \",!1!==a.opts.messages&&(s+=\" , message: 'should match pattern \\\"\",s+=p?\"' + \"+r+\" + '\":\"\"+a.util.escapeQuotes(l),s+=\"\\\"' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=p?\"validate.schema\"+u:\"\"+a.util.toQuotedString(l),s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+n+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=m.pop(),!a.compositeRule&&i?a.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",i&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/properties.js":"\"use strict\";module.exports=function(e,r,a){var t=\" \",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+\"/\"+r,p=!e.opts.allErrors,u=\"data\"+(o||\"\"),n=\"valid\"+s,c=\"errs__\"+s,v=e.util.copy(e),d=\"\";v.level++;var P=\"valid\"+v.level,m=\"key\"+s,f=\"idx\"+s,g=v.dataLevel=e.dataLevel+1,y=\"data\"+g,E=\"dataProperties\"+s,S=Object.keys(i||{}),b=e.schema.patternProperties||{},R=Object.keys(b),O=e.schema.additionalProperties,j=S.length||R.length,k=!1===O,w=\"object\"==typeof O&&Object.keys(O).length,Q=e.opts.removeAdditional,x=k||w||Q,G=e.opts.ownProperties,A=e.baseId,_=e.schema.required;if(_&&(!e.opts.v5||!_.$data)&&_.length<e.opts.loopRequired)var q=e.util.toHash(_);if(e.opts.patternGroups)var D=e.schema.patternGroups||{},I=Object.keys(D);if(t+=\"var \"+c+\" = errors;var \"+P+\" = true;\",G&&(t+=\" var \"+E+\" = undefined;\"),x){if(t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",j){if(t+=\" var isAdditional\"+s+\" = !(false \",S.length)if(S.length>5)t+=\" || validate.schema\"+l+\"[\"+m+\"] \";else{var L=S;if(L)for(var C=-1,H=L.length-1;C<H;)Z=L[C+=1],t+=\" || \"+m+\" == \"+e.util.toQuotedString(Z)+\" \"}if(R.length){var U=R;if(U)for(var V=-1,F=U.length-1;V<F;)he=U[V+=1],t+=\" || \"+e.usePattern(he)+\".test(\"+m+\") \"}if(e.opts.patternGroups&&I.length){var N=I;if(N){V=-1;for(var T=N.length-1;V<T;)ce=N[V+=1],t+=\" || \"+e.usePattern(ce)+\".test(\"+m+\") \"}}t+=\" ); if (isAdditional\"+s+\") { \"}if(\"all\"==Q)t+=\" delete \"+u+\"[\"+m+\"]; \";else{var $=e.errorPath,z=\"' + \"+m+\" + '\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),k)if(Q)t+=\" delete \"+u+\"[\"+m+\"]; \";else{t+=\" \"+P+\" = false; \";var B=h;h=e.errSchemaPath+\"/additionalProperties\";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { additionalProperty: '\"+z+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have additional properties' \"),e.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h=B,p&&(t+=\" break; \")}else if(w)if(\"failing\"==Q){t+=\" var \"+c+\" = errors;  \";var K=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=O,v.schemaPath=e.schemaPath+\".additionalProperties\",v.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;var W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",t+=\" if (!\"+P+\") { errors = \"+c+\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \"+u+\"[\"+m+\"]; }  \",e.compositeRule=v.compositeRule=K}else{v.schema=O,v.schemaPath=e.schemaPath+\".additionalProperties\",v.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \")}e.errorPath=$}j&&(t+=\" } \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}var X=e.opts.useDefaults&&!e.compositeRule;if(S.length){var Y=S;if(Y)for(var Z,ee=-1,re=Y.length-1;ee<re;){var ae=i[Z=Y[ee+=1]];if(e.util.schemaHasRules(ae,e.RULES.all)){var te=e.util.getProperty(Z),se=(M=u+te,X&&void 0!==ae.default);v.schema=ae,v.schemaPath=l+te,v.errSchemaPath=h+\"/\"+e.util.escapeFragment(Z),v.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),v.dataPathArr[g]=e.util.toQuotedString(Z);W=e.validate(v);if(v.baseId=A,e.util.varOccurences(W,y)<2){W=e.util.varReplace(W,y,M);var oe=M}else{oe=y;t+=\" var \"+y+\" = \"+M+\"; \"}if(se)t+=\" \"+W+\" \";else{if(q&&q[Z]){t+=\" if ( \"+oe+\" === undefined \",G&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\") { \"+P+\" = false; \";$=e.errorPath,B=h;var ie=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,Z,e.opts.jsonPointers)),h=e.errSchemaPath+\"/required\";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { missingProperty: '\"+ie+\"' } \",!1!==e.opts.messages&&(t+=\" , message: '\",e.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+ie+\"\\\\'\",t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h=B,e.errorPath=$,t+=\" } else { \"}else p?(t+=\" if ( \"+oe+\" === undefined \",G&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\") { \"+P+\" = true; } else { \"):(t+=\" if (\"+oe+\" !== undefined \",G&&(t+=\" &&   Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\" ) { \");t+=\" \"+W+\" } \"}}p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}}if(R.length){var le=R;if(le)for(var he,pe=-1,ue=le.length-1;pe<ue;){ae=b[he=le[pe+=1]];if(e.util.schemaHasRules(ae,e.RULES.all)){v.schema=ae,v.schemaPath=e.schemaPath+\".patternProperties\"+e.util.getProperty(he),v.errSchemaPath=e.errSchemaPath+\"/patternProperties/\"+e.util.escapeFragment(he),t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",t+=\" if (\"+e.usePattern(he)+\".test(\"+m+\")) { \",v.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \"),t+=\" } \",p&&(t+=\" else \"+P+\" = true; \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}}}if(e.opts.patternGroups&&I.length){var ne=I;if(ne)for(var ce,ve=-1,de=ne.length-1;ve<de;){var Pe=D[ce=ne[ve+=1]];ae=Pe.schema;if(e.util.schemaHasRules(ae,e.RULES.all)){v.schema=ae,v.schemaPath=e.schemaPath+\".patternGroups\"+e.util.getProperty(ce)+\".schema\",v.errSchemaPath=e.errSchemaPath+\"/patternGroups/\"+e.util.escapeFragment(ce)+\"/schema\",t+=\" var pgPropCount\"+s+\" = 0;  \",t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",t+=\" if (\"+e.usePattern(ce)+\".test(\"+m+\")) { pgPropCount\"+s+\"++; \",v.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \"),t+=\" } \",p&&(t+=\" else \"+P+\" = true; \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\");var me=Pe.minimum,fe=Pe.maximum;if(void 0!==me||void 0!==fe){t+=\" var \"+n+\" = true; \";B=h;if(void 0!==me){var ge=me,ye=\"minimum\",Ee=\"less\";t+=\" \"+n+\" = pgPropCount\"+s+\" >= \"+me+\"; \",h=e.errSchemaPath+\"/patternGroups/minimum\",t+=\"  if (!\"+n+\") {   \";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { reason: '\"+ye+\"', limit: \"+ge+\", pattern: '\"+e.util.escapeQuotes(ce)+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have \"+Ee+\" than \"+ge+' properties matching pattern \"'+e.util.escapeQuotes(ce)+\"\\\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \",void 0!==fe&&(t+=\" else \")}if(void 0!==fe){ge=fe,ye=\"maximum\",Ee=\"more\";t+=\" \"+n+\" = pgPropCount\"+s+\" <= \"+fe+\"; \",h=e.errSchemaPath+\"/patternGroups/maximum\",t+=\"  if (!\"+n+\") {   \";var Se;(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { reason: '\"+ye+\"', limit: \"+ge+\", pattern: '\"+e.util.escapeQuotes(ce)+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have \"+Ee+\" than \"+ge+' properties matching pattern \"'+e.util.escapeQuotes(ce)+\"\\\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \"}h=B,p&&(t+=\" if (\"+n+\") { \",d+=\"}\")}}}}return p&&(t+=\" \"+d+\" if (\"+c+\" == errors) {\"),t=e.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/propertyNames.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,o=r.dataLevel,l=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+\"/\"+e,c=!r.opts.allErrors,p=\"data\"+(o||\"\"),m=\"errs__\"+s,d=r.util.copy(r);d.level++;var h=\"valid\"+d.level;if(r.util.schemaHasRules(l,r.RULES.all)){d.schema=l,d.schemaPath=i,d.errSchemaPath=v;var u=\"key\"+s,n=\"idx\"+s,E=\"i\"+s,P=\"' + \"+u+\" + '\",f=\"data\"+(d.dataLevel=r.dataLevel+1),y=\"dataProperties\"+s,R=r.opts.ownProperties,b=r.baseId;t+=\" var \"+m+\" = errors; \",R&&(t+=\" var \"+y+\" = undefined; \"),t+=R?\" \"+y+\" = \"+y+\" || Object.keys(\"+p+\"); for (var \"+n+\"=0; \"+n+\"<\"+y+\".length; \"+n+\"++) { var \"+u+\" = \"+y+\"[\"+n+\"]; \":\" for (var \"+u+\" in \"+p+\") { \",t+=\" var startErrs\"+s+\" = errors; \";var g=u,S=r.compositeRule;r.compositeRule=d.compositeRule=!0;var k=r.validate(d);d.baseId=b,r.util.varOccurences(k,f)<2?t+=\" \"+r.util.varReplace(k,f,g)+\" \":t+=\" var \"+f+\" = \"+g+\"; \"+k+\" \",r.compositeRule=d.compositeRule=S,t+=\" if (!\"+h+\") { for (var \"+E+\"=startErrs\"+s+\"; \"+E+\"<errors; \"+E+\"++) { vErrors[\"+E+\"].propertyName = \"+u+\"; }   var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { propertyName: '\"+P+\"' } \",!1!==r.opts.messages&&(t+=\" , message: 'property name \\\\'\"+P+\"\\\\' is invalid' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+p+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&c&&(r.async?t+=\" throw new ValidationError(vErrors); \":t+=\" validate.errors = vErrors; return false; \"),c&&(t+=\" break; \"),t+=\" } }\"}return c&&(t+=\"  if (\"+m+\" == errors) {\"),t=r.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/required.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,o=r.dataLevel,i=r.schema[e],h=r.schemaPath+r.util.getProperty(e),p=r.errSchemaPath+\"/\"+e,l=!r.opts.allErrors,d=\"data\"+(o||\"\"),u=\"valid\"+s,P=r.opts.$data&&i&&i.$data;P&&(t+=\" var schema\"+s+\" = \"+r.util.getData(i.$data,o,r.dataPathArr)+\"; \");var n=\"schema\"+s;if(!P)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var m=[],v=i;if(v)for(var c,y=-1,g=v.length-1;y<g;){c=v[y+=1];var f=r.schema.properties[c];f&&r.util.schemaHasRules(f,r.RULES.all)||(m[m.length]=c)}}else m=i;if(P||m.length){var E=r.errorPath,q=P||m.length>=r.opts.loopRequired,w=r.opts.ownProperties;if(l)if(t+=\" var missing\"+s+\"; \",q){P||(t+=\" var \"+n+\" = validate.schema\"+h+\"; \");var S=\"' + \"+(_=\"schema\"+s+\"[\"+(D=\"i\"+s)+\"]\")+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),t+=\" var \"+u+\" = true; \",P&&(t+=\" if (schema\"+s+\" === undefined) \"+u+\" = true; else if (!Array.isArray(schema\"+s+\")) \"+u+\" = false; else {\"),t+=\" for (var \"+D+\" = 0; \"+D+\" < \"+n+\".length; \"+D+\"++) { \"+u+\" = \"+d+\"[\"+n+\"[\"+D+\"]] !== undefined \",w&&(t+=\" &&   Object.prototype.hasOwnProperty.call(\"+d+\", \"+n+\"[\"+D+\"]) \"),t+=\"; if (!\"+u+\") break; } \",P&&(t+=\"  }  \"),t+=\"  if (!\"+u+\") {   \";(Q=Q||[]).push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \";var b=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \"}else{t+=\" if ( \";var j=m;if(j)for(var D=-1,O=j.length-1;D<O;){R=j[D+=1],D&&(t+=\" || \");t+=\" ( ( \"+(L=d+($=r.util.getProperty(R)))+\" === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", '\"+r.util.escapeQuotes(R)+\"') \"),t+=\") && (missing\"+s+\" = \"+r.util.toQuotedString(r.opts.jsonPointers?R:$)+\") ) \"}t+=\") {  \";S=\"' + \"+(_=\"missing\"+s)+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,_,!0):E+\" + \"+_);var Q;(Q=Q||[]).push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \";b=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \"}else if(q){P||(t+=\" var \"+n+\" = validate.schema\"+h+\"; \");var _;S=\"' + \"+(_=\"schema\"+s+\"[\"+(D=\"i\"+s)+\"]\")+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),P&&(t+=\" if (\"+n+\" && !Array.isArray(\"+n+\")) {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\"+n+\" !== undefined) { \"),t+=\" for (var \"+D+\" = 0; \"+D+\" < \"+n+\".length; \"+D+\"++) { if (\"+d+\"[\"+n+\"[\"+D+\"]] === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", \"+n+\"[\"+D+\"]) \"),t+=\") {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \",P&&(t+=\"  }  \")}else{var k=m;if(k)for(var R,A=-1,x=k.length-1;A<x;){R=k[A+=1];var $=r.util.getProperty(R),L=(S=r.util.escapeQuotes(R),d+$);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,R,r.opts.jsonPointers)),t+=\" if ( \"+L+\" === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", '\"+r.util.escapeQuotes(R)+\"') \"),t+=\") {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}r.errorPath=E}else l&&(t+=\" if (true) {\");return t};","node_modules/ajv/lib/dotjs/uniqueItems.js":"\"use strict\";module.exports=function(e,a,r){var t,s=\" \",i=e.level,o=e.dataLevel,l=e.schema[a],h=e.schemaPath+e.util.getProperty(a),u=e.errSchemaPath+\"/\"+a,d=!e.opts.allErrors,m=\"data\"+(o||\"\"),n=\"valid\"+i,v=e.opts.$data&&l&&l.$data;if(v?(s+=\" var schema\"+i+\" = \"+e.util.getData(l.$data,o,e.dataPathArr)+\"; \",t=\"schema\"+i):t=l,(l||v)&&!1!==e.opts.uniqueItems){v&&(s+=\" var \"+n+\"; if (\"+t+\" === false || \"+t+\" === undefined) \"+n+\" = true; else if (typeof \"+t+\" != 'boolean') \"+n+\" = false; else { \"),s+=\" var \"+n+\" = true; if (\"+m+\".length > 1) { var i = \"+m+\".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(\"+m+\"[i], \"+m+\"[j])) { \"+n+\" = false; break outer; } } } } \",v&&(s+=\"  }  \"),s+=\" if (!\"+n+\") {   \";var c=c||[];c.push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { i: i, j: j } \",!1!==e.opts.messages&&(s+=\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \"),e.opts.verbose&&(s+=\" , schema:  \",s+=v?\"validate.schema\"+h:\"\"+l,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+m+\" \"),s+=\" } \"):s+=\" {} \";var f=s;s=c.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+f+\"]); \":s+=\" validate.errors = [\"+f+\"]; return false; \":s+=\" var err = \"+f+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } \",d&&(s+=\" else { \")}else d&&(s+=\" if (true) { \");return s};","node_modules/ajv/lib/dotjs/custom.js":"\"use strict\";module.exports=function(r,a,e){var t,s,o=\" \",i=r.level,d=r.dataLevel,h=r.schema[a],l=r.schemaPath+r.util.getProperty(a),v=r.errSchemaPath+\"/\"+a,c=!r.opts.allErrors,n=\"data\"+(d||\"\"),m=\"valid\"+i,u=\"errs__\"+i,p=r.opts.$data&&h&&h.$data;p?(o+=\" var schema\"+i+\" = \"+r.util.getData(h.$data,d,r.dataPathArr)+\"; \",s=\"schema\"+i):s=h;var f,P,y,E,w,k=\"definition\"+i,g=this.definition,R=\"\";if(p&&g.$data){w=\"keywordValidate\"+i;var S=g.validateSchema;o+=\" var \"+k+\" = RULES.custom['\"+a+\"'].definition; var \"+w+\" = \"+k+\".validate;\"}else{if(!(E=r.useCustomRule(this,h,r.schema,r)))return;s=\"validate.schema\"+l,w=E.code,f=g.compile,P=g.inline,y=g.macro}var A=w+\".errors\",b=\"i\"+i,$=\"ruleErr\"+i,D=g.async;if(D&&!r.async)throw new Error(\"async keyword in sync schema\");if(P||y||(o+=A+\" = null;\"),o+=\"var \"+u+\" = errors;var \"+m+\";\",p&&g.$data&&(R+=\"}\",o+=\" if (\"+s+\" === undefined) { \"+m+\" = true; } else { \",S&&(R+=\"}\",o+=\" \"+m+\" = \"+k+\".validateSchema(\"+s+\"); if (\"+m+\") { \")),P)g.statements?o+=\" \"+E.validate+\" \":o+=\" \"+m+\" = \"+E.validate+\"; \";else if(y){var V=r.util.copy(r);R=\"\";V.level++;var x=\"valid\"+V.level;V.schema=E.validate,V.schemaPath=\"\";var C=r.compositeRule;r.compositeRule=V.compositeRule=!0;var L=r.validate(V).replace(/validate\\.schema/g,w);r.compositeRule=V.compositeRule=C,o+=\" \"+L}else{(j=j||[]).push(o),o=\"\",o+=\"  \"+w+\".call( \",r.opts.passContext?o+=\"this\":o+=\"self\",f||!1===g.schema?o+=\" , \"+n+\" \":o+=\" , \"+s+\" , \"+n+\" , validate.schema\"+r.schemaPath+\" \",o+=\" , (dataPath || '')\",'\"\"'!=r.errorPath&&(o+=\" + \"+r.errorPath);var Q=d?\"data\"+(d-1||\"\"):\"parentData\",_=d?r.dataPathArr[d]:\"parentDataProperty\",U=o+=\" , \"+Q+\" , \"+_+\" , rootData )  \";o=j.pop(),!1===g.errors?(o+=\" \"+m+\" = \",D&&(o+=\"\"+r.yieldAwait),o+=U+\"; \"):o+=D?\" var \"+(A=\"customErrors\"+i)+\" = null; try { \"+m+\" = \"+r.yieldAwait+U+\"; } catch (e) { \"+m+\" = false; if (e instanceof ValidationError) \"+A+\" = e.errors; else throw e; } \":\" \"+A+\" = null; \"+m+\" = \"+U+\"; \"}if(g.modifying&&(o+=\" if (\"+Q+\") \"+n+\" = \"+Q+\"[\"+_+\"];\"),o+=\"\"+R,g.valid)c&&(o+=\" if (true) { \");else{o+=\" if ( \",void 0===g.valid?(o+=\" !\",o+=y?\"\"+x:\"\"+m):o+=\" \"+!g.valid+\" \",o+=\") { \",t=this.keyword;(j=j||[]).push(o),o=\"\";var j;(j=j||[]).push(o),o=\"\",!1!==r.createErrors?(o+=\" { keyword: '\"+(t||\"custom\")+\"' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),r.opts.verbose&&(o+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+n+\" \"),o+=\" } \"):o+=\" {} \";var q=o;o=j.pop(),!r.compositeRule&&c?r.async?o+=\" throw new ValidationError([\"+q+\"]); \":o+=\" validate.errors = [\"+q+\"]; return false; \":o+=\" var err = \"+q+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \";var z=o;o=j.pop(),P?g.errors?\"full\"!=g.errors&&(o+=\"  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\"; if (\"+$+\".schemaPath === undefined) { \"+$+'.schemaPath = \"'+v+'\"; } ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } \"):!1===g.errors?o+=\" \"+z+\" \":(o+=\" if (\"+u+\" == errors) { \"+z+\" } else {  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\"; if (\"+$+\".schemaPath === undefined) { \"+$+'.schemaPath = \"'+v+'\"; } ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } } \"):y?(o+=\"   var err =   \",!1!==r.createErrors?(o+=\" { keyword: '\"+(t||\"custom\")+\"' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),r.opts.verbose&&(o+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+n+\" \"),o+=\" } \"):o+=\" {} \",o+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&c&&(r.async?o+=\" throw new ValidationError(vErrors); \":o+=\" validate.errors = vErrors; return false; \")):!1===g.errors?o+=\" \"+z+\" \":(o+=\" if (Array.isArray(\"+A+\")) { if (vErrors === null) vErrors = \"+A+\"; else vErrors = vErrors.concat(\"+A+\"); errors = vErrors.length;  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\";  \"+$+'.schemaPath = \"'+v+'\";  ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } } else { \"+z+\" } \"),o+=\" } \",c&&(o+=\" else { \")}return o};","node_modules/har-schema/lib/afterRequest.json":{"$id":"afterRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/beforeRequest.json":{"$id":"beforeRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/browser.json":{"$id":"browser.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/cache.json":{"$id":"cache.json#","$schema":"http://json-schema.org/draft-06/schema#","properties":{"beforeRequest":{"oneOf":[{"type":"null"},{"$ref":"beforeRequest.json#"}]},"afterRequest":{"oneOf":[{"type":"null"},{"$ref":"afterRequest.json#"}]},"comment":{"type":"string"}}},"node_modules/har-schema/lib/content.json":{"$id":"content.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["size","mimeType"],"properties":{"size":{"type":"integer"},"compression":{"type":"integer"},"mimeType":{"type":"string"},"text":{"type":"string"},"encoding":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/cookie.json":{"$id":"cookie.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"path":{"type":"string"},"domain":{"type":"string"},"expires":{"type":["string","null"],"format":"date-time"},"httpOnly":{"type":"boolean"},"secure":{"type":"boolean"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/creator.json":{"$id":"creator.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/entry.json":{"$id":"entry.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","time","request","response","cache","timings"],"properties":{"pageref":{"type":"string"},"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"time":{"type":"number","min":0},"request":{"$ref":"request.json#"},"response":{"$ref":"response.json#"},"cache":{"$ref":"cache.json#"},"timings":{"$ref":"timings.json#"},"serverIPAddress":{"type":"string","oneOf":[{"format":"ipv4"},{"format":"ipv6"}]},"connection":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/har.json":{"$id":"har.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["log"],"properties":{"log":{"$ref":"log.json#"}}},"node_modules/har-schema/lib/header.json":{"$id":"header.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/log.json":{"$id":"log.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["version","creator","entries"],"properties":{"version":{"type":"string"},"creator":{"$ref":"creator.json#"},"browser":{"$ref":"browser.json#"},"pages":{"type":"array","items":{"$ref":"page.json#"}},"entries":{"type":"array","items":{"$ref":"entry.json#"}},"comment":{"type":"string"}}},"node_modules/har-schema/lib/page.json":{"$id":"page.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","id","title","pageTimings"],"properties":{"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"id":{"type":"string","unique":true},"title":{"type":"string"},"pageTimings":{"$ref":"pageTimings.json#"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/pageTimings.json":{"$id":"pageTimings.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"onContentLoad":{"type":"number","min":-1},"onLoad":{"type":"number","min":-1},"comment":{"type":"string"}}},"node_modules/har-schema/lib/postData.json":{"$id":"postData.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["mimeType"],"properties":{"mimeType":{"type":"string"},"text":{"type":"string"},"params":{"type":"array","required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"fileName":{"type":"string"},"contentType":{"type":"string"},"comment":{"type":"string"}}},"comment":{"type":"string"}}},"node_modules/har-schema/lib/query.json":{"$id":"query.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/request.json":{"$id":"request.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],"properties":{"method":{"type":"string"},"url":{"type":"string","format":"uri"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"queryString":{"type":"array","items":{"$ref":"query.json#"}},"postData":{"$ref":"postData.json#"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/response.json":{"$id":"response.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],"properties":{"status":{"type":"integer"},"statusText":{"type":"string"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"content":{"$ref":"content.json#"},"redirectURL":{"type":"string"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/timings.json":{"$id":"timings.json#","$schema":"http://json-schema.org/draft-06/schema#","required":["send","wait","receive"],"properties":{"dns":{"type":"number","min":-1},"connect":{"type":"number","min":-1},"blocked":{"type":"number","min":-1},"send":{"type":"number","min":-1},"wait":{"type":"number","min":-1},"receive":{"type":"number","min":-1},"ssl":{"type":"number","min":-1},"comment":{"type":"string"}}},"node_modules/uuid/index.js":"var v1=require(\"./v1\"),v4=require(\"./v4\"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid;","node_modules/uuid/v1.js":"var rng=require(\"./lib/rng\"),bytesToUuid=require(\"./lib/bytesToUuid\"),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;function v1(e,s,t){var c=s&&t||0,d=s||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:_clockseq,r=void 0!==e.msecs?e.msecs:(new Date).getTime(),_=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,a=r-_lastMSecs+(_-_lastNSecs)/1e4;if(a<0&&void 0===e.clockseq&&(o=o+1&16383),(a<0||r>_lastMSecs)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=r,_lastNSecs=_,_clockseq=o;var i=(1e4*(268435455&(r+=122192928e5))+_)%4294967296;d[c++]=i>>>24&255,d[c++]=i>>>16&255,d[c++]=i>>>8&255,d[c++]=255&i;var l=r/4294967296*1e4&268435455;d[c++]=l>>>8&255,d[c++]=255&l,d[c++]=l>>>24&15|16,d[c++]=l>>>16&255,d[c++]=o>>>8|128,d[c++]=255&o;for(var n=e.node||_nodeId,v=0;v<6;++v)d[c+v]=n[v];return s||bytesToUuid(d)}module.exports=v1;","node_modules/uuid/v4.js":"var rng=require(\"./lib/rng\"),bytesToUuid=require(\"./lib/bytesToUuid\");function v4(r,n,e){var i=n&&e||0;\"string\"==typeof r&&(n=\"binary\"==r?new Array(16):null,r=null);var u=(r=r||{}).random||(r.rng||rng)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var o=0;o<16;++o)n[i+o]=u[o];return n||bytesToUuid(u)}module.exports=v4;","node_modules/uuid/lib/rng.js":"var rb=require(\"crypto\").randomBytes;function rng(){return rb(16)}module.exports=rng;","node_modules/uuid/lib/bytesToUuid.js":"for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid(e,t){var o=t||0,i=byteToHex;return i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]}module.exports=bytesToUuid;","node_modules/oauth-sign/index.js":"var crypto=require(\"crypto\"),qs=require(\"querystring\");function sha1(r,e){return crypto.createHmac(\"sha1\",r).update(e).digest(\"base64\")}function rsa(r,e){return crypto.createSign(\"RSA-SHA1\").update(e).sign(r,\"base64\")}function rfc3986(r){return encodeURIComponent(r).replace(/!/g,\"%21\").replace(/\\*/g,\"%2A\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/'/g,\"%27\")}function map(r){var e,n,a=[];for(e in r)if(n=r[e],Array.isArray(n))for(var t=0;t<n.length;t++)a.push([e,n[t]]);else if(\"object\"==typeof n)for(var s in n)a.push([e+\"[\"+s+\"]\",n[s]]);else a.push([e,n]);return a}function compare(r,e){return r>e?1:r<e?-1:0}function generateBase(r,e,n){var a=map(n).map(function(r){return[rfc3986(r[0]),rfc3986(r[1]||\"\")]}).sort(function(r,e){return compare(r[0],e[0])||compare(r[1],e[1])}).map(function(r){return r.join(\"=\")}).join(\"&\");return[rfc3986(r?r.toUpperCase():\"GET\"),rfc3986(e),rfc3986(a)].join(\"&\")}function hmacsign(r,e,n,a,t){var s=generateBase(r,e,n);return sha1([a||\"\",t||\"\"].map(rfc3986).join(\"&\"),s)}function rsasign(r,e,n,a,t){var s=generateBase(r,e,n);return rsa(a||\"\",s)}function plaintext(r,e){return[r||\"\",e||\"\"].map(rfc3986).join(\"&\")}function sign(r,e,n,a,t,s){var c,i=1;switch(r){case\"RSA-SHA1\":c=rsasign;break;case\"HMAC-SHA1\":c=hmacsign;break;case\"PLAINTEXT\":c=plaintext,i=4;break;default:throw new Error(\"Signature method not supported: \"+r)}return c.apply(null,[].slice.call(arguments,i))}exports.hmacsign=hmacsign,exports.rsasign=rsasign,exports.plaintext=plaintext,exports.sign=sign,exports.rfc3986=rfc3986,exports.generateBase=generateBase;","node_modules/tunnel-agent/index.js":"\"use strict\";var net=require(\"net\"),tls=require(\"tls\"),http=require(\"http\"),https=require(\"https\"),events=require(\"events\"),assert=require(\"assert\"),util=require(\"util\"),Buffer=require(\"safe-buffer\").Buffer;exports.httpOverHttp=httpOverHttp,exports.httpsOverHttp=httpsOverHttp,exports.httpOverHttps=httpOverHttps,exports.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t}function httpsOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function httpOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t}function httpsOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function TunnelingAgent(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||http.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on(\"free\",function(e,n,r){for(var s=0,o=t.requests.length;s<o;++s){var u=t.requests[s];if(u.host===n&&u.port===r)return t.requests.splice(s,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(e,t){\"string\"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),this.sockets.length>=this.maxSockets?this.requests.push({host:t.host,port:t.port,request:e}):this.createConnection({host:t.host,port:t.port,request:e})},TunnelingAgent.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(n){n.on(\"free\",r),n.on(\"close\",s),n.on(\"agentRemove\",s),e.request.onSocket(n);function r(){t.emit(\"free\",n,e.host,e.port)}function s(e){t.removeSocket(n),n.removeListener(\"free\",r),n.removeListener(\"close\",s),n.removeListener(\"agentRemove\",s)}})},TunnelingAgent.prototype.createSocket=function(e,t){var n=this,r={};n.sockets.push(r);var s=mergeOptions({},n.proxyOptions,{method:\"CONNECT\",path:e.host+\":\"+e.port,agent:!1});s.proxyAuth&&(s.headers=s.headers||{},s.headers[\"Proxy-Authorization\"]=\"Basic \"+Buffer.from(s.proxyAuth).toString(\"base64\")),debug(\"making CONNECT request\");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once(\"response\",function(e){e.upgrade=!0}),o.once(\"upgrade\",function(e,t,n){process.nextTick(function(){u(e,t,n)})}),o.once(\"connect\",u),o.once(\"error\",function(t){o.removeAllListeners(),debug(\"tunneling socket could not be established, cause=%s\\n\",t.message,t.stack);var s=new Error(\"tunneling socket could not be established, cause=\"+t.message);s.code=\"ECONNRESET\",e.request.emit(\"error\",s),n.removeSocket(r)}),o.end();function u(s,u,i){if(o.removeAllListeners(),u.removeAllListeners(),200===s.statusCode)assert.equal(i.length,0),debug(\"tunneling connection has established\"),n.sockets[n.sockets.indexOf(r)]=u,t(u);else{debug(\"tunneling socket could not be established, statusCode=%d\",s.statusCode);var c=new Error(\"tunneling socket could not be established, statusCode=\"+s.statusCode);c.code=\"ECONNRESET\",e.request.emit(\"error\",c),n.removeSocket(r)}}},TunnelingAgent.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}};function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,function(r){var s=tls.connect(0,mergeOptions({},n.options,{servername:e.host,socket:r}));n.sockets[n.sockets.indexOf(r)]=s,t(s)})}function mergeOptions(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(\"object\"==typeof r)for(var s=Object.keys(r),o=0,u=s.length;o<u;++o){var i=s[o];void 0!==r[i]&&(e[i]=r[i])}}return e}var debug;debug=process.env.NODE_DEBUG&&/\\btunnel\\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);\"string\"==typeof e[0]?e[0]=\"TUNNEL: \"+e[0]:e.unshift(\"TUNNEL:\"),console.error.apply(console,e)}:function(){},exports.debug=debug;","node_modules/deep-equal/index.js":"var pSlice=Array.prototype.slice,objectKeys=require(\"./lib/keys.js\"),isArguments=require(\"./lib/is_arguments.js\"),deepEqual=module.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||\"object\"!=typeof e&&\"object\"!=typeof t?r.strict?e===t:e==t:objEquiv(e,t,r))};function isUndefinedOrNull(e){return null===e||void 0===e}function isBuffer(e){return!(!e||\"object\"!=typeof e||\"number\"!=typeof e.length)&&(\"function\"==typeof e.copy&&\"function\"==typeof e.slice&&!(e.length>0&&\"number\"!=typeof e[0]))}function objEquiv(e,t,r){var n,i;if(isUndefinedOrNull(e)||isUndefinedOrNull(t))return!1;if(e.prototype!==t.prototype)return!1;if(isArguments(e))return!!isArguments(t)&&(e=pSlice.call(e),t=pSlice.call(t),deepEqual(e,t,r));if(isBuffer(e)){if(!isBuffer(t))return!1;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}try{var u=objectKeys(e),o=objectKeys(t)}catch(e){return!1}if(u.length!=o.length)return!1;for(u.sort(),o.sort(),n=u.length-1;n>=0;n--)if(u[n]!=o[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!deepEqual(e[i],t[i],r))return!1;return typeof e==typeof t}","backend/modules/maxos/states/index.js":"\"use strict\";module.exports={idle:require(\"./idle\"),failure:require(\"./failure\"),success:require(\"./success\"),start:require(\"./start\"),safetyTest:require(\"./safetyTest\"),throughWireTest:require(\"./throughWireTest\"),serialNumber:require(\"./serialNumber\"),labels:require(\"./labels\")};","backend/modules/maxos/Glp2Manager.js":"\"use strict\";const{inherits:inherits}=require(\"util\"),{EventEmitter:EventEmitter}=require(\"events\"),step=require(\"h5.step\"),glp2=require(\"glp2\");module.exports=Glp2Manager;const SAMPLE_TIME=250,REQUEST_DELAY=200;function Glp2Manager(t){EventEmitter.call(this),this.fake=\"0.0.0.0:0000\"===t.comPort,this.log=t.log||function(){},this.options=t,this.master=null,this.readyState=Glp2Manager.ReadyState.STOPPED,this.closeAfterErrorTimer=null,this.readyStateInterval=setInterval(this.checkReadyState.bind(this),1e4),this.deviceOptions=[],this.softwareVersion=NaN,this.monitorActualValues=this.monitorActualValues.bind(this),this.onReady=this.onReady.bind(this),this.onMasterOpen=this.onMasterOpen.bind(this),this.onMasterError=this.onMasterError.bind(this),this.onMasterClose=this.onMasterClose.bind(this),this.onMasterTx=this.onMasterTx.bind(this),this.onMasterRx=this.onMasterRx.bind(this),this.on(\"error\",function(){})}inherits(Glp2Manager,EventEmitter),Glp2Manager.ReadyState={STOPPED:0,DISCONNECTED:1,CONNECTING:2,RESETTING:3,READY:4},Glp2Manager.prototype.getSoftwareVersion=function(){return this.softwareVersion},Glp2Manager.prototype.isReady=function(){return this.readyState===Glp2Manager.ReadyState.READY},Glp2Manager.prototype.start=function(){if(this.readyState>Glp2Manager.ReadyState.DISCONNECTED)return;this.readyState=Glp2Manager.ReadyState.CONNECTING;const t=this;if(t.fake)return setImmediate(t.onMasterOpen);step(function(){t.master=new glp2.Master({comPort:t.options.comPort,comAddress:t.options.comAddress,requestDelay:200,createSerialPort:function(t,e,r){return-1===t.indexOf(\":\")?new(require(\"serialport\"))(t,e,r):new(require(\"./TcpSerialPort\"))(t)}})},function(){t.master.on(\"open\",t.onMasterOpen),t.master.on(\"error\",t.onMasterError),t.master.on(\"close\",t.onMasterClose),t.master.on(\"tx\",t.onMasterTx),t.master.on(\"rx\",t.onMasterRx),t.master.open()})},Glp2Manager.prototype.destroy=function(t){clearInterval(this.readyStateInterval),this.stop(t)},Glp2Manager.prototype.stop=function(t){const e=this.readyState;this.readyState=Glp2Manager.ReadyState.STOPPED,e!==Glp2Manager.ReadyState.STOPPED&&e!==Glp2Manager.ReadyState.DISCONNECTED?(this.master.once(\"close\",t),this.master.close()):t(null)},Glp2Manager.prototype.reset=function(t,e){const r=this;\"function\"==typeof t&&(e=t,t=r.options.cancelDelay||2e3),r.readyState===Glp2Manager.ReadyState.CONNECTING||r.readyState===Glp2Manager.ReadyState.READY?(r.readyState=Glp2Manager.ReadyState.RESETTING,r.fake?setImmediate(r.onReady,null,e):step(function(){if(!r.master)return this.skip();r.master.cancelTest(this.next())},function(e){return e?(r.log(\"[glp2] Failed to cancel test: %s\",e.message),this.skip(e)):r.master?void setTimeout(this.next(),t):this.skip()},function(){if(!r.master)return this.skip();r.master.removeTestResults(this.next())},function(t){return t?(r.log(\"[glp2] Failed to remove test results: %s\",t.message),this.skip(t)):r.master?void r.master.removeTestPrograms(this.next()):this.skip()},function(t){if(t)return r.log(\"[glp2] Failed to remove test programs: %s\",t.message),this.skip(t);if(!r.master)return this.skip();const e={transmittingMode:glp2.TransmittingMode.SINGLE_TESTS,remoteControl:glp2.RemoteControl.FULL,sampleTime:250,actualValueData:glp2.ActualValueData.EXTRA_RESULTS};r.master.setParameters(e,this.next())},function(t){if(t)return r.log(\"[glp2] Failed to set parameters: %s\",t.message),this.skip(t)},function(t){if(t)return setImmediate(r.onReady,t,e);let a=0;s();function s(t,i){return r.master?t?setImmediate(r.onReady,t,e):null===i?setImmediate(r.onReady,null,e):a>10&&i&&i.faultStatus>0?setImmediate(r.onReady,new Error(\"Failed to empty actual values buffer, because of tester being faulty: \"+i.faultStatus),e):(++a,void r.master.getActualValues(s)):setImmediate(r.onReady,null,e)}})):setImmediate(e,null)},Glp2Manager.prototype.isInProgress=function(){return!1},Glp2Manager.prototype.requestStart=function(){this.readyState!==Glp2Manager.ReadyState.READY||this.isInProgress()||this.emit(\"startRequested\")},Glp2Manager.prototype.setTestProgram=function(t,e,r){this.readyState===Glp2Manager.ReadyState.READY?(Array.isArray(e)||(e=[e]),this.master.setTestProgram(t,e,r)):r(\"GLP2:TESTER_NOT_READY\",null)},Glp2Manager.prototype.startTest=function(t){this.readyState===Glp2Manager.ReadyState.READY?this.master.startTest(t):t(\"GLP2:TESTER_NOT_READY\",null)},Glp2Manager.prototype.getActualValues=function(t){this.readyState===Glp2Manager.ReadyState.READY?this.fake?setImmediate(t,null):this.master.getActualValues(t):t(\"GLP2:TESTER_NOT_READY\",null)},Glp2Manager.prototype.ackVisTest=function(t,e){this.readyState===Glp2Manager.ReadyState.READY?this.master.ackVisTest(t,e):e(\"GLP2:TESTER_NOT_READY\",null)},Glp2Manager.prototype.getDeviceOptions=function(){if(!this.master)return;const t=this;this.master.getDeviceOptions(function(e,r){if(e)return t.log(\"[glp2] Failed to get device options: %s\",e.message);t.deviceOptions=r.deviceOptions,t.softwareVersion=r.getSoftwareVersion(),t.log(\"[glp2] Device options:\",t.deviceOptions)})},Glp2Manager.prototype.checkReadyState=function(){this.readyState===Glp2Manager.ReadyState.DISCONNECTED&&this.start()},Glp2Manager.prototype.monitorActualValues=function(t){const e=this;e.readyState!==Glp2Manager.ReadyState.READY||e.isInProgress()||(t||(t=0),this.master.getActualValues(function(r,a){if(e.readyState===Glp2Manager.ReadyState.READY&&!e.isInProgress()){if(r)return r instanceof glp2.ResponseTimeoutError?++t:t=0,t<5&&e.log(\"[glp2] Failed to monitor actual values: %s\",r.message),setTimeout(e.monitorActualValues,1337,t);a&&a.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED&&e.requestStart(),setImmediate(e.monitorActualValues,0)}}))},Glp2Manager.prototype.onMasterOpen=function(){this.stopCloseAfterErrorTimer(),this.emit(\"open\");const t=this;this.reset(function(e){e?t.log(\"[glp2] Failed to reset the tester after connecting: %s\",e.message):t.options.readDeviceOptions&&t.getDeviceOptions()})},Glp2Manager.prototype.startCloseAfterErrorTimer=function(){null===this.closeAfterErrorTimer&&(this.closeAfterErrorTimer=setTimeout(this.onMasterClose.bind(this),1e3))},Glp2Manager.prototype.stopCloseAfterErrorTimer=function(){null!==this.closeAfterErrorTimer&&(clearTimeout(this.closeAfterErrorTimer),this.closeAfterErrorTimer=null)},Glp2Manager.prototype.onMasterError=function(t){this.stopCloseAfterErrorTimer(),this.startCloseAfterErrorTimer(),this.emit(\"error\",t)},Glp2Manager.prototype.onMasterClose=function(){this.stopCloseAfterErrorTimer(),this.readyState!==Glp2Manager.ReadyState.STOPPED&&(this.readyState=Glp2Manager.ReadyState.DISCONNECTED),this.master&&(this.master.removeListener(\"open\",this.onMasterOpen),this.master.removeListener(\"error\",this.onMasterError),this.master.removeListener(\"close\",this.onMasterClose),this.master.removeListener(\"tx\",this.onMasterTx),this.master.removeListener(\"rx\",this.onMasterRx),this.master.on(\"error\",function(){}),this.master.close(),this.master=null),this.emit(\"close\")},Glp2Manager.prototype.onMasterTx=function(t){this.emit(\"tx\",t)},Glp2Manager.prototype.onMasterRx=function(t){this.emit(\"rx\",t)},Glp2Manager.prototype.onReady=function(t,e){return this.fake||this.master?t?(e(t),void this.master.close()):(this.readyState=Glp2Manager.ReadyState.READY,setImmediate(e),this.monitorActualValues(),void this.emit(\"ready\")):(this.readyState===Glp2Manager.ReadyState.RESETTING&&(this.readyState=Glp2Manager.ReadyState.DISCONNECTED),void e(new Error(\"No connection.\")))};","backend/modules/maxos/labels.js":"\"use strict\";const fs=require(\"fs\"),os=require(\"os\"),path=require(\"path\"),{exec:exec,execFile:execFile}=require(\"child_process\"),_=require(\"lodash\"),step=require(\"h5.step\"),KINDS={INSIDE:\"inside\",OUTSIDE:\"outside\"},TEMPLATES={[KINDS.INSIDE]:fs.readFileSync(`${__dirname}/labels/inside.zpl`,\"utf8\"),[KINDS.OUTSIDE]:fs.readFileSync(`${__dirname}/labels/outside.zpl`,\"utf8\")},LOGOS={[KINDS.INSIDE]:require(`${__dirname}/labels/inside.logos.json`),[KINDS.OUTSIDE]:require(`${__dirname}/labels/outside.logos.json`)},LOGO_COUNTS={[KINDS.INSIDE]:3,[KINDS.OUTSIDE]:6};exports.KINDS=KINDS,exports.build=((t,s,i)=>{const r=TEMPLATES[s],n=LOGOS[s],o=LOGO_COUNTS[s],{order:l}=i,a=i.serialNumber||\"0000.000000000.0000\",u=+a.split(\".\")[2],c=t(`labels.${s}.offsetX`),I=t(`labels.${s}.offsetY`),d=l.materialNumber||\"000000000000\",E=l.eocCode||\"\",p=l.ean1||\"\",N=l.specialDesignation||\"\";let O=N,_=\"\";N.length>23&&(O=N.substr(0,22).trim()+\"-\",_=\"-\"+N.substr(22).trim());let D=\"\",S=\"\";if(s===KINDS.INSIDE)D=a;else{const e=a.split(\".\");D=`${e[0]}.${e[1]}.${(parseInt(e[2],10)-1).toString().padStart(4,\"0\")}`,S=a}let f=l.quantityInBox||0;f&&u===l.quantityInOrder&&u%f!=0&&(f=u%l.quantityInBox);const m={DLE:\"\u0010\",OFFSET_X:c||0,OFFSET_Y:I||0,ORDER_NUMBER:e(l._id),MATERIAL_NUMBER:e(d.substr(0,4)+\" \"+d.substr(4,3)+\" \"+d.substr(7)),SERIAL_NUMBER_1:D,SERIAL_NUMBER_2:S,PRODUCT_FAMILY:e(l.productFamily),PRODUCT_NAME:e(l.productName),SPECIAL_DESIGNATION:e(N),SPECIAL_DESIGNATION_1:e(O),SPECIAL_DESIGNATION_2:e(_),COMMERCIAL_DESIGNATION:e(l.commercialDesignation),ADDITIONAL_INFORMATION:e(l.additionalInformation),VOLTAGE:e(l.voltage),IP_FACTOR_VALUE:e(l.ipFactorValue),DATE_CODE:e(l.dateCode),FACTORY_CODE:e(l.factoryCode),NON_PHILIPS_CODE:e(l.nonPhilipsCode),EOC_CODE:e(E),EOC_CODE_PREFIX:e(E.substr(0,E.length-2)).substr(0,6),EOC_CODE_SUFFIX:E.length>2?e(E.substr(-2)):\"\",EAN1:e(p.substr(0,p.length-1)),EAN1_BOX:e(l.ean1Box),QUANTITY_IN_BOX:f,QUANTITY_IN_ORDER:l.quantityInOrder||0,DG:\"\",XG:\"\",ID:\"\"};l.logoCodes.slice(0,o).forEach((e,t)=>{const s=n[e];if(!s)return;const i=`LOGO_${t}`;m.DG+=`~DG${i}.GRF,${s.c}\\r\\n`,m.XG+=`^FT${s.x[t]},${s.y[t]}^XG${i}.GRF,1,1^FS\\r\\n`,m.ID+=`^XA^ID${i}.GRF^FS^XZ\\r\\n`});let g=r;return Object.keys(m).forEach(e=>{g=g.replace(new RegExp(\"\\\\$\\\\{\"+e+\"\\\\}\",\"g\"),m[e])}),g}),exports.print=((e,t,s,i,r)=>{const n=t(`labels.${s}.printer`);if(\"string\"!=typeof n||0===n.length)return r(new Error(`No printer defined for the ${s} label!`));const o=path.join(os.tmpdir(),`MAXOS.${Date.now()}.${Math.random()}.zpl`);step(function(){fs.writeFile(o,i,this.next())},function(t){if(t)return this.skip(t);if(\"win32\"===process.platform)execFile(e,[o,n],this.next());else{const e=n.split(\":\"),t=e[0],s=e[1]||\"9100\";exec(`cat \"${o}\" | netcat -w 1 ${t} ${s}`,this.next())}},function(e){fs.unlink(o,()=>{}),r(e)})}),exports.bulkPrint=function(e,t,s,i){let r=0;step(function(){const i=e[t.config.mongooseId].model(\"MaxosTest\"),r={\"order._id\":s.orderNo,status:\"success\",itemNumber:{$in:_.uniq(s.items.inside.concat(s.items.outside))}};i.find(r,{order:1,serialNumber:1,itemNumber:1}).sort({itemNumber:-1}).lean().exec(this.next())},function(r,o){if(r)return this.done(i,r);if(!o||!o.length)return this.done(i,e.createError(\"TESTS_NOT_FOUND\"));i();const l={};o.forEach(e=>{l[e.itemNumber]=e});n(s.items.inside.map(e=>exports.build(t.tags.get,\"inside\",l[e])),s.items.outside.map(e=>exports.build(t.tags.get,\"outside\",l[e])))});function n(i,o){if(0===i.length&&0===o.length)return;const l=i.splice(0,5),a=o.splice(0,5);step(function(){l.length&&exports.print(t.config.spoolExe,t.tags.get,\"inside\",l.join(\"\"),this.group()),a.length&&exports.print(t.config.spoolExe,t.tags.get,\"outside\",a.join(\"\"),this.group())},function(u){u&&t.error(`Failed to reprint: ${u.message}`);const c=l.length+a.length;r+=c,e.broker.publish(\"maxos.labels.printed\",{commId:s.commId,todo:s.labelCount,done:r}),setTimeout(n,200*c,i,o)})}};function e(e){return(e||\"\").replace(\"~\",\"\\\\7e\")}","node_modules/deep-equal/lib/keys.js":"exports=module.exports=\"function\"==typeof Object.keys?Object.keys:shim,exports.shim=shim;function shim(e){var s=[];for(var t in e)s.push(t);return s}","node_modules/deep-equal/lib/is_arguments.js":"var supportsArgumentsClass=\"[object Arguments]\"==function(){return Object.prototype.toString.call(arguments)}();exports=module.exports=supportsArgumentsClass?supported:unsupported,exports.supported=supported;function supported(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}exports.unsupported=unsupported;function unsupported(t){return t&&\"object\"==typeof t&&\"number\"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,\"callee\")&&!Object.prototype.propertyIsEnumerable.call(t,\"callee\")||!1}","backend/modules/maxos/states/idle.js":"\"use strict\";const step=require(\"h5.step\"),glp2=require(\"glp2\"),safetyTest=require(\"../safetyTest\");module.exports=function(t,e,s){const r=e.tags.get(\"safetyTest.disabled\",!1),g=e.tags.get(\"throughWireTest.autoStart\",!1),a=e.tags.get(\"safetyTest.pe2\",!1),o=e.tags.time(\"safetyTest.config\"),i=-1===e.tags.get(\"program.cables\");let n=!1,u=0;T()||step(function(){r||(i?e.message(\"UNWIRED:PREPARING\",{severity:\"warning\"},this.group()):e.message(\"SETTING_SAFETY_TEST\",{severity:\"warning\"},this.group())),p(this.group()),e.tags.set(\"S.1.control\",!i&&!r,this.group()),e.tags.set(\"S.2.control\",!1,this.group()),e.glp2.reset(1,this.group())},function(t){if(t)return this.skip(t);i||r||e.glp2.fake||e.glp2.setTestProgram(\"MAXOS 1\",safetyTest.create(e.tags.get(\"safetyTest.config\"),e.tags.get(\"safetyTest.pe2\")),this.next())},function(t){if(t)return e.error(`[idle] Failed to set test program: ${t.message||t}`),c(2500,i||r?\"ERROR\":\"SETTING_SAFETY_TEST_FAILURE\",{error:t.message||t});if(i||r){if(e.tags.get(\"S.1.status\")||e.tags.get(\"S.2.status\"))return c(2500,\"CONTACTORS_FAILURE\")}else{if(!e.tags.get(\"S.1.status\")||e.tags.get(\"S.2.status\"))return c(2500,\"CONTACTORS_FAILURE\");n=!0}if((i||r)&&e.tags.get(\"throughWireTest.autoStart\"))return e.tags.set(\"program.state\",\"start\",s);setImmediate(f)});function f(){if(!T())return r!==e.tags.get(\"safetyTest.disabled\",!1)||a!==e.tags.get(\"safetyTest.pe2\",!1)||g!==e.tags.get(\"throughWireTest.autoStart\",!1)||o!==e.tags.time(\"safetyTest.config\")?s():void e.glp2.getActualValues((t,g)=>{if(!T()){if(t)return++u>5?c(\"PE_TESTER_NOT_READY\"):setTimeout(f,100);if(u=0,g){if(g.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED){if(i)return e.tags.set(\"program.state\",\"start\",s);if(!r)return setImmediate(s)}e.glp2.lastResponse=g,e.tags.set(\"program.state\",\"start\",s)}else e.message(-1===e.tags.get(\"program.cables\")?\"UNWIRED:IDLE\":r?\"IDLE_THROUGH_WIRE\":\"IDLE\",f)}})}function p(t){if(!e.tags.get(\"masters.controlProcess\",!1))return t();step(function(){e.tags.set(\"program.cancelled\",!1,this.group()),e.tags.set(\"program.cable\",1,this.group());for(let t=1;t<=2;++t){e.tags.set(`program.safetyTest.${t}.pe1`,\"off\",this.group()),e.tags.set(`program.safetyTest.${t}.pe2`,\"off\",this.group()),e.tags.set(`program.safetyTest.${t}.iso`,\"off\",this.group());const s=e.tags.get(`powerConnector.${t}`);for(let r=1;r<=7;++r)e.tags.set(`L.${s}.${r}.control`,!1,this.group()),e.tags.set(`program.throughWireTest.${t}.${r}`,\"off\",this.group())}},t)}function T(){if(!e.tags.get(\"masters.controlProcess\",!1))return c(\"NO_PLC_CONNECTION\");if(e.tags.get(\"estop\",!0))return c(\"ESTOP\");if(!e.tags.get(\"program.order\"))return c(\"NO_ORDER\",{severity:\"info\"});if(e.tags.get(\"safetyTest.blackbox\"))return c(\"BLACKBOX\");if(!e.glp2.isReady())return c(\"PE_TESTER_NOT_READY\");if(n&&(!e.tags.get(\"S.1.status\")||e.tags.get(\"S.2.status\")))return c(\"CONTACTORS_FAILURE\");if(e.tags.get(\"checkAsideConnectors\",!0)){const t=[1,2,3,4,6,7,8,9].filter(t=>!e.tags.get(`L.${t}.aside`,!1));if(t.length)return c(\"PUT_CONNECTORS_ASIDE\",{connectors:t.join(\", \")})}return!1}function c(t,r,g){return\"string\"==typeof t&&(g=r,r=t,t=1),step(function(){e.message(r,Object.assign({severity:\"danger\"},g),this.group()),e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!1,this.group()),p(this.group()),e.tags.get(\"safetyTest.blackbox\",!1)||e.glp2.reset(1,this.group())},function(){setTimeout(s,t)}),!0}};","backend/modules/maxos/states/failure.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),glp2=require(\"glp2\");module.exports=function(t,e,s){step(function(){const{reason:t,error:s}=e.tags.get(\"program.message\");e.test.fail(t,s,this.group())},function(t){t&&e.error(`[failure] Failed to fail test: ${t.message||t}`);const s=_.once(this.next());r(s),this.interval=setInterval(()=>{e.tags.get(\"program.cancelled\")&&s()},50),this.timer=setTimeout(s,e.tags.get(\"failureTimeout\",1337))},function(){clearInterval(this.interval),clearTimeout(this.timer),e.test=new e.test.constructor,t.broker.publish(\"maxos.test.updated\",e.test.toJSON()),e.tags.set(\"program.state\",\"idle\",s)});function r(t){\"failure\"===e.tags.get(\"program.state\")&&e.glp2.getActualValues((e,s)=>{if(s&&s.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED)return t();setTimeout(r,100,t)})}};","backend/modules/maxos/states/success.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),glp2=require(\"glp2\");module.exports=function(t,e,s){step(function(){e.message(\"SUCCESS\",{severity:\"success\"},this.group()),e.tags.set(\"program.lastSerialNumber\",e.test.serialNumber,this.group()),e.test.finish(this.group())},function(t){t&&e.error(`[success] Failed to finish test: ${t.message||t}`),e.test.findQuantityDone((t,s)=>{t&&e.error(`[success] Failed to count quantity done: ${t.message}`),s&&e.tags.set(\"program.quantityDone\",s)});const s=_.once(this.next());r(s),this.interval=setInterval(()=>{e.tags.get(\"program.cancelled\")&&s()},50),this.timer=setTimeout(s,e.tags.get(\"successTimeout\",1337))},function(){clearInterval(this.interval),clearTimeout(this.timer),e.test=new e.test.constructor,t.broker.publish(\"maxos.test.updated\",e.test.toJSON()),e.tags.set(\"program.state\",\"idle\",s)});function r(t){\"success\"===e.tags.get(\"program.state\")&&e.glp2.getActualValues((e,s)=>{if(s&&s.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED)return t();setTimeout(r,100,t)})}};","backend/modules/maxos/states/start.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\");module.exports=function(e,t,s){const r=-1===t.tags.get(\"program.cables\"),a=t.tags.get(\"safetyTest.disabled\",!1);step(function(){t.test.messages=[],r?t.message(\"UNWIRED:STARTING\",{severity:\"warning\"},this.group()):a?t.message(\"STARTING_THROUGH_WIRE_TEST\",{severity:\"warning\"},this.group()):(t.message(\"RUNNING_SAFETY_TEST\",{severity:\"warning\",cable:1},this.group()),t.tags.set(\"program.safetyTest.1.pe1\",\"progress\",this.group())),t.test.run(_.cloneDeep(t.tags.get(\"program.order\")),this.group())},function(e){if(e){const s=e.message||e;t.error(`[start] Failed to start test: ${s}`),t.message(\"FAILURE\",{severity:\"danger\",reason:\"START_FAILURE\",error:s},this.group()),t.tags.set(\"program.state\",\"failure\",this.group())}else r?t.tags.set(\"program.state\",\"serialNumber\",this.next()):a?t.tags.set(\"program.state\",\"throughWireTest\",this.next()):t.tags.set(\"program.state\",\"safetyTest\",this.next())},function(e){e&&t.error(`[start] Failed to fail test: ${e.message||e}`),s()})};","backend/modules/maxos/states/safetyTest.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),glp2=require(\"glp2\"),safetyTest=require(\"../safetyTest\");module.exports=function(t,e,s){let a=0,r=0,g=0;u(e.glp2.lastResponse);function o(t){const s=e.tags.get(\"program.cable\"),a=[`program.safetyTest.${s}.pe1`,`program.safetyTest.${s}.iso`,`program.safetyTest.${s}.pe2`];return t>=1?a[t-1]:_.find(a,t=>\"progress\"===e.tags.get(t))}function u(t){if(!n())return t.type===glp2.ResponseType.INTERIM_ACTUAL_VALUES?function(t){const s=e.tags.get(\"program.cable\");switch(t.stepNumber){case 1:e.tags.set(`program.safetyTest.${s}.pe1`,\"progress\");break;case 2:e.tags.set(`program.safetyTest.${s}.pe1`,\"success\"),e.tags.set(`program.safetyTest.${s}.iso`,\"progress\");break;case 3:e.tags.set(`program.safetyTest.${s}.pe1`,\"success\"),e.tags.set(`program.safetyTest.${s}.iso`,\"success\"),e.tags.set(`program.safetyTest.${s}.pe2`,\"progress\")}setImmediate(p)}(t):t.type===glp2.ResponseType.ACTUAL_VALUES?function(t){if(t.faultStatus)return T(\"GLP2:FAULT:\"+t.faultStatus);const s=t.steps[0];if(!s)return t.completed?(e.tags.set(o(),\"failure\"),T(\"GLP2:FAULT:\"+glp2.FaultStatus.CANCELLED)):(e.tags.set(o(),\"success\"),i());if(s.evaluation)return e.tags.set(o(s.stepNumber),\"success\"),2===s.stepNumber?e.tags.get(\"safetyTest.pe2\")?e.message(\"RESTART_SAFETY_TEST_PROBE\",{severity:\"info\"},p):i():3===s.stepNumber?i():setImmediate(p);e.tags.set(o(s.stepNumber),\"failure\"),T(\"GLP2:TEST_STEP_FAILURE\",{setValue:s.setValue,actualValue:s.actualValue,setValue2:s.setValue2,actualValue2:s.actualValue2})}(t):T(\"UNEXPECTED_PE_TESTER_RESPONSE\",{response:t})}function i(){const t=e.tags.get(\"program.cables\");e.tags.get(\"program.cable\")<t?step(function(){e.message(\"SETTING_SAFETY_TEST\",{severity:\"warning\"},this.group()),e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!1,this.group()),e.tags.set(\"program.cable\",2,this.group())},function(t){return n(!1)?this.done():t?this.skip(t):(e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!0,this.group()),void e.glp2.reset(1,this.group()))},function(t){return n()?this.done():t?this.skip(t):void e.glp2.setTestProgram(\"MAXOS 2\",safetyTest.create(e.tags.get(\"safetyTest.config\"),e.tags.get(\"safetyTest.pe2\")),this.group())},function(t){return n()?this.done():t?T(\"SETTING_SAFETY_TEST_FAILURE\",{error:t.message||t}):(e.message(\"RUNNING_SAFETY_TEST\",{severity:\"warning\",cable:2}),a=0,r=-1,g=0,void e.glp2.startTest(t=>{t&&e.error(`[safetyTest] Failed to auto-start: ${t.message||t}`),setImmediate(p)}))}):step(function(){e.message(\"FINISHING_SAFETY_TEST\",{severity:\"warning\"},this.group()),e.test.copySafetyTest(e.tags.get),e.tags.set(\"program.state\",\"throughWireTest\",this.group()),e.tags.set(\"program.cable\",1,this.group()),e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!1,this.group()),e.glp2.reset(1,this.group())},s)}function p(){n()||e.glp2.getActualValues((t,s)=>{if(!n()){if(t)return++g>10?T(\"GLP2:TESTER_NOT_READY\"):setTimeout(p,100);if(s&&s.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED)return setImmediate(p);if(g=0,s)0===++r&&(e.glp2.lastResponse=s),u(s);else{if(++a>5&&0===r&&e.glp2.lastResponse.type===glp2.ResponseType.INTERIM_ACTUAL_VALUES)return e.tags.set(o(),\"failure\"),T(\"GLP2:TEST_STEP_FAILURE\",{setValue:-1,actualValue:-1,setValue2:-1,actualValue2:-1});setImmediate(p)}}})}function n(t){if(e.tags.get(\"program.cancelled\"))return T(\"CANCELLED\");if(!e.tags.get(\"masters.controlProcess\",!1))return T(\"NO_PLC_CONNECTION\");if(e.tags.get(\"estop\",!0))return T(\"ESTOP\");if(!e.glp2.isReady())return T(\"PE_TESTER_NOT_READY\");const s=e.tags.get(\"program.cable\");if(!1!==t&&s){const t=1===s?\"S.1.status\":\"S.2.status\",a=1===s?\"S.2.status\":\"S.1.status\";if(!e.tags.get(t)||e.tags.get(a))return T(\"CONTACTORS_FAILURE\")}if(e.tags.get(\"checkAsideConnectors\",!0)){const t=[1,2,3,4,6,7,8,9].filter(t=>!e.tags.get(`L.${t}.aside`,!1));if(t.length)return T(\"PUT_CONNECTORS_ASIDE\",{connectors:t.join(\", \")})}return Date.now()-e.tags.time(\"program.state\")>e.tags.get(\"safetyTest.maxDuration\",3e4)&&T(\"SAFETY_TEST_TOO_LONG\")}function T(t,a){return step(function(){e.message(\"FAILURE\",Object.assign(a||{},{severity:\"danger\",reason:t})),e.test.copySafetyTest(e.tags.get),e.tags.set(\"program.state\",\"failure\",this.group()),e.tags.set(\"program.cable\",1,this.group()),e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!1,this.group()),e.glp2.reset(1,this.group())},s),!0}};","backend/modules/maxos/states/throughWireTest.js":"\"use strict\";const _=require(\"lodash\"),step=require(\"h5.step\"),glp2=require(\"glp2\");module.exports=function(t,e,s){let r=0;!function(){if(l())return;if(o())return;e.message(\"STARTING_THROUGH_WIRE_TEST\",{severity:\"warning\"}),n()}();function o(t){if(!e.tags.get(\"checkAsideConnectors\"))return!1;if(t&&!e.tags.get(\"throughWireTest.checkAsideConnectors\"))return!1;const{plugged:r,aside:o}=function(){const t=e.tags.get(\"program.cables\"),s=e.tags.get(\"program.connectors\")+1,r=[],o=[];return[1,2,3,4].forEach(t=>(t<=s?r:o).push(t)),[6,7,8,9].forEach(e=>(2===t&&e-5<=s?r:o).push(e)),{plugged:r,aside:o}}(),n=[],g=[];return r.forEach(t=>{e.tags.get(`L.${t}.aside`)&&n.push(t)}),o.forEach(t=>{e.tags.get(`L.${t}.aside`)||g.push(t)}),g.length?(t?setImmediate(p,\"INVALID_CONNECTORS_PLUGGED_IN\",{connectors:g.join(\", \")}):(e.message(\"PUT_CONNECTORS_ASIDE\",{severity:\"info\",connectors:g.join(\", \")}),setImmediate(s)),!0):!!n.length&&(t?setImmediate(p,\"INVALID_CONNECTORS_PUT_ASIDE\",{connectors:n.join(\", \")}):(e.message(\"PLUG_CONNECTORS_IN\",{severity:\"info\",connectors:n.join(\", \")}),setImmediate(s)),!0)}function n(){e.glp2.getActualValues((t,e)=>{if(!l()&&!o()){if(t)return++r>5?p(\"GLP2:TESTER_NOT_READY\"):setTimeout(n,100);r=0,e?setImmediate(n):setImmediate(g)}})}function g(){e.message(\"START_THROUGH_WIRE_TEST\",{severity:\"info\"}),e.glp2.getActualValues((t,s)=>{if(!l()&&!o()){if(t)return++r>5?p(\"GLP2:TESTER_NOT_READY\"):setTimeout(g,100);if(r=0,e.tags.get(\"throughWireTest.autoStart\")||s&&s.faultStatus===glp2.FaultStatus.NO_TEST_STEP_DEFINED)return setImmediate(a);setImmediate(g)}})}function a(){let t=null;for(let s=1;s<=2&&!t;++s){const r=e.tags.get(`powerConnector.${s}`);for(let s=1;s<=7;++s){const o=`L.${r}.${s}.control`;if(e.tags.get(o)){t=o;break}}if(t)break;for(let s=1;s<=10;++s)for(let r=1;r<=7;++r){const o=`L.${s}.${r}.status`;if(e.tags.get(o)){t=o;break}}}if(t)return p(\"INITIAL_THROUGH_WIRE_CHECK_FAILURE\",{tag:t});setImmediate(c,1,1)}function c(t,r){if(l())return;if(o(!0))return;const n=e.tags.get(\"program.cables\"),g=e.tags.get(\"program.cores\");if(r>g&&(t+=1,r=1),t>n)return void step(function(){e.message(\"FINISHING_THROUGH_WIRE_TEST\",{severity:\"warning\"},this.group()),e.tags.set(\"program.state\",\"serialNumber\",this.group()),f(this.group())},s);e.message(\"RUNNING_THROUGH_WIRE_TEST\",{severity:\"warning\",cable:`${t}/${n}`,core:`${r}/${g}`});const a=e.tags.get(\"throughWireTest.checkAllCores\",!1);step(function(){e.tags.set(`program.throughWireTest.${t}.${r}`,\"progress\",this.group()),a?function(t,s,r){step(function(){for(let r=1;r<=2;++r){const o=e.tags.get(`powerConnector.${r}`);for(let n=1;n<=7;++n)e.tags.set(`L.${o}.${n}.control`,r===t&&n===s,this.group())}},r)}(t,r,this.group()):function(t,s,r){const o=e.tags.get(`powerConnector.${t}`);e.tags.set(`L.${o}.${s}.control`,!0,r)}(t,r,this.group())},function(s){if(s)return this.done(p,\"ENABLE_CORE_FAILURE\",{error:s.message,cable:t,core:r});const n=_.once(this.next());this.interval=setInterval(()=>{if(l()||o(!0))n(null,!0);else{(a?i(t,r):u(t,r))||n(null,!1)}},100),this.timer=setTimeout(n,e.tags.get(\"throughWireTest.checkDelay\",300),null,!1)},function(s,n){if(clearInterval(this.interval),clearTimeout(this.timer),n||l()||o(!0))return this.done();const g=a?i(t,r):u(t,r);return g?(e.tags.set(`program.throughWireTest.${t}.${r}`,\"failure\"),this.done(p,\"THROUGH_WIRE_CHECK_FAILURE\",g)):void 0},function(){e.tags.set(`program.throughWireTest.${t}.${r}`,\"success\"),setImmediate(c,t,r+1)})}function i(t,s){const r=e.tags.get(\"powerConnector.1\"),o=e.tags.get(\"powerConnector.2\"),n=e.tags.get(\"program.cables\"),g=e.tags.get(\"program.connectors\")+1,a=[1,6];for(let t=2;t<=g;++t)a.push(t,t+5);for(let g=1;g<=10;++g){if(g===r||g===o)continue;const c=g<=5?1:2,i=a.includes(g);for(let r=1;r<=7;++r){const o=e.tags.get(`L.${g}.${r}.status`,!1),u=i&&(c===t&&r===s||4===s&&4===r&&2===n);if(o!==u)return{cable:c,connector:g,core:r,checkedCable:t,checkedConnectors:a,checkedCore:s,requiredStatus:u,actualStatus:o}}}return null}function u(t,s){const r=e.tags.get(\"powerConnector.1\"),o=e.tags.get(\"powerConnector.2\"),n=e.tags.get(\"program.cables\"),g=e.tags.get(\"program.connectors\")+1,a=[1,6];for(let t=2;t<=g;++t)a.push(t,t+5);for(let g=1;g<=10;++g){if(g===r||g===o)continue;const c=g<=5?1:2;if(c<t)continue;const i=a.includes(g);for(let r=1;r<=7;++r){if(c===t&&r<s)continue;const o=e.tags.get(`L.${g}.${r}.status`,!1),u=i&&(c===t&&r===s||s>=4&&4===r&&2===n||2===t&&4===r);if(o!==u)return{cable:c,connector:g,core:r,checkedCable:t,checkedConnectors:a,checkedCore:s,requiredStatus:u,actualStatus:o}}}return null}function l(){return e.tags.get(\"program.cancelled\")?p(\"CANCELLED\"):e.tags.get(\"masters.controlProcess\",!1)?e.tags.get(\"estop\",!0)?p(\"ESTOP\"):e.glp2.isReady()?!(!e.tags.get(\"S.1.status\")&&!e.tags.get(\"S.2.status\"))&&p(\"CONTACTORS_FAILURE\"):p(\"PE_TESTER_NOT_READY\"):p(\"NO_PLC_CONNECTION\")}function f(t){step(function(){e.test.copyThroughWireTest(e.tags.get),e.tags.set(\"S.1.control\",!1,this.group()),e.tags.set(\"S.2.control\",!1,this.group());const t=e.tags.get(\"powerConnector.1\"),s=e.tags.get(\"powerConnector.2\");for(let r=1;r<=7;++r)e.tags.set(`L.${t}.${r}.control`,!1,this.group()),e.tags.set(`L.${s}.${r}.control`,!1,this.group());e.glp2.reset(1,this.group())},t)}function p(t,r){return step(function(){e.message(\"FAILURE\",Object.assign(r||{},{severity:\"danger\",reason:t}),this.group()),e.tags.set(\"program.state\",\"failure\",this.group()),f(this.group())},s),!0}};","backend/modules/maxos/states/serialNumber.js":"\"use strict\";const step=require(\"h5.step\");module.exports=function(e,s,r){step(function(){s.test.generateSerialNumber(this.parallel()),s.message(\"GENERATING_SERIAL_NUMBER\",{severity:\"warning\"},this.parallel())},function(e,t){e?(s.message(\"FAILURE\",{severity:\"danger\",reason:\"GENERATING_SERIAL_NUMBER_FAILURE\",error:e.message}),s.tags.set(\"program.state\",\"failure\",r)):(s.message(\"GENERATED_SERIAL_NUMBER\",{severity:\"warning\",serialNumber:t.serialNumber}),s.tags.set(\"program.state\",\"labels\",r))})};","backend/modules/maxos/states/labels.js":"\"use strict\";const step=require(\"h5.step\");module.exports=function(e,s,t){step(function(){s.message(\"PRINTING_LABEL\",{severity:\"warning\",kind:\"inside\"},this.group());const e=s.labels.build(\"inside\",s.test);s.labels.print(\"inside\",e,this.group())},function(e){if(e)return s.message(\"PRINTING_LABEL_FAILURE\",{severity:\"danger\",error:e.message,kind:\"inside\"}),setTimeout(this.next(),3e3)},function(){const e=+s.test.serialNumber.split(\".\")[2],{quantityInBox:t}=s.tags.get(\"program.order\");if(t>1&&e%t!=0)return this.skip();s.message(\"PRINTING_LABEL\",{severity:\"warning\",kind:\"outside\"},this.group());const i=s.labels.build(\"outside\",s.test);s.labels.print(\"outside\",i,this.group())},function(e){if(e)return s.message(\"PRINTING_LABEL_FAILURE\",{severity:\"danger\",error:e.message,kind:\"outside\"}),setTimeout(this.next(),3e3)},function(){s.tags.set(\"program.state\",\"success\",t)})};","node_modules/glp2/lib/index.js":"\"use strict\";var constants=require(\"./constants\"),util=require(\"./util\");exports.CHR=util.CHR,exports.prettifyBuffer=util.prettifyBuffer,exports.ResponseType=constants.ResponseType,exports.FaultStatus=constants.FaultStatus,exports.OnOff=constants.OnOff,exports.TransmittingMode=constants.TransmittingMode,exports.GoSwitchAtVisualCheck=constants.GoSwitchAtVisualCheck,exports.PeDisplay=constants.PeDisplay,exports.PeSetValues=constants.PeSetValues,exports.StartSafetySwitch=constants.StartSafetySwitch,exports.CnfFunction=constants.CnfFunction,exports.SelfTest=constants.SelfTest,exports.HvProcess=constants.HvProcess,exports.AddProtocolNumber=constants.AddProtocolNumber,exports.RemoteControl=constants.RemoteControl,exports.OrderInputs=constants.OrderInputs,exports.TestStepDisplay=constants.TestStepDisplay,exports.ActualValueData=constants.ActualValueData,exports.BusyTesterError=require(\"./BusyTesterError\"),exports.InvalidChecksumError=require(\"./InvalidChecksumError\"),exports.InvalidParametersError=require(\"./InvalidParametersError\"),exports.InvalidResponseError=require(\"./InvalidResponseError\"),exports.NoConnectionError=require(\"./NoConnectionError\"),exports.ResponseTimeoutError=require(\"./ResponseTimeoutError\"),exports.Master=require(\"./Master\"),exports.ActualValuesResponse=require(\"./ActualValuesResponse\"),exports.DeviceOptionsResponse=require(\"./DeviceOptionsResponse\"),exports.InterimActualValuesResponse=require(\"./InterimActualValuesResponse\"),exports.OrderDataDemandResponse=require(\"./OrderDataDemandResponse\"),exports.ProgramStep=require(\"./ProgramStep\"),exports.PeTest=require(\"./PeTest\"),exports.IsoTest=require(\"./IsoTest\"),exports.FctTest=require(\"./FctTest\"),exports.VisTest=require(\"./VisTest\"),exports.TestResult=require(\"./TestResult\"),exports.DefaultTestResult=require(\"./DefaultTestResult\"),exports.HvTestResult=require(\"./HvTestResult\"),exports.VisTestResult=require(\"./VisTestResult\");","backend/modules/maxos/safetyTest.js":"\"use strict\";const glp2=require(\"glp2\");exports.create=((e,t)=>{e||(e={}),e.pe||(e.pe={}),e.iso||(e.iso={});const r={type:\"pe\",enabled:!0,label:\"MAXOS PE 1\",duration:e.pe.duration||1,setValue:e.pe.setValue||.2,ipr:e.pe.ipr||10,u:e.pe.u||12,buzzer:e.pe.buzzer||0,directConnection:0,startOnTouch:1,multi:0,setProbe:0,retries:0,cancelOnFailure:1,minSetValue:0},i={type:\"iso\",enabled:!0,label:\"MAXOS ISO\",startTime:e.iso.startTime||0,duration:e.iso.duration||1,mode:e.iso.mode||0,setValue:e.iso.setValue||2,u:e.iso.u||500,rMax:e.iso.rMax||0,ramp:e.iso.ramp||0,probe:0,connection:1,retries:0,cancelOnFailure:1,multi:0,minSetValue:0},s=[glp2.PeTest.fromObject(r),glp2.IsoTest.fromObject(i)];return t&&s.push(glp2.PeTest.fromObject(Object.assign({},r,{label:\"MAXOS PE 2\"}))),s});","node_modules/glp2/lib/constants.js":"\"use strict\";var CHR=require(\"./util\").CHR;exports.TestEvaluation={SUCCESS:\"IO\",FAILURE:\"NIO\"},exports.ResponseType={ACTUAL_VALUES:CHR.IST,SELF_TESTS_ACTUAL_VALUES:CHR.SEL,ORDER_DATA_DEMAND:CHR.AUF,INTERIM_ACTUAL_VALUES:CHR.SAMP,DEVICE_OPTIONS:CHR.OPT},exports.FaultStatus={SAFETY_CONTACT_INTERRUPTED:1,FUSE_DEFECTIVE:2,NO_TEST_STEP_DEFINED:3,VOLTAGE_SUBSTITUTE_LEAKAGE_CURRENT_NOT_OK:4,SHORT_CIRCUIT_AT_TEST_OBJECT:5,ERROR_AT_VOLTAGE_CONTROL:6,DATA_ERROR:7,BELOW_MINIMUM_CURRENT_AT_LKC:8,CANCELLED:9,BELOW_MIN_VOLTAGE_HV:10,MAX_VOLTAGE_HV_EXCEEDED:11,BELOW_MIN_CURRENT_HV:12,COMMUNICATION_ERROR_AT_HV_ELECTRONICS:13,HV_VOLTAGE_CHECK_FAILED:14,TEST_PROGRAM_DOES_NOT_EXIST:15,ADJUSTING_ERROR_AT_HV_TEST:16,U_MAX_FUSE_OF_LEAKAGE_CURRENT_TEST_EN60601_HAS_TRIGGERED:17,TEST_OBJECT_STILL_UNDER_VOLTAGE:18,MAINS_PLUG_TWISTED:19,PE_OF_MAINS_LEAD_IS_MISSING:20,LPT1_PRINTER_ERROR:21,KEY_SWITCH_HV_DISABLED:22,THERMO_SWITCH_OF_HV_HAS_TRIGGERED:23,UNIT_IS_NOT_OPERATIONAL:24,MAX_PRIMARY_CURRENT_OF_HV_TEST:25,MISSING_OR_INCORRECT_EXTERNAL_FCT_VOLTAGE_PHASE:26,PROTECTION_COVER_CLOSING_ERROR:27,NO_TEST_OBJECT:28,TEST_SEQUENCE_ERROR:29,TEMPERATURE_REGULATION_TEST_ERROR:30,FI_REFERENCE_TEST_ERROR:31},exports.OnOff={OFF:0,ON:1},exports.TransmittingMode={COMPLETE_TESTS:0,SINGLE_TESTS:1},exports.GoSwitchAtVisualCheck={START:0,FOOT:1,PROBE:2,E1:3,E2:4},exports.PeDisplay={OHM:0,VOLT:1},exports.PeSetValues={NORMAL:0,PROBE:1},exports.StartSafetySwitch={OFF:0,HV:1,LV:2,HV_LV:3},exports.CnfFunction={OFF:0,PE_TOUCH:1,LN_TOUCH:2,BUZZER:3},exports.SelfTest={POWER_ON:0,DATE_CHANGE:1,OFF:2},exports.HvProcess={STOP_BEFORE_TEST:0,AUTOMATIC:1},exports.AddProtocolNumber={NEVER:0,ADD_GO:1,ADD_NO_GO:2,ALWAYS:3},exports.RemoteControl={OFF:0,PARTIAL:1,FULL:2},exports.OrderInputs={OFF:0,LOAD:1,SEND:2},exports.TestStepDisplay={SET_VALUES:0,DEFINITIONS:1,CONNECTIONS:2},exports.ActualValueData={STANDARD_PROTOCOL:0,EXTRA_RESULTS:1,WITH_DEFINITIONS:2};","node_modules/glp2/lib/util.js":"\"use strict\";var util=require(\"util\"),transliteration=require(\"transliteration\"),constants=require(\"./constants\"),DATE_VALUE_RE=/^([0-9]{2})\\.([0-9]{2})\\.([0-9]{2})_([0-9]{2}):([0-9]{2}):([0-9]{2})$/,VALUE_AND_UNIT_RE=/^(<|>)?([0-9]+)(?:\\.([0-9]+))?([A-Za-z]+)?$/,FAULT_STATUS_TO_TEXT=null;exports.inherits=util.inherits,exports.format=util.format,exports.CHR={0:\"NUL\",NUL:0,1:\"SOH\",SOH:1,2:\"STX\",STX:2,3:\"ETX\",ETX:3,4:\"EOT\",EOT:4,5:\"ENQ\",ENQ:5,6:\"ACK\",ACK:6,7:\"BEL\",BEL:7,8:\"BS\",BS:8,9:\"TAB\",TAB:9,10:\"LF\",LF:10,11:\"VT\",VT:11,12:\"FF\",FF:12,13:\"CR\",CR:13,14:\"SO\",SO:14,15:\"SI\",SI:15,16:\"DLE\",DLE:16,17:\"DC1\",DC1:17,18:\"DC2\",DC2:18,19:\"DC3\",DC3:19,20:\"DC4\",DC4:20,21:\"NAK\",NAK:21,22:\"SYN\",SYN:22,23:\"ETB\",ETB:23,24:\"CAN\",CAN:24,25:\"EM\",EM:25,26:\"SUB\",SUB:26,27:\"ESC\",ESC:27,28:\"FS\",FS:28,29:\"GS\",GS:29,30:\"RS\",RS:30,31:\"US\",US:31,SPACE:32,127:\"DEL\",DEL:127,244:\"Ω\",246:\"LIST\",LIST:246,247:\"TYP\",TYP:247,248:\"SAMP\",SAMP:248,249:\"DAT\",DAT:249,250:\"EMP\",EMP:250,251:\"AUF\",AUF:251,253:\"OPT\",OPT:253,254:\"SEL\",SEL:254,255:\"IST\",IST:255},exports.getFaultText=function(t){if(0===t)return\"\";null===FAULT_STATUS_TO_TEXT&&(FAULT_STATUS_TO_TEXT={},Object.keys(require(\"./constants\").FaultStatus).forEach(function(t){FAULT_STATUS_TO_TEXT[constants.FaultStatus[t]]=t}));var e=FAULT_STATUS_TO_TEXT[t];return void 0===e?\"F_\"+t:e},exports.validateNumber=function(t,e,r,n){if(\"number\"!=typeof e||isNaN(e)||e<r||e>n)throw new Error(util.format(\"Invalid `%s`. Expected a number between `%s` and `%s`, got: `%s`.\",t,r,n,e))},exports.validateEnum=function(t,e,r){if(-1===r.indexOf(e))throw new Error(util.format(\"Invalid `%s`. Expected one of the following values: `%s`, got: `%s`.\",t,r.join(\"`, `\"),e))},exports.validateBool=function(t,e){this.validateEnum(t,e,[0,1,\"0\",\"1\",!0,!1])},exports.bool=function(t){return!0===t||1===t||\"1\"===t?1:0},exports.prettifyBuffer=function(t){for(var e=\"\",r=0;r<t.length;++r){var n=t[r];void 0!==exports.CHR[n]?e+=\"<\"+exports.CHR[n]+\">\":e+=n>=128?\"<0x\"+n.toString(16).toUpperCase()+\">\":String.fromCharCode(n)}return e},exports.encodeStringValue=function(t){return t=t.replace(/\\*|_/g,\" \").trim().replace(/\\s+/g,\"*\"),(t=transliteration.transliterate(t,{unknown:\"?\"})).length>32&&(t=t.substr(0,32)),t},exports.decodeStringValue=function(t){return\"string\"==typeof t?t.replace(/\\*+/g,\" \").trim():\"\"},exports.decodeDateValue=function(t){var e=(\"string\"==typeof t?t:\"\").match(DATE_VALUE_RE);return null===e?new Date(0):new Date(2e3+parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),parseInt(e[6],10),0)},exports.decodeOrderDataValue=function(t){return exports.decodeStringValue(t).split(\"_\")},exports.decodeValueAndUnit=function(t){var e=(\"string\"==typeof t?t:\"\").replace(\"�\",\"OHM\").match(VALUE_AND_UNIT_RE);if(null===e)return{value:0,unit:\"\"};var r=parseInt(e[2],10),n=parseInt(e[3]||\"0\",10),o=(e[4]||\"\").replace(\"OHM\",\"?\"),a=r;return n>0&&(a+=\".\"+e[3]),{value:parseFloat(a),unit:o}},exports.decodeResponseBuffer=function(t){return t.slice(4,-3).toString(\"utf8\").trim().replace(/\\s+/g,\" \").split(\" \")};","node_modules/glp2/lib/BusyTesterError.js":"\"use strict\";var util=require(\"./util\");module.exports=BusyTesterError;function BusyTesterError(){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=\"GLP2:BUSY_TESTER\",this.message=\"Test is in progress or Blackbox test is required.\"}util.inherits(BusyTesterError,Error);","node_modules/glp2/lib/InvalidChecksumError.js":"\"use strict\";var util=require(\"./util\");module.exports=InvalidChecksumError;function InvalidChecksumError(r,t){Error.captureStackTrace(this,this.constructor);var e=2===arguments.length?String.fromCharCode(r[r.length-3])+String.fromCharCode(r[r.length-2]):null;this.buffer=r,this.name=this.constructor.name,this.code=\"GLP2:INVALID_CHECKSUM\",this.message=null===e?\"Invalid request checksum.\":util.format(\"Invalid checksum. Expected `0x%s`, calculated `0x%s` from: `%s`\",e,t,util.prettifyBuffer(r))}util.inherits(InvalidChecksumError,Error);","node_modules/glp2/lib/InvalidParametersError.js":"\"use strict\";var util=require(\"./util\");module.exports=InvalidParametersError;function InvalidParametersError(r){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=\"GLP2:INVALID_PARAMETERS\",this.message=r}util.inherits(InvalidParametersError,Error);","node_modules/glp2/lib/InvalidResponseError.js":"\"use strict\";var util=require(\"./util\");module.exports=InvalidResponseError;function InvalidResponseError(r){Error.captureStackTrace(this,this.constructor),this.responseBuffer=Buffer.isBuffer(r)?r:r.readBuffer(0,r.length),this.name=this.constructor.name,this.code=\"GLP2:INVALID_RESPONSE\",this.message=\"Invalid response: \"+util.prettifyBuffer(this.responseBuffer)}util.inherits(InvalidResponseError,Error);","node_modules/glp2/lib/NoConnectionError.js":"\"use strict\";var util=require(\"./util\");module.exports=NoConnectionError;function NoConnectionError(){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=\"GLP2:NO_CONNECTION\",this.message=\"No serial port connection.\"}util.inherits(NoConnectionError,Error);","node_modules/glp2/lib/ResponseTimeoutError.js":"\"use strict\";var util=require(\"./util\");module.exports=ResponseTimeoutError;function ResponseTimeoutError(){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=\"GLP2:RESPONSE_TIMEOUT\",this.message=\"Response timeout.\"}util.inherits(ResponseTimeoutError,Error);","node_modules/glp2/lib/Master.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,SerialPort=require(\"serialport\").SerialPort,BufferQueueReader=require(\"h5.buffers\").BufferQueueReader,util=require(\"./util\"),constants=require(\"./constants\"),NoConnectionError=require(\"./NoConnectionError\"),InvalidParametersError=require(\"./InvalidParametersError\"),ResponseTimeoutError=require(\"./ResponseTimeoutError\"),InvalidResponseError=require(\"./InvalidResponseError\"),InvalidChecksumError=require(\"./InvalidChecksumError\"),BusyTesterError=require(\"./BusyTesterError\"),PeTest=require(\"./PeTest\"),IsoTest=require(\"./IsoTest\"),FctTest=require(\"./FctTest\"),VisTest=require(\"./VisTest\"),ActualValuesResponse=require(\"./ActualValuesResponse\"),OrderDataDemandResponse=require(\"./OrderDataDemandResponse\"),InterimActualValuesResponse=require(\"./InterimActualValuesResponse\"),DeviceOptionsResponse=require(\"./DeviceOptionsResponse\");module.exports=Master;var DEFAULT_COM_PORT=\"COM1\",DEFAULT_ADDRESS=1,DEFAULT_PROGRAM_NAME=\"TEST\",DEFAULT_RESPONSE_TIMEOUT=1e3,DEFAULT_REQUEST_DELAY=200,PARAMETERS={transmittingMode:[1,constants.TransmittingMode],goSwitchAtVisualCheck:[2,constants.GoSwitchAtVisualCheck],noGoSwitchAtVisualCheck:[3,constants.GoSwitchAtVisualCheck],peMultiTest:[4,constants.OnOff],peDisplay:[5,constants.PeDisplay],repeatIfNoGo:[6,[0,5]],peSetValues:[7,constants.PeSetValues],leaveOnFctAtThreePhaseDevice:[8,constants.OnOff],startProbe:[9,constants.OnOff],startSafetySwitch:[10,constants.StartSafetySwitch],safetySwitch:[11,constants.OnOff],cntFunction:[12,constants.CnfFunction],completeDisplay:[13,constants.OnOff],noGoBuzzer:[14,constants.OnOff],currentWithoutPassword:[15,constants.OnOff],selfTest:[16,constants.SelfTest],hvBuzzer:[17,constants.OnOff],hvFootSwitch:[18,constants.OnOff],hvProcess:[19,constants.HvProcess],hvMultiTest:[20,constants.OnOff],shortCircuitResistance:[21,[0,100]],inputOfTwoTypes:[22,constants.OnOff],printProtocolNumber:[23,constants.OnOff],addProtocolNumber:[24,constants.AddProtocolNumber],withInputOfSerialNumber:[25,constants.OnOff],storeSetValuesOnline:[26,constants.OnOff],combineSteps:[27,constants.OnOff],withHvGraphicsDisplay:[28,constants.OnOff],withBarcodeInput:[29,constants.OnOff],remoteControl:[30,constants.RemoteControl],indicateConnections:[31,constants.OnOff],enterNameOfOperator:[32,constants.OnOff],peBuzzer:[33,constants.OnOff],fctUTolerance:[34,[0,100]],orderInputs:[35,constants.OrderInputs],hvRelease:[36,constants.OnOff],testStepDisplay:[37,constants.TestStepDisplay],sampleTime:[38,[250,6e4]],actualValueData:[39,constants.ActualValueData]};function Master(e){EventEmitter.call(this),\"object\"==typeof e&&null!==e||(e={}),e.createSerialPort&&(this.createSerialPort=e.createSerialPort),this.comPort=e.comPort||DEFAULT_COM_PORT,this.address=128+(e.address||DEFAULT_ADDRESS),this.defaultProgramName=e.defaultProgramName||DEFAULT_PROGRAM_NAME,this.responseTimeout=e.responseTimeout||DEFAULT_RESPONSE_TIMEOUT,this.requestDelay=e.requestDelay||DEFAULT_REQUEST_DELAY,this.serialPort=null,this.incomingData=new BufferQueueReader,this.nextRequestId=0,this.currentRequest=null,this.requestQueue=[],this.currentParameters={},this.currentParametersString=\"\",this.lastResponseAt=0,this.sendRequestTimer=null}util.inherits(Master,EventEmitter),Master.prepareParameters=function(e){var t=Object.keys(e||{});if(0===t.length)throw new InvalidParametersError(\"No parameters specified.\");for(var s={},r=0;r<t.length;++r){var n=t[r],i=PARAMETERS[n];if(!i)throw new InvalidParametersError(util.format(\"Unknown parameter: `%s`.\",n));var o=e[n],a=typeof o;if(\"number\"!==a&&\"string\"!==a)throw new InvalidParametersError(util.format(\"Expected a value of type `number` or `string` for `%s`, but got `%s`.\",n,a));var u,l=i[1];if(Array.isArray(l)){if(u=Math.floor(o),o<l[0]||o>l[1])throw new InvalidParametersError(util.format(\"`%s`s value is out of bounds: %s <= %s <= %s.\",n,l[0],o,l[1]))}else if(/^[0-9]+$/.test(o)){for(var c=Object.keys(l),h=0;h<c.length;++h)if(l[c[h]]===o){u=o;break}}else{var p=o.toUpperCase();if(void 0===l[p])throw new InvalidParametersError(util.format(\"Unknown value for `%s`: `%s`.\",n,o));u=l[p]}if(void 0===u)throw new InvalidParametersError(util.format(\"Invalid value for `%s`: `%s`.\",n,o));s[i[0]]=u}return s},Master.prototype.open=function(){null===this.serialPort&&(this.serialPort=this.createSerialPort(this.comPort,{baudRate:9600,parity:\"none\",dataBits:8,stopBits:1},!1),this.serialPort.on(\"open\",this.emit.bind(this,\"open\")),this.serialPort.on(\"error\",this.emit.bind(this,\"error\")),this.serialPort.on(\"data\",this.onData.bind(this)),this.serialPort.on(\"close\",this.onClose.bind(this)),this.serialPort.open())},Master.prototype.close=function(){null!==this.serialPort&&this.serialPort.close()},Master.prototype.send=function(e,t,s){if(null===this.serialPort)return s(new NoConnectionError,null);void 0===s&&(s=t,t=this.handleResponseBuffer.bind(this)),this.requestQueue.push({requestId:++this.nextRequestId,requestBuffer:e,responseHandler:t,done:s,timer:null}),this.sendNextRequest()},Master.prototype.getDeviceOptions=function(e){this.send(new Buffer([util.CHR.STX,this.address,util.CHR.OPT]),this.handleGetActualValuesResponse.bind(this),e)},Master.prototype.beep=function(e){this.sendDataString(\"b\",e)},Master.prototype.removeCounters=function(e){this.sendDataString(\"h\",e)},Master.prototype.startTest=function(e){this.sendDataString(\"s\",e)},Master.prototype.cancelTest=function(e){this.sendDataString(\"&break\",e)},Master.prototype.ackVisTest=function(e,t){this.sendDataString(e?\"&sprio\":\"&sprnio\",t)},Master.prototype.validateParameters=function(e){try{Master.prepareParameters(e)}catch(e){return!1}return!0},Master.prototype.setParameters=function(e,t){try{e=Master.prepareParameters(e)}catch(e){return setImmediate(t,e)}var s=\"\";Object.keys(e).forEach(function(t){s+=\"P\"+t+\"_\"+e[t]+\" \"}),this.currentParameters=e,this.currentParametersString=s,s+=\"n\",this.sendDataString(s,t)},Master.prototype.getActualValues=function(e){var t=new Buffer([util.CHR.STX,this.address,util.CHR.ACK]),s=this.handleGetActualValuesResponse.bind(this);this.send(t,s,e)},Master.prototype.removeTestResults=function(e){this.sendDataString(\"&clearres\",e)},Master.prototype.removeTestPrograms=function(e){this.sendDataString(\"Q n\",e)},Master.prototype.setTestProgram=function(e,t,s){var r=\"Q \"+this.currentParametersString+\"T_\"+util.encodeStringValue(e||this.defaultProgramName)+\" \"+t.map(function(e,t){return e.toString(t+1)}).join(\" \")+\"n\";this.sendDataString(r,s)},Master.prototype.setPeTestProgram=function(e,t,s){this.setTestProgram(e,[PeTest.fromObject(t)],s)},Master.prototype.setIsoTestProgram=function(e,t,s){this.setTestProgram(e,[IsoTest.fromObject(t)],s)},Master.prototype.setFctTestProgram=function(e,t,s){this.setTestProgram(e,[FctTest.fromObject(t)],s)},Master.prototype.setVisTestProgram=function(e,t,s){this.setTestProgram(e,[VisTest.fromObject(t)],s)},Master.prototype.createSerialPort=function(e,t,s){return new SerialPort(e,t,s)},Master.prototype.sendDataString=function(e,t){this.send(this.frameDataString(e),this.handleSendDataResponse.bind(this),t)},Master.prototype.frameDataString=function(e){for(var t=[util.CHR.STX,this.address,util.CHR.EMP],s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t[t.length-1]!==util.CHR.SPACE&&t.push(util.CHR.SPACE),this.appendChecksum(t),t.push(util.CHR.ETX),new Buffer(t)},Master.prototype.generateChecksum=function(e,t){for(var s=0,r=0;r<t;++r)s^=e[r];return(s<16?\"0\":\"\")+s.toString(16).toUpperCase()},Master.prototype.appendChecksum=function(e){var t=this.generateChecksum(e,e.length);e.push(t.charCodeAt(0),t.charCodeAt(1))},Master.prototype.checkChecksum=function(e){var t=this.generateChecksum(e,e.length-3);if(t.charCodeAt(0)!==e[e.length-3]||t.charCodeAt(1)!==e[e.length-2])throw new InvalidChecksumError(e,t)},Master.prototype.onClose=function(){null!==this.serialPort&&(this.serialPort.removeAllListeners(),this.serialPort.on(\"error\",function(){}),this.serialPort=null),null!==this.sendRequestTimer&&(clearTimeout(this.sendRequestTimer),this.sendRequestTimer=null);var e=new NoConnectionError;this.handleResponse(e,null);for(var t=0;t<this.requestQueue.length;++t)this.requestQueue[t].done(e,null);this.requestQueue=[],this.emit(\"close\")},Master.prototype.onData=function(e){this.emit(\"rx\",e),this.incomingData.push(e),this.handleIncomingData()},Master.prototype.handleIncomingData=function(){if(0!==this.incomingData.length){if(null===this.currentRequest)return this.incomingData.skip();var e=null;try{e=this.currentRequest.responseHandler()}catch(e){return this.incomingData.skip(),this.handleResponse(e,null)}return 0===this.incomingData.length?this.handleResponse(null,e):void 0}},Master.prototype.sendNextRequest=function(){if(null===this.currentRequest&&0!==this.requestQueue.length){this.currentRequest=this.requestQueue.shift();var e=Date.now()-this.lastResponseAt;e<this.requestDelay?this.sendRequestTimer=setTimeout(t,this.requestDelay-e,this):setImmediate(t,this)}function t(e){e.sendRequestTimer=null,null!==e.currentRequest&&(e.currentRequest.timer=setTimeout(e.handleResponseTimeout.bind(e),e.responseTimeout),e.emit(\"tx\",e.currentRequest.requestBuffer),null!==e.serialPort&&e.serialPort.write(e.currentRequest.requestBuffer),e.emit(\"request\",e.currentRequest))}},Master.prototype.handleResponse=function(e,t){this.incomingData.length>0&&this.incomingData.skip();var s=this.currentRequest;null!==s&&(this.lastResponseAt=Date.now(),this.currentRequest=null,clearTimeout(s.timer),s.timer=null,this.emit(\"response\",s,e,t),s.done(e,t),this.sendNextRequest())},Master.prototype.handleResponseTimeout=function(){this.handleResponse(new ResponseTimeoutError,null)},Master.prototype.handleResponseBuffer=function(){return this.incomingData.readByte(this.incomingData.length-1)===util.CHR.ETX?this.incomingData.shiftBuffer(this.incomingData.length):null},Master.prototype.handleSendDataResponse=function(){if(1!==this.incomingData.length)throw new InvalidResponseError(this.incomingData);switch(this.incomingData.readByte(0)){case util.CHR.ACK:return this.incomingData.skip(),null;case util.CHR.NAK:throw new InvalidChecksumError;case util.CHR.BEL:throw new BusyTesterError;default:throw new InvalidResponseError(this.incomingData)}},Master.prototype.handleGetActualValuesResponse=function(){if(1===this.incomingData.length){if(this.incomingData.readByte(0)===util.CHR.NAK)return this.incomingData.skip(),null;throw new InvalidResponseError(this.incomingData)}if(this.incomingData.readByte(0)!==util.CHR.ACK)throw new InvalidResponseError(this.incomingData);if(this.incomingData.readByte(this.incomingData.length-1)!==util.CHR.ETX)return null;var e=this.incomingData.shiftBuffer(this.incomingData.length);if(e[1]!==util.CHR.SYN||e[2]!==this.address)throw new InvalidResponseError(this.incomingData);switch(this.checkChecksum(e),e[3]){case constants.ResponseType.ACTUAL_VALUES:return ActualValuesResponse.fromResponseBuffer(constants.ResponseType.ACTUAL_VALUES,e);case constants.ResponseType.SELF_TESTS_ACTUAL_VALUES:return ActualValuesResponse.fromResponseBuffer(constants.ResponseType.SELF_TESTS_ACTUAL_VALUES,e);case constants.ResponseType.ORDER_DATA_DEMAND:return OrderDataDemandResponse.fromResponseBuffer(e);case constants.ResponseType.INTERIM_ACTUAL_VALUES:return InterimActualValuesResponse.fromResponseBuffer(e);case constants.ResponseType.DEVICE_OPTIONS:return DeviceOptionsResponse.fromResponseBuffer(e);default:throw new InvalidResponseError(e)}};","node_modules/glp2/lib/ActualValuesResponse.js":"\"use strict\";var util=require(\"./util\"),InvalidResponseError=require(\"./InvalidResponseError\"),Response=require(\"./Response\"),DefaultTestResult=require(\"./DefaultTestResult\"),VisTestResult=require(\"./VisTestResult\"),HvTestResult=require(\"./HvTestResult\");module.exports=ActualValuesResponse;var STEP_NUMBER_RE=/^[0-9]{3}$/,MESSAGE_COUNTER_RE=/^x[A-Fa-f0-9]{2}$/,METADATA_RE=/^(NUM|SN|NAME|PR|F|DA|ST|ORDER)_(.*?)$/,METADATA_PROPERTIES={NUM:\"counter\",SN:\"serialNumber\",NAME:\"programName\",PR:\"operatorName\",F:\"faultStatus\",DA:\"date\",ST:\"testStation\",ORDER:\"orderData\"},TEST_METHOD_TO_RESULT={PE:DefaultTestResult,ISO:DefaultTestResult,FKT:DefaultTestResult,ABL:DefaultTestResult,RSP:DefaultTestResult,ERS:DefaultTestResult,R:DefaultTestResult,HV:HvTestResult,SPR:VisTestResult};function ActualValuesResponse(e,t,s,a,r,u,l,i,n,R,o,T){Response.call(this,e),this.steps=t,this.completed=s,this.counter=a,this.serialNumber=r,this.programName=u,this.operatorName=l,this.faultStatus=i,this.faultText=util.getFaultText(i),this.date=n,this.testStation=R,this.orderData=o,this.messageCounter=T}util.inherits(ActualValuesResponse,Response),ActualValuesResponse.fromResponseBuffer=function(e,t){var s=util.decodeResponseBuffer(t);if(0===s.length)throw new InvalidResponseError(t);for(var a=[],r=!1,u=-1,l=\"\",i=\"\",n=\"\",R=0,o=null,T=-1,E=null,f=-1;s.length;){var p=s.shift();if(\"END\"===p){r=!0;break}if(STEP_NUMBER_RE.test(p))a.push(parseTestStepData(+p,s,t));else if(MESSAGE_COUNTER_RE.test(p))f=parseInt(\"0\"+p,16);else{var S=p.match(METADATA_RE);if(null!==S){var c=METADATA_PROPERTIES[S[1]],D=S[2];switch(c){case\"counter\":u=parseInt(D,10)||-1;break;case\"faultStatus\":R=parseInt(D,10)||-1;break;case\"testStation\":T=parseInt(D,10)||-1;break;case\"SN\":l=util.decodeStringValue(D);break;case\"NAME\":i=util.decodeStringValue(D);break;case\"PR\":n=util.decodeStringValue(D);break;case\"DA\":o=util.decodeDateValue(D);break;case\"ORDER\":E=util.decodeOrderDataValue(D)}}}}return null===o&&(o=new Date(0)),null===E&&(E=[]),new ActualValuesResponse(e,a,r,u,l,i,n,R,o,T,E,f)};function parseTestStepData(e,t,s){if(isNaN(e)||e<1||t.length<3)throw new InvalidResponseError(s);var a=t.shift(),r=TEST_METHOD_TO_RESULT[a];if(void 0===r)throw new InvalidResponseError(s);var u=r.fromResponseData(a,e,t);if(null===u)throw new InvalidResponseError(s);return u}","node_modules/glp2/lib/DeviceOptionsResponse.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),Response=require(\"./Response\");module.exports=DeviceOptionsResponse;function DeviceOptionsResponse(e){Response.call(this,constants.ResponseType.DEVICE_OPTIONS),this.deviceOptions=e}util.inherits(DeviceOptionsResponse,Response),DeviceOptionsResponse.fromResponseBuffer=function(e){return new DeviceOptionsResponse(util.decodeResponseBuffer(e).join(\" \").split(\"_\").filter(function(e){return e.length>0}))},DeviceOptionsResponse.prototype.getSoftwareVersion=function(){for(var e=/^V[0-9]\\.[0-9]+$/,s=0;s<this.deviceOptions.length;++s){var n=this.deviceOptions[s];if(e.test(n))return parseFloat(n.substring(1))}return NaN};","node_modules/glp2/lib/InterimActualValuesResponse.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),InvalidResponseError=require(\"./InvalidResponseError\"),Response=require(\"./Response\");module.exports=InterimActualValuesResponse;function InterimActualValuesResponse(e,s,t,n,i,r,u){Response.call(this,constants.ResponseType.INTERIM_ACTUAL_VALUES),this.stepNumber=e,this.time=s,this.value1=t,this.unit1=n,this.value2=i,this.unit2=r,this.messageCounter=u}util.inherits(InterimActualValuesResponse,Response),InterimActualValuesResponse.fromResponseBuffer=function(e){var s=util.decodeResponseBuffer(e);if(s.length<4)throw new InvalidResponseError(e);var t=parseInt(s.shift(),10),n=util.decodeValueAndUnit(s.shift()),i=util.decodeValueAndUnit(s.shift()),r=parseInt(s.shift(),10);if(isNaN(t)||isNaN(r))throw new InvalidResponseError(e);for(var u,o=0;o<s.length;++o)u=parseInt(\"0\"+s[o],16);return new InterimActualValuesResponse(t,r,n.value,n.unit,i.value,i.unit,\"number\"==typeof u?u:-1)};","node_modules/glp2/lib/OrderDataDemandResponse.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),Response=require(\"./Response\");module.exports=OrderDataDemandResponse;function OrderDataDemandResponse(e){Response.call(this,constants.ResponseType.ORDER_DATA_DEMAND),this.orderData=e}util.inherits(OrderDataDemandResponse,Response),OrderDataDemandResponse.fromResponseBuffer=function(e){return new OrderDataDemandResponse(util.decodeResponseBuffer(e).map(util.decodeStringValue))};","node_modules/glp2/lib/ProgramStep.js":"\"use strict\";var util=require(\"./util\");module.exports=ProgramStep;function ProgramStep(t){if(t.step||(t.step=1),util.validateNumber(\"step\",t.step,1,254),this.label=(\"string\"==typeof t.label?t.label:\"\").trim(),this.label.length>32)throw new Error(\"Label's max length exceeded. Expected at most 32 characters, got: : \"+this.label.length);this.step=Math.floor(t.step)}ProgramStep.prototype.getTotalTime=function(){return 0},ProgramStep.prototype.serializeCommand=function(){return\"\"},ProgramStep.prototype.toString=function(t){var e=this.serializeCommand(t);return\" \"!==e.charAt(e.length-1)&&(e+=\" \"),this.label.length>0&&(e+=\"D\"+(t||this.step)+\"_\"+util.encodeStringValue(this.label)+\" \"),e};","node_modules/glp2/lib/PeTest.js":"\"use strict\";var util=require(\"./util\"),ProgramStep=require(\"./ProgramStep\");module.exports=PeTest;function PeTest(t){ProgramStep.call(this,t),util.validateNumber(\"setValue\",t.setValue,.01,3),util.validateNumber(\"duration\",t.duration,0,60),util.validateBool(\"directConnection\",t.directConnection),util.validateBool(\"startOnTouch\",t.startOnTouch),util.validateNumber(\"ipr\",t.ipr,10,30),util.validateBool(\"multi\",t.multi),util.validateEnum(\"u\",t.u,[6,12]),util.validateBool(\"buzzer\",t.buzzer),util.validateBool(\"setProbe\",t.setProbe),util.validateNumber(\"retries\",t.retries,0,5),util.validateBool(\"cancelOnFailure\",t.cancelOnFailure),util.validateBool(\"enabled\",t.enabled),util.validateNumber(\"minSetValue\",t.minSetValue,0,2),this.setValue=Math.round(100*t.setValue)/100,this.duration=t.duration,this.directConnection=util.bool(t.directConnection),this.startOnTouch=util.bool(t.startOnTouch),this.ipr=Math.floor(t.ipr),this.multi=util.bool(t.multi),this.u=12===t.u?1:0,this.buzzer=util.bool(t.buzzer),this.setProbe=util.bool(t.setProbe),this.retries=Math.floor(t.retries),this.cancelOnFailure=util.bool(t.cancelOnFailure),this.enabled=util.bool(t.enabled),this.minSetValue=Math.round(100*t.minSetValue)/100}util.inherits(PeTest,ProgramStep),PeTest.fromObject=function(t){return t instanceof PeTest?t:new PeTest(t)},PeTest.prototype.getTotalTime=function(){return 1e3*this.duration},PeTest.prototype.serializeCommand=function(t){return\"S9-\"+[t||this.step,this.setValue.toFixed(2),Math.floor(1e3*this.duration),this.directConnection,this.startOnTouch,this.ipr,this.multi,this.u,this.buzzer,this.setProbe,this.retries,this.cancelOnFailure,this.enabled?0:1,this.minSetValue.toFixed(2)].join(\"_\")};","node_modules/glp2/lib/IsoTest.js":"\"use strict\";var util=require(\"./util\"),ProgramStep=require(\"./ProgramStep\");module.exports=IsoTest;var SET_VALUE_BOUNDRIES={0:[1,500,10],1:[.001,3,1e3],2:[10,1e3,1]},MAX_MIN_SET_VALUE={0:[0,1],1:[3,1e3],2:[1e3,1]};function IsoTest(t){ProgramStep.call(this,t);var e=SET_VALUE_BOUNDRIES[t.mode],i=MAX_MIN_SET_VALUE[t.mode];util.validateEnum(\"mode\",t.mode,[0,1,2]),util.validateNumber(\"setValue\",t.setValue,e[0],e[1]),util.validateNumber(\"duration\",t.duration,0,60),util.validateBool(\"probe\",t.probe),util.validateNumber(\"connection\",t.connection,0,17),util.validateNumber(\"u\",t.u,100,1e3),util.validateNumber(\"rMax\",t.rMax,0,500),util.validateNumber(\"startTime\",t.startTime,0,60),util.validateNumber(\"retries\",t.retries,0,5),util.validateBool(\"cancelOnFailure\",t.cancelOnFailure),util.validateBool(\"enabled\",t.enabled),util.validateBool(\"multi\",t.multi),util.validateNumber(\"ramp\",t.ramp,0,60),util.validateNumber(\"minSetValue\",t.minSetValue,0,i[0]),this.setValue=Math.round(t.setValue*e[2])/e[2],this.duration=t.duration,this.probe=util.bool(t.probe),this.connection=Math.floor(t.connection),this.u=Math.floor(t.u),this.rMax=Math.floor(t.rMax),this.startTime=t.startTime,this.buzzer=0,this.retries=Math.floor(t.retries),this.cancelOnFailure=util.bool(t.cancelOnFailure),this.enabled=util.bool(t.enabled),this.multi=util.bool(t.multi),this.ramp=t.ramp,this.mode=t.mode,this.minSetValue=Math.round(t.minSetValue*i[1])/i[1]}util.inherits(IsoTest,ProgramStep),IsoTest.Mode={RESISTANCE:0,CURRENT:1,VARISTOR:2},IsoTest.Connection={PE1_PE2:0,LN_PE1_PE2:1,L1_N:2,L1_PE1:3,N_PE1:4,L1_PE2:5,N_PE2:6,LN_PE1:7,LN_PE2:8,L2_N:9,L1_L2:10,L3_N:11,L1_L3:12,L2_L3:13,L2_PE1:14,L2_PE2:15,L3_PE1:16,L3_PE2:17},IsoTest.fromObject=function(t){return t instanceof IsoTest?t:new IsoTest(t)},IsoTest.prototype.getTotalTime=function(){return 1e3*(this.startTime+this.duration)},IsoTest.prototype.serializeCommand=function(t){return\"I9-\"+[t||this.step,this.setValue.toFixed(Math.log10(SET_VALUE_BOUNDRIES[this.mode][2])),Math.floor(1e3*this.duration),this.probe,this.connection,this.u,this.rMax,Math.floor(1e3*this.startTime),this.buzzer,this.retries,this.cancelOnFailure,this.enabled?0:1,this.multi,Math.floor(1e3*this.ramp),this.mode,this.minSetValue.toFixed(Math.log10(MAX_MIN_SET_VALUE[this.mode][1]))].join(\"_\")};","node_modules/glp2/lib/FctTest.js":"\"use strict\";var util=require(\"./util\"),ProgramStep=require(\"./ProgramStep\");module.exports=FctTest;var SET_VALUE_BOUNDRIES={0:[.01,64,100],1:[1,15e3,10],2:[1,15e3,10],3:[.01,1,100],6:[20,300,1],7:[10,9999,1],8:[1,2,1]};function FctTest(e){ProgramStep.call(this,e);var t=SET_VALUE_BOUNDRIES[e.mode]||[0,0,1];util.validateEnum(\"mode\",e.mode,[0,1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),util.validateNumber(\"setValue\",e.setValue,t[0],t[1]),util.validateNumber(\"upperToleranceRel\",e.upperToleranceRel,0,100),util.validateNumber(\"startTime\",e.startTime,0,86400),util.validateNumber(\"duration\",e.duration,0,86400),util.validateEnum(\"execution\",e.execution,[0,1,2,4]),util.validateNumber(\"range\",e.range,0,65535),util.validateNumber(\"voltage\",e.voltage,0,400),util.validateNumber(\"lowerToleranceAbs\",e.lowerToleranceAbs,0,2*t[1]),util.validateNumber(\"upperToleranceAbs\",e.upperToleranceAbs,0,2*t[1]),util.validateBool(\"correction\",e.correction),util.validateBool(\"leaveOn\",e.leaveOn),util.validateNumber(\"uTolerance\",e.uTolerance,0,100),util.validateNumber(\"retries\",e.retries,0,5),util.validateNumber(\"lowerToleranceRel\",e.lowerToleranceRel,0,100),util.validateBool(\"cancelOnFailure\",e.cancelOnFailure),util.validateEnum(\"visMode\",e.visMode,[0,1]),util.validateNumber(\"goInput\",e.goInput,0,2e3),util.validateNumber(\"noGoInput\",e.noGoInput,0,2e3),util.validateBool(\"enabled\",e.enabled),util.validateEnum(\"rsvChannel\",e.rsvChannel,[0,1,2,3,4,5,6,7]),util.validateNumber(\"rsvNumber\",e.rsvNumber,1,100),util.validateBool(\"multi\",e.multi),util.validateEnum(\"trigger\",e.trigger,[0,1,2]),this.setValue=Math.round(e.setValue*t[2])/t[2],this.upperToleranceRel=Math.floor(e.upperToleranceRel),this.startTime=e.startTime,this.duration=e.duration,this.execution=e.execution,this.range=Math.floor(e.range),this.voltage=Math.floor(e.voltage),this.lowerToleranceAbs=Math.round(e.lowerToleranceAbs*t[2])/t[2],this.upperToleranceAbs=Math.round(e.upperToleranceAbs*t[2])/t[2],this.correction=util.bool(e.correction),this.mode=e.mode,this.leaveOn=util.bool(e.leaveOn),this.uTolerance=Math.floor(e.uTolerance),this.rMin=0,this.retries=Math.floor(e.retries),this.lowerToleranceRel=Math.floor(e.lowerToleranceRel),this.cancelOnFailure=util.bool(e.cancelOnFailure),this.visMode=e.visMode,this.goInput=Math.floor(e.goInput),this.noGoInput=Math.floor(e.noGoInput),this.enabled=util.bool(e.enabled),this.rsvChannel=e.rsvChannel,this.rsvNumber=Math.floor(e.rsvNumber),this.multi=util.bool(e.multi),this.trigger=e.trigger}util.inherits(FctTest,ProgramStep),FctTest.Mode={CURRENT:0,APPARENT_POWER:1,ACTIVE_POWER:2,COS_PHI:3,VISUAL_CHECK:5,RESIDUAL_VOLTAGE:6,RPM:7,SENSE_OF_ROTATION:8,ANALOG_0:9,ANALOG_1:10,ANALOG_2:11,ANALOG_3:12,ANALOG_4:13,ANALOG_5:14,ANALOG_6:15,ANALOG_7:16,ANALOG_8:17,ANALOG_9:18,ANALOG_10:19,ANALOG_11:20,ANALOG_12:21,ANALOG_13:22,ANALOG_14:23,ANALOG_15:24,FI:25},FctTest.Execution={AUTO:0,HOLD_START:1,STOP_BEFORE_TEST:2,STOP_AFTER_TEST:4},FctTest.VisMode={NORMAL:0,CONDITIONAL:1},FctTest.RsvChannel={L1_N:0,L1_PE:1,N_PE:2,L2_N:3,L1_L2:4,L3_N:5,L1_L3:6,L2_L3:7},FctTest.Trigger={START_TIME:0,STARTING_SIGNAL:1,MEASURED_VALUE:2},FctTest.fromObject=function(e){return e instanceof FctTest?e:new FctTest(e)},FctTest.prototype.getTotalTime=function(){return 1e3*(this.startTime+this.duration)},FctTest.prototype.serializeCommand=function(e){var t=Math.log10((SET_VALUE_BOUNDRIES[this.mode]||[0,0,1])[2]);return\"F9-\"+[e||this.step,this.setValue.toFixed(t),this.upperToleranceRel,Math.floor(1e3*this.startTime),Math.floor(1e3*this.duration),this.execution,this.range,this.voltage,this.upperToleranceAbs.toFixed(t),this.lowerToleranceAbs.toFixed(t),this.correction,this.mode,this.leaveOn,this.uTolerance,this.rMin,this.retries,this.lowerToleranceRel,this.cancelOnFailure,this.visMode,this.goInput,this.noGoInput,this.enabled?0:1,this.rsvChannel,this.rsvNumber,this.multi,this.trigger].join(\"_\")};","node_modules/glp2/lib/VisTest.js":"\"use strict\";var util=require(\"./util\"),ProgramStep=require(\"./ProgramStep\");module.exports=VisTest;function VisTest(t){ProgramStep.call(this,t),util.validateNumber(\"duration\",t.duration,0,60),util.validateNumber(\"goInput\",t.goInput,0,2e3),util.validateNumber(\"noGoInput\",t.noGoInput,0,2e3),util.validateBool(\"cancelOnFailure\",t.cancelOnFailure),util.validateEnum(\"mode\",t.mode,[0,1]),util.validateBool(\"enabled\",t.enabled),util.validateNumber(\"maxDuration\",t.maxDuration,0,86400),this.duration=Math.floor(t.duration),this.goInput=Math.floor(t.goInput),this.noGoInput=Math.floor(t.noGoInput),this.cancelOnFailure=util.bool(t.cancelOnFailure),this.mode=t.mode,this.enabled=util.bool(t.enabled),this.maxDuration=Math.floor(t.maxDuration)}util.inherits(VisTest,ProgramStep),VisTest.Mode={NORMAL:0,CONDITION:1},VisTest.fromObject=function(t){return t instanceof VisTest?t:new VisTest(t)},VisTest.prototype.getTotalTime=function(){return 1e3*this.maxDuration},VisTest.prototype.serializeCommand=function(t){return\"l\"+[t||this.step,Math.floor(1e3*this.duration),this.goInput,this.noGoInput,this.cancelOnFailure,this.mode,this.enabled?0:1,Math.floor(1e3*this.maxDuration)].join(\"_\")};","node_modules/glp2/lib/TestResult.js":"\"use strict\";module.exports=TestResult;function TestResult(t,e,s,i){this.testMethod=t,this.stepNumber=e,this.label=s,this.evaluation=i}","node_modules/glp2/lib/DefaultTestResult.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),TestResult=require(\"./TestResult\");module.exports=DefaultTestResult;function DefaultTestResult(t,e,s,l,a,u,i,n,r){TestResult.call(this,t,e,s,l),this.setValue=a,this.actualValue=u,this.setValue2=i,this.actualValue2=n,this.time=r}util.inherits(DefaultTestResult,TestResult),DefaultTestResult.fromResponseData=function(t,e,s){var l=s.shift(),a=s.shift();if(l=\"-----\"===l?0:parseFloat(l),a=\"-----\"===a?0:parseFloat(a),isNaN(l)||isNaN(a))return null;var u=-1,i=-1,n=-1,r=\"\",h=(s.shift()||\"\").split(\"_\"),o=h.shift()===constants.TestEvaluation.SUCCESS;return h.length>0&&(u=parseFloat(h.shift())),h.length>0&&(i=parseFloat(h.shift())),isNaN(u)||isNaN(i)?null:h.length>0&&(n=Math.round(1e3*parseFloat(h.shift())),isNaN(n))?null:(h.length>0&&(r=util.decodeStringValue(h.join(\"_\"))),new DefaultTestResult(t,e,r,o,l,a,u,i,n))};","node_modules/glp2/lib/HvTestResult.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),TestResult=require(\"./TestResult\");module.exports=HvTestResult;function HvTestResult(t,s,e,i,a,l,u,r){TestResult.call(this,\"HV\",t,s,e),this.testVoltage=i,this.maxCurrent=a,this.actualVoltage=l,this.actualCurrent=u,this.time=r}util.inherits(HvTestResult,TestResult),HvTestResult.fromResponseData=function(t,s,e){var i=parseFloat(e.shift()),a=parseFloat(e.shift()),l=parseFloat(e.shift()),u=parseFloat(e.shift());if(isNaN(i)||isNaN(a)||isNaN(l)||isNaN(u))return null;var r=-1,n=\"\",o=(e.shift()||\"\").split(\"_\"),h=o.shift()===constants.TestEvaluation.SUCCESS;return o.length>0&&(r=Math.round(1e3*parseFloat(o.shift())),isNaN(r))?null:(o.length>0&&(n=util.decodeStringValue(o.join(\"_\"))),new HvTestResult(s,n,h,i,a,l,u,r))};","node_modules/glp2/lib/VisTestResult.js":"\"use strict\";var util=require(\"./util\"),constants=require(\"./constants\"),TestResult=require(\"./TestResult\");module.exports=VisTestResult;function VisTestResult(t,s,e){TestResult.call(this,\"VIS\",t,s,e)}util.inherits(VisTestResult,TestResult),VisTestResult.fromResponseData=function(t,s,e){var i=(e.shift()||\"\").split(\"_\"),u=i.shift()===constants.TestEvaluation.SUCCESS;return new VisTestResult(s,util.decodeStringValue(i.join(\"_\")),u)};","node_modules/serialport/lib/serialport.js":"module.exports=function(){};","node_modules/h5.buffers/lib/index.js":"exports.BufferQueueReader=require(\"./BufferQueueReader\"),exports.BufferReader=require(\"./BufferReader\"),exports.BufferBuilder=require(\"./BufferBuilder\");","node_modules/h5.buffers/lib/BufferQueueReader.js":"\"use strict\";var toBits=require(\"./helpers\").toBits;function BufferQueueReader(){this.length=0,this.offset=0,this.buffers=[];for(var e=0,t=arguments.length;e<t;++e)this.push(arguments[e])}BufferQueueReader.prototype.push=function(){for(var e=0,t=arguments.length;e<t;++e){var r=arguments[e];if(!Buffer.isBuffer(r))throw new Error(\"The buffer must be an instance of Buffer.\");0!==r.length&&(this.buffers.push(r),this.length+=r.length)}},BufferQueueReader.prototype.skip=function(e){if(e=arguments.length?parseInt(e,10):this.length,isNaN(e)||e<0)throw new Error(\"The byte count must be a number greater than or equal to 0.\");e>this.length&&(e=this.length),this.offset+=e,this.length-=e;for(var t;this.buffers.length>0&&(t=this.buffers[0]).length<=this.offset;)this.buffers.shift(),this.offset-=t.length},BufferQueueReader.prototype.indexOf=function(e,t){if(e=parseInt(e,10),isNaN(e)||e<0||e>255)throw new Error(\"The search element must be a number between 0x00 and 0xFF.\");if(t=arguments.length>=2?parseInt(t,10):0,isNaN(t)||t<0||t>this.length)throw new Error(\"The search starting index must be a number between 0 and the reader's length.\");for(var r=this.offset+t,n=0,f=this.buffers[n];n<this.buffers.length&&r>=f.length;)r-=f.length,f=this.buffers[++n];for(var u=t;n<this.buffers.length;){if(f[r]===e)return u;u+=1,(r+=1)>=f.length&&(r=0,f=this.buffers[++n])}return-1},BufferQueueReader.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new Error(\"The target buffer must be an instance of Buffer.\");if(t=arguments.length>=2?parseInt(t,10):0,isNaN(t)||t<0||t>e.length)throw new Error(\"The target starting index must be a number greater than or equal to 0 and less than or equal to the target buffer's length.\");if(r=arguments.length>=3?parseInt(r,10):0,isNaN(r)||r<0||r>=this.length)throw new Error(\"The source starting index must be a number greater than or equal to 0 and less than the reader's length.\");if(n=arguments.length>=4?parseInt(n,10):this.length,isNaN(n)||n<1||n>this.length)throw new Error(\"The source ending index must be a number greater than 0 and less than or equal to the reader's length.\");if(r>=n)throw new Error(\"The source start index must be less than the source end index.\");for(var f,u=this.offset+r,s=0;(f=this.buffers[s++]).length<=u;)u-=f.length;var h=n-r;if(f.length>=u+h)return f.copy(e,t,u,u+h);for(var o=0;h;){var i=f.copy(e,t,u,Math.min(f.length,u+h));t+=i,o+=i,h-=i,(u+=i)>=f.length&&(u=0,f=this.buffers[s++])}return o},BufferQueueReader.prototype.shiftBits=function(e){return toBits(this.shiftBytes(Math.ceil(e/8)),e)},BufferQueueReader.prototype.shiftByte=function(){if(0===this.length)throw new Error(\"The reader is empty.\");var e=this.buffers[0],t=e[this.offset++];return this.length-=1,this.offset>=e.length&&(this.buffers.shift(),this.offset-=e.length),t},BufferQueueReader.prototype.shiftChar=function(){return String.fromCharCode(this.shiftByte())},BufferQueueReader.prototype.shiftBytes=function(e){if(e=parseInt(e,10),isNaN(e)||e<1||e>this.length)throw new Error(\"The byte count must be a number greater than 0 and less than or equal to the reader's length.\");this.length-=e;for(var t=[];e--;){var r=this.buffers[0];t.push(r[this.offset++]),this.offset>=r.length&&(this.buffers.shift(),this.offset-=r.length)}return t},BufferQueueReader.prototype.shiftBuffer=function(e){return new Buffer(this.shiftBytes(e))},BufferQueueReader.prototype.shiftString=function(e,t){return this.shiftBuffer(e).toString(t||\"utf8\")},BufferQueueReader.prototype.shiftZeroString=function(e){var t=this.indexOf(0);if(-1===t)return\"\";var r=this.shiftString(t,e);return this.skip(1),r},BufferQueueReader.prototype.shiftInt8=function(){return toInt8(this.shiftByte())},BufferQueueReader.prototype.shiftInt16=function(e){return toInt16(shiftUInt(this,2,e))},BufferQueueReader.prototype.shiftInt32=function(e){return toInt32(shiftUInt(this,4,e))},BufferQueueReader.prototype.shiftUInt8=function(){return this.shiftByte()},BufferQueueReader.prototype.shiftUInt16=function(e){return shiftUInt(this,2,e)},BufferQueueReader.prototype.shiftUInt32=function(e){return shiftUInt(this,4,e)},BufferQueueReader.prototype.shiftFloat=function(e){var t=e?\"readFloatLE\":\"readFloatBE\";return this.shiftBuffer(4)[t](0,!1)},BufferQueueReader.prototype.shiftDouble=function(e){var t=e?\"readDoubleLE\":\"readDoubleBE\";return this.shiftBuffer(8)[t](0,!1)},BufferQueueReader.prototype.readBits=function(e,t){return toBits(this.readBytes(e,Math.ceil(t/8)),t)},BufferQueueReader.prototype.readByte=function(e){if(e=parseInt(e,10),isNaN(e)||e<0||e>=this.length)throw new Error(\"The offset must be a number between 0 and the reader's length minus one.\");e+=this.offset;for(var t,r=0;(t=this.buffers[r++]).length<=e;)e-=t.length;return t[e]},BufferQueueReader.prototype.readChar=function(e){return String.fromCharCode(this.readByte(e))},BufferQueueReader.prototype.readBytes=function(e,t){if(e=parseInt(e,10),isNaN(e)||e<0)throw new Error(\"The offset must be a number greater than 0.\");if(t=parseInt(t,10),isNaN(t)||t<1)throw new Error(\"The byte count must be a number greater than 0.\");if(e+t>this.length)throw new Error(\"A sum of the offset and byte count must be less than or equal to the reader's length\");e+=this.offset;for(var r,n=[],f=0;(r=this.buffers[f++]).length<=e;)e-=r.length;for(;t--;)n.push(r[e++]),e>=r.length&&(e=0,r=this.buffers[f++]);return n},BufferQueueReader.prototype.readBuffer=function(e,t){if(e=parseInt(e,10),isNaN(e)||e<0)throw new Error(\"The offset must be a number greater than 0.\");if(t=parseInt(t,10),isNaN(t)||t<1)throw new Error(\"The byte count must be a number greater than 0.\");if(e+t>this.length)throw new Error(\"A sum of the offset and byte count must be less than or equal to the reader's length\");e+=this.offset;for(var r,n=0;(r=this.buffers[n++]).length<=e;)e-=r.length;if(r.length>=e+t)return r.slice(e,e+t);for(var f=new Buffer(t),u=0;t;){var s=r.copy(f,u,e,Math.min(r.length,e+t));u+=s,t-=s,(e+=s)>=r.length&&(e=0,r=this.buffers[n++])}return f},BufferQueueReader.prototype.readString=function(e,t,r){return this.readBuffer(e,t).toString(r||\"utf8\")},BufferQueueReader.prototype.readZeroString=function(e,t){var r=this.indexOf(0,e);return-1===r||r-e==0?\"\":this.readString(e,r-e,t)},BufferQueueReader.prototype.readInt8=function(e){return toInt8(this.readByte(e))},BufferQueueReader.prototype.readInt16=function(e,t){return toInt16(readUInt(this,e,2,t))},BufferQueueReader.prototype.readInt32=function(e,t){return toInt32(readUInt(this,e,4,t))},BufferQueueReader.prototype.readUInt8=function(e){return this.readByte(e)},BufferQueueReader.prototype.readUInt16=function(e,t){return readUInt(this,e,2,t)},BufferQueueReader.prototype.readUInt32=function(e,t){return readUInt(this,e,4,t)},BufferQueueReader.prototype.readFloat=function(e,t){var r=t?\"readFloatLE\":\"readFloatBE\";return this.readBuffer(e,4)[r](0,!1)},BufferQueueReader.prototype.readDouble=function(e,t){var r=t?\"readDoubleLE\":\"readDoubleBE\";return this.readBuffer(e,8)[r](0,!1)};function shiftUInt(e,t,r){if(e.length<t)throw new Error(\"The reader's length is less than \"+t+\" bytes.\");e.length-=t;for(var n=0,f=-8;t--;){var u=e.buffers[0];r?n+=u[e.offset++]<<(f+=8)>>>0:n=(n<<8>>>0)+u[e.offset++],e.offset>=u.length&&(e.offset-=e.buffers.shift().length)}return n}function readUInt(e,t,r,n){if(t=parseInt(t,10),isNaN(t)||t<0||t+r>e.length)throw new Error(\"The offset must be a number between 0 and the reader's length minus 2.\");t+=e.offset;for(var f,u=0;(f=e.buffers[u++]).length<=t;)t-=f.length;for(var s=0,h=-8;r--;)n?s+=f[t++]<<(h+=8)>>>0:s=(s<<8>>>0)+f[t++],t>=f.length&&(t=0,f=e.buffers[u++]);return s}function toInt8(e){return 128&e?-1*(256-e):e}function toInt16(e){return 32768&e?-1*(65536-e):e}function toInt32(e){return 2147483648&e?-1*(4294967296-e):e}module.exports=BufferQueueReader;","node_modules/h5.buffers/lib/BufferReader.js":"\"use strict\";var toBits=require(\"./helpers\").toBits;function BufferReader(e){if(!Buffer.isBuffer(e))throw new Error(\"Buffer reader expects an instance of Buffer.\");this.length=e.length,this.offset=0,this.buffer=e}BufferReader.prototype.skip=function(e){if(e=0===arguments.length?this.length:parseInt(e,10),isNaN(e)||e<0)throw new Error(\"The byte count must be a number greater than or equal to 0.\");e>this.length&&(e=this.length),this.offset+=e,this.length-=e},BufferReader.prototype.indexOf=function(e,t){if(e=parseInt(e,10),isNaN(e)||e<0||e>255)throw new Error(\"The search element must be a number between 0x00 and 0xFF.\");if(t=arguments.length>=2?parseInt(t,10):0,isNaN(t)||t<0||t>this.length)throw new Error(\"The search starting index must be a number between 0 and the reader's length.\");for(var r=this.offset+t;r<this.length;++r)if(this.buffer[r]===e)return r-this.offset;return-1},BufferReader.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new Error(\"The target buffer must be an instance of Buffer.\");if(t=arguments.length>=2?parseInt(t,10):0,isNaN(t)||t<0||t>e.length)throw new Error(\"The target starting index must be a number greater than or equal to 0 and less than or equal to the target buffer's length.\");if(r=arguments.length>=3?parseInt(r,10):0,isNaN(r)||r<0||r>=this.length)throw new Error(\"The source starting index must be a number greater than or equal to 0 and less than the reader's length.\");if(n=arguments.length>=4?parseInt(n,10):this.length,isNaN(n)||n<1||n>this.length)throw new Error(\"The source ending index must be a number greater than 0 and less than or equal to the reader's length.\");if(r>=n)throw new Error(\"The source start index must be less than the source end index.\");return this.buffer.copy(e,t,this.offset+r,this.offset+n)},BufferReader.prototype.shiftBits=function(e){return toBits(this.shiftBytes(Math.ceil(e/8)),e)},BufferReader.prototype.shiftByte=function(){if(0===this.length)throw new Error(\"The reader is empty.\");return this.length-=1,this.buffer[this.offset++]},BufferReader.prototype.shiftChar=function(){return String.fromCharCode(this.shiftByte())},BufferReader.prototype.shiftBytes=function(e){if(e=parseInt(e,10),isNaN(e)||e<1||e>this.length)throw new Error(\"The byte count must be a number greater than 0 and less than or equal to the reader's length.\");this.length-=e;for(var t=[];e--;)t.push(this.buffer[this.offset++]);return t},BufferReader.prototype.shiftBuffer=function(e){return new Buffer(this.shiftBytes(e))},BufferReader.prototype.shiftString=function(e,t){return this.shiftBuffer(e).toString(t||\"utf8\")},BufferReader.prototype.shiftZeroString=function(e){var t=this.indexOf(0);if(-1===t)return\"\";var r=this.shiftString(t,e);return this.skip(1),r},BufferReader.prototype.shiftInt8=function(){var e=this.readInt8(0);return this.skip(1),e},BufferReader.prototype.shiftInt16=function(e){var t=this.readInt16(0,e);return this.skip(2),t},BufferReader.prototype.shiftInt32=function(e){var t=this.readInt32(0,e);return this.skip(4),t},BufferReader.prototype.shiftUInt8=function(){var e=this.readUInt8(0);return this.skip(1),e},BufferReader.prototype.shiftUInt16=function(e){var t=this.readUInt16(0,e);return this.skip(2),t},BufferReader.prototype.shiftUInt32=function(e){var t=this.readUInt32(0,e);return this.skip(4),t},BufferReader.prototype.shiftFloat=function(e){var t=this.readFloat(0,e);return this.skip(4),t},BufferReader.prototype.shiftDouble=function(e){var t=this.readDouble(0,e);return this.skip(8),t},BufferReader.prototype.readBits=function(e,t){return toBits(this.readBytes(e,Math.ceil(t/8)),t)},BufferReader.prototype.readByte=function(e){if(e=parseInt(e,10),isNaN(e)||e<0||e>=this.length)throw new Error(\"The offset must be a number between 0 and the reader's length minus one.\");return this.buffer[this.offset+e]},BufferReader.prototype.readChar=function(e){return String.fromCharCode(this.readByte(e))},BufferReader.prototype.readBytes=function(e,t){if(e=parseInt(e,10),isNaN(e)||e<0)throw new Error(\"The offset must be a number greater than 0.\");if(t=parseInt(t,10),isNaN(t)||t<1)throw new Error(\"The byte count must be a number greater than 0.\");if(e+t>this.length)throw new Error(\"A sum of the offset and byte count must be less than or equal to the reader's length.\");e+=this.offset;for(var r=[];t--;)r.push(this.buffer[e++]);return r},BufferReader.prototype.readBuffer=function(e,t){return new Buffer(this.readBytes(e,t))},BufferReader.prototype.readString=function(e,t,r){return this.readBuffer(e,t).toString(r||\"utf8\")},BufferReader.prototype.readZeroString=function(e,t){var r=this.indexOf(0,e);return-1===r||r-e==0?\"\":this.readString(e,r-e,t)},BufferReader.prototype.readInt8=function(e){return this.buffer.readInt8(this.offset+e)},BufferReader.prototype.readInt16=function(e,t){return this.buffer[t?\"readInt16LE\":\"readInt16BE\"](this.offset+e)},BufferReader.prototype.readInt32=function(e,t){return this.buffer[t?\"readInt32LE\":\"readInt32BE\"](this.offset+e)},BufferReader.prototype.readUInt8=function(e){return this.buffer.readUInt8(this.offset+e)},BufferReader.prototype.readUInt16=function(e,t){return this.buffer[t?\"readUInt16LE\":\"readUInt16BE\"](this.offset+e)},BufferReader.prototype.readUInt32=function(e,t){return this.buffer[t?\"readUInt32LE\":\"readUInt32BE\"](this.offset+e)},BufferReader.prototype.readFloat=function(e,t){return this.buffer[t?\"readFloatLE\":\"readFloatBE\"](this.offset+e)},BufferReader.prototype.readDouble=function(e,t){return this.buffer[t?\"readDoubleLE\":\"readDoubleBE\"](this.offset+e)},module.exports=BufferReader;","node_modules/h5.buffers/lib/BufferBuilder.js":"\"use strict\";function BufferBuilder(){this.length=0,this.data=[]}BufferBuilder.prototype.toBuffer=function(){var t=new Buffer(this.length);return this.data.reduce(function(r,e){return r+e(t,r)},0),t},BufferBuilder.prototype.pushBits=function(t){if(!Array.isArray(t))throw new Error(\"Expected an array.\");var r=t.length;if(0===r)return this;var e=Math.ceil(r/8);return this.data.push(function(n,u){for(var i=0,h=0,s=0;s<r;++s)0!==i&&i%8==0?(n[u++]=h,i=0,h=t[s]?1:0):t[s]&&(h|=Math.pow(2,i)),i+=1;return n[u]=h,e}),this.length+=e,this},BufferBuilder.prototype.pushByte=function(t){if(t=parseInt(t,10),isNaN(t)||t<0||t>255)throw new Error(\"Expected a number between 0 and 255.\");return this.data.push(function(r,e){return r[e]=t,1}),this.length+=1,this},BufferBuilder.prototype.pushChar=function(t){var r=t.charCodeAt(0);if(isNaN(r)||r<0||r>127)throw new Error(\"Expected an ASCII character.\");return this.pushByte(r)},BufferBuilder.prototype.pushBytes=function(t){if(!Array.isArray(t))throw new Error(\"Expected an array.\");var r=t.length;return 0===r?this:(this.data.push(function(e,n){for(var u=0;u<r;++u)e[n+u]=t[u];return r}),this.length+=r,this)},BufferBuilder.prototype.pushBuffer=function(t){if(!Buffer.isBuffer(t))throw new Error(\"Expected an instance of Buffer.\");return 0===t.length?this:(this.data.push(function(r,e){return t.copy(r,e,0,t.length)}),this.length+=t.length,this)},BufferBuilder.prototype.pushString=function(t,r){if(\"string\"!=typeof t)throw new Error(\"Expected a string.\");return 0===t.length?this:(r||(r=\"utf8\"),this.data.push(function(e,n){return e.write(t,n,r)}),this.length+=Buffer.byteLength(t,r),this)},BufferBuilder.prototype.pushZeroString=function(t,r){return this.pushString(t,r).pushByte(0)},BufferBuilder.prototype.pushInt8=function(t){return t=parseIntValue(t,127,-128),this.data.push(function(r,e){return r.writeInt8(t,e,!0),1}),this.length+=1,this},BufferBuilder.prototype.pushInt16=function(t,r){return t=parseIntValue(t,32767,-32768),this.data.push(function(e,n){return e[r?\"writeInt16LE\":\"writeInt16BE\"](t,n,!0),2}),this.length+=2,this},BufferBuilder.prototype.pushInt32=function(t,r){return t=parseIntValue(t,2147483647,-2147483648),this.data.push(function(e,n){return e[r?\"writeInt32LE\":\"writeInt32BE\"](t,n,!0),4}),this.length+=4,this},BufferBuilder.prototype.pushUInt8=function(t){return t=parseIntValue(t,255,0),this.data.push(function(r,e){return r.writeUInt8(t,e,!0),1}),this.length+=1,this},BufferBuilder.prototype.pushUInt16=function(t,r){return t=parseIntValue(t,65535,0),this.data.push(function(e,n){return e[r?\"writeUInt16LE\":\"writeUInt16BE\"](t,n,!0),2}),this.length+=2,this},BufferBuilder.prototype.pushUInt32=function(t,r){return t=parseIntValue(t,4294967295,0),this.data.push(function(e,n){return e[r?\"writeUInt32LE\":\"writeUInt32BE\"](t,n,!0),4}),this.length+=4,this},BufferBuilder.prototype.pushFloat=function(t,r){return t=parseFloatValue(t,3.4028234663852886e38,-3.4028234663852886e38),this.data.push(function(e,n){return e[r?\"writeFloatLE\":\"writeFloatBE\"](t,n,!0),4}),this.length+=4,this},BufferBuilder.prototype.pushDouble=function(t,r){return t=parseFloatValue(t,1.7976931348623157e308,-1.7976931348623157e308),this.data.push(function(e,n){return e[r?\"writeDoubleLE\":\"writeDoubleBE\"](t,n,!0),8}),this.length+=8,this};function parseIntValue(t,r,e){if(t=parseInt(t,10),isNaN(t)||t<e||t>r)throw new Error(\"Expected an integer between \"+e+\" and \"+r+\".\");return t}function parseFloatValue(t,r,e){if(t=parseFloat(t,10),isNaN(t)||t<e||t>r)throw new Error(\"Expected a floating-point number between \"+e+\" and \"+r+\".\");return t}module.exports=BufferBuilder;","node_modules/h5.buffers/lib/helpers.js":"\"use strict\";exports.toBits=function(t,o){for(var r=[],e=t.length,n=0;n<e;++n)for(var s=t[n],a=0;a<8&&r.length!==o;++a)r.push(Boolean(s&Math.pow(2,a)));return r};","node_modules/glp2/lib/Response.js":"\"use strict\";module.exports=Response;function Response(e){this.type=e}","backend/modules/maxos/labels/inside.logos.json":{"15":{"x":[32,150,256],"y":[320,320,320],"c":"01024,016,,:::::M03FgHFC:M030gH0C:::::M0301E003C03FF80E0380060H0CM0301E007C03FF80F0380070H0CM0301E00F8038H80F07800F0H0CM0301E00F0030I0F87800F0H0CM0301E01E0030I0FCF800F800CM0301E03E0030I0HFD801D800CM0301E07C0030I0EF98019C00CM0301E07C003FE00C798018C00CM0301E0F8003FE00E318038C00CM0301E1F0H030I0E018030E00CM0301E1F0H030I0E01803AE00CM0301E3E0H030I0C01807FE00CM0301E7E0H030I0E01807FF00CM0301E7C0H030I0E018070300CM0301EF80H03FF80E0180E0380CM0301FFC0H03FF80C0180C0380CM0301FFC0H02AA80A008080280CM0301FFC0W0CM0301FFE0W0CM0301FDE0W0CM0301F9F0W0CM0301F0F0W0CM0301F0F8003FF80E0180FFE00CM0301E078003FF80C0180FHFH0CM0301E07C0030I0E0180C0380C:M0301E03E0030I0E0180C0380CM0301E01E0030I0C0180C0380CM0301E01E0030I0E0180E0380CM0301E01F003FE00E0180FHFH0CM0301E00F803FE00E0180FFE00CM0301E00F8030I0C0180C4C00CM0301E00F8030I0E0380C0E00CM0301E007C030I0E0180C0E00CM0301E003C030I0E0380C0600CM0301E003C030I070700C0700CM0301E003E03FF803FF00E0300CM0301E001F03FF801FC00C0380CM030S020M0CM030gH0C::::M03FgHFC:,:::"},"16":{"x":[64,160,288],"y":[352,352,352],"c":"01152,012,,::0FWF0,:07FUFE0,070T01E0,0380S01C0,01C0S0180,01C0S0380,H0E0S07,H0E0I01FIF80I0F,H070I01FIF80I0E,H0380H01FIF80I0E,H0380H01FIF80H01C,H03C0H01E0L03C,H01C0H01E0L038,I0E0H01E0L070,I070H01E0L0F0,I070H01E0L0E0,I038001E0K01C0,I038001E0K03C0,I01C001E0K0380,I01E001FHFE0H0380,J0E001FHFE0H07,J0F001FHFE0H0F,J07001E0K0E,J07801E0J01C,J03801E0J01C,J01C01E0J038,J01E01E0J078,K0E01E0J070,K0701E0J0E0,K0781E0J0E0,K0381E0I01C0,K03C1E0I03C0,K01C1E0I0380,K01E1E0I0780,L0E0K07,L070K0E,:L0380I01C,L03C0I03C,L01C0I038,M0E0I070,M0F0I0F0,M070I0F0,M078001E0,M038001C0,M03C003C0,M01C00380,N0E00780,N0F00F,N0700E,N0381C,:N01C3C,N01E78,O0E70,O0HF0,O07E0,:O03C0,O0180,:,::::::::::::::::::::::::::::::"},"17":{"x":[64,160,288],"y":[352,352,352],"c":"01152,012,,::P080,O01C0,:O03E0,O07F0,O0H70,O0F78,O0E38,N01E3C,N01C1C,N0380E,N0780F,N07007,N0F00780,M01E00380,M01C001C0,M03C001E0,M0380H0E0,M0780H0F0,M070I070,M0E0I038,L01E0I03C,L01C0I01C,:L0380J0E,L07801C00F,L07001C007,L0E001C00380,K01E001C003C0,K01C001C001C0,K038001C0H0E0,K038001C0H0F0,K078001C0H0F0,K070H01C0H070,K0E0H01C0H038,J01E0H01C0H03C,J01C0H01C0H01C,J0380H01C0I0E,:J070I01C0I07,J0F0I01C0I0780,J0E0I01C0I0380,I01E0I01C0I03C0,I01C0I01C0I01C0,I0380I01C0J0E0,I0780I01C0J0F0,I070J01C0J070,I060J01C0J030,I0E0J01C0J038,H01C0J01C0J01C,:H0380J01C0K0E,H0780R0F,H070S07,H0E0S0380,:01C0S01C0,:0380T0E0,070U070,07FVF0,0FWF8,:,:::::::::::::::::::::::::::::"},"18":{"x":[64,160,288],"y":[320,320,320],"c":"01152,012,,::O06,:O0F,N01F80,:N03FC0,N039C0,N079E0,N070E0,N0E070,N0E078,M01C038,M03803C,M03801C,M07800E,M070H0E,M0E0H0F,L01E0H07,L01C0H0380,L03C0H03C0,L0380H01C0,L070J0E0,L0F0J0E0,L0E0J070,K01E0J078,K01C0J038,K03C0J03C,K0380J01C,K070FIFE1E,K0707FHFE0E,K0E0FIFE07,J01E07D5D40780,J01C0F80I0380,J038070J01C0,J0380F80I01C0,J070070K0E0,J0F00F80J0E0,J0E0070K070,I01E00F80J078,I01C0070K038,I03800FIF8003C,I038007FHF8001C,I070H0JF80H0E,I0F0H070L0F,I0E0H0F80K07,H01C0H070L07,H01C0H0F80K0380,H0380H070L01C0,H0380H0F80K01C0,H070I070M0E0,H0F0I0F80L0E0,H0E0I074I4J070,01C0I0JFE0I038,01C0I07FIFJ038,0380I0JFE0I01C,0380I07FHFE0I01C,070T0E,:0E0T07,1C0T0780,1FVF80,3FVFC0,:,:::::::::::::::::::::::::::::"},"19":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C03F00FC0P0E03FIFC0C001807F81FF0O01C07FIF01C00700FFC3FF8O0380I0FE03800600E1E3C78O070I01FE07801C01E1E3838O0E0I03F80F803801E0E3838N01C0I07F81F003001C0F3C78N0380I0FE03F006001C0E1FF0N0F10101FF07F11C001C0F1FF0N0SF8001C0F3FF8M01FNF05FF8001C0F3C78N0F0I01FFC001FC001C0F7838N0380I07FC0H07E001C0F701CN03C0I07FC0H01F001E0E783CN01E0I03FC0I07801E1E783CO070J0FE0I01C00F3C3EF8O0780FIFE01F01E00FFC3FF8O03C03FHFE00FC07003F81FF0P0E01FIFH0HF03801E007C0P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"27":{"x":[64,160,288],"y":[352,352,352],"c":"01152,012,,::K03FVFE:K01FVFCK01E0T03CL0E0T038L070T070L0780I0JFC0J0F0L0380I0JFE0J0E0L03C0I0KF80H01E0L01C0I0KFC0H03C0M0E0I0FEBFFC0H0380M0F0I0FC00FE0H0780M070I0FC007F0H07,M0780H0FC003F0H0F,M0380H0FC003F0H0E,M01C0H0FC003F001C,M01E0H0FC003F803C,N0E0H0FC001F8038,N0F0H0FC001F8078,N070H0FC001F8070,N07800FC001F80F0,N03800FC001F81E0,N01C00FC001F81C0,N01E00FC001F83C0,O0E00FC003F8380,O0700FC003F07,O0780FC003F0F,O0380FC007F0E,O03C0FC00FE1E,O01C0FC03FC1C,O01E0FJFC3C,P0E0FJF878,P070FJF070,P078FIFC0F0,P038J8H0E0,P01C0J01C0,P01E0J03C0,P01E0J0380,Q0E0J0780,Q070J07,Q0780I0F,Q0380H01E,Q01C0H01C,Q01E0H03C,R0E0H038,R0F0H078,R07800F0,R07800E0,R03801E0,R01C03C0,R01E03C0,S0E0780,S0F0780,S078F,S038E,S03DE,S01FC,:T0F8,T070,:T020,,::::::::::::::::::::::::::::::"},"28":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C01F007E0P0E03FIFC0C001803F00FF0O01C07FIF01C007007F01FF8O0380I0FE038006002F03E38O070I01FE07801C0H0F0383CO0E0I03F80F80380H0F0383CN01C0I07F81F0030I0F0H03CN0380I0FE03F0060I0F0H038N0F10101FF07F11C0I0F0H078N0SF80I0F0H0F0M01FNF05FF80I0F001F0N0F0I01FFC001FC0I0F001E0N0380I07FC0H07E0I0F007C0N03C0I07FC0H01F0I0F00780N01E0I03FC0I0780H0F00F,O070J0FE0I01C0H0F03FFCO0780FIFE01F01E0H0F03FFCO03C03FHFE00FC070H0F07FFCP0E01FIFH0HF03800505H54P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"29":{"x":[64,192,320],"y":[352,352,352],"c":"00768,008,,:::I03FLFC,::I030L0C,I0H3B88CFCC,I032A09914C,I032A8AE9CC,I032E69510C,I032H2H020C,I030K01C,H03FNFC0,H0QF0,03F0N0F8,03C0N03C,070P0E,0E0P07,3E003BHBA0I07,1C003FIFC0H038038003FJFI038038003FJF8001C0:30H03FJFC001C038003FEAFFC001C030H03FC07FC001C038003FE03FC001C038003FE03FC0018038003FE03FC003801C003FE07F8003801E003FJF8007,0E003FIFE0H07,07003FIFE0H0E,07003FJF800C,03803FJFC01C,01803FF17FE018,01C03FE03FE038,H0C03FE01FE070,H0E03FE01FE070,H0703FE01FF0E0,H0703FE03FE0E0,H0383FJFE1C0,H0383FJFE380,H01C3FJFC3,I0C3FJFC7,I0E3FJF86,I073FIFE0E,I0715H5400C,I0380J01C,I0180J018,I01C0J038,J0C0J070,J0E0J060,J070J0E0,J030I01C0,J0380H01C0,J0180H0380,J01C0H0780,K0F0H0F,K07801E,K03FBFC,L0IF0,L03FC0,,::::::::::::::::::::::::::::::"},"32":{"x":[64,192,320],"y":[352,352,352],"c":"01152,012,,::::N010,N030,N07C,N0FC,M01CF,M0387,M0703C0,L01E01C0,L01C00F0,L0380070,L070H03C,L0E0H01C,K01C0I0F,K0380I07,K070J03C0,K0E0J01C0,J01C0K0F0,J0380K070,J070L03C,J0E0L01C,I01C05J540F,I0380FJFC07,I0F01FJFC03C0,I0E001830E001C0,H01C001870C0H0F0,H038001830E0H070,H070H01830C0H03C,H0E0H01830E0H01C,01C0H01870C0I0F,0380H01830E0I07,0780H01830C0I07,01C0H01830E0I0E,01E0H01870C0H01C,H070H01830E0H038,H078001830C0H070,H01C001830E0H0E0,H01E005D75F401C0,I0700FJFC0380,I0781FJFC07,I01C0M0E,I01E0L01C,J070L038,J0780K070,J01C0K0E0,J01E0J01C0,K070J0380,K0780I07,K01C0I0E,K01E0H01C,L070H038,L0780070,L01C00E0,L01E01C0,M070380,M0787,M01CE,M01FC,N0F8,N070,,:::::::::::::::::::::::::::::::"},"36":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C01F001C0P0E03FIFC0C001803F001E0O01C07FIF01C007007F001C0O0380I0FE038006002F003C0O070I01FE07801C0H0F007C0O0E0I03F80F80380H0F00780N01C0I07F81F0030I0F007,N0380I0FE03F0060I0F00F,N0F10101FF07F11C0I0F01FE0N0SF80I0F01FF0M01FNF05FF80I0F01FF8N0F0I01FFC001FC0I0F03C38N0380I07FC0H07E0I0F0383CN03C0I07FC0H01F0I0F03838N01E0I03FC0I0780H0F03C38O070J0FE0I01C0H0F03E78O0780FIFE01F01E0H0F01FF8O03C03FHFE00FC070H0F00FE0P0E01FIFH0HF038005007C0P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"40":{"x":[64,192,320],"y":[352,352,352],"c":"00768,008,,::L01FHF80,K01E0H0F8,K0E0J07,J030L0E0,J0C0L018,I0180M06,I030N01,I040N01,I080N01,H010O01,H0307F0H07FF01,H021FF801801E1,H043FFC060H039,H043FFE0C0I0F,H0C7C3E180I03,H08781F1,018780F30I0IFE010F80F20I08002010781F60L02010F81E40I0A022010783E40I0783E010FBFE40J082001073FC40J0820010FBF040J08200107BC040J0820010F80020J0820018780020J0FE0H0878001,H087800180I01,H04F80H080I07,H0470I060H01D,H02780H01800E1,H0H380I0IF01,H010O01,I080N01,I040N01,I060N01,I010N03,J0C0L01C,J030L060,J01C0J0780,K03E0H07C,L01FHFC0,,:::::::::K060FC78F,K0E180CD980,K0B08081980,J01B1FCF8F,J0198FCC8F,J01F980CD980,J03F880CD980,J030DFEDD980,J020CFE78F,,::::::::::::::::::::::::::::::"},"41":{"x":[64,192,320],"y":[352,352,352],"c":"01152,012,,::H01FNF80,H01FNFC0,H01FNFE0,H01C0M0F0,H01C0M078,H01C0M03C,H01C0M01E,H01C0N0F,H01C0N0780,H01C0N03C0,H01C0N01E0,H01C0O0F0,H01C0O078,H01C0O03C,H01FQFE,H01FRF,H01FRF80,L0700E,:::::::::::::::::::::::::::::::::::::::::L07FFE,::,::::::::::::::::::::::::::::::"},"42":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C01F0H078P0E03FIFC0C001803F0H0F8O01C07FIF01C007007F001F8O0380I0FE038006002F001F8O070I01FE07801C0H0F003F8O0E0I03F80F80380H0F007F8N01C0I07F81F0030I0F00778N0380I0FE03F0060I0F00E78N0F10101FF07F11C0I0F01E78N0SF80I0F03C78M01FNF05FF80I0F03C78N0F0I01FFC001FC0I0F07878N0380I07FC0H07E0I0F07FFCN03C0I07FC0H01F0I0F07FFCN01E0I03FC0I0780H0F07FFCO070J0FE0I01C0H0F0H078O0780FIFE01F01E0H0F0H078O03C03FHFE00FC070H0F0H078P0E01FIFH0HF0380050H050P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"43":{"x":[64,192,320],"y":[352,352,352],"c":"00768,008,,::H020H02FHFA0H020L03D01F0,L0E0H03E,K0380I07,K0E0J0380,J01C0K0E0,J0380K030,J060H010H018,J0E0H0180H0C,I0180H0180H06,I0180H0380H02,I030I0340H03,I020I0340H0180I040I030I0180I0C0I0720I0C0I0C0I0720I040H0280020F220H060H0180I0F10I060H0180I0F10I020H010J0F10I020H030I01F080H020H010I01F080H030H0302AABF0AIA30H01010H0F0FHF430H0301C00F0FFE830H010070071FF0030H03003C073F84020H01001F033E08020H01001FE37810020H010H07F16020060H018003FF8040060I08001FF0080040H02C002FF030H0E0I040H07F0J0C0I060H03F080H080I060H01F10H0180I030I0F20H03,I010I0340H03,I0180H0180H06,J0C0M0C,J060L038,J030L030,J0180K0E0,K0C0J01C0,K0380I0380,K01C0H01E,L03E03F8,M07FF80,H020H0202020H020,::::L038F3E0,L04D92,L06C3280,L0H463C0,L04C1060,L0H41060,L06D9260,L038E3C0,,::::::::::::::::::::::::::::::"},"46":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C03F007C0P0E03FIFC0C001807F81FF0O01C07FIF01C00700FFC3FF8O0380I0FE03800600E1C3C78O070I01FE07801C0H01C783CO0E0I03F80F80380H01C783CN01C0I07F81F0030I03C783CN0380I0FE03F0060I0F8783CN0F10101FF07F11C0I0F8701CN0SF80I0FC781CM01FNF05FF80I03E701CN0F0I01FFC001FC0J0E783CN0380I07FC0H07E0J0F783CN03C0I07FC0H01F001C0F7838N01E0I03FC0I07801E1E3838O070J0FE0I01C00F3E3EF8O0780FIFE01F01E00FFC1FF0O03C03FHFE00FC07007F80FE0P0E01FIFH0HF03801E007C0P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"47":{"x":[64,192,288],"y":[352,352,352],"c":"01152,012,,:U08,T018,T078,S01E0,S03C0,S0780,S0F,R01E,R03C,R0F8,Q01F8,Q03F0,Q07E0,Q0FC0,Q0F80,P01F,P03F,P07E,P0FC,O01F8,O03F8,O03F0,K01E007E0,K03F00FE0,K0HF80FC0,K07FC1FC0,K03FC3F80,K01FC3F,K01FE7E,L0FEFE,L07FFC,:L03FF8,:L01FF0,:L01FE0,M0FC0,M0F80,M06,M04,,::H0HA80J0280A00F8,H0IF80I0780703FE,H0IFC0I0380F07FF,H0E07C0I038070F0780,H0E01E0I0380F0E0380,H0E01E03C078070E0380,H0E01E0FF0380F0F02,H0E01C1FF838070FC0,H0IFC3C383FHF07FE,H0IF83C1C7FHF01FF,H0IF0381C3FHFH03F80,H0E078381C38070H07C0,H0E038381C380F1E03C0,H0E03C381C78071E01C0,H0E03C383C380F0E03C0,H0E01C1C3838070F0780,H0E01E1FF8380F07FF80,H0E00E0FF0780703FF,H0A00A03E0280300F8,,::::::::::::::::::::::::::::::"},"54":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C01F007C0P0E03FIFC0C001807F81FE0O01C07FIF01C00700FFC3FF0O0380I0FE03800600E1E3C78O070I01FE07801C01E1E3838O0E0I03F80F803801E0E3838N01C0I07F81F0030I01E3C78N0380I0FE03F0060I01E1FF0N0F10101FF07F11C0I01C1FE0N0SF80I03C3FF8M01FNF05FF80I0783FF8N0F0I01FFC001FC0I0F03838N0380I07FC0H07E0H01E0703CN03C0I07FC0H01F0H03E0783CN01E0I03FC0I078007C0783CO070J0FE0I01C00FFE3C78O0780FIFE01F01E01FHF3FF8O03C03FHFE00FC0701FFE1FF0P0E01FIFH0HF038155407C0P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"},"56":{"x":[64,160,288],"y":[320,320,320],"c":"01024,016,,:::::L01FIF801FKFC01FIF8,L01FIF803FKF801FIF8,L01FIF801FKFC01FIF8,L01FIF803FKF801FIF8,L01FIF801FKFC01FIF8,L01FIF803FKF801FIF8,L01FIF801FKFC01FIF8,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I03FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FIF803FKF801FF0,L01FIF803FKFC01FF0,L01FIF803FKF801FF0,L01FIF801FKFC01FF0,L01FIF803FKF801FF0,L01FIF801FKFC01FF0,L01FIF803FKF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I03FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FE00FF801FF0,L01FF0I01FF00FFC01FF0,L01FF0I03FF00FF801FF0,L01FIF801FF00FFC01FIF8,L01FIF803FE00FF801FIF8,L01FIF801FF00FFC01FIF8,L01FIF803FF00FF801FIF8,L01FIF801FF00FFC01FIF8,L01FIF803FE00FF801FIF8,L01FIF801FF00FFC01FIF8,,"},"57":{"x":[64,192,320],"y":[352,352,352],"c":"00768,008,,::::N03FFE,M01FIF80,M0LF0,L03FE007FC,L0FE0I07F,K01F80I01F80K07E0K07E0K0F80K01F0J01F0M0F8J03C0H010I03CJ0780H0180H01EJ0F0I0180I0CJ0E0I0380I08I01E0I0340,I03C0I0340,I0380I0340,I0780I0760,I070J0720,I0F0J0720,I0E0J0720,I0E0J0F30,H01C0J0F10,::H03C18001F080018H03C0F001F080070H03806E01F0807A0H03803181F081F40H03803873F04FE80H03801E1FF07F980H03800F81F07F2,H038007C1F07C2,H038003E0F0F84,H038001F871F08,H0380H0FC71C10,H01C0H07F33030,H01C0H07FB6060,H01C0H03FF00C0,H01C0H01FF0080,I0E0I0HF01,I0E0I07F02,I0F0I03F04,I070I01F08,I0780I0F10,I0380I0F30,I03C0I0760,I01E0I03C0,J0E0I0180,J0F0O0CJ0780M01EJ03E0M03CJ01F0M0F8K0F80K03E0K07E0K07C0K01F80I01F80L0FE0I07F,L03FF00FFC,M07FJF0,M01FIF80,N01FFC,,::::::::::::::::::::::::::::::"},"01":{"x":[64,160,288],"y":[320,320,320],"c":"01024,016,,:::P03FE0O03FC,O01FFE0N03FFC,O0IFE0N0IFC,N03FHFE0M07FHFC,N0JFE0L01FIFC,M01FIFE0L03FIFC,M03FIFE0L0KFC,M0KFE0K01FJFC,L01FJFE0K03FJFC,L01FIF80L07FIF04,L07FHF80M0IFE0,L07FFC0M01FHF80,L0IF80M03FFE,K01FFE0N03FFC,K03FFC0N07FF8,K03FF80N0IF0,K07FF0O0HFE0,K07FE0N01FFC0,K0HFE0N01FF80,K0HFC0N01FF80,K0HF80N03FF,J01FF80N03FF,J01FF80N03FE,J01FF0O03FE,J03FF0O07FE,J01FF0O07FC,J03FF0O07FJFE,J03FF0O07FKF,J03FE0O07FKF,:J03FE0O07FJFE,J03FE0O07FKF,:J03FF0O07FKF,J03FF0O07FE88,J01FF0O07FC,J01FF0O03FE,:J01FF80N03FF,K0HF80N03FF,K0HFC0N03FF80,K07FC0N01FF80,K07FE0N01FFC0,K07FF0O0HFE0,K03FF80N0IF0,K01FFC0N07FF8,K01FFE0N07FFC,L0IFO03FFE,L0IFC0M03FHF80,L07FHFO0IFE0,L03FIF80L07FHFE,M0KFE0K03FJFC,M0KFE0K01FJFC,M03FIFE0L0KFC,M01FIFE0L07FIFC,N07FHFE0L01FIFC,N03FHFE0M0JFC,O07FFE0M01FHFC,O01FFE0N03FFC,Q0FE0O03FC,"},"02":{"x":[64,192,320],"y":[352,352,352],"c":"01152,012,,:::H07FSFC,:::H0780Q03C,:::::::::H07801FMFH03C,H07801FLFE003C,H07801FMF403C,H07800FLFE003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F007C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07801E0K0E003C,H07801E0H0400F403C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07800E0K0E003C,H07801E0K0F003C,H07801E0K0E003C,H07801E0K0F007C,H07800E0K0E003C,H07801E0K0F003C,H07800FLFE003C,H07801FMFH03C,H07800FLFE003C,H078015M5H03C,H0780Q03C,H0780040H040H0403C,H0780Q03C,:::::::H07FSFC,:::,::::::::::::::::::::::::::::::"},"09":{"x":[64,160,256],"y":[320,320,320],"c":"01024,016,,::::::T07FQFC,T0FBJBHFBFFBB8,S01C0I03F80FE030,S0380I07F01F8060,S070I01FE01F81C0,S0E0I01FC03F0180,R01C0I07F803C03,R0380I07F003806,R0701FIFC00701C,R0E03FIFC006018,Q01C07H7HF800C070,Q0380H01FE0H08060,Q070I03FE00180C0,Q0E0I07FC0800180,P01C0I0HF810H07,P0380I0FE020H06,P0701FIFE06001C03F007F8P0E03FIFC0C001807F80FF8O01C07FIF01C00700FFC0FF8O0380I0FE03800600E1E0E,O070I01FE07801C01E1E0E,O0E0I03F80F803801E0E0E,N01C0I07F81F003001C0F1E,N0380I0FE03F006001C0E1FE0N0F10101FF07F11C001C0F1FF0N0SF8001C0F3FF8M01FNF05FF8001C0F1C78N0F0I01FFC001FC001C0F0038N0380I07FC0H07E001C0F003CN03C0I07FC0H01F001E0E0038N01E0I03FC0I07801E1E7838O070J0FE0I01C00F3C3EF8O0780FIFE01F01E00FFC3FF0O03C03FHFE00FC07003F81FE0P0E01FIFH0HF03801E007C0P070J0F807FHFC,P0780I0FC07FHFE,P01C0I03E03FIF,Q0E0I01F00FIF80,Q070I01F807FHFC0,Q0780I0FC03FC170,Q01C03FIFH0FE030,R0E01FIFC07E01C,R0700FIFC01E00C,R0380I07F0J0F,R01C0I03FC0I0F,S0E0I03FF0I0780,S070J0HFC0H07C0,S0380I07FFC00FF0,S01C0I07FHF83FF0,T0SFC,,:::::"}},"backend/modules/maxos/labels/outside.logos.json":{"15":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02560,020,,:::::::::::::::::::::::::::::::::::::::::::::M07FgIFC0,:M06040404040404040404040404C0,M060gI0C0,::::M0601001001F0H0I50140H0500C0,M0601803003FC00FHF81F0H0F00C0,M0601C03007DF00FHF81F0H0F00C0,M0600C0300E070I0380F800F00C0,M0600E0301C030I0380F800F00C0,M0600E0300C0380H0380FC00F00C0,M060070701C0380H03807C00F00C0,M06003230180380H03803E00F00C0,M06007FF01C03801FF803E00F00C0,M0600FHF01803801FF801F00F00C0,M0601C0301C0380043801F00F00C0,M06018030180380H03800F00F00C0,M060380301C0380H03800F80F00C0,M06018030180380H03800F80F00C0,M0601C0701C0380H038007C0F00C0,M0600FHF0180380FHF8003C0F00C0,M0600FHF01C0380FHF8003E0F00C0,M06002EA0080280AEA8003E1F00C0,M060W01E1F00C0,M060W01F3F00C0,M060X0F7F00C0,M060X0IFH0C0,M060X07FF00C0,M060200200802002A280H07FF00C0,M0601C0701C0380FHF80H07FF00C0,M0601C060180380FHF80H03EF00C0,M0601C0E01C0380H0380H07CF00C0,M0600EBE0180380H0380H078F00C0,M0600FFE01C0380H0380H0F8F00C0,M0600FFC0180380H0380H0F8F00C0,M060071C01C4380H078001F0F00C0,M060031C01863801FF8003E0F00C0,M060031C01CF3801FF8007C0F00C0,M0600338018F380H03800780F00C0,M06003B801DFF80H03800F80F00C0,M06001B001B9F80H03801F00F00C0,M06001F001F9F80H03801F00F00C0,M060H0F001F0F80H03803E00F00C0,M060H0F001E0780FHF807C00F00C0,M060H0E001C0380FHF80F800F00C0,M060H06001401007H7H070H0700C0,M060gI0C0,:::::M07FgIFC0,:,::::::::::::::::::::::::"},"16":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::U0E,:T01F,:T03F80,T07F80,T07FC0,T0FBE0,T0F3E0,S01F1F0,S03E0F8,:S03C078,S07C07C,S0F803E,R01F001E,R01F001F,R03E001F80,R03E0H0F80,R07C0H07C0,R0780H07C0,R0F80H03E0,R0F0I01E0,Q01F0I01F0,Q01E0J0F0,Q03C0J078,Q07C0J078,Q07C0J07C,Q0F80J03E,P01F0K01F,P01E0L0F,:P03E0L0F80,P07C0L07C0,P0780L03C0,P0F80L03E0,O01F0M01F0,O01F0K0761F0,O03E0K07E0F8,O07C0K07E0F8,O07C0K07E07C,O0780K07E03C,O0F80K07E03E,N01F0L07E01F,N01E0L07E00F,N03E0L07E00F80,N03C0L07E00780,N07C0L07E007C0,N0F80L07E003C0,N0F0M07E001E0,:M01E0M07E0H0F0,M03E0M07E0H0F8,M03C0M07E0H078,M0780M07E0H03C,M0F80H01FJFE0H03C,M0F0J0KFE0H03E,L01F0I01FJFE0H01F,L03E0J0KFE0I0F,L03C0J0J57E0I0F80,L03C0N07E0I0780,L07C0N07E0I07C0,L0F80N07E0I03E0,L0F0O07E0I01E0,K01F0O07E0I01F0,:K03C0O07E0J078,K07C0O07E0J07C,K0780O07E0J03C,K0F80O07E0J03E,K0F0P07E0J01E,J01F0K0LFE0J01F,J03E0K0LFE0K0F80,J03C0K0LFE0K0780,:J0780K0L540K03C0,J0F80X03E0,I01F0Y01F0,I01E0g0F0,:I03C0g078,I07C0g07C,I0780g03C,I0FDFDFDFFDFFDFDFDDFDDFDFFE,I0gJFE,H01FgJF,:,:::::::::"},"17":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::L07FgIFC:L03FgIF8:L01E0gG0F0L01F0g01F0M0F0g01E0M0780Y03C0:M07C0Y07C0M03E0Y0F80M01E0Y0F,N0F0X01E,:N0F80M0280M03E,N07C0M07C0M07C,N03C0M07C0M078,N03E0M07C0M0F8,N01E0M07C0M0F0,N01F0M07C0L01F0,O0F0M07C0L01E0,O0780L07C0L07C0,O07C0L07C0L07C0,O03C0L07C0L0780,O03E0L07C0L0F80,O01F0L07C0K01F,P0F0L07C0K01E,P0F80K07C0K03E,:P07C0K07C0K07C,P03E0K07C0K078,P03E0K07C0K0F8,P01E0K07C0K0F0,Q0F0K07C0J01E0,Q0F80J07C0J03E0,Q0780J07C0J03C0,Q03C0J07C0J0780,:Q01E0J07C0J0F,Q01F0J07C0I01F,R0F0J07C0I01E,R0F80I07C0I03E,R0780I07C0I03C,R07C0I07C0I07C,R03E0I07C0I0F8,R01E0I07C0I0F0,R01F0I07C0H01F0,S0F0I07C0H03F0,S0F80H07C0H03E0,S07C0H07C0H07C0,:S03E0H07C0H0F80,S01E0H07C0H0F,S01F0L01F,T0F80K03E,T0780K03C,:T07C0K07C,T03E0K0F8,T01F0J01F0,:U0F0J01E0,U0780I03C0,U07C0I07C0,U03C0I0780,U03E0I0F80,U01E0H01F,U01F0H01F,V0F8003E,V0FC003E,V07C007C,V03C007C,V03E00F8,V01F01F0,W0F01E0,W0F83E0,:W07C7C0,W03C780,W03FF80,W01FF,:X0FE,X07C,:X038,:,:::::::::"},"18":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::H01FgJF,:I0gJFE,:I0780g03C,I07C0g07C,I03C0g078,I01E0g0F0,:I01F0Y01F0,J0F80K0LFE0K03E0,J0780K0LFE0K03C0,J03C0K0LFE0K0780,:J03E0K0LFE0K0F80,J01F0K0K57E0J01F,K0F0P07E0J01E,K0F80O07E0J03E,K0780O07E0J03C,K07C0O07E0J07C,K03C0O07E0J078,K01F0O07E0I01F0,:L0F0O07E0I01E0,L0F80N07E0I03E0,L07C0N07E0I07C0,L03C0N07E0I0780,L03E0J0IFDFE0I0F80,L03E0J0KFE0I0F80,L01F0J0KFE0H01F,M0F80I0KFE0H01E,M0F80I0KFE0H03E,M0780M07E0H03C,M03C0M07E0H078,M03E0M07E0H0F8,M01E0M07E0H0F0,N0F0M07E001E0,:N0780L07E003C0,N07C0L07E007C0,N03C0L07E00780,N03E0L07E00F80,N01E0L07E00F,N01F007FJFE01F,O0F80FKFE03E,O07807FJFE03C,O07C0FKFE07C,O03C0FKFE078,O03E0N0F8,O01F0M01F0,:P0F80L03E0,P0780L03C0,P07C0L07C0,P03E0L0F80,P01E0L0F,:P01F0K01F,Q0F80J03E,Q07C0J07C,:Q03C0J078,Q01E0J0F0,Q01F0I01F0,R0F0I01E0,R0F80H03E0,R07C0H03C0,R07C0H07C0,R03E0H0F80,R03F0H0F80,R01F001F,:S0F803E,S07C07C,S03C078,S03E0F8,:S01F1F0,T0F1E0,T0HFE0,T07FC0,:T03F80,T01F,:U0E,:,:::::::::"},"19":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::L07FRF,L07FRFC0,L03FE007FFE0I01C0,L01FC0H0IFK0F0,M0FC0H03FF80I070,M07C0I0HFC0I03C,M03C0I03FC0I01C,M01E0J0HFK0E,N0E01F007FIFH07,N0700FE03FIFC0380,N0300FF01FIFC01C0,N01807F807F0J0E0,O0JFC03F0J070,O07FHFE00FC0I038,O01FIF807E0I01E,O01FIF803E0J0E,P07FHFE01F80I07,I020K07AAFE00FIFC0380,H03FC07F001C07F00FIFE01C0,H07FE0FF801C03F807FIFH0E0,H0IF1FFC007007003F80I070,H0F0F1E3E00780I03F80I03C,01E071C1E003C0I03FC0I01C,01E07BC0E001F80H03FE0J0E,01E073C0F0H0FC0H03FF0J07,01E0F3C0F0H07F8003FF80I0380,H0F1F3C0F0H03FF80FNFC0,H0HFE3C0F0H03FRFE0,H03FC3C0F0H07007E03FC0I0380,H07FE3C0F0H0E00FC07F80I07,H071E3C0F001C00F80FF0J0E,H0F0F3C0E003801F01FC0I01C,H0F0F1C0E007001E03FC0I03C,H0F0F1E3E00E003C07F80I070,H071F1F3C01C00380FF5H5H0F0,H07FE0FFC03800701FIFE01C0,H03FC07F8070H0603FIFE03C0,I0F003E00E0H0E07FIFC07,O01C0H080FF80I0F,O03800101FF0I01E,O070J03FE0I03C,O0E030H07FC0I078,N018060H0HF80I0E0,N03806001FFBBA01E0,N0701C003FIFC0380,N0E03C007FIF80780,M01C07800FE0J0E,M0380F801FC0I01E,M0701F803F80I03C,M0E03F007F80I078,L01C07F00FE0J0E0,L0180FE01FE0I01E0,L0701FE03F80I03C0,L0TF80,K01DFDFDFDFDFDFDE,,:::::::::::::::::::::::::"},"27":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::W03,W0780,:W0FC0,V01FE0,:V01FF0,V03FF0,V07CF0,V07CF8,V0F87C,:U01F03E,U03F01F,U03E01F,U07E00F80,U07C00F80,U0F8007C0,U0F8003C0,T01F0H03E0,T01F0H01F0,T03E0I0F0,T07C0I0F8,:T0780I07C,T0F80I03E,S01F0J03E,S03E0J01E,S03E0J01F,S07E0K0F80,S07C0K0780,S0F80K07C0,R01F80K03E0,R01F0L03E0,R01E0L01F0,R03E0L01F0,R07C0M0F8,R0FC0M0F8,R0F80M07C,R0F803FJF83C,Q01F00FKF81E,Q03E01FKF81F,Q03E07FKF81F,Q07E0FLF80F80,Q07C1FLF80780,Q0F83FFE807F807C0,Q0F03FF0H07F803C0,P01F07FC0H07F803E0,P03F07FC0H07F801F0,P03E0FF80H07F800F8,P07C0FF0I07F800F8,P07C0FF0I07F80078,P0F81FF0I07F8007C,O01F81FF0I07F8003E,O01F01FF0I07F8003E,O03E01FF0I07F8001E,O03E01FF0I07F80H0F,O07C01FF0I07F80H0F80,O07801FF0I07F80H0780,O0F801FE0I07F80H07C0,N01F001FF0I07F80H03E0,:N03E001FF0I07F80H01F0,N03E001FF0I07F80I0F8,N07C001FF0I07F80I0F8,N0F80H0HFJ07F80I078,N0F80H0HFJ07F80I07C,N0F80H0HF80H07F80I03E,M01F0I07FC0H07F80I01E,M03E0I07FC0H07F80I01F,M03E0I07FE0H07F80J0F,M07C0I03FF0H07F80J0F80,M07C0I01FHF517F80J07C0,M0F80I01FLF80J03C0,M0F0K0MF80J03C0,L03F0K07FKF80J03E0,L03E0K01FKF80J01F0,L03E0L0LF80K0F8,L07C0L03FJF80K0F8,L0780Y078,L0F80Y07C,K01F0g03E,K01F0g01E,K03EAgABF,K03FgIF,K07FgIF80:,:::::::::"},"28":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::N03FRF80,N03FRFE0,N01FF003FHFK0E0,O0FE0H07FF80I078,O07E0H01FFC0I038,O03E0I07FE0I01E,O01E0I01FE0J0E,P0F0J07F80I07,P0700F803FIF80380,P03807F01FIFE01C0,P01807F80FIFE00E0,Q0C03FC03F80I070,Q07FHFE01F80I038,Q03FIFH07E0I01C,R0JFC03F0J0F,R0JFC01F0J07,R03FIFH0FC0I0380,R03D57F007FHFE01C0,J0IF81E0H0E03F807FIFH0E0,J0IFC1E0H0E01FC03FIF8070,J0IF81E0H03803801FC0I038,J0H1F01E0H03C0I01FC0I01E,K03E01E0H01E0I01FE0J0E,K07C01E0I0FC0H01FF0J07,K0F801E0I07E0H01FF80I0380,J01F001E0I03FC001FFC0I01C0,J03E001E0I01FFC07FMFE0,J03C001E0I01FSF0,J078001E0I03803F01FE0I01C0,J070H01E0I07007E03FC0I0380,J0F0H01E0I0E007C07F80I07,J0F0781E0H01C00F80FE0J0E,J0F0781E0H03800F01FE0I01E,J070781E0H07001E03FC0I038,J078F01FE00E001C07FAHA8078,J07FE01FC01C00380FJFH0E0,J03FE01F803800301FJF01E0,K070K070H0703FIFE0380,R0E0H0407FC0I0780,Q01C0H080FF80I0F,Q0380I01FF0I01E,Q07018003FE0I03C,Q0C030H07FC0I070,P01C030H0HFIDH0F0,P0380E001FIFE01C0,P0701E003FIFC03C0,P0E03C007F0J07,O01C07C00FE0J0F,O0380FC01FC0I01E,O0701F803FC0I03C,O0E03F807F0J070,O0C07F00FF0J0F0,N0380FF01FC0I01E0,N07FRFC0,N0EFEFEFEFEFEFEF,,:::::::::::::::::::::::::"},"29":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02560,020,,:::::::::::::::::::::::X01FFC,X0IFE,W07FIFC0,W0KFE0,V03FF45FF8,V03F8003FC,V07E0I07E,U01F80I01F,U01F0J01F80,U03E0K0780,U07C0K07C0,U0780K03E0,U0F80K03F0,U0F0M0F0,T01F0M0F0,T03E0M0F8,T07E0M07C,T07C0M03C,T07C0M03E,T0F80M01E,S01F0N01F,S01E0O0F80,S03E0O07C0,:S07C0O07C0,S0780O03E0,S0F801FLFE1F0,R01F00FMFE0F0,R01F01FMFE0F8,R03E03FMFE0F8,R03C07FNF07C,R03C0FNFE03C,R0FC1FNFE03E,R0F81FNFE01E,Q01F03FNFE01F,Q01E03FNFE00F80,Q03E07FHFD447FFE007C0,Q03C07FHF8007FFE00780,Q07C07FHFI07FHFH07C0,Q0F807FFE0H07FFE003E0,Q0F807FHFI07FFE001F0,Q0F007FFE0H07FFE0H0F0,P01F007FHFI07FFE0H0F8,P03E003FHFI07FFE0H078,P07C007FHFC007FFE0H07C,P07C001FHFE007FFE0H03E,P078001FOFI03E,P0F80H0OFE0H01E,O01F0I07FMFE0H01F,O03E0I03FMFE0I0F80,O03E0I01FMFE0I0780,O03C0J03FLFE0I07C0,O07C0I01FMFE0I07E0,O0F80I01FMFE0I03E0,O0F0J07FNFJ01F0,O0F0J07FFE007FFE0J0F0,N01F0J07FFC007FFE0J0F0,N01E0J0IF8007FFE0J078,N01C0I01FHF8007FFE0J078,N03C0J0IF8007FFE0J078,N07C0I01FHFC007FFE0J07C,N03C0I01FHF8007FFE0J038,N03C0I01FHFC007FHFK07C,N03C0J0IFE007FFE0J03C,N07C0I01FNFE0J07C,N03C0J0OFE0J038,N03C0J0OFE0J07C,N03C0J07FMFE0J078,N03C0J07FMFE0J07C,N01E0J03FMFE0J078,N01E0J01FNFK070,N01E0K07FLFE0J0F0,N01F0K07FLFE0I01F0,O0F80L0MAJ01E0,O0FC0W03E0,O07C0W07C0,O07E0W0FC0,O01F0V01F80,O01FC0U07F,P0FE0U0FE,P03FF40R07FC,P01FHFRBIF8,Q07FUFC0,Q03FUF80,R07FSFC,S0780O03C0,:S0780AC2018E8E3C0,S078154DC7DDF73C0,S0781828B211A23C0,S079F3CF161FBF3C0,S0799AE3861BBA3C0,S079944CC61DB73C0,S078F3EF821FBA3C0,S0780H010K03C0,S0780O03C0,S07D5O57C0,S07FQFC0,:::,::"},"32":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,:::::::::::::::::::::::U04,U0E,T01F,T03F80,T07FC0,T0HFE0,S01FHF0,S03F1F8,S07F1FC,S0FC07E,R01FC07F,R03F001F80,R07F001FC0,R0FC0H07E0,Q01FC0H07F0,Q03F0I01F8,Q07F0I01FC,Q0FC0J07E,P01FC0J07F,P03F0K01F80,P07F0K01FC0,P0FC0L07E0,O01F80L03F0,O03F80L01F8,O07E0N0FC,O0FE0N07E,N01F80N03F,N03F80N03F80,N07F0P0FC0,N0FE0P07E0,M01F80P03F0,M03F80P03F8,M07E0R0FC,M0FE0R07E,L01F80R03F,L03F80R03F80,L07F001FNF801FC0,L0FC001FNF8007E0,K01FC001FNF8007F0,K03F0J0F02F20E0I01F8,K07F0J0700F01E0I01FC,K0FC0J0F00F00E0J07E,J01FC0J0700F01E0J07F,J03F0K0F00F00E0J01F80,J07F0K0700F01E0J01FC0,J0FC0K0F00F00E0K07E0,I01FC0K0700F01E0K07F0,I03F0L0F00F00E0K01F8,I07F0L0700F01E0K01FC,I0FC0L0F00F00E0L07E,H01FC0L0700F01E0L07F,I0FC0L0F00F00E0L07E,I07F0L0700F01E0K01FC,I03F0L0F00F00E0K01F8,I01FC0K0700F01E0K07F0,J0FC0K0F00F00E0K07E0,J07F0K0700F01E0J01FC0,J03F0K0F00F00E0J01F80,J01FC0J0700F01E0J07F,K0FC0J0F00F00E0J07E,K07F0J0700F01E0I01FC,K03F0J0F00F00E0I01F8,K01FC0I0700F01E0I07F0,L0FC001FNF8007E0,L07F001FNF801FC0,L03F001FNF801F80,L01F8015N5H03F,M0FE0R07E,M07E0R0FC,M03F0Q01F8,M01F80P03F0,N0FC0P07E0,N07E0P0FC0,N03F0O01F80,N01F80N03F,O0FE0N07E,O07E0N0FC,O03F0M01F8,O01F80L03F0,P0FC0L07E0,P07F0K01FC0,P03F0K01F80,P01FC0J07F,Q0FC0J07E,Q07F0I01FC,Q03F0I01F8,Q01FC0H07F0,R0FC0H07E0,R07F001FC0,R03F001F80,R01FC07F,S0FC07E,S07F1FC,S03F1F8,S01FHF0,T0HFE0,T07FC0,T03F80,T01F,U0E,U04,,::"},"36":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::P03FRFE0,Q0TF0,Q0HF803FHF80I038,Q03F0H01FFC0I01C,Q03F0I0HFE0J0E,Q01F0I01FF0J07,R0F0J0HF80I0380,R0780I03FC0I01C0,R03803E00FIFE00E0,R01C03FC07FIFH070,S0E03FC03FIF8038,S0701FF01FC0I01C,S03FIF807E0J0E,S01FIFC03F80I07,T07FHFE01F80I0380,T07FIFH0FC0I01C0,T01FIF807E0J0E0,M0140J01F57FC03FIF8070,M0FE00F0H0700FE01FIFC038,L01FF00F0H07807E01FIFE01C,L03FF80F0H03C00E00FE0J0E,L03C7C0F0H01F0J07F0J07,L0383C0F0I0F80I07F80I0380L0783C0F0I07E0I07FC0I01C0L0383C0F0I03F80H07FE0J0E0L03C7C0F0I01FF0H07FF0J070L03FF80F0J07FE01FNF8L01FF00F0J07FRFCM0HFH0F0J0C01FC0FF0J070M05F00F0I03C01F81FF0J0E0M01E00F0I03003F03FC0I01C0M01C00F0I0E007E07F80I0380M03C00F0I0C007C07F0J07,M07C00F0H03800781FE0J0E,M07800FE0030H0E01FEAHA01E,M070H0FE0060H0C07FIFC038,M070H0FC00C0H0807FIF8078,T01800101FJFH0E0,T030H0301FF0I01E0,T060J07FC0I0380,T0C0J07FC0I0780,S01804001FF80H01E,S07008003FE0I01C,S06018007FF774078,R01C03800FJF80F0,R01807001FJFH0E0,R0700F003FC0I03C0,R0601F003F80I0380,Q01C03E00FF0J0F,Q01807C01FE0J0F,Q0300FC03FC0I03C,Q0601FC07F80I03C,Q0C07F80FF0J0F0,P01FSF0,P03BFBFBFBFBFBFBC0,,:::::::::::::::::::::::::"},"40":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,:::::::::::::::::::::::O07E0F83FFBC038,O0FE1FC3FF9C038,O0E73CE3FF9E070,N01C73860038E070,N0183B860038FHF0,N018338700387FE0,O0C738F003870E0,O07E1CF1FF878C0,O07E1FF1FF839C0,O0C7077003819C0,O0C700600381B80,O0C738600381F80,O0E73CE22381F80,O0FE1FC3FF80F,O07E0F83FF80F,,::::::::::::::T0A8,R07FIF0,P03FFA02FFE0,P0HFK03F8,O0FE0L01F80,N03E0N03C0,M03F0P0F8,M070Q01C,L01E0R0E,L070S0380,L0E0S01C0,L0C0T060,L0C0T030,L0C0T018,L0C0U0C,L0C0U06,L0C0J080O06,L0C007FHFC0L01C3,L0C03FEABE0L03E3,L0C1F80H03C0K01F180,L0C3E0J0E0K03F8C0,L0DF0K070K01F8C0,L0F80K0180J03F860,L0E0M0C0J01F860,L080M060J03F830,U070J01F830,U030J03F830,J03FFC0L010J01F810,J03FFC0L0180I03F818,J0300C0M0C0I01F818,J0300C0M0C002A3F808,J0300C0M0C007F1F808,J0300C0M0C03FF3F808,J0300C0M0407FF1F80C,J0300C0M061FHF3F80C,J0300C0M041FHF1F80C,J0300C0M063FHF3F80C,I05700D70L043FC01F80C,I0HFH0HFM0E7F803F80C,I0C0I030L0C7F001F808,I0C0I030L0CFE003F808,I0C0I030L0CFE001F818,I0C0I030L08FE003F818,I0LFL018FE003F810,I0LFL038FE003F830,U0307E003F030,U0607F007F830,L0C0M0407F80FF020,L0F0M0C03FE3FE060,L0FC0K01803FIFE040,L0CF80J06001FIFC0C0,L0C3F0I01E0H0JF80C0,L0C0FF800F80H07FHF0180,L0C00FFD7E0I01FFE01,L0C0H0IFL07F003,L0C0U06,L0C0U0C,L0C0T01C,L0C0T038,L0C0T070,L0C0T0E0,L0E0S01C0,L03C0R03,L01E0R0E,M03C0P038,N0780N01F0,N03F0N07C0,O03F0L07C,P0HF80I0HF8,Q07FJFE,R03FHFE0,,::"},"41":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,:::::::::::::::::::::::T0KFE,T0KFC,::T0KFE,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,T0F8003C,::T0F8003E,I03FgF8,:J0gGF8,:J03FYF8,J03F80V0F8,K0FC0V0F8,K07E0V0F8,K07F0V0F8,K01F80U0F8,K01FC0U0F8,L07E0U0F8,L07F0U0F8,L01F80T0F8,L01FC0T0F8,M0FE0T0F8,M07F0T0F8,M03F80S0F8,M01FC0S0F8,N0FE0S0F8,N07F0S0F8,N03F80R0F8,O0FC0R0F8,O0VF8,O07FTF8,O03FTF8,O01FTF8,P0UF8,,::"},"42":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::O01FRFC,O01FSF,P0HF801FHF80I07,P07F0H03FFC0I03C0,P03F0I0HFE0I01C0,P01F0I03FF0J0F0,Q0F0J0HFK070,Q0780I03FC0I038,Q03807C01FIFC01C,Q01C03F80FJFH0E,R0C03FC07FIFH07,R0601FE01FC0I0380,R03FIFH0FC0I01C0,R01FIF803F0J0E0,S07FHFE01F80I078,S07FHFE00F80I038,S01FIF807E0I01C,S01EABF803FIFH0E,K01C0H0F0H0701FC03FIF807,K01C0H0F0H0700FE01FIFC0380,K01C0H0F0H01C01C00FE0I01C0,K01C0H0F0H01E0J0FE0J0F0,K07FFC0F0I0F0J0HFK070,K07FFE0F0I07E0I0HF80I038,K07FFC0F0I03F0I0HFC0I01C,K03EBE0F0I01FE0H0HFE0J0E,K01C3C0F0J0HFE03FNF,K01C780F0J0TF80K01CF00F0I01C01F80FF0J0E,K01CF00F0I03803F01FE0I01C,K01DE00F0I07003E03FC0I038,K01FC00F0I0E007C07F0J070,K01FC00F0H01C00780FF0J0F0,K01F800F0H03800F01FE0I01C0,K01F0H0HFH070H0E03FD55403C0,K01F0H0FE00E001C07FIF807,K01E0H0FC01C00180FJF80F,K01C0K03800381FJF01C,S070H0203FE0I03C,S0E0H0407FC0I078,R01C0J0HF80I0F0,R0380C001FF0I01E0,R06018003FE0I0380,R0E018007FEHE80780,Q01C070H0KFH0E,Q0380F001FIFE01E,Q0701E003F80I038,Q0E03E007F0J078,P01C07E00FE0J0F0,P0380FC01FE0I01E0,P0701FC03F80I0380,P0603F807F80I0780,O01C07F80FE0J0F,O03FRFE,O0H7F7F7F7F7F7F78,,:::::::::::::::::::::::::"},"43":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,:::::::::::::::::::::::S01F03C0F,S01F87E1F80,S039CC719C0,S030CC338C0,S0701C031C0H010,S0300C030C0,S039CF870C0,S03F83830C0,S01F87031C0,T018E038C0,T018C339C0,S03F8FE1F80,S03F87E1F,,::::::N010H010H010H010H010,,T017FF,T0JFE0,S07FF57FF,R03F80H03F80,R0FC0J07F0,Q03F0L0F8,Q07C0L01F,Q0E0N0F80,P07C0N03C0,P0780N01E0,O01F0P070,O01C0P038,O0780P01C,O070R0E,N01E0010H010H0100710,O0C0K0C0K0380,N03C0J0140K01C0,N030K0270L0C0,N070K04780K0E0,N0E0J0187C0K060,N0C0J0307E0K070,M01C0J0607F0K038,M01C0I01C07F80J038,M0380I01007FC0K0C,M030J03007FE0J01C,M030J04007FF80J0E,M070I01C007FFC0J0E,M060I030H07FFE0J0E,M060I070H07FHFK07,M0E0I0C0013FHF80I03,L01C1001101757FFD0H013,M0C0H02001E41FFE0I03,L01C0H0400FC607FF0I03,M0C0H0803F8601FF80H0380,L01C00101FF87007FC0H0380,L01800203FF8F800FE0H0380,L01C0041FHF07C007F800180,L0180083FFE07C0H0F800180,L018011FHFE07C0H03F00180,M08022FHFC0FE0I0E00180,L01C0DFIFC07E0I0180180,L0180FJF807F2J280180,L01C15J5407FD5I540180,L0180K040FF80K0380,L01C0K0407F0L0180,L0180K0207F0L0380,L01C10H010607F0010H013,M0C0K0207E0L03,:M0C0M07E0L03,M060K0107C0L07,M060K010FC0L06,M070K0187C0L06,M030L087C0L0E,M070K0187C0K01C,M0380K08F80L0C,M0380K04780K01C,M01C0K0470L038,M01C0K0470L070,N0E0L0F0L070,N070K0270L0E0,N030K0260L0E0,N03800100370H01001D0,O080J0240K0380,O0C0J0140K07,O0E0J01C0K07,O070J01C0J01E,O0380J080J01C,O01E0J080J078,P0E0J080J0F0,P07C0N01E0,Q0C0N0380,Q0F0M01F,Q03E0L03C,Q01F0K01F8,R03E0J0FC0,R01FF0017F40,S03FJF8,N010J07FHFD010H010,,::"},"46":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02560,020,,::::::::::::::::::::::::::::::::::::::::::::::Q03FRFE,R0TF,R0HF803FHF80I0380,R03F0H01FFC0I01C0,R03F0I0HFE0J0E0,R01F0I01FF0J070,S0F0J0HF80I038,S0780I03FC0I01C,S03803E00FIFE00E,S01C03FC07FIFH07,T0E03FC03FIF80380,T0701FF01FC0I01C0,T03FIF807E0J0E0,T01FIFC03F80I070,U07FHFE01F80I038,U07FIFH0FC0I01C,U01FIF807E0J0E,U01F57FC03FIF807,N0FE00FE00700FE01FIFC0380,M01FF03FF007807E01FIFE01C0,M01FF83FF803C00E00FE0J0E0,M03C7C7C7C01F0J07F0J070,M0383C703800F80I07F80I038,M0781CF03C007E0I07FC0I01C,M0781CF0J03F80H07FE0J0E,M0781C70J01FF0H07FF0J07,M0781E3C0J07FE01FNF80,M0781E3F0J07FRFC0,M0781E0F80I0C01FC0FF0J07,M0781C1F80H03C01F81FF0J0E,M0781C3E0I03003F03FC0I01C,M0781C3C0I0E007E07F80I038,M0383C380I0C007C07F0J070,M03C3C7C7803800781FE0J0E0,M03E7C3CF8030H0E01FEAHA01E0,M01FF83FF0060H0C07FIFC0380,N0HF01FE00C0H0807FIF80780,N07C007C01800101FJFH0E,U030H0301FF0I01E,U060J07FC0I038,U0C0J07FC0I078,T01804001FF80H01E0,T07008003FE0I01C0,T06018007FF7740780,S01C03800FJF80F,S01807001FJFH0E,S0700F003FC0I03C,S0601F003F80I038,R01C03E00FF0J0F0,R01807C01FE0J0F0,R0300FC03FC0I03C0,R0601FC07F80I03C0,R0C07F80FF0J0F,Q01FSF,Q03BFBFBFBFBFBFBC,,:::::::::::::::::::::::::"},"47":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::J03F80H0A0H0A800FE00A80H0A,I01FHF801F0H0F807FF807C001F,I03FHFC01F0H0F807FFC07C001F,I07FIF01F0H0F81FHFE07E001F,I0FE0FF01F0H0F81F83F03E001F,H01FC03F01F0H0F81F03F03E001F,H01F800F81F0H0F83E01F03F001F,H01F0H0F81F0H0F83E01F01F001F,H01F0H0F81F0H0F83E00F81F801F,H01F800781F0H0F83E00F81F801F,H01F80I01F0H0F83E00F80FE01F,H01FF0I01F0H0F83E00F807F45F,I0IFI01FJF83E00F803FIF,I07FHFH01FJF83E01F007FIF,I03FHF801FJF81F01F01FJF,I01FHFC01FJF81F03F01FJF,K0IF01FJF81FC7E03F801F,K01FF01F0H0F81FHFE03F001F,L03F01F0H0F807FFC03E001F,I0F801F81F0H0F801FF007E001F,I0F800F81F0H0F800FC003E001F,I0FC01F81F0H0F80K03E001F,I0FC01F01F0H0F80K03E001F,I07F47F01F0H0F80K03FJF,I03FIF01F0H0F80K01FJF,I01FHFC01F0H0F80K01FJF,J0IF801F0H0F80L0KF,J07FF001F0H0F80L01FIF,K02,,:::Y01,Y07,Y0F,X01F80,X07FC0,X0HFC0,W01FFC0,W03FFC0,W07FFE0,:W07FHF0,W0JF0,V01FIF0,V01FIF8,V01FIFC,V03FIFC,V07FIFE,V07FEFFE,V0HFCFHF,V0HFC7FF,U01FF87FFC0,U03FF83FFC0,U03FF03FFE0,U03FE01FHF0,U07FE01FHFC,U0HFC00FHF8,T01FF8007FF0,T01FF8003FE0,T03FF0H03F80,T07FE0,T0HFC0,T0HF80,S01FF80,S03FE,:S07FC,S0HFC,S0HF0,R01FF0,R03FE0,R07FC0,R0HF80,Q01FF,Q01FE,Q07FC,Q07F8,Q0HF0,P01FE0,P03FC0,P03F80,P07F,P0FE,O01FC,O03F8,O07E0,O0FC0,N01F80,N03E,N0FC,M01F0,M03E0,N080,,:::::"},"54":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::P03FRFE0,Q0TF0,Q0HF803FHF80I038,Q03F0H01FFC0I01C,Q03F0I0HFE0J0E,Q01F0I01FF0J07,R0F0J0HF80I0380,R0780I03FC0I01C0,R03803E00FIFE00E0,R01C03FC07FIFH070,S0E03FC03FIF8038,S0701FF01FC0I01C,S03FIF807E0J0E,S01FIFC03F80I07,T07FHFE01F80I0380,T07FIFH0FC0I01C0,T01FIF807E0J0E0,M0140J01F57FC03FIF8070,M0HF07FFC0700FE01FIFC038,L01FF87FFC07807E01FIFE01C,L03FFC7FF803C00E00FE0J0E,L07C3C45F001F0J07F0J07,L0781C03E0H0F80I07F80I0380L0781C03C0H07E0I07FC0I01C0L0781C0F80H03F80H07FE0J0E0L07C3C0F0I01FF0H07FF0J070L03EFC1E0J07FE01FNF8L01FF83E0J07FRFCM0HF03C0J0C01FC0FF0J070L01FF87C0I03C01F81FF0J0E0L01E38780I03003F03FC0I01C0L03C3C703800E007E07F80I0380L03C3C703800C007C07F0J07,L03C7C787803800781FE0J0E,L01E783EF8030H0E01FEAHA01E,L01FF03FF0060H0C07FIFC038,M0HF01FE00C0H0807FIF8078,M05C007801800101FJFH0E0,T030H0301FF0I01E0,T060J07FC0I0380,T0C0J07FC0I0780,S01804001FF80H01E,S07008003FE0I01C,S06018007FF774078,R01C03800FJF80F0,R01807001FJFH0E0,R0700F003FC0I03C0,R0601F003F80I0380,Q01C03E00FF0J0F,Q01807C01FE0J0F,Q0300FC03FC0I03C,Q0601FC07F80I03C,Q0C07F80FF0J0F0,P01FSF0,P03BFBFBFBFBFBFBC0,,:::::::::::::::::::::::::"},"56":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::01FJF8007FF001FFC007FIFE0,01FJF800FHFH03FFC007FIFE0,01FJF8007FF001FFC007FIFE0,01FJF800FHFH03FF8007FIFE0,01FJF8007FF003FFC007FIFE0,01FJF800FHFH03FFC007FIFE0,01FJF8007FF001FFC007FIFE0,01FJF800FHFH03FF8007FIFE0,01FJF8007FF003FFC007FIFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FMF8007FIFE0,J03FF8007FLFC007FIFE0,J03FF800FMFC007FIFE0,J03FF8007FLFC007FIFE0,J03FF800FMF8007FIFE0,J03FF8007FLFC007FIFE0,J03FF800FMFC007FIFE0,J03FF8007FLFC007FIFE0,J03FF800FMF8007FIFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,J03FF8007FF001FFC0J0HFE0,J03FF800FHFH03FF80J0HFE0,J03FF8007FF003FFC0J0HFE0,J03FF800FHFH03FFC0J0HFE0,01FJF8007FLFC007FIFE0,01FJF800FMF8007FIFE0,01FJF8007FLFC007FIFE0,01FJF800FMFC007FIFE0,01FJF8007FLFC007FIFE0,01FJF800FMF8007FIFE0,01FJF8007FLFC007FIFE0,01FJF800FMFC007FIFE0,01FJF8007FLFC007FIFE0,,:::::::::::::::::"},"57":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,:::::::::::::::::::::::T03FFE80,S01FJF0,R03FLF80,R0NFC0,Q0PF8,P01FIF407FHFE,P07FFE0J0IF80,O01FFC0L0IF0,O03FF80L03FF8,O0HFC0N07FC,N01FF0O03FE,N03FC0P07F80,N0HF80P03FC0,M01FE0Q01FE0,M03FC0R0HF0,M07F80R03F8,M0FE0S03FC,M0FC0T0FE,L01FC0T07E,M070M040L03F80,M030M0C0L03F80,U01E0M0FC0,U0370M07E0,U0H780L07E0,U0E7C0L03F0,U0C7E0L01F0,T0187E0L01F8,T0307F0M0FC,T0607F80L0FC,T0607FC0L07C,S01807FE0L07E,S01807FF0L03E,S03007FF80K03F,S06007FFC0K01F,S0C007FFE0K01F,R018007FFE0K01F80,R03800FIFM0F80,R060015FHF80K07C0,R0E00367FFC0K07C0,R0C00E61FFE0K07C0,Q01801C71FHFL07C0,Q03007C787FF0K07C0,Q0600F8783FF80J07E0,Q0C01F07C0FFC0J03C0,Q0C07F07E07FE0J03E0,P0301FE07E01FF0J03E0,P0303FE07F00FF80I03E0,P0607FC07F803FC0I03E0,P0C0FF807F803FE0I03E0,O0183FF007FC007E0I03E0,O0387FF807FF007F0I03E0,O071FHF807FHF01F80H03E0,O0E3FF9807FE3E0FC0H03E0,O0C7FC0807FE0F03C0H03E0,N019FE00C07FE00E0F0H03E0,N037F800407FC007C70H03E0,N06FC0H0607FC0H0FB8003E0,N0DF0I0607FC0H01EC003C0,N0F80I0607F80I03E007E0,M01C0J0607F80J0F007C0,T0207F80M07C0,T0307F80M07C0,T0307F0N07C0,T0107F0N07C0,T0107F0N0F80,T0107E0N0F80,T0187E0M01F80,T0187E0M01F,U087E0M01F,U0C7C0M03E,:U047C0M07C,U0C780M0FC,U06780M0FC,U06780L01F8,U02780L01F8,U03780L03F0,U0370M07E0,:U0170M0FC0,M030L01E0L01F80,M070L01E0L03F80,M0FC0L0E0L07E,L01FC0L0E0L0FE,M0FE0L0C0K01FC,M07F0L0C0K03F8,M03FC0K040K0HF0,M01FE0Q01FF0,N0HF80P03FC0,N07FC0P07F80,N01FF0O03FF,O0HFC0N07FC,O03FF80L03FF8,O01FFC0L07FF0,P07FFE0J0IFC0,P01FIFH01FHFE,Q0PFC,Q01FMFE0,R03FLF80,S07FJF0,T0BFHF80,,::"},"01":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::J0HFE0Q07FE,J0JFQ07FFE0,J0JFC0O07FHFC,J0KFP07FIF,J0KFC0N07FIFC0,J0LFO07FJF0,J0LF80M07FJF8,J0LFE0M07FJFC,J0LFE0M07FKF,J0MF80L07FKF80,J0EFKF80L06FKF80,L01FIFC0N01FIFE0,M03FHFE0O03FHFE0,M01FIFP01FIF0,N07FHF80O03FHF8,N01FHFC0O01FHFC,O0IFC0P0IFC,O07FFE0P07FFE,O03FFE0P03FFE,O01FHFQ01FHF,P0IFR0IF,P0IF80P07FF80,P07FF80P03FF80,P07FFC0P03FFC0,P03FFC0P03FFC0,P01FFC0P01FFC0,P01FFC0Q0HFE0,P01FFE0Q0HFE0,Q0HFE0Q0HFE0,Q0HFE0Q0IF0,L0MFE0Q07FE0,K01FLFE0Q07FF0,L0MFE0Q07FF0,K01FMFR07FF0,L0MFE0Q07FF0,K01FMFR07FF0,L0MFE0Q07FF0,K01FMFR07FF0,L0MFE0Q07FF0,K01FLFE0Q07FF0,L0MFE0Q07FF0,Q0HFE0Q0IF0,Q0HFE0Q0HFE0,P01FFE0Q0HFE0,:P01FFC0P01FFC0,P03FFC0P01FFC0,P07FFC0P03FFC0,P07FF80P03FFC0,P07FF80P07FF80,P0IFR0IF80,O01FHFR0IF,O03FFE0P03FHF,O07FFE0P03FFE,O0IFC0P0IFE,N01FHFC0O01FHFC,N03FHF80O03FHF8,N0JFQ07FHF8,M03FHFE0O03FIF0,M0JFC0O07FHFE0,J080FJF80N0KFC0,J0MF80L07FKF80,J0LFE0M07FKF,J0LFE0M07FJFE,J0LF80M07FJFC,J0LFO07FJF0,J0KFC0N07FIFE0,J0KFP07FIF80,J0JFE0O07FHFE,J0JFQ07FHF0,J0IF80P07FF80,J0540R05D0,,::::::::::::::::"},"02":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02560,020,,:::::::::::::::::::::::M07FgIFC0,:::::M07F7gG7FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0gG0FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0H040H040H040H040H0401FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0I07FQFC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07FQFC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07FQFC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0H047E040H040H04FC0401FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0H047E040H040H04FC0401FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0I0FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07E0O0FC0I0FC0,M07F0H047E040H040H04FC0401FC0,M07E0I07E0O0FC0I0FC0,M07F0I07E0O0FC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07FQFC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07FQFC0H01FC0,M07E0I07FQFC0I0FC0,M07F0I07FQFC0I0FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0H040H040H040H040H0401FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F0g01FC0,M07E0gG0FC0,M07F01L101H101H101J1FC0,M07FgIFC0,:::::,::"},"09":{"x":[576,448,352,224,128,0],"y":[384,384,384,384,384,384],"c":"02048,016,,::::::::::::::::::::::::::::::::::::::::::::::N03FRF80,N03FRFE0,N01FF003FHFK0E0,O0FE0H07FF80I078,O07E0H01FFC0I038,O03E0I07FE0I01E,O01E0I01FE0J0E,P0F0J07F80I07,P0700F803FIF80380,P03807F01FIFE01C0,P01807F80FIFE00E0,Q0C03FC03F80I070,Q07FHFE01F80I038,Q03FIFH07E0I01C,R0JFC03F0J0F,R0JFC01F0J07,R03FIFH0FC0I0380,K010K03D57F007FHFE01C0,K0FE03F800E03F807FIFH0E0,J01FF07FC00E01FC03FIF8070,J03FF8FFE003803801FC0I038,J07878F1F003C0I01FC0I01E,J07008E0F001E0I01FE0J0E,J07001E070H0FC0H01FF0J07,J07001E078007E0H01FF80I0380,J07001E078003FC001FFC0I01C0,J07861E078001FFC07FMFE0,J07FF1E078001FSF0,J03FF1E078003803F01FE0I01C0,J01FF1E078007007E03FC0I0380,K02E1E07800E007C07F80I07,L0E1E07001C00F80FE0J0E,L0E0E07003800F01FE0I01E,K01E0F1F007001E03FC0I038,J07FE0F9E00E001C07FAHA8078,J07FC07FE01C00380FJFH0E0,J07FC03FC03800301FJF01E0,J0H1401F0070H0703FIFE0380,R0E0H0407FC0I0780,Q01C0H080FF80I0F,Q0380I01FF0I01E,Q07018003FE0I03C,Q0C030H07FC0I070,P01C030H0HFIDH0F0,P0380E001FIFE01C0,P0701E003FIFC03C0,P0E03C007F0J07,O01C07C00FE0J0F,O0380FC01FC0I01E,O0701F803FC0I03C,O0E03F807F0J070,O0C07F00FF0J0F0,N0380FF01FC0I01E0,N07FRFC0,N0EFEFEFEFEFEFEF,,:::::::::::::::::::::::::"}},"node_modules/axon/index.js":"module.exports=require(\"./lib\");","node_modules/axon/lib/index.js":"exports.PubEmitterSocket=require(\"./sockets/pub-emitter\"),exports.SubEmitterSocket=require(\"./sockets/sub-emitter\"),exports.PushSocket=require(\"./sockets/push\"),exports.PullSocket=require(\"./sockets/pull\"),exports.PubSocket=require(\"./sockets/pub\"),exports.SubSocket=require(\"./sockets/sub\"),exports.ReqSocket=require(\"./sockets/req\"),exports.RepSocket=require(\"./sockets/rep\"),exports.Socket=require(\"./sockets/sock\"),exports.types={\"pub-emitter\":exports.PubEmitterSocket,\"sub-emitter\":exports.SubEmitterSocket,push:exports.PushSocket,pull:exports.PullSocket,pub:exports.PubSocket,sub:exports.SubSocket,req:exports.ReqSocket,rep:exports.RepSocket},exports.socket=function(e,t){var r=exports.types[e];if(!r)throw new Error('invalid socket type \"'+e+'\"');return new r(t)};","node_modules/axon/lib/sockets/pub-emitter.js":"var PubSocket=require(\"./pub\");module.exports=PubEmitterSocket;function PubEmitterSocket(){this.sock=new PubSocket,this.emit=this.sock.send.bind(this.sock),this.bind=this.sock.bind.bind(this.sock),this.connect=this.sock.connect.bind(this.sock),this.close=this.sock.close.bind(this.sock)}","node_modules/axon/lib/sockets/sub-emitter.js":"var Message=require(\"amp-message\"),SubSocket=require(\"./sub\");module.exports=SubEmitterSocket;function SubEmitterSocket(){this.sock=new SubSocket,this.sock.onmessage=this.onmessage.bind(this),this.bind=this.sock.bind.bind(this.sock),this.connect=this.sock.connect.bind(this.sock),this.close=this.sock.close.bind(this.sock),this.listeners=[]}SubEmitterSocket.prototype.onmessage=function(){var s=this.listeners,t=this;return function(e){for(var i=new Message(e),n=i.shift(),o=0;o<s.length;++o){var r=s[o],c=r.re.exec(n);c&&r.fn.apply(t,c.slice(1).concat(i.args))}}},SubEmitterSocket.prototype.on=function(s,t){var e=this.sock.subscribe(s);return this.listeners.push({event:s,re:e,fn:t}),this},SubEmitterSocket.prototype.off=function(s){for(var t=0;t<this.listeners.length;++t)this.listeners[t].event===s&&(this.sock.unsubscribe(this.listeners[t].re),this.listeners.splice(t--,1));return this};","node_modules/axon/lib/sockets/push.js":"var roundrobin=require(\"../plugins/round-robin\"),queue=require(\"../plugins/queue\"),Socket=require(\"./sock\");module.exports=PushSocket;function PushSocket(){Socket.call(this),this.use(queue()),this.use(roundrobin({fallback:this.enqueue}))}PushSocket.prototype.__proto__=Socket.prototype;","node_modules/axon/lib/sockets/pull.js":"var Socket=require(\"./sock\");module.exports=PullSocket;function PullSocket(){Socket.call(this)}PullSocket.prototype.__proto__=Socket.prototype,PullSocket.prototype.send=function(){throw new Error(\"pull sockets should not send messages\")};","node_modules/axon/lib/sockets/pub.js":"var Socket=require(\"./sock\"),slice=require(\"../utils\").slice;module.exports=PubSocket;function PubSocket(){Socket.call(this)}PubSocket.prototype.__proto__=Socket.prototype,PubSocket.prototype.send=function(t){for(var e,o=this.socks,r=o.length,c=this.pack(arguments),i=0;i<r;i++)(e=o[i]).writable&&e.write(c);return this};","node_modules/axon/lib/sockets/sub.js":"var debug=require(\"debug\")(\"axon:sub\"),escape=require(\"escape-regexp\"),Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=SubSocket;function SubSocket(){Socket.call(this),this.subscriptions=[]}SubSocket.prototype.__proto__=Socket.prototype,SubSocket.prototype.hasSubscriptions=function(){return!!this.subscriptions.length},SubSocket.prototype.matches=function(t){for(var e=0;e<this.subscriptions.length;++e)if(this.subscriptions[e].test(t))return!0;return!1},SubSocket.prototype.onmessage=function(t){var e=this.hasSubscriptions(),s=this;return function(t){var o=new Message(t);if(e){var r=o.args[0];if(!s.matches(r))return debug('not subscribed to \"%s\"',r)}s.emit.apply(s,[\"message\"].concat(o.args))}},SubSocket.prototype.subscribe=function(t){return debug('subscribe to \"%s\"',t),this.subscriptions.push(t=toRegExp(t)),t},SubSocket.prototype.unsubscribe=function(t){debug('unsubscribe from \"%s\"',t),t=toRegExp(t);for(var e=0;e<this.subscriptions.length;++e)this.subscriptions[e].toString()===t.toString()&&this.subscriptions.splice(e--,1)},SubSocket.prototype.clearSubscriptions=function(){this.subscriptions=[]},SubSocket.prototype.send=function(){throw new Error(\"subscribers cannot send messages\")};function toRegExp(t){return t instanceof RegExp?t:(t=escape(t),t=t.replace(/\\\\\\*/g,\"(.+)\"),new RegExp(\"^\"+t+\"$\"))}","node_modules/axon/lib/sockets/req.js":"var debug=require(\"debug\")(\"axon:req\"),queue=require(\"../plugins/queue\"),slice=require(\"../utils\").slice,Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=ReqSocket;function ReqSocket(){Socket.call(this),this.n=0,this.ids=0,this.callbacks={},this.identity=this.get(\"identity\"),this.use(queue())}ReqSocket.prototype.__proto__=Socket.prototype,ReqSocket.prototype.id=function(){return this.identity+\":\"+this.ids++},ReqSocket.prototype.onmessage=function(){var e=this;return function(t){var i=new Message(t),s=i.pop(),o=e.callbacks[s];if(!o)return debug(\"missing callback %s\",s);o.apply(null,i.args),delete e.callbacks[s]}},ReqSocket.prototype.send=function(e){var t=this.socks,i=t.length,s=t[this.n++%i],o=slice(arguments);if(s){\"function\"==typeof o[o.length-1]||o.push(function(){});var c=o.pop();c.id=this.id(),this.callbacks[c.id]=c,o.push(c.id)}s?s.write(this.pack(o)):(debug(\"no connected peers\"),this.enqueue(o))};","node_modules/axon/lib/sockets/rep.js":"var slice=require(\"../utils\").slice,debug=require(\"debug\")(\"axon:rep\"),Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=RepSocket;function RepSocket(){Socket.call(this)}RepSocket.prototype.__proto__=Socket.prototype,RepSocket.prototype.onmessage=function(e){var t=this;return function(o){var r=new Message(o).args,n=r.pop();r.unshift(\"message\"),r.push(function(){var o=function(){},r=slice(arguments);r[0]=r[0]||null;\"function\"==typeof r[r.length-1]&&(o=r.pop());return r.push(n),e.writable?(e.write(t.pack(r),function(){o(!0)}),!0):(debug(\"peer went away\"),process.nextTick(function(){o(!1)}),!1)}),t.emit.apply(t,r)}};","node_modules/axon/lib/sockets/sock.js":"var Emitter=require(\"events\").EventEmitter,Configurable=require(\"configurable\"),debug=require(\"debug\")(\"axon:sock\"),Message=require(\"amp-message\"),Parser=require(\"amp\").Stream,url=require(\"url\"),net=require(\"net\"),fs=require(\"fs\"),ignore=[\"ECONNREFUSED\",\"ECONNRESET\",\"ETIMEDOUT\",\"EHOSTUNREACH\",\"ENETUNREACH\",\"ENETDOWN\",\"EPIPE\",\"ENOENT\"];module.exports=Socket;function Socket(){this.server=null,this.socks=[],this.settings={},this.set(\"hwm\",1/0),this.set(\"identity\",String(process.pid)),this.set(\"retry timeout\",100),this.set(\"retry max timeout\",5e3)}Socket.prototype.__proto__=Emitter.prototype,Configurable(Socket.prototype),Socket.prototype.use=function(e){return e(this),this},Socket.prototype.pack=function(e){return new Message(e).toBuffer()},Socket.prototype.closeSockets=function(){debug(\"%s closing %d connections\",this.type,this.socks.length),this.socks.forEach(function(e){e.destroy()})},Socket.prototype.close=function(e){debug(\"%s closing\",this.type),this.closing=!0,this.closeSockets(),this.server&&this.closeServer(e)},Socket.prototype.closeServer=function(e){debug(\"%s closing server\",this.type),this.server.on(\"close\",this.emit.bind(this,\"close\")),this.server.close(),e&&e()},Socket.prototype.address=function(){if(this.server){var e=this.server.address();return e.string=\"tcp://\"+e.address+\":\"+e.port,e}},Socket.prototype.removeSocket=function(e){var t=this.socks.indexOf(e);~t&&(debug(\"%s remove socket %d\",this.type,t),this.socks.splice(t,1))},Socket.prototype.addSocket=function(e){var t=new Parser,o=this.socks.push(e)-1;debug(\"%s add socket %d\",this.type,o),e.pipe(t),t.on(\"data\",this.onmessage(e))},Socket.prototype.handleErrors=function(e){var t=this;e.on(\"error\",function(o){if(debug(\"%s error %s\",t.type,o.code||o.message),t.emit(\"socket error\",o),t.removeSocket(e),!~ignore.indexOf(o.code))return t.emit(\"error\",o);debug(\"%s ignored %s\",t.type,o.code),t.emit(\"ignored error\",o)})},Socket.prototype.onmessage=function(e){var t=this;return function(e){var o=new Message(e);t.emit.apply(t,[\"message\"].concat(o.args))}},Socket.prototype.connect=function(e,t,o){var r=this;if(\"server\"==this.type)throw new Error(\"cannot connect() after bind()\");\"function\"==typeof t&&(o=t,t=void 0),\"string\"==typeof e?\"unix:\"==(e=url.parse(e)).protocol?(t=o,o=void 0,e=e.pathname):(t=e.hostname||\"0.0.0.0\",e=parseInt(e.port,10)):t=t||\"0.0.0.0\";var s=r.get(\"retry max timeout\"),n=new net.Socket;return n.setNoDelay(),this.type=\"client\",this.handleErrors(n),n.on(\"close\",function(){if(r.emit(\"socket close\",n),r.connected=!1,r.removeSocket(n),r.closing)return r.emit(\"close\");var o=r.retry||r.get(\"retry timeout\");setTimeout(function(){debug(\"%s attempting reconnect\",r.type),r.emit(\"reconnect attempt\"),n.destroy(),r.connect(e,t),r.retry=Math.round(Math.min(s,1.5*o))},o)}),n.on(\"connect\",function(){debug(\"%s connect\",r.type),r.connected=!0,r.addSocket(n),r.retry=r.get(\"retry timeout\"),r.emit(\"connect\",n),o&&o()}),debug(\"%s connect attempt %s:%s\",r.type,t,e),n.connect(e,t),this},Socket.prototype.onconnect=function(e){var t=this,o=e.remoteAddress+\":\"+e.remotePort;debug(\"%s accept %s\",t.type,o),this.addSocket(e),this.handleErrors(e),this.emit(\"connect\",e),e.on(\"close\",function(){debug(\"%s disconnect %s\",t.type,o),t.emit(\"disconnect\",e),t.removeSocket(e)})},Socket.prototype.bind=function(e,t,o){var r=this;if(\"client\"==this.type)throw new Error(\"cannot bind() after connect()\");\"function\"==typeof t&&(o=t,t=void 0);var s=!1;return\"string\"==typeof e?\"unix:\"==(e=url.parse(e)).protocol?(t=o,o=void 0,e=e.pathname,s=!0):(t=e.hostname||\"0.0.0.0\",e=parseInt(e.port,10)):t=t||\"0.0.0.0\",this.type=\"server\",this.server=net.createServer(this.onconnect.bind(this)),debug(\"%s bind %s:%s\",this.type,t,e),this.server.on(\"listening\",this.emit.bind(this,\"bind\")),s&&this.server.on(\"error\",function(s){if(\"EADDRINUSE\"==s.code){var n=new net.Socket;n.on(\"error\",function(s){\"ECONNREFUSED\"==s.code&&(fs.unlink(e),r.server.listen(e,t,o))}),n.connect({path:e},function(){throw s})}}),this.server.listen(e,t,o),this};","node_modules/axon/lib/utils.js":"exports.slice=function(r){for(var e=r.length,n=new Array(e),t=0;t<e;t++)n[t]=r[t];return n};","node_modules/configurable/index.js":"module.exports=require(\"./lib/configurable\");","node_modules/amp-message/index.js":"var fmt=require(\"util\").format,amp=require(\"amp\"),methods=[\"push\",\"pop\",\"shift\",\"unshift\"];module.exports=Message;function Message(e){Buffer.isBuffer(e)&&(e=decode(e)),this.args=e||[]}methods.forEach(function(e){Message.prototype[e]=function(){return this.args[e].apply(this.args,arguments)}}),Message.prototype.inspect=function(){return fmt(\"<Message args=%d size=%d>\",this.args.length,this.toBuffer().length)},Message.prototype.toBuffer=function(){return encode(this.args)};function decode(e){for(var t=amp.decode(e),r=0;r<t.length;r++)t[r]=unpack(t[r]);return t}function encode(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=pack(e[r]);return amp.encode(t)}function pack(e){return Buffer.isBuffer(e)?e:\"string\"==typeof e?new Buffer(\"s:\"+e):(void 0===e&&(e=null),new Buffer(\"j:\"+JSON.stringify(e)))}function unpack(e){return isJSON(e)?JSON.parse(e.slice(2)):isString(e)?e.slice(2).toString():e}function isString(e){return 115==e[0]&&58==e[1]}function isJSON(e){return 106==e[0]&&58==e[1]}function isId(e){return 105==e[0]&&58==e[1]}","node_modules/amp/index.js":"exports.Stream=require(\"./lib/stream\"),exports.encode=require(\"./lib/encode\"),exports.decode=require(\"./lib/decode\");","node_modules/configurable/lib/configurable.js":"module.exports=function(t){return t.settings={},t.set=function(t,e){if(1==arguments.length)for(var n in t)this.set(n,t[n]);else this.settings[t]=e;return this},t.get=function(t){return this.settings[t]},t.enable=function(t){return this.set(t,!0)},t.disable=function(t){return this.set(t,!1)},t.enabled=function(t){return!!this.get(t)},t.disabled=function(t){return!this.get(t)},t};","node_modules/amp/lib/stream.js":"var Stream=require(\"stream\").Writable,encode=require(\"./encode\");module.exports=Parser;function Parser(t){Stream.call(this,t),this.state=\"message\",this._lenbuf=new Buffer(4)}Parser.prototype.__proto__=Stream.prototype,Parser.prototype._write=function(t,e,s){for(var r=0;r<t.length;r++)switch(this.state){case\"message\":var a=t[r];this.version=a>>4,this.argv=15&a,this.state=\"arglen\",this._bufs=[new Buffer([a])],this._nargs=0,this._leni=0;break;case\"arglen\":if(this._lenbuf[this._leni++]=t[r],4==this._leni){this._arglen=this._lenbuf.readUInt32BE(0);var i=new Buffer(4);i[0]=this._lenbuf[0],i[1]=this._lenbuf[1],i[2]=this._lenbuf[2],i[3]=this._lenbuf[3],this._bufs.push(i),this._argcur=0,this.state=\"arg\"}break;case\"arg\":var h=this._arglen-this._argcur,n=Math.min(h+r,t.length),_=t.slice(r,n);this._bufs.push(_),this._argcur+=n-r;var u=this._argcur==this._arglen;if(r=n-1,u&&this._nargs++,this._nargs==this.argv){this.state=\"message\",this.emit(\"data\",Buffer.concat(this._bufs));break}u&&(this.state=\"arglen\",this._leni=0)}s()};","node_modules/amp/lib/encode.js":"var version=1;module.exports=function(r){for(var e=r.length,n=1,t=0,o=0;o<e;o++)n+=4+r[o].length;var v=new Buffer(n);v[t++]=version<<4|e;for(o=0;o<e;o++){var f=r[o];v.writeUInt32BE(f.length,t),t+=4,f.copy(v,t),t+=f.length}return v};","node_modules/amp/lib/decode.js":"module.exports=function(r){for(var e=0,a=r[e++],n=15&a,o=new Array(n),t=0;t<n;t++){var u=r.readUInt32BE(e);e+=4;var v=r.slice(e,e+=u);o[t]=v}return o};","node_modules/escape-regexp/index.js":"module.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\\]\\/\\\\])/g,\"\\\\$1\")};","node_modules/axon/lib/plugins/round-robin.js":"var slice=require(\"../utils\").slice;module.exports=function(i){var e=(i=i||{}).fallback||function(){};return function(i){e=e.bind(i);var n=0;i.send=function(){var i=this.socks,t=i.length,r=i[n++%t],c=slice(arguments);r&&r.writable?r.write(this.pack(c)):e(c)}}};","node_modules/axon/lib/plugins/queue.js":"var debug=require(\"debug\")(\"axon:queue\");module.exports=function(e){return e=e||{},function(e){e.queue=[],e.on(\"connect\",function(){var u=e.queue,n=u.length;e.queue=[],debug(\"flush %d messages\",n);for(var t=0;t<n;++t)this.send.apply(this,u[t]);e.emit(\"flush\",u)}),e.enqueue=function(u){var n=e.settings.hwm;if(e.queue.length>=n)return function(u){debug(\"drop\"),e.emit(\"drop\",u)}(u);e.queue.push(u)}}};","node_modules/engine.io/lib/engine.io.js":"var http=require(\"http\");exports=module.exports=function(){return arguments.length&&arguments[0]instanceof http.Server?attach.apply(this,arguments):exports.Server.apply(null,arguments)},exports.protocol=1,exports.Server=require(\"./server\"),exports.Socket=require(\"./socket\"),exports.Transport=require(\"./transport\"),exports.transports=require(\"./transports\"),exports.parser=require(\"engine.io-parser\"),exports.listen=listen;function listen(e,t,r){\"function\"==typeof t&&(r=t,t={});var o=http.createServer(function(e,t){t.writeHead(501),t.end(\"Not Implemented\")});o.listen(e,r);var p=exports.attach(o,t);return p.httpServer=o,p}exports.attach=attach;function attach(e,t){var r=new exports.Server(t);return r.attach(e,t),r}","node_modules/socket.io/lib/index.js":"var http=require(\"http\"),read=require(\"fs\").readFileSync,engine=require(\"engine.io\"),client=require(\"socket.io-client\"),clientVersion=require(\"socket.io-client/package\").version,Client=require(\"./client\"),Emitter=require(\"events\").EventEmitter,Namespace=require(\"./namespace\"),Adapter=require(\"socket.io-adapter\"),debug=require(\"debug\")(\"socket.io:server\"),url=require(\"url\");module.exports=Server;var clientSource=void 0,clientSourceMap=void 0;function Server(e,t){if(!(this instanceof Server))return new Server(e,t);\"object\"!=typeof e||e.listen||(t=e,e=null),t=t||{},this.nsps={},this.path(t.path||\"/socket.io\"),this.serveClient(!1!==t.serveClient),this.adapter(t.adapter||Adapter),this.origins(t.origins||\"*:*\"),this.sockets=this.of(\"/\"),e&&this.attach(e,t)}Server.prototype.checkRequest=function(e,t){var r=e.headers.origin||e.headers.referer;if(\"null\"!=r&&null!=r||(r=\"*\"),r&&\"function\"==typeof this._origins)return this._origins(r,t);if(-1!==this._origins.indexOf(\"*:*\"))return t(null,!0);if(r)try{var i=url.parse(r),n=\"https:\"==i.protocol?443:80;i.port=null!=i.port?i.port:n;return t(null,!!(~this._origins.indexOf(i.hostname+\":\"+i.port)||~this._origins.indexOf(i.hostname+\":*\")||~this._origins.indexOf(\"*:\"+i.port)))}catch(e){}t(null,!1)},Server.prototype.serveClient=function(e){if(!arguments.length)return this._serveClient;if(this._serveClient=e,e&&!clientSource){clientSource=read(require.resolve(\"socket.io-client/dist/socket.io.min.js\"),\"utf-8\");try{clientSourceMap=read(require.resolve(\"socket.io-client/dist/socket.io.js.map\"),\"utf-8\")}catch(e){debug(\"could not load sourcemap file\")}}return this};var oldSettings={transports:\"transports\",\"heartbeat timeout\":\"pingTimeout\",\"heartbeat interval\":\"pingInterval\",\"destroy buffer size\":\"maxHttpBufferSize\"};Server.prototype.set=function(e,t){return\"authorization\"==e&&t?this.use(function(e,r){t(e.request,function(e,t){return e?r(new Error(e)):t?void r():r(new Error(\"Not authorized\"))})}):\"origins\"==e&&t?this.origins(t):\"resource\"==e?this.path(t):oldSettings[e]&&this.eio[oldSettings[e]]?this.eio[oldSettings[e]]=t:console.error(\"Option %s is not valid. Please refer to the README.\",e),this},Server.prototype.path=function(e){return arguments.length?(this._path=e.replace(/\\/$/,\"\"),this):this._path},Server.prototype.adapter=function(e){if(!arguments.length)return this._adapter;this._adapter=e;for(var t in this.nsps)this.nsps.hasOwnProperty(t)&&this.nsps[t].initAdapter();return this},Server.prototype.origins=function(e){return arguments.length?(this._origins=e,this):this._origins},Server.prototype.listen=Server.prototype.attach=function(e,t){if(\"function\"==typeof e){throw new Error(\"You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.\")}if(Number(e)==e&&(e=Number(e)),\"number\"==typeof e){debug(\"creating http server and binding to %d\",e);var r=e;(e=http.Server(function(e,t){t.writeHead(404),t.end()})).listen(r)}return t=t||{},t.path=t.path||this.path(),t.allowRequest=t.allowRequest||this.checkRequest.bind(this),debug(\"creating engine.io instance with opts %j\",t),this.eio=engine.attach(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio),this},Server.prototype.attachServe=function(e){debug(\"attaching client serving req handler\");var t=this._path+\"/socket.io.js\",r=this._path+\"/socket.io.js.map\",i=e.listeners(\"request\").slice(0),n=this;e.removeAllListeners(\"request\"),e.on(\"request\",function(s,o){if(0===s.url.indexOf(r))n.serveMap(s,o);else if(0===s.url.indexOf(t))n.serve(s,o);else for(var a=0;a<i.length;a++)i[a].call(e,s,o)})},Server.prototype.serve=function(e,t){var r='\"'+clientVersion+'\"',i=e.headers[\"if-none-match\"];if(i&&r==i)return debug(\"serve client 304\"),t.writeHead(304),void t.end();debug(\"serve client source\"),t.setHeader(\"Content-Type\",\"application/javascript\"),t.setHeader(\"ETag\",r),t.setHeader(\"X-SourceMap\",\"socket.io.js.map\"),t.writeHead(200),t.end(clientSource)},Server.prototype.serveMap=function(e,t){var r='\"'+clientVersion+'\"',i=e.headers[\"if-none-match\"];if(i&&r==i)return debug(\"serve client 304\"),t.writeHead(304),void t.end();debug(\"serve client sourcemap\"),t.setHeader(\"Content-Type\",\"application/json\"),t.setHeader(\"ETag\",r),t.writeHead(200),t.end(clientSourceMap)},Server.prototype.bind=function(e){return this.engine=e,this.engine.on(\"connection\",this.onconnection.bind(this)),this},Server.prototype.onconnection=function(e){debug(\"incoming connection with id %s\",e.id);return new Client(this,e).connect(\"/\"),this},Server.prototype.of=function(e,t){\"/\"!==String(e)[0]&&(e=\"/\"+e);var r=this.nsps[e];return r||(debug(\"initializing namespace %s\",e),r=new Namespace(this,e),this.nsps[e]=r),t&&r.on(\"connect\",t),r},Server.prototype.close=function(e){for(var t in this.nsps[\"/\"].sockets)this.nsps[\"/\"].sockets.hasOwnProperty(t)&&this.nsps[\"/\"].sockets[t].onclose();this.engine.close(),this.httpServer?this.httpServer.close(e):e&&e()};var emitterMethods=Object.keys(Emitter.prototype).filter(function(e){return\"function\"==typeof Emitter.prototype[e]});emitterMethods.concat([\"to\",\"in\",\"use\",\"send\",\"write\",\"clients\",\"compress\"]).forEach(function(e){Server.prototype[e]=function(){return this.sockets[e].apply(this.sockets,arguments)}}),Namespace.flags.forEach(function(e){Object.defineProperty(Server.prototype,e,{get:function(){return this.sockets.flags=this.sockets.flags||{},this.sockets.flags[e]=!0,this}})}),Server.listen=Server;","backend/modules/sio/SocketIoMultiServer.js":"\"use strict\";const util=require(\"util\"),EventEmitter=require(\"events\").EventEmitter;module.exports=SocketIoMultiServer;function SocketIoMultiServer(){EventEmitter.call(this),this.servers=[]}util.inherits(SocketIoMultiServer,EventEmitter),SocketIoMultiServer.prototype.listen=function(){},SocketIoMultiServer.prototype.addServer=function(e){this.servers.push(e)},SocketIoMultiServer.prototype.addListener=function(e,t){for(let r=0,o=this.servers.length;r<o;++r)this.servers[r].addListener(e,t)},SocketIoMultiServer.prototype.on=SocketIoMultiServer.prototype.addListener,SocketIoMultiServer.prototype.once=function(e,t){for(let r=0,o=this.servers.length;r<o;++r)this.servers[r].once(e,t)},SocketIoMultiServer.prototype.removeListener=function(e,t){for(let r=0,o=this.servers.length;r<o;++r)this.servers[r].removeListener(e,t)},SocketIoMultiServer.prototype.removeAllListeners=function(e){for(let t=0,r=this.servers.length;t<r;++t)this.servers[t].removeAllListeners(e)},SocketIoMultiServer.prototype.setMaxListeners=function(e){for(let t=0,r=this.servers.length;t<r;++t)this.servers[t].setMaxListeners(e)},SocketIoMultiServer.prototype.listeners=function(e){return this.servers.length>0?this.servers[0].listeners(e):[]};","backend/modules/sio/routes.js":"\"use strict\";const _=require(\"lodash\");module.exports=function(e,o){const t=e[o.config.expressId],n=e[o.config.userId];t.get(\"/sockets\",n.auth(\"ADMIN\"),function(e,t){const n=[],r=(e.query.login||\"\").trim().toLocaleLowerCase(),c=(e.query.host||\"\").trim().toLocaleLowerCase(),i=(e.query.name||\"\").trim().toLocaleLowerCase();_.forEach(o.sockets.connected,function(e){const o=e.handshake,t=o.user||{},a=t.login,u=o.query&&o.query.COMPUTERNAME,l=((t.lastName||\"\")+\" \"+(t.firstName||\"\")).trim();s(r,a)||s(c,u)||s(i,l)||n.push({_id:e.id,host:u,ip:t.ipAddress,user:t._id,login:a,name:l,connectedAt:o.connectedAt})}),n.sort(function(e,o){const t=e.login.localeCompare(o.login);return 0===t?e._id.localeCompare(o._id):t}),t.json({totalCount:n.length,collection:n})});function s(e,o){return\"\"!==e&&(\"string\"!=typeof o||!o.toLocaleLowerCase().includes(e))}};","node_modules/engine.io/lib/server.js":"var qs=require(\"querystring\"),parse=require(\"url\").parse,base64id=require(\"base64id\"),transports=require(\"./transports\"),EventEmitter=require(\"events\").EventEmitter,Socket=require(\"./socket\"),util=require(\"util\"),debug=require(\"debug\")(\"engine\"),cookieMod=require(\"cookie\");module.exports=Server;function Server(e){if(!(this instanceof Server))return new Server(e);this.clients={},this.clientsCount=0,e=e||{},this.wsEngine=e.wsEngine||process.env.EIO_WS_ENGINE,this.pingTimeout=e.pingTimeout||6e4,this.pingInterval=e.pingInterval||25e3,this.upgradeTimeout=e.upgradeTimeout||1e4,this.maxHttpBufferSize=e.maxHttpBufferSize||1e8,this.transports=e.transports||Object.keys(transports),this.allowUpgrades=!1!==e.allowUpgrades,this.allowRequest=e.allowRequest,this.cookie=!1!==e.cookie&&(e.cookie||\"io\"),this.cookiePath=!1!==e.cookiePath&&(e.cookiePath||\"/\"),this.cookieHttpOnly=!1!==e.cookieHttpOnly,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||!0),this.httpCompression=!1!==e.httpCompression&&(e.httpCompression||{});var r=this;if([\"perMessageDeflate\",\"httpCompression\"].forEach(function(e){var t=r[e];!0===t&&(r[e]=t={}),t&&null==t.threshold&&(t.threshold=1024)}),~this.transports.indexOf(\"websocket\")){var t=(this.wsEngine?require(this.wsEngine):require(\"ws\")).Server;this.ws=new t({noServer:!0,clientTracking:!1,perMessageDeflate:this.perMessageDeflate,maxPayload:this.maxHttpBufferSize})}}Server.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3},Server.errorMessages={0:\"Transport unknown\",1:\"Session ID unknown\",2:\"Bad handshake method\",3:\"Bad request\"},util.inherits(Server,EventEmitter),Server.prototype.clients,Server.prototype.upgrades=function(e){return this.allowUpgrades?transports[e].upgradesTo||[]:[]},Server.prototype.verify=function(e,r,t){var s=e._query.transport;if(!~this.transports.indexOf(s))return debug('unknown transport \"%s\"',s),t(Server.errors.UNKNOWN_TRANSPORT,!1);var n=e._query.sid;return n?this.clients.hasOwnProperty(n)?r||this.clients[n].transport.name===s?void t(null,!0):(debug(\"bad request: unexpected transport without upgrade\"),t(Server.errors.BAD_REQUEST,!1)):t(Server.errors.UNKNOWN_SID,!1):\"GET\"!==e.method?t(Server.errors.BAD_HANDSHAKE_METHOD,!1):this.allowRequest?this.allowRequest(e,t):t(null,!0)},Server.prototype.prepare=function(e){e._query||(e._query=~e.url.indexOf(\"?\")?qs.parse(parse(e.url).query):{})},Server.prototype.close=function(){debug(\"closing all open clients\");for(var e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.ws&&(debug(\"closing webSocketServer\"),this.ws.close()),this},Server.prototype.handleRequest=function(e,r){debug('handling \"%s\" http request \"%s\"',e.method,e.url),this.prepare(e),e.res=r;var t=this;this.verify(e,!1,function(s,n){n?e._query.sid?(debug(\"setting new request for existing client\"),t.clients[e._query.sid].transport.onRequest(e)):t.handshake(e._query.transport,e):sendErrorMessage(e,r,s)})};function sendErrorMessage(e,r,t){var s={\"Content-Type\":\"application/json\"};e.headers.origin?(s[\"Access-Control-Allow-Credentials\"]=\"true\",s[\"Access-Control-Allow-Origin\"]=e.headers.origin):s[\"Access-Control-Allow-Origin\"]=\"*\",r.writeHead(400,s),r.end(JSON.stringify({code:t,message:Server.errorMessages[t]}))}Server.prototype.generateId=function(e){return base64id.generateId()},Server.prototype.handshake=function(e,r){var t=this.generateId(r);debug('handshaking client \"%s\"',t);try{var s=new transports[e](r);\"polling\"===e?(s.maxHttpBufferSize=this.maxHttpBufferSize,s.httpCompression=this.httpCompression):\"websocket\"===e&&(s.perMessageDeflate=this.perMessageDeflate),r._query&&r._query.b64?s.supportsBinary=!1:s.supportsBinary=!0}catch(e){return void sendErrorMessage(r,r.res,Server.errors.BAD_REQUEST)}var n=new Socket(t,this,s,r),o=this;!1!==this.cookie&&s.on(\"headers\",function(e){e[\"Set-Cookie\"]=cookieMod.serialize(o.cookie,t,{path:o.cookiePath,httpOnly:!!o.cookiePath&&o.cookieHttpOnly})}),s.onRequest(r),this.clients[t]=n,this.clientsCount++,n.once(\"close\",function(){delete o.clients[t],o.clientsCount--}),this.emit(\"connection\",n)},Server.prototype.handleUpgrade=function(e,r,t){this.prepare(e);var s=this;this.verify(e,!0,function(n,o){if(o){var i=new Buffer(t.length);t.copy(i),t=null,s.ws.handleUpgrade(e,r,i,function(r){s.onWebSocket(e,r)})}else abortConnection(r,n)})},Server.prototype.onWebSocket=function(e,r){if(r.on(\"error\",o),!transports[e._query.transport].prototype.handlesUpgrades)return debug(\"transport doesnt handle upgraded requests\"),void r.close();var t=e._query.sid;if(e.websocket=r,t){var s=this.clients[t];if(s)if(s.upgrading)debug(\"transport has already been trying to upgrade\"),r.close();else if(s.upgraded)debug(\"transport had already been upgraded\"),r.close();else{debug(\"upgrading existing transport\"),r.removeListener(\"error\",o);var n=new transports[e._query.transport](e);e._query&&e._query.b64?n.supportsBinary=!1:n.supportsBinary=!0,n.perMessageDeflate=this.perMessageDeflate,s.maybeUpgrade(n)}else debug(\"upgrade attempt for closed client\"),r.close()}else r.removeListener(\"error\",o),this.handshake(e._query.transport,e);function o(){debug(\"websocket error before upgrade\")}},Server.prototype.attach=function(e,r){var t=this,s=((r=r||{}).path||\"/engine.io\").replace(/\\/$/,\"\"),n=r.destroyUpgradeTimeout||1e3;s+=\"/\";function o(e){return s===e.url.substr(0,s.length)}var i=e.listeners(\"request\").slice(0);e.removeAllListeners(\"request\"),e.on(\"close\",t.close.bind(t)),e.on(\"request\",function(r,n){if(o(r))debug('intercepting request for path \"%s\"',s),t.handleRequest(r,n);else for(var a=0,u=i.length;a<u;a++)i[a].call(e,r,n)}),~t.transports.indexOf(\"websocket\")&&e.on(\"upgrade\",function(e,s,i){o(e)?t.handleUpgrade(e,s,i):!1!==r.destroyUpgrade&&setTimeout(function(){if(s.writable&&s.bytesWritten<=0)return s.end()},n)})};function abortConnection(e,r){if(e.writable){var t=Server.errorMessages.hasOwnProperty(r)?Server.errorMessages[r]:r||\"\",s=Buffer.byteLength(t);e.write(\"HTTP/1.1 400 Bad Request\\r\\nConnection: close\\r\\nContent-type: text/html\\r\\nContent-Length: \"+s+\"\\r\\n\\r\\n\"+t)}e.destroy()}","node_modules/engine.io/lib/socket.js":"var EventEmitter=require(\"events\").EventEmitter,util=require(\"util\"),debug=require(\"debug\")(\"engine:socket\");module.exports=Socket;function Socket(t,e,r,i){this.id=t,this.server=e,this.upgrading=!1,this.upgraded=!1,this.readyState=\"opening\",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=i,this.remoteAddress=i.connection.remoteAddress,this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.setTransport(r),this.onOpen()}util.inherits(Socket,EventEmitter),Socket.prototype.onOpen=function(){this.readyState=\"open\",this.transport.sid=this.id,this.sendPacket(\"open\",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.pingInterval,pingTimeout:this.server.pingTimeout})),this.emit(\"open\"),this.setPingTimeout()},Socket.prototype.onPacket=function(t){if(\"open\"===this.readyState)switch(debug(\"packet\"),this.emit(\"packet\",t),this.setPingTimeout(),t.type){case\"ping\":debug(\"got ping\"),this.sendPacket(\"pong\"),this.emit(\"heartbeat\");break;case\"error\":this.onClose(\"parse error\");break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else debug(\"packet received with closed socket\")},Socket.prototype.onError=function(t){debug(\"transport error\"),this.onClose(\"transport error\",t)},Socket.prototype.setPingTimeout=function(){var t=this;clearTimeout(t.pingTimeoutTimer),t.pingTimeoutTimer=setTimeout(function(){t.onClose(\"ping timeout\")},t.server.pingInterval+t.server.pingTimeout)},Socket.prototype.setTransport=function(t){var e=this.onError.bind(this),r=this.onPacket.bind(this),i=this.flush.bind(this),s=this.onClose.bind(this,\"transport close\");this.transport=t,this.transport.once(\"error\",e),this.transport.on(\"packet\",r),this.transport.on(\"drain\",i),this.transport.once(\"close\",s),this.setupSendCallback(),this.cleanupFn.push(function(){t.removeListener(\"error\",e),t.removeListener(\"packet\",r),t.removeListener(\"drain\",i),t.removeListener(\"close\",s)})},Socket.prototype.maybeUpgrade=function(t){debug('might upgrade socket transport from \"%s\" to \"%s\"',this.transport.name,t.name),this.upgrading=!0;var e=this;e.upgradeTimeoutTimer=setTimeout(function(){debug(\"client did not complete upgrade - closing transport\"),s(),\"open\"===t.readyState&&t.close()},this.server.upgradeTimeout);function r(r){\"ping\"===r.type&&\"probe\"===r.data?(t.send([{type:\"pong\",data:\"probe\"}]),e.emit(\"upgrading\",t),clearInterval(e.checkIntervalTimer),e.checkIntervalTimer=setInterval(i,100)):\"upgrade\"===r.type&&\"closed\"!==e.readyState?(debug(\"got upgrade packet - upgrading\"),s(),e.transport.discard(),e.upgraded=!0,e.clearTransport(),e.setTransport(t),e.emit(\"upgrade\",t),e.setPingTimeout(),e.flush(),\"closing\"===e.readyState&&t.close(function(){e.onClose(\"forced close\")})):(s(),t.close())}function i(){\"polling\"===e.transport.name&&e.transport.writable&&(debug(\"writing a noop packet to polling for fast upgrade\"),e.transport.send([{type:\"noop\"}]))}function s(){e.upgrading=!1,clearInterval(e.checkIntervalTimer),e.checkIntervalTimer=null,clearTimeout(e.upgradeTimeoutTimer),e.upgradeTimeoutTimer=null,t.removeListener(\"packet\",r),t.removeListener(\"close\",o),t.removeListener(\"error\",n),e.removeListener(\"close\",a)}function n(e){debug(\"client did not complete upgrade - %s\",e),s(),t.close(),t=null}function o(){n(\"transport closed\")}function a(){n(\"socket closed\")}t.on(\"packet\",r),t.once(\"close\",o),t.once(\"error\",n),e.once(\"close\",a)},Socket.prototype.clearTransport=function(){for(var t=this.cleanupFn.length,e=0;e<t;e++)this.cleanupFn.shift()();this.transport.on(\"error\",function(){debug(\"error triggered by discarded transport\")}),this.transport.close(),clearTimeout(this.pingTimeoutTimer)},Socket.prototype.onClose=function(t,e){if(\"closed\"!==this.readyState){this.readyState=\"closed\",clearTimeout(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,clearTimeout(this.upgradeTimeoutTimer);var r=this;process.nextTick(function(){r.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit(\"close\",t,e)}},Socket.prototype.setupSendCallback=function(){var t=this;this.transport.on(\"drain\",e),this.cleanupFn.push(function(){t.transport.removeListener(\"drain\",e)});function e(){if(t.sentCallbackFn.length>0){var e=t.sentCallbackFn.splice(0,1)[0];if(\"function\"==typeof e)debug(\"executing send callback\"),e(t.transport);else if(Array.isArray(e)){debug(\"executing batch send callback\");for(var r=e.length,i=0;i<r;i++)\"function\"==typeof e[i]&&e[i](t.transport)}}}},Socket.prototype.send=Socket.prototype.write=function(t,e,r){return this.sendPacket(\"message\",t,e,r),this},Socket.prototype.sendPacket=function(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=null),r=r||{},r.compress=!1!==r.compress,\"closing\"!==this.readyState){debug('sending packet \"%s\" (%s)',t,e);var s={type:t,options:r};e&&(s.data=e),this.emit(\"packetCreate\",s),this.writeBuffer.push(s),i&&this.packetsFn.push(i),this.flush()}},Socket.prototype.flush=function(){if(\"closed\"!==this.readyState&&this.transport.writable&&this.writeBuffer.length){debug(\"flushing buffer to transport\"),this.emit(\"flush\",this.writeBuffer),this.server.emit(\"flush\",this,this.writeBuffer);var t=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(t),this.emit(\"drain\"),this.server.emit(\"drain\",this)}},Socket.prototype.getAvailableUpgrades=function(){for(var t=[],e=this.server.upgrades(this.transport.name),r=0,i=e.length;r<i;++r){var s=e[r];-1!==this.server.transports.indexOf(s)&&t.push(s)}return t},Socket.prototype.close=function(t){\"open\"===this.readyState&&(this.readyState=\"closing\",this.writeBuffer.length?this.once(\"drain\",this.closeTransport.bind(this,t)):this.closeTransport(t))},Socket.prototype.closeTransport=function(t){t&&this.transport.discard(),this.transport.close(this.onClose.bind(this,\"forced close\"))};","node_modules/engine.io/lib/transport.js":"var EventEmitter=require(\"events\").EventEmitter,parser=require(\"engine.io-parser\"),util=require(\"util\"),debug=require(\"debug\")(\"engine:transport\");module.exports=Transport;function noop(){}function Transport(t){this.readyState=\"open\",this.discarded=!1}util.inherits(Transport,EventEmitter),Transport.prototype.discard=function(){this.discarded=!0},Transport.prototype.onRequest=function(t){debug(\"setting request\"),this.req=t},Transport.prototype.close=function(t){\"closed\"!==this.readyState&&\"closing\"!==this.readyState&&(this.readyState=\"closing\",this.doClose(t||noop))},Transport.prototype.onError=function(t,r){if(this.listeners(\"error\").length){var e=new Error(t);e.type=\"TransportError\",e.description=r,this.emit(\"error\",e)}else debug(\"ignored transport error %s (%s)\",t,r)},Transport.prototype.onPacket=function(t){this.emit(\"packet\",t)},Transport.prototype.onData=function(t){this.onPacket(parser.decodePacket(t))},Transport.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")};","node_modules/engine.io/lib/transports/index.js":"var XHR=require(\"./polling-xhr\"),JSONP=require(\"./polling-jsonp\");module.exports=exports={polling:polling,websocket:require(\"./websocket\")},exports.polling.upgradesTo=[\"websocket\"];function polling(e){return\"string\"==typeof e._query.j?new JSONP(e):new XHR(e)}","node_modules/engine.io-parser/index.js":"module.exports=require(\"./lib/\");","node_modules/base64id/lib/base64id.js":"var crypto=require(\"crypto\"),Base64Id=function(){};Base64Id.prototype.getRandomBytes=function(e){var t=this;if((e=e||12)>4096)return crypto.randomBytes(e);var r=parseInt(4096/e),n=parseInt(.85*r);if(!n)return crypto.randomBytes(e);if(null==this.bytesBufferIndex&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==r&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(-1==this.bytesBufferIndex||this.bytesBufferIndex>n)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,crypto.randomBytes(4096,function(e,r){t.bytesBuffer=r,t.bytesBufferIndex=0,t.isGeneratingBytes=!1})),-1==this.bytesBufferIndex))return crypto.randomBytes(e);var s=this.bytesBuffer.slice(e*this.bytesBufferIndex,e*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,s},Base64Id.prototype.generateId=function(){var e=new Buffer(15);return e.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,e.writeInt32BE(this.sequenceNumber,11),crypto.randomBytes?this.getRandomBytes(12).copy(e):[0,4,8].forEach(function(t){e.writeInt32BE(Math.random()*Math.pow(2,32)|0,t)}),e.toString(\"base64\").replace(/\\//g,\"_\").replace(/\\+/g,\"-\")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},exports=module.exports=new Base64Id;","node_modules/ws/index.js":"\"use strict\";var WS=module.exports=require(\"./lib/WebSocket\");WS.Server=require(\"./lib/WebSocketServer\"),WS.Sender=require(\"./lib/Sender\"),WS.Receiver=require(\"./lib/Receiver\"),WS.createServer=function(e,r){var n=new WS.Server(e);return\"function\"==typeof r&&n.on(\"connection\",r),n},WS.connect=WS.createConnection=function(e,r){var n=new WS(e);return\"function\"==typeof r&&n.on(\"open\",r),n};","node_modules/engine.io/lib/transports/polling-xhr.js":"var Polling=require(\"./polling\"),util=require(\"util\");module.exports=XHR;function XHR(e){Polling.call(this,e)}util.inherits(XHR,Polling),XHR.prototype.onRequest=function(e){if(\"OPTIONS\"===e.method){var o=e.res,l=this.headers(e);l[\"Access-Control-Allow-Headers\"]=\"Content-Type\",o.writeHead(200,l),o.end()}else Polling.prototype.onRequest.call(this,e)},XHR.prototype.headers=function(e,o){return o=o||{},e.headers.origin?(o[\"Access-Control-Allow-Credentials\"]=\"true\",o[\"Access-Control-Allow-Origin\"]=e.headers.origin):o[\"Access-Control-Allow-Origin\"]=\"*\",Polling.prototype.headers.call(this,e,o)};","node_modules/engine.io/lib/transports/polling-jsonp.js":"var Polling=require(\"./polling\"),qs=require(\"querystring\"),rDoubleSlashes=/\\\\\\\\n/g,rSlashes=/(\\\\)?\\\\n/g,util=require(\"util\");module.exports=JSONP;function JSONP(e){Polling.call(this,e),this.head=\"___eio[\"+(e._query.j||\"\").replace(/[^0-9]/g,\"\")+\"](\",this.foot=\");\"}util.inherits(JSONP,Polling),JSONP.prototype.onData=function(e){\"string\"==typeof(e=qs.parse(e).d)&&(e=e.replace(rSlashes,function(e,t){return t?e:\"\\n\"}),Polling.prototype.onData.call(this,e.replace(rDoubleSlashes,\"\\\\n\")))},JSONP.prototype.doWrite=function(e,t,l){var r=JSON.stringify(e).replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\");e=this.head+r+this.foot,Polling.prototype.doWrite.call(this,e,t,l)};","node_modules/engine.io/lib/transports/websocket.js":"var Transport=require(\"../transport\"),parser=require(\"engine.io-parser\"),util=require(\"util\"),debug=require(\"debug\")(\"engine:ws\");module.exports=WebSocket;function WebSocket(e){Transport.call(this,e);var t=this;this.socket=e.websocket,this.socket.on(\"message\",this.onData.bind(this)),this.socket.once(\"close\",this.onClose.bind(this)),this.socket.on(\"error\",this.onError.bind(this)),this.socket.on(\"headers\",function(e){t.emit(\"headers\",e)}),this.writable=!0,this.perMessageDeflate=null}util.inherits(WebSocket,Transport),WebSocket.prototype.name=\"websocket\",WebSocket.prototype.handlesUpgrades=!0,WebSocket.prototype.supportsFraming=!0,WebSocket.prototype.onData=function(e){debug('received \"%s\"',e),Transport.prototype.onData.call(this,e)},WebSocket.prototype.send=function(e){for(var t=this,o=0;o<e.length;o++){var r=e[o];parser.encodePacket(r,t.supportsBinary,s)}function s(e){debug('writing \"%s\"',e);var o={};if(r.options&&(o.compress=r.options.compress),t.perMessageDeflate){(\"string\"==typeof e?Buffer.byteLength(e):e.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}t.writable=!1,t.socket.send(e,o,i)}function i(e){if(e)return t.onError(\"write error\",e.stack);t.writable=!0,t.emit(\"drain\")}},WebSocket.prototype.doClose=function(e){debug(\"closing\"),this.socket.close(),e&&e()};","node_modules/engine.io/lib/transports/polling.js":"var Transport=require(\"../transport\"),parser=require(\"engine.io-parser\"),zlib=require(\"zlib\"),accepts=require(\"accepts\"),util=require(\"util\"),debug=require(\"debug\")(\"engine:polling\"),compressionMethods={gzip:zlib.createGzip,deflate:zlib.createDeflate};module.exports=Polling;function Polling(e){Transport.call(this,e),this.closeTimeout=3e4,this.maxHttpBufferSize=null,this.httpCompression=null}util.inherits(Polling,Transport),Polling.prototype.name=\"polling\",Polling.prototype.onRequest=function(e){var t=e.res;\"GET\"===e.method?this.onPollRequest(e,t):\"POST\"===e.method?this.onDataRequest(e,t):(t.writeHead(500),t.end())},Polling.prototype.onPollRequest=function(e,t){if(this.req)return debug(\"request overlap\"),this.onError(\"overlap from client\"),t.writeHead(500),void t.end();debug(\"setting request\"),this.req=e,this.res=t;var o=this;function n(){o.onError(\"poll connection closed prematurely\")}e.cleanup=function(){e.removeListener(\"close\",n),o.req=o.res=null},e.on(\"close\",n),this.writable=!0,this.emit(\"drain\"),this.writable&&this.shouldClose&&(debug(\"triggering empty send to append close packet\"),this.send([{type:\"noop\"}]))},Polling.prototype.onDataRequest=function(e,t){if(this.dataReq)return this.onError(\"data request overlap from client\"),t.writeHead(500),void t.end();var o=\"application/octet-stream\"===e.headers[\"content-type\"];this.dataReq=e,this.dataRes=t;var n=o?new Buffer(0):\"\",r=this;function i(){n=o?new Buffer(0):\"\",e.removeListener(\"data\",a),e.removeListener(\"end\",l),e.removeListener(\"close\",s),r.dataReq=r.dataRes=null}function s(){i(),r.onError(\"data request connection closed prematurely\")}function a(t){var o;\"string\"==typeof t?(n+=t,o=Buffer.byteLength(n)):o=(n=Buffer.concat([n,t])).length,o>r.maxHttpBufferSize&&(n=\"\",e.connection.destroy())}function l(){r.onData(n);t.writeHead(200,r.headers(e,{\"Content-Type\":\"text/html\",\"Content-Length\":2})),t.end(\"ok\"),i()}e.on(\"close\",s),o||e.setEncoding(\"utf8\"),e.on(\"data\",a),e.on(\"end\",l)},Polling.prototype.onData=function(e){debug('received \"%s\"',e);var t=this;parser.decodePayload(e,function(e){if(\"close\"===e.type)return debug(\"got xhr close packet\"),t.onClose(),!1;t.onPacket(e)})},Polling.prototype.onClose=function(){this.writable&&this.send([{type:\"noop\"}]),Transport.prototype.onClose.call(this)},Polling.prototype.send=function(e){this.writable=!1,this.shouldClose&&(debug(\"appending close packet to payload\"),e.push({type:\"close\"}),this.shouldClose(),this.shouldClose=null);var t=this;parser.encodePayload(e,this.supportsBinary,function(o){var n=e.some(function(e){return e.options&&e.options.compress});t.write(o,{compress:n})})},Polling.prototype.write=function(e,t){debug('writing \"%s\"',e);var o=this;this.doWrite(e,t,function(){o.req.cleanup()})},Polling.prototype.doWrite=function(e,t,o){var n=this,r=\"string\"==typeof e,i={\"Content-Type\":r?\"text/plain; charset=UTF-8\":\"application/octet-stream\"};if(this.httpCompression&&t.compress){if((r?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)a(e);else{var s=accepts(this.req).encodings([\"gzip\",\"deflate\"]);s?this.compress(e,s,function(e,t){if(e)return n.res.writeHead(500),n.res.end(),void o(e);i[\"Content-Encoding\"]=s,a(t)}):a(e)}}else a(e);function a(e){i[\"Content-Length\"]=\"string\"==typeof e?Buffer.byteLength(e):e.length,n.res.writeHead(200,n.headers(n.req,i)),n.res.end(e),o()}},Polling.prototype.compress=function(e,t,o){debug(\"compressing\");var n=[],r=0;compressionMethods[t](this.httpCompression).on(\"error\",o).on(\"data\",function(e){n.push(e),r+=e.length}).on(\"end\",function(){o(null,Buffer.concat(n,r))}).end(e)},Polling.prototype.doClose=function(e){debug(\"closing\");var t,o=this;this.dataReq&&(debug(\"aborting ongoing data request\"),this.dataReq.destroy()),this.writable?(debug(\"transport writable - closing right away\"),this.send([{type:\"close\"}]),n()):this.discarded?(debug(\"transport discarded - closing right away\"),n()):(debug(\"transport not writable - buffering orderly close\"),this.shouldClose=n,t=setTimeout(n,this.closeTimeout));function n(){clearTimeout(t),e(),o.onClose()}},Polling.prototype.headers=function(e,t){t=t||{};var o=e.headers[\"user-agent\"];return o&&(~o.indexOf(\";MSIE\")||~o.indexOf(\"Trident/\"))&&(t[\"X-XSS-Protection\"]=\"0\"),this.emit(\"headers\",t),t};","node_modules/engine.io-parser/lib/index.js":"var utf8=require(\"wtf-8\"),after=require(\"after\"),keys=require(\"./keys\");exports.protocol=3;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:\"error\",data:\"parser error\"};exports.encodePacket=function(e,r,t,n){if(\"function\"==typeof r&&(n=r,r=null),\"function\"==typeof t&&(n=t,t=null),Buffer.isBuffer(e.data))return encodeBuffer(e,r,n);if(e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer)return e.data=arrayBufferToBuffer(e.data),encodeBuffer(e,r,n);var f=packets[e.type];return void 0!==e.data&&(f+=t?utf8.encode(String(e.data)):String(e.data)),n(\"\"+f)};function encodeBuffer(e,r,t){var n=e.data;if(!r)return exports.encodeBase64Packet(e,t);var f=new Buffer(1);return f[0]=packets[e.type],t(Buffer.concat([f,n]))}exports.encodeBase64Packet=function(e,r){Buffer.isBuffer(e.data)||(e.data=arrayBufferToBuffer(e.data));var t=\"b\"+packets[e.type];return t+=e.data.toString(\"base64\"),r(t)},exports.decodePacket=function(e,r,t){if(void 0===e)return err;if(\"string\"==typeof e){if(\"b\"==e.charAt(0))return exports.decodeBase64Packet(e.substr(1),r);var n=e.charAt(0);return t&&!1===(e=tryDecode(e))?err:Number(n)==n&&packetslist[n]?e.length>1?{type:packetslist[n],data:e.substring(1)}:{type:packetslist[n]}:err}if(\"arraybuffer\"===r){var f=new Uint8Array(e);n=f[0];return{type:packetslist[n],data:f.buffer.slice(1)}}e instanceof ArrayBuffer&&(e=arrayBufferToBuffer(e));n=e[0];return{type:packetslist[n],data:e.slice(1)}};function tryDecode(e){try{e=utf8.decode(e)}catch(e){return!1}return e}exports.decodeBase64Packet=function(e,r){var t=packetslist[e.charAt(0)],n=new Buffer(e.substr(1),\"base64\");if(\"arraybuffer\"===r){for(var f=new Uint8Array(n.length),a=0;a<f.length;a++)f[a]=n[a];n=f.buffer}return{type:t,data:n}},exports.encodePayload=function(e,r,t){if(\"function\"==typeof r&&(t=r,r=null),r)return exports.encodePayloadAsBinary(e,t);if(!e.length)return t(\"0:\");map(e,function(e,t){exports.encodePacket(e,r,!0,function(e){t(null,function(e){return e.length+\":\"+e}(e))})},function(e,r){return t(r.join(\"\"))})};function map(e,r,t){for(var n=new Array(e.length),f=after(e.length,t),a=function(e,t,f){r(t,function(r,t){n[e]=t,f(r,n)})},o=0;o<e.length;o++)a(o,e[o],f)}exports.decodePayload=function(e,r,t){if(\"string\"!=typeof e)return exports.decodePayloadAsBinary(e,r,t);\"function\"==typeof r&&(t=r,r=null);var n;if(\"\"==e)return t(err,0,1);for(var f,a,o=\"\",u=0,c=e.length;u<c;u++){var i=e.charAt(u);if(\":\"!=i)o+=i;else{if(\"\"==o||o!=(f=Number(o)))return t(err,0,1);if(a=e.substr(u+1,f),o!=a.length)return t(err,0,1);if(a.length){if(n=exports.decodePacket(a,r,!0),err.type==n.type&&err.data==n.data)return t(err,0,1);if(!1===t(n,u+f,c))return}u+=f,o=\"\"}}return\"\"!=o?t(err,0,1):void 0};function bufferToString(e){for(var r=\"\",t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function stringToBuffer(e){for(var r=new Buffer(e.length),t=0;t<e.length;t++)r.writeUInt8(e.charCodeAt(t),t);return r}function arrayBufferToBuffer(e){for(var r=new Uint8Array(e.buffer||e),t=e.byteLength||e.length,n=e.byteOffset||0,f=new Buffer(t),a=0;a<t;a++)f[a]=r[n+a];return f}exports.encodePayloadAsBinary=function(e,r){if(!e.length)return r(new Buffer(0));map(e,function(e,r){exports.encodePacket(e,!0,!0,function(e){if(\"string\"==typeof e){var t=\"\"+e.length;(f=new Buffer(t.length+2))[0]=0;for(var n=0;n<t.length;n++)f[n+1]=parseInt(t[n],10);return f[f.length-1]=255,r(null,Buffer.concat([f,stringToBuffer(e)]))}var f;for(t=\"\"+e.length,(f=new Buffer(t.length+2))[0]=1,n=0;n<t.length;n++)f[n+1]=parseInt(t[n],10);f[f.length-1]=255,r(null,Buffer.concat([f,e]))})},function(e,t){return r(Buffer.concat(t))})},exports.decodePayloadAsBinary=function(e,r,t){\"function\"==typeof r&&(t=r,r=null);for(var n=e,f=[];n.length>0;){for(var a=\"\",o=0===n[0],u=!1,c=1;255!=n[c];c++){if(a.length>310){u=!0;break}a+=\"\"+n[c]}if(u)return t(err,0,1);n=n.slice(a.length+1);var i=parseInt(a,10),s=n.slice(1,i+1);o&&(s=bufferToString(s)),f.push(s),n=n.slice(i+1)}var d=f.length;f.forEach(function(e,n){t(exports.decodePacket(e,r,!0),n,d)})};","node_modules/wtf-8/wtf-8.js":"!function(r){var e=\"object\"==typeof exports&&exports,n=\"object\"==typeof module&&module&&module.exports==e&&module,t=\"object\"==typeof global&&global;t.global!==t&&t.window!==t||(r=t);var o=String.fromCharCode;function i(r){for(var e,n,t=[],o=0,i=r.length;o<i;)(e=r.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=r.charCodeAt(o++)))?t.push(((1023&e)<<10)+(1023&n)+65536):(t.push(e),o--):t.push(e);return t}function f(r,e){return o(r>>e&63|128)}function u(r){if(0==(4294967168&r))return o(r);var e=\"\";return 0==(4294965248&r)?e=o(r>>6&31|192):0==(4294901760&r)?(e=o(r>>12&15|224),e+=f(r,6)):0==(4292870144&r)&&(e=o(r>>18&7|240),e+=f(r,12),e+=f(r,6)),e+=o(63&r|128)}function a(){if(v>=c)throw Error(\"Invalid byte index\");var r=255&l[v];if(v++,128==(192&r))return 63&r;throw Error(\"Invalid continuation byte\")}function d(){var r,e,n,t;if(v>c)throw Error(\"Invalid byte index\");if(v==c)return!1;if(r=255&l[v],v++,0==(128&r))return r;if(192==(224&r)){var o;if((t=(31&r)<<6|(o=a()))>=128)return t;throw Error(\"Invalid continuation byte\")}if(224==(240&r)){if(o=a(),e=a(),(t=(15&r)<<12|o<<6|e)>=2048)return t;throw Error(\"Invalid continuation byte\")}if(240==(248&r)&&(o=a(),e=a(),n=a(),(t=(15&r)<<18|o<<12|e<<6|n)>=65536&&t<=1114111))return t;throw Error(\"Invalid WTF-8 detected\")}var l,c,v;var h={version:\"1.0.0\",encode:function(r){for(var e=i(r),n=e.length,t=-1,o=\"\";++t<n;)o+=u(e[t]);return o},decode:function(r){l=i(r),c=l.length,v=0;for(var e,n=[];!1!==(e=d());)n.push(e);return function(r){for(var e,n=r.length,t=-1,i=\"\";++t<n;)(e=r[t])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(n)}};if(\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd)define(function(){return h});else if(e&&!e.nodeType)if(n)n.exports=h;else{var p={}.hasOwnProperty;for(var s in h)p.call(h,s)&&(e[s]=h[s])}else r.wtf8=h}(this);","node_modules/after/index.js":"module.exports=after;function after(o,n,t){var r=!1;return t=t||noop,u.count=o,0===o?n():u;function u(o,e){if(u.count<=0)throw new Error(\"after called too many times\");--u.count,o?(r=!0,n(o),n=t):0!==u.count||r||n(null,e)}}function noop(){}","node_modules/engine.io-parser/lib/keys.js":"module.exports=Object.keys||function(r){var e=[],t=Object.prototype.hasOwnProperty;for(var o in r)t.call(r,o)&&e.push(o);return e};","node_modules/socket.io-client/lib/index.js":"var url=require(\"./url\"),parser=require(\"socket.io-parser\"),Manager=require(\"./manager\"),debug=require(\"debug\")(\"socket.io-client\");module.exports=exports=lookup;var cache=exports.managers={};function lookup(e,r){\"object\"==typeof e&&(r=e,e=void 0),r=r||{};var o,n=url(e),c=n.source,t=n.id,a=n.path,u=cache[t]&&a in cache[t].nsps;return r.forceNew||r[\"force new connection\"]||!1===r.multiplex||u?(debug(\"ignoring socket cache for %s\",c),o=Manager(c,r)):(cache[t]||(debug(\"new io instance for %s\",c),cache[t]=Manager(c,r)),o=cache[t]),n.query&&!r.query?r.query=n.query:r&&\"object\"==typeof r.query&&(r.query=encodeQueryString(r.query)),o.socket(n.path,r)}function encodeQueryString(e){var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(encodeURIComponent(o)+\"=\"+encodeURIComponent(e[o]));return r.join(\"&\")}exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=require(\"./manager\"),exports.Socket=require(\"./socket\");","node_modules/socket.io-client/package.json":{"_from":"socket.io-client@1.7.4","_id":"socket.io-client@1.7.4","_inBundle":false,"_integrity":"sha1-7J+CA1btme9tNX8HVtZIcXvdQoE=","_location":"/socket.io-client","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"socket.io-client@1.7.4","name":"socket.io-client","escapedName":"socket.io-client","rawSpec":"1.7.4","saveSpec":null,"fetchSpec":"1.7.4"},"_requiredBy":["/socket.io"],"_resolved":"https://registry.npmjs.org/socket.io-client/-/socket.io-client-1.7.4.tgz","_shasum":"ec9f820356ed99ef6d357f0756d648717bdd4281","_spec":"socket.io-client@1.7.4","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\socket.io","bugs":{"url":"https://github.com/Automattic/socket.io-client/issues"},"bundleDependencies":false,"contributors":[{"name":"Guillermo Rauch","email":"rauchg@gmail.com"},{"name":"Arnout Kazemier","email":"info@3rd-eden.com"},{"name":"Vladimir Dronnikov","email":"dronnikov@gmail.com"},{"name":"Einar Otto Stangvik","email":"einaros@gmail.com"}],"dependencies":{"backo2":"1.0.2","component-bind":"1.0.0","component-emitter":"1.2.1","debug":"2.3.3","engine.io-client":"~1.8.4","has-binary":"0.1.7","indexof":"0.0.1","object-component":"0.0.3","parseuri":"0.0.5","socket.io-parser":"2.3.1","to-array":"0.1.4"},"deprecated":false,"description":"[![Build Status](https://secure.travis-ci.org/socketio/socket.io-client.svg?branch=master)](http://travis-ci.org/socketio/socket.io-client) [![Dependency Status](https://david-dm.org/socketio/socket.io-client.svg)](https://david-dm.org/socketio/socket.io-client) [![devDependency Status](https://david-dm.org/socketio/socket.io-client/dev-status.svg)](https://david-dm.org/socketio/socket.io-client#info=devDependencies) ![NPM version](https://badge.fury.io/js/socket.io-client.svg) ![Downloads](http://img.shields.io/npm/dm/socket.io-client.svg?style=flat) [![](http://slack.socket.io/badge.svg?)](http://slack.socket.io)","devDependencies":{"babel-core":"6.4.5","babel-eslint":"4.1.7","babel-loader":"6.2.1","babel-preset-es2015":"6.3.13","base64-arraybuffer":"0.1.5","concat-stream":"1.5.1","derequire":"2.0.3","eslint-config-standard":"4.4.0","eslint-plugin-standard":"1.3.1","expect.js":"0.3.1","gulp":"3.9.0","gulp-eslint":"1.1.1","gulp-file":"0.2.0","gulp-istanbul":"0.10.3","gulp-minify":"0.0.14","gulp-mocha":"2.2.0","gulp-task-listing":"1.0.1","has-cors":"1.1.0","imports-loader":"^0.6.5","istanbul":"0.4.2","mocha":"2.3.4","socket.io":"1.7.4","strip-loader":"0.1.2","text-blob-builder":"0.0.1","uglify-js":"2.6.1","webpack-stream":"3.2.0","zuul":"3.11.0","zuul-builder-webpack":"1.1.0","zuul-ngrok":"4.0.0"},"files":["lib/","dist/"],"homepage":"https://github.com/Automattic/socket.io-client#readme","keywords":["realtime","framework","websocket","tcp","events","client"],"license":"MIT","main":"./lib/index","name":"socket.io-client","repository":{"type":"git","url":"git+https://github.com/Automattic/socket.io-client.git"},"scripts":{"test":"gulp test"},"version":"1.7.4"},"node_modules/socket.io/lib/client.js":"var parser=require(\"socket.io-parser\"),debug=require(\"debug\")(\"socket.io:client\"),url=require(\"url\");module.exports=Client;function Client(e,t){this.server=e,this.conn=t,this.encoder=new parser.Encoder,this.decoder=new parser.Decoder,this.id=t.id,this.request=t.request,this.setup(),this.sockets={},this.nsps={},this.connectBuffer=[]}Client.prototype.setup=function(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on(\"decoded\",this.ondecoded),this.conn.on(\"data\",this.ondata),this.conn.on(\"error\",this.onerror),this.conn.on(\"close\",this.onclose)},Client.prototype.connect=function(e,t){debug(\"connecting to namespace %s\",e);var o=this.server.nsps[e];if(o)if(\"/\"==e||this.nsps[\"/\"])var s=this,n=o.add(this,t,function(){s.sockets[n.id]=n,s.nsps[o.name]=n,\"/\"==o.name&&s.connectBuffer.length>0&&(s.connectBuffer.forEach(s.connect,s),s.connectBuffer=[])});else this.connectBuffer.push(e);else this.packet({type:parser.ERROR,nsp:e,data:\"Invalid namespace\"})},Client.prototype.disconnect=function(){for(var e in this.sockets)this.sockets.hasOwnProperty(e)&&this.sockets[e].disconnect();this.sockets={},this.close()},Client.prototype.remove=function(e){if(this.sockets.hasOwnProperty(e.id)){var t=this.sockets[e.id].nsp.name;delete this.sockets[e.id],delete this.nsps[t]}else debug(\"ignoring remove for %s\",e.id)},Client.prototype.close=function(){\"open\"==this.conn.readyState&&(debug(\"forcing transport close\"),this.conn.close(),this.onclose(\"forced server close\"))},Client.prototype.packet=function(e,t){t=t||{};var o=this;function s(e){if(!t.volatile||o.conn.transport.writable)for(var s=0;s<e.length;s++)o.conn.write(e[s],{compress:t.compress})}\"open\"==this.conn.readyState?(debug(\"writing packet %j\",e),t.preEncoded?s(e):this.encoder.encode(e,function(e){s(e)})):debug(\"ignoring packet write %j\",e)},Client.prototype.ondata=function(e){try{this.decoder.add(e)}catch(e){this.onerror(e)}},Client.prototype.ondecoded=function(e){if(parser.CONNECT==e.type)this.connect(url.parse(e.nsp).pathname,url.parse(e.nsp,!0).query);else{var t=this.nsps[e.nsp];t?process.nextTick(function(){t.onpacket(e)}):debug(\"no socket for namespace %s\",e.nsp)}},Client.prototype.onerror=function(e){for(var t in this.sockets)this.sockets.hasOwnProperty(t)&&this.sockets[t].onerror(e);this.onclose(\"client error\")},Client.prototype.onclose=function(e){debug(\"client close with reason %s\",e),this.destroy();for(var t in this.sockets)this.sockets.hasOwnProperty(t)&&this.sockets[t].onclose(e);this.sockets={},this.decoder.destroy()},Client.prototype.destroy=function(){this.conn.removeListener(\"data\",this.ondata),this.conn.removeListener(\"error\",this.onerror),this.conn.removeListener(\"close\",this.onclose),this.decoder.removeListener(\"decoded\",this.ondecoded)};","node_modules/socket.io/lib/namespace.js":"var Socket=require(\"./socket\"),Emitter=require(\"events\").EventEmitter,parser=require(\"socket.io-parser\"),debug=require(\"debug\")(\"socket.io:namespace\"),hasBin=require(\"has-binary\");module.exports=exports=Namespace,exports.events=[\"connect\",\"connection\",\"newListener\"],exports.flags=[\"json\",\"volatile\",\"local\"];var emit=Emitter.prototype.emit;function Namespace(e,t){this.name=t,this.server=e,this.sockets={},this.connected={},this.fns=[],this.ids=0,this.initAdapter()}Namespace.prototype.__proto__=Emitter.prototype,exports.flags.forEach(function(e){Object.defineProperty(Namespace.prototype,e,{get:function(){return this.flags=this.flags||{},this.flags[e]=!0,this}})}),Namespace.prototype.initAdapter=function(){this.adapter=new(this.server.adapter())(this)},Namespace.prototype.use=function(e){return this.fns.push(e),this},Namespace.prototype.run=function(e,t){var s=this.fns.slice(0);if(!s.length)return t(null);function o(r){s[r](e,function(e){return e?t(e):s[r+1]?void o(r+1):t(null)})}o(0)},Namespace.prototype.to=Namespace.prototype.in=function(e){return this.rooms=this.rooms||[],~this.rooms.indexOf(e)||this.rooms.push(e),this},Namespace.prototype.add=function(e,t,s){debug(\"adding socket to nsp %s\",this.name);var o=new Socket(this,e,t),r=this;return this.run(o,function(t){process.nextTick(function(){if(\"open\"==e.conn.readyState){if(t)return o.error(t.data||t.message);r.sockets[o.id]=o,o.onconnect(),s&&s(),r.emit(\"connect\",o),r.emit(\"connection\",o)}else debug(\"next called after client was closed - ignoring socket\")})}),o},Namespace.prototype.remove=function(e){this.sockets.hasOwnProperty(e.id)?delete this.sockets[e.id]:debug(\"ignoring remove for %s\",e.id)},Namespace.prototype.emit=function(e){if(~exports.events.indexOf(e))emit.apply(this,arguments);else{var t=Array.prototype.slice.call(arguments),s=parser.EVENT;hasBin(t)&&(s=parser.BINARY_EVENT);var o={type:s,data:t};if(\"function\"==typeof t[t.length-1])throw new Error(\"Callbacks are not supported when broadcasting\");this.adapter.broadcast(o,{rooms:this.rooms,flags:this.flags}),delete this.rooms,delete this.flags}return this},Namespace.prototype.send=Namespace.prototype.write=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(\"message\"),this.emit.apply(this,e),this},Namespace.prototype.clients=function(e){return this.adapter.clients(this.rooms,e),delete this.rooms,this},Namespace.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this};","node_modules/socket.io-adapter/index.js":"var Emitter=require(\"events\").EventEmitter,parser=require(\"socket.io-parser\");module.exports=Adapter;function Adapter(t){this.nsp=t,this.rooms={},this.sids={},this.encoder=new parser.Encoder}Adapter.prototype.__proto__=Emitter.prototype,Adapter.prototype.add=function(t,s,e){this.sids[t]=this.sids[t]||{},this.sids[t][s]=!0,this.rooms[s]=this.rooms[s]||Room(),this.rooms[s].add(t),e&&process.nextTick(e.bind(null,null))},Adapter.prototype.del=function(t,s,e){this.sids[t]=this.sids[t]||{},delete this.sids[t][s],this.rooms.hasOwnProperty(s)&&(this.rooms[s].del(t),0===this.rooms[s].length&&delete this.rooms[s]),e&&process.nextTick(e.bind(null,null))},Adapter.prototype.delAll=function(t,s){var e=this.sids[t];if(e)for(var o in e)this.rooms.hasOwnProperty(o)&&(this.rooms[o].del(t),0===this.rooms[o].length&&delete this.rooms[o]);delete this.sids[t],s&&process.nextTick(s.bind(null,null))},Adapter.prototype.broadcast=function(t,s){var e,o=s.rooms||[],i=s.except||[],n=s.flags||{},r={preEncoded:!0,volatile:n.volatile,compress:n.compress},p={},h=this;t.nsp=this.nsp.name,this.encoder.encode(t,function(t){if(o.length)for(var s=0;s<o.length;s++){var n=h.rooms[o[s]];if(n){var d=n.sockets;for(var c in d)if(d.hasOwnProperty(c)){if(p[c]||~i.indexOf(c))continue;(e=h.nsp.connected[c])&&(e.packet(t,r),p[c]=!0)}}}else for(var c in h.sids)if(h.sids.hasOwnProperty(c)){if(~i.indexOf(c))continue;(e=h.nsp.connected[c])&&e.packet(t,r)}})},Adapter.prototype.clients=function(t,s){\"function\"==typeof t&&(s=t,t=null);var e={},o=[];if((t=t||[]).length)for(var i=0;i<t.length;i++){var n=this.rooms[t[i]];if(n){var r=n.sockets;for(var p in r)if(r.hasOwnProperty(p)){if(e[p])continue;this.nsp.connected[p]&&(o.push(p),e[p]=!0)}}}else for(var p in this.sids)this.sids.hasOwnProperty(p)&&this.nsp.connected[p]&&o.push(p);s&&process.nextTick(s.bind(null,null,o))},Adapter.prototype.clientRooms=function(t,s){var e=this.sids[t];s&&process.nextTick(s.bind(null,null,e?Object.keys(e):null))};function Room(){if(!(this instanceof Room))return new Room;this.sockets={},this.length=0}Room.prototype.add=function(t){this.sockets.hasOwnProperty(t)||(this.sockets[t]=!0,this.length++)},Room.prototype.del=function(t){this.sockets.hasOwnProperty(t)&&(delete this.sockets[t],this.length--)};","node_modules/socket.io-client/lib/url.js":"var parseuri=require(\"parseuri\"),debug=require(\"debug\")(\"socket.io-client:url\");module.exports=url;function url(o,t){var r=o;t=t||global.location,null==o&&(o=t.protocol+\"//\"+t.host),\"string\"==typeof o&&(\"/\"===o.charAt(0)&&(o=\"/\"===o.charAt(1)?t.protocol+o:t.host+o),/^(https?|wss?):\\/\\//.test(o)||(debug(\"protocol-less url %s\",o),o=void 0!==t?t.protocol+\"//\"+o:\"https://\"+o),debug(\"parse %s\",o),r=parseuri(o)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";var p=-1!==r.host.indexOf(\":\")?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+p+\":\"+r.port,r.href=r.protocol+\"://\"+p+(t&&t.port===r.port?\"\":\":\"+r.port),r}","node_modules/socket.io-parser/index.js":"var debug=require(\"debug\")(\"socket.io-parser\"),json=require(\"json3\"),Emitter=require(\"component-emitter\"),binary=require(\"./binary\"),isBuf=require(\"./is-buffer\");exports.protocol=4,exports.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=Encoder,exports.Decoder=Decoder;function Encoder(){}Encoder.prototype.encode=function(r,e){if(debug(\"encoding packet %j\",r),exports.BINARY_EVENT==r.type||exports.BINARY_ACK==r.type)encodeAsBinary(r,e);else{e([encodeAsString(r)])}};function encodeAsString(r){var e=\"\",t=!1;return e+=r.type,exports.BINARY_EVENT!=r.type&&exports.BINARY_ACK!=r.type||(e+=r.attachments,e+=\"-\"),r.nsp&&\"/\"!=r.nsp&&(t=!0,e+=r.nsp),null!=r.id&&(t&&(e+=\",\",t=!1),e+=r.id),null!=r.data&&(t&&(e+=\",\"),e+=json.stringify(r.data)),debug(\"encoded %j as %s\",r,e),e}function encodeAsBinary(r,e){binary.removeBlobs(r,function(r){var t=binary.deconstructPacket(r),o=encodeAsString(t.packet),n=t.buffers;n.unshift(o),e(n)})}function Decoder(){this.reconstructor=null}Emitter(Decoder.prototype),Decoder.prototype.add=function(r){var e;if(\"string\"==typeof r)e=decodeString(r),exports.BINARY_EVENT==e.type||exports.BINARY_ACK==e.type?(this.reconstructor=new BinaryReconstructor(e),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",e)):this.emit(\"decoded\",e);else{if(!isBuf(r)&&!r.base64)throw new Error(\"Unknown type: \"+r);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(e=this.reconstructor.takeBinaryData(r))&&(this.reconstructor=null,this.emit(\"decoded\",e))}};function decodeString(r){var e={},t=0;if(e.type=Number(r.charAt(0)),null==exports.types[e.type])return error();if(exports.BINARY_EVENT==e.type||exports.BINARY_ACK==e.type){for(var o=\"\";\"-\"!=r.charAt(++t)&&(o+=r.charAt(t),t!=r.length););if(o!=Number(o)||\"-\"!=r.charAt(t))throw new Error(\"Illegal attachments\");e.attachments=Number(o)}if(\"/\"==r.charAt(t+1))for(e.nsp=\"\";++t;){if(\",\"==(s=r.charAt(t)))break;if(e.nsp+=s,t==r.length)break}else e.nsp=\"/\";var n=r.charAt(t+1);if(\"\"!==n&&Number(n)==n){for(e.id=\"\";++t;){var s;if(null==(s=r.charAt(t))||Number(s)!=s){--t;break}if(e.id+=r.charAt(t),t==r.length)break}e.id=Number(e.id)}return r.charAt(++t)&&(e=tryParse(e,r.substr(t))),debug(\"decoded %s as %j\",r,e),e}function tryParse(r,e){try{r.data=json.parse(e)}catch(r){return error()}return r}Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function BinaryReconstructor(r){this.reconPack=r,this.buffers=[]}BinaryReconstructor.prototype.takeBinaryData=function(r){if(this.buffers.push(r),this.buffers.length==this.reconPack.attachments){var e=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function error(r){return{type:exports.ERROR,data:\"parser error\"}}","node_modules/socket.io-client/lib/manager.js":"var eio=require(\"engine.io-client\"),Socket=require(\"./socket\"),Emitter=require(\"component-emitter\"),parser=require(\"socket.io-parser\"),on=require(\"./on\"),bind=require(\"component-bind\"),debug=require(\"debug\")(\"socket.io-client:manager\"),indexOf=require(\"indexof\"),Backoff=require(\"backo2\"),has=Object.prototype.hasOwnProperty;module.exports=Manager;function Manager(t,e){if(!(this instanceof Manager))return new Manager(t,e);t&&\"object\"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState=\"closed\",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new parser.Encoder,this.decoder=new parser.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)has.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Manager.prototype.updateSocketIds=function(){for(var t in this.nsps)has.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},Emitter(Manager.prototype),Manager.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(t,e){if(debug(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;debug(\"opening %s\",this.uri),this.engine=eio(this.uri,this.opts);var n=this.engine,o=this;this.readyState=\"opening\",this.skipReconnect=!1;var i=on(n,\"open\",function(){o.onopen(),t&&t()}),s=on(n,\"error\",function(e){if(debug(\"connect_error\"),o.cleanup(),o.readyState=\"closed\",o.emitAll(\"connect_error\",e),t){var n=new Error(\"Connection error\");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;debug(\"connect attempt will timeout after %d\",r);var c=setTimeout(function(){debug(\"connect attempt timed out after %d\",r),i.destroy(),n.close(),n.emit(\"error\",\"timeout\"),o.emitAll(\"connect_timeout\",r)},r);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(s),this},Manager.prototype.onopen=function(){debug(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var t=this.engine;this.subs.push(on(t,\"data\",bind(this,\"ondata\"))),this.subs.push(on(t,\"ping\",bind(this,\"onping\"))),this.subs.push(on(t,\"pong\",bind(this,\"onpong\"))),this.subs.push(on(t,\"error\",bind(this,\"onerror\"))),this.subs.push(on(t,\"close\",bind(this,\"onclose\"))),this.subs.push(on(this.decoder,\"decoded\",bind(this,\"ondecoded\")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},Manager.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},Manager.prototype.ondata=function(t){this.decoder.add(t)},Manager.prototype.ondecoded=function(t){this.emit(\"packet\",t)},Manager.prototype.onerror=function(t){debug(\"error\",t),this.emitAll(\"error\",t)},Manager.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new Socket(this,t,e),this.nsps[t]=n;var o=this;n.on(\"connecting\",i),n.on(\"connect\",function(){n.id=o.engine.id}),this.autoConnect&&i()}function i(){~indexOf(o.connecting,n)||o.connecting.push(n)}return n},Manager.prototype.destroy=function(t){var e=indexOf(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Manager.prototype.packet=function(t){debug(\"writing packet %j\",t);var e=this;t.query&&0===t.type&&(t.nsp+=\"?\"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Manager.prototype.cleanup=function(){debug(\"cleanup\");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){debug(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},Manager.prototype.onclose=function(t){debug(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var e=this.backoff.duration();debug(\"will wait %dms before reconnect attempt\",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(debug(\"attempting reconnect\"),t.emitAll(\"reconnect_attempt\",t.backoff.attempts),t.emitAll(\"reconnecting\",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(debug(\"reconnect attempt error\"),t.reconnecting=!1,t.reconnect(),t.emitAll(\"reconnect_error\",e.data)):(debug(\"reconnect success\"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},Manager.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",t)};","node_modules/socket.io-client/lib/socket.js":"var parser=require(\"socket.io-parser\"),Emitter=require(\"component-emitter\"),toArray=require(\"to-array\"),on=require(\"./on\"),bind=require(\"component-bind\"),debug=require(\"debug\")(\"socket.io-client:socket\"),hasBin=require(\"has-binary\");module.exports=exports=Socket;var events={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},emit=Emitter.prototype.emit;function Socket(t,e,s){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,s&&s.query&&(this.query=s.query),this.io.autoConnect&&this.open()}Emitter(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[on(t,\"open\",bind(this,\"onopen\")),on(t,\"packet\",bind(this,\"onpacket\")),on(t,\"close\",bind(this,\"onclose\"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},Socket.prototype.send=function(){var t=toArray(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},Socket.prototype.emit=function(t){if(events.hasOwnProperty(t))return emit.apply(this,arguments),this;var e=toArray(arguments),s=parser.EVENT;hasBin(e)&&(s=parser.BINARY_EVENT);var i={type:s,data:e};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof e[e.length-1]&&(debug(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},Socket.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},Socket.prototype.onopen=function(){debug(\"transport is open - connecting\"),\"/\"!==this.nsp&&(this.query?this.packet({type:parser.CONNECT,query:this.query}):this.packet({type:parser.CONNECT}))},Socket.prototype.onclose=function(t){debug(\"close (%s)\",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",t)},Socket.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case parser.CONNECT:this.onconnect();break;case parser.EVENT:case parser.BINARY_EVENT:this.onevent(t);break;case parser.ACK:case parser.BINARY_ACK:this.onack(t);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit(\"error\",t.data)}},Socket.prototype.onevent=function(t){var e=t.data||[];debug(\"emitting event %j\",e),null!=t.id&&(debug(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.connected?emit.apply(this,e):this.receiveBuffer.push(e)},Socket.prototype.ack=function(t){var e=this,s=!1;return function(){if(!s){s=!0;var i=toArray(arguments);debug(\"sending ack %j\",i);var o=hasBin(i)?parser.BINARY_ACK:parser.ACK;e.packet({type:o,id:t,data:i})}}},Socket.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(debug(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):debug(\"bad ack %s\",t.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)emit.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){debug(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},Socket.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(debug(\"performing disconnect (%s)\",this.nsp),this.packet({type:parser.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},Socket.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this};","node_modules/parseuri/index.js":"var re=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,parts=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];module.exports=function(r){var e=r,t=r.indexOf(\"[\"),s=r.indexOf(\"]\");-1!=t&&-1!=s&&(r=r.substring(0,t)+r.substring(t,s).replace(/:/g,\";\")+r.substring(s,r.length));for(var o=re.exec(r||\"\"),a={},u=14;u--;)a[parts[u]]=o[u]||\"\";return-1!=t&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a};","node_modules/json3/lib/json3.js":"(function(){var t=\"function\"==typeof define&&define.amd,e={function:!0,object:!0},r=e[typeof exports]&&exports&&!exports.nodeType&&exports,n=e[typeof window]&&window||this,o=r&&e[typeof module]&&module&&!module.nodeType&&\"object\"==typeof global&&global;!o||o.global!==o&&o.window!==o&&o.self!==o||(n=o);function c(t,r){t||(t=n.Object()),r||(r=n.Object());var o=t.Number||n.Number,i=t.String||n.String,a=t.Object||n.Object,l=t.Date||n.Date,f=t.SyntaxError||n.SyntaxError,s=t.TypeError||n.TypeError,u=t.Math||n.Math,h=t.JSON||n.JSON;\"object\"==typeof h&&h&&(r.stringify=h.stringify,r.parse=h.parse);var p,g,y,d=a.prototype,b=d.toString,v=new l(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}function C(t){if(C[t]!==y)return C[t];var e;if(\"bug-string-char-index\"==t)e=\"a\"!=\"a\"[0];else if(\"json\"==t)e=C(\"json-stringify\")&&C(\"json-parse\");else{var n,c='{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';if(\"json-stringify\"==t){var a=r.stringify,f=\"function\"==typeof a&&v;if(f){(n=function(){return 1}).toJSON=n;try{f=\"0\"===a(0)&&\"0\"===a(new o)&&'\"\"'==a(new i)&&a(b)===y&&a(y)===y&&a()===y&&\"1\"===a(n)&&\"[1]\"==a([n])&&\"[null]\"==a([y])&&\"null\"==a(null)&&\"[null,null,null]\"==a([y,b,null])&&a({a:[n,!0,!1,null,\"\\0\\b\\n\\f\\r\\t\"]})==c&&\"1\"===a(null,n)&&\"[\\n 1,\\n 2\\n]\"==a([1,2],null,1)&&'\"-271821-04-20T00:00:00.000Z\"'==a(new l(-864e13))&&'\"+275760-09-13T00:00:00.000Z\"'==a(new l(864e13))&&'\"-000001-01-01T00:00:00.000Z\"'==a(new l(-621987552e5))&&'\"1969-12-31T23:59:59.999Z\"'==a(new l(-1))}catch(t){f=!1}}e=f}if(\"json-parse\"==t){var s=r.parse;if(\"function\"==typeof s)try{if(0===s(\"0\")&&!s(!1)){var u=5==(n=s(c)).a.length&&1===n.a[0];if(u){try{u=!s('\"\\t\"')}catch(t){}if(u)try{u=1!==s(\"01\")}catch(t){}if(u)try{u=1!==s(\"1.\")}catch(t){}}}}catch(t){u=!1}e=u}}return C[t]=!!e}if(!C(\"json\")){var j=\"[object Function]\",S=\"[object Number]\",O=\"[object String]\",w=\"[object Array]\",T=C(\"bug-string-char-index\");if(!v)var A=u.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(t,e){return _[e]+365*(t-1970)+A((t-1969+(e=+(e>1)))/4)-A((t-1901+e)/100)+A((t-1601+e)/400)};if((p=d.hasOwnProperty)||(p=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=b?p=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,p=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,p.call(this,t)}),g=function(t,r){var n,o,c,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(c in o)p.call(o,c)&&i++;return n=o=null,i?g=2==i?function(t,e){var r,n={},o=b.call(t)==j;for(r in t)o&&\"prototype\"==r||p.call(n,r)||!(n[r]=1)||!p.call(t,r)||e(r)}:function(t,e){var r,n,o=b.call(t)==j;for(r in t)o&&\"prototype\"==r||!p.call(t,r)||(n=\"constructor\"===r)||e(r);(n||p.call(t,r=\"constructor\"))&&e(r)}:(o=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"],g=function(t,r){var n,c,i=b.call(t)==j,a=!i&&\"function\"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)i&&\"prototype\"==n||!a.call(t,n)||r(n);for(c=o.length;n=o[--c];a.call(t,n)&&r(n));}),g(t,r)},!C(\"json-stringify\")){var U={92:\"\\\\\\\\\",34:'\\\\\"',8:\"\\\\b\",12:\"\\\\f\",10:\"\\\\n\",13:\"\\\\r\",9:\"\\\\t\"},J=function(t,e){return(\"000000\"+(e||0)).slice(-t)},x=function(t){for(var e='\"',r=0,n=t.length,o=!T||n>10,c=o&&(T?t.split(\"\"):t);r<n;r++){var i=t.charCodeAt(r);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=U[i];break;default:if(i<32){e+=\"\\\\u00\"+J(2,i.toString(16));break}e+=o?c[r]:t.charAt(r)}}return e+'\"'},m=function(t,e,r,n,o,c,i){var a,l,f,u,h,d,v,C,j,T,_,U,M,k,D,E;try{a=e[t]}catch(t){}if(\"object\"==typeof a&&a)if(\"[object Date]\"!=(l=b.call(a))||p.call(a,\"toJSON\"))\"function\"==typeof a.toJSON&&(l!=S&&l!=O&&l!=w||p.call(a,\"toJSON\"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(N){for(h=A(a/864e5),f=A(h/365.2425)+1970-1;N(f+1,0)<=h;f++);for(u=A((h-N(f,0))/30.42);N(f,u+1)<=h;u++);h=1+h-N(f,u),v=A((d=(a%864e5+864e5)%864e5)/36e5)%24,C=A(d/6e4)%60,j=A(d/1e3)%60,T=d%1e3}else f=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),v=a.getUTCHours(),C=a.getUTCMinutes(),j=a.getUTCSeconds(),T=a.getUTCMilliseconds();a=(f<=0||f>=1e4?(f<0?\"-\":\"+\")+J(6,f<0?-f:f):J(4,f))+\"-\"+J(2,u+1)+\"-\"+J(2,h)+\"T\"+J(2,v)+\":\"+J(2,C)+\":\"+J(2,j)+\".\"+J(3,T)+\"Z\"}else a=null;if(r&&(a=r.call(e,t,a)),null===a)return\"null\";if(\"[object Boolean]\"==(l=b.call(a)))return\"\"+a;if(l==S)return a>-1/0&&a<1/0?\"\"+a:\"null\";if(l==O)return x(\"\"+a);if(\"object\"==typeof a){for(k=i.length;k--;)if(i[k]===a)throw s();if(i.push(a),_=[],D=c,c+=o,l==w){for(M=0,k=a.length;M<k;M++)U=m(M,a,r,n,o,c,i),_.push(U===y?\"null\":U);E=_.length?o?\"[\\n\"+c+_.join(\",\\n\"+c)+\"\\n\"+D+\"]\":\"[\"+_.join(\",\")+\"]\":\"[]\"}else g(n||a,function(t){var e=m(t,a,r,n,o,c,i);e!==y&&_.push(x(t)+\":\"+(o?\" \":\"\")+e)}),E=_.length?o?\"{\\n\"+c+_.join(\",\\n\"+c)+\"\\n\"+D+\"}\":\"{\"+_.join(\",\")+\"}\":\"{}\";return i.pop(),E}};r.stringify=function(t,r,n){var o,c,i,a;if(e[typeof r]&&r)if((a=b.call(r))==j)c=r;else if(a==w){i={};for(var l,f=0,s=r.length;f<s;l=r[f++],((a=b.call(l))==O||a==S)&&(i[l]=1));}if(n)if((a=b.call(n))==S){if((n-=n%1)>0)for(o=\"\",n>10&&(n=10);o.length<n;o+=\" \");}else a==O&&(o=n.length<=10?n:n.slice(0,10));return m(\"\",(l={},l[\"\"]=t,l),c,i,o,\"\",[])}}if(!C(\"json-parse\")){var M,k,D=i.fromCharCode,E={92:\"\\\\\",34:'\"',47:\"/\",98:\"\\b\",116:\"\\t\",110:\"\\n\",102:\"\\f\",114:\"\\r\"},P=function(){throw M=k=null,f()},Z=function(){for(var t,e,r,n,o,c=k,i=c.length;M<i;)switch(o=c.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=T?c.charAt(M):c[M],M++,t;case 34:for(t=\"@\",M++;M<i;)if((o=c.charCodeAt(M))<32)P();else if(92==o)switch(o=c.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=E[o],M++;break;case 117:for(e=++M,r=M+4;M<r;M++)(o=c.charCodeAt(M))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||P();t+=D(\"0x\"+c.slice(e,M));break;default:P()}else{if(34==o)break;for(o=c.charCodeAt(M),e=M;o>=32&&92!=o&&34!=o;)o=c.charCodeAt(++M);t+=c.slice(e,M)}if(34==c.charCodeAt(M))return M++,t;P();default:if(e=M,45==o&&(n=!0,o=c.charCodeAt(++M)),o>=48&&o<=57){for(48==o&&(o=c.charCodeAt(M+1))>=48&&o<=57&&P(),n=!1;M<i&&(o=c.charCodeAt(M))>=48&&o<=57;M++);if(46==c.charCodeAt(M)){for(r=++M;r<i&&(o=c.charCodeAt(r))>=48&&o<=57;r++);r==M&&P(),M=r}if(101==(o=c.charCodeAt(M))||69==o){for(43!=(o=c.charCodeAt(++M))&&45!=o||M++,r=M;r<i&&(o=c.charCodeAt(r))>=48&&o<=57;r++);r==M&&P(),M=r}return+c.slice(e,M)}if(n&&P(),\"true\"==c.slice(M,M+4))return M+=4,!0;if(\"false\"==c.slice(M,M+5))return M+=5,!1;if(\"null\"==c.slice(M,M+4))return M+=4,null;P()}return\"$\"},F=function(t){var e,r;if(\"$\"==t&&P(),\"string\"==typeof t){if(\"@\"==(T?t.charAt(0):t[0]))return t.slice(1);if(\"[\"==t){for(e=[];\"]\"!=(t=Z());r||(r=!0))r&&(\",\"==t?\"]\"==(t=Z())&&P():P()),\",\"==t&&P(),e.push(F(t));return e}if(\"{\"==t){for(e={};\"}\"!=(t=Z());r||(r=!0))r&&(\",\"==t?\"}\"==(t=Z())&&P():P()),\",\"!=t&&\"string\"==typeof t&&\"@\"==(T?t.charAt(0):t[0])&&\":\"==Z()||P(),e[t.slice(1)]=F(Z());return e}P()}return t},$=function(t,e,r){var n=H(t,e,r);n===y?delete t[e]:t[e]=n},H=function(t,e,r){var n,o=t[e];if(\"object\"==typeof o&&o)if(b.call(o)==w)for(n=o.length;n--;)$(o,n,r);else g(o,function(t){$(o,t,r)});return r.call(t,e,o)};r.parse=function(t,e){var r,n;return M=0,k=\"\"+t,r=F(Z()),\"$\"!=Z()&&P(),M=k=null,e&&b.call(e)==j?H((n={},n[\"\"]=r,n),\"\",e):r}}}return r.runInContext=c,r}if(r&&!t)c(n,r);else{var i=n.JSON,a=n.JSON3,l=!1,f=c(n,n.JSON3={noConflict:function(){return l||(l=!0,n.JSON=i,n.JSON3=a,i=a=null),f}});n.JSON={parse:f.parse,stringify:f.stringify}}t&&define(function(){return f})}).call(this);","node_modules/component-emitter/index.js":"module.exports=Emitter;function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Emitter.prototype.once=function(t,e){var i=this;this._callbacks=this._callbacks||{};function r(){i.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,s=0;s<i.length;s++)if((r=i[s])===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var r=0,s=(i=i.slice(0)).length;r<s;++r)i[r].apply(this,e);return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};","node_modules/socket.io-parser/binary.js":"var isArray=require(\"isarray\"),isBuf=require(\"./is-buffer\");exports.deconstructPacket=function(r){var e=[],t=r.data;function n(r){if(!r)return r;if(isBuf(r)){var t={_placeholder:!0,num:e.length};return e.push(r),t}if(isArray(r)){for(var a=new Array(r.length),i=0;i<r.length;i++)a[i]=n(r[i]);return a}if(\"object\"==typeof r&&!(r instanceof Date)){a={};for(var f in r)a[f]=n(r[f]);return a}return r}var a=r;return a.data=n(t),a.attachments=e.length,{packet:a,buffers:e}},exports.reconstructPacket=function(r,e){function t(r){if(r&&r._placeholder){return e[r.num]}if(isArray(r)){for(var n=0;n<r.length;n++)r[n]=t(r[n]);return r}if(r&&\"object\"==typeof r){for(var a in r)r[a]=t(r[a]);return r}return r}return r.data=t(r.data),r.attachments=void 0,r},exports.removeBlobs=function(r,e){function t(r,i,f){if(!r)return r;if(global.Blob&&r instanceof Blob||global.File&&r instanceof File){n++;var o=new FileReader;o.onload=function(){f?f[i]=this.result:a=this.result,--n||e(a)},o.readAsArrayBuffer(r)}else if(isArray(r))for(var u=0;u<r.length;u++)t(r[u],u,r);else if(r&&\"object\"==typeof r&&!isBuf(r))for(var s in r)t(r[s],s,r)}var n=0,a=r;t(a),n||e(a)};","node_modules/socket.io-parser/is-buffer.js":"module.exports=isBuf;function isBuf(f){return global.Buffer&&global.Buffer.isBuffer(f)||global.ArrayBuffer&&f instanceof ArrayBuffer}","node_modules/engine.io-client/index.js":"module.exports=require(\"./lib/index\");","node_modules/socket.io-client/lib/on.js":"module.exports=on;function on(n,o,e){return n.on(o,e),{destroy:function(){n.removeListener(o,e)}}}","node_modules/component-bind/index.js":"var slice=[].slice;module.exports=function(n,r){if(\"string\"==typeof r&&(r=n[r]),\"function\"!=typeof r)throw new Error(\"bind() requires a function\");var e=slice.call(arguments,2);return function(){return r.apply(n,e.concat(slice.call(arguments)))}};","node_modules/indexof/index.js":"var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};","node_modules/backo2/index.js":"module.exports=Backoff;function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),i=Math.floor(o*this.jitter*t);t=0==(1&Math.floor(10*o))?t-i:t+i}return 0|Math.min(t,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(t){this.ms=t},Backoff.prototype.setMax=function(t){this.max=t},Backoff.prototype.setJitter=function(t){this.jitter=t};","node_modules/engine.io-client/lib/index.js":"module.exports=require(\"./socket\"),module.exports.parser=require(\"engine.io-parser\");","node_modules/engine.io-client/lib/socket.js":"var transports=require(\"./transports/index\"),Emitter=require(\"component-emitter\"),debug=require(\"debug\")(\"engine.io-client:socket\"),index=require(\"indexof\"),parser=require(\"engine.io-parser\"),parseuri=require(\"parseuri\"),parsejson=require(\"parsejson\"),parseqs=require(\"parseqs\");module.exports=Socket;function Socket(e,t){if(!(this instanceof Socket))return new Socket(e,t);t=t||{},e&&\"object\"==typeof e&&(t=e,e=null),e?(e=parseuri(e),t.hostname=e.host,t.secure=\"https\"===e.protocol||\"wss\"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=parseuri(t.host).host),this.secure=null!=t.secure?t.secure:global.location&&\"https:\"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?\"443\":\"80\"),this.agent=t.agent||!1,this.hostname=t.hostname||(global.location?location.hostname:\"localhost\"),this.port=t.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},\"string\"==typeof this.query&&(this.query=parseqs.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||\"t\",this.timestampRequests=t.timestampRequests,this.transports=t.transports||[\"polling\",\"websocket\"],this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var r=\"object\"==typeof global&&global;r.global===r&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=require(\"./transport\"),Socket.transports=require(\"./transports/index\"),Socket.parser=require(\"engine.io-parser\"),Socket.prototype.createTransport=function(e){debug('creating transport \"%s\"',e);var t=clone(this.query);t.EIO=parser.protocol,t.transport=e,this.id&&(t.sid=this.id);return new transports[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})};function clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Socket.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf(\"websocket\"))e=\"websocket\";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit(\"error\",\"No transports available\")},0)}e=this.transports[0]}this.readyState=\"opening\";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Socket.prototype.setTransport=function(e){debug(\"setting transport %s\",e.name);var t=this;this.transport&&(debug(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on(\"drain\",function(){t.onDrain()}).on(\"packet\",function(e){t.onPacket(e)}).on(\"error\",function(e){t.onError(e)}).on(\"close\",function(){t.onClose(\"transport close\")})},Socket.prototype.probe=function(e){debug('probing transport \"%s\"',e);var t=this.createTransport(e,{probe:1}),r=!1,s=this;Socket.priorWebsocketSuccess=!1;function o(){if(s.onlyBinaryUpgrades){var o=!this.supportsBinary&&s.transport.supportsBinary;r=r||o}r||(debug('probe transport \"%s\" opened',e),t.send([{type:\"ping\",data:\"probe\"}]),t.once(\"packet\",function(o){if(!r)if(\"pong\"===o.type&&\"probe\"===o.data){if(debug('probe transport \"%s\" pong',e),s.upgrading=!0,s.emit(\"upgrading\",t),!t)return;Socket.priorWebsocketSuccess=\"websocket\"===t.name,debug('pausing current transport \"%s\"',s.transport.name),s.transport.pause(function(){r||\"closed\"!==s.readyState&&(debug(\"changing transport and sending upgrade packet\"),h(),s.setTransport(t),t.send([{type:\"upgrade\"}]),s.emit(\"upgrade\",t),t=null,s.upgrading=!1,s.flush())})}else{debug('probe transport \"%s\" failed',e);var i=new Error(\"probe error\");i.transport=t.name,s.emit(\"upgradeError\",i)}}))}function i(){r||(r=!0,h(),t.close(),t=null)}function n(r){var o=new Error(\"probe error: \"+r);o.transport=t.name,i(),debug('probe transport \"%s\" failed because of error: %s',e,r),s.emit(\"upgradeError\",o)}function a(){n(\"transport closed\")}function p(){n(\"socket closed\")}function c(e){t&&e.name!==t.name&&(debug('\"%s\" works - aborting \"%s\"',e.name,t.name),i())}function h(){t.removeListener(\"open\",o),t.removeListener(\"error\",n),t.removeListener(\"close\",a),s.removeListener(\"close\",p),s.removeListener(\"upgrading\",c)}t.once(\"open\",o),t.once(\"error\",n),t.once(\"close\",a),this.once(\"close\",p),this.once(\"upgrading\",c),t.open()},Socket.prototype.onOpen=function(){if(debug(\"socket open\"),this.readyState=\"open\",Socket.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){debug(\"starting upgrade probes\");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Socket.prototype.onPacket=function(e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(debug('socket receive: type \"%s\", data \"%s\"',e.type,e.data),this.emit(\"packet\",e),this.emit(\"heartbeat\"),e.type){case\"open\":this.onHandshake(parsejson(e.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var t=new Error(\"server error\");t.code=e.data,this.onError(t);break;case\"message\":this.emit(\"data\",e.data),this.emit(\"message\",e.data)}else debug('packet received with socket readyState \"%s\"',this.readyState)},Socket.prototype.onHandshake=function(e){this.emit(\"handshake\",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){\"closed\"!==t.readyState&&t.onClose(\"ping timeout\")},e||t.pingInterval+t.pingTimeout)},Socket.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){debug(\"writing ping packet - expecting pong within %sms\",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},Socket.prototype.ping=function(){var e=this;this.sendPacket(\"ping\",function(){e.emit(\"ping\")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},Socket.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},Socket.prototype.write=Socket.prototype.send=function(e,t,r){return this.sendPacket(\"message\",e,t,r),this},Socket.prototype.sendPacket=function(e,t,r,s){if(\"function\"==typeof t&&(s=t,t=void 0),\"function\"==typeof r&&(s=r,r=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var o={type:e,data:t,options:r};this.emit(\"packetCreate\",o),this.writeBuffer.push(o),s&&this.once(\"flush\",s),this.flush()}},Socket.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var e=this;this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?s():t()}):this.upgrading?s():t()}function t(){e.onClose(\"forced close\"),debug(\"socket closing - telling transport to close\"),e.transport.close()}function r(){e.removeListener(\"upgrade\",r),e.removeListener(\"upgradeError\",r),t()}function s(){e.once(\"upgrade\",r),e.once(\"upgradeError\",r)}return this},Socket.prototype.onError=function(e){debug(\"socket error %j\",e),Socket.priorWebsocketSuccess=!1,this.emit(\"error\",e),this.onClose(\"transport error\",e)},Socket.prototype.onClose=function(e,t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){debug('socket close with reason: \"%s\"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",e,t),this.writeBuffer=[],this.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(e){for(var t=[],r=0,s=e.length;r<s;r++)~index(this.transports,e[r])&&t.push(e[r]);return t};","node_modules/engine.io-client/lib/transports/index.js":"var XMLHttpRequest=require(\"xmlhttprequest-ssl\"),XHR=require(\"./polling-xhr\"),JSONP=require(\"./polling-jsonp\"),websocket=require(\"./websocket\");exports.polling=polling,exports.websocket=websocket;function polling(e){var o=!1,t=!1,r=!1!==e.jsonp;if(global.location){var n=\"https:\"===location.protocol,i=location.port;i||(i=n?443:80),o=e.hostname!==location.hostname||i!==e.port,t=e.secure!==n}if(e.xdomain=o,e.xscheme=t,\"open\"in new XMLHttpRequest(e)&&!e.forceJSONP)return new XHR(e);if(!r)throw new Error(\"JSONP disabled\");return new JSONP(e)}","node_modules/parsejson/index.js":"var rvalidchars=/^[\\],:{}\\s]*$/,rvalidescape=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\\s*\\[)+/g,rtrimLeft=/^\\s+/,rtrimRight=/\\s+$/;module.exports=function(r){return\"string\"==typeof r&&r?(r=r.replace(rtrimLeft,\"\").replace(rtrimRight,\"\"),global.JSON&&JSON.parse?JSON.parse(r):rvalidchars.test(r.replace(rvalidescape,\"@\").replace(rvalidtokens,\"]\").replace(rvalidbraces,\"\"))?new Function(\"return \"+r)():void 0):null};","node_modules/parseqs/index.js":"exports.encode=function(e){var n=\"\";for(var o in e)e.hasOwnProperty(o)&&(n.length&&(n+=\"&\"),n+=encodeURIComponent(o)+\"=\"+encodeURIComponent(e[o]));return n},exports.decode=function(e){for(var n={},o=e.split(\"&\"),t=0,r=o.length;t<r;t++){var d=o[t].split(\"=\");n[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return n};","node_modules/engine.io-client/lib/transport.js":"var parser=require(\"engine.io-parser\"),Emitter=require(\"component-emitter\");module.exports=Transport;function Transport(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=\"\",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}Emitter(Transport.prototype),Transport.prototype.onError=function(t,e){var r=new Error(t);return r.type=\"TransportError\",r.description=e,this.emit(\"error\",r),this},Transport.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},Transport.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(t){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(t)},Transport.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},Transport.prototype.onData=function(t){var e=parser.decodePacket(t,this.socket.binaryType);this.onPacket(e)},Transport.prototype.onPacket=function(t){this.emit(\"packet\",t)},Transport.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")};","node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js":"var fs=require(\"fs\"),Url=require(\"url\"),spawn=require(\"child_process\").spawn;module.exports=XMLHttpRequest,XMLHttpRequest.XMLHttpRequest=XMLHttpRequest;function XMLHttpRequest(e){\"use strict\";var t,s,r=this,n=require(\"http\"),o=require(\"https\"),a={},i=!1,h={\"User-Agent\":\"node-XMLHttpRequest\",Accept:\"*/*\"},c=h,u=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"content-transfer-encoding\",\"cookie\",\"cookie2\",\"date\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"via\"],d=[\"TRACE\",\"TRACK\",\"CONNECT\"],p=!1,f=!1,E={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText=\"\",this.responseXML=\"\",this.status=null,this.statusText=null;this.open=function(e,t,s,r,n){if(this.abort(),f=!1,!function(e){return e&&-1===d.indexOf(e)}(e))throw\"SecurityError: Request method not allowed\";a={method:e,url:t.toString(),async:\"boolean\"!=typeof s||s,user:r||null,password:n||null},l(this.OPENED)},this.setDisableHeaderCheck=function(e){i=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\";if(!function(e){return i||e&&-1===u.indexOf(e.toLowerCase())}(e))return console.warn('Refused to set unsafe header \"'+e+'\"'),!1;if(p)throw\"INVALID_STATE_ERR: send flag is true\";return c[e]=t,!0},this.getResponseHeader=function(e){return\"string\"==typeof e&&this.readyState>this.OPENED&&s.headers[e.toLowerCase()]&&!f?s.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||f)return\"\";var e=\"\";for(var t in s.headers)\"set-cookie\"!==t&&\"set-cookie2\"!==t&&(e+=t+\": \"+s.headers[t]+\"\\r\\n\");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return\"string\"==typeof e&&c[e]?c[e]:\"\"},this.send=function(i){if(this.readyState!=this.OPENED)throw\"INVALID_STATE_ERR: connection must be opened before send() is called\";if(p)throw\"INVALID_STATE_ERR: send has already been called\";var h,u=!1,d=!1,E=Url.parse(a.url);switch(E.protocol){case\"https:\":u=!0;case\"http:\":h=E.hostname;break;case\"file:\":d=!0;break;case void 0:case\"\":h=\"localhost\";break;default:throw\"Protocol not supported.\"}if(d){if(\"GET\"!==a.method)throw\"XMLHttpRequest: Only GET method is supported\";if(a.async)fs.readFile(E.pathname,\"utf8\",function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,l(r.DONE))});else try{this.responseText=fs.readFileSync(E.pathname,\"utf8\"),this.status=200,l(r.DONE)}catch(e){this.handleError(e)}}else{var T=E.port||(u?443:80),S=E.pathname+(E.search?E.search:\"\");if(c.Host=h,u&&443===T||80===T||(c.Host+=\":\"+E.port),a.user){void 0===a.password&&(a.password=\"\");var y=new Buffer(a.user+\":\"+a.password);c.Authorization=\"Basic \"+y.toString(\"base64\")}\"GET\"===a.method||\"HEAD\"===a.method?i=null:i?(c[\"Content-Length\"]=Buffer.isBuffer(i)?i.length:Buffer.byteLength(i),c[\"Content-Type\"]||(c[\"Content-Type\"]=\"text/plain;charset=UTF-8\")):\"POST\"===a.method&&(c[\"Content-Length\"]=0);var R=!1;e&&e.agent&&(R=e.agent);var N={host:h,port:T,path:S,method:a.method,headers:c,agent:R};if(u&&(N.pfx=e.pfx,N.key=e.key,N.passphrase=e.passphrase,N.cert=e.cert,N.ca=e.ca,N.ciphers=e.ciphers,N.rejectUnauthorized=e.rejectUnauthorized),f=!1,a.async){var O=u?o.request:n.request;p=!0,r.dispatchEvent(\"readystatechange\");var v=function(n){if(302===(s=n).statusCode||303===s.statusCode||307===s.statusCode){a.url=s.headers.location;var o=Url.parse(a.url);h=o.hostname;var i={hostname:o.hostname,port:o.port,path:o.path,method:303===s.statusCode?\"GET\":a.method,headers:c};return u&&(i.pfx=e.pfx,i.key=e.key,i.passphrase=e.passphrase,i.cert=e.cert,i.ca=e.ca,i.ciphers=e.ciphers,i.rejectUnauthorized=e.rejectUnauthorized),void(t=O(i,v).on(\"error\",D)).end()}s&&s.setEncoding&&s.setEncoding(\"utf8\"),l(r.HEADERS_RECEIVED),r.status=s.statusCode,s.on(\"data\",function(e){e&&(r.responseText+=e),p&&l(r.LOADING)}),s.on(\"end\",function(){p&&(l(r.DONE),p=!1)}),s.on(\"error\",function(e){r.handleError(e)})},D=function(e){r.handleError(e)};t=O(N,v).on(\"error\",D),i&&t.write(i),t.end(),r.dispatchEvent(\"loadstart\")}else{var g=\".node-xmlhttprequest-content-\"+process.pid,q=\".node-xmlhttprequest-sync-\"+process.pid;fs.writeFileSync(q,\"\",\"utf8\");for(var L=\"var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http\"+(u?\"s\":\"\")+\".request;var options = \"+JSON.stringify(N)+\";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('\"+g+\"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('\"+q+\"');});response.on('error', function(error) {fs.writeFileSync('\"+g+\"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('\"+q+\"');});}).on('error', function(error) {fs.writeFileSync('\"+g+\"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('\"+q+\"');});\"+(i?\"req.write('\"+i.replace(/'/g,\"\\\\'\")+\"');\":\"\")+\"req.end();\",x=spawn(process.argv[0],[\"-e\",L]);fs.existsSync(q););if(r.responseText=fs.readFileSync(g,\"utf8\"),x.stdin.end(),fs.unlinkSync(g),r.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var w=r.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,\"\");r.handleError(w)}else r.status=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,\"$1\"),r.responseText=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,\"$1\"),l(r.DONE)}}},this.handleError=function(e){this.status=503,this.statusText=e,this.responseText=e.stack,f=!0,l(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),c=h,this.responseText=\"\",this.responseXML=\"\",f=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!p||this.readyState===this.DONE||(p=!1,l(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in E||(E[e]=[]),E[e].push(t)},this.removeEventListener=function(e,t){e in E&&(E[e]=E[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if(\"function\"==typeof r[\"on\"+e]&&r[\"on\"+e](),e in E)for(var t=0,s=E[e].length;t<s;t++)E[e][t].call(r)};var l=function(e){r.readyState!==e&&(r.readyState=e,(a.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent(\"readystatechange\"),r.readyState!==r.DONE||f||(r.dispatchEvent(\"load\"),r.dispatchEvent(\"loadend\")))}}","node_modules/engine.io-client/lib/transports/polling-xhr.js":"var XMLHttpRequest=require(\"xmlhttprequest-ssl\"),Polling=require(\"./polling\"),Emitter=require(\"component-emitter\"),inherit=require(\"component-inherit\"),debug=require(\"debug\")(\"engine.io-client:polling-xhr\");module.exports=XHR,module.exports.Request=Request;function empty(){}function XHR(t){if(Polling.call(this,t),this.requestTimeout=t.requestTimeout,global.location){var e=\"https:\"===location.protocol,s=location.port;s||(s=e?443:80),this.xd=t.hostname!==global.location.hostname||s!==t.port,this.xs=t.secure!==e}else this.extraHeaders=t.extraHeaders}inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Request(t)},XHR.prototype.doWrite=function(t,e){var s=\"string\"!=typeof t&&void 0!==t,r=this.request({method:\"POST\",data:t,isBinary:s}),i=this;r.on(\"success\",e),r.on(\"error\",function(t){i.onError(\"xhr post error\",t)}),this.sendXhr=r},XHR.prototype.doPoll=function(){debug(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t};function Request(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}Emitter(Request.prototype),Request.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new XMLHttpRequest(t),s=this;try{debug(\"xhr open %s: %s\",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}}catch(t){}if(this.supportsBinary&&(e.responseType=\"arraybuffer\"),\"POST\"===this.method)try{this.isBinary?e.setRequestHeader(\"Content-type\",\"application/octet-stream\"):e.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(t){}try{e.setRequestHeader(\"Accept\",\"*/*\")}catch(t){}\"withCredentials\"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){s.onLoad()},e.onerror=function(){s.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?s.onLoad():setTimeout(function(){s.onError(e.status)},0))},debug(\"xhr data %s\",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){s.onError(t)},0)}global.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},Request.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},Request.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},Request.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,t)try{this.xhr.abort()}catch(t){}global.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\").split(\";\")[0]}catch(t){}if(\"application/octet-stream\"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var s=new Uint8Array(this.xhr.response),r=[],i=0,o=s.length;i<o;i++)r.push(s[i]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},Request.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},global.document&&(global.attachEvent?global.attachEvent(\"onunload\",unloadHandler):global.addEventListener&&global.addEventListener(\"beforeunload\",unloadHandler,!1));function unloadHandler(){for(var t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}","node_modules/engine.io-client/lib/transports/polling-jsonp.js":"var Polling=require(\"./polling\"),inherit=require(\"component-inherit\");module.exports=JSONPPolling;var callbacks,rNewline=/\\n/g,rEscapedNewline=/\\\\n/g;function empty(){}function JSONPPolling(e){Polling.call(this,e),this.query=this.query||{},callbacks||(global.___eio||(global.___eio=[]),callbacks=global.___eio),this.index=callbacks.length;var t=this;callbacks.push(function(e){t.onData(e)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener(\"beforeunload\",function(){t.script&&(t.script.onerror=empty)},!1)}inherit(JSONPPolling,Polling),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError(\"jsonp poll error\",t)};var i=document.getElementsByTagName(\"script\")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t;\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement(\"iframe\");document.body.appendChild(e),document.body.removeChild(e)},100)},JSONPPolling.prototype.doWrite=function(e,t){var i=this;if(!this.form){var r,o=document.createElement(\"form\"),n=document.createElement(\"textarea\"),a=this.iframeId=\"eio_iframe_\"+this.index;o.className=\"socketio\",o.style.position=\"absolute\",o.style.top=\"-1000px\",o.style.left=\"-1000px\",o.target=a,o.method=\"POST\",o.setAttribute(\"accept-charset\",\"utf-8\"),n.name=\"d\",o.appendChild(n),document.body.appendChild(o),this.form=o,this.area=n}this.form.action=this.uri();function l(){s(),t()}function s(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError(\"jsonp polling iframe removal error\",e)}try{var e='<iframe src=\"javascript:0\" name=\"'+i.iframeId+'\">';r=document.createElement(e)}catch(e){(r=document.createElement(\"iframe\")).name=i.iframeId,r.src=\"javascript:0\"}r.id=i.iframeId,i.form.appendChild(r),i.iframe=r}s(),e=e.replace(rEscapedNewline,\"\\\\\\n\"),this.area.value=e.replace(rNewline,\"\\\\n\");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===i.iframe.readyState&&l()}:this.iframe.onload=l};","node_modules/engine.io-client/lib/transports/websocket.js":"var NodeWebSocket,Transport=require(\"../transport\"),parser=require(\"engine.io-parser\"),parseqs=require(\"parseqs\"),inherit=require(\"component-inherit\"),yeast=require(\"yeast\"),debug=require(\"debug\")(\"engine.io-client:websocket\"),BrowserWebSocket=global.WebSocket||global.MozWebSocket;if(\"undefined\"==typeof window)try{NodeWebSocket=require(\"ws\")}catch(e){}var WebSocket=BrowserWebSocket;WebSocket||\"undefined\"!=typeof window||(WebSocket=NodeWebSocket),module.exports=WS;function WS(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!e.forceNode,this.usingBrowserWebSocket||(WebSocket=NodeWebSocket),Transport.call(this,e)}inherit(WS,Transport),WS.prototype.name=\"websocket\",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new WebSocket(e):new WebSocket(e,void 0,t)}catch(e){return this.emit(\"error\",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError(\"websocket error\",t)}},WS.prototype.write=function(e){var t=this;this.writable=!1;for(var s=e.length,r=0,o=s;r<o;r++)!function(e){parser.encodePacket(e,t.supportsBinary,function(r){if(!t.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),t.perMessageDeflate){(\"string\"==typeof r?global.Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,o)}catch(e){debug(\"websocket closed before onclose event\")}--s||(t.emit(\"flush\"),setTimeout(function(){t.writable=!0,t.emit(\"drain\")},0))})}(e[r])},WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var e=this.query||{},t=this.secure?\"wss\":\"ws\",s=\"\";this.port&&(\"wss\"===t&&443!==Number(this.port)||\"ws\"===t&&80!==Number(this.port))&&(s=\":\"+this.port),this.timestampRequests&&(e[this.timestampParam]=yeast()),this.supportsBinary||(e.b64=1),(e=parseqs.encode(e)).length&&(e=\"?\"+e);return t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+s+this.path+e},WS.prototype.check=function(){return!(!WebSocket||\"__initialize\"in WebSocket&&this.name===WS.prototype.name)};","node_modules/engine.io-client/lib/transports/polling.js":"var Transport=require(\"../transport\"),parseqs=require(\"parseqs\"),parser=require(\"engine.io-parser\"),inherit=require(\"component-inherit\"),yeast=require(\"yeast\"),debug=require(\"debug\")(\"engine.io-client:polling\");module.exports=Polling;var hasXHR2=null!=new(require(\"xmlhttprequest-ssl\"))({xdomain:!1}).responseType;function Polling(t){var e=t&&t.forceBase64;hasXHR2&&!e||(this.supportsBinary=!1),Transport.call(this,t)}inherit(Polling,Transport),Polling.prototype.name=\"polling\",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(t){var e=this;this.readyState=\"pausing\";function i(){debug(\"paused\"),e.readyState=\"paused\",t()}if(this.polling||!this.writable){var o=0;this.polling&&(debug(\"we are currently polling - waiting to pause\"),o++,this.once(\"pollComplete\",function(){debug(\"pre-pause polling complete\"),--o||i()})),this.writable||(debug(\"we are currently writing - waiting to pause\"),o++,this.once(\"drain\",function(){debug(\"pre-pause writing complete\"),--o||i()}))}else i()},Polling.prototype.poll=function(){debug(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},Polling.prototype.onData=function(t){var e=this;debug(\"polling got data %s\",t);parser.decodePayload(t,this.socket.binaryType,function(t,i,o){if(\"opening\"===e.readyState&&e.onOpen(),\"close\"===t.type)return e.onClose(),!1;e.onPacket(t)}),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():debug('ignoring poll - transport state \"%s\"',this.readyState))},Polling.prototype.doClose=function(){var t=this;function e(){debug(\"writing close packet\"),t.write([{type:\"close\"}])}\"open\"===this.readyState?(debug(\"transport open - closing\"),e()):(debug(\"transport not open - deferring close\"),this.once(\"open\",e))},Polling.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit(\"drain\")};parser.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,i)})},Polling.prototype.uri=function(){var t=this.query||{},e=this.secure?\"https\":\"http\",i=\"\";!1!==this.timestampRequests&&(t[this.timestampParam]=yeast()),this.supportsBinary||t.sid||(t.b64=1),t=parseqs.encode(t),this.port&&(\"https\"===e&&443!==Number(this.port)||\"http\"===e&&80!==Number(this.port))&&(i=\":\"+this.port),t.length&&(t=\"?\"+t);return e+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+i+this.path+t};","node_modules/component-inherit/index.js":"module.exports=function(o,t){var p=function(){};p.prototype=t.prototype,o.prototype=new p,o.prototype.constructor=o};","node_modules/yeast/index.js":"\"use strict\";var prev,alphabet=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),length=64,map={},seed=0,i=0;function encode(e){var t=\"\";do{t=alphabet[e%length]+t,e=Math.floor(e/length)}while(e>0);return t}function decode(e){var t=0;for(i=0;i<e.length;i++)t=t*length+map[e.charAt(i)];return t}function yeast(){var e=encode(+new Date);return e!==prev?(seed=0,prev=e):e+\".\"+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;yeast.encode=encode,yeast.decode=decode,module.exports=yeast;","node_modules/ws/lib/WebSocket.js":"\"use strict\";var url=require(\"url\"),util=require(\"util\"),http=require(\"http\"),https=require(\"https\"),crypto=require(\"crypto\"),stream=require(\"stream\"),Ultron=require(\"ultron\"),Options=require(\"options\"),Sender=require(\"./Sender\"),Receiver=require(\"./Receiver\"),SenderHixie=require(\"./Sender.hixie\"),ReceiverHixie=require(\"./Receiver.hixie\"),Extensions=require(\"./Extensions\"),PerMessageDeflate=require(\"./PerMessageDeflate\"),EventEmitter=require(\"events\").EventEmitter,protocolVersion=13,closeTimeout=3e4;function WebSocket(e,t,r){if(this instanceof WebSocket==!1)return new WebSocket(e,t,r);EventEmitter.call(this),t&&!Array.isArray(t)&&\"object\"==typeof t&&(r=t,t=null),\"string\"==typeof t&&(t=[t]),Array.isArray(t)||(t=[]),this._socket=null,this._ultron=null,this._closeReceived=!1,this.bytesReceived=0,this.readyState=null,this.supports={},this.extensions={},this._binaryType=\"nodebuffer\",Array.isArray(e)?initAsServerClient.apply(this,e.concat(r)):initAsClient.apply(this,[e,t,r])}util.inherits(WebSocket,EventEmitter),[\"CONNECTING\",\"OPEN\",\"CLOSING\",\"CLOSED\"].forEach(function(e,t){WebSocket.prototype[e]=WebSocket[e]=t}),WebSocket.prototype.close=function(e,t){if(this.readyState!==WebSocket.CLOSED)if(this.readyState!==WebSocket.CONNECTING)if(this.readyState!==WebSocket.CLOSING){var r=this;try{this.readyState=WebSocket.CLOSING,this._closeCode=e,this._closeMessage=t;var o=!this._isServer;this._sender.close(e,t,o,function(e){e&&r.emit(\"error\",e),r._closeReceived&&r._isServer?r.terminate():(clearTimeout(r._closeTimer),r._closeTimer=setTimeout(cleanupWebsocketResources.bind(r,!0),closeTimeout))})}catch(e){this.emit(\"error\",e)}}else this._closeReceived&&this._isServer&&this.terminate();else this.readyState=WebSocket.CLOSED},WebSocket.prototype.pause=function(){if(this.readyState!==WebSocket.OPEN)throw new Error(\"not opened\");return this._socket.pause()},WebSocket.prototype.ping=function(e,t,r){if(this.readyState!==WebSocket.OPEN){if(!0===r)return;throw new Error(\"not opened\")}void 0===(t=t||{}).mask&&(t.mask=!this._isServer),this._sender.ping(e,t)},WebSocket.prototype.pong=function(e,t,r){if(this.readyState!==WebSocket.OPEN){if(!0===r)return;throw new Error(\"not opened\")}void 0===(t=t||{}).mask&&(t.mask=!this._isServer),this._sender.pong(e,t)},WebSocket.prototype.resume=function(){if(this.readyState!==WebSocket.OPEN)throw new Error(\"not opened\");return this._socket.resume()},WebSocket.prototype.send=function(e,t,r){if(\"function\"==typeof t&&(r=t,t={}),this.readyState===WebSocket.OPEN)if(e||(e=\"\"),this._queue){var o=this;this._queue.push(function(){o.send(e,t,r)})}else{(t=t||{}).fin=!0,void 0===t.binary&&(t.binary=e instanceof ArrayBuffer||e instanceof Buffer||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array),void 0===t.mask&&(t.mask=!this._isServer),void 0===t.compress&&(t.compress=!0),this.extensions[PerMessageDeflate.extensionName]||(t.compress=!1);var n=\"function\"==typeof stream.Readable?stream.Readable:stream.Stream;if(e instanceof n){startQueue(this);o=this;sendStream(this,e,t,function(e){process.nextTick(function(){executeQueueSends(o)}),\"function\"==typeof r&&r(e)})}else this._sender.send(e,t,r)}else{if(\"function\"!=typeof r)throw new Error(\"not opened\");r(new Error(\"not opened\"))}},WebSocket.prototype.stream=function(e,t){\"function\"==typeof e&&(t=e,e={});var r=this;if(\"function\"!=typeof t)throw new Error(\"callback must be provided\");if(this.readyState===WebSocket.OPEN)this._queue?this._queue.push(function(){r.stream(e,t)}):(void 0===(e=e||{}).mask&&(e.mask=!this._isServer),void 0===e.compress&&(e.compress=!0),this.extensions[PerMessageDeflate.extensionName]||(e.compress=!1),startQueue(this),process.nextTick(t.bind(null,null,o)));else{if(\"function\"!=typeof t)throw new Error(\"not opened\");t(new Error(\"not opened\"))}function o(n,s){try{if(r.readyState!==WebSocket.OPEN)throw new Error(\"not opened\");e.fin=!0===s,r._sender.send(n,e),s?executeQueueSends(r):process.nextTick(t.bind(null,null,o))}catch(e){\"function\"==typeof t?t(e):(delete r._queue,r.emit(\"error\",e))}}},WebSocket.prototype.terminate=function(){if(this.readyState!==WebSocket.CLOSED)if(this._socket){this.readyState=WebSocket.CLOSING;try{this._socket.end()}catch(e){return void cleanupWebsocketResources.call(this,!0)}this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=setTimeout(cleanupWebsocketResources.bind(this,!0),closeTimeout)}else this.readyState===WebSocket.CONNECTING&&cleanupWebsocketResources.call(this,!0)},Object.defineProperty(WebSocket.prototype,\"bufferedAmount\",{get:function(){var e=0;return this._socket&&(e=this._socket.bufferSize||0),e}}),Object.defineProperty(WebSocket.prototype,\"binaryType\",{get:function(){return this._binaryType},set:function(e){if(\"arraybuffer\"!==e&&\"nodebuffer\"!==e)throw new SyntaxError('unsupported binaryType: must be either \"nodebuffer\" or \"arraybuffer\"');this._binaryType=e}}),[\"open\",\"error\",\"close\",\"message\"].forEach(function(e){Object.defineProperty(WebSocket.prototype,\"on\"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})}),WebSocket.prototype.addEventListener=function(e,t){var r=this;function o(e,o){o.binary&&\"arraybuffer\"===this.binaryType&&(e=new Uint8Array(e).buffer),t.call(r,new MessageEvent(e,!!o.binary,r))}function n(e,o){t.call(r,new CloseEvent(e,o,r))}function s(e){e.type=\"error\",e.target=r,t.call(r,e)}function i(){t.call(r,new OpenEvent(r))}\"function\"==typeof t&&(\"message\"===e?(o._listener=t,this.on(e,o)):\"close\"===e?(n._listener=t,this.on(e,n)):\"error\"===e?(s._listener=t,this.on(e,s)):\"open\"===e?(i._listener=t,this.on(e,i)):this.on(e,t))},module.exports=WebSocket,module.exports.buildHostHeader=buildHostHeader;function MessageEvent(e,t,r){this.type=\"message\",this.data=e,this.target=r,this.binary=t}function CloseEvent(e,t,r){this.type=\"close\",this.wasClean=void 0===e||1e3===e,this.code=e,this.reason=t,this.target=r}function OpenEvent(e){this.type=\"open\",this.target=e}function buildHostHeader(e,t,r){var o=t;return t&&(e&&443!=r||!e&&80!=r)&&(o=o+\":\"+r),o}function initAsServerClient(e,t,r,o){o=new Options({protocolVersion:protocolVersion,protocol:null,extensions:{},maxPayload:0}).merge(o),this.protocol=o.value.protocol,this.protocolVersion=o.value.protocolVersion,this.extensions=o.value.extensions,this.supports.binary=\"hixie-76\"!==this.protocolVersion,this.upgradeReq=e,this.readyState=WebSocket.CONNECTING,this._isServer=!0,this.maxPayload=o.value.maxPayload,\"hixie-76\"===o.value.protocolVersion?establishConnection.call(this,ReceiverHixie,SenderHixie,t,r):establishConnection.call(this,Receiver,Sender,t,r)}function initAsClient(e,t,r){if(8!==(r=new Options({origin:null,protocolVersion:protocolVersion,host:null,headers:null,protocol:t.join(\",\"),agent:null,pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:null,perMessageDeflate:!0,localAddress:null}).merge(r)).value.protocolVersion&&13!==r.value.protocolVersion)throw new Error(\"unsupported protocol version\");var o=url.parse(e),n=\"ws+unix:\"===o.protocol;if(!o.host&&!n)throw new Error(\"invalid url\");var s,i=\"wss:\"===o.protocol||\"https:\"===o.protocol,a=i?https:http,c=o.port||(i?443:80),l=o.auth,u={};r.value.perMessageDeflate&&(s=new PerMessageDeflate(!0!==typeof r.value.perMessageDeflate?r.value.perMessageDeflate:{},!1),u[PerMessageDeflate.extensionName]=s.offer()),this._isServer=!1,this.url=e,this.protocolVersion=r.value.protocolVersion,this.supports.binary=\"hixie-76\"!==this.protocolVersion;var h=new Buffer(r.value.protocolVersion+\"-\"+Date.now()).toString(\"base64\"),d=crypto.createHash(\"sha1\");d.update(h+\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\");var p=d.digest(\"base64\"),f=r.value.agent,v=buildHostHeader(i,o.hostname,c),y={port:c,host:o.hostname,headers:{Connection:\"Upgrade\",Upgrade:\"websocket\",Host:v,\"Sec-WebSocket-Version\":r.value.protocolVersion,\"Sec-WebSocket-Key\":h}};if(l&&(y.headers.Authorization=\"Basic \"+new Buffer(l).toString(\"base64\")),r.value.protocol&&(y.headers[\"Sec-WebSocket-Protocol\"]=r.value.protocol),r.value.host&&(y.headers.Host=r.value.host),r.value.headers)for(var b in r.value.headers)r.value.headers.hasOwnProperty(b)&&(y.headers[b]=r.value.headers[b]);Object.keys(u).length&&(y.headers[\"Sec-WebSocket-Extensions\"]=Extensions.format(u)),(r.isDefinedAndNonNull(\"pfx\")||r.isDefinedAndNonNull(\"key\")||r.isDefinedAndNonNull(\"passphrase\")||r.isDefinedAndNonNull(\"cert\")||r.isDefinedAndNonNull(\"ca\")||r.isDefinedAndNonNull(\"ciphers\")||r.isDefinedAndNonNull(\"rejectUnauthorized\"))&&(r.isDefinedAndNonNull(\"pfx\")&&(y.pfx=r.value.pfx),r.isDefinedAndNonNull(\"key\")&&(y.key=r.value.key),r.isDefinedAndNonNull(\"passphrase\")&&(y.passphrase=r.value.passphrase),r.isDefinedAndNonNull(\"cert\")&&(y.cert=r.value.cert),r.isDefinedAndNonNull(\"ca\")&&(y.ca=r.value.ca),r.isDefinedAndNonNull(\"ciphers\")&&(y.ciphers=r.value.ciphers),r.isDefinedAndNonNull(\"rejectUnauthorized\")&&(y.rejectUnauthorized=r.value.rejectUnauthorized),f||(f=new a.Agent(y))),y.path=o.path||\"/\",f&&(y.agent=f),n&&(y.socketPath=o.pathname),r.value.localAddress&&(y.localAddress=r.value.localAddress),r.value.origin&&(r.value.protocolVersion<13?y.headers[\"Sec-WebSocket-Origin\"]=r.value.origin:y.headers.Origin=r.value.origin);var S=this,m=a.request(y);m.on(\"error\",function(e){S.emit(\"error\",e),cleanupWebsocketResources.call(S,e)}),m.once(\"response\",function(e){var t;S.emit(\"unexpected-response\",m,e)||(t=new Error(\"unexpected server response (\"+e.statusCode+\")\"),m.abort(),S.emit(\"error\",t)),cleanupWebsocketResources.call(S,t)}),m.once(\"upgrade\",function(e,t,o){if(S.readyState===WebSocket.CLOSED)return S.emit(\"close\"),S.removeAllListeners(),void t.end();var n=e.headers[\"sec-websocket-accept\"];if(void 0===n||n!==p)return S.emit(\"error\",\"invalid server key\"),S.removeAllListeners(),void t.end();var i=e.headers[\"sec-websocket-protocol\"],a=(r.value.protocol||\"\").split(/, */),c=null;if(!r.value.protocol&&i?c=\"server sent a subprotocol even though none requested\":r.value.protocol&&!i?c=\"server sent no subprotocol even though requested\":i&&-1===a.indexOf(i)&&(c=\"server responded with an invalid protocol\"),c)return S.emit(\"error\",c),S.removeAllListeners(),void t.end();i&&(S.protocol=i);var l=Extensions.parse(e.headers[\"sec-websocket-extensions\"]);if(s&&l[PerMessageDeflate.extensionName]){try{s.accept(l[PerMessageDeflate.extensionName])}catch(e){return S.emit(\"error\",\"invalid extension parameter\"),S.removeAllListeners(),void t.end()}S.extensions[PerMessageDeflate.extensionName]=s}establishConnection.call(S,Receiver,Sender,t,o),m.removeAllListeners(),m=null,f=null}),m.end(),this.readyState=WebSocket.CONNECTING}function establishConnection(e,t,r,o){var n=this._ultron=new Ultron(r),s=!1,i=this;r.setTimeout(0),r.setNoDelay(!0),this._receiver=new e(this.extensions,this.maxPayload),this._socket=r,n.on(\"end\",cleanupWebsocketResources.bind(this)),n.on(\"close\",cleanupWebsocketResources.bind(this)),n.on(\"error\",cleanupWebsocketResources.bind(this));function a(e){s||i.readyState===WebSocket.CLOSED||(s=!0,r.removeListener(\"data\",a),n.on(\"data\",c),o&&o.length>0&&(c(o),o=null),e&&c(e))}function c(e){i.bytesReceived+=e.length,i._receiver.add(e)}n.on(\"data\",a),process.nextTick(a),i._receiver.ontext=function(e,t){t=t||{},i.emit(\"message\",e,t)},i._receiver.onbinary=function(e,t){(t=t||{}).binary=!0,i.emit(\"message\",e,t)},i._receiver.onping=function(e,t){t=t||{},i.pong(e,{mask:!i._isServer,binary:!0===t.binary},!0),i.emit(\"ping\",e,t)},i._receiver.onpong=function(e,t){i.emit(\"pong\",e,t||{})},i._receiver.onclose=function(e,t,r){r=r||{},i._closeReceived=!0,i.close(e,t)},i._receiver.onerror=function(e,t){i.close(void 0!==t?t:1002,\"\"),i.emit(\"error\",e instanceof Error?e:new Error(e))},this._sender=new t(r,this.extensions),this._sender.on(\"error\",function(e){i.close(1002,\"\"),i.emit(\"error\",e)}),this.readyState=WebSocket.OPEN,this.emit(\"open\")}function startQueue(e){e._queue=e._queue||[]}function executeQueueSends(e){var t=e._queue;if(void 0!==t){delete e._queue;for(var r=0,o=t.length;r<o;++r)t[r]()}}function sendStream(e,t,r,o){t.on(\"data\",function(t){e.readyState===WebSocket.OPEN?(r.fin=!1,e._sender.send(t,r)):\"function\"==typeof o?o(new Error(\"not opened\")):(delete e._queue,e.emit(\"error\",new Error(\"not opened\")))}),t.on(\"end\",function(){e.readyState===WebSocket.OPEN?(r.fin=!0,e._sender.send(null,r),\"function\"==typeof o&&o(null)):\"function\"==typeof o?o(new Error(\"not opened\")):(delete e._queue,e.emit(\"error\",new Error(\"not opened\")))})}function cleanupWebsocketResources(e){if(this.readyState!==WebSocket.CLOSED){if(this.readyState=WebSocket.CLOSED,clearTimeout(this._closeTimer),this._closeTimer=null,!e&&this._closeReceived||(this._closeCode=1006),this.emit(\"close\",this._closeCode||1e3,this._closeMessage||\"\"),this._socket){this._ultron&&this._ultron.destroy(),this._socket.on(\"error\",function(){try{this.destroy()}catch(e){}});try{e?this._socket.destroy():this._socket.end()}catch(e){}this._socket=null,this._ultron=null}this._sender&&(this._sender.removeAllListeners(),this._sender=null),this._receiver&&(this._receiver.cleanup(),this._receiver=null),this.extensions[PerMessageDeflate.extensionName]&&this.extensions[PerMessageDeflate.extensionName].cleanup(),this.extensions=null,this.removeAllListeners(),this.on(\"error\",function(){}),delete this._queue}}","node_modules/ws/lib/WebSocketServer.js":"var util=require(\"util\"),events=require(\"events\"),http=require(\"http\"),crypto=require(\"crypto\"),Options=require(\"options\"),WebSocket=require(\"./WebSocket\"),Extensions=require(\"./Extensions\"),PerMessageDeflate=require(\"./PerMessageDeflate\"),tls=require(\"tls\"),url=require(\"url\");function WebSocketServer(e,t){if(this instanceof WebSocketServer==!1)return new WebSocketServer(e,t);if(events.EventEmitter.call(this),!(e=new Options({host:\"0.0.0.0\",port:null,server:null,verifyClient:null,handleProtocols:null,path:null,noServer:!1,disableHixie:!1,clientTracking:!0,perMessageDeflate:!0,maxPayload:104857600}).merge(e)).isDefinedAndNonNull(\"port\")&&!e.isDefinedAndNonNull(\"server\")&&!e.value.noServer)throw new TypeError(\"`port` or a `server` must be provided\");var r=this;if(e.isDefinedAndNonNull(\"port\"))this._server=http.createServer(function(e,t){var r=http.STATUS_CODES[426];t.writeHead(426,{\"Content-Length\":r.length,\"Content-Type\":\"text/plain\"}),t.end(r)}),this._server.allowHalfOpen=!1,this._server.listen(e.value.port,e.value.host,t),this._closeServer=function(){r._server&&r._server.close()};else if(e.value.server&&(this._server=e.value.server,e.value.path)){if(this._server._webSocketPaths&&e.value.server._webSocketPaths[e.value.path])throw new Error(\"two instances of WebSocketServer cannot listen on the same http server path\");\"object\"!=typeof this._server._webSocketPaths&&(this._server._webSocketPaths={}),this._server._webSocketPaths[e.value.path]=1}this._server&&(this._onceServerListening=function(){r.emit(\"listening\")},this._server.once(\"listening\",this._onceServerListening)),void 0!==this._server&&(this._onServerError=function(e){r.emit(\"error\",e)},this._server.on(\"error\",this._onServerError),this._onServerUpgrade=function(e,t,o){var n=new Buffer(o.length);o.copy(n),r.handleUpgrade(e,t,n,function(t){r.emit(\"connection\"+e.url,t),r.emit(\"connection\",t)})},this._server.on(\"upgrade\",this._onServerUpgrade)),this.options=e.value,this.path=e.value.path,this.clients=[]}util.inherits(WebSocketServer,events.EventEmitter),WebSocketServer.prototype.close=function(e){var t=null;try{for(var r=0,o=this.clients.length;r<o;++r)this.clients[r].terminate()}catch(e){t=e}this.path&&this._server._webSocketPaths&&(delete this._server._webSocketPaths[this.path],0==Object.keys(this._server._webSocketPaths).length&&delete this._server._webSocketPaths);try{void 0!==this._closeServer&&this._closeServer()}finally{this._server&&(this._server.removeListener(\"listening\",this._onceServerListening),this._server.removeListener(\"error\",this._onServerError),this._server.removeListener(\"upgrade\",this._onServerUpgrade)),delete this._server}if(e)e(t);else if(t)throw t},WebSocketServer.prototype.handleUpgrade=function(e,t,r,o){if(this.options.path){var n=url.parse(e.url);if(n&&n.pathname!==this.options.path)return}void 0!==e.headers.upgrade&&\"websocket\"===e.headers.upgrade.toLowerCase()?e.headers[\"sec-websocket-key1\"]?handleHixieUpgrade.apply(this,arguments):handleHybiUpgrade.apply(this,arguments):abortConnection(t,400,\"Bad Request\")},module.exports=WebSocketServer;function handleHybiUpgrade(e,t,r,o){var n=function(){try{t.destroy()}catch(e){}};if(t.on(\"error\",n),e.headers[\"sec-websocket-key\"]){var i=parseInt(e.headers[\"sec-websocket-version\"]);if(-1!==[8,13].indexOf(i)){var s=e.headers[\"sec-websocket-protocol\"],a=i<13?e.headers[\"sec-websocket-origin\"]:e.headers.origin,c=Extensions.parse(e.headers[\"sec-websocket-extensions\"]),h=this,l=function(s){var a=e.headers[\"sec-websocket-key\"],l=crypto.createHash(\"sha1\");l.update(a+\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\");var v=[\"HTTP/1.1 101 Switching Protocols\",\"Upgrade: websocket\",\"Connection: Upgrade\",\"Sec-WebSocket-Accept: \"+(a=l.digest(\"base64\"))];void 0!==s&&v.push(\"Sec-WebSocket-Protocol: \"+s);var p={};try{p=acceptExtensions.call(h,c)}catch(e){return void abortConnection(t,400,\"Bad Request\")}if(Object.keys(p).length){var d={};Object.keys(p).forEach(function(e){d[e]=[p[e].params]}),v.push(\"Sec-WebSocket-Extensions: \"+Extensions.format(d))}h.emit(\"headers\",v),t.setTimeout(0),t.setNoDelay(!0);try{t.write(v.concat(\"\",\"\").join(\"\\r\\n\"))}catch(e){try{t.destroy()}catch(e){}return}var u=new WebSocket([e,t,r],{protocolVersion:i,protocol:s,extensions:p,maxPayload:h.options.maxPayload});h.options.clientTracking&&(h.clients.push(u),u.on(\"close\",function(){var e=h.clients.indexOf(u);-1!=e&&h.clients.splice(e,1)})),t.removeListener(\"error\",n),o(u)},v=function(){if(\"function\"!=typeof h.options.handleProtocols)void 0!==s?l(s.split(/, */)[0]):l();else{var e=(s||\"\").split(/, */),r=!1;h.options.handleProtocols(e,function(e,o){r=!0,e?l(o):abortConnection(t,401,\"Unauthorized\")});r||abortConnection(t,501,\"Could not process protocols\")}};if(\"function\"==typeof this.options.verifyClient){var p={origin:a,secure:void 0!==e.connection.authorized||void 0!==e.connection.encrypted,req:e};if(2==this.options.verifyClient.length)return void this.options.verifyClient(p,function(e,r,o){void 0===r&&(r=401),void 0===o&&(o=http.STATUS_CODES[r]),e?v():abortConnection(t,r,o)});if(!this.options.verifyClient(p))return void abortConnection(t,401,\"Unauthorized\")}v()}else abortConnection(t,400,\"Bad Request\")}else abortConnection(t,400,\"Bad Request\")}function handleHixieUpgrade(e,t,r,o){var n=function(){try{t.destroy()}catch(e){}};if(t.on(\"error\",n),this.options.disableHixie)abortConnection(t,401,\"Hixie support disabled\");else if(e.headers[\"sec-websocket-key2\"]){var i=e.headers.origin,s=this,a=function(){var a;a=e.headers[\"x-forwarded-host\"]?e.headers[\"x-forwarded-host\"]:e.headers.host;var c=(\"https\"===e.headers[\"x-forwarded-proto\"]||t.encrypted?\"wss\":\"ws\")+\"://\"+a+e.url,h=e.headers[\"sec-websocket-protocol\"],l=function(){var e=[\"HTTP/1.1 101 Switching Protocols\",\"Upgrade: WebSocket\",\"Connection: Upgrade\",\"Sec-WebSocket-Location: \"+c];return void 0!==h&&e.push(\"Sec-WebSocket-Protocol: \"+h),void 0!==i&&e.push(\"Sec-WebSocket-Origin: \"+i),new Buffer(e.concat(\"\",\"\").join(\"\\r\\n\"))},v=function(r,i,a){var c=e.headers[\"sec-websocket-key1\"],l=e.headers[\"sec-websocket-key2\"],v=crypto.createHash(\"md5\");[c,l].forEach(function(e){var r=parseInt(e.replace(/[^\\d]/g,\"\")),o=e.replace(/[^ ]/g,\"\").length;0!==o&&r%o==0?(r/=o,v.update(String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,255&r))):abortConnection(t,400,\"Bad Request\")}),v.update(r.toString(\"binary\")),t.setTimeout(0),t.setNoDelay(!0);try{var p=new Buffer(v.digest(\"binary\"),\"binary\"),d=new Buffer(a.length+p.length);a.copy(d,0),p.copy(d,a.length),t.write(d,\"binary\",function(r){if(!r){var a=new WebSocket([e,t,i],{protocolVersion:\"hixie-76\",protocol:h});s.options.clientTracking&&(s.clients.push(a),a.on(\"close\",function(){var e=s.clients.indexOf(a);-1!=e&&s.clients.splice(e,1)})),t.removeListener(\"error\",n),o(a)}})}catch(e){try{t.destroy()}catch(e){}return}};if(r&&r.length>=8){var p=r.slice(0,8),d=r.length>8?r.slice(8):null;v.call(s,p,d,l())}else{p=new Buffer(8);r.copy(p,0);var u=r.length,f=(d=null,function(e){var r=Math.min(e.length,8-u);0!==r&&(e.copy(p,u,0,r),8==(u+=r)&&(t.removeListener(\"data\",f),r<e.length&&(d=e.slice(r)),v.call(s,p,d,new Buffer(0))))});t.on(\"data\",f),function(){t.setTimeout(0),t.setNoDelay(!0);var e=l();try{t.write(e,\"binary\",function(e){e&&t.removeListener(\"data\",f)})}catch(e){try{t.destroy()}catch(e){}return}}()}};if(\"function\"==typeof this.options.verifyClient){var c={origin:i,secure:void 0!==e.connection.authorized||void 0!==e.connection.encrypted,req:e};if(2==this.options.verifyClient.length){s=this;return void this.options.verifyClient(c,function(e,r,o){void 0===r&&(r=401),void 0===o&&(o=http.STATUS_CODES[r]),e?a.apply(s):abortConnection(t,r,o)})}if(!this.options.verifyClient(c))return void abortConnection(t,401,\"Unauthorized\")}a()}else abortConnection(t,400,\"Bad Request\")}function acceptExtensions(e){var t={},r=this.options.perMessageDeflate,o=this.options.maxPayload;if(r&&e[PerMessageDeflate.extensionName]){var n=new PerMessageDeflate(!0!==r?r:{},!0,o);n.accept(e[PerMessageDeflate.extensionName]),t[PerMessageDeflate.extensionName]=n}return t}function abortConnection(e,t,r){try{var o=[\"HTTP/1.1 \"+t+\" \"+r,\"Content-type: text/html\"];e.write(o.concat(\"\",\"\").join(\"\\r\\n\"))}catch(e){}finally{try{e.destroy()}catch(e){}}}","node_modules/ws/lib/Sender.js":"var events=require(\"events\"),util=require(\"util\"),crypto=require(\"crypto\"),EventEmitter=events.EventEmitter,ErrorCodes=require(\"./ErrorCodes\"),bufferUtil=require(\"./BufferUtil\"),PerMessageDeflate=require(\"./PerMessageDeflate\");function Sender(e,t){if(this instanceof Sender==!1)throw new TypeError(\"Classes can't be function-called\");events.EventEmitter.call(this),this._socket=e,this.extensions=t||{},this.firstFragment=!0,this.compress=!1,this.messageHandlers=[],this.processing=!1}util.inherits(Sender,events.EventEmitter),Sender.prototype.close=function(e,t,r,s){if(void 0!==e&&(\"number\"!=typeof e||!ErrorCodes.isValidErrorCode(e)))throw new Error(\"first argument must be a valid error code number\");e=e||1e3;var n=new Buffer(2+(t?Buffer.byteLength(t):0));writeUInt16BE.call(n,e,0),n.length>2&&n.write(t,2);var i=this;this.messageHandlers.push(function(){i.frameAndSend(8,n,!0,r),\"function\"==typeof s&&s()}),this.flush()},Sender.prototype.ping=function(e,t){var r=t&&t.mask,s=this;this.messageHandlers.push(function(){s.frameAndSend(9,e||\"\",!0,r)}),this.flush()},Sender.prototype.pong=function(e,t){var r=t&&t.mask,s=this;this.messageHandlers.push(function(){s.frameAndSend(10,e||\"\",!0,r)}),this.flush()},Sender.prototype.send=function(e,t,r){var s=!t||!1!==t.fin,n=t&&t.mask,i=t&&t.compress,o=t&&t.binary?2:1;!1===this.firstFragment?(o=0,i=!1):(this.firstFragment=!1,this.compress=i),s&&(this.firstFragment=!0);var f=this.compress,a=this;this.messageHandlers.push(function(){e&&f?(a.processing=!0,a.applyExtensions(e,s,f,function(e,t){e?\"function\"==typeof r?r(e):a.emit(\"error\",e):(a.frameAndSend(o,t,s,n,i,r),a.processing=!1,a.flush())})):a.frameAndSend(o,e,s,n,i,r)}),this.flush()},Sender.prototype.frameAndSend=function(e,t,r,s,n,i){var o=!1;if(t){Buffer.isBuffer(t)||(o=!0,!t||void 0===t.byteLength&&void 0===t.buffer?(\"number\"==typeof t&&(t=t.toString()),t=new Buffer(t)):t=getArrayBuffer(t));var f=t.length,a=s?6:2,h=f;f>=65536?(a+=8,h=127):f>125&&(a+=2,h=126);var c=f<32768||s&&!o,u=c?f+a:a,l=new Buffer(u);switch(l[0]=r?128|e:e,n&&(l[0]|=64),h){case 126:writeUInt16BE.call(l,f,2);break;case 127:writeUInt32BE.call(l,0,2),writeUInt32BE.call(l,f,6)}if(s){l[1]=128|h;var p=getRandomMask();if(l[a-4]=p[0],l[a-3]=p[1],l[a-2]=p[2],l[a-1]=p[3],c){bufferUtil.mask(t,p,l,a,f);try{this._socket.write(l,\"binary\",i)}catch(e){\"function\"==typeof i?i(e):this.emit(\"error\",e)}}else{bufferUtil.mask(t,p,t,0,f);try{this._socket.write(l,\"binary\"),this._socket.write(t,\"binary\",i)}catch(e){\"function\"==typeof i?i(e):this.emit(\"error\",e)}}}else if(l[1]=h,c){t.copy(l,a);try{this._socket.write(l,\"binary\",i)}catch(e){\"function\"==typeof i?i(e):this.emit(\"error\",e)}}else try{this._socket.write(l,\"binary\"),this._socket.write(t,\"binary\",i)}catch(e){\"function\"==typeof i?i(e):this.emit(\"error\",e)}}else try{this._socket.write(new Buffer([e|(r?128:0),0|(s?128:0)].concat(s?[0,0,0,0]:[])),\"binary\",i)}catch(e){\"function\"==typeof i?i(e):this.emit(\"error\",e)}},Sender.prototype.flush=function(){for(;!this.processing&&this.messageHandlers.length;)this.messageHandlers.shift()()},Sender.prototype.applyExtensions=function(e,t,r,s){(e.buffer||e)instanceof ArrayBuffer&&(e=getArrayBuffer(e)),this.extensions[PerMessageDeflate.extensionName].compress(e,t,s)},module.exports=Sender;function writeUInt16BE(e,t){this[t]=(65280&e)>>8,this[t+1]=255&e}function writeUInt32BE(e,t){this[t]=(4278190080&e)>>24,this[t+1]=(16711680&e)>>16,this[t+2]=(65280&e)>>8,this[t+3]=255&e}function getArrayBuffer(e){for(var t=new Uint8Array(e.buffer||e),r=e.byteLength||e.length,s=e.byteOffset||0,n=new Buffer(r),i=0;i<r;++i)n[i]=t[s+i];return n}function getRandomMask(){return crypto.randomBytes(4)}","node_modules/ws/lib/Receiver.js":"var util=require(\"util\"),isValidUTF8=require(\"./Validation\"),ErrorCodes=require(\"./ErrorCodes\"),BufferPool=require(\"./BufferPool\"),bufferUtil=require(\"./BufferUtil\"),PerMessageDeflate=require(\"./PerMessageDeflate\");function Receiver(e,t){if(this instanceof Receiver==!1)throw new TypeError(\"Classes can't be function-called\");\"number\"==typeof e&&(t=e,e={});var s=-1;this.fragmentedBufferPool=new BufferPool(1024,function(e,t){return e.used+t},function(e){return s=s>=0?Math.ceil((s+e.used)/2):e.used});var a=-1;this.unfragmentedBufferPool=new BufferPool(1024,function(e,t){return e.used+t},function(e){return a=a>=0?Math.ceil((a+e.used)/2):e.used}),this.extensions=e||{},this.maxPayload=t||0,this.currentPayloadLength=0,this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.overflow=[],this.headerBuffer=new Buffer(10),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.expectHeader(2,this.processPacket),this.dead=!1,this.processing=!1,this.onerror=function(){},this.ontext=function(){},this.onbinary=function(){},this.onclose=function(){},this.onping=function(){},this.onpong=function(){}}module.exports=Receiver,Receiver.prototype.add=function(e){if(!this.dead){var t=e.length;if(0!=t)if(null!=this.expectBuffer){var s=Math.min(t,this.expectBuffer.length-this.expectOffset);for(fastCopy(s,e,this.expectBuffer,this.expectOffset),this.expectOffset+=s,s<t&&this.overflow.push(e.slice(s));this.expectBuffer&&this.expectOffset==this.expectBuffer.length;){var a=this.expectBuffer;this.expectBuffer=null,this.expectOffset=0,this.expectHandler.call(this,a)}}else this.overflow.push(e)}},Receiver.prototype.cleanup=function(){this.dead=!0,this.overflow=null,this.headerBuffer=null,this.expectBuffer=null,this.expectHandler=null,this.unfragmentedBufferPool=null,this.fragmentedBufferPool=null,this.state=null,this.currentMessage=null,this.onerror=null,this.ontext=null,this.onbinary=null,this.onclose=null,this.onping=null,this.onpong=null},Receiver.prototype.expectHeader=function(e,t){if(0!=e){this.expectBuffer=this.headerBuffer.slice(this.expectOffset,this.expectOffset+e),this.expectHandler=t;for(var s=e;s>0&&this.overflow.length>0;){var a=this.overflow.pop();s<a.length&&this.overflow.push(a.slice(s));var r=Math.min(a.length,s);fastCopy(r,a,this.expectBuffer,this.expectOffset),this.expectOffset+=r,s-=r}}else t(null)},Receiver.prototype.expectData=function(e,t){if(0!=e){this.expectBuffer=this.allocateFromPool(e,this.state.fragmentedOperation),this.expectHandler=t;for(var s=e;s>0&&this.overflow.length>0;){var a=this.overflow.pop();s<a.length&&this.overflow.push(a.slice(s));var r=Math.min(a.length,s);fastCopy(r,a,this.expectBuffer,this.expectOffset),this.expectOffset+=r,s-=r}}else t(null)},Receiver.prototype.allocateFromPool=function(e,t){return(t?this.fragmentedBufferPool:this.unfragmentedBufferPool).get(e)},Receiver.prototype.processPacket=function(e){if(this.extensions[PerMessageDeflate.extensionName]){if(0!=(48&e[0]))return void this.error(\"reserved fields (2, 3) must be empty\",1002)}else if(0!=(112&e[0]))return void this.error(\"reserved fields must be empty\",1002);this.state.lastFragment=128==(128&e[0]),this.state.masked=128==(128&e[1]);var t=64==(64&e[0]),s=15&e[0];if(0===s){if(t)return void this.error(\"continuation frame cannot have the Per-message Compressed bits\",1002);if(this.state.fragmentedOperation=!0,this.state.opcode=this.state.activeFragmentedOperation,1!=this.state.opcode&&2!=this.state.opcode)return void this.error(\"continuation frame cannot follow current opcode\",1002)}else{if(s<3&&null!=this.state.activeFragmentedOperation)return void this.error(\"data frames after the initial data frame must have opcode 0\",1002);if(s>=8&&t)return void this.error(\"control frames cannot have the Per-message Compressed bits\",1002);this.state.compressed=t,this.state.opcode=s,!1===this.state.lastFragment?(this.state.fragmentedOperation=!0,this.state.activeFragmentedOperation=s):this.state.fragmentedOperation=!1}var a=opcodes[this.state.opcode];void 0===a?this.error(\"no handler for opcode \"+this.state.opcode,1002):a.start.call(this,e)},Receiver.prototype.endPacket=function(){this.dead||(this.state.fragmentedOperation?this.state.lastFragment&&this.fragmentedBufferPool.reset(!0):this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.state.lastFragment&&this.state.opcode===this.state.activeFragmentedOperation&&(this.state.activeFragmentedOperation=null),this.currentPayloadLength=0,this.state.lastFragment=!1,this.state.opcode=null!=this.state.activeFragmentedOperation?this.state.activeFragmentedOperation:0,this.state.masked=!1,this.expectHeader(2,this.processPacket))},Receiver.prototype.reset=function(){this.dead||(this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.fragmentedBufferPool.reset(!0),this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.overflow=[],this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.currentPayloadLength=0)},Receiver.prototype.unmask=function(e,t,s){return null!=e&&null!=t&&bufferUtil.unmask(t,e),s?t:null!=t?t.toString(\"utf8\"):\"\"},Receiver.prototype.error=function(e,t){if(!this.dead)return this.reset(),\"string\"==typeof e?this.onerror(new Error(e),t):e.constructor==Error?this.onerror(e,t):this.onerror(new Error(\"An error occured\"),t),this},Receiver.prototype.flush=function(){if(!this.processing&&!this.dead){var e=this.messageHandlers.shift();if(e){this.processing=!0;var t=this;e(function(){t.processing=!1,t.flush()})}}},Receiver.prototype.applyExtensions=function(e,t,s,a){var r=this;s?this.extensions[PerMessageDeflate.extensionName].decompress(e,t,function(e,t){r.dead||(e?a(new Error(\"invalid compressed data\")):a(null,t))}):a(null,e)},Receiver.prototype.maxPayloadExceeded=function(e){if(void 0===this.maxPayload||null===this.maxPayload||this.maxPayload<1)return!1;var t=this.currentPayloadLength+e;return t<this.maxPayload?(this.currentPayloadLength=t,!1):(this.error(\"payload cannot exceed \"+this.maxPayload+\" bytes\",1009),this.messageBuffer=[],this.cleanup(),!0)};function readUInt16BE(e){return(this[e]<<8)+this[e+1]}function readUInt32BE(e){return(this[e]<<24)+(this[e+1]<<16)+(this[e+2]<<8)+this[e+3]}function fastCopy(e,t,s,a){switch(e){default:t.copy(s,a,0,e);break;case 16:s[a+15]=t[15];case 15:s[a+14]=t[14];case 14:s[a+13]=t[13];case 13:s[a+12]=t[12];case 12:s[a+11]=t[11];case 11:s[a+10]=t[10];case 10:s[a+9]=t[9];case 9:s[a+8]=t[8];case 8:s[a+7]=t[7];case 7:s[a+6]=t[6];case 6:s[a+5]=t[5];case 5:s[a+4]=t[4];case 4:s[a+3]=t[3];case 3:s[a+2]=t[2];case 2:s[a+1]=t[1];case 1:s[a]=t[0]}}function clone(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}var opcodes={1:{start:function(e){var t=this,s=127&e[1];if(s<126){if(t.maxPayloadExceeded(s))return void t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009);opcodes[1].getData.call(t,s)}else 126==s?t.expectHeader(2,function(e){var s=readUInt16BE.call(e,0);t.maxPayloadExceeded(s)?t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):opcodes[1].getData.call(t,s)}):127==s&&t.expectHeader(8,function(e){if(0==readUInt32BE.call(e,0)){var s=readUInt32BE.call(e,4);t.maxPayloadExceeded(s)?t.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):opcodes[1].getData.call(t,readUInt32BE.call(e,4))}else t.error(\"packets with length spanning more than 32 bit is currently not supported\",1008)})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(s){var a=s;t.expectData(e,function(e){opcodes[1].finish.call(t,a,e)})}):t.expectData(e,function(e){opcodes[1].finish.call(t,null,e)})},finish:function(e,t){var s=this,a=this.unmask(e,t,!0)||new Buffer(0),r=clone(this.state);this.messageHandlers.push(function(e){s.applyExtensions(a,r.lastFragment,r.compressed,function(t,a){if(t)return 1009===t.type?s.error(\"Maximumpayload exceeded in compressed text message. Aborting...\",1009):s.error(t.message,1007);if(null!=a){if(!(0==s.maxPayload||s.maxPayload>0&&s.currentMessageLength+a.length<s.maxPayload))return s.currentMessage=null,s.currentMessage=[],s.currentMessageLength=0,void s.error(new Error(\"Maximum payload exceeded. maxPayload: \"+s.maxPayload),1009);s.currentMessage.push(a),s.currentMessageLength+=a.length}if(r.lastFragment){var n=Buffer.concat(s.currentMessage);if(s.currentMessage=[],s.currentMessageLength=0,!isValidUTF8(n))return void s.error(\"invalid utf8 sequence\",1007);s.ontext(n.toString(\"utf8\"),{masked:r.masked,buffer:n})}e()})}),this.flush(),this.endPacket()}},2:{start:function(e){var t=this,s=127&e[1];if(s<126){if(t.maxPayloadExceeded(s))return void t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009);opcodes[2].getData.call(t,s)}else 126==s?t.expectHeader(2,function(e){var s=readUInt16BE.call(e,0);t.maxPayloadExceeded(s)?t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009):opcodes[2].getData.call(t,s)}):127==s&&t.expectHeader(8,function(e){if(0==readUInt32BE.call(e,0)){var s=readUInt32BE.call(e,4,!0);t.maxPayloadExceeded(s)?t.error(\"Max payload exceeded in compressed text message. Aborting...\",1009):opcodes[2].getData.call(t,s)}else t.error(\"packets with length spanning more than 32 bit is currently not supported\",1008)})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(s){var a=s;t.expectData(e,function(e){opcodes[2].finish.call(t,a,e)})}):t.expectData(e,function(e){opcodes[2].finish.call(t,null,e)})},finish:function(e,t){var s=this,a=this.unmask(e,t,!0)||new Buffer(0),r=clone(this.state);this.messageHandlers.push(function(e){s.applyExtensions(a,r.lastFragment,r.compressed,function(t,a){if(t)return 1009===t.type?s.error(\"Max payload exceeded in compressed binary message. Aborting...\",1009):s.error(t.message,1007);if(null!=a){if(!(0==s.maxPayload||s.maxPayload>0&&s.currentMessageLength+a.length<s.maxPayload))return s.currentMessage=null,s.currentMessage=[],s.currentMessageLength=0,void s.error(new Error(\"Maximum payload exceeded\"),1009);s.currentMessage.push(a),s.currentMessageLength+=a.length}if(r.lastFragment){var n=Buffer.concat(s.currentMessage);s.currentMessage=[],s.currentMessageLength=0,s.onbinary(n,{masked:r.masked,buffer:n})}e()})}),this.flush(),this.endPacket()}},8:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?opcodes[8].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented close is not supported\",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(s){var a=s;t.expectData(e,function(e){opcodes[8].finish.call(t,a,e)})}):t.expectData(e,function(e){opcodes[8].finish.call(t,null,e)})},finish:function(e,t){var s=this;t=s.unmask(e,t,!0);var a=clone(this.state);this.messageHandlers.push(function(){if(t&&1==t.length)s.error(\"close packets with data must be at least two bytes long\",1002);else{var e=t&&t.length>1?readUInt16BE.call(t,0):1e3;if(ErrorCodes.isValidErrorCode(e)){var r=\"\";if(t&&t.length>2){var n=t.slice(2);if(!isValidUTF8(n))return void s.error(\"invalid utf8 sequence\",1007);r=n.toString(\"utf8\")}s.onclose(e,r,{masked:a.masked}),s.reset()}else s.error(\"invalid error code\",1002)}}),this.flush()}},9:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?opcodes[9].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented ping is not supported\",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(s){var a=s;t.expectData(e,function(e){opcodes[9].finish.call(t,a,e)})}):t.expectData(e,function(e){opcodes[9].finish.call(t,null,e)})},finish:function(e,t){var s=this;t=this.unmask(e,t,!0);var a=clone(this.state);this.messageHandlers.push(function(e){s.onping(t,{masked:a.masked,binary:!0}),e()}),this.flush(),this.endPacket()}},10:{start:function(e){if(0!=this.state.lastFragment){var t=127&e[1];t<126?opcodes[10].getData.call(this,t):this.error(\"control frames cannot have more than 125 bytes of data\",1002)}else this.error(\"fragmented pong is not supported\",1002)},getData:function(e){var t=this;this.state.masked?this.expectHeader(4,function(s){var a=s;t.expectData(e,function(e){opcodes[10].finish.call(t,a,e)})}):this.expectData(e,function(e){opcodes[10].finish.call(t,null,e)})},finish:function(e,t){var s=this;t=s.unmask(e,t,!0);var a=clone(this.state);this.messageHandlers.push(function(e){s.onpong(t,{masked:a.masked,binary:!0}),e()}),this.flush(),this.endPacket()}}};","node_modules/ultron/index.js":"\"use strict\";var has=Object.prototype.hasOwnProperty,id=0;function Ultron(t){if(!(this instanceof Ultron))return new Ultron(t);this.id=id++,this.ee=t}Ultron.prototype.on=function(t,e,n){return e.__ultron=this.id,this.ee.on(t,e,n),this},Ultron.prototype.once=function(t,e,n){return e.__ultron=this.id,this.ee.once(t,e,n),this},Ultron.prototype.remove=function(){var t,e=arguments;if(1===e.length&&\"string\"==typeof e[0])e=e[0].split(/[, ]+/);else if(!e.length){e=[];for(t in this.ee._events)has.call(this.ee._events,t)&&e.push(t)}for(var n=0;n<e.length;n++)for(var r=this.ee.listeners(e[n]),i=0;i<r.length;i++){if((t=r[i]).listener){if(t.listener.__ultron!==this.id)continue;delete t.listener.__ultron}else{if(t.__ultron!==this.id)continue;delete t.__ultron}this.ee.removeListener(e[n],t)}return this},Ultron.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},module.exports=Ultron;","node_modules/options/lib/options.js":"var fs=require(\"fs\");function Options(e){var t={},n=this.value={};Object.keys(e).forEach(function(r){t[r]=e[r],Object.defineProperty(n,r,{get:function(){return t[r]},configurable:!1,enumerable:!0})}),this.reset=function(){return Object.keys(e).forEach(function(n){t[n]=e[n]}),this},this.merge=function(e,n){if(e=e||{},\"[object Array]\"===Object.prototype.toString.call(n)){for(var r=[],i=0,o=n.length;i<o;++i){var f=n[i];f in e||r.push(f)}if(r.length>0)throw r.length>1?new Error(\"options \"+r.slice(0,r.length-1).join(\", \")+\" and \"+r[r.length-1]+\" must be defined\"):new Error(\"option \"+r[0]+\" must be defined\")}return Object.keys(e).forEach(function(n){n in t&&(t[n]=e[n])}),this},this.copy=function(t){var r={};return Object.keys(e).forEach(function(e){-1!==t.indexOf(e)&&(r[e]=n[e])}),r},this.read=function(e,t){if(\"function\"==typeof t){var n=this;fs.readFile(e,function(e,r){if(e)return t(e);var i=JSON.parse(r);n.merge(i),t()})}else{var r=JSON.parse(fs.readFileSync(e));this.merge(r)}return this},this.isDefined=function(e){return void 0!==n[e]},this.isDefinedAndNonNull=function(e){return void 0!==n[e]&&null!==n[e]},Object.freeze(n),Object.freeze(this)}module.exports=Options;","node_modules/ws/lib/Sender.hixie.js":"var events=require(\"events\"),util=require(\"util\"),EventEmitter=events.EventEmitter;function Sender(t){if(this instanceof Sender==!1)throw new TypeError(\"Classes can't be function-called\");events.EventEmitter.call(this),this.socket=t,this.continuationFrame=!1,this.isClosed=!1}module.exports=Sender,util.inherits(Sender,events.EventEmitter),Sender.prototype.send=function(t,e,i){if(!this.isClosed){var r=\"string\"==typeof t,n=r?Buffer.byteLength(t):t.length,o=n>127?2:1,s=0==this.continuationFrame,a=!e||!(void 0!==e.fin&&!e.fin),h=new Buffer((s?e&&e.binary?1+o:1:0)+n+(!a||e&&e.binary?0:1)),c=s?1:0;s&&(e&&e.binary?(h.write(\"\",\"binary\"),o>1&&h.write(String.fromCharCode(128+n/128),c++,\"binary\"),h.write(String.fromCharCode(127&n),c++,\"binary\")):h.write(\"\\0\",\"binary\")),r?h.write(t,c,\"utf8\"):t.copy(h,c,0),a?(e&&e.binary||h.write(\"ÿ\",c+n,\"binary\"),this.continuationFrame=!1):this.continuationFrame=!0;try{this.socket.write(h,\"binary\",i)}catch(t){this.error(t.toString())}}},Sender.prototype.close=function(t,e,i,r){if(!this.isClosed){this.isClosed=!0;try{this.continuationFrame&&this.socket.write(new Buffer([255],\"binary\")),this.socket.write(new Buffer([255,0]),\"binary\",r)}catch(t){this.error(t.toString())}}},Sender.prototype.ping=function(t,e){},Sender.prototype.pong=function(t,e){},Sender.prototype.error=function(t){return this.emit(\"error\",t),this};","node_modules/ws/lib/Receiver.hixie.js":"var util=require(\"util\"),EMPTY=0,BODY=1,BINARYLENGTH=2,BINARYBODY=3;function Receiver(){if(this instanceof Receiver==!1)throw new TypeError(\"Classes can't be function-called\");this.state=EMPTY,this.buffers=[],this.messageEnd=-1,this.spanLength=0,this.dead=!1,this.onerror=function(){},this.ontext=function(){},this.onbinary=function(){},this.onclose=function(){},this.onping=function(){},this.onpong=function(){}}module.exports=Receiver,Receiver.prototype.add=function(e){if(!this.dead)for(var t=this;e;)e=s();function s(){if(t.state===EMPTY){if(2==e.length&&255==e[0]&&0==e[1])return t.reset(),void t.onclose();if(128===e[0])t.messageEnd=0,t.state=BINARYLENGTH,e=e.slice(1);else{if(0!==e[0])return void t.error(\"payload must start with 0x00 byte\",!0);e=e.slice(1),t.state=BODY}}if(t.state===BINARYLENGTH){for(var s=0;s<e.length&&128&e[s];)t.messageEnd=128*t.messageEnd+(127&e[s]),++s;s<e.length&&(t.messageEnd=128*t.messageEnd+(127&e[s]),t.state=BINARYBODY,++s),s>0&&(e=e.slice(s))}if(t.state===BINARYBODY){var n=t.messageEnd-t.spanLength;return e.length>=n?(t.buffers.push(e),t.spanLength+=n,t.messageEnd=n,t.parse()):(t.buffers.push(e),void(t.spanLength+=e.length))}if(t.buffers.push(e),-1!=(t.messageEnd=bufferIndex(e,255)))return t.spanLength+=t.messageEnd,t.parse();t.spanLength+=e.length}},Receiver.prototype.cleanup=function(){this.dead=!0,this.state=EMPTY,this.buffers=[]},Receiver.prototype.parse=function(){for(var e=new Buffer(this.spanLength),t=0,s=0,n=this.buffers.length;s<n-1;++s){var r=this.buffers[s];r.copy(e,t),t+=r.length}var i=this.buffers[this.buffers.length-1];this.messageEnd>0&&i.copy(e,t,0,this.messageEnd),this.state!==BODY&&--this.messageEnd;var o=null;return this.messageEnd<i.length-1&&(o=i.slice(this.messageEnd+1)),this.reset(),this.ontext(e.toString(\"utf8\")),o},Receiver.prototype.error=function(e,t){if(!this.dead)return this.reset(),\"string\"==typeof e?this.onerror(new Error(e),t):e.constructor==Error?this.onerror(e,t):this.onerror(new Error(\"An error occured\"),t),this},Receiver.prototype.reset=function(e){this.dead||(this.state=EMPTY,this.buffers=[],this.messageEnd=-1,this.spanLength=0)};function bufferIndex(e,t){for(var s=0,n=e.length;s<n;++s)if(e[s]===t)return s;return-1}","node_modules/ws/lib/Extensions.js":"var util=require(\"util\");exports.parse=parse,exports.format=format;function parse(r){var t={};return(r=r||\"\").split(\",\").forEach(function(r){var n=r.split(\";\"),i=n.shift().trim(),a=t[i]=t[i]||[],e={};n.forEach(function(r){var t=r.trim().split(\"=\"),n=t[0],i=t[1];void 0===i?i=!0:('\"'===i[0]&&(i=i.slice(1)),'\"'===i[i.length-1]&&(i=i.slice(0,i.length-1))),(e[n]=e[n]||[]).push(i)}),a.push(e)}),t}function format(r){return Object.keys(r).map(function(t){var n=r[t];return util.isArray(n)||(n=[n]),n.map(function(r){return[t].concat(Object.keys(r).map(function(t){var n=r[t];return util.isArray(n)||(n=[n]),n.map(function(r){return!0===r?t:t+\"=\"+r}).join(\"; \")})).join(\"; \")}).join(\", \")}).join(\", \")}","node_modules/ws/lib/PerMessageDeflate.js":"var zlib=require(\"zlib\"),AVAILABLE_WINDOW_BITS=[8,9,10,11,12,13,14,15],DEFAULT_WINDOW_BITS=15,DEFAULT_MEM_LEVEL=8;PerMessageDeflate.extensionName=\"permessage-deflate\";function PerMessageDeflate(e,t,i){if(this instanceof PerMessageDeflate==!1)throw new TypeError(\"Classes can't be function-called\");this._options=e||{},this._isServer=!!t,this._inflate=null,this._deflate=null,this.params=null,this._maxPayload=i||0}PerMessageDeflate.prototype.offer=function(){var e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e},PerMessageDeflate.prototype.accept=function(e){e=this.normalizeParams(e);var t;return t=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params=t,t},PerMessageDeflate.prototype.cleanup=function(){this._inflate&&(this._inflate.writeInProgress?this._inflate.pendingClose=!0:(this._inflate.close&&this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate.writeInProgress?this._deflate.pendingClose=!0:(this._deflate.close&&this._deflate.close(),this._deflate=null))},PerMessageDeflate.prototype.acceptAsServer=function(e){var t={};if(!e.some(function(e){if(t={},(!1!==this._options.serverNoContextTakeover||!e.server_no_context_takeover)&&(!1!==this._options.serverMaxWindowBits||!e.server_max_window_bits)&&!(\"number\"==typeof this._options.serverMaxWindowBits&&\"number\"==typeof e.server_max_window_bits&&this._options.serverMaxWindowBits>e.server_max_window_bits)&&(\"number\"!=typeof this._options.clientMaxWindowBits||e.client_max_window_bits))return(this._options.serverNoContextTakeover||e.server_no_context_takeover)&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),!1!==this._options.clientNoContextTakeover&&e.client_no_context_takeover&&(t.client_no_context_takeover=!0),\"number\"==typeof this._options.serverMaxWindowBits?t.server_max_window_bits=this._options.serverMaxWindowBits:\"number\"==typeof e.server_max_window_bits&&(t.server_max_window_bits=e.server_max_window_bits),\"number\"==typeof this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&\"number\"==typeof e.client_max_window_bits&&(t.client_max_window_bits=e.client_max_window_bits),!0},this))throw new Error(\"Doesn't support the offered configuration\");return t},PerMessageDeflate.prototype.acceptAsClient=function(e){var t=e[0];if(null!=this._options.clientNoContextTakeover&&!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Invalid value for \"client_no_context_takeover\"');if(null!=this._options.clientMaxWindowBits){if(!1===this._options.clientMaxWindowBits&&t.client_max_window_bits)throw new Error('Invalid value for \"client_max_window_bits\"');if(\"number\"==typeof this._options.clientMaxWindowBits&&(!t.client_max_window_bits||t.client_max_window_bits>this._options.clientMaxWindowBits))throw new Error('Invalid value for \"client_max_window_bits\"')}return t},PerMessageDeflate.prototype.normalizeParams=function(e){return e.map(function(e){return Object.keys(e).forEach(function(t){var i=e[t];if(i.length>1)throw new Error(\"Multiple extension parameters for \"+t);switch(i=i[0],t){case\"server_no_context_takeover\":case\"client_no_context_takeover\":if(!0!==i)throw new Error(\"invalid extension parameter value for \"+t+\" (\"+i+\")\");e[t]=!0;break;case\"server_max_window_bits\":case\"client_max_window_bits\":if(\"string\"==typeof i&&(i=parseInt(i,10),!~AVAILABLE_WINDOW_BITS.indexOf(i)))throw new Error(\"invalid extension parameter value for \"+t+\" (\"+i+\")\");if(!this._isServer&&!0===i)throw new Error(\"Missing extension parameter value for \"+t);e[t]=i;break;default:throw new Error(\"Not defined extension parameter (\"+t+\")\")}},this),e},this)},PerMessageDeflate.prototype.decompress=function(e,t,i){var n=this._isServer?\"client\":\"server\";if(!this._inflate){var o=this.params[n+\"_max_window_bits\"];this._inflate=zlib.createInflateRaw({windowBits:\"number\"==typeof o?o:DEFAULT_WINDOW_BITS})}this._inflate.writeInProgress=!0;var s=this,r=[],a=0;this._inflate.on(\"error\",_).on(\"data\",l),this._inflate.write(e),t&&this._inflate.write(new Buffer([0,0,255,255])),this._inflate.flush(function(){f(),i(null,Buffer.concat(r))});function _(e){f(),i(e)}function l(e){if(void 0!==s._maxPayload&&null!==s._maxPayload&&s._maxPayload>0&&(a+=e.length)>s._maxPayload){r=[],f();i({type:1009})}else r.push(e)}function f(){s._inflate&&(s._inflate.removeListener(\"error\",_),s._inflate.removeListener(\"data\",l),s._inflate.writeInProgress=!1,(t&&s.params[n+\"_no_context_takeover\"]||s._inflate.pendingClose)&&(s._inflate.close&&s._inflate.close(),s._inflate=null))}},PerMessageDeflate.prototype.compress=function(e,t,i){var n=this._isServer?\"server\":\"client\";if(!this._deflate){var o=this.params[n+\"_max_window_bits\"];this._deflate=zlib.createDeflateRaw({flush:zlib.Z_SYNC_FLUSH,windowBits:\"number\"==typeof o?o:DEFAULT_WINDOW_BITS,memLevel:this._options.memLevel||DEFAULT_MEM_LEVEL})}this._deflate.writeInProgress=!0;var s=this,r=[];this._deflate.on(\"error\",a).on(\"data\",_),this._deflate.write(e),this._deflate.flush(function(){l();var e=Buffer.concat(r);t&&(e=e.slice(0,e.length-4)),i(null,e)});function a(e){l(),i(e)}function _(e){r.push(e)}function l(){s._deflate&&(s._deflate.removeListener(\"error\",a),s._deflate.removeListener(\"data\",_),s._deflate.writeInProgress=!1,(t&&s.params[n+\"_no_context_takeover\"]||s._deflate.pendingClose)&&(s._deflate.close&&s._deflate.close(),s._deflate=null))}},module.exports=PerMessageDeflate;","node_modules/ws/lib/ErrorCodes.js":"module.exports={isValidErrorCode:function(e){return e>=1e3&&e<=1011&&1004!=e&&1005!=e&&1006!=e||e>=3e3&&e<=4999},1e3:\"normal\",1001:\"going away\",1002:\"protocol error\",1003:\"unsupported data\",1004:\"reserved\",1005:\"reserved for extensions\",1006:\"reserved for extensions\",1007:\"inconsistent or invalid data\",1008:\"policy violation\",1009:\"message too big\",1010:\"extension handshake missing\",1011:\"an unexpected condition prevented the request from being fulfilled\"};","node_modules/ws/lib/BufferUtil.js":"\"use strict\";var bufferUtil;try{bufferUtil=require(\"bufferutil\")}catch(f){bufferUtil=require(\"./BufferUtil.fallback\")}module.exports=bufferUtil.BufferUtil||bufferUtil;","node_modules/ws/lib/BufferUtil.fallback.js":"exports.BufferUtil={merge:function(e,a){for(var r=0,t=0,n=a.length;t<n;++t){var c=a[t];c.copy(e,r),r+=c.length}},mask:function(e,a,r,t,n){for(var c=a.readUInt32LE(0,!0),s=0;s<n-3;s+=4){var f=c^e.readUInt32LE(s,!0);f<0&&(f=4294967296+f),r.writeUInt32LE(f,t+s,!0)}switch(n%4){case 3:r[t+s+2]=e[s+2]^a[2];case 2:r[t+s+1]=e[s+1]^a[1];case 1:r[t+s]=e[s]^a[0]}},unmask:function(e,a){for(var r=a.readUInt32LE(0,!0),t=e.length,n=0;n<t-3;n+=4){var c=r^e.readUInt32LE(n,!0);c<0&&(c=4294967296+c),e.writeUInt32LE(c,n,!0)}switch(t%4){case 3:e[n+2]=e[n+2]^a[2];case 2:e[n+1]=e[n+1]^a[1];case 1:e[n]=e[n]^a[0]}}};","node_modules/ws/lib/Validation.js":"\"use strict\";var isValidUTF8;try{isValidUTF8=require(\"utf-8-validate\")}catch(i){isValidUTF8=require(\"./Validation.fallback\")}module.exports=\"object\"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8;","node_modules/ws/lib/BufferPool.js":"var util=require(\"util\");function BufferPool(t,e,f){if(this instanceof BufferPool==!1)throw new TypeError(\"Classes can't be function-called\");\"function\"==typeof t?(f=e,e=t,t=0):void 0===t&&(t=0),this._growStrategy=(e||function(t,e){return t.used+e}).bind(null,this),this._shrinkStrategy=(f||function(e){return t}).bind(null,this),this._buffer=t?new Buffer(t):null,this._offset=0,this._used=0,this._changeFactor=0,this.__defineGetter__(\"size\",function(){return null==this._buffer?0:this._buffer.length}),this.__defineGetter__(\"used\",function(){return this._used})}BufferPool.prototype.get=function(t){if(null==this._buffer||this._offset+t>this._buffer.length){var e=new Buffer(this._growStrategy(t));this._buffer=e,this._offset=0}this._used+=t;var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},BufferPool.prototype.reset=function(t){var e=this._shrinkStrategy();e<this.size&&(this._changeFactor-=1),(t||this._changeFactor<-2)&&(this._changeFactor=0,this._buffer=e?new Buffer(e):null),this._offset=0,this._used=0},module.exports=BufferPool;","node_modules/ws/lib/Validation.fallback.js":"exports.Validation={isValidUTF8:function(i){return!0}};","node_modules/to-array/index.js":"module.exports=toArray;function toArray(r,o){for(var t=[],e=(o=o||0)||0;e<r.length;e++)t[e-o]=r[e];return t}","node_modules/has-binary/index.js":"var isArray=require(\"isarray\");module.exports=hasBinary;function hasBinary(r){function e(r){if(!r)return!1;if(global.Buffer&&global.Buffer.isBuffer&&global.Buffer.isBuffer(r)||global.ArrayBuffer&&r instanceof ArrayBuffer||global.Blob&&r instanceof Blob||global.File&&r instanceof File)return!0;if(isArray(r)){for(var f=0;f<r.length;f++)if(e(r[f]))return!0}else if(r&&\"object\"==typeof r){r.toJSON&&\"function\"==typeof r.toJSON&&(r=r.toJSON());for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&e(r[o]))return!0}return!1}return e(r)}","node_modules/socket.io/lib/socket.js":"var Emitter=require(\"events\").EventEmitter,parser=require(\"socket.io-parser\"),url=require(\"url\"),debug=require(\"debug\")(\"socket.io:socket\"),hasBin=require(\"has-binary\"),assign=require(\"object-assign\");module.exports=exports=Socket,exports.events=[\"error\",\"connect\",\"disconnect\",\"disconnecting\",\"newListener\",\"removeListener\"];var flags=[\"json\",\"volatile\",\"broadcast\"],emit=Emitter.prototype.emit;function Socket(t,e,s){this.nsp=t,this.server=t.server,this.adapter=this.nsp.adapter,this.id=\"/\"!==t.name?t.name+\"#\"+e.id:e.id,this.client=e,this.conn=e.conn,this.rooms={},this.acks={},this.connected=!0,this.disconnected=!1,this.handshake=this.buildHandshake(s),this.fns=[]}Socket.prototype.__proto__=Emitter.prototype,flags.forEach(function(t){Object.defineProperty(Socket.prototype,t,{get:function(){return this.flags=this.flags||{},this.flags[t]=!0,this}})}),Object.defineProperty(Socket.prototype,\"request\",{get:function(){return this.conn.request}}),Socket.prototype.buildHandshake=function(t){var e=this;return{headers:this.request.headers,time:new Date+\"\",address:this.conn.remoteAddress,xdomain:!!this.request.headers.origin,secure:!!this.request.connection.encrypted,issued:+new Date,url:this.request.url,query:function(){var s=url.parse(e.request.url,!0).query;return assign({},t,s)}()}},Socket.prototype.emit=function(t){if(~exports.events.indexOf(t))emit.apply(this,arguments);else{var e=Array.prototype.slice.call(arguments),s={};s.type=hasBin(e)?parser.BINARY_EVENT:parser.EVENT,s.data=e;var o=this.flags||{};if(\"function\"==typeof e[e.length-1]){if(this._rooms||o.broadcast)throw new Error(\"Callbacks are not supported when broadcasting\");debug(\"emitting packet with ack id %d\",this.nsp.ids),this.acks[this.nsp.ids]=e.pop(),s.id=this.nsp.ids++}this._rooms||o.broadcast?this.adapter.broadcast(s,{except:[this.id],rooms:this._rooms,flags:o}):this.packet(s,{volatile:o.volatile,compress:o.compress}),delete this._rooms,delete this.flags}return this},Socket.prototype.to=Socket.prototype.in=function(t){return this._rooms=this._rooms||[],~this._rooms.indexOf(t)||this._rooms.push(t),this},Socket.prototype.send=Socket.prototype.write=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},Socket.prototype.packet=function(t,e){t.nsp=this.nsp.name,(e=e||{}).compress=!1!==e.compress,this.client.packet(t,e)},Socket.prototype.join=function(t,e){debug(\"joining room %s\",t);var s=this;return this.rooms.hasOwnProperty(t)?(e&&e(null),this):(this.adapter.add(this.id,t,function(o){if(o)return e&&e(o);debug(\"joined room %s\",t),s.rooms[t]=t,e&&e(null)}),this)},Socket.prototype.leave=function(t,e){debug(\"leave room %s\",t);var s=this;return this.adapter.del(this.id,t,function(o){if(o)return e&&e(o);debug(\"left room %s\",t),delete s.rooms[t],e&&e(null)}),this},Socket.prototype.leaveAll=function(){this.adapter.delAll(this.id),this.rooms={}},Socket.prototype.onconnect=function(){debug(\"socket connected - writing packet\"),this.nsp.connected[this.id]=this,this.join(this.id),this.packet({type:parser.CONNECT})},Socket.prototype.onpacket=function(t){switch(debug(\"got packet %j\",t),t.type){case parser.EVENT:case parser.BINARY_EVENT:this.onevent(t);break;case parser.ACK:case parser.BINARY_ACK:this.onack(t);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit(\"error\",t.data)}},Socket.prototype.onevent=function(t){var e=t.data||[];debug(\"emitting event %j\",e),null!=t.id&&(debug(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.dispatch(e)},Socket.prototype.ack=function(t){var e=this,s=!1;return function(){if(!s){var o=Array.prototype.slice.call(arguments);debug(\"sending ack %j\",o);var i=hasBin(o)?parser.BINARY_ACK:parser.ACK;e.packet({id:t,type:i,data:o}),s=!0}}},Socket.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(debug(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):debug(\"bad ack %s\",t.id)},Socket.prototype.ondisconnect=function(){debug(\"got disconnect packet\"),this.onclose(\"client namespace disconnect\")},Socket.prototype.onerror=function(t){this.listeners(\"error\").length?this.emit(\"error\",t):(console.error(\"Missing error handler on `socket`.\"),console.error(t.stack))},Socket.prototype.onclose=function(t){if(!this.connected)return this;debug(\"closing socket - reason %s\",t),this.emit(\"disconnecting\",t),this.leaveAll(),this.nsp.remove(this),this.client.remove(this),this.connected=!1,this.disconnected=!0,delete this.nsp.connected[this.id],this.emit(\"disconnect\",t)},Socket.prototype.error=function(t){this.packet({type:parser.ERROR,data:t})},Socket.prototype.disconnect=function(t){return this.connected?(t?this.client.disconnect():(this.packet({type:parser.DISCONNECT}),this.onclose(\"server namespace disconnect\")),this):this},Socket.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this},Socket.prototype.dispatch=function(t){debug(\"dispatching an event %j\",t);var e=this;this.run(t,function(s){process.nextTick(function(){if(s)return e.error(s.data||s.message);emit.apply(e,t)})})},Socket.prototype.use=function(t){return this.fns.push(t),this},Socket.prototype.run=function(t,e){var s=this.fns.slice(0);if(!s.length)return e(null);function o(i){s[i](t,function(t){return t?e(t):s[i+1]?void o(i+1):e(null)})}o(0)};","node_modules/bytes/index.js":"\"use strict\";module.exports=bytes,module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\\B(?=(\\d{3})+(?!\\d))/g,formatDecimalsRegExp=/(?:\\.0*|(\\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},numberIsFinite=Number.isFinite||function(e){return\"number\"==typeof e&&isFinite(e)},parseRegExp=/^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb)$/i;function bytes(e,r){return\"string\"==typeof e?parse(e):\"number\"==typeof e?format(e,r):null}function format(e,r){if(!numberIsFinite(e))return null;var a=Math.abs(e),t=r&&r.thousandsSeparator||\"\",o=r&&r.unitSeparator||\"\",s=r&&void 0!==r.decimalPlaces?r.decimalPlaces:2,n=Boolean(r&&r.fixedDecimals),p=\"B\";a>=map.tb?p=\"TB\":a>=map.gb?p=\"GB\":a>=map.mb?p=\"MB\":a>=map.kb&&(p=\"kB\");var m=(e/map[p.toLowerCase()]).toFixed(s);return n||(m=m.replace(formatDecimalsRegExp,\"$1\")),t&&(m=m.replace(formatThousandsRegExp,t)),m+o+p}function parse(e){if(\"number\"==typeof e&&!isNaN(e))return e;if(\"string\"!=typeof e)return null;var r,a=parseRegExp.exec(e),t=\"b\";return a?(r=parseFloat(a[1]),t=a[4].toLowerCase()):(r=parseInt(e,10),t=\"b\"),Math.floor(map[t]*r)}","node_modules/body-parser/lib/read.js":"\"use strict\";var createError=require(\"http-errors\"),getBody=require(\"raw-body\"),iconv=require(\"iconv-lite\"),onFinished=require(\"on-finished\"),zlib=require(\"zlib\");module.exports=read;function read(e,t,r,n,o,i){var a,s,c=i;e._body=!0;var d=null!==c.encoding?c.encoding:null,u=c.verify;try{a=(s=contentstream(e,o,c.inflate)).length,s.length=void 0}catch(e){return r(e)}if(c.length=a,c.encoding=u?null:d,null===c.encoding&&null!==d&&!iconv.encodingExists(d))return r(createError(415,'unsupported charset \"'+d.toUpperCase()+'\"',{charset:d.toLowerCase()}));o(\"read body\"),getBody(s,c,function(i,a){if(i)return setErrorStatus(i,400),\"encoding.unsupported\"===i.type&&(i=createError(415,'unsupported charset \"'+d.toUpperCase()+'\"',{charset:d.toLowerCase()})),s.resume(),void onFinished(e,function(){r(i)});if(u)try{o(\"verify body\"),u(e,t,a,d)}catch(i){return setErrorStatus(i,403),void r(i)}var c;try{o(\"parse body\"),c=\"string\"!=typeof a&&null!==d?iconv.decode(a,d):a,e.body=n(c)}catch(i){return i.body=void 0===c?a:c,setErrorStatus(i,400),void r(i)}r()})}function contentstream(e,t,r){var n,o=(e.headers[\"content-encoding\"]||\"identity\").toLowerCase(),i=e.headers[\"content-length\"];if(t('content-encoding \"%s\"',o),!1===r&&\"identity\"!==o)throw createError(415,\"content encoding unsupported\");switch(o){case\"deflate\":n=zlib.createInflate(),t(\"inflate body\"),e.pipe(n);break;case\"gzip\":n=zlib.createGunzip(),t(\"gunzip body\"),e.pipe(n);break;case\"identity\":(n=e).length=i;break;default:throw createError(415,'unsupported content encoding \"'+o+'\"',{encoding:o})}return n}function setErrorStatus(e,t){e.status||e.statusCode||(e.status=t,e.statusCode=t)}","node_modules/raw-body/index.js":"\"use strict\";var bytes=require(\"bytes\"),iconv=require(\"iconv-lite\"),unpipe=require(\"unpipe\");module.exports=getRawBody;var iconvEncodingMessageRegExp=/^Encoding not recognized: /;function getDecoder(e){if(!e)return null;try{return iconv.getDecoder(e)}catch(r){if(!iconvEncodingMessageRegExp.test(r.message))throw r;throw createError(415,\"specified encoding unsupported\",\"encoding.unsupported\",{encoding:e})}}function getRawBody(e,r,t){var n=t,o=r||{};if(!0!==r&&\"string\"!=typeof r||(o={encoding:r}),\"function\"==typeof r&&(n=r,o={}),void 0!==n&&\"function\"!=typeof n)throw new TypeError(\"argument callback must be a function\");if(!n&&!global.Promise)throw new TypeError(\"argument callback is required\");var i=!0!==o.encoding?o.encoding:\"utf-8\",a=bytes.parse(o.limit),c=null==o.length||isNaN(o.length)?null:parseInt(o.length,10);return n?readStream(e,i,c,a,n):new Promise(function(r,t){readStream(e,i,c,a,function(e,n){if(e)return t(e);r(n)})})}function halt(e){unpipe(e),\"function\"==typeof e.pause&&e.pause()}function createError(e,r,t,n){var o=new Error;Error.captureStackTrace(o,createError);for(var i in n)o[i]=n[i];return o.message=r,o.status=e,o.statusCode=e,Object.defineProperty(o,\"type\",{value:t,enumerable:!0,writable:!0,configurable:!0}),o}function readStream(e,r,t,n,o){var i=!1,a=!0;if(null!==n&&null!==t&&t>n)return d(createError(413,\"request entity too large\",\"entity.too.large\",{expected:t,length:t,limit:n}));var c=e._readableState;if(e._decoder||c&&(c.encoding||c.decoder))return d(createError(500,\"stream encoding should not be set\",\"stream.encoding.set\"));var u,l=0;try{u=getDecoder(r)}catch(e){return d(e)}var s=u?\"\":[];e.on(\"aborted\",g),e.on(\"close\",v),e.on(\"data\",f),e.on(\"end\",p),e.on(\"error\",p),a=!1;function d(){for(var r=new Array(arguments.length),t=0;t<r.length;t++)r[t]=arguments[t];i=!0,a?process.nextTick(n):n();function n(){v(),r[0]&&halt(e),o.apply(null,r)}}function g(){i||d(createError(400,\"request aborted\",\"request.aborted\",{code:\"ECONNABORTED\",expected:t,length:t,received:l}))}function f(e){i||(l+=e.length,u?s+=u.write(e):s.push(e),null!==n&&l>n&&d(createError(413,\"request entity too large\",\"entity.too.large\",{limit:n,received:l})))}function p(e){if(!i){if(e)return d(e);if(null!==t&&l!==t)d(createError(400,\"request size did not match content length\",\"request.size.invalid\",{expected:t,length:t,received:l}));else{d(null,u?s+(u.end()||\"\"):Buffer.concat(s))}}}function v(){s=null,e.removeListener(\"aborted\",g),e.removeListener(\"data\",f),e.removeListener(\"end\",p),e.removeListener(\"error\",p),e.removeListener(\"close\",v)}}","config/require.js":"\"use strict\";exports.paths={text:\"vendor/require/text\",i18n:\"vendor/require/i18n\",domReady:\"vendor/require/domReady\",underscore:\"vendor/underscore\",jquery:\"vendor/jquery\",backbone:\"vendor/backbone\",\"backbone.layout\":\"vendor/backbone.layoutmanager\",moment:\"vendor/moment/moment\",\"moment-lang\":\"vendor/moment/lang\",\"moment-timezone\":\"vendor/moment/moment-timezone\",bootstrap:\"vendor/bootstrap/js/bootstrap\",\"socket.io\":\"vendor/socket.io\",\"h5.pubsub\":\"vendor/h5.pubsub\",\"h5.rql\":\"vendor/h5.rql\",form2js:\"vendor/form2js\",js2form:\"vendor/js2form\",reltime:\"vendor/reltime\",select2:\"vendor/select2/select2\",\"select2-lang\":\"vendor/select2-lang\",highcharts:\"vendor/highcharts-custom\",zeroclipboard:\"vendor/zeroclipboard/ZeroClipboard\",ejs:\"vendor/require/ejs\"},exports.shim={underscore:{exports:\"_\"},backbone:{deps:[\"underscore\",\"jquery\"],exports:\"Backbone\"},bootstrap:[\"jquery\"],reltime:{exports:\"reltime\"},select2:{deps:[\"jquery\"],exports:\"Select2\"},highcharts:{deps:[\"jquery\"],exports:\"Highcharts\"}},exports.buildPaths=exports.paths,exports.buildShim=exports.shim;"}}