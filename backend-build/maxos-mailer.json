{"paths":{".":{"lodash":"node_modules/lodash/lodash.min.js","moment":"node_modules/moment/moment.js","h5.main":"node_modules/h5.main/lib/index.js","./helpers":"backend/helpers.js"},"node_modules/h5.main/lib/index.js":{"./main":"node_modules/h5.main/lib/main.js"},"node_modules/h5.main/lib/main.js":{"h5.step":"node_modules/h5.step/lib/index.js","h5.pubsub":"node_modules/h5.pubsub/lib/index.js","./utils/app":"node_modules/h5.main/lib/utils/app.js","./utils/log":"node_modules/h5.main/lib/utils/log.js","backend/modules/mongodb":"backend/modules/mongodb.js","backend/modules/events":"backend/modules/events/index.js","backend/modules/mail/sender":"backend/modules/mail/sender.js","backend/modules/directoryWatcher":"backend/modules/directoryWatcher.js","backend/modules/messenger/client":"backend/modules/messenger/client.js"},"node_modules/h5.pubsub/lib/index.js":{"./MessageBroker":"node_modules/h5.pubsub/lib/MessageBroker.js"},"node_modules/h5.pubsub/lib/MessageBroker.js":{"./Subscriptions":"node_modules/h5.pubsub/lib/Subscriptions.js","./Subscription":"node_modules/h5.pubsub/lib/Subscription.js","./Sandbox":"node_modules/h5.pubsub/lib/Sandbox.js"},"node_modules/h5.main/lib/utils/app.js":{"h5.step":"node_modules/h5.step/lib/index.js"},"node_modules/h5.main/lib/utils/log.js":{},"node_modules/moment/moment.js":{"./locale/pl":"node_modules/moment/locale/pl.js"},"node_modules/moment/locale/pl.js":{"../moment":"node_modules/moment/moment.js"},"backend/modules/mongodb.js":{"mongodb":"node_modules/mongodb/index.js"},"node_modules/mongodb/index.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./lib/apm":"node_modules/mongodb/lib/apm.js","./lib/mongo_client":"node_modules/mongodb/lib/mongo_client.js","./lib/admin":"node_modules/mongodb/lib/admin.js","./lib/db":"node_modules/mongodb/lib/db.js","./lib/collection":"node_modules/mongodb/lib/collection.js","./lib/server":"node_modules/mongodb/lib/server.js","./lib/replset":"node_modules/mongodb/lib/replset.js","./lib/mongos":"node_modules/mongodb/lib/mongos.js","./lib/read_preference":"node_modules/mongodb/lib/read_preference.js","./lib/gridfs/grid_store":"node_modules/mongodb/lib/gridfs/grid_store.js","./lib/gridfs/chunk":"node_modules/mongodb/lib/gridfs/chunk.js","./lib/cursor":"node_modules/mongodb/lib/cursor.js","./lib/gridfs-stream":"node_modules/mongodb/lib/gridfs-stream/index.js"},"node_modules/mongodb-core/index.js":{"bson":"node_modules/bson/index.js","require_optional":"node_modules/require_optional/index.js","./lib/error":"node_modules/mongodb-core/lib/error.js","./lib/connection/connection":"node_modules/mongodb-core/lib/connection/connection.js","./lib/topologies/server":"node_modules/mongodb-core/lib/topologies/server.js","./lib/topologies/replset":"node_modules/mongodb-core/lib/topologies/replset.js","./lib/topologies/mongos":"node_modules/mongodb-core/lib/topologies/mongos.js","./lib/connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./lib/cursor":"node_modules/mongodb-core/lib/cursor.js","./lib/topologies/read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","./lib/connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","./lib/auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","./lib/auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","./lib/auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","./lib/auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","./lib/auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/bson/index.js":{"./lib/bson/bson":"node_modules/bson/lib/bson/bson.js","./lib/bson/binary":"node_modules/bson/lib/bson/binary.js","./lib/bson/code":"node_modules/bson/lib/bson/code.js","./lib/bson/db_ref":"node_modules/bson/lib/bson/db_ref.js","./lib/bson/decimal128":"node_modules/bson/lib/bson/decimal128.js","./lib/bson/double":"node_modules/bson/lib/bson/double.js","./lib/bson/int_32":"node_modules/bson/lib/bson/int_32.js","./lib/bson/long":"node_modules/bson/lib/bson/long.js","./lib/bson/map":"node_modules/bson/lib/bson/map.js","./lib/bson/max_key":"node_modules/bson/lib/bson/max_key.js","./lib/bson/min_key":"node_modules/bson/lib/bson/min_key.js","./lib/bson/objectid":"node_modules/bson/lib/bson/objectid.js","./lib/bson/regexp":"node_modules/bson/lib/bson/regexp.js","./lib/bson/symbol":"node_modules/bson/lib/bson/symbol.js","./lib/bson/timestamp":"node_modules/bson/lib/bson/timestamp.js"},"node_modules/bson/lib/bson/bson.js":{"./float_parser":"node_modules/bson/lib/bson/float_parser.js","./map":"node_modules/bson/lib/bson/map.js","./long":"node_modules/bson/lib/bson/long.js","./double":"node_modules/bson/lib/bson/double.js","./timestamp":"node_modules/bson/lib/bson/timestamp.js","./objectid":"node_modules/bson/lib/bson/objectid.js","./regexp":"node_modules/bson/lib/bson/regexp.js","./symbol":"node_modules/bson/lib/bson/symbol.js","./int_32":"node_modules/bson/lib/bson/int_32.js","./code":"node_modules/bson/lib/bson/code.js","./decimal128":"node_modules/bson/lib/bson/decimal128.js","./min_key":"node_modules/bson/lib/bson/min_key.js","./max_key":"node_modules/bson/lib/bson/max_key.js","./db_ref":"node_modules/bson/lib/bson/db_ref.js","./binary":"node_modules/bson/lib/bson/binary.js","./parser/deserializer":"node_modules/bson/lib/bson/parser/deserializer.js","./parser/serializer":"node_modules/bson/lib/bson/parser/serializer.js","./parser/calculate_size":"node_modules/bson/lib/bson/parser/calculate_size.js"},"node_modules/bson/lib/bson/decimal128.js":{"./long":"node_modules/bson/lib/bson/long.js"},"node_modules/bson/lib/bson/binary.js":{},"node_modules/bson/lib/bson/parser/deserializer.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../code":"node_modules/bson/lib/bson/code.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../int_32":"node_modules/bson/lib/bson/int_32.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/bson/lib/bson/parser/serializer.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../map":"node_modules/bson/lib/bson/map.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../code":"node_modules/bson/lib/bson/code.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../int_32":"node_modules/bson/lib/bson/int_32.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/bson/lib/bson/parser/calculate_size.js":{"../float_parser":"node_modules/bson/lib/bson/float_parser.js","../long":"node_modules/bson/lib/bson/long.js","../double":"node_modules/bson/lib/bson/double.js","../timestamp":"node_modules/bson/lib/bson/timestamp.js","../objectid":"node_modules/bson/lib/bson/objectid.js","../symbol":"node_modules/bson/lib/bson/symbol.js","../regexp":"node_modules/bson/lib/bson/regexp.js","../code":"node_modules/bson/lib/bson/code.js","../decimal128":"node_modules/bson/lib/bson/decimal128.js","../min_key":"node_modules/bson/lib/bson/min_key.js","../max_key":"node_modules/bson/lib/bson/max_key.js","../db_ref":"node_modules/bson/lib/bson/db_ref.js","../binary":"node_modules/bson/lib/bson/binary.js"},"node_modules/require_optional/index.js":{"resolve-from":"node_modules/resolve-from/index.js","semver":"node_modules/semver/semver.js"},"node_modules/resolve-from/index.js":{},"node_modules/mongodb-core/lib/connection/connection.js":{"./utils":"node_modules/mongodb-core/lib/connection/utils.js","./commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","./logger":"node_modules/mongodb-core/lib/connection/logger.js"},"node_modules/mongodb-core/lib/connection/utils.js":{"require_optional":"node_modules/require_optional/index.js","bson":"node_modules/bson/index.js"},"node_modules/mongodb-core/lib/connection/commands.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js"},"node_modules/mongodb-core/lib/connection/logger.js":{"../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/server.js":{"./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/pool":"node_modules/mongodb-core/lib/connection/pool.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","../wireprotocol/2_4_support":"node_modules/mongodb-core/lib/wireprotocol/2_4_support.js","../wireprotocol/2_6_support":"node_modules/mongodb-core/lib/wireprotocol/2_6_support.js","../wireprotocol/3_2_support":"node_modules/mongodb-core/lib/wireprotocol/3_2_support.js","../cursor":"node_modules/mongodb-core/lib/cursor.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../utils":"node_modules/mongodb-core/lib/utils.js"},"node_modules/mongodb-core/lib/connection/pool.js":{"./connection":"node_modules/mongodb-core/lib/connection/connection.js","../error":"node_modules/mongodb-core/lib/error.js","./logger":"node_modules/mongodb-core/lib/connection/logger.js","./commands":"node_modules/mongodb-core/lib/connection/commands.js","./command_result":"node_modules/mongodb-core/lib/connection/command_result.js","../utils":"node_modules/mongodb-core/lib/utils.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb-core/lib/auth/mongocr.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/x509.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/plain.js":{"bson":"node_modules/bson/index.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/gssapi.js":{"require_optional":"node_modules/require_optional/index.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/sspi.js":{"require_optional":"node_modules/require_optional/index.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/auth/scram.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/2_4_support.js":{"./commands":"node_modules/mongodb-core/lib/wireprotocol/commands.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../connection/command_result":"node_modules/mongodb-core/lib/connection/command_result.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/wireprotocol/commands.js":{"../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/shared.js":{"../topologies/read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/wireprotocol/2_6_support.js":{"../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/wireprotocol/3_2_support.js":{"../connection/commands":"node_modules/mongodb-core/lib/connection/commands.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../error":"node_modules/mongodb-core/lib/error.js","./shared":"node_modules/mongodb-core/lib/wireprotocol/shared.js"},"node_modules/mongodb-core/lib/cursor.js":{"./connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","./error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/shared.js":{"../../package.json":"node_modules/mongodb-core/package.json"},"node_modules/mongodb-core/lib/topologies/replset.js":{"./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../cursor":"node_modules/mongodb-core/lib/cursor.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../error":"node_modules/mongodb-core/lib/error.js","./server":"node_modules/mongodb-core/lib/topologies/server.js","./replset_state":"node_modules/mongodb-core/lib/topologies/replset_state.js","../utils":"node_modules/mongodb-core/lib/utils.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb-core/lib/topologies/replset_state.js":{"./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","./read_preference":"node_modules/mongodb-core/lib/topologies/read_preference.js","../error":"node_modules/mongodb-core/lib/error.js"},"node_modules/mongodb-core/lib/topologies/mongos.js":{"../cursor":"node_modules/mongodb-core/lib/cursor.js","../connection/logger":"node_modules/mongodb-core/lib/connection/logger.js","../connection/utils":"node_modules/mongodb-core/lib/connection/utils.js","../error":"node_modules/mongodb-core/lib/error.js","./server":"node_modules/mongodb-core/lib/topologies/server.js","../utils":"node_modules/mongodb-core/lib/utils.js","./shared":"node_modules/mongodb-core/lib/topologies/shared.js","../auth/mongocr":"node_modules/mongodb-core/lib/auth/mongocr.js","../auth/x509":"node_modules/mongodb-core/lib/auth/x509.js","../auth/plain":"node_modules/mongodb-core/lib/auth/plain.js","../auth/gssapi":"node_modules/mongodb-core/lib/auth/gssapi.js","../auth/sspi":"node_modules/mongodb-core/lib/auth/sspi.js","../auth/scram":"node_modules/mongodb-core/lib/auth/scram.js"},"node_modules/mongodb/lib/apm.js":{"./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./bulk/ordered":"node_modules/mongodb/lib/bulk/ordered.js","./bulk/unordered":"node_modules/mongodb/lib/bulk/unordered.js","./gridfs/grid_store":"node_modules/mongodb/lib/gridfs/grid_store.js","./cursor":"node_modules/mongodb/lib/cursor.js","./collection":"node_modules/mongodb/lib/collection.js","./db":"node_modules/mongodb/lib/db.js"},"node_modules/mongodb/lib/aggregation_cursor.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js"},"node_modules/mongodb/lib/metadata.js":{},"node_modules/mongodb/lib/cursor.js":{"./utils":"node_modules/mongodb/lib/utils.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/utils.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./read_preference":"node_modules/mongodb/lib/read_preference.js"},"node_modules/mongodb/lib/command_cursor.js":{"./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js"},"node_modules/mongodb/lib/bulk/ordered.js":{"./common":"node_modules/mongodb/lib/bulk/common.js","../utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","../metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/bulk/common.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/bulk/unordered.js":{"./common":"node_modules/mongodb/lib/bulk/common.js","../utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","../metadata":"node_modules/mongodb/lib/metadata.js"},"node_modules/mongodb/lib/gridfs/grid_store.js":{"./chunk":"node_modules/mongodb/lib/gridfs/chunk.js","mongodb-core":"node_modules/mongodb-core/index.js","../read_preference":"node_modules/mongodb/lib/read_preference.js","../collection":"node_modules/mongodb/lib/collection.js","../metadata":"node_modules/mongodb/lib/metadata.js","../utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/gridfs/chunk.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/collection.js":{"./utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./metadata":"node_modules/mongodb/lib/metadata.js","./cursor":"node_modules/mongodb/lib/cursor.js","./bulk/unordered":"node_modules/mongodb/lib/bulk/unordered.js","./bulk/ordered":"node_modules/mongodb/lib/bulk/ordered.js"},"node_modules/mongodb/lib/db.js":{"./authenticate":"node_modules/mongodb/lib/authenticate.js","./utils":"node_modules/mongodb/lib/utils.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","./admin":"node_modules/mongodb/lib/admin.js","mongodb-core":"node_modules/mongodb-core/index.js","./metadata":"node_modules/mongodb/lib/metadata.js","./collection":"node_modules/mongodb/lib/collection.js"},"node_modules/mongodb/lib/authenticate.js":{"./utils":"node_modules/mongodb/lib/utils.js","mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/admin.js":{"./utils":"node_modules/mongodb/lib/utils.js","./metadata":"node_modules/mongodb/lib/metadata.js","./authenticate":"node_modules/mongodb/lib/authenticate.js"},"node_modules/mongodb/lib/mongo_client.js":{"./url_parser":"node_modules/mongodb/lib/url_parser.js","./server":"node_modules/mongodb/lib/server.js","./mongos":"node_modules/mongodb/lib/mongos.js","./replset":"node_modules/mongodb/lib/replset.js","./metadata":"node_modules/mongodb/lib/metadata.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./db":"node_modules/mongodb/lib/db.js","./utils":"node_modules/mongodb/lib/utils.js","./authenticate":"node_modules/mongodb/lib/authenticate.js"},"node_modules/mongodb/lib/url_parser.js":{"./read_preference":"node_modules/mongodb/lib/read_preference.js","./utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/server.js":{"mongodb-core":"node_modules/mongodb-core/index.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./topology_base":"node_modules/mongodb/lib/topology_base.js","./metadata":"node_modules/mongodb/lib/metadata.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/topology_base.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"node_modules/mongodb/lib/mongos.js":{"./topology_base":"node_modules/mongodb/lib/topology_base.js","mongodb-core":"node_modules/mongodb-core/index.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./metadata":"node_modules/mongodb/lib/metadata.js","./server":"node_modules/mongodb/lib/server.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/replset.js":{"./server":"node_modules/mongodb/lib/server.js","./cursor":"node_modules/mongodb/lib/cursor.js","./aggregation_cursor":"node_modules/mongodb/lib/aggregation_cursor.js","./command_cursor":"node_modules/mongodb/lib/command_cursor.js","./read_preference":"node_modules/mongodb/lib/read_preference.js","mongodb-core":"node_modules/mongodb-core/index.js","./topology_base":"node_modules/mongodb/lib/topology_base.js","./metadata":"node_modules/mongodb/lib/metadata.js","./utils":"node_modules/mongodb/lib/utils.js","../package.json":"node_modules/mongodb/package.json"},"node_modules/mongodb/lib/gridfs-stream/index.js":{"./download":"node_modules/mongodb/lib/gridfs-stream/download.js","./upload":"node_modules/mongodb/lib/gridfs-stream/upload.js","../utils":"node_modules/mongodb/lib/utils.js"},"node_modules/mongodb/lib/gridfs-stream/download.js":{},"node_modules/mongodb/lib/gridfs-stream/upload.js":{"mongodb-core":"node_modules/mongodb-core/index.js"},"backend/modules/events/index.js":{"lodash":"node_modules/lodash/lodash.min.js","./routes":"backend/modules/events/routes.js"},"backend/modules/mail/sender.js":{"lodash":"node_modules/lodash/lodash.min.js","h5.step":"node_modules/h5.step/lib/index.js","request":"node_modules/request/index.js"},"backend/modules/directoryWatcher.js":{},"backend/modules/messenger/client.js":{"lodash":"node_modules/lodash/lodash.min.js","axon":"node_modules/axon/index.js"},"node_modules/axon/index.js":{"./lib":"node_modules/axon/lib/index.js"},"node_modules/axon/lib/index.js":{"./sockets/pub-emitter":"node_modules/axon/lib/sockets/pub-emitter.js","./sockets/sub-emitter":"node_modules/axon/lib/sockets/sub-emitter.js","./sockets/push":"node_modules/axon/lib/sockets/push.js","./sockets/pull":"node_modules/axon/lib/sockets/pull.js","./sockets/pub":"node_modules/axon/lib/sockets/pub.js","./sockets/sub":"node_modules/axon/lib/sockets/sub.js","./sockets/req":"node_modules/axon/lib/sockets/req.js","./sockets/rep":"node_modules/axon/lib/sockets/rep.js","./sockets/sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/pub-emitter.js":{"./pub":"node_modules/axon/lib/sockets/pub.js"},"node_modules/axon/lib/sockets/pub.js":{"./sock":"node_modules/axon/lib/sockets/sock.js","../utils":"node_modules/axon/lib/utils.js"},"node_modules/axon/lib/sockets/sock.js":{"configurable":"node_modules/configurable/index.js","debug":"node_modules/debug/src/index.js","amp-message":"node_modules/amp-message/index.js","amp":"node_modules/amp/index.js"},"node_modules/configurable/index.js":{"./lib/configurable":"node_modules/configurable/lib/configurable.js"},"node_modules/debug/src/index.js":{"./node.js":"node_modules/debug/src/node.js"},"node_modules/debug/src/node.js":{"./debug":"node_modules/debug/src/debug.js","supports-color":"node_modules/supports-color/index.js"},"node_modules/debug/src/debug.js":{"ms":"node_modules/ms/index.js"},"node_modules/amp-message/index.js":{"amp":"node_modules/amp/index.js"},"node_modules/amp/index.js":{"./lib/stream":"node_modules/amp/lib/stream.js","./lib/encode":"node_modules/amp/lib/encode.js","./lib/decode":"node_modules/amp/lib/decode.js"},"node_modules/amp/lib/stream.js":{"./encode":"node_modules/amp/lib/encode.js"},"node_modules/axon/lib/sockets/sub-emitter.js":{"amp-message":"node_modules/amp-message/index.js","./sub":"node_modules/axon/lib/sockets/sub.js"},"node_modules/axon/lib/sockets/sub.js":{"debug":"node_modules/debug/src/index.js","escape-regexp":"node_modules/escape-regexp/index.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/push.js":{"../plugins/round-robin":"node_modules/axon/lib/plugins/round-robin.js","../plugins/queue":"node_modules/axon/lib/plugins/queue.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/plugins/round-robin.js":{"../utils":"node_modules/axon/lib/utils.js"},"node_modules/axon/lib/plugins/queue.js":{"debug":"node_modules/debug/src/index.js"},"node_modules/axon/lib/sockets/pull.js":{"./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/req.js":{"debug":"node_modules/debug/src/index.js","../plugins/queue":"node_modules/axon/lib/plugins/queue.js","../utils":"node_modules/axon/lib/utils.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/axon/lib/sockets/rep.js":{"../utils":"node_modules/axon/lib/utils.js","debug":"node_modules/debug/src/index.js","amp-message":"node_modules/amp-message/index.js","./sock":"node_modules/axon/lib/sockets/sock.js"},"node_modules/request/index.js":{"extend":"node_modules/extend/index.js","./lib/cookies":"node_modules/request/lib/cookies.js","./lib/helpers":"node_modules/request/lib/helpers.js","./request":"node_modules/request/request.js"},"node_modules/request/lib/cookies.js":{"tough-cookie":"node_modules/tough-cookie/lib/cookie.js"},"node_modules/tough-cookie/lib/cookie.js":{"./pubsuffix":"node_modules/tough-cookie/lib/pubsuffix.js","./store":"node_modules/tough-cookie/lib/store.js","./memstore":"node_modules/tough-cookie/lib/memstore.js","./pathMatch":"node_modules/tough-cookie/lib/pathMatch.js","../package.json":"node_modules/tough-cookie/package.json","./permuteDomain":"node_modules/tough-cookie/lib/permuteDomain.js"},"node_modules/tough-cookie/lib/pubsuffix.js":{},"node_modules/tough-cookie/lib/memstore.js":{"./store":"node_modules/tough-cookie/lib/store.js","./permuteDomain":"node_modules/tough-cookie/lib/permuteDomain.js","./pathMatch":"node_modules/tough-cookie/lib/pathMatch.js"},"node_modules/tough-cookie/lib/permuteDomain.js":{"./pubsuffix":"node_modules/tough-cookie/lib/pubsuffix.js"},"node_modules/request/lib/helpers.js":{"json-stringify-safe":"node_modules/json-stringify-safe/stringify.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/safe-buffer/index.js":{},"node_modules/request/request.js":{"hawk":"node_modules/hawk/lib/index.js","aws-sign2":"node_modules/aws-sign2/index.js","aws4":"node_modules/aws4/aws4.js","http-signature":"node_modules/http-signature/lib/index.js","mime-types":"node_modules/mime-types/index.js","stringstream":"node_modules/stringstream/stringstream.js","caseless":"node_modules/caseless/index.js","forever-agent":"node_modules/forever-agent/index.js","form-data":"node_modules/form-data/lib/form_data.js","extend":"node_modules/extend/index.js","isstream":"node_modules/isstream/isstream.js","is-typedarray":"node_modules/is-typedarray/index.js","./lib/helpers":"node_modules/request/lib/helpers.js","./lib/cookies":"node_modules/request/lib/cookies.js","./lib/getProxyFromURI":"node_modules/request/lib/getProxyFromURI.js","./lib/querystring":"node_modules/request/lib/querystring.js","./lib/har":"node_modules/request/lib/har.js","./lib/auth":"node_modules/request/lib/auth.js","./lib/oauth":"node_modules/request/lib/oauth.js","./lib/multipart":"node_modules/request/lib/multipart.js","./lib/redirect":"node_modules/request/lib/redirect.js","./lib/tunnel":"node_modules/request/lib/tunnel.js","performance-now":"node_modules/performance-now/lib/performance-now.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/hawk/lib/index.js":{"boom":"node_modules/boom/lib/index.js","sntp":"node_modules/sntp/lib/index.js","./server":"node_modules/hawk/lib/server.js","./client":"node_modules/hawk/lib/client.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/boom/lib/index.js":{"hoek":"node_modules/hoek/lib/index.js"},"node_modules/hoek/lib/index.js":{"./escape":"node_modules/hoek/lib/escape.js"},"node_modules/sntp/lib/index.js":{"hoek":"node_modules/hoek/lib/index.js"},"node_modules/hawk/lib/server.js":{"boom":"node_modules/boom/lib/index.js","hoek":"node_modules/hoek/lib/index.js","cryptiles":"node_modules/cryptiles/lib/index.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/cryptiles/lib/index.js":{"boom":"node_modules/boom/lib/index.js"},"node_modules/hawk/lib/crypto.js":{"./utils":"node_modules/hawk/lib/utils.js"},"node_modules/hawk/lib/utils.js":{"sntp":"node_modules/sntp/lib/index.js","boom":"node_modules/boom/lib/index.js"},"node_modules/hawk/lib/client.js":{"hoek":"node_modules/hoek/lib/index.js","cryptiles":"node_modules/cryptiles/lib/index.js","./crypto":"node_modules/hawk/lib/crypto.js","./utils":"node_modules/hawk/lib/utils.js"},"node_modules/aws-sign2/index.js":{},"node_modules/aws4/aws4.js":{"./lru":"node_modules/aws4/lru.js"},"node_modules/http-signature/lib/index.js":{"./parser":"node_modules/http-signature/lib/parser.js","./signer":"node_modules/http-signature/lib/signer.js","./verify":"node_modules/http-signature/lib/verify.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/http-signature/lib/parser.js":{"assert-plus":"node_modules/assert-plus/assert.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/assert-plus/assert.js":{},"node_modules/http-signature/lib/utils.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js"},"node_modules/sshpk/lib/index.js":{"./key":"node_modules/sshpk/lib/key.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./private-key":"node_modules/sshpk/lib/private-key.js","./certificate":"node_modules/sshpk/lib/certificate.js","./identity":"node_modules/sshpk/lib/identity.js","./errors":"node_modules/sshpk/lib/errors.js"},"node_modules/sshpk/lib/key.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./dhe":"node_modules/sshpk/lib/dhe.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./private-key":"node_modules/sshpk/lib/private-key.js","./ed-compat":"node_modules/sshpk/lib/ed-compat.js","./formats/auto":"node_modules/sshpk/lib/formats/auto.js","./formats/pem":"node_modules/sshpk/lib/formats/pem.js","./formats/pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./formats/pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./formats/rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","./formats/ssh":"node_modules/sshpk/lib/formats/ssh.js","./formats/ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/fingerprint.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./errors":"node_modules/sshpk/lib/errors.js","./key":"node_modules/sshpk/lib/key.js","./certificate":"node_modules/sshpk/lib/certificate.js","./utils":"node_modules/sshpk/lib/utils.js"},"node_modules/sshpk/lib/errors.js":{"assert-plus":"node_modules/assert-plus/assert.js"},"node_modules/sshpk/lib/certificate.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./key":"node_modules/sshpk/lib/key.js","./private-key":"node_modules/sshpk/lib/private-key.js","./identity":"node_modules/sshpk/lib/identity.js","./formats/openssh-cert":"node_modules/sshpk/lib/formats/openssh-cert.js","./formats/x509":"node_modules/sshpk/lib/formats/x509.js","./formats/x509-pem":"node_modules/sshpk/lib/formats/x509-pem.js"},"node_modules/sshpk/lib/signature.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","asn1":"node_modules/asn1/lib/index.js","./ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js"},"node_modules/sshpk/lib/utils.js":{"assert-plus":"node_modules/assert-plus/assert.js","./private-key":"node_modules/sshpk/lib/private-key.js"},"node_modules/sshpk/lib/private-key.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","./dhe":"node_modules/sshpk/lib/dhe.js","./ed-compat":"node_modules/sshpk/lib/ed-compat.js","./key":"node_modules/sshpk/lib/key.js","./formats/auto":"node_modules/sshpk/lib/formats/auto.js","./formats/pem":"node_modules/sshpk/lib/formats/pem.js","./formats/pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./formats/pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./formats/rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","./formats/ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/dhe.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./utils":"node_modules/sshpk/lib/utils.js","./key":"node_modules/sshpk/lib/key.js","./private-key":"node_modules/sshpk/lib/private-key.js"},"node_modules/sshpk/lib/ed-compat.js":{"assert-plus":"node_modules/assert-plus/assert.js","./signature":"node_modules/sshpk/lib/signature.js"},"node_modules/sshpk/lib/formats/auto.js":{"assert-plus":"node_modules/assert-plus/assert.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./ssh":"node_modules/sshpk/lib/formats/ssh.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js"},"node_modules/sshpk/lib/formats/pem.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pkcs1":"node_modules/sshpk/lib/formats/pkcs1.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js","./ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../errors":"node_modules/sshpk/lib/errors.js"},"node_modules/asn1/lib/index.js":{"./ber/index":"node_modules/asn1/lib/ber/index.js"},"node_modules/asn1/lib/ber/index.js":{"./errors":"node_modules/asn1/lib/ber/errors.js","./types":"node_modules/asn1/lib/ber/types.js","./reader":"node_modules/asn1/lib/ber/reader.js","./writer":"node_modules/asn1/lib/ber/writer.js"},"node_modules/asn1/lib/ber/reader.js":{"./types":"node_modules/asn1/lib/ber/types.js","./errors":"node_modules/asn1/lib/ber/errors.js"},"node_modules/asn1/lib/ber/writer.js":{"./types":"node_modules/asn1/lib/ber/types.js","./errors":"node_modules/asn1/lib/ber/errors.js"},"node_modules/sshpk/lib/formats/pkcs1.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js"},"node_modules/sshpk/lib/formats/pkcs8.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js"},"node_modules/sshpk/lib/formats/ssh-private.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js","../errors":"node_modules/sshpk/lib/errors.js"},"node_modules/sshpk/lib/formats/rfc4253.js":{"assert-plus":"node_modules/assert-plus/assert.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js"},"node_modules/sshpk/lib/ssh-buffer.js":{"assert-plus":"node_modules/assert-plus/assert.js"},"node_modules/sshpk/lib/formats/ssh.js":{"assert-plus":"node_modules/assert-plus/assert.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./ssh-private":"node_modules/sshpk/lib/formats/ssh-private.js"},"node_modules/sshpk/lib/identity.js":{"assert-plus":"node_modules/assert-plus/assert.js","./algs":"node_modules/sshpk/lib/algs.js","./fingerprint":"node_modules/sshpk/lib/fingerprint.js","./signature":"node_modules/sshpk/lib/signature.js","./errors":"node_modules/sshpk/lib/errors.js","./utils":"node_modules/sshpk/lib/utils.js","asn1":"node_modules/asn1/lib/index.js"},"node_modules/sshpk/lib/formats/openssh-cert.js":{"assert-plus":"node_modules/assert-plus/assert.js","../ssh-buffer":"node_modules/sshpk/lib/ssh-buffer.js","../algs":"node_modules/sshpk/lib/algs.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","../identity":"node_modules/sshpk/lib/identity.js","./rfc4253":"node_modules/sshpk/lib/formats/rfc4253.js","../signature":"node_modules/sshpk/lib/signature.js","../utils":"node_modules/sshpk/lib/utils.js","../certificate":"node_modules/sshpk/lib/certificate.js"},"node_modules/sshpk/lib/formats/x509.js":{"assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","../identity":"node_modules/sshpk/lib/identity.js","../signature":"node_modules/sshpk/lib/signature.js","../certificate":"node_modules/sshpk/lib/certificate.js","./pkcs8":"node_modules/sshpk/lib/formats/pkcs8.js"},"node_modules/sshpk/lib/formats/x509-pem.js":{"./x509":"node_modules/sshpk/lib/formats/x509.js","assert-plus":"node_modules/assert-plus/assert.js","asn1":"node_modules/asn1/lib/index.js","../algs":"node_modules/sshpk/lib/algs.js","../utils":"node_modules/sshpk/lib/utils.js","../key":"node_modules/sshpk/lib/key.js","../private-key":"node_modules/sshpk/lib/private-key.js","./pem":"node_modules/sshpk/lib/formats/pem.js","../identity":"node_modules/sshpk/lib/identity.js","../signature":"node_modules/sshpk/lib/signature.js","../certificate":"node_modules/sshpk/lib/certificate.js"},"node_modules/http-signature/lib/signer.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js","jsprim":"node_modules/jsprim/lib/jsprim.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/jsprim/lib/jsprim.js":{"assert-plus":"node_modules/assert-plus/assert.js","extsprintf":"node_modules/extsprintf/lib/extsprintf.js","verror":"node_modules/verror/lib/verror.js","json-schema":"node_modules/json-schema/lib/validate.js"},"node_modules/extsprintf/lib/extsprintf.js":{},"node_modules/verror/lib/verror.js":{"assert-plus":"node_modules/assert-plus/assert.js","extsprintf":"node_modules/extsprintf/lib/extsprintf.js","core-util-is":"node_modules/core-util-is/lib/util.js"},"node_modules/http-signature/lib/verify.js":{"assert-plus":"node_modules/assert-plus/assert.js","sshpk":"node_modules/sshpk/lib/index.js","./utils":"node_modules/http-signature/lib/utils.js"},"node_modules/mime-types/index.js":{"mime-db":"node_modules/mime-db/index.js"},"node_modules/mime-db/index.js":{"./db.json":"node_modules/mime-db/db.json"},"node_modules/stringstream/stringstream.js":{},"node_modules/forever-agent/index.js":{},"node_modules/form-data/lib/form_data.js":{"combined-stream":"node_modules/combined-stream/lib/combined_stream.js","mime-types":"node_modules/mime-types/index.js","asynckit":"node_modules/asynckit/index.js","./populate.js":"node_modules/form-data/lib/populate.js"},"node_modules/combined-stream/lib/combined_stream.js":{"delayed-stream":"node_modules/delayed-stream/lib/delayed_stream.js"},"node_modules/delayed-stream/lib/delayed_stream.js":{},"node_modules/asynckit/index.js":{"./parallel.js":"node_modules/asynckit/parallel.js","./serial.js":"node_modules/asynckit/serial.js","./serialOrdered.js":"node_modules/asynckit/serialOrdered.js"},"node_modules/asynckit/parallel.js":{"./lib/iterate.js":"node_modules/asynckit/lib/iterate.js","./lib/state.js":"node_modules/asynckit/lib/state.js","./lib/terminator.js":"node_modules/asynckit/lib/terminator.js"},"node_modules/asynckit/lib/iterate.js":{"./async.js":"node_modules/asynckit/lib/async.js","./abort.js":"node_modules/asynckit/lib/abort.js"},"node_modules/asynckit/lib/async.js":{"./defer.js":"node_modules/asynckit/lib/defer.js"},"node_modules/asynckit/lib/terminator.js":{"./abort.js":"node_modules/asynckit/lib/abort.js","./async.js":"node_modules/asynckit/lib/async.js"},"node_modules/asynckit/serial.js":{"./serialOrdered.js":"node_modules/asynckit/serialOrdered.js"},"node_modules/asynckit/serialOrdered.js":{"./lib/iterate.js":"node_modules/asynckit/lib/iterate.js","./lib/state.js":"node_modules/asynckit/lib/state.js","./lib/terminator.js":"node_modules/asynckit/lib/terminator.js"},"node_modules/isstream/isstream.js":{},"node_modules/request/lib/querystring.js":{"qs":"node_modules/qs/lib/index.js"},"node_modules/qs/lib/index.js":{"./stringify":"node_modules/qs/lib/stringify.js","./parse":"node_modules/qs/lib/parse.js","./formats":"node_modules/qs/lib/formats.js"},"node_modules/qs/lib/stringify.js":{"./utils":"node_modules/qs/lib/utils.js","./formats":"node_modules/qs/lib/formats.js"},"node_modules/qs/lib/parse.js":{"./utils":"node_modules/qs/lib/utils.js"},"node_modules/request/lib/har.js":{"har-validator":"node_modules/har-validator/lib/promise.js","extend":"node_modules/extend/index.js"},"node_modules/har-validator/lib/promise.js":{"ajv":"node_modules/ajv/lib/ajv.js","./error":"node_modules/har-validator/lib/error.js","har-schema":"node_modules/har-schema/lib/index.js"},"node_modules/ajv/lib/ajv.js":{"./compile":"node_modules/ajv/lib/compile/index.js","./compile/resolve":"node_modules/ajv/lib/compile/resolve.js","./cache":"node_modules/ajv/lib/cache.js","./compile/schema_obj":"node_modules/ajv/lib/compile/schema_obj.js","fast-json-stable-stringify":"node_modules/fast-json-stable-stringify/index.js","./compile/formats":"node_modules/ajv/lib/compile/formats.js","./compile/rules":"node_modules/ajv/lib/compile/rules.js","./$data":"node_modules/ajv/lib/$data.js","./patternGroups":"node_modules/ajv/lib/patternGroups.js","./compile/util":"node_modules/ajv/lib/compile/util.js","co":"node_modules/co/index.js","./compile/async":"node_modules/ajv/lib/compile/async.js","./keyword":"node_modules/ajv/lib/keyword.js","./compile/error_classes":"node_modules/ajv/lib/compile/error_classes.js"},"node_modules/ajv/lib/compile/index.js":{"./resolve":"node_modules/ajv/lib/compile/resolve.js","./util":"node_modules/ajv/lib/compile/util.js","./error_classes":"node_modules/ajv/lib/compile/error_classes.js","fast-json-stable-stringify":"node_modules/fast-json-stable-stringify/index.js","../dotjs/validate":"node_modules/ajv/lib/dotjs/validate.js","co":"node_modules/co/index.js","fast-deep-equal":"node_modules/fast-deep-equal/index.js"},"node_modules/ajv/lib/compile/resolve.js":{"fast-deep-equal":"node_modules/fast-deep-equal/index.js","./util":"node_modules/ajv/lib/compile/util.js","./schema_obj":"node_modules/ajv/lib/compile/schema_obj.js","json-schema-traverse":"node_modules/json-schema-traverse/index.js"},"node_modules/ajv/lib/compile/util.js":{"fast-deep-equal":"node_modules/fast-deep-equal/index.js","./ucs2length":"node_modules/ajv/lib/compile/ucs2length.js"},"node_modules/ajv/lib/compile/schema_obj.js":{"./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/error_classes.js":{"./resolve":"node_modules/ajv/lib/compile/resolve.js"},"node_modules/ajv/lib/compile/formats.js":{"./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/rules.js":{"./_rules":"node_modules/ajv/lib/compile/_rules.js","./util":"node_modules/ajv/lib/compile/util.js"},"node_modules/ajv/lib/compile/_rules.js":{"../dotjs/ref":"node_modules/ajv/lib/dotjs/ref.js","../dotjs/allOf":"node_modules/ajv/lib/dotjs/allOf.js","../dotjs/anyOf":"node_modules/ajv/lib/dotjs/anyOf.js","../dotjs/const":"node_modules/ajv/lib/dotjs/const.js","../dotjs/contains":"node_modules/ajv/lib/dotjs/contains.js","../dotjs/dependencies":"node_modules/ajv/lib/dotjs/dependencies.js","../dotjs/enum":"node_modules/ajv/lib/dotjs/enum.js","../dotjs/format":"node_modules/ajv/lib/dotjs/format.js","../dotjs/items":"node_modules/ajv/lib/dotjs/items.js","../dotjs/_limit":"node_modules/ajv/lib/dotjs/_limit.js","../dotjs/_limitItems":"node_modules/ajv/lib/dotjs/_limitItems.js","../dotjs/_limitLength":"node_modules/ajv/lib/dotjs/_limitLength.js","../dotjs/_limitProperties":"node_modules/ajv/lib/dotjs/_limitProperties.js","../dotjs/multipleOf":"node_modules/ajv/lib/dotjs/multipleOf.js","../dotjs/not":"node_modules/ajv/lib/dotjs/not.js","../dotjs/oneOf":"node_modules/ajv/lib/dotjs/oneOf.js","../dotjs/pattern":"node_modules/ajv/lib/dotjs/pattern.js","../dotjs/properties":"node_modules/ajv/lib/dotjs/properties.js","../dotjs/propertyNames":"node_modules/ajv/lib/dotjs/propertyNames.js","../dotjs/required":"node_modules/ajv/lib/dotjs/required.js","../dotjs/uniqueItems":"node_modules/ajv/lib/dotjs/uniqueItems.js","../dotjs/validate":"node_modules/ajv/lib/dotjs/validate.js"},"node_modules/ajv/lib/compile/async.js":{"./error_classes":"node_modules/ajv/lib/compile/error_classes.js"},"node_modules/ajv/lib/keyword.js":{"./dotjs/custom":"node_modules/ajv/lib/dotjs/custom.js"},"node_modules/har-schema/lib/index.js":{"./afterRequest.json":"node_modules/har-schema/lib/afterRequest.json","./beforeRequest.json":"node_modules/har-schema/lib/beforeRequest.json","./browser.json":"node_modules/har-schema/lib/browser.json","./cache.json":"node_modules/har-schema/lib/cache.json","./content.json":"node_modules/har-schema/lib/content.json","./cookie.json":"node_modules/har-schema/lib/cookie.json","./creator.json":"node_modules/har-schema/lib/creator.json","./entry.json":"node_modules/har-schema/lib/entry.json","./har.json":"node_modules/har-schema/lib/har.json","./header.json":"node_modules/har-schema/lib/header.json","./log.json":"node_modules/har-schema/lib/log.json","./page.json":"node_modules/har-schema/lib/page.json","./pageTimings.json":"node_modules/har-schema/lib/pageTimings.json","./postData.json":"node_modules/har-schema/lib/postData.json","./query.json":"node_modules/har-schema/lib/query.json","./request.json":"node_modules/har-schema/lib/request.json","./response.json":"node_modules/har-schema/lib/response.json","./timings.json":"node_modules/har-schema/lib/timings.json"},"node_modules/request/lib/auth.js":{"caseless":"node_modules/caseless/index.js","uuid":"node_modules/uuid/index.js","./helpers":"node_modules/request/lib/helpers.js"},"node_modules/uuid/index.js":{"./v1":"node_modules/uuid/v1.js","./v4":"node_modules/uuid/v4.js"},"node_modules/uuid/v1.js":{"./lib/rng":"node_modules/uuid/lib/rng.js","./lib/bytesToUuid":"node_modules/uuid/lib/bytesToUuid.js"},"node_modules/uuid/lib/rng.js":{},"node_modules/uuid/v4.js":{"./lib/rng":"node_modules/uuid/lib/rng.js","./lib/bytesToUuid":"node_modules/uuid/lib/bytesToUuid.js"},"node_modules/request/lib/oauth.js":{"qs":"node_modules/qs/lib/index.js","caseless":"node_modules/caseless/index.js","uuid":"node_modules/uuid/index.js","oauth-sign":"node_modules/oauth-sign/index.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/oauth-sign/index.js":{},"node_modules/request/lib/multipart.js":{"uuid":"node_modules/uuid/index.js","combined-stream":"node_modules/combined-stream/lib/combined_stream.js","isstream":"node_modules/isstream/isstream.js","safe-buffer":"node_modules/safe-buffer/index.js"},"node_modules/request/lib/redirect.js":{},"node_modules/request/lib/tunnel.js":{"tunnel-agent":"node_modules/tunnel-agent/index.js"},"node_modules/tunnel-agent/index.js":{"safe-buffer":"node_modules/safe-buffer/index.js"}},"sources":{"node_modules/lodash/lodash.min.js":"(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function o(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function f(n,t){return!(null==n||!n.length)&&-1<g(n,t,0)}function c(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function a(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function l(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function s(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function h(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function p(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function _(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function v(n,t,r,e){var u=n.length;for(r+=e?1:-1;e?r--:++r<u;)if(t(n[r],r,n))return r;return-1}function g(n,t,r){if(t==t)n:{--r;for(var e=n.length;++r<e;)if(n[r]===t){n=r;break n}n=-1}else n=v(n,y,r);return n}function d(n,t,r,e){--r;for(var u=n.length;++r<u;)if(e(n[r],t))return r;return-1}function y(n){return n!=n}function b(n,t){var r=null==n?0:n.length;return r?m(n,t)/r:T}function x(n){return function(t){return null==t?D:t[n]}}function j(n){return function(t){return null==n?D:n[t]}}function w(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function m(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==D&&(r=r===D?i:r+i)}return r}function A(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function k(n){return function(t){return n(t)}}function E(n,t){return a(t,function(t){return n[t]})}function O(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&-1<g(t,n[r],0););return r}function I(n,t){for(var r=n.length;r--&&-1<g(t,n[r],0););return r}function R(n){return\"\\\\\"+Ln[n]}function z(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function W(n,t){return function(r){return n(t(r))}}function B(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&\"__lodash_placeholder__\"!==o||(n[r]=\"__lodash_placeholder__\",i[u++]=r)}return i}function L(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function U(n){if(Sn.test(n)){for(var t=En.lastIndex=0;En.test(n);)++t;n=t}else n=Jn(n);return n}function C(n){return Sn.test(n)?n.match(En)||[]:n.split(\"\")}var D,M=1/0,T=NaN,$=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]],F=/\\b__p\\+='';/g,N=/\\b(__p\\+=)''\\+/g,P=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>\"']/g,V=RegExp(Z.source),K=RegExp(q.source),G=/<%-([\\s\\S]+?)%>/g,H=/<%([\\s\\S]+?)%>/g,J=/<%=([\\s\\S]+?)%>/g,Y=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Q=/^\\w*$/,X=/^\\./,nn=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,tn=/[\\\\^$.*+?()[\\]{}|]/g,rn=RegExp(tn.source),en=/^\\s+|\\s+$/g,un=/^\\s+/,on=/\\s+$/,fn=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,cn=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,an=/,? & /,ln=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,sn=/\\\\(\\\\)?/g,hn=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,pn=/\\w*$/,_n=/^[-+]0x[0-9a-f]+$/i,vn=/^0b[01]+$/i,gn=/^\\[object .+?Constructor\\]$/,dn=/^0o[0-7]+$/i,yn=/^(?:0|[1-9]\\d*)$/,bn=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,xn=/($^)/,jn=/['\\n\\r\\u2028\\u2029\\\\]/g,wn=\"[\\\\ufe0e\\\\ufe0f]?(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?(?:\\\\u200d(?:[^\\\\ud800-\\\\udfff]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff])[\\\\ufe0e\\\\ufe0f]?(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?)*\",mn=\"(?:[\\\\u2700-\\\\u27bf]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff])\"+wn,An=RegExp(\"[']\",\"g\"),kn=RegExp(\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",\"g\"),En=RegExp(\"\\\\ud83c[\\\\udffb-\\\\udfff](?=\\\\ud83c[\\\\udffb-\\\\udfff])|(?:[^\\\\ud800-\\\\udfff][\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]?|[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\ud800-\\\\udfff])\"+wn,\"g\"),On=RegExp([\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]?[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000]|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|$)|(?:[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000]|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde](?:[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])|$)|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]?(?:[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)|\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)|\\\\d+\",mn].join(\"|\"),\"g\"),Sn=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\"),In=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rn=\"Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout\".split(\" \"),zn={};zn[\"[object Float32Array]\"]=zn[\"[object Float64Array]\"]=zn[\"[object Int8Array]\"]=zn[\"[object Int16Array]\"]=zn[\"[object Int32Array]\"]=zn[\"[object Uint8Array]\"]=zn[\"[object Uint8ClampedArray]\"]=zn[\"[object Uint16Array]\"]=zn[\"[object Uint32Array]\"]=!0,zn[\"[object Arguments]\"]=zn[\"[object Array]\"]=zn[\"[object ArrayBuffer]\"]=zn[\"[object Boolean]\"]=zn[\"[object DataView]\"]=zn[\"[object Date]\"]=zn[\"[object Error]\"]=zn[\"[object Function]\"]=zn[\"[object Map]\"]=zn[\"[object Number]\"]=zn[\"[object Object]\"]=zn[\"[object RegExp]\"]=zn[\"[object Set]\"]=zn[\"[object String]\"]=zn[\"[object WeakMap]\"]=!1;var Wn={};Wn[\"[object Arguments]\"]=Wn[\"[object Array]\"]=Wn[\"[object ArrayBuffer]\"]=Wn[\"[object DataView]\"]=Wn[\"[object Boolean]\"]=Wn[\"[object Date]\"]=Wn[\"[object Float32Array]\"]=Wn[\"[object Float64Array]\"]=Wn[\"[object Int8Array]\"]=Wn[\"[object Int16Array]\"]=Wn[\"[object Int32Array]\"]=Wn[\"[object Map]\"]=Wn[\"[object Number]\"]=Wn[\"[object Object]\"]=Wn[\"[object RegExp]\"]=Wn[\"[object Set]\"]=Wn[\"[object String]\"]=Wn[\"[object Symbol]\"]=Wn[\"[object Uint8Array]\"]=Wn[\"[object Uint8ClampedArray]\"]=Wn[\"[object Uint16Array]\"]=Wn[\"[object Uint32Array]\"]=!0,Wn[\"[object Error]\"]=Wn[\"[object Function]\"]=Wn[\"[object WeakMap]\"]=!1;var Bn,Ln={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Un=parseFloat,Cn=parseInt,Dn=\"object\"==typeof global&&global&&global.Object===Object&&global,Mn=\"object\"==typeof self&&self&&self.Object===Object&&self,Tn=Dn||Mn||Function(\"return this\")(),$n=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,Fn=$n&&\"object\"==typeof module&&module&&!module.nodeType&&module,Nn=Fn&&Fn.exports===$n,Pn=Nn&&Dn.process;n:{try{Bn=Pn&&Pn.binding&&Pn.binding(\"util\");break n}catch(n){}Bn=void 0}var Zn=Bn&&Bn.isArrayBuffer,qn=Bn&&Bn.isDate,Vn=Bn&&Bn.isMap,Kn=Bn&&Bn.isRegExp,Gn=Bn&&Bn.isSet,Hn=Bn&&Bn.isTypedArray,Jn=x(\"length\"),Yn=j({\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"C\",\"\":\"c\",\"\":\"D\",\"\":\"d\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"N\",\"\":\"n\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"Y\",\"\":\"y\",\"\":\"y\",\"\":\"Ae\",\"\":\"ae\",\"\":\"Th\",\"\":\"th\",\"\":\"ss\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"D\",\"\":\"D\",\"\":\"d\",\"\":\"d\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"H\",\"\":\"H\",\"\":\"h\",\"\":\"h\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"J\",\"\":\"j\",\"\":\"K\",\"\":\"k\",\"\":\"k\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"W\",\"\":\"w\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"IJ\",\"\":\"ij\",\"\":\"Oe\",\"\":\"oe\",\"\":\"'n\",\"\":\"s\"}),Qn=j({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"}),Xn=j({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"}),nt=function j(wn){function mn(n){if(qe(n)&&!Bo(n)&&!(n instanceof Ln)){if(n instanceof Bn)return n;if(Bu.call(n,\"__wrapped__\"))return ve(n)}return new Bn(n)}function En(){}function Bn(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=D}function Ln(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Mn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function $n(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Fn(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new $n;++t<r;)this.add(n[t])}function Pn(n){this.size=(this.__data__=new Mn(n)).size}function Jn(n,t){var r,e=Bo(n),u=!e&&Wo(n),i=!e&&!u&&Uo(n),o=!e&&!u&&!i&&$o(n),f=(u=(e=e||u||i||o)?A(n.length,Ou):[]).length;for(r in n)!t&&!Bu.call(n,r)||e&&(\"length\"==r||i&&(\"offset\"==r||\"parent\"==r)||o&&(\"buffer\"==r||\"byteLength\"==r||\"byteOffset\"==r)||re(r,f))||u.push(r);return u}function tt(n){var t=n.length;return t?n[qt(0,t-1)]:D}function rt(n,t,r){(r===D||De(n[t],r))&&(r!==D||t in n)||ft(n,t,r)}function et(n,t,r){var e=n[t];Bu.call(n,t)&&De(e,r)&&(r!==D||t in n)||ft(n,t,r)}function ut(n,t){for(var r=n.length;r--;)if(De(n[r][0],t))return r;return-1}function it(n,t,r,e){return zi(n,function(n,u,i){t(e,n,r(n),i)}),e}function ot(n,t){return n&&br(t,iu(t),n)}function ft(n,t,r){\"__proto__\"==t&&Yu?Yu(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function ct(n,t){for(var r=-1,e=t.length,u=xu(e),i=null==n;++r<e;)u[r]=i?D:eu(n,t[r]);return u}function at(n,t,r){return n==n&&(r!==D&&(n=n<=r?n:r),t!==D&&(n=n>=t?n:t)),n}function lt(r,e,i,o,f,c){var a,l=1&e,h=2&e,p=4&e;if(i&&(a=f?i(r,o,f,c):i(r)),a!==D)return a;if(!Ze(r))return r;if(o=Bo(r)){if(a=function(n){var t=n.length,r=n.constructor(t);return t&&\"string\"==typeof n[0]&&Bu.call(n,\"index\")&&(r.index=n.index,r.input=n.input),r}(r),!l)return yr(r,a)}else{var _=Ni(r),v=\"[object Function]\"==_||\"[object GeneratorFunction]\"==_;if(Uo(r))return hr(r,l);if(\"[object Object]\"==_||\"[object Arguments]\"==_||v&&!f){if(a=h||v?{}:ne(r),!l)return h?function(n,t){return br(n,Fi(n),t)}(r,function(n,t){return n&&br(t,ou(t),n)}(a,r)):function(n,t){return br(n,$i(n),t)}(r,ot(a,r))}else{if(!Wn[_])return f?r:{};a=function(r,e,u,i){var o=r.constructor;switch(e){case\"[object ArrayBuffer]\":return pr(r);case\"[object Boolean]\":case\"[object Date]\":return new o(+r);case\"[object DataView]\":return e=i?pr(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return _r(r,i);case\"[object Map]\":return e=i?u(z(r),1):z(r),s(e,n,new r.constructor);case\"[object Number]\":case\"[object String]\":return new o(r);case\"[object RegExp]\":return e=new r.constructor(r.source,pn.exec(r)),e.lastIndex=r.lastIndex,e;case\"[object Set]\":return e=i?u(L(r),1):L(r),s(e,t,new r.constructor);case\"[object Symbol]\":return Si?ku(Si.call(r)):{}}}(r,_,lt,l)}}if(c||(c=new Pn),f=c.get(r))return f;c.set(r,a);h=p?h?Vr:qr:h?ou:iu;var g=o?D:h(r);return u(g||r,function(n,t){g&&(t=n,n=r[t]),et(a,t,lt(n,e,i,t,r,c))}),a}function st(n,t,r){var e=r.length;if(null==n)return!e;for(n=ku(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===D&&!(u in n)||!i(o))return!1}return!0}function ht(n,t,r){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return qi(function(){n.apply(D,r)},t)}function pt(n,t,r,e){var u=-1,i=f,o=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=a(t,k(r))),e?(i=c,o=!1):200<=t.length&&(i=O,o=!1,t=new Fn(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);p=e||0!==p?p:0;if(o&&_==_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function _t(n,t){var r=!0;return zi(n,function(n,e,u){return r=!!t(n,e,u)}),r}function vt(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===D?o==o&&!He(o):r(o,f)))var f=o,c=i}return c}function gt(n,t){var r=[];return zi(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function dt(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=te),u||(u=[]);++i<o;){var f=n[i];0<t&&r(f)?1<t?dt(f,t-1,r,e,u):l(u,f):e||(u[u.length]=f)}return u}function yt(n,t){return n&&Bi(n,t,iu)}function bt(n,t){return n&&Li(n,t,iu)}function xt(n,t){return o(t,function(t){return Fe(n[t])})}function jt(n,t){for(var r=0,e=(t=lr(t,n)).length;null!=n&&r<e;)n=n[he(t[r++])];return r&&r==e?n:D}function wt(n,t,r){return t=t(n),Bo(n)?t:l(t,r(n))}function mt(n){if(null==n)n=n===D?\"[object Undefined]\":\"[object Null]\";else if(Ju&&Ju in ku(n)){var t=Bu.call(n,Ju),r=n[Ju];try{n[Ju]=D;var e=!0}catch(n){}var u=Cu.call(n);e&&(t?n[Ju]=r:delete n[Ju]),n=u}else n=Cu.call(n);return n}function At(n,t){return n>t}function kt(n,t){return null!=n&&Bu.call(n,t)}function Et(n,t){return null!=n&&t in ku(n)}function Ot(n,t,r){for(var e=r?c:f,u=n[0].length,i=n.length,o=i,l=xu(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=a(p,k(t))),s=ai(p.length,s),l[o]=!r&&(t||120<=u&&120<=p.length)?new Fn(o&&p):D}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],d=t?t(g):g;g=r||0!==g?g:0;if(v?!O(v,d):!e(h,d,r)){for(o=i;--o;){var y=l[o];if(y?!O(y,d):!e(n[o],d,r))continue n}v&&v.push(d),h.push(g)}}return h}function St(n,t,e){return t=lr(t,n),n=2>t.length?n:jt(n,Ht(t,0,-1)),null==(t=null==n?n:n[he(xe(t))])?D:r(t,n,e)}function It(n){return qe(n)&&\"[object Arguments]\"==mt(n)}function Rt(n,t,r,e,u){if(n===t)t=!0;else if(null==n||null==t||!qe(n)&&!qe(t))t=n!=n&&t!=t;else n:{var i=Bo(n),o=Bo(t),f=i?\"[object Array]\":Ni(n),c=o?\"[object Array]\":Ni(t),a=\"[object Object]\"==(f=\"[object Arguments]\"==f?\"[object Object]\":f);o=\"[object Object]\"==(c=\"[object Arguments]\"==c?\"[object Object]\":c);if((c=f==c)&&Uo(n)){if(!Uo(t)){t=!1;break n}i=!0,a=!1}if(c&&!a)u||(u=new Pn),t=i||$o(n)?Pr(n,t,r,e,Rt,u):function(n,t,r,e,u,i,o){switch(r){case\"[object DataView]\":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)break;n=n.buffer,t=t.buffer;case\"[object ArrayBuffer]\":if(n.byteLength!=t.byteLength||!i(new Nu(n),new Nu(t)))break;return!0;case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return De(+n,+t);case\"[object Error]\":return n.name==t.name&&n.message==t.message;case\"[object RegExp]\":case\"[object String]\":return n==t+\"\";case\"[object Map]\":var f=z;case\"[object Set]\":if(f||(f=L),n.size!=t.size&&!(1&e))break;return(r=o.get(n))?r==t:(e|=2,o.set(n,t),t=Pr(f(n),f(t),e,u,i,o),o.delete(n),t);case\"[object Symbol]\":if(Si)return Si.call(n)==Si.call(t)}return!1}(n,t,f,r,e,Rt,u);else{if(!(1&r)&&(i=a&&Bu.call(n,\"__wrapped__\"),f=o&&Bu.call(t,\"__wrapped__\"),i||f)){n=i?n.value():n,t=f?t.value():t,u||(u=new Pn),t=Rt(n,t,r,e,u);break n}if(c)t:if(u||(u=new Pn),i=1&r,f=qr(n),o=f.length,c=qr(t).length,o==c||i){for(a=o;a--;){var l=f[a];if(!(i?l in t:Bu.call(t,l))){t=!1;break t}}if((c=u.get(n))&&u.get(t))t=c==t;else{c=!0,u.set(n,t),u.set(t,n);for(var s=i;++a<o;){var h=n[l=f[a]],p=t[l];if(e)var _=i?e(p,h,l,t,n,u):e(h,p,l,n,t,u);if(_===D?h!==p&&!Rt(h,p,r,e,u):!_){c=!1;break}s||(s=\"constructor\"==l)}c&&!s&&(r=n.constructor,e=t.constructor,r!=e&&\"constructor\"in n&&\"constructor\"in t&&!(\"function\"==typeof r&&r instanceof r&&\"function\"==typeof e&&e instanceof e)&&(c=!1)),u.delete(n),u.delete(t),t=c}}else t=!1;else t=!1}}return t}function zt(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ku(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){var c=(f=r[u])[0],a=n[c],l=f[1];if(o&&f[2]){if(a===D&&!(c in n))return!1}else{if(f=new Pn,e)var s=e(a,l,c,n,t,f);if(s===D?!Rt(l,a,3,e,f):!s)return!1}}return!0}function Wt(n){return!(!Ze(n)||Uu&&Uu in n)&&(Fe(n)?Tu:gn).test(pe(n))}function Bt(n){return\"function\"==typeof n?n:null==n?pu:\"object\"==typeof n?Bo(n)?Mt(n[0],n[1]):Dt(n):du(n)}function Lt(n){if(!oe(n))return fi(n);var t,r=[];for(t in ku(n))Bu.call(n,t)&&\"constructor\"!=t&&r.push(t);return r}function Ut(n,t){return n<t}function Ct(n,t){var r=-1,e=Me(n)?xu(n.length):[];return zi(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Dt(n){var t=Yr(n);return 1==t.length&&t[0][2]?fe(t[0][0],t[0][1]):function(r){return r===n||zt(r,n,t)}}function Mt(n,t){return ue(n)&&t==t&&!Ze(t)?fe(he(n),t):function(r){var e=eu(r,n);return e===D&&e===t?uu(r,n):Rt(t,e,3)}}function Tt(n,t,r,e,u){n!==t&&Bi(t,function(i,o){if(Ze(i)){u||(u=new Pn);var f=u,c=n[o],a=t[o];if(_=f.get(a))rt(n,o,_);else{var l=(_=e?e(c,a,o+\"\",n,t,f):D)===D;if(l){var s=Bo(a),h=!s&&Uo(a),p=!s&&!h&&$o(a),_=a;s||h||p?Bo(c)?_=c:Te(c)?_=yr(c):h?(l=!1,_=hr(a,!0)):p?(l=!1,_=_r(a,!0)):_=[]:Ke(a)||Wo(a)?(_=c,Wo(c)?_=tu(c):(!Ze(c)||r&&Fe(c))&&(_=ne(a))):l=!1}l&&(f.set(a,_),Tt(_,a,r,e,f),f.delete(a)),rt(n,o,_)}}else(f=e?e(n[o],i,o+\"\",n,t,u):D)===D&&(f=i),rt(n,o,f)},ou)}function $t(n,t){var r=n.length;if(r)return t+=0>t?r:0,re(t,r)?n[t]:D}function Ft(n,t,r){var e=-1;return t=a(t.length?t:[pu],k(Hr())),n=Ct(n,function(n){return{a:a(t,function(t){return t(n)}),b:++e,c:n}}),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}(n,function(n,t){var e;n:{e=-1;for(var u=n.a,i=t.a,o=u.length,f=r.length;++e<o;){var c=vr(u[e],i[e]);if(c){e=e>=f?c:c*(\"desc\"==r[e]?-1:1);break n}}e=n.b-t.b}return e})}function Nt(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=jt(n,o);r(f,o)&&Gt(i,lr(o,n),f)}return i}function Pt(n,t,r,e){var u=e?d:g,i=-1,o=t.length,f=n;for(n===t&&(t=yr(t)),r&&(f=a(n,k(r)));++i<o;){var c=0,l=t[i];for(l=r?r(l):l;-1<(c=u(f,l,c,e));)f!==n&&Ku.call(f,c,1),Ku.call(n,c,1)}return n}function Zt(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;re(u)?Ku.call(n,u,1):er(n,u)}}}function qt(n,t){return n+ri(hi()*(t-n+1))}function Vt(n,t){var r=\"\";if(!n||1>t||9007199254740991<t)return r;do{t%2&&(r+=n),(t=ri(t/2))&&(n+=n)}while(t);return r}function Kt(n,t){return Vi(ce(n,t,pu),n+\"\")}function Gt(n,t,r,e){if(!Ze(n))return n;for(var u=-1,i=(t=lr(t,n)).length,o=i-1,f=n;null!=f&&++u<i;){var c=he(t[u]),a=r;if(u!=o){var l=f[c];(a=e?e(l,c,f):D)===D&&(a=Ze(l)?l:re(t[u+1])?[]:{})}et(f,c,a),f=f[c]}return n}function Ht(n,t,r){var e=-1,u=n.length;for(0>t&&(t=-t>u?0:u+t),0>(r=r>u?u:r)&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=xu(u);++e<u;)r[e]=n[e+t];return r}function Jt(n,t){var r;return zi(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Yt(n,t,r){var e=0,u=null==n?e:n.length;if(\"number\"==typeof t&&t==t&&2147483647>=u){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!He(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Qt(n,t,pu,r)}function Qt(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!=t,f=null===t,c=He(t),a=t===D;u<i;){var l=ri((u+i)/2),s=r(n[l]),h=s!==D,p=null===s,_=s==s,v=He(s);(o?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t))?u=l+1:i=l}return ai(i,4294967294)}function Xt(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!De(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function nr(n){return\"number\"==typeof n?n:He(n)?T:+n}function tr(n){if(\"string\"==typeof n)return n;if(Bo(n))return a(n,tr)+\"\";if(He(n))return Ii?Ii.call(n):\"\";var t=n+\"\";return\"0\"==t&&1/n==-M?\"-0\":t}function rr(n,t,r){var e=-1,u=f,i=n.length,o=!0,a=[],l=a;if(r)o=!1,u=c;else if(200<=i){if(u=t?null:Mi(n))return L(u);o=!1,u=O,l=new Fn}else l=t?[]:a;n:for(;++e<i;){var s=n[e],h=t?t(s):s;s=r||0!==s?s:0;if(o&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue n;t&&l.push(h),a.push(s)}else u(l,h,r)||(l!==a&&l.push(h),a.push(s))}return a}function er(n,t){return t=lr(t,n),null==(n=2>t.length?n:jt(n,Ht(t,0,-1)))||delete n[he(xe(t))]}function ur(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Ht(n,e?0:i,e?i+1:u):Ht(n,e?i+1:0,e?u:i)}function ir(n,t){var r=n;return r instanceof Ln&&(r=r.value()),s(t,function(n,t){return t.func.apply(t.thisArg,l([n],t.args))},r)}function or(n,t,r){var e=n.length;if(2>e)return e?rr(n[0]):[];for(var u=-1,i=xu(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=pt(i[u]||o,n[f],t,r));return rr(dt(i,1),t,r)}function fr(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:D);return o}function cr(n){return Te(n)?n:[]}function ar(n){return\"function\"==typeof n?n:pu}function lr(n,t){return Bo(n)?n:ue(n,t)?[n]:Ki(ru(n))}function sr(n,t,r){var e=n.length;return r=r===D?e:r,!t&&r>=e?n:Ht(n,t,r)}function hr(n,t){if(t)return n.slice();var r=n.length;r=Pu?Pu(r):new n.constructor(r);return n.copy(r),r}function pr(n){var t=new n.constructor(n.byteLength);return new Nu(t).set(new Nu(n)),t}function _r(n,t){return new n.constructor(t?pr(n.buffer):n.buffer,n.byteOffset,n.length)}function vr(n,t){if(n!==t){var r=n!==D,e=null===n,u=n==n,i=He(n),o=t!==D,f=null===t,c=t==t,a=He(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function gr(n,t,r,e){var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=ci(i-o,0),l=xu(c+a);for(e=!e;++f<c;)l[f]=t[f];for(;++u<o;)(e||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function dr(n,t,r,e){var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=ci(i-f,0),s=xu(l+a);for(e=!e;++u<l;)s[u]=n[u];for(l=u;++c<a;)s[l+c]=t[c];for(;++o<f;)(e||u<i)&&(s[l+r[o]]=n[u++]);return s}function yr(n,t){var r=-1,e=n.length;for(t||(t=xu(e));++r<e;)t[r]=n[r];return t}function br(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):D;c===D&&(c=n[f]),u?ft(r,f,c):et(r,f,c)}return r}function xr(n,t){return function(r,u){var i=Bo(r)?e:it,o=t?t():{};return i(r,n,Hr(u,2),o)}}function jr(n){return Kt(function(t,r){var e=-1,u=r.length,i=1<u?r[u-1]:D,o=2<u?r[2]:D;i=3<n.length&&\"function\"==typeof i?(u--,i):D;for(o&&ee(r[0],r[1],o)&&(i=3>u?D:i,u=1),t=ku(t);++e<u;)(o=r[e])&&n(t,o,e,i);return t})}function wr(n,t){return function(r,e){if(null==r)return r;if(!Me(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ku(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function mr(n){return function(t,r,e){for(var u=-1,i=ku(t),o=(e=e(t)).length;o--;){var f=e[n?o:++u];if(!1===r(i[f],f,i))break}return t}}function Ar(n){return function(t){t=ru(t);var r=Sn.test(t)?C(t):D,e=r?r[0]:t.charAt(0);return t=r?sr(r,1).join(\"\"):t.slice(1),e[n]()+t}}function kr(n){return function(t){return s(su(lu(t).replace(An,\"\")),n,\"\")}}function Er(n){return function(){switch((t=arguments).length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var t,r=Ri(n.prototype);return Ze(t=n.apply(r,t))?t:r}}function Or(n){return function(t,r,e){var u=ku(t);if(!Me(t)){var i=Hr(r,3);t=iu(t),r=function(n){return i(u[n],n,u)}}return-1<(r=n(t,r,e))?u[i?t[r]:r]:D}}function Sr(n){return Zr(function(t){var r=t.length,e=r,u=Bn.prototype.thru;for(n&&t.reverse();e--;){if(\"function\"!=typeof(o=t[e]))throw new Su(\"Expected a function\");if(u&&!i&&\"wrapper\"==Kr(o))var i=new Bn([],!0)}for(e=i?e:r;++e<r;){var o=t[e],f=(u=Kr(o),\"wrapper\"==u?Ti(o):D);i=f&&ie(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?i[Kr(f[0])].apply(i,f[3]):1==o.length&&ie(o)?i[u]():i.thru(o)}return function(){var n=(u=arguments)[0];if(i&&1==u.length&&Bo(n))return i.plant(n).value();for(var e=0,u=r?t[e].apply(this,u):n;++e<r;)u=t[e].call(this,u);return u}})}function Ir(n,t,r,e,u,i,o,f,c,a){function l(){for(var d=arguments.length,y=xu(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=Gr(l);b=y.length;for(x=0;b--;)y[b]===j&&++x}if(e&&(y=gr(y,e,u,_)),i&&(y=dr(y,i,o,_)),d-=x,_&&d<a)return j=B(y,j),Cr(n,t,Ir,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[n]:n,d=y.length,f){x=y.length;for(var w=ai(f.length,x),m=yr(y);w--;){var A=f[w];y[w]=re(A,x)?m[A]:D}}else v&&1<d&&y.reverse();return s&&c<d&&(y.length=c),this&&this!==Tn&&this instanceof l&&(b=g||Er(b)),b.apply(j,y)}var s=128&t,h=1&t,p=2&t,_=24&t,v=512&t,g=p?D:Er(n);return l}function Rr(n,t){return function(r,e){return function(n,t,r){var e={};return yt(n,function(n,u,i){t(e,r(n),u,i)}),e}(r,n,t(e))}}function zr(n,t){return function(r,e){var u;if(r===D&&e===D)return t;if(r!==D&&(u=r),e!==D){if(u===D)return e;\"string\"==typeof r||\"string\"==typeof e?(r=tr(r),e=tr(e)):(r=nr(r),e=nr(e)),u=n(r,e)}return u}}function Wr(n){return Zr(function(t){return t=a(t,k(Hr())),Kt(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function Br(n,t){var r=(t=t===D?\" \":tr(t)).length;return 2>r?r?Vt(t,n):t:(r=Vt(t,ti(n/U(t))),Sn.test(t)?sr(C(r),0,n).join(\"\"):r.slice(0,n))}function Lr(n){return function(t,r,e){e&&\"number\"!=typeof e&&ee(t,r,e)&&(r=e=D),t=Ye(t),r===D?(r=t,t=0):r=Ye(r),e=e===D?t<r?1:-1:Ye(e);var u=-1;r=ci(ti((r-t)/(e||1)),0);for(var i=xu(r);r--;)i[n?r:++u]=t,t+=e;return i}}function Ur(n){return function(t,r){return\"string\"==typeof t&&\"string\"==typeof r||(t=nu(t),r=nu(r)),n(t,r)}}function Cr(n,t,r,e,u,i,o,f,c,a){var l=8&t,s=l?o:D;o=l?D:o;var h=l?i:D;return i=l?D:i,4&(t=(t|(l?32:64))&~(l?64:32))||(t&=-4),u=[n,t,u,h,s,i,o,f,c,a],r=r.apply(D,u),ie(n)&&Zi(r,u),r.placeholder=e,ae(r,n,t)}function Dr(n){var t=Au[n];return function(n,r){if(n=nu(n),r=null==r?0:ai(Qe(r),292)){var e=(ru(n)+\"e\").split(\"e\");return+((e=(ru(e=t(e[0]+\"e\"+(+e[1]+r)))+\"e\").split(\"e\"))[0]+\"e\"+(+e[1]-r))}return t(n)}}function Mr(n){return function(t){var r=Ni(t);return\"[object Map]\"==r?z(t):\"[object Set]\"==r?function(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}(t):function(n,t){return a(t,function(t){return[t,n[t]]})}(t,n(t))}}function Tr(n,t,e,u,i,o,f,c){var a=2&t;if(!a&&\"function\"!=typeof n)throw new Su(\"Expected a function\");var l=u?u.length:0;if(l||(t&=-97,u=i=D),f=f===D?f:ci(Qe(f),0),c=c===D?c:Qe(c),l-=i?i.length:0,64&t){var s=u,h=i;u=i=D}var p=a?D:Ti(n);return o=[n,t,e,u,i,s,h,o,f,c],p&&(e=o[1],n=p[1],t=e|n,u=128==n&&8==e||128==n&&256==e&&o[7].length<=p[8]||384==n&&p[7].length<=p[8]&&8==e,131>t||u)&&(1&n&&(o[2]=p[2],t|=1&e?0:4),(e=p[3])&&(u=o[3],o[3]=u?gr(u,e,p[4]):e,o[4]=u?B(o[3],\"__lodash_placeholder__\"):p[4]),(e=p[5])&&(u=o[5],o[5]=u?dr(u,e,p[6]):e,o[6]=u?B(o[5],\"__lodash_placeholder__\"):p[6]),(e=p[7])&&(o[7]=e),128&n&&(o[8]=null==o[8]?p[8]:ai(o[8],p[8])),null==o[9]&&(o[9]=p[9]),o[0]=p[0],o[1]=t),n=o[0],t=o[1],e=o[2],u=o[3],i=o[4],!(c=o[9]=o[9]===D?a?0:n.length:ci(o[9]-l,0))&&24&t&&(t&=-25),ae((p?Ui:Zi)(t&&1!=t?8==t||16==t?function(n,t,e){function u(){for(var o=arguments.length,f=xu(o),c=o,a=Gr(u);c--;)f[c]=arguments[c];return c=3>o&&f[0]!==a&&f[o-1]!==a?[]:B(f,a),(o-=c.length)<e?Cr(n,t,Ir,u.placeholder,D,f,c,D,D,e-o):r(this&&this!==Tn&&this instanceof u?i:n,this,f)}var i=Er(n);return u}(n,t,c):32!=t&&33!=t||i.length?Ir.apply(D,o):function(n,t,e,u){function i(){for(var t=-1,c=arguments.length,a=-1,l=u.length,s=xu(l+c),h=this&&this!==Tn&&this instanceof i?f:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++t];return r(h,o?e:this,s)}var o=1&t,f=Er(n);return i}(n,t,e,u):function(n,t,r){function e(){return(this&&this!==Tn&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=1&t,i=Er(n);return e}(n,t,e),o),n,t)}function $r(n,t,r,e){return n===D||De(n,Ru[r])&&!Bu.call(e,r)?t:n}function Fr(n,t,r,e,u,i){return Ze(n)&&Ze(t)&&(i.set(t,n),Tt(n,t,D,Fr,i),i.delete(t)),n}function Nr(n){return Ke(n)?D:n}function Pr(n,t,r,e,u,i){var o=1&r,f=n.length;if(f!=(c=t.length)&&!(o&&c>f))return!1;if((c=i.get(n))&&i.get(t))return c==t;var c=-1,a=!0,l=2&r?new Fn:D;for(i.set(n,t),i.set(t,n);++c<f;){var s=n[c],h=t[c];if(e)var _=o?e(h,s,c,t,n,i):e(s,h,c,n,t,i);if(_!==D){if(_)continue;a=!1;break}if(l){if(!p(t,function(n,t){if(!O(l,t)&&(s===n||u(s,n,r,e,i)))return l.push(t)})){a=!1;break}}else if(s!==h&&!u(s,h,r,e,i)){a=!1;break}}return i.delete(n),i.delete(t),a}function Zr(n){return Vi(ce(n,D,ye),n+\"\")}function qr(n){return wt(n,iu,$i)}function Vr(n){return wt(n,ou,Fi)}function Kr(n){for(var t=n.name+\"\",r=ji[t],e=Bu.call(ji,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Gr(n){return(Bu.call(mn,\"placeholder\")?mn:n).placeholder}function Hr(){var n=(n=mn.iteratee||_u)===_u?Bt:n;return arguments.length?n(arguments[0],arguments[1]):n}function Jr(n,t){var r=n.__data__,e=typeof t;return(\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function Yr(n){for(var t=iu(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,u==u&&!Ze(u)]}return t}function Qr(n,t){var r=null==n?D:n[t];return Wt(r)?r:D}function Xr(n,t,r){for(var e=-1,u=(t=lr(t,n)).length,i=!1;++e<u;){var o=he(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&Pe(u)&&re(o,u)&&(Bo(n)||Wo(n))}function ne(n){return\"function\"!=typeof n.constructor||oe(n)?{}:Ri(Zu(n))}function te(n){return Bo(n)||Wo(n)||!!(Gu&&n&&n[Gu])}function re(n,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof n||yn.test(n))&&-1<n&&0==n%1&&n<t}function ee(n,t,r){if(!Ze(r))return!1;var e=typeof t;return!!(\"number\"==e?Me(r)&&re(t,r.length):\"string\"==e&&t in r)&&De(r[t],n)}function ue(n,t){if(Bo(n))return!1;var r=typeof n;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=n&&!He(n))||Q.test(n)||!Y.test(n)||null!=t&&n in ku(t)}function ie(n){var t=Kr(n),r=mn[t];return\"function\"==typeof r&&t in Ln.prototype&&(n===r||!!(t=Ti(r))&&n===t[0])}function oe(n){var t=n&&n.constructor;return n===(\"function\"==typeof t&&t.prototype||Ru)}function fe(n,t){return function(r){return null!=r&&r[n]===t&&(t!==D||n in ku(r))}}function ce(n,t,e){return t=ci(t===D?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=ci(u.length-t,0),f=xu(o);++i<o;)f[i]=u[t+i];for(i=-1,o=xu(t+1);++i<t;)o[i]=u[i];return o[t]=e(f),r(n,this,o)}}function ae(n,t,r){var e=t+\"\";t=Vi;var u,i=_e;return u=(u=e.match(cn))?u[1].split(an):[],r=i(u,r),(i=r.length)&&(u=i-1,r[u]=(1<i?\"& \":\"\")+r[u],r=r.join(2<i?\", \":\" \"),e=e.replace(fn,\"{\\n/* [wrapped with \"+r+\"] */\\n\")),t(n,e)}function le(n){var t=0,r=0;return function(){var e=li(),u=16-(e-r);if(r=e,0<u){if(800<=++t)return arguments[0]}else t=0;return n.apply(D,arguments)}}function se(n,t){var r=-1,e=(u=n.length)-1;for(t=t===D?u:t;++r<t;){var u,i=n[u=qt(r,e)];n[u]=n[r],n[r]=i}return n.length=t,n}function he(n){if(\"string\"==typeof n||He(n))return n;var t=n+\"\";return\"0\"==t&&1/n==-M?\"-0\":t}function pe(n){if(null!=n){try{return Wu.call(n)}catch(n){}return n+\"\"}return\"\"}function _e(n,t){return u($,function(r){var e=\"_.\"+r[0];t&r[1]&&!f(n,e)&&n.push(e)}),n.sort()}function ve(n){if(n instanceof Ln)return n.clone();var t=new Bn(n.__wrapped__,n.__chain__);return t.__actions__=yr(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function ge(n,t,r){var e=null==n?0:n.length;return e?(0>(r=null==r?0:Qe(r))&&(r=ci(e+r,0)),v(n,Hr(t,3),r)):-1}function de(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==D&&(u=Qe(r),u=0>r?ci(e+u,0):ai(u,e-1)),v(n,Hr(t,3),u,!0)}function ye(n){return null!=n&&n.length?dt(n,1):[]}function be(n){return n&&n.length?n[0]:D}function xe(n){var t=null==n?0:n.length;return t?n[t-1]:D}function je(n,t){return n&&n.length&&t&&t.length?Pt(n,t):n}function we(n){return null==n?n:pi.call(n)}function me(n){if(!n||!n.length)return[];var t=0;return n=o(n,function(n){if(Te(n))return t=ci(n.length,t),!0}),A(t,function(t){return a(n,x(t))})}function Ae(n,t){if(!n||!n.length)return[];var e=me(n);return null==t?e:a(e,function(n){return r(t,D,n)})}function ke(n){return n=mn(n),n.__chain__=!0,n}function Ee(n,t){return t(n)}function Oe(n,t){return(Bo(n)?u:zi)(n,Hr(t,3))}function Se(n,t){return(Bo(n)?function(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}:Wi)(n,Hr(t,3))}function Ie(n,t){return(Bo(n)?a:Ct)(n,Hr(t,3))}function Re(n,t,r){return t=r?D:t,t=n&&null==t?n.length:t,Tr(n,128,D,D,D,D,t)}function ze(n,t){var r;if(\"function\"!=typeof t)throw new Su(\"Expected a function\");return n=Qe(n),function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=D),r}}function We(n,t,r){return t=r?D:t,n=Tr(n,8,D,D,D,D,D,t),n.placeholder=We.placeholder,n}function Be(n,t,r){return t=r?D:t,n=Tr(n,16,D,D,D,D,D,t),n.placeholder=Be.placeholder,n}function Le(n,t,r){function e(t){var r=c,e=a;return c=a=D,_=t,s=n.apply(e,r)}function u(n){var r=n-p;return n-=_,p===D||r>=t||0>r||g&&n>=l}function i(){var n=jo();if(u(n))return o(n);var r,e=qi;r=n-_,n=t-(n-p),r=g?ai(n,l-r):n,h=e(i,r)}function o(n){return h=D,d&&c?e(n):(c=a=D,s)}function f(){var n=jo(),r=u(n);if(c=arguments,a=this,p=n,r){if(h===D)return _=n=p,h=qi(i,t),v?e(n):s;if(g)return h=qi(i,t),e(p)}return h===D&&(h=qi(i,t)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,d=!0;if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=nu(t)||0,Ze(r)&&(v=!!r.leading,l=(g=\"maxWait\"in r)?ci(nu(r.maxWait)||0,t):l,d=\"trailing\"in r?!!r.trailing:d),f.cancel=function(){h!==D&&Di(h),_=0,c=p=a=h=D},f.flush=function(){return h===D?s:o(jo())},f}function Ue(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e)||i,e)}if(\"function\"!=typeof n||null!=t&&\"function\"!=typeof t)throw new Su(\"Expected a function\");return r.cache=new(Ue.Cache||$n),r}function Ce(n){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function De(n,t){return n===t||n!=n&&t!=t}function Me(n){return null!=n&&Pe(n.length)&&!Fe(n)}function Te(n){return qe(n)&&Me(n)}function $e(n){if(!qe(n))return!1;var t=mt(n);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof n.message&&\"string\"==typeof n.name&&!Ke(n)}function Fe(n){return!!Ze(n)&&(\"[object Function]\"==(n=mt(n))||\"[object GeneratorFunction]\"==n||\"[object AsyncFunction]\"==n||\"[object Proxy]\"==n)}function Ne(n){return\"number\"==typeof n&&n==Qe(n)}function Pe(n){return\"number\"==typeof n&&-1<n&&0==n%1&&9007199254740991>=n}function Ze(n){var t=typeof n;return null!=n&&(\"object\"==t||\"function\"==t)}function qe(n){return null!=n&&\"object\"==typeof n}function Ve(n){return\"number\"==typeof n||qe(n)&&\"[object Number]\"==mt(n)}function Ke(n){return!(!qe(n)||\"[object Object]\"!=mt(n))&&(null===(n=Zu(n))||\"function\"==typeof(n=Bu.call(n,\"constructor\")&&n.constructor)&&n instanceof n&&Wu.call(n)==Du)}function Ge(n){return\"string\"==typeof n||!Bo(n)&&qe(n)&&\"[object String]\"==mt(n)}function He(n){return\"symbol\"==typeof n||qe(n)&&\"[object Symbol]\"==mt(n)}function Je(n){if(!n)return[];if(Me(n))return Ge(n)?C(n):yr(n);if(Hu&&n[Hu]){n=n[Hu]();for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}return(\"[object Map]\"==(t=Ni(n))?z:\"[object Set]\"==t?L:cu)(n)}function Ye(n){return n?(n=nu(n))===M||n===-M?1.7976931348623157e308*(0>n?-1:1):n==n?n:0:0===n?n:0}function Qe(n){var t=(n=Ye(n))%1;return n==n?t?n-t:n:0}function Xe(n){return n?at(Qe(n),0,4294967295):0}function nu(n){if(\"number\"==typeof n)return n;if(He(n))return T;if(Ze(n)&&(n=\"function\"==typeof n.valueOf?n.valueOf():n,n=Ze(n)?n+\"\":n),\"string\"!=typeof n)return 0===n?n:+n;n=n.replace(en,\"\");var t=vn.test(n);return t||dn.test(n)?Cn(n.slice(2),t?2:8):_n.test(n)?T:+n}function tu(n){return br(n,ou(n))}function ru(n){return null==n?\"\":tr(n)}function eu(n,t,r){return(n=null==n?D:jt(n,t))===D?r:n}function uu(n,t){return null!=n&&Xr(n,t,Et)}function iu(n){return Me(n)?Jn(n):Lt(n)}function ou(n){if(Me(n))n=Jn(n,!0);else if(Ze(n)){var t,r=oe(n),e=[];for(t in n)(\"constructor\"!=t||!r&&Bu.call(n,t))&&e.push(t);n=e}else{if(t=[],null!=n)for(r in ku(n))t.push(r);n=t}return n}function fu(n,t){if(null==n)return{};var r=a(Vr(n),function(n){return[n]});return t=Hr(t),Nt(n,r,function(n,r){return t(n,r[0])})}function cu(n){return null==n?[]:E(n,iu(n))}function au(n){return pf(ru(n).toLowerCase())}function lu(n){return(n=ru(n))&&n.replace(bn,Yn).replace(kn,\"\")}function su(n,t,r){return n=ru(n),(t=r?D:t)===D?In.test(n)?n.match(On)||[]:n.match(ln)||[]:n.match(t)||[]}function hu(n){return function(){return n}}function pu(n){return n}function _u(n){return Bt(\"function\"==typeof n?n:lt(n,1))}function vu(n,t,r){var e=iu(t),i=xt(t,e);null!=r||Ze(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=xt(t,iu(t)));var o=!(Ze(r)&&\"chain\"in r&&!r.chain),f=Fe(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=yr(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,l([this.value()],arguments))})}),n}function gu(){}function du(n){return ue(n)?x(he(n)):function(n){return function(t){return jt(t,n)}}(n)}function yu(){return[]}function bu(){return!1}var xu=(wn=null==wn?Tn:nt.defaults(Tn.Object(),wn,nt.pick(Tn,Rn))).Array,ju=wn.Date,wu=wn.Error,mu=wn.Function,Au=wn.Math,ku=wn.Object,Eu=wn.RegExp,Ou=wn.String,Su=wn.TypeError,Iu=xu.prototype,Ru=ku.prototype,zu=wn[\"__core-js_shared__\"],Wu=mu.prototype.toString,Bu=Ru.hasOwnProperty,Lu=0,Uu=function(){var n=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}(),Cu=Ru.toString,Du=Wu.call(ku),Mu=Tn._,Tu=Eu(\"^\"+Wu.call(Bu).replace(tn,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),$u=Nn?wn.Buffer:D,Fu=wn.Symbol,Nu=wn.Uint8Array,Pu=$u?$u.f:D,Zu=W(ku.getPrototypeOf,ku),qu=ku.create,Vu=Ru.propertyIsEnumerable,Ku=Iu.splice,Gu=Fu?Fu.isConcatSpreadable:D,Hu=Fu?Fu.iterator:D,Ju=Fu?Fu.toStringTag:D,Yu=function(){try{var n=Qr(ku,\"defineProperty\");return n({},\"\",{}),n}catch(n){}}(),Qu=wn.clearTimeout!==Tn.clearTimeout&&wn.clearTimeout,Xu=ju&&ju.now!==Tn.Date.now&&ju.now,ni=wn.setTimeout!==Tn.setTimeout&&wn.setTimeout,ti=Au.ceil,ri=Au.floor,ei=ku.getOwnPropertySymbols,ui=$u?$u.isBuffer:D,ii=wn.isFinite,oi=Iu.join,fi=W(ku.keys,ku),ci=Au.max,ai=Au.min,li=ju.now,si=wn.parseInt,hi=Au.random,pi=Iu.reverse,_i=Qr(wn,\"DataView\"),vi=Qr(wn,\"Map\"),gi=Qr(wn,\"Promise\"),di=Qr(wn,\"Set\"),yi=Qr(wn,\"WeakMap\"),bi=Qr(ku,\"create\"),xi=yi&&new yi,ji={},wi=pe(_i),mi=pe(vi),Ai=pe(gi),ki=pe(di),Ei=pe(yi),Oi=Fu?Fu.prototype:D,Si=Oi?Oi.valueOf:D,Ii=Oi?Oi.toString:D,Ri=function(){function n(){}return function(t){return Ze(t)?qu?qu(t):(n.prototype=t,t=new n,n.prototype=D,t):{}}}();mn.templateSettings={escape:G,evaluate:H,interpolate:J,variable:\"\",imports:{_:mn}},(mn.prototype=En.prototype).constructor=mn,(Bn.prototype=Ri(En.prototype)).constructor=Bn,(Ln.prototype=Ri(En.prototype)).constructor=Ln,Dn.prototype.clear=function(){this.__data__=bi?bi(null):{},this.size=0},Dn.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],this.size-=n?1:0,n},Dn.prototype.get=function(n){var t=this.__data__;return bi?\"__lodash_hash_undefined__\"===(n=t[n])?D:n:Bu.call(t,n)?t[n]:D},Dn.prototype.has=function(n){var t=this.__data__;return bi?t[n]!==D:Bu.call(t,n)},Dn.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=bi&&t===D?\"__lodash_hash_undefined__\":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(n){var t=this.__data__;return!(0>(n=ut(t,n))||(n==t.length-1?t.pop():Ku.call(t,n,1),--this.size,0))},Mn.prototype.get=function(n){var t=this.__data__;return 0>(n=ut(t,n))?D:t[n][1]},Mn.prototype.has=function(n){return-1<ut(this.__data__,n)},Mn.prototype.set=function(n,t){var r=this.__data__,e=ut(r,n);return 0>e?(++this.size,r.push([n,t])):r[e][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(vi||Mn),string:new Dn}},$n.prototype.delete=function(n){return n=Jr(this,n).delete(n),this.size-=n?1:0,n},$n.prototype.get=function(n){return Jr(this,n).get(n)},$n.prototype.has=function(n){return Jr(this,n).has(n)},$n.prototype.set=function(n,t){var r=Jr(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},Fn.prototype.add=Fn.prototype.push=function(n){return this.__data__.set(n,\"__lodash_hash_undefined__\"),this},Fn.prototype.has=function(n){return this.__data__.has(n)},Pn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Pn.prototype.delete=function(n){var t=this.__data__;return n=t.delete(n),this.size=t.size,n},Pn.prototype.get=function(n){return this.__data__.get(n)},Pn.prototype.has=function(n){return this.__data__.has(n)},Pn.prototype.set=function(n,t){var r=this.__data__;if(r instanceof Mn){var e=r.__data__;if(!vi||199>e.length)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new $n(e)}return r.set(n,t),this.size=r.size,this};var zi=wr(yt),Wi=wr(bt,!0),Bi=mr(),Li=mr(!0),Ui=xi?function(n,t){return xi.set(n,t),n}:pu,Ci=Yu?function(n,t){return Yu(n,\"toString\",{configurable:!0,enumerable:!1,value:hu(t),writable:!0})}:pu,Di=Qu||function(n){return Tn.clearTimeout(n)},Mi=di&&1/L(new di([,-0]))[1]==M?function(n){return new di(n)}:gu,Ti=xi?function(n){return xi.get(n)}:gu,$i=ei?function(n){return null==n?[]:(n=ku(n),o(ei(n),function(t){return Vu.call(n,t)}))}:yu,Fi=ei?function(n){for(var t=[];n;)l(t,$i(n)),n=Zu(n);return t}:yu,Ni=mt;(_i&&\"[object DataView]\"!=Ni(new _i(new ArrayBuffer(1)))||vi&&\"[object Map]\"!=Ni(new vi)||gi&&\"[object Promise]\"!=Ni(gi.resolve())||di&&\"[object Set]\"!=Ni(new di)||yi&&\"[object WeakMap]\"!=Ni(new yi))&&(Ni=function(n){var t=mt(n);if(n=(n=\"[object Object]\"==t?n.constructor:D)?pe(n):\"\")switch(n){case wi:return\"[object DataView]\";case mi:return\"[object Map]\";case Ai:return\"[object Promise]\";case ki:return\"[object Set]\";case Ei:return\"[object WeakMap]\"}return t});var Pi=zu?Fe:bu,Zi=le(Ui),qi=ni||function(n,t){return Tn.setTimeout(n,t)},Vi=le(Ci),Ki=function(n){var t=(n=Ue(n,function(n){return 500===t.size&&t.clear(),n})).cache;return n}(function(n){var t=[];return X.test(n)&&t.push(\"\"),n.replace(nn,function(n,r,e,u){t.push(e?u.replace(sn,\"$1\"):r||n)}),t}),Gi=Kt(function(n,t){return Te(n)?pt(n,dt(t,1,Te,!0)):[]}),Hi=Kt(function(n,t){var r=xe(t);return Te(r)&&(r=D),Te(n)?pt(n,dt(t,1,Te,!0),Hr(r,2)):[]}),Ji=Kt(function(n,t){var r=xe(t);return Te(r)&&(r=D),Te(n)?pt(n,dt(t,1,Te,!0),D,r):[]}),Yi=Kt(function(n){var t=a(n,cr);return t.length&&t[0]===n[0]?Ot(t):[]}),Qi=Kt(function(n){var t=xe(n),r=a(n,cr);return t===xe(r)?t=D:r.pop(),r.length&&r[0]===n[0]?Ot(r,Hr(t,2)):[]}),Xi=Kt(function(n){var t=xe(n),r=a(n,cr);return(t=\"function\"==typeof t?t:D)&&r.pop(),r.length&&r[0]===n[0]?Ot(r,D,t):[]}),no=Kt(je),to=Zr(function(n,t){var r=null==n?0:n.length,e=ct(n,t);return Zt(n,a(t,function(n){return re(n,r)?+n:n}).sort(vr)),e}),ro=Kt(function(n){return rr(dt(n,1,Te,!0))}),eo=Kt(function(n){var t=xe(n);return Te(t)&&(t=D),rr(dt(n,1,Te,!0),Hr(t,2))}),uo=Kt(function(n){var t=\"function\"==typeof(t=xe(n))?t:D;return rr(dt(n,1,Te,!0),D,t)}),io=Kt(function(n,t){return Te(n)?pt(n,t):[]}),oo=Kt(function(n){return or(o(n,Te))}),fo=Kt(function(n){var t=xe(n);return Te(t)&&(t=D),or(o(n,Te),Hr(t,2))}),co=Kt(function(n){var t=\"function\"==typeof(t=xe(n))?t:D;return or(o(n,Te),D,t)}),ao=Kt(me),lo=Kt(function(n){var t;return Ae(n,t=\"function\"==typeof(t=1<(t=n.length)?n[t-1]:D)?(n.pop(),t):D)}),so=Zr(function(n){function t(t){return ct(t,n)}var r=n.length,e=r?n[0]:0,u=this.__wrapped__;return!(1<r||this.__actions__.length)&&u instanceof Ln&&re(e)?((u=u.slice(e,+e+(r?1:0))).__actions__.push({func:Ee,args:[t],thisArg:D}),new Bn(u,this.__chain__).thru(function(n){return r&&!n.length&&n.push(D),n})):this.thru(t)}),ho=xr(function(n,t,r){Bu.call(n,r)?++n[r]:ft(n,r,1)}),po=Or(ge),_o=Or(de),vo=xr(function(n,t,r){Bu.call(n,r)?n[r].push(t):ft(n,r,[t])}),go=Kt(function(n,t,e){var u=-1,i=\"function\"==typeof t,o=Me(n)?xu(n.length):[];return zi(n,function(n){o[++u]=i?r(t,n,e):St(n,t,e)}),o}),yo=xr(function(n,t,r){ft(n,r,t)}),bo=xr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),xo=Kt(function(n,t){if(null==n)return[];var r=t.length;return 1<r&&ee(n,t[0],t[1])?t=[]:2<r&&ee(t[0],t[1],t[2])&&(t=[t[0]]),Ft(n,dt(t,1),[])}),jo=Xu||function(){return Tn.Date.now()},wo=Kt(function(n,t,r){var e=1;if(r.length){var u=B(r,Gr(wo));e=32|e}return Tr(n,e,t,r,u)}),mo=Kt(function(n,t,r){var e=3;if(r.length){var u=B(r,Gr(mo));e=32|e}return Tr(t,e,n,r,u)}),Ao=Kt(function(n,t){return ht(n,1,t)}),ko=Kt(function(n,t,r){return ht(n,nu(t)||0,r)});Ue.Cache=$n;var Eo=Kt(function(n,t){var e=(t=1==t.length&&Bo(t[0])?a(t[0],k(Hr())):a(dt(t,1),k(Hr()))).length;return Kt(function(u){for(var i=-1,o=ai(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),Oo=Kt(function(n,t){return Tr(n,32,D,t,B(t,Gr(Oo)))}),So=Kt(function(n,t){return Tr(n,64,D,t,B(t,Gr(So)))}),Io=Zr(function(n,t){return Tr(n,256,D,D,D,t)}),Ro=Ur(At),zo=Ur(function(n,t){return n>=t}),Wo=It(function(){return arguments}())?It:function(n){return qe(n)&&Bu.call(n,\"callee\")&&!Vu.call(n,\"callee\")},Bo=xu.isArray,Lo=Zn?k(Zn):function(n){return qe(n)&&\"[object ArrayBuffer]\"==mt(n)},Uo=ui||bu,Co=qn?k(qn):function(n){return qe(n)&&\"[object Date]\"==mt(n)},Do=Vn?k(Vn):function(n){return qe(n)&&\"[object Map]\"==Ni(n)},Mo=Kn?k(Kn):function(n){return qe(n)&&\"[object RegExp]\"==mt(n)},To=Gn?k(Gn):function(n){return qe(n)&&\"[object Set]\"==Ni(n)},$o=Hn?k(Hn):function(n){return qe(n)&&Pe(n.length)&&!!zn[mt(n)]},Fo=Ur(Ut),No=Ur(function(n,t){return n<=t}),Po=jr(function(n,t){if(oe(t)||Me(t))br(t,iu(t),n);else for(var r in t)Bu.call(t,r)&&et(n,r,t[r])}),Zo=jr(function(n,t){br(t,ou(t),n)}),qo=jr(function(n,t,r,e){br(t,ou(t),n,e)}),Vo=jr(function(n,t,r,e){br(t,iu(t),n,e)}),Ko=Zr(ct),Go=Kt(function(n){return n.push(D,$r),r(qo,D,n)}),Ho=Kt(function(n){return n.push(D,Fr),r(nf,D,n)}),Jo=Rr(function(n,t,r){n[t]=r},hu(pu)),Yo=Rr(function(n,t,r){Bu.call(n,t)?n[t].push(r):n[t]=[r]},Hr),Qo=Kt(St),Xo=jr(function(n,t,r){Tt(n,t,r)}),nf=jr(function(n,t,r,e){Tt(n,t,r,e)}),tf=Zr(function(n,t){var r={};if(null==n)return r;var e=!1;t=a(t,function(t){return t=lr(t,n),e||(e=1<t.length),t}),br(n,Vr(n),r),e&&(r=lt(r,7,Nr));for(var u=t.length;u--;)er(r,t[u]);return r}),rf=Zr(function(n,t){return null==n?{}:function(n,t){return Nt(n,t,function(t,r){return uu(n,r)})}(n,t)}),ef=Mr(iu),uf=Mr(ou),of=kr(function(n,t,r){return t=t.toLowerCase(),n+(r?au(t):t)}),ff=kr(function(n,t,r){return n+(r?\"-\":\"\")+t.toLowerCase()}),cf=kr(function(n,t,r){return n+(r?\" \":\"\")+t.toLowerCase()}),af=Ar(\"toLowerCase\"),lf=kr(function(n,t,r){return n+(r?\"_\":\"\")+t.toLowerCase()}),sf=kr(function(n,t,r){return n+(r?\" \":\"\")+pf(t)}),hf=kr(function(n,t,r){return n+(r?\" \":\"\")+t.toUpperCase()}),pf=Ar(\"toUpperCase\"),_f=Kt(function(n,t){try{return r(n,D,t)}catch(n){return $e(n)?n:new wu(n)}}),vf=Zr(function(n,t){return u(t,function(t){t=he(t),ft(n,t,wo(n[t],n))}),n}),gf=Sr(),df=Sr(!0),yf=Kt(function(n,t){return function(r){return St(r,n,t)}}),bf=Kt(function(n,t){return function(r){return St(n,r,t)}}),xf=Wr(a),jf=Wr(i),wf=Wr(p),mf=Lr(),Af=Lr(!0),kf=zr(function(n,t){return n+t},0),Ef=Dr(\"ceil\"),Of=zr(function(n,t){return n/t},1),Sf=Dr(\"floor\"),If=zr(function(n,t){return n*t},1),Rf=Dr(\"round\"),zf=zr(function(n,t){return n-t},0);return mn.after=function(n,t){if(\"function\"!=typeof t)throw new Su(\"Expected a function\");return n=Qe(n),function(){if(1>--n)return t.apply(this,arguments)}},mn.ary=Re,mn.assign=Po,mn.assignIn=Zo,mn.assignInWith=qo,mn.assignWith=Vo,mn.at=Ko,mn.before=ze,mn.bind=wo,mn.bindAll=vf,mn.bindKey=mo,mn.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return Bo(n)?n:[n]},mn.chain=ke,mn.chunk=function(n,t,r){if(t=(r?ee(n,t,r):t===D)?1:ci(Qe(t),0),!(r=null==n?0:n.length)||1>t)return[];for(var e=0,u=0,i=xu(ti(r/t));e<r;)i[u++]=Ht(n,e,e+=t);return i},mn.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},mn.concat=function(){var n=arguments.length;if(!n)return[];for(var t=xu(n-1),r=arguments[0];n--;)t[n-1]=arguments[n];return l(Bo(r)?yr(r):[r],dt(t,1))},mn.cond=function(n){var t=null==n?0:n.length,e=Hr();return n=t?a(n,function(n){if(\"function\"!=typeof n[1])throw new Su(\"Expected a function\");return[e(n[0]),n[1]]}):[],Kt(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})},mn.conforms=function(n){return function(n){var t=iu(n);return function(r){return st(r,n,t)}}(lt(n,1))},mn.constant=hu,mn.countBy=ho,mn.create=function(n,t){var r=Ri(n);return null==t?r:ot(r,t)},mn.curry=We,mn.curryRight=Be,mn.debounce=Le,mn.defaults=Go,mn.defaultsDeep=Ho,mn.defer=Ao,mn.delay=ko,mn.difference=Gi,mn.differenceBy=Hi,mn.differenceWith=Ji,mn.drop=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),Ht(n,0>t?0:t,e)):[]},mn.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),t=e-t,Ht(n,0,0>t?0:t)):[]},mn.dropRightWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!0,!0):[]},mn.dropWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!0):[]},mn.fill=function(n,t,r,e){var u=null==n?0:n.length;if(!u)return[];for(r&&\"number\"!=typeof r&&ee(n,t,r)&&(r=0,e=u),u=n.length,0>(r=Qe(r))&&(r=-r>u?0:u+r),0>(e=e===D||e>u?u:Qe(e))&&(e+=u),e=r>e?0:Xe(e);r<e;)n[r++]=t;return n},mn.filter=function(n,t){return(Bo(n)?o:gt)(n,Hr(t,3))},mn.flatMap=function(n,t){return dt(Ie(n,t),1)},mn.flatMapDeep=function(n,t){return dt(Ie(n,t),M)},mn.flatMapDepth=function(n,t,r){return r=r===D?1:Qe(r),dt(Ie(n,t),r)},mn.flatten=ye,mn.flattenDeep=function(n){return null!=n&&n.length?dt(n,M):[]},mn.flattenDepth=function(n,t){return null!=n&&n.length?(t=t===D?1:Qe(t),dt(n,t)):[]},mn.flip=function(n){return Tr(n,512)},mn.flow=gf,mn.flowRight=df,mn.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},mn.functions=function(n){return null==n?[]:xt(n,iu(n))},mn.functionsIn=function(n){return null==n?[]:xt(n,ou(n))},mn.groupBy=vo,mn.initial=function(n){return null!=n&&n.length?Ht(n,0,-1):[]},mn.intersection=Yi,mn.intersectionBy=Qi,mn.intersectionWith=Xi,mn.invert=Jo,mn.invertBy=Yo,mn.invokeMap=go,mn.iteratee=_u,mn.keyBy=yo,mn.keys=iu,mn.keysIn=ou,mn.map=Ie,mn.mapKeys=function(n,t){var r={};return t=Hr(t,3),yt(n,function(n,e,u){ft(r,t(n,e,u),n)}),r},mn.mapValues=function(n,t){var r={};return t=Hr(t,3),yt(n,function(n,e,u){ft(r,e,t(n,e,u))}),r},mn.matches=function(n){return Dt(lt(n,1))},mn.matchesProperty=function(n,t){return Mt(n,lt(t,1))},mn.memoize=Ue,mn.merge=Xo,mn.mergeWith=nf,mn.method=yf,mn.methodOf=bf,mn.mixin=vu,mn.negate=Ce,mn.nthArg=function(n){return n=Qe(n),Kt(function(t){return $t(t,n)})},mn.omit=tf,mn.omitBy=function(n,t){return fu(n,Ce(Hr(t)))},mn.once=function(n){return ze(2,n)},mn.orderBy=function(n,t,r,e){return null==n?[]:(Bo(t)||(t=null==t?[]:[t]),r=e?D:r,Bo(r)||(r=null==r?[]:[r]),Ft(n,t,r))},mn.over=xf,mn.overArgs=Eo,mn.overEvery=jf,mn.overSome=wf,mn.partial=Oo,mn.partialRight=So,mn.partition=bo,mn.pick=rf,mn.pickBy=fu,mn.property=du,mn.propertyOf=function(n){return function(t){return null==n?D:jt(n,t)}},mn.pull=no,mn.pullAll=je,mn.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?Pt(n,t,Hr(r,2)):n},mn.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?Pt(n,t,D,r):n},mn.pullAt=to,mn.range=mf,mn.rangeRight=Af,mn.rearg=Io,mn.reject=function(n,t){return(Bo(n)?o:gt)(n,Ce(Hr(t,3)))},mn.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=Hr(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Zt(n,u),r},mn.rest=function(n,t){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=t===D?t:Qe(t),Kt(n,t)},mn.reverse=we,mn.sampleSize=function(n,t,r){return t=(r?ee(n,t,r):t===D)?1:Qe(t),(Bo(n)?function(n,t){return se(yr(n),at(t,0,n.length))}:function(n,t){var r=cu(n);return se(r,at(t,0,r.length))})(n,t)},mn.set=function(n,t,r){return null==n?n:Gt(n,t,r)},mn.setWith=function(n,t,r,e){return e=\"function\"==typeof e?e:D,null==n?n:Gt(n,t,r,e)},mn.shuffle=function(n){return(Bo(n)?function(n){return se(yr(n))}:function(n){return se(cu(n))})(n)},mn.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&\"number\"!=typeof r&&ee(n,t,r)?(t=0,r=e):(t=null==t?0:Qe(t),r=r===D?e:Qe(r)),Ht(n,t,r)):[]},mn.sortBy=xo,mn.sortedUniq=function(n){return n&&n.length?Xt(n):[]},mn.sortedUniqBy=function(n,t){return n&&n.length?Xt(n,Hr(t,2)):[]},mn.split=function(n,t,r){return r&&\"number\"!=typeof r&&ee(n,t,r)&&(t=r=D),(r=r===D?4294967295:r>>>0)?(n=ru(n))&&(\"string\"==typeof t||null!=t&&!Mo(t))&&!(t=tr(t))&&Sn.test(n)?sr(C(n),0,r):n.split(t,r):[]},mn.spread=function(n,t){if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return t=null==t?0:ci(Qe(t),0),Kt(function(e){var u=e[t];return e=sr(e,0,t),u&&l(e,u),r(n,this,e)})},mn.tail=function(n){var t=null==n?0:n.length;return t?Ht(n,1,t):[]},mn.take=function(n,t,r){return n&&n.length?(t=r||t===D?1:Qe(t),Ht(n,0,0>t?0:t)):[]},mn.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===D?1:Qe(t),t=e-t,Ht(n,0>t?0:t,e)):[]},mn.takeRightWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3),!1,!0):[]},mn.takeWhile=function(n,t){return n&&n.length?ur(n,Hr(t,3)):[]},mn.tap=function(n,t){return t(n),n},mn.throttle=function(n,t,r){var e=!0,u=!0;if(\"function\"!=typeof n)throw new Su(\"Expected a function\");return Ze(r)&&(e=\"leading\"in r?!!r.leading:e,u=\"trailing\"in r?!!r.trailing:u),Le(n,t,{leading:e,maxWait:t,trailing:u})},mn.thru=Ee,mn.toArray=Je,mn.toPairs=ef,mn.toPairsIn=uf,mn.toPath=function(n){return Bo(n)?a(n,he):He(n)?[n]:yr(Ki(ru(n)))},mn.toPlainObject=tu,mn.transform=function(n,t,r){var e=Bo(n),i=e||Uo(n)||$o(n);if(t=Hr(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:Ze(n)&&Fe(o)?Ri(Zu(n)):{}}return(i?u:yt)(n,function(n,e,u){return t(r,n,e,u)}),r},mn.unary=function(n){return Re(n,1)},mn.union=ro,mn.unionBy=eo,mn.unionWith=uo,mn.uniq=function(n){return n&&n.length?rr(n):[]},mn.uniqBy=function(n,t){return n&&n.length?rr(n,Hr(t,2)):[]},mn.uniqWith=function(n,t){return t=\"function\"==typeof t?t:D,n&&n.length?rr(n,D,t):[]},mn.unset=function(n,t){return null==n||er(n,t)},mn.unzip=me,mn.unzipWith=Ae,mn.update=function(n,t,r){return null==n?n:Gt(n,t,ar(r)(jt(n,t)),void 0)},mn.updateWith=function(n,t,r,e){return e=\"function\"==typeof e?e:D,null!=n&&(n=Gt(n,t,ar(r)(jt(n,t)),e)),n},mn.values=cu,mn.valuesIn=function(n){return null==n?[]:E(n,ou(n))},mn.without=io,mn.words=su,mn.wrap=function(n,t){return Oo(ar(t),n)},mn.xor=oo,mn.xorBy=fo,mn.xorWith=co,mn.zip=ao,mn.zipObject=function(n,t){return fr(n||[],t||[],et)},mn.zipObjectDeep=function(n,t){return fr(n||[],t||[],Gt)},mn.zipWith=lo,mn.entries=ef,mn.entriesIn=uf,mn.extend=Zo,mn.extendWith=qo,vu(mn,mn),mn.add=kf,mn.attempt=_f,mn.camelCase=of,mn.capitalize=au,mn.ceil=Ef,mn.clamp=function(n,t,r){return r===D&&(r=t,t=D),r!==D&&(r=nu(r),r=r==r?r:0),t!==D&&(t=nu(t),t=t==t?t:0),at(nu(n),t,r)},mn.clone=function(n){return lt(n,4)},mn.cloneDeep=function(n){return lt(n,5)},mn.cloneDeepWith=function(n,t){return t=\"function\"==typeof t?t:D,lt(n,5,t)},mn.cloneWith=function(n,t){return t=\"function\"==typeof t?t:D,lt(n,4,t)},mn.conformsTo=function(n,t){return null==t||st(n,t,iu(t))},mn.deburr=lu,mn.defaultTo=function(n,t){return null==n||n!=n?t:n},mn.divide=Of,mn.endsWith=function(n,t,r){n=ru(n),t=tr(t);var e=n.length;e=r=r===D?e:at(Qe(r),0,e);return 0<=(r-=t.length)&&n.slice(r,e)==t},mn.eq=De,mn.escape=function(n){return(n=ru(n))&&K.test(n)?n.replace(q,Qn):n},mn.escapeRegExp=function(n){return(n=ru(n))&&rn.test(n)?n.replace(tn,\"\\\\$&\"):n},mn.every=function(n,t,r){var e=Bo(n)?i:_t;return r&&ee(n,t,r)&&(t=D),e(n,Hr(t,3))},mn.find=po,mn.findIndex=ge,mn.findKey=function(n,t){return _(n,Hr(t,3),yt)},mn.findLast=_o,mn.findLastIndex=de,mn.findLastKey=function(n,t){return _(n,Hr(t,3),bt)},mn.floor=Sf,mn.forEach=Oe,mn.forEachRight=Se,mn.forIn=function(n,t){return null==n?n:Bi(n,Hr(t,3),ou)},mn.forInRight=function(n,t){return null==n?n:Li(n,Hr(t,3),ou)},mn.forOwn=function(n,t){return n&&yt(n,Hr(t,3))},mn.forOwnRight=function(n,t){return n&&bt(n,Hr(t,3))},mn.get=eu,mn.gt=Ro,mn.gte=zo,mn.has=function(n,t){return null!=n&&Xr(n,t,kt)},mn.hasIn=uu,mn.head=be,mn.identity=pu,mn.includes=function(n,t,r,e){return n=Me(n)?n:cu(n),r=r&&!e?Qe(r):0,e=n.length,0>r&&(r=ci(e+r,0)),Ge(n)?r<=e&&-1<n.indexOf(t,r):!!e&&-1<g(n,t,r)},mn.indexOf=function(n,t,r){var e=null==n?0:n.length;return e?(0>(r=null==r?0:Qe(r))&&(r=ci(e+r,0)),g(n,t,r)):-1},mn.inRange=function(n,t,r){return t=Ye(t),r===D?(r=t,t=0):r=Ye(r),(n=nu(n))>=ai(t,r)&&n<ci(t,r)},mn.invoke=Qo,mn.isArguments=Wo,mn.isArray=Bo,mn.isArrayBuffer=Lo,mn.isArrayLike=Me,mn.isArrayLikeObject=Te,mn.isBoolean=function(n){return!0===n||!1===n||qe(n)&&\"[object Boolean]\"==mt(n)},mn.isBuffer=Uo,mn.isDate=Co,mn.isElement=function(n){return qe(n)&&1===n.nodeType&&!Ke(n)},mn.isEmpty=function(n){if(null==n)return!0;if(Me(n)&&(Bo(n)||\"string\"==typeof n||\"function\"==typeof n.splice||Uo(n)||$o(n)||Wo(n)))return!n.length;var t=Ni(n);if(\"[object Map]\"==t||\"[object Set]\"==t)return!n.size;if(oe(n))return!Lt(n).length;for(var r in n)if(Bu.call(n,r))return!1;return!0},mn.isEqual=function(n,t){return Rt(n,t)},mn.isEqualWith=function(n,t,r){var e=(r=\"function\"==typeof r?r:D)?r(n,t):D;return e===D?Rt(n,t,D,r):!!e},mn.isError=$e,mn.isFinite=function(n){return\"number\"==typeof n&&ii(n)},mn.isFunction=Fe,mn.isInteger=Ne,mn.isLength=Pe,mn.isMap=Do,mn.isMatch=function(n,t){return n===t||zt(n,t,Yr(t))},mn.isMatchWith=function(n,t,r){return r=\"function\"==typeof r?r:D,zt(n,t,Yr(t),r)},mn.isNaN=function(n){return Ve(n)&&n!=+n},mn.isNative=function(n){if(Pi(n))throw new wu(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return Wt(n)},mn.isNil=function(n){return null==n},mn.isNull=function(n){return null===n},mn.isNumber=Ve,mn.isObject=Ze,mn.isObjectLike=qe,mn.isPlainObject=Ke,mn.isRegExp=Mo,mn.isSafeInteger=function(n){return Ne(n)&&-9007199254740991<=n&&9007199254740991>=n},mn.isSet=To,mn.isString=Ge,mn.isSymbol=He,mn.isTypedArray=$o,mn.isUndefined=function(n){return n===D},mn.isWeakMap=function(n){return qe(n)&&\"[object WeakMap]\"==Ni(n)},mn.isWeakSet=function(n){return qe(n)&&\"[object WeakSet]\"==mt(n)},mn.join=function(n,t){return null==n?\"\":oi.call(n,t)},mn.kebabCase=ff,mn.last=xe,mn.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;if(r!==D&&(u=Qe(r),u=0>u?ci(e+u,0):ai(u,e-1)),t==t){for(r=u+1;r--&&n[r]!==t;);n=r}else n=v(n,y,u,!0);return n},mn.lowerCase=cf,mn.lowerFirst=af,mn.lt=Fo,mn.lte=No,mn.max=function(n){return n&&n.length?vt(n,pu,At):D},mn.maxBy=function(n,t){return n&&n.length?vt(n,Hr(t,2),At):D},mn.mean=function(n){return b(n,pu)},mn.meanBy=function(n,t){return b(n,Hr(t,2))},mn.min=function(n){return n&&n.length?vt(n,pu,Ut):D},mn.minBy=function(n,t){return n&&n.length?vt(n,Hr(t,2),Ut):D},mn.stubArray=yu,mn.stubFalse=bu,mn.stubObject=function(){return{}},mn.stubString=function(){return\"\"},mn.stubTrue=function(){return!0},mn.multiply=If,mn.nth=function(n,t){return n&&n.length?$t(n,Qe(t)):D},mn.noConflict=function(){return Tn._===this&&(Tn._=Mu),this},mn.noop=gu,mn.now=jo,mn.pad=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return!t||e>=t?n:(t=(t-e)/2,Br(ri(t),r)+n+Br(ti(t),r))},mn.padEnd=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return t&&e<t?n+Br(t-e,r):n},mn.padStart=function(n,t,r){n=ru(n);var e=(t=Qe(t))?U(n):0;return t&&e<t?Br(t-e,r)+n:n},mn.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),si(ru(n).replace(un,\"\"),t||0)},mn.random=function(n,t,r){if(r&&\"boolean\"!=typeof r&&ee(n,t,r)&&(t=r=D),r===D&&(\"boolean\"==typeof t?(r=t,t=D):\"boolean\"==typeof n&&(r=n,n=D)),n===D&&t===D?(n=0,t=1):(n=Ye(n),t===D?(t=n,n=0):t=Ye(t)),n>t){var e=n;n=t,t=e}return r||n%1||t%1?(r=hi(),ai(n+r*(t-n+Un(\"1e-\"+((r+\"\").length-1))),t)):qt(n,t)},mn.reduce=function(n,t,r){var e=Bo(n)?s:w,u=3>arguments.length;return e(n,Hr(t,4),r,u,zi)},mn.reduceRight=function(n,t,r){var e=Bo(n)?h:w,u=3>arguments.length;return e(n,Hr(t,4),r,u,Wi)},mn.repeat=function(n,t,r){return t=(r?ee(n,t,r):t===D)?1:Qe(t),Vt(ru(n),t)},mn.replace=function(){var n=arguments,t=ru(n[0]);return 3>n.length?t:t.replace(n[1],n[2])},mn.result=function(n,t,r){var e=-1,u=(t=lr(t,n)).length;for(u||(u=1,n=D);++e<u;){var i=null==n?D:n[he(t[e])];i===D&&(e=u,i=r),n=Fe(i)?i.call(n):i}return n},mn.round=Rf,mn.runInContext=j,mn.sample=function(n){return(Bo(n)?tt:function(n){return tt(cu(n))})(n)},mn.size=function(n){if(null==n)return 0;if(Me(n))return Ge(n)?U(n):n.length;var t=Ni(n);return\"[object Map]\"==t||\"[object Set]\"==t?n.size:Lt(n).length},mn.snakeCase=lf,mn.some=function(n,t,r){var e=Bo(n)?p:Jt;return r&&ee(n,t,r)&&(t=D),e(n,Hr(t,3))},mn.sortedIndex=function(n,t){return Yt(n,t)},mn.sortedIndexBy=function(n,t,r){return Qt(n,t,Hr(r,2))},mn.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=Yt(n,t);if(e<r&&De(n[e],t))return e}return-1},mn.sortedLastIndex=function(n,t){return Yt(n,t,!0)},mn.sortedLastIndexBy=function(n,t,r){return Qt(n,t,Hr(r,2),!0)},mn.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=Yt(n,t,!0)-1;if(De(n[r],t))return r}return-1},mn.startCase=sf,mn.startsWith=function(n,t,r){return n=ru(n),r=null==r?0:at(Qe(r),0,n.length),t=tr(t),n.slice(r,r+t.length)==t},mn.subtract=zf,mn.sum=function(n){return n&&n.length?m(n,pu):0},mn.sumBy=function(n,t){return n&&n.length?m(n,Hr(t,2)):0},mn.template=function(n,t,r){var e=mn.templateSettings;r&&ee(n,t,r)&&(t=D),n=ru(n),t=qo({},t,e,$r);var u,i,o=iu(r=qo({},t.imports,e.imports,$r)),f=E(r,o),c=0;r=t.interpolate||xn;var a=\"__p+='\";r=Eu((t.escape||xn).source+\"|\"+r.source+\"|\"+(r===J?hn:xn).source+\"|\"+(t.evaluate||xn).source+\"|$\",\"g\");var l=\"sourceURL\"in t?\"//# sourceURL=\"+t.sourceURL+\"\\n\":\"\";if(n.replace(r,function(t,r,e,o,f,l){return e||(e=o),a+=n.slice(c,l).replace(jn,R),r&&(u=!0,a+=\"'+__e(\"+r+\")+'\"),f&&(i=!0,a+=\"';\"+f+\";\\n__p+='\"),e&&(a+=\"'+((__t=(\"+e+\"))==null?'':__t)+'\"),c=l+t.length,t}),a+=\"';\",(t=t.variable)||(a=\"with(obj){\"+a+\"}\"),a=(i?a.replace(F,\"\"):a).replace(N,\"$1\").replace(P,\"$1;\"),a=\"function(\"+(t||\"obj\")+\"){\"+(t?\"\":\"obj||(obj={});\")+\"var __t,__p=''\"+(u?\",__e=_.escape\":\"\")+(i?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+a+\"return __p}\",t=_f(function(){return mu(o,l+\"return \"+a).apply(D,f)}),t.source=a,$e(t))throw t;return t},mn.times=function(n,t){if(1>(n=Qe(n))||9007199254740991<n)return[];var r=4294967295,e=ai(n,4294967295);for(n-=4294967295,e=A(e,t=Hr(t));++r<n;)t(r);return e},mn.toFinite=Ye,mn.toInteger=Qe,mn.toLength=Xe,mn.toLower=function(n){return ru(n).toLowerCase()},mn.toNumber=nu,mn.toSafeInteger=function(n){return n?at(Qe(n),-9007199254740991,9007199254740991):0===n?n:0},mn.toString=ru,mn.toUpper=function(n){return ru(n).toUpperCase()},mn.trim=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(en,\"\"):n&&(t=tr(t))?(n=C(n),r=C(t),t=S(n,r),r=I(n,r)+1,sr(n,t,r).join(\"\")):n},mn.trimEnd=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(on,\"\"):n&&(t=tr(t))?(n=C(n),t=I(n,C(t))+1,sr(n,0,t).join(\"\")):n},mn.trimStart=function(n,t,r){return(n=ru(n))&&(r||t===D)?n.replace(un,\"\"):n&&(t=tr(t))?(n=C(n),t=S(n,C(t)),sr(n,t).join(\"\")):n},mn.truncate=function(n,t){var r=30,e=\"...\";if(Ze(t)){var u=\"separator\"in t?t.separator:u;r=\"length\"in t?Qe(t.length):r,e=\"omission\"in t?tr(t.omission):e}var i=(n=ru(n)).length;if(Sn.test(n)){var o=C(n);i=o.length}if(r>=i)return n;if(1>(i=r-U(e)))return e;if(r=o?sr(o,0,i).join(\"\"):n.slice(0,i),u===D)return r+e;if(o&&(i+=r.length-i),Mo(u)){if(n.slice(i).search(u)){var f=r;for(u.global||(u=Eu(u.source,ru(pn.exec(u))+\"g\")),u.lastIndex=0;o=u.exec(f);)var c=o.index;r=r.slice(0,c===D?i:c)}}else n.indexOf(tr(u),i)!=i&&-1<(u=r.lastIndexOf(u))&&(r=r.slice(0,u));return r+e},mn.unescape=function(n){return(n=ru(n))&&V.test(n)?n.replace(Z,Xn):n},mn.uniqueId=function(n){var t=++Lu;return ru(n)+t},mn.upperCase=hf,mn.upperFirst=pf,mn.each=Oe,mn.eachRight=Se,mn.first=be,vu(mn,function(){var n={};return yt(mn,function(t,r){Bu.call(mn.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),mn.VERSION=\"4.17.4\",u(\"bind bindKey curry curryRight partial partialRight\".split(\" \"),function(n){mn[n].placeholder=mn}),u([\"drop\",\"take\"],function(n,t){Ln.prototype[n]=function(r){r=r===D?1:ci(Qe(r),0);var e=this.__filtered__&&!t?new Ln(this):this.clone();return e.__filtered__?e.__takeCount__=ai(r,e.__takeCount__):e.__views__.push({size:ai(r,4294967295),type:n+(0>e.__dir__?\"Right\":\"\")}),e},Ln.prototype[n+\"Right\"]=function(t){return this.reverse()[n](t).reverse()}}),u([\"filter\",\"map\",\"takeWhile\"],function(n,t){var r=t+1,e=1==r||3==r;Ln.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:Hr(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u([\"head\",\"last\"],function(n,t){var r=\"take\"+(t?\"Right\":\"\");Ln.prototype[n]=function(){return this[r](1).value()[0]}}),u([\"initial\",\"tail\"],function(n,t){var r=\"drop\"+(t?\"\":\"Right\");Ln.prototype[n]=function(){return this.__filtered__?new Ln(this):this[r](1)}}),Ln.prototype.compact=function(){return this.filter(pu)},Ln.prototype.find=function(n){return this.filter(n).head()},Ln.prototype.findLast=function(n){return this.reverse().find(n)},Ln.prototype.invokeMap=Kt(function(n,t){return\"function\"==typeof n?new Ln(this):this.map(function(r){return St(r,n,t)})}),Ln.prototype.reject=function(n){return this.filter(Ce(Hr(n)))},Ln.prototype.slice=function(n,t){n=Qe(n);var r=this;return r.__filtered__&&(0<n||0>t)?new Ln(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==D&&(t=Qe(t),r=0>t?r.dropRight(-t):r.take(t-n)),r)},Ln.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},yt(Ln.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=mn[e?\"take\"+(\"last\"==t?\"Right\":\"\"):t],i=e||/^find/.test(t);u&&(mn.prototype[t]=function(){function t(n){return n=u.apply(mn,l([n],f)),e&&h?n[0]:n}var o=this.__wrapped__,f=e?[1]:arguments,c=o instanceof Ln,a=f[0],s=c||Bo(o);s&&r&&\"function\"==typeof a&&1!=a.length&&(c=s=!1);var h=this.__chain__,p=!!this.__actions__.length;a=i&&!h,c=c&&!p;return!i&&s?(o=c?o:new Ln(this),(o=n.apply(o,f)).__actions__.push({func:Ee,args:[t],thisArg:D}),new Bn(o,h)):a&&c?n.apply(this,f):(o=this.thru(t),a?e?o.value()[0]:o.value():o)})}),u(\"pop push shift sort splice unshift\".split(\" \"),function(n){var t=Iu[n],r=/^(?:push|sort|unshift)$/.test(n)?\"tap\":\"thru\",e=/^(?:pop|shift)$/.test(n);mn.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(Bo(u)?u:[],n)}return this[r](function(r){return t.apply(Bo(r)?r:[],n)})}}),yt(Ln.prototype,function(n,t){var r=mn[t];if(r){var e=r.name+\"\";(ji[e]||(ji[e]=[])).push({name:t,func:r})}}),ji[Ir(D,2).name]=[{name:\"wrapper\",func:D}],Ln.prototype.clone=function(){var n=new Ln(this.__wrapped__);return n.__actions__=yr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=yr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=yr(this.__views__),n},Ln.prototype.reverse=function(){if(this.__filtered__){var n=new Ln(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n},Ln.prototype.value=function(){var n,t=this.__wrapped__.value(),r=this.__dir__,e=Bo(t),u=0>r,i=e?t.length:0;n=i;for(var o=this.__views__,f=0,c=-1,a=o.length;++c<a;){var l=o[c],s=l.size;switch(l.type){case\"drop\":f+=s;break;case\"dropRight\":n-=s;break;case\"take\":n=ai(n,f+s);break;case\"takeRight\":f=ci(f,n-s)}}if(n={start:f,end:n},o=n.start,f=n.end,n=f-o,o=u?f:o-1,f=this.__iteratees__,c=f.length,a=0,l=ai(n,this.__takeCount__),!e||!u&&i==n&&l==n)return ir(t,this.__actions__);e=[];n:for(;n--&&a<l;){for(u=-1,i=t[o+=r];++u<c;){s=(h=f[u]).type;var h=(0,h.iteratee)(i);if(2==s)i=h;else if(!h){if(1==s)continue n;break n}}e[a++]=i}return e},mn.prototype.at=so,mn.prototype.chain=function(){return ke(this)},mn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},mn.prototype.next=function(){this.__values__===D&&(this.__values__=Je(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?D:this.__values__[this.__index__++]}},mn.prototype.plant=function(n){for(var t,r=this;r instanceof En;){var e=ve(r);e.__index__=0,e.__values__=D,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t},mn.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Ln?(this.__actions__.length&&(n=new Ln(this)),(n=n.reverse()).__actions__.push({func:Ee,args:[we],thisArg:D}),new Bn(n,this.__chain__)):this.thru(we)},mn.prototype.toJSON=mn.prototype.valueOf=mn.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},mn.prototype.first=mn.prototype.head,Hu&&(mn.prototype[Hu]=function(){return this}),mn}();\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd?(Tn._=nt,define(function(){return nt})):Fn?((Fn.exports=nt)._=nt,$n._=nt):Tn._=nt}).call(this);","node_modules/moment/moment.js":"!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){\"use strict\";var e;function t(){return e.apply(null,arguments)}function n(e){return e instanceof Array||\"[object Array]\"===Object.prototype.toString.call(e)}function s(e){return null!=e&&\"[object Object]\"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function r(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||\"[object Date]\"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,\"toString\")&&(e.toString=t.toString),u(t,\"valueOf\")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}var c=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function f(e){if(null==e._isValid){var t=h(e),n=c.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}var _=t.momentProperties=[];function y(e,t){var n,s,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=h(t)),i(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)i(r=t[s=_[n]])||(e[s]=r);return e}var g=!1;function v(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,t.updateOffset(this),g=!1)}function p(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&M(e[s])!==M(t[s]))&&a++;return a+r}function k(e){!1===t.suppressDeprecationWarnings&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+e)}function D(e,n){var s=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i=\"\",\"object\"==typeof arguments[a]){i+=\"\\n[\"+a+\"] \";for(var o in arguments[0])i+=o+\": \"+arguments[0][o]+\", \";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}k(e+\"\\nArguments: \"+Array.prototype.slice.call(r).join(\"\")+\"\\n\"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}var Y={};function O(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Y[e]||(k(n),Y[e]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function x(e){return e instanceof Function||\"[object Function]\"===Object.prototype.toString.call(e)}function T(e,t){var n,i=l({},e);for(n in t)u(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&s(e[n])&&(i[n]=l({},i[n]));return i}function b(e){null!=e&&this.set(e)}var P=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var W={};function R(e,t){var n=e.toLowerCase();W[n]=W[n+\"s\"]=W[t]=e}function C(e){return\"string\"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function F(e){var t,n,s={};for(n in e)u(e,n)&&(t=C(n))&&(s[t]=e[n]);return s}var U={};function H(e,t){U[e]=t}function L(e,n){return function(s){return null!=s?(V(this,e,s),t.updateOffset(this,n),this):G(this,e)}}function G(e,t){return e.isValid()?e._d[\"get\"+(e._isUTC?\"UTC\":\"\")+t]():NaN}function V(e,t,n){e.isValid()&&e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n)}function N(e,t,n){var s=\"\"+Math.abs(e),i=t-s.length;return(e>=0?n?\"+\":\"\":\"-\")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var j=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,E={},I={};function Z(e,t,n,s){var i=s;\"string\"==typeof s&&(i=function(){return this[s]()}),e&&(I[e]=i),t&&(I[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,\"\"):e.replace(/\\\\/g,\"\")}function $(e,t){return e.isValid()?(t=q(t,e.localeData()),E[t]=E[t]||function(e){var t,n,s=e.match(j);for(t=0,n=s.length;t<n;t++)I[s[t]]?s[t]=I[s[t]]:s[t]=z(s[t]);return function(t){var i,r=\"\";for(i=0;i<n;i++)r+=x(s[i])?s[i].call(t,e):s[i];return r}}(t),E[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,s),A.lastIndex=0,n-=1;return e}var J=/\\d/,B=/\\d\\d/,Q=/\\d{3}/,X=/\\d{4}/,K=/[+-]?\\d{6}/,ee=/\\d\\d?/,te=/\\d\\d\\d\\d?/,ne=/\\d\\d\\d\\d\\d\\d?/,se=/\\d{1,3}/,ie=/\\d{1,4}/,re=/[+-]?\\d{1,6}/,ae=/\\d+/,oe=/[+-]?\\d+/,ue=/Z|[+-]\\d\\d:?\\d\\d/gi,le=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,de=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,he={};function ce(e,t,n){he[e]=x(t)?t:function(e,s){return e&&n?n:t}}function fe(e,t){return u(he,e)?he[e](t._strict,t._locale):new RegExp(function(e){return me(e.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}(e))}function me(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}var _e={};function ye(e,t){var n,s=t;for(\"string\"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)_e[e[n]]=s}function ge(e,t){ye(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function ve(e,t,n){null!=t&&u(_e,e)&&_e[e](t,n._a,n,e)}var pe=0,we=1,Me=2,Se=3,ke=4,De=5,Ye=6,Oe=7,xe=8,Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function be(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}Z(\"M\",[\"MM\",2],\"Mo\",function(){return this.month()+1}),Z(\"MMM\",0,0,function(e){return this.localeData().monthsShort(this,e)}),Z(\"MMMM\",0,0,function(e){return this.localeData().months(this,e)}),R(\"month\",\"M\"),H(\"month\",8),ce(\"M\",ee),ce(\"MM\",ee,B),ce(\"MMM\",function(e,t){return t.monthsShortRegex(e)}),ce(\"MMMM\",function(e,t){return t.monthsRegex(e)}),ye([\"M\",\"MM\"],function(e,t){t[we]=M(e)-1}),ye([\"MMM\",\"MMMM\"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[we]=i:h(n).invalidMonth=e});var Pe=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,We=\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\");var Re=\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\");function Ce(e,t){var n;if(!e.isValid())return e;if(\"string\"==typeof t)if(/^\\d+$/.test(t))t=M(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),be(e.year(),t)),e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+\"Month\"](t,n),e}function Fe(e){return null!=e?(Ce(this,e),t.updateOffset(this,!0),this):G(this,\"Month\")}var Ue=de;var He=de;function Le(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,\"\")),i.push(this.months(n,\"\")),r.push(this.months(n,\"\")),r.push(this.monthsShort(n,\"\"));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=me(s[t]),i[t]=me(i[t]);for(t=0;t<24;t++)r[t]=me(r[t]);this._monthsRegex=new RegExp(\"^(\"+r.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+s.join(\"|\")+\")\",\"i\")}Z(\"Y\",0,0,function(){var e=this.year();return e<=9999?\"\"+e:\"+\"+e}),Z(0,[\"YY\",2],0,function(){return this.year()%100}),Z(0,[\"YYYY\",4],0,\"year\"),Z(0,[\"YYYYY\",5],0,\"year\"),Z(0,[\"YYYYYY\",6,!0],0,\"year\"),R(\"year\",\"y\"),H(\"year\",1),ce(\"Y\",oe),ce(\"YY\",ee,B),ce(\"YYYY\",ie,X),ce(\"YYYYY\",re,K),ce(\"YYYYYY\",re,K),ye([\"YYYYY\",\"YYYYYY\"],pe),ye(\"YYYY\",function(e,n){n[pe]=2===e.length?t.parseTwoDigitYear(e):M(e)}),ye(\"YY\",function(e,n){n[pe]=t.parseTwoDigitYear(e)}),ye(\"Y\",function(e,t){t[pe]=parseInt(e,10)});function Ge(e){return Ve(e)?366:365}function Ve(e){return e%4==0&&e%100!=0||e%400==0}t.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Ne=L(\"FullYear\",!0);function je(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ae(e,t,n){var s=7+t-n;return-((7+je(e,0,s).getUTCDay()-t)%7)+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ae(e,s,i);return o<=0?a=Ge(r=e-1)+o:o>Ge(e)?(r=e+1,a=o-Ge(e)):(r=e,a=o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ae(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ze(i=e.year()-1,t,n):a>Ze(e.year(),t,n)?(s=a-Ze(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ze(e,t,n){var s=Ae(e,t,n),i=Ae(e+1,t,n);return(Ge(e)-s+i)/7}Z(\"w\",[\"ww\",2],\"wo\",\"week\"),Z(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),R(\"week\",\"w\"),R(\"isoWeek\",\"W\"),H(\"week\",5),H(\"isoWeek\",5),ce(\"w\",ee),ce(\"ww\",ee,B),ce(\"W\",ee),ce(\"WW\",ee,B),ge([\"w\",\"ww\",\"W\",\"WW\"],function(e,t,n,s){t[s.substr(0,1)]=M(e)});Z(\"d\",0,\"do\",\"day\"),Z(\"dd\",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Z(\"ddd\",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Z(\"dddd\",0,0,function(e){return this.localeData().weekdays(this,e)}),Z(\"e\",0,0,\"weekday\"),Z(\"E\",0,0,\"isoWeekday\"),R(\"day\",\"d\"),R(\"weekday\",\"e\"),R(\"isoWeekday\",\"E\"),H(\"day\",11),H(\"weekday\",11),H(\"isoWeekday\",11),ce(\"d\",ee),ce(\"e\",ee),ce(\"E\",ee),ce(\"dd\",function(e,t){return t.weekdaysMinRegex(e)}),ce(\"ddd\",function(e,t){return t.weekdaysShortRegex(e)}),ce(\"dddd\",function(e,t){return t.weekdaysRegex(e)}),ge([\"dd\",\"ddd\",\"dddd\"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),ge([\"d\",\"e\",\"E\"],function(e,t,n,s){t[s]=M(e)});var ze=\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\");var $e=\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\");var qe=\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\");var Je=de;var Be=de;var Qe=de;function Xe(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,\"\"),i=this.weekdaysShort(n,\"\"),r=this.weekdays(n,\"\"),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=me(o[t]),u[t]=me(u[t]),l[t]=me(l[t]);this._weekdaysRegex=new RegExp(\"^(\"+l.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+u.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+o.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+a.join(\"|\")+\")\",\"i\")}function Ke(){return this.hours()%12||12}Z(\"H\",[\"HH\",2],0,\"hour\"),Z(\"h\",[\"hh\",2],0,Ke),Z(\"k\",[\"kk\",2],0,function(){return this.hours()||24}),Z(\"hmm\",0,0,function(){return\"\"+Ke.apply(this)+N(this.minutes(),2)}),Z(\"hmmss\",0,0,function(){return\"\"+Ke.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),Z(\"Hmm\",0,0,function(){return\"\"+this.hours()+N(this.minutes(),2)}),Z(\"Hmmss\",0,0,function(){return\"\"+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)});function et(e,t){Z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}et(\"a\",!0),et(\"A\",!1),R(\"hour\",\"h\"),H(\"hour\",13);function tt(e,t){return t._meridiemParse}ce(\"a\",tt),ce(\"A\",tt),ce(\"H\",ee),ce(\"h\",ee),ce(\"k\",ee),ce(\"HH\",ee,B),ce(\"hh\",ee,B),ce(\"kk\",ee,B),ce(\"hmm\",te),ce(\"hmmss\",ne),ce(\"Hmm\",te),ce(\"Hmmss\",ne),ye([\"H\",\"HH\"],Se),ye([\"k\",\"kk\"],function(e,t,n){var s=M(e);t[Se]=24===s?0:s}),ye([\"a\",\"A\"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ye([\"h\",\"hh\"],function(e,t,n){t[Se]=M(e),h(n).bigHour=!0}),ye(\"hmm\",function(e,t,n){var s=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s)),h(n).bigHour=!0}),ye(\"hmmss\",function(e,t,n){var s=e.length-4,i=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s,2)),t[De]=M(e.substr(i)),h(n).bigHour=!0}),ye(\"Hmm\",function(e,t,n){var s=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s))}),ye(\"Hmmss\",function(e,t,n){var s=e.length-4,i=e.length-2;t[Se]=M(e.substr(0,s)),t[ke]=M(e.substr(s,2)),t[De]=M(e.substr(i))});var nt,st=L(\"Hours\",!0),it={calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},invalidDate:\"Invalid date\",ordinal:\"%d\",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",ss:\"%d seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},months:We,monthsShort:Re,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:qe,weekdaysShort:$e,meridiemParse:/[ap]\\.?m?\\.?/i},rt={},at={};function ot(e){return e?e.toLowerCase().replace(\"_\",\"-\"):e}function ut(e){var t=null;if(!rt[e]&&\"undefined\"!=typeof module&&module&&module.exports)try{t=nt._abbr,require(\"./locale/\"+e),lt(t)}catch(e){}return rt[e]}function lt(e,t){var n;return e&&(n=i(t)?ht(e):dt(e,t))&&(nt=n),nt._abbr}function dt(e,t){if(null!==t){var n=it;if(t.abbr=e,null!=rt[e])O(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),n=rt[e]._config;else if(null!=t.parentLocale){if(null==rt[t.parentLocale])return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;n=rt[t.parentLocale]._config}return rt[e]=new b(T(n,t)),at[e]&&at[e].forEach(function(e){dt(e.name,e.config)}),lt(e),rt[e]}return delete rt[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!n(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=ot(e[r]).split(\"-\")).length,n=(n=ot(e[r+1]))?n.split(\"-\"):null;t>0;){if(s=ut(i.slice(0,t).join(\"-\")))return s;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}r++}return null}(e)}function ct(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[we]<0||n[we]>11?we:n[Me]<1||n[Me]>be(n[pe],n[we])?Me:n[Se]<0||n[Se]>24||24===n[Se]&&(0!==n[ke]||0!==n[De]||0!==n[Ye])?Se:n[ke]<0||n[ke]>59?ke:n[De]<0||n[De]>59?De:n[Ye]<0||n[Ye]>999?Ye:-1,h(e)._overflowDayOfYear&&(t<pe||t>Me)&&(t=Me),h(e)._overflowWeeks&&-1===t&&(t=Oe),h(e)._overflowWeekday&&-1===t&&(t=xe),h(e).overflow=t),e}var ft=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,mt=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,_t=/Z|[+-]\\d\\d(?::?\\d\\d)?/,yt=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],gt=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],vt=/^\\/?Date\\((\\-?\\d+)/i;function pt(e){var t,n,s,i,r,a,o=e._i,u=ft.exec(o)||mt.exec(o);if(u){for(h(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[1])){i=yt[t][0],s=!1!==yt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[3])){r=(u[2]||\" \")+gt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_t.exec(u[4]))return void(e._isValid=!1);a=\"Z\"}e._f=i+(r||\"\")+(a||\"\"),Dt(e)}else e._isValid=!1}var wt=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;function Mt(e){var t,n,s,i,r,a,o,u,l={\" GMT\":\" +0000\",\" EDT\":\" -0400\",\" EST\":\" -0500\",\" CDT\":\" -0500\",\" CST\":\" -0600\",\" MDT\":\" -0600\",\" MST\":\" -0700\",\" PDT\":\" -0700\",\" PST\":\" -0800\"};if(t=e._i.replace(/\\([^\\)]*\\)|[\\n\\t]/g,\" \").replace(/(\\s\\s+)/g,\" \").replace(/^\\s|\\s$/g,\"\"),n=wt.exec(t)){if(s=n[1]?\"ddd\"+(5===n[1].length?\", \":\" \"):\"\",i=\"D MMM \"+(n[2].length>10?\"YYYY \":\"YY \"),r=\"HH:mm\"+(n[4]?\":ss\":\"\"),n[1]){var d=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==d)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:o=0===u?\" +0000\":((u=\"YXWVUTSRQPONZABCDEFGHIKLM\".indexOf(n[5][1].toUpperCase())-12)<0?\" -\":\" +\")+(\"\"+u).replace(/^-?/,\"0\").match(/..$/)[0]+\"00\";break;case 4:o=l[n[5]];break;default:o=l[\" GMT\"]}n[5]=o,e._i=n.splice(1).join(\"\"),a=\" ZZ\",e._f=s+i+r+a,Dt(e),h(e).rfc2822=!0}else e._isValid=!1}t.createFromInputFallback=D(\"value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",function(e){e._d=new Date(e._i+(e._useUTC?\" UTC\":\"\"))});function St(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var n,s,i,r,a=[];if(!e._d){for(i=function(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(e),e._w&&null==e._a[Me]&&null==e._a[we]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=St(t.GG,e._a[pe],Ie(xt(),1,4).year),s=St(t.W,1),((i=St(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(xt(),r,a);n=St(t.gg,e._a[pe],l.year),s=St(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>Ze(n,r,a)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[pe]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=St(e._a[pe],i[pe]),(e._dayOfYear>Ge(r)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),s=je(r,0,e._dayOfYear),e._a[we]=s.getUTCMonth(),e._a[Me]=s.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;n<7;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Se]&&0===e._a[ke]&&0===e._a[De]&&0===e._a[Ye]&&(e._nextDay=!0,e._a[Se]=0),e._d=(e._useUTC?je:function(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Se]=24)}}t.ISO_8601=function(){},t.RFC_2822=function(){};function Dt(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],h(e).empty=!0;var n,s,i,r,a,o=\"\"+e._i,u=o.length,l=0;for(i=q(e._f,e._locale).match(j)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(fe(r,e))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&h(e).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),I[r]?(s?h(e).empty=!1:h(e).unusedTokens.push(r),ve(r,s,e)):e._strict&&!s&&h(e).unusedTokens.push(r);h(e).charsLeftOver=u-l,o.length>0&&h(e).unusedInput.push(o),e._a[Se]<=12&&!0===h(e).bigHour&&e._a[Se]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Se]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}(e._locale,e._a[Se],e._meridiem),kt(e),ct(e)}else Mt(e);else pt(e)}function Yt(e){var u=e._i,d=e._f;return e._locale=e._locale||ht(e._l),null===u||void 0===d&&\"\"===u?m({nullInput:!0}):(\"string\"==typeof u&&(e._i=u=e._locale.preparse(u)),p(u)?new v(ct(u)):(a(u)?e._d=u:n(d)?function(e){var t,n,s,i,r;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Dt(t),f(t)&&(r+=h(t).charsLeftOver,r+=10*h(t).unusedTokens.length,h(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}(e):d?Dt(e):function(e){var u=e._i;i(u)?e._d=new Date(t.now()):a(u)?e._d=new Date(u.valueOf()):\"string\"==typeof u?function(e){var n=vt.exec(e._i);null===n?(pt(e),!1===e._isValid&&(delete e._isValid,Mt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}(e):n(u)?(e._a=o(u.slice(0),function(e){return parseInt(e,10)}),kt(e)):s(u)?function(e){if(!e._d){var t=F(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),kt(e)}}(e):r(u)?e._d=new Date(u):t.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Ot(e,t,i,r,a){var o={};return!0!==i&&!1!==i||(r=i,i=void 0),(s(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=i,o._i=e,o._f=t,o._strict=r,function(e){var t=new v(ct(Yt(e)));return t._nextDay&&(t.add(1,\"d\"),t._nextDay=void 0),t}(o)}function xt(e,t,n,s){return Ot(e,t,n,s,!1)}var Tt=D(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),bt=D(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()});function Pt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return xt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}var Wt=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"];function Rt(e){var t=F(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Wt.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Wt.length;++s)if(e[Wt[s]]){if(n)return!1;parseFloat(e[Wt[s]])!==M(e[Wt[s]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble()}function Ct(e){return e instanceof Rt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){Z(e,0,0,function(){var e=this.utcOffset(),n=\"+\";return e<0&&(e=-e,n=\"-\"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}Ut(\"Z\",\":\"),Ut(\"ZZ\",\"\"),ce(\"Z\",le),ce(\"ZZ\",le),ye([\"Z\",\"ZZ\"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(le,e)});var Ht=/([\\+\\-]|\\d\\d)/gi;function Lt(e,t){var n=(t||\"\").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+\"\").match(Ht)||[\"-\",0,0],i=60*s[1]+M(s[2]);return 0===i?0:\"+\"===s[0]?i:-i}function Gt(e,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(e)||a(e)?e.valueOf():xt(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),t.updateOffset(s,!1),s):xt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}t.updateOffset=function(){};function Nt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}var jt=/^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,At=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Et(e,t){var n,s,i,a=e,o=null;return Ct(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=jt.exec(e))?(n=\"-\"===o[1]?-1:1,a={y:0,d:M(o[Me])*n,h:M(o[Se])*n,m:M(o[ke])*n,s:M(o[De])*n,ms:M(Ft(1e3*o[Ye]))*n}):(o=At.exec(e))?(n=\"-\"===o[1]?-1:1,a={y:It(o[2],n),M:It(o[3],n),w:It(o[4],n),d:It(o[5],n),h:It(o[6],n),m:It(o[7],n),s:It(o[8],n)}):null==a?a={}:\"object\"==typeof a&&(\"from\"in a||\"to\"in a)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=Zt(e,t):((n=Zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(xt(a.from),xt(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),s=new Rt(a),Ct(e)&&u(e,\"_locale\")&&(s._locale=e._locale),s}Et.fn=Rt.prototype,Et.invalid=function(){return Et(NaN)};function It(e,t){var n=e&&parseFloat(e.replace(\",\",\".\"));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,\"M\").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,\"M\"),n}function zt(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(O(t,\"moment().\"+t+\"(period, number) is deprecated. Please use moment().\"+t+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),r=n,n=s,s=r),n=\"string\"==typeof n?+n:n,i=Et(n,s),$t(this,i,e),this}}function $t(e,n,s,i){var r=n._milliseconds,a=Ft(n._days),o=Ft(n._months);e.isValid()&&(i=null==i||i,r&&e._d.setTime(e._d.valueOf()+r*s),a&&V(e,\"Date\",G(e,\"Date\")+a*s),o&&Ce(e,G(e,\"Month\")+o*s),i&&t.updateOffset(e,a||o))}var qt=zt(1,\"add\"),Jt=zt(-1,\"subtract\");t.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",t.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";function Bt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}var Qt=D(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(e){return void 0===e?this.localeData():this.locale(e)});function Xt(){return this._locale}Z(0,[\"gg\",2],0,function(){return this.weekYear()%100}),Z(0,[\"GG\",2],0,function(){return this.isoWeekYear()%100});function Kt(e,t){Z(0,[e,e.length],0,t)}Kt(\"gggg\",\"weekYear\"),Kt(\"ggggg\",\"weekYear\"),Kt(\"GGGG\",\"isoWeekYear\"),Kt(\"GGGGG\",\"isoWeekYear\"),R(\"weekYear\",\"gg\"),R(\"isoWeekYear\",\"GG\"),H(\"weekYear\",1),H(\"isoWeekYear\",1),ce(\"G\",oe),ce(\"g\",oe),ce(\"GG\",ee,B),ce(\"gg\",ee,B),ce(\"GGGG\",ie,X),ce(\"gggg\",ie,X),ce(\"GGGGG\",re,K),ce(\"ggggg\",re,K),ge([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],function(e,t,n,s){t[s.substr(0,2)]=M(e)}),ge([\"gg\",\"GG\"],function(e,n,s,i){n[i]=t.parseTwoDigitYear(e)});function en(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:(r=Ze(e,s,i),t>r&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=je(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}Z(\"Q\",0,\"Qo\",\"quarter\"),R(\"quarter\",\"Q\"),H(\"quarter\",7),ce(\"Q\",J),ye(\"Q\",function(e,t){t[we]=3*(M(e)-1)});Z(\"D\",[\"DD\",2],\"Do\",\"date\"),R(\"date\",\"D\"),H(\"date\",9),ce(\"D\",ee),ce(\"DD\",ee,B),ce(\"Do\",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ye([\"D\",\"DD\"],Me),ye(\"Do\",function(e,t){t[Me]=M(e.match(ee)[0])});var tn=L(\"Date\",!0);Z(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),R(\"dayOfYear\",\"DDD\"),H(\"dayOfYear\",4),ce(\"DDD\",se),ce(\"DDDD\",Q),ye([\"DDD\",\"DDDD\"],function(e,t,n){n._dayOfYear=M(e)});Z(\"m\",[\"mm\",2],0,\"minute\"),R(\"minute\",\"m\"),H(\"minute\",14),ce(\"m\",ee),ce(\"mm\",ee,B),ye([\"m\",\"mm\"],ke);var nn=L(\"Minutes\",!1);Z(\"s\",[\"ss\",2],0,\"second\"),R(\"second\",\"s\"),H(\"second\",15),ce(\"s\",ee),ce(\"ss\",ee,B),ye([\"s\",\"ss\"],De);var sn=L(\"Seconds\",!1);Z(\"S\",0,0,function(){return~~(this.millisecond()/100)}),Z(0,[\"SS\",2],0,function(){return~~(this.millisecond()/10)}),Z(0,[\"SSS\",3],0,\"millisecond\"),Z(0,[\"SSSS\",4],0,function(){return 10*this.millisecond()}),Z(0,[\"SSSSS\",5],0,function(){return 100*this.millisecond()}),Z(0,[\"SSSSSS\",6],0,function(){return 1e3*this.millisecond()}),Z(0,[\"SSSSSSS\",7],0,function(){return 1e4*this.millisecond()}),Z(0,[\"SSSSSSSS\",8],0,function(){return 1e5*this.millisecond()}),Z(0,[\"SSSSSSSSS\",9],0,function(){return 1e6*this.millisecond()}),R(\"millisecond\",\"ms\"),H(\"millisecond\",16),ce(\"S\",se,J),ce(\"SS\",se,B),ce(\"SSS\",se,Q);var rn;for(rn=\"SSSS\";rn.length<=9;rn+=\"S\")ce(rn,ae);function an(e,t){t[Ye]=M(1e3*(\"0.\"+e))}for(rn=\"S\";rn.length<=9;rn+=\"S\")ye(rn,an);var on=L(\"Milliseconds\",!1);Z(\"z\",0,0,\"zoneAbbr\"),Z(\"zz\",0,0,\"zoneName\");var un=v.prototype;un.add=qt,un.calendar=function(e,n){var s=e||xt(),i=Gt(s,this).startOf(\"day\"),r=t.calendarFormat(this,i)||\"sameElse\",a=n&&(x(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,xt(s)))},un.clone=function(){return new v(this)},un.diff=function(e,t,n){var s,i,r,a;return this.isValid()&&(s=Gt(e,this)).isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),\"year\"===(t=C(t))||\"month\"===t||\"quarter\"===t?(a=function(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,\"months\");return t-r<0?(n=e.clone().add(i-1,\"months\"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,\"months\"),s=(t-r)/(n-r)),-(i+s)||0}(this,s),\"quarter\"===t?a/=3:\"year\"===t&&(a/=12)):(r=this-s,a=\"second\"===t?r/1e3:\"minute\"===t?r/6e4:\"hour\"===t?r/36e5:\"day\"===t?(r-i)/864e5:\"week\"===t?(r-i)/6048e5:r),n?a:w(a)):NaN},un.endOf=function(e){return void 0===(e=C(e))||\"millisecond\"===e?this:(\"date\"===e&&(e=\"day\"),this.startOf(e).add(1,\"isoWeek\"===e?\"week\":e).subtract(1,\"ms\"))},un.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=$(this,e);return this.localeData().postformat(n)},un.from=function(e,t){return this.isValid()&&(p(e)&&e.isValid()||xt(e).isValid())?Et({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(xt(),e)},un.to=function(e,t){return this.isValid()&&(p(e)&&e.isValid()||xt(e).isValid())?Et({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(xt(),e)},un.get=function(e){return e=C(e),x(this[e])?this[e]():this},un.invalidAt=function(){return h(this).overflow},un.isAfter=function(e,t){var n=p(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=C(i(t)?\"millisecond\":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=p(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=C(i(t)?\"millisecond\":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,s){return(\"(\"===(s=s||\"()\")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(\")\"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},un.isSame=function(e,t){var n,s=p(e)?e:xt(e);return!(!this.isValid()||!s.isValid())&&(\"millisecond\"===(t=C(t||\"millisecond\"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return f(this)},un.lang=Qt,un.locale=Bt,un.localeData=Xt,un.max=bt,un.min=Tt,un.parsingFlags=function(){return l({},h(this))},un.set=function(e,t){if(\"object\"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=F(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=C(e),x(this[e]))return this[e](t);return this},un.startOf=function(e){switch(e=C(e)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":case\"date\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===e&&this.weekday(0),\"isoWeek\"===e&&this.isoWeekday(1),\"quarter\"===e&&this.month(3*Math.floor(this.month()/3)),this},un.subtract=Jt,un.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},un.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?$(e,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):x(Date.prototype.toISOString)?this.toDate().toISOString():$(e,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},un.inspect=function(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var e=\"moment\",t=\"\";this.isLocal()||(e=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",t=\"Z\");var n=\"[\"+e+'(\"]',s=0<=this.year()&&this.year()<=9999?\"YYYY\":\"YYYYYY\",i=t+'[\")]';return this.format(n+s+\"-MM-DD[T]HH:mm:ss.SSS\"+i)},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=Ne,un.isLeapYear=function(){return Ve(this.year())},un.weekYear=function(e){return en.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return en.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Fe,un.daysInMonth=function(){return be(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),\"d\")},un.isoWeek=un.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),\"d\")},un.weeksInYear=function(){var e=this.localeData()._week;return Ze(this.year(),e.dow,e.doy)},un.isoWeeksInYear=function(){return Ze(this.year(),1,4)},un.date=tn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return\"string\"!=typeof e?e:isNaN(e)?\"number\"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,\"d\")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,\"d\")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return\"string\"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==e?t:this.add(e-t,\"d\")},un.hour=un.hours=st,un.minute=un.minutes=nn,un.second=un.seconds=sn,un.millisecond=un.milliseconds=on,un.utcOffset=function(e,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if(\"string\"==typeof e){if(null===(e=Lt(le,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&n&&(i=Vt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,\"m\"),r!==e&&(!n||this._changeInProgress?$t(this,Et(e-r,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Vt(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),\"m\")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if(\"string\"==typeof this._i){var e=Lt(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=Nt,un.isUTC=Nt,un.zoneAbbr=function(){return this._isUTC?\"UTC\":\"\"},un.zoneName=function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},un.dates=D(\"dates accessor is deprecated. Use date instead.\",tn),un.months=D(\"months accessor is deprecated. Use month instead\",Fe),un.years=D(\"years accessor is deprecated. Use year instead\",Ne),un.zone=D(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",function(e,t){return null!=e?(\"string\"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),un.isDSTShifted=D(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Yt(e))._a){var t=e._isUTC?d(e._a):xt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});function ln(e){return e}var dn=b.prototype;dn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return x(s)?s.call(t,n):s},dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(e){return this._ordinal.replace(\"%d\",e)},dn.preparse=ln,dn.postformat=ln,dn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return x(i)?i(e,t,n,s):i.replace(/%d/i,e)},dn.pastFuture=function(e,t){var n=this._relativeTime[e>0?\"future\":\"past\"];return x(n)?n(t):n.replace(/%s/i,t)},dn.set=function(e){var t,n;for(n in e)x(t=e[n])?this[n]=t:this[\"_\"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+\"|\"+/\\d{1,2}/.source)},dn.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?\"format\":\"standalone\"][e.month()]:n(this._months)?this._months:this._months.standalone},dn.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?\"format\":\"standalone\"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,\"\").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,\"\").toLocaleLowerCase();return n?\"MMM\"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:\"MMM\"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:-1!==(i=Te.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp(\"^\"+this.months(i,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[s]=new RegExp(\"^\"+this.monthsShort(i,\"\").replace(\".\",\"\")+\"$\",\"i\")),n||this._monthsParse[s]||(r=\"^\"+this.months(i,\"\")+\"|^\"+this.monthsShort(i,\"\"),this._monthsParse[s]=new RegExp(r.replace(\".\",\"\"),\"i\")),n&&\"MMMM\"===t&&this._longMonthsParse[s].test(e))return s;if(n&&\"MMM\"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},dn.monthsRegex=function(e){return this._monthsParseExact?(u(this,\"_monthsRegex\")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,\"_monthsRegex\")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,\"_monthsRegex\")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,\"_monthsShortRegex\")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?\"format\":\"standalone\"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},dn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},dn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},dn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,\"\").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,\"\").toLocaleLowerCase();return n?\"dddd\"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:null:\"ddd\"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:\"dddd\"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:\"ddd\"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp(\"^\"+this.weekdays(i,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._shortWeekdaysParse[s]=new RegExp(\"^\"+this.weekdaysShort(i,\"\").replace(\".\",\".?\")+\"$\",\"i\"),this._minWeekdaysParse[s]=new RegExp(\"^\"+this.weekdaysMin(i,\"\").replace(\".\",\".?\")+\"$\",\"i\")),this._weekdaysParse[s]||(r=\"^\"+this.weekdays(i,\"\")+\"|^\"+this.weekdaysShort(i,\"\")+\"|^\"+this.weekdaysMin(i,\"\"),this._weekdaysParse[s]=new RegExp(r.replace(\".\",\"\"),\"i\")),n&&\"dddd\"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&\"ddd\"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&\"dd\"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,\"_weekdaysRegex\")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,\"_weekdaysRegex\")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(e){return\"p\"===(e+\"\").toLowerCase().charAt(0)},dn.meridiem=function(e,t,n){return e>11?n?\"pm\":\"PM\":n?\"am\":\"AM\"};function hn(e,t,n,s){var i=ht(),r=d().set(s,t);return i[n](r,e)}function cn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||\"\",null!=t)return hn(e,t,n,\"month\");var s,i=[];for(s=0;s<12;s++)i[s]=hn(e,s,n,\"month\");return i}function fn(e,t,n,s){\"boolean\"==typeof e?(r(t)&&(n=t,t=void 0),t=t||\"\"):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||\"\");var i=ht(),a=e?i._week.dow:0;if(null!=n)return hn(t,(n+a)%7,s,\"day\");var o,u=[];for(o=0;o<7;o++)u[o]=hn(t,(o+a)%7,s,\"day\");return u}lt(\"en\",{dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?\"th\":1===t?\"st\":2===t?\"nd\":3===t?\"rd\":\"th\")}}),t.lang=D(\"moment.lang is deprecated. Use moment.locale instead.\",lt),t.langData=D(\"moment.langData is deprecated. Use moment.localeData instead.\",ht);var mn=Math.abs;function _n(e,t,n,s){var i=Et(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function gn(e){return 4800*e/146097}function vn(e){return 146097*e/4800}function pn(e){return function(){return this.as(e)}}var wn=pn(\"ms\"),Mn=pn(\"s\"),Sn=pn(\"m\"),kn=pn(\"h\"),Dn=pn(\"d\"),Yn=pn(\"w\"),On=pn(\"M\"),xn=pn(\"y\");function Tn(e){return function(){return this.isValid()?this._data[e]:NaN}}var bn=Tn(\"milliseconds\"),Pn=Tn(\"seconds\"),Wn=Tn(\"minutes\"),Rn=Tn(\"hours\"),Cn=Tn(\"days\"),Fn=Tn(\"months\"),Un=Tn(\"years\");var Hn=Math.round,Ln={ss:44,s:45,m:45,h:22,d:26,M:11};var Gn=Math.abs;function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Gn(this._milliseconds)/1e3,s=Gn(this._days),i=Gn(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var r=w(i/12),a=i%=12,o=s,u=t,l=e,d=n,h=this.asSeconds();return h?(h<0?\"-\":\"\")+\"P\"+(r?r+\"Y\":\"\")+(a?a+\"M\":\"\")+(o?o+\"D\":\"\")+(u||l||d?\"T\":\"\")+(u?u+\"H\":\"\")+(l?l+\"M\":\"\")+(d?d+\"S\":\"\"):\"P0D\"}var Nn=Rt.prototype;return Nn.isValid=function(){return this._isValid},Nn.abs=function(){var e=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),e.milliseconds=mn(e.milliseconds),e.seconds=mn(e.seconds),e.minutes=mn(e.minutes),e.hours=mn(e.hours),e.months=mn(e.months),e.years=mn(e.years),this},Nn.add=function(e,t){return _n(this,e,t,1)},Nn.subtract=function(e,t){return _n(this,e,t,-1)},Nn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(\"month\"===(e=C(e))||\"year\"===e)return t=this._days+s/864e5,n=this._months+gn(t),\"month\"===e?n:n/12;switch(t=this._days+Math.round(vn(this._months)),e){case\"week\":return t/7+s/6048e5;case\"day\":return t+s/864e5;case\"hour\":return 24*t+s/36e5;case\"minute\":return 1440*t+s/6e4;case\"second\":return 86400*t+s/1e3;case\"millisecond\":return Math.floor(864e5*t)+s;default:throw new Error(\"Unknown unit \"+e)}},Nn.asMilliseconds=wn,Nn.asSeconds=Mn,Nn.asMinutes=Sn,Nn.asHours=kn,Nn.asDays=Dn,Nn.asWeeks=Yn,Nn.asMonths=On,Nn.asYears=xn,Nn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Nn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*yn(vn(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(gn(a)),o+=i,a-=yn(vn(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},Nn.get=function(e){return e=C(e),this.isValid()?this[e+\"s\"]():NaN},Nn.milliseconds=bn,Nn.seconds=Pn,Nn.minutes=Wn,Nn.hours=Rn,Nn.days=Cn,Nn.weeks=function(){return w(this.days()/7)},Nn.months=Fn,Nn.years=Un,Nn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var s=Et(e).abs(),i=Hn(s.as(\"s\")),r=Hn(s.as(\"m\")),a=Hn(s.as(\"h\")),o=Hn(s.as(\"d\")),u=Hn(s.as(\"M\")),l=Hn(s.as(\"y\")),d=i<=Ln.ss&&[\"s\",i]||i<Ln.s&&[\"ss\",i]||r<=1&&[\"m\"]||r<Ln.m&&[\"mm\",r]||a<=1&&[\"h\"]||a<Ln.h&&[\"hh\",a]||o<=1&&[\"d\"]||o<Ln.d&&[\"dd\",o]||u<=1&&[\"M\"]||u<Ln.M&&[\"MM\",u]||l<=1&&[\"y\"]||[\"yy\",l];return d[2]=t,d[3]=+e>0,d[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,d)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Nn.toISOString=Vn,Nn.toString=Vn,Nn.toJSON=Vn,Nn.locale=Bt,Nn.localeData=Xt,Nn.toIsoString=D(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",Vn),Nn.lang=Qt,Z(\"X\",0,0,\"unix\"),Z(\"x\",0,0,\"valueOf\"),ce(\"x\",oe),ce(\"X\",/[+-]?\\d+(\\.\\d{1,3})?/),ye(\"X\",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ye(\"x\",function(e,t,n){n._d=new Date(M(e))}),t.version=\"2.18.1\",function(t){e=t}(xt),t.fn=un,t.min=function(){return Pt(\"isBefore\",[].slice.call(arguments,0))},t.max=function(){return Pt(\"isAfter\",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=d,t.unix=function(e){return xt(1e3*e)},t.months=function(e,t){return cn(e,t,\"months\")},t.isDate=a,t.locale=lt,t.invalid=m,t.duration=Et,t.isMoment=p,t.weekdays=function(e,t,n){return fn(e,t,n,\"weekdays\")},t.parseZone=function(){return xt.apply(null,arguments).parseZone()},t.localeData=ht,t.isDuration=Ct,t.monthsShort=function(e,t){return cn(e,t,\"monthsShort\")},t.weekdaysMin=function(e,t,n){return fn(e,t,n,\"weekdaysMin\")},t.defineLocale=dt,t.updateLocale=function(e,t){if(null!=t){var n,s=it;null!=rt[e]&&(s=rt[e]._config),(n=new b(t=T(s,t))).parentLocale=rt[e],rt[e]=n,lt(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?rt[e]=rt[e].parentLocale:null!=rt[e]&&delete rt[e]);return rt[e]},t.locales=function(){return P(rt)},t.weekdaysShort=function(e,t,n){return fn(e,t,n,\"weekdaysShort\")},t.normalizeUnits=C,t.relativeTimeRounding=function(e){return void 0===e?Hn:\"function\"==typeof e&&(Hn=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==Ln[e]&&(void 0===t?Ln[e]:(Ln[e]=t,\"s\"===e&&(Ln.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,\"days\",!0);return n<-6?\"sameElse\":n<-1?\"lastWeek\":n<0?\"lastDay\":n<1?\"sameDay\":n<2?\"nextDay\":n<7?\"nextWeek\":\"sameElse\"},t.prototype=un,t});","node_modules/h5.main/lib/index.js":"module.exports=require(\"./main\");","backend/helpers.js":"\"use strict\";exports.formatDate=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getMonth()+1,n=t.getDate();let r=t.getFullYear()+\"-\";return r+=e<10?\"0\"+e:e,r+=n<10?\"-0\"+n:\"-\"+n},exports.formatTime=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();let o=e<10?\"0\"+e:e;return o+=n<10?\":0\"+n:\":\"+n,o+=r<10?\":0\"+r:\":\"+r},exports.formatDateTime=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getMonth()+1,n=t.getDate(),r=t.getHours(),o=t.getMinutes(),a=t.getSeconds();let s=t.getFullYear();return s+=e<10?\"-0\"+e:\"-\"+e,s+=n<10?\"-0\"+n:\"-\"+n,s+=r<10?\" 0\"+r:\" \"+r,s+=o<10?\":0\"+o:\":\"+o,s+=a<10?\":0\"+a:\":\"+a},exports.formatDateUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCMonth()+1,n=t.getUTCDate();let r=t.getUTCFullYear()+\"-\";return r+=e<10?\"0\"+e:e,r+=n<10?\"-0\"+n:\"-\"+n},exports.formatTimeUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds();let o=e<10?\"0\"+e:e;return o+=n<10?\":0\"+n:\":\"+n,o+=r<10?\":0\"+r:\":\"+r},exports.formatDateTimeUtc=function(t){if(!t)return\"\";t instanceof Date||(t=new Date(t));const e=t.getUTCMonth()+1,n=t.getUTCDate(),r=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds();let s=t.getUTCFullYear();return s+=e<10?\"-0\"+e:\"-\"+e,s+=n<10?\"-0\"+n:\"-\"+n,s+=r<10?\" 0\"+r:\" \"+r,s+=o<10?\":0\"+o:\":\"+o,s+=a<10?\":0\"+a:\":\"+a},exports.createError=function(t,e,n){\"number\"==typeof e&&(n=e,e=void 0);const r=new Error(t);return r.code=e,r.status=n,r};","node_modules/h5.main/lib/main.js":"\"use strict\";var DEFAULT_OPTIONS={moduleStartTimeout:2e3,rootPath:process.cwd(),env:process.env.NODE_ENV||\"development\",startTime:Date.now(),id:\"nonameapp\"},step=require(\"h5.step\"),MessageBroker=require(\"h5.pubsub\").MessageBroker,appUtils=require(\"./utils/app\"),logUtils=require(\"./utils/log\");module.exports=function(e,t){null!==e&&\"object\"==typeof e||(e={}),null!==e.options&&\"object\"==typeof e.options||(e.options={}),Object.keys(DEFAULT_OPTIONS).forEach(function(t){void 0===e.options[t]&&(e.options[t]=DEFAULT_OPTIONS[t])}),e.broker=new MessageBroker,e.main={startedModules:[]},appUtils.extend(e),logUtils.extend(e);function o(t,o,n){return function(s){if(s)return this.skip(s);e.main.startedModules.push(o.name),e[o.name]=o,e.broker.publish(\"app.modules.starting\",o.name),t.currentModuleName=o.name,3===n.start.length?function(t,o,n){e.debug(\"%s module starting asynchronously...\",t.name);var s=e.timeout(e.options.moduleStartTimeout,function(){e.error(\"%s module failed to start in the allowed time of %ds\",t.name,e.options.moduleStartTimeout/1e3),process.exit(1)});o.start(e,t,function(o){clearTimeout(s),o?(o instanceof Error||((o=new Error(o.toString())).stack=null),o.moduleName=t.name):e.broker.publish(\"app.modules.started\",t.name),n(o)})}(o,n,this.next()):(s=function(t,o){e.debug(\"%s module starting synchronously...\",t.name);try{o.start(e,t)}catch(e){return e}return e.broker.publish(\"app.modules.started\",t.name),null}(o,n))&&this.skip(s)}}step(function(){e.info(\"Starting...\");var n=[];t.forEach(function(t,n){\".\"===n.path.charAt(0)?n.path=e.pathTo(n.path):n.path=e.pathTo(\"node_modules\",n.path);var s;try{s=require(n.path)}catch(t){e.error(\"%s module failed to load: %s\",n.name,e.stackOrMessage(t.stack)),process.exit(1)}null!==s&&\"object\"==typeof s&&\"function\"==typeof s.start||(e.error(\"%s is not a valid module: missing the start() function\",n.name),process.exit(1));var r=n.config||{};null!=s.DEFAULT_CONFIG&&Object.keys(s.DEFAULT_CONFIG).forEach(function(e){void 0===r[e]&&(r[e]=s.DEFAULT_CONFIG[e])}),n.config=r,logUtils.extend(n,\"[\"+n.name+\"] \"),t.push(o(t,n,s))}.bind(null,n));var s=this.next();n.push(function(e){e&&!e.moduleName&&(e.moduleName=n.currentModuleName),s(e)}),step(n)},function(t){t&&(e.error(\"%s module failed to start: %s\",t.moduleName,e.stackOrMessage(t)),process.exit(1));var o=e.options.env,n=Date.now()-e.options.startTime;e.info(\"Started the %s environment in %d ms\",o,n),e.broker.publish(\"app.started\",{id:e.options.id,env:o,time:n})})};","node_modules/h5.step/lib/index.js":"module.exports=step;var ACTION_NONE=\"none\",ACTION_NEXT=\"next\",ACTION_SKIP=\"skip\",ACTION_DONE=\"done\",ACTION_GROUP=\"group\",ACTION_PARALLEL=\"parallel\",slice=Array.prototype.slice;function step(){var n=Array.isArray(arguments[0])?arguments[0]:arguments,r=n.length;if(0!==r){var e=-1,l=ACTION_NONE,t=null,u=!1,a=null,N=0,c=0,A=null,O={};Object.defineProperties(O,{next:{value:function(){return-1!==e&&(assertAction(ACTION_NEXT,l),l=ACTION_NEXT),i}},skip:{value:function(){assertAction(ACTION_SKIP,l),l=ACTION_SKIP,t=arguments}},done:{value:function(){assertAction(ACTION_DONE,l),l=ACTION_DONE,t=arguments}},parallel:{value:function(){l===ACTION_PARALLEL?++N:(assertAction(ACTION_PARALLEL,l),l=ACTION_PARALLEL,N=1,c=0,A=[]);var n=N-1;return function(){A[n]=slice.call(arguments),++c,l===ACTION_NONE&&c===N&&s()}}},group:{value:function(){l===ACTION_GROUP?++N:(assertAction(ACTION_GROUP,l),l=ACTION_GROUP,N=1,c=0,A=[]);var n=N-1;return function(){A[n]=slice.call(arguments),++c,l===ACTION_NONE&&c===N&&T()}}}}),i()}function i(){if(l!==ACTION_NONE){if(u)return;return u=!0,a=slice.call(arguments),process.nextTick(function(){l=ACTION_NONE;var n=a;return u=!1,a=null,i.apply(null,n)})}if(!(++e>=r)){var t=n[e].apply(O,arguments);t&&t.then&&t.catch?t.then(function(n){o(null,n)}).catch(function(n){o(n,null)}):o()}}function o(n,u){var a=l,A=t;switch(l=ACTION_NONE,t=null,a){case ACTION_NEXT:return;case ACTION_NONE:return i(n,u);case ACTION_SKIP:var O=r-1;if(e<O)return e=O-1,i.apply(null,slice.call(A));break;case ACTION_DONE:if(0===A.length)return;var o=A[0];if(\"function\"!=typeof o)return;return o.apply(null,slice.call(A,1));case ACTION_PARALLEL:if(N===c)return s();break;case ACTION_GROUP:if(N===c)return T()}}function s(){for(var n=[null],r=0;r<N;++r){var e=A[r];null===n[0]&&e[0]&&(n[0]=e[0]),n.push(e[1])}i.apply(null,n)}function T(){for(var n=null,r=[],e=0;e<N;++e){var l=A[e];null===n&&l[0]&&(n=l[0]),r.push(l[1])}i.call(null,n,r)}}function assertAction(n,r){if(r!==ACTION_NONE)throw new Error(n+\"() cannot be used because \"+r+\"() was already invoked.\")}","node_modules/h5.pubsub/lib/index.js":"\"use strict\";exports.MessageBroker=require(\"./MessageBroker\");","node_modules/h5.main/lib/utils/app.js":"\"use strict\";var fs=require(\"fs\"),path=require(\"path\"),step=require(\"h5.step\");exports.extend=function(t){t.stackOrMessage=function(t){return t?t instanceof Error?t.stack||t.message:t.toString():\"\"},t.timeout=function(t,n){return setTimeout(n,t)},t.pathTo=function(){var n=Array.prototype.slice.call(arguments);return t.options&&t.options.rootPath&&n.unshift(t.options.rootPath),path.join.apply(null,n)},t.loadDir=function(n,e,r){fs.readdir(n,function(i,o){return i?r(i):0===(o=o.filter(function(t){if(\".\"===t[0]||\"index.js\"===t)return!1;var n=t.lastIndexOf(\".\");return-1!==n&&\"js\"===t.substr(n+1,2)})).length?r():void t.loadFiles(n,o,e,r)})},t.loadFiles=function(t,n,e,r){var i=[];n.forEach(function(n){i.push(function(r){if(r)return this.skip(r);var i=require(path.join(t,n));if(\"function\"==typeof i)if(i.length!==e.length+1)try{i.apply(null,e)}catch(r){this.skip(r)}else i.apply(null,[].concat(e,this.next()))})}),i.push(r),step(i)},t.onModuleReady=function(n,e){var r=[].concat(n);if(!r.some(function(t){return!t})){var i=t.broker.subscribe(\"app.modules.started\",o);[].concat(r).forEach(o)}function o(n){if(-1!==t.main.startedModules.indexOf(n)){var o=r.indexOf(n);-1!==o&&(r.splice(o,1),0===r.length&&(i.cancel(),e()))}}}};","node_modules/h5.main/lib/utils/log.js":"\"use strict\";var format=require(\"util\").format;exports.extend=function(t,e){[\"debug\",\"info\",\"warn\",\"error\"].forEach(function(r){t[r]=function(){log(r,e,Array.prototype.slice.call(arguments))}})};function log(t,e,r){var n=t+\"\\t\"+getDateString()+\"\\t\"+(e||\"\")+format.apply(null,r).trim()+\"\\n\";\"error\"===t?process.stderr.write(n):process.stdout.write(n)}function getDateString(){var t=new Date,e=t.getFullYear().toString().substr(2)+\"-\"+pad0(t.getMonth()+1)+\"-\"+pad0(t.getDate())+\" \"+pad0(t.getHours())+\":\"+pad0(t.getMinutes())+\":\"+pad0(t.getSeconds())+\".\",r=t.getMilliseconds();return r<10?e+=\"00\":r<100&&(e+=\"0\"),e+=r,e+=\"+\"+pad0(t.getTimezoneOffset()/60*-1)}function pad0(t){return(1===t.toString().length?\"0\":\"\")+t}","backend/modules/mongodb.js":"\"use strict\";const mongodb=require(\"mongodb\");exports.DEFAULT_CONFIG={uri:\"mongodb://127.0.0.1:27017/test\",mongoClient:{},keepAliveQueryInterval:3e4},exports.start=function(e,n,o){let t=!1;mongodb.MongoClient.connect(n.config.uri,n.config.mongoClient,function(e,t){if(e)return o(e);n.db=t,n.db.on(\"error\",e=>n.error(e.stack)),n.db.on(\"parseError\",e=>n.error(e.stack)),n.db.on(\"timeout\",()=>n.warn(\"Timeout.\")),n.db.on(\"close\",()=>n.warn(\"Closed.\")),n.db.on(\"reconnect\",()=>n.debug(\"Reconnected.\")),n.db.on(\"authenticated\",()=>n.debug(\"Authenticated.\")),r(),n.debug(\"Open.\"),o()});function r(){n.config.keepAliveQueryInterval&&n.db.stats(function(e,o){e?(t||n.error(`Keep alive query failed: ${e.message}`),t=!0):(t&&n.debug(`Kept alive: ${JSON.stringify(o)}`),t=!1),setTimeout(r,n.config.keepAliveQueryInterval)})}};","backend/modules/events/index.js":"\"use strict\";const _=require(\"lodash\"),setUpEventsRoutes=require(\"./routes\");exports.DEFAULT_CONFIG={mongooseId:\"mongoose\",userId:\"user\",expressId:\"express\",collection:function(e){return e.mongodb.db.collection(\"events\")},insertDelay:1e3,topics:[\"events.**\"],blacklist:[],print:[]},exports.start=function(e,n){const t=n.config.collection(e);let s=null,i=0,o=null,r=0;const c={};n.types={},n.getPendingEvents=function(){return s||[]},n.insertEvents=f,e.onModuleReady([n.config.mongooseId,n.config.userId,n.config.expressId],setUpEventsRoutes.bind(null,e,n)),n.config.blacklist.forEach(e=>{c[e]=!0}),function(){if(Array.isArray(n.config.topics)){const t=a.bind(null,\"info\");_.forEach(n.config.topics,function(n){e.broker.subscribe(n,t)})}else _.forEach(n.config.topics,function(n,t){const s=a.bind(null,t);_.forEach(n,function(n){e.broker.subscribe(n,s)})});_.forEach(n.config.print,function(n){e.broker.subscribe(n,u)})}(),e.broker.subscribe(\"app.started\").setLimit(1).on(\"message\",function(){l(),setInterval(d,5e3)});function l(){const e=Date.now()-i;e<6e4?null===o&&(o=setTimeout(l,e)):t.distinct(\"type\",null,null,function(e,t){e?n.error(\"Failed to fetch event types: %s\",e.message):_.forEach(t,function(e){n.types[e]=1}),i=Date.now(),o=null})}function u(e,t){n.debug(\"[%s]\",t,e)}function a(e,t,i){if(\"events.saved\"===i)return l();if(c[i])return;let o=null;const u=t.user;_.isObject(u)&&(o={_id:String(u._id||u.id),name:u.lastName&&u.firstName?u.lastName+\" \"+u.firstName:u.login||u.label,login:u.login||u.label,ipAddress:u.ipAddress||u.ip}),t=_.isObject(t)?JSON.parse(JSON.stringify(t)):{};const a=i.replace(/^events\\./,\"\");_.isString(t.severity)&&(e=t.severity,delete t.severity),null!==o&&delete t.user;const d={type:a,severity:e,time:Date.now(),user:o,data:t};null===s&&(s=[],setTimeout(f,n.config.insertDelay),r=d.time),s.push(d),n.types[a]=1}function f(){if(null===s)return;const i=s;s=null,t.insert(i,function(t){t?n.error(\"Failed to save %d events: %s\",i.length,t.message):e.broker.publish(\"events.saved\",i)})}function d(){null!==s&&Date.now()-r>3333&&(n.warn(\"Blocked! Forcing insert of %d pending events!\",s.length),f())}};","backend/modules/mail/sender.js":"\"use strict\";const path=require(\"path\"),fs=require(\"fs\"),_=require(\"lodash\"),step=require(\"h5.step\");exports.DEFAULT_CONFIG={smtp:null,from:\"someone@the.net\",bcc:\"\",replyTo:\"someone@the.net\",expressId:\"express\",secretKey:null,remoteSenderUrl:null,emailsPath:null};const HEADERS={to:\"to\",cc:\"cc\",bcc:\"bcc\",from:\"from\",replyto:\"replyTo\",subject:\"subject\",html:\"html\"};exports.start=function(e,t){let n,o;if(t.config.smtp&&t.config.remoteSenderUrl)throw new Error(\"`smtp` and `remoteSenderUrl` cannot be used at the same time!\");t.config.smtp||t.config.remoteSenderUrl||t.config.emailsPath?t.config.smtp?n=require(\"nodemailer\"):t.config.remoteSenderUrl&&(o=require(\"request\")):t.warn(\"No `smtp`, `remoteSenderUrl` or `emailsPath` specified.\");const s=t.config.smtp?n.createTransport(t.config.smtp):null,r={};e.broker.subscribe(\"directoryWatcher.changed\").setFilter(function(e){return/\\.email$/.test(e.fileName)}).on(\"message\",i),setInterval(function(){const e=Date.now()-18e5;_.forEach(r,function(t,n){t<e&&delete r[n]})},18e5),t.send=function(e,n,r,i){let c;if(arguments.length>2?c={to:e,subject:n,text:r}:(c=e,i=n),_.isEmpty(c.to))return t.debug(\"Not sending e-mail: %s\",JSON.stringify(c)),setImmediate(i);null!==t.config.remoteSenderUrl?function(e,n){const s={url:t.config.remoteSenderUrl,method:\"POST\",json:!0,body:_.defaults(_.assign(e,{secretKey:t.config.secretKey}),{from:t.config.from||void 0,bcc:t.config.bcc||void 0,replyTo:t.config.replyTo||void 0})};o(s,function(e,t){return e?n(e):204!==t.statusCode?n(new Error(\"INVALID_REMOTE_RESPONSE\")):n()})}(c,i):null!==s?function(e,n){_.defaults(e,{from:String(t.config.from),bcc:String(t.config.bcc),replyTo:String(t.config.replyTo)}),s.sendMail(e,n)}(c,i):null!==t.config.emailsPath?function(e,n){_.defaults(e,{from:String(t.config.from),bcc:String(t.config.bcc),replyTo:String(t.config.replyTo)});const o=[];_.forEach([\"subject\",\"to\",\"cc\",\"bcc\",\"from\",\"replyTo\"],function(t){_.isEmpty(e[t])||o.push(t+\": \"+e[t])});const s=_.isString(e.html)&&!_.isEmpty(e.html);s&&o.push(\"html: 1\");o.push(\"Body:\",e[s?\"html\":\"text\"]||\"\"),step(function(){const e=(Date.now()+99999999*Math.random()).toString(36).toUpperCase()+\".email\";fs.open(path.join(t.config.emailsPath,e),\"wx+\",this.next())},function(e,t){if(e)return this.done(n,e);this.fd=t,fs.write(t,o.join(\"\\r\\n\"),0,\"utf8\",this.next())},function(e){const t=this.fd;if(this.fd=null,e)return fs.close(t,function(){}),n(e);fs.close(t,n)})}(c,i):(t.debug(\"Not sending e-mail: %s\",JSON.stringify(c)),setImmediate(i))};function i(e){r[e.fileName]||(r[e.fileName]=Date.now(),fs.readFile(e.filePath,\"utf8\",function(n,o){if(n)return t.error(\"Failed to read contents of file [%s]: %s\",e.fileName,n.message);let s=o.indexOf(\"Body:\");-1===s&&(s=o.indexOf(\"body:\"));const r=o.substring(0,s).trim().split(\"\\n\"),i=o.substring(s+\"Body:\".length).trim(),l={};_.forEach(r,function(e){const t=e.indexOf(\":\"),n=HEADERS[e.substring(0,t).trim().toLowerCase()],o=e.substring(t+1).trim();n&&(l[n]=o)}),l.html?l.html=i:l.text=i,t.send(l,function(n){n?(t.error(\"Failed to send email from file [%s]: %s\",e.fileName,n.message),setTimeout(c,6e4,e)):fs.unlink(e.filePath,function(){})})}))}function c(e){delete r[e.fileName],i(e)}e.onModuleReady(t.config.expressId,function(){const n=e[t.config.expressId];n.options(\"/mail;send\",function(e,t){t.set(\"Access-Control-Allow-Origin\",\"*\"),t.set(\"Access-Control-Allow-Headers\",\"Content-Type\"),t.end()}),n.post(\"/mail;send\",function(e,o,s){if(o.set(\"Access-Control-Allow-Origin\",\"*\"),o.set(\"Access-Control-Allow-Headers\",\"Content-Type\"),null!==t.config.secretKey&&e.body.secretKey!==t.config.secretKey)return s(n.createHttpError(\"INVALID_SECRET_KEY\",401));t.send(e.body,function(n){if(n)return t.error(\"Failed to send e-mail [%s] to [%s]: %s\",e.body.subject,e.body.to,n.message),s(n);t.debug(\"Sent e-mail to [%s]: %s\",e.body.to,e.body.subject),o.sendStatus(204)})})})};","backend/modules/directoryWatcher.js":"\"use strict\";const fs=require(\"fs\"),path=require(\"path\");exports.DEFAULT_CONFIG={path:\"./\",delay:2500,maxDelay:1e4},exports.start=function(e,t){const a=/^(?:([0-9]{10,})@)?(.*?)$/;let i=null,r=-1,n=!1,o=!1;e.broker.subscribe(\"app.started\",function(){(function(){try{fs.watch(t.config.path,s)}catch(e){t.error(\"Failed to watch dir: %s\",e.message)}})(),c()}).setLimit(1);function s(e,a){if(null!==a)if(n)o=!0;else{if(-1===r&&(r=Date.now()),clearTimeout(i),Date.now()-r>=t.config.maxDelay)return setImmediate(c);i=setTimeout(c,t.config.delay)}}function c(){o=!1,n=!0,fs.readdir(t.config.path,function(a,s){i=null,r=-1,n=!1,a?t.error(\"Failed to read dir: %s\",a.message):s.map(f).sort(function(e,t){return e.timestamp-t.timestamp}).forEach(function(t){e.broker.publish(\"directoryWatcher.changed\",t)}),o&&setImmediate(c)})}function f(e){const i={moduleId:t.name,timestamp:-1,fileName:e,filePath:path.resolve(t.config.path,e)},r=e.match(a);return null!==r&&(i.timestamp=1e3*parseInt(r[1],10),i.fileName=r[2]),i}};","backend/modules/messenger/client.js":"\"use strict\";const _=require(\"lodash\"),axon=require(\"axon\");exports.DEFAULT_CONFIG={pubHost:\"127.0.0.1\",pubPort:5050,repHost:\"127.0.0.1\",repPort:5051,pushHost:null,pushPort:5052,responseTimeout:5e3,broadcastTopics:[]},exports.start=function(e,n,o){let t,c,r=null;_.forEach(n.config.broadcastTopics,function(o){e.broker.subscribe(o,function(e,o,t){n.request(\"@broadcast\",{topic:o,message:e,meta:t})})}),function(){let o=!1;(t=axon.socket(\"sub\")).set(\"hwm\",10),t.connect(n.config.pubPort,n.config.pubHost),t.on(\"error\",function(e){n.error(\"[sub] %s\",e.message)}),t.on(\"connect\",function(){o=!0,n.debug(\"[sub] Connected on port %d...\",n.config.pubPort),e.broker.publish(\"messenger.client.connected\",{moduleName:n.name,socketType:\"sub\",host:n.config.pubHost,port:n.config.pubPort})}),t.on(\"reconnect attempt\",function(){o&&(n.debug(\"[sub] Disconnected. Reconnecting...\"),o=!1)}),t.on(\"message\",u)}(),function(){let o=!1;(c=axon.socket(\"req\")).set(\"hwm\",10),c.connect(n.config.repPort,n.config.repHost),c.on(\"error\",function(e){n.error(\"[req] %s\",e.message)}),c.on(\"connect\",function(){o=!0,n.debug(\"[req] Connected on port %d...\",n.config.repPort),e.broker.publish(\"messenger.client.connected\",{moduleName:n.name,socketType:\"req\",host:n.config.repHost,port:n.config.repPort})}),c.on(\"reconnect attempt\",function(){o&&(n.debug(\"[req] Disconnected. Reconnecting...\"),o=!1,e.broker.publish(\"messenger.client.disconnected\",{moduleName:n.name,socketType:\"req\",host:n.config.repHost,port:n.config.repPort}))})}(),function(e){if(!n.config.pushHost)return e(null,null);const o=axon.socket(\"req\");o.set(\"hwm\",10),o.bind(n.config.pushPort,n.config.pushHost),o.once(\"error\",e),o.on(\"bind\",function(){o.removeListener(\"error\",e),e(null,o)})}(function(e,t){if(e)return setImmediate(o,e);null===(r=t)?n.debug(\"push socket not used.\"):n.debug(\"push socket listening on port %d...\",n.config.pushPort),setImmediate(o)}),n.isConnected=function(){return t&&t.connected&&c&&c.connected},n.request=function(e,n,o){s(c,e,n,o)},n.push=function(e,n,o){if(null===r)return o(new Error(\"NO_PUSH_SOCKET\"));s(r,e,n,o)};function s(o,t,c,r){r=_.isFunction(r)?_.once(r):function(){};let s=null,u=null;if(u=_.once(function(e){null!==s&&clearTimeout(s),_.isString(e)&&(arguments[0]={message:e}),r.apply(null,arguments)}),\"client\"===o.type&&!o.connected||\"server\"===o.type&&0===o.socks.length)return u({code:\"NO_CONNECTION\",message:\"client\"===o.type?\"Not connected to the server.\":\"No clients connected.\"});o.send(t,c,u),s=e.timeout(c&&c.responseTimeout||n.config.responseTimeout,function(){s=null,u({code:\"RESPONSE_TIMEOUT\",message:\"Response timeout.\"})})}function u(n,o){e.broker.publish(n,o)}};","node_modules/h5.pubsub/lib/MessageBroker.js":"\"use strict\";var Subscriptions=require(\"./Subscriptions\"),Subscription=require(\"./Subscription\"),Sandbox=require(\"./Sandbox\");module.exports=MessageBroker;function MessageBroker(){this.subscriptions=new Subscriptions(this),this.nextSubscriptionId=0,this.listeners={subscribe:[],cancel:[],\"new topic\":[],\"empty topic\":[],message:[]}}MessageBroker.prototype.destroy=function(){this.subscriptions.destroy(),this.subscriptions=null,this.listeners=null},MessageBroker.prototype.sandbox=function(){return new Sandbox(this)},MessageBroker.prototype.publish=function(e,t,s){return void 0===s&&(s={}),this.emit(\"message\",e,t,s),this.subscriptions.send(e,t,s),this},MessageBroker.prototype.subscribe=function(e,t){var s=new Subscription(this.getNextSubscriptionId(),e);return\"function\"==typeof t&&s.on(\"message\",t),this.subscriptions.add(s),this.emit(\"subscribe\",s),s},MessageBroker.prototype.unsubscribe=function(e){return this.subscriptions.remove(e),this},MessageBroker.prototype.count=function(){var e={};if(null===this.subscriptions)return e;return this.subscriptions.count(\"\",e),e},MessageBroker.prototype.on=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);return s.push(t),this},MessageBroker.prototype.off=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);var r=s.indexOf(t);return-1!==r&&s.splice(r,1),this},MessageBroker.prototype.emit=function(e,t){var s=this.listeners[e];if(\"undefined\"===typeof s)throw new Error(\"Unknown event: \"+e);if(!s.length)return this;var r=arguments.length;r>4&&(t=Array.prototype.slice.call(arguments)).shift();for(var i=0,n=s.length;i<n;++i){var o=s[i];switch(r){case 4:o(arguments[1],arguments[2],arguments[3]);break;case 3:o(arguments[1],arguments[2]);break;case 2:o(arguments[1]);break;default:o.apply(null,t)}}return this},MessageBroker.prototype.getNextSubscriptionId=function(){return(this.nextSubscriptionId++).toString(36)};","node_modules/h5.pubsub/lib/Subscriptions.js":"\"use strict\";module.exports=Subscriptions;var EMPTY_TOPIC_PARTS=[];function Subscriptions(i){this.messageBroker=i,this.children={},this.subscriptions=[],this.subscriptionsPendingRemoval=[],this.sendingMessagesCount=0,this.removeSubscription=this.removeSubscription.bind(this)}Subscriptions.TOKEN={SEPARATOR:\".\",ANY:\"*\",ALL:\"**\"},Subscriptions.prototype.destroy=function(){for(var i=this.children,s=Object.keys(i),t=0,e=s.length;t<e;++t)i[s[t]].destroy();this.children=null,this.removeSubscriptions(),this.subscriptionsPendingRemoval=null,this.messageBroker=null},Subscriptions.prototype.count=function(i,s){this.subscriptions.length&&(s[i]=this.subscriptions.length);var t=Object.keys(this.children),e=t.length;if(e){0!==i.length&&(i+=Subscriptions.TOKEN.SEPARATOR);for(var n=0;n<e;++n){var o=t[n];this.children[o].count(i+o,s)}}},Subscriptions.prototype.add=function(i){var s=this.splitTopic(i.getTopic());this.addSubscription(s,i)},Subscriptions.prototype.remove=function(i){this.removeSubscriptions(this.splitTopic(i))},Subscriptions.prototype.send=function(i,s,t){var e=this.splitTopic(i);this.sendMessage(e,i,s,t)},Subscriptions.prototype.addSubscription=function(i,s){if(0===i.length)return this.subscriptions.push(s),s.on(\"cancel\",this.removeSubscription),void(1===this.subscriptions.length&&this.messageBroker.emit(\"new topic\",s.getTopic()));var t=this.children,e=i.shift();void 0===t[e]&&(t[e]=new Subscriptions(this.messageBroker)),t[e].addSubscription(i,s)},Subscriptions.prototype.removeSubscriptions=function(i){var s,t;if(void 0!==i&&0!==i.length){var e=i.shift();void 0!==this.children[e]&&this.children[e].removeSubscriptions(i)}else{var n=this.subscriptions;if(!n.length)return;this.subscriptions=[];var o=n[0].getTopic();for(s=0,t=n.length;s<t;++s)n[s].cancel();this.messageBroker.emit(\"empty topic\",o)}},Subscriptions.prototype.sendMessage=function(i,s,t,e){if(++this.sendingMessagesCount,void 0!==this.children[Subscriptions.TOKEN.ALL]&&this.children[Subscriptions.TOKEN.ALL].sendMessage(EMPTY_TOPIC_PARTS,s,t,e),0===i.length)for(var n=0,o=this.subscriptions.length;n<o;++n)this.subscriptions[n].send(s,t,e);else{var r=i.shift();void 0!==this.children[Subscriptions.TOKEN.ANY]&&this.children[Subscriptions.TOKEN.ANY].sendMessage([].concat(i),s,t,e),void 0!==this.children[r]&&this.children[r].sendMessage(i,s,t,e)}--this.sendingMessagesCount,this.removePendingSubscriptions()},Subscriptions.prototype.splitTopic=function(i){var s=i.split(Subscriptions.TOKEN.SEPARATOR).filter(function(i){return 0!==i.length});if(0===s.length)throw new Error(\"Invalid subscription topic: \"+i);return s},Subscriptions.prototype.removeSubscription=function(i){if(this.messageBroker.emit(\"cancel\",i),0!==this.subscriptions.length)return 1===this.subscriptions.length&&this.subscriptions[0]===i?(this.subscriptions.length=0,void this.messageBroker.emit(\"empty topic\",i.getTopic())):void this.removeOrQueueRemoval(i)},Subscriptions.prototype.removeOrQueueRemoval=function(i){0===this.sendingMessagesCount?this.subscriptions.splice(this.subscriptions.indexOf(i),1):this.subscriptionsPendingRemoval.push(i)},Subscriptions.prototype.removePendingSubscriptions=function(){var i=this.subscriptionsPendingRemoval,s=i.length;if(s&&!this.sendingMessagesCount){var t=this.subscriptions;if(s===t.length)return i.length=0,void(t.length=0);var e,n,o=[];for(e=0;e<s;++e)o.push(t.indexOf(i[e]));for(o.sort(function(i,s){return s-i}),e=0,n=o.length;e<n;++e)t.splice(o[e],1);i.length=0}};","node_modules/h5.pubsub/lib/Subscription.js":"\"use strict\";module.exports=Subscription;function Subscription(t,i){this.cancelled=!1,this.id=t,this.topic=i,this.messageFilter=null,this.messageLimit=0,this.messageCount=0,this.doFilter=null,this.listeners={cancel:null,message:null}}Subscription.compileFilter=function(){throw new Error(\"Subscription.compileFilter() is not implemented!\")},Subscription.prototype.toJSON=function(){var t=this.getFilter();return\"function\"==typeof t&&(t=t.toString()),{id:this.getId(),topic:this.getTopic(),limit:this.getLimit(),filter:t}},Subscription.prototype.getId=function(){return this.id},Subscription.prototype.getTopic=function(){return this.topic},Subscription.prototype.getFilter=function(){return this.messageFilter},Subscription.prototype.setFilter=function(t){if(this.messageFilter=t,\"function\"==typeof t)this.doFilter=t;else if(this.doFilter=Subscription.compileFilter(t),\"function\"!=typeof this.doFilter)throw new Error(\"Subscription.compileFilter() must return a function.\");return this},Subscription.prototype.getLimit=function(){return this.messageLimit},Subscription.prototype.setLimit=function(t){if(t<1)throw new Error(\"Subscription limit must be greater than 0.\");return this.messageLimit=t,this},Subscription.prototype.getMessageCount=function(){return this.messageCount},Subscription.prototype.on=function(t,i){if(this.cancelled)return this;var e=this.listeners[t],n=typeof e;if(\"undefined\"===n)throw new Error(\"Unknown event: \"+t);return\"function\"===n?this.listeners[t]=[e,i]:null===e?this.listeners[t]=i:this.listeners[t].push(i),this},Subscription.prototype.off=function(t,i){if(this.cancelled)return this;var e=this.listeners[t],n=typeof e;if(\"undefined\"===n)throw new Error(\"Unknown event: \"+t);if(\"function\"===n&&e===i)this.listeners[t]=null;else if(\"object\"===n&&null!==e){for(var s=-1,r=e.length,o=0;o<r;++o)if(e[o]===i){s=o;break}-1!==s&&(e.splice(s,1),2===r&&(this.listeners[t]=e[0]))}return this},Subscription.prototype.cancel=function(){this.cancelled||(this.cancelled=!0,this.emit(\"cancel\",this),this.listeners=null,this.doFilter=null)},Subscription.prototype.send=function(t,i,e){this.cancelled||null!==this.doFilter&&!this.doFilter(i,t,e,this)||(++this.messageCount,this.emit(\"message\",i,t,e,this),this.messageCount===this.messageLimit&&this.cancel())},Subscription.prototype.emit=function(t){var i=this.listeners[t];if(null!==i){var e=arguments.length;if(\"function\"!=typeof i)for(var n=0,s=i.length;n<s;++n)5===e?i[n](arguments[1],arguments[2],arguments[3],arguments[4]):i[n](arguments[1]);else 5===e?i(arguments[1],arguments[2],arguments[3],arguments[4]):i(arguments[1])}};","node_modules/h5.pubsub/lib/Sandbox.js":"\"use strict\";module.exports=Sandbox;function Sandbox(t){this.broker=t,this.subscriptions={},this.removeSubscription=this.removeSubscription.bind(this)}Sandbox.prototype.destroy=function(){var t=this.subscriptions;null!==t&&Object.keys(t).forEach(function(o){t[o].cancel()}),this.subscriptions=null,this.broker=null},Sandbox.prototype.sandbox=function(){return new Sandbox(this)},Sandbox.prototype.publish=function(t,o,s){return this.broker.publish(t,o,s),this},Sandbox.prototype.subscribe=function(t,o){var s=this.broker.subscribe(t,o);return s.on(\"cancel\",this.removeSubscription),this.subscriptions[s.getId()]=s,s},Sandbox.prototype.unsubscribe=function(t){var o=[],s=this.subscriptions;for(var i in s)s.hasOwnProperty(i)&&s[i].getTopic()===t&&o.push(i);for(var n=0,r=o.length;n<r;++n)s[o[n]].cancel();return this},Sandbox.prototype.removeSubscription=function(t){delete this.subscriptions[t.getId()]};","node_modules/moment/locale/pl.js":"!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module&&\"function\"==typeof require?t(require(\"../moment\")):\"function\"==typeof define&&define.amd?define([\"../moment\"],t):t(e.moment)}(this,function(e){\"use strict\";var t=\"stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie\".split(\"_\"),i=\"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia\".split(\"_\");function n(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,i){var a=e+\" \";switch(i){case\"m\":return t?\"minuta\":\"minut\";case\"mm\":return a+(n(e)?\"minuty\":\"minut\");case\"h\":return t?\"godzina\":\"godzin\";case\"hh\":return a+(n(e)?\"godziny\":\"godzin\");case\"MM\":return a+(n(e)?\"miesice\":\"miesicy\");case\"yy\":return a+(n(e)?\"lata\":\"lat\")}}return e.defineLocale(\"pl\",{months:function(e,n){return e?\"\"===n?\"(\"+i[e.month()]+\"|\"+t[e.month()]+\")\":/D MMMM/.test(n)?i[e.month()]:t[e.month()]:t},monthsShort:\"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru\".split(\"_\"),weekdays:\"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota\".split(\"_\"),weekdaysShort:\"ndz_pon_wt_r_czw_pt_sob\".split(\"_\"),weekdaysMin:\"Nd_Pn_Wt_r_Cz_Pt_So\".split(\"_\"),longDateFormat:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD.MM.YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd, D MMMM YYYY HH:mm\"},calendar:{sameDay:\"[Dzi o] LT\",nextDay:\"[Jutro o] LT\",nextWeek:\"[W] dddd [o] LT\",lastDay:\"[Wczoraj o] LT\",lastWeek:function(){switch(this.day()){case 0:return\"[W zesz niedziel o] LT\";case 3:return\"[W zesz rod o] LT\";case 6:return\"[W zesz sobot o] LT\";default:return\"[W zeszy] dddd [o] LT\"}},sameElse:\"L\"},relativeTime:{future:\"za %s\",past:\"%s temu\",s:\"kilka sekund\",m:a,mm:a,h:a,hh:a,d:\"1 dzie\",dd:\"%d dni\",M:\"miesic\",MM:a,y:\"rok\",yy:a},dayOfMonthOrdinalParse:/\\d{1,2}\\./,ordinal:\"%d.\",week:{dow:1,doy:4}})});","node_modules/mongodb/index.js":"var core=require(\"mongodb-core\"),Instrumentation=require(\"./lib/apm\"),connect=require(\"./lib/mongo_client\").connect;connect.MongoError=core.MongoError,connect.Admin=require(\"./lib/admin\"),connect.MongoClient=require(\"./lib/mongo_client\"),connect.Db=require(\"./lib/db\"),connect.Collection=require(\"./lib/collection\"),connect.Server=require(\"./lib/server\"),connect.ReplSet=require(\"./lib/replset\"),connect.Mongos=require(\"./lib/mongos\"),connect.ReadPreference=require(\"./lib/read_preference\"),connect.GridStore=require(\"./lib/gridfs/grid_store\"),connect.Chunk=require(\"./lib/gridfs/chunk\"),connect.Logger=core.Logger,connect.Cursor=require(\"./lib/cursor\"),connect.GridFSBucket=require(\"./lib/gridfs-stream\"),connect.CoreServer=require(\"mongodb-core\").Server,connect.CoreConnection=require(\"mongodb-core\").Connection,connect.Binary=core.BSON.Binary,connect.Code=core.BSON.Code,connect.Map=core.BSON.Map,connect.DBRef=core.BSON.DBRef,connect.Double=core.BSON.Double,connect.Int32=core.BSON.Int32,connect.Long=core.BSON.Long,connect.MinKey=core.BSON.MinKey,connect.MaxKey=core.BSON.MaxKey,connect.ObjectID=core.BSON.ObjectID,connect.ObjectId=core.BSON.ObjectID,connect.Symbol=core.BSON.Symbol,connect.Timestamp=core.BSON.Timestamp,connect.BSONRegExp=core.BSON.BSONRegExp,connect.Decimal128=core.BSON.Decimal128,connect.connect=connect,connect.instrument=function(e,n){return\"function\"==typeof e&&(n=e,e={}),new Instrumentation(core,e,n)},module.exports=connect;","node_modules/mongodb-core/index.js":"var BSON=require(\"bson\"),require_optional=require(\"require_optional\");try{var BSONNative=require_optional(\"bson-ext\");BSONNative&&(BSON=BSONNative)}catch(e){}module.exports={MongoError:require(\"./lib/error\"),Connection:require(\"./lib/connection/connection\"),Server:require(\"./lib/topologies/server\"),ReplSet:require(\"./lib/topologies/replset\"),Mongos:require(\"./lib/topologies/mongos\"),Logger:require(\"./lib/connection/logger\"),Cursor:require(\"./lib/cursor\"),ReadPreference:require(\"./lib/topologies/read_preference\"),BSON:BSON,Query:require(\"./lib/connection/commands\").Query,MongoCR:require(\"./lib/auth/mongocr\"),X509:require(\"./lib/auth/x509\"),Plain:require(\"./lib/auth/plain\"),GSSAPI:require(\"./lib/auth/gssapi\"),ScramSHA1:require(\"./lib/auth/scram\")};","node_modules/mongodb/lib/apm.js":"var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),OrderedBulkOperation=require(\"./bulk/ordered\").OrderedBulkOperation,UnorderedBulkOperation=require(\"./bulk/unordered\").UnorderedBulkOperation,GridStore=require(\"./gridfs/grid_store\"),Cursor=require(\"./cursor\"),Collection=require(\"./collection\"),Db=require(\"./db\"),basicOperationIdGenerator={operationId:1,next:function(){return this.operationId++}},basicTimestampGenerator={current:function(){return(new Date).getTime()},duration:function(e,r){return r-e}},senstiveCommands=[\"authenticate\",\"saslStart\",\"saslContinue\",\"getnonce\",\"createUser\",\"updateUser\",\"copydbgetnonce\",\"copydbsaslstart\",\"copydb\"],Instrumentation=function(e,r,t){var o=(r=r||{}).operationIdGenerator||basicOperationIdGenerator,n=r.timestampGenerator||basicTimestampGenerator;EventEmitter.call(this),this.overloads=[];\"function\"==typeof t&&function(e){for(var r=[],t=[GridStore,OrderedBulkOperation,UnorderedBulkOperation,CommandCursor,AggregationCursor,Cursor,Collection,Db],o=0;o<t.length;o++)t[o].define&&r.push(t[o].define.generate());e(null,r)}(t);var i=this,a=[\"command\",\"insert\",\"update\",\"remove\"],s=e.Server.prototype;a.forEach(function(r){var t=s[r];i.overloads.push({proto:s,name:r,func:t}),s[r]=function(){var a=e.Query.nextRequestId(),s=Array.prototype.slice.call(arguments,0),c=s[0],u=s[1],d=s[2]||{},l=Object.keys(u)[0],m=c.split(\".\")[0],p=c.split(\".\");p.shift(),p=p.join(\".\"),\"insert\"==r?(l=\"insert\",u={insert:p,documents:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered):\"update\"==r?(l=\"update\",u={update:p,updates:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered):\"remove\"==r&&(l=\"delete\",u={delete:p,deletes:u},d.writeConcern&&Object.keys(d.writeConcern).length>0&&(u.writeConcern=d.writeConcern),u.ordered=void 0==d.ordered||d.ordered);var h=s.pop(),f=h.operationId||o.next(),v=this.s.pool.get(),C={command:u,databaseName:m,commandName:l,requestId:a,operationId:f,connectionId:v};-1!=senstiveCommands.indexOf(l.toLowerCase())&&(C.commandObj={},C.commandObj[l]=!0),i.emit(\"started\",C);var y=n.current();s.push(function(e,r){var t=n.current(),o={duration:n.duration(y,t),commandName:l,requestId:a,operationId:f,connectionId:v};e||r&&r.result&&0==r.result.ok?(o.failure=e||r.result.writeErrors||r.result,-1!=senstiveCommands.indexOf(l.toLowerCase())&&(o.failure={}),i.emit(\"failed\",o)):u&&u.writeConcern&&0==u.writeConcern.w?(o.reply={ok:1},i.emit(\"succeeded\",o)):(o.reply=r&&r.result?r.result:r,-1!=senstiveCommands.indexOf(l.toLowerCase())&&(o.reply={}),i.emit(\"succeeded\",o)),h(e,r)}),t.apply(this,s)}}),a=[\"execute\"];var c=[require(\"./bulk/ordered\").Bulk.prototype,require(\"./bulk/unordered\").Bulk.prototype];c.forEach(function(e){a.forEach(function(r){var t=e[r];i.overloads.push({proto:e,name:r,func:t}),e[r]=function(){var e=Array.prototype.slice.call(arguments,0);this.operationId=o.next();var r=e.pop();if(\"function\"!=typeof r)return t.apply(this,e);e.push(function(e,t){r(e,t)}),t.apply(this,e)}})}),a=[\"_find\",\"_getmore\",\"_killcursor\"];var u={_find:\"find\",_getmore:\"getMore\",_killcursor:\"killCursors\",_explain:\"explain\"};(c=[require(\"./cursor\").prototype,require(\"./command_cursor\").prototype,require(\"./aggregation_cursor\").prototype]).forEach(function(r){a.forEach(function(t){var a=r[t];i.overloads.push({proto:r,name:t,func:a}),r[t]=function(){var r=this,s=e.Query.nextRequestId(),c=o.next(),d=this.ns.split(\".\"),l=d[0];d.shift();var m=d.join(\".\"),p=this.query,h=this.s.cmd;\"_find\"==t&&(r.operationId=c),\"_getmore\"==t?(p={getMore:this.cursorState.cursorId,collection:m,batchSize:h.batchSize},h.maxTimeMS&&(p.maxTimeMS=h.maxTimeMS)):\"_killcursor\"==t?p={killCursors:m,cursors:[this.cursorState.cursorId]}:h.find?(p={find:m,filter:h.query},h.sort&&(p.sort=h.sort),h.fields&&(p.projection=h.fields),h.limit&&h.limit<0?(p.limit=Math.abs(h.limit),p.singleBatch=!0):h.limit&&(p.limit=Math.abs(h.limit)),h.skip&&(p.skip=h.skip),h.hint&&(p.hint=h.hint),h.batchSize&&(p.batchSize=h.batchSize),\"boolean\"==typeof h.returnKey&&(p.returnKey=h.returnKey),h.comment&&(p.comment=h.comment),h.min&&(p.min=h.min),h.max&&(p.max=h.max),h.maxScan&&(p.maxScan=h.maxScan),h.maxTimeMS&&(p.maxTimeMS=h.maxTimeMS),\"boolean\"==typeof h.awaitData&&(p.awaitData=h.awaitData),\"boolean\"==typeof h.snapshot&&(p.snapshot=h.snapshot),\"boolean\"==typeof h.tailable&&(p.tailable=h.tailable),\"boolean\"==typeof h.oplogReplay&&(p.oplogReplay=h.oplogReplay),\"boolean\"==typeof h.noCursorTimeout&&(p.noCursorTimeout=h.noCursorTimeout),\"boolean\"==typeof h.partial&&(p.partial=h.partial),\"boolean\"==typeof h.showDiskLoc&&(p.showRecordId=h.showDiskLoc),h.readConcern&&(p.readConcern=h.readConcern),h.explain&&(p.explain=h.explain),h.exhaust&&(p.exhaust=h.exhaust),h.explain&&(p={explain:p,verbosity:\"allPlansExecution\"},h.readConcern&&(p.readConcern=h.readConcern),t=\"_explain\")):p=h;var f=null;this.connection&&(f=this.connection),!f&&this.server&&this.server.getConnection&&(f=this.server.getConnection());var v=\"_find\"==t?Object.keys(p)[0]:u[t];p={command:p,databaseName:l,commandName:v,requestId:s,operationId:this.operationId,connectionId:f};var C=Array.prototype.slice.call(arguments,0),y=C.pop();if(\"function\"!=typeof y&&\"killCursors\"!=p.commandName){C.push(y);var I=a.apply(this,C);return new r.s.promiseLibrary(function(e,t){var o=n.current();i.emit(\"started\",p),I.then(function(){var e={duration:n.duration(o,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:r.cursorState.documents};i.emit(\"succeeded\",e)}).catch(function(e){var a={duration:n.duration(o,n.current()),commandName:v,requestId:s,operationId:c,connectionId:r.server.getConnection(),failure:e};i.emit(\"failed\",a),t(e)})})}var g=n.current();if(i.emit(\"started\",p),\"killCursors\"==p.commandName&&this.server.lastIsMaster()&&this.server.lastIsMaster().maxWireVersion<4)return p={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:[{ok:1}]},C.push(y),a.apply(this,C),i.emit(\"succeeded\",p);C.push(function(e,t){if(e){var o={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:c,connectionId:r.server.getConnection(),failure:e};i.emit(\"failed\",o)}else\"getmore\"==v.toLowerCase()&&null==t?t={cursor:{id:r.cursorState.cursorId,ns:r.ns,nextBatch:r.cursorState.documents},ok:1}:\"find\"!=v.toLowerCase()&&\"aggregate\"!=v.toLowerCase()&&\"listcollections\"!=v.toLowerCase()||null!=t?\"killcursors\"==v.toLowerCase()&&null==t&&(t={cursorsUnknown:[r.cursorState.lastCursorId],ok:1}):t={cursor:{id:r.cursorState.cursorId,ns:r.ns,firstBatch:r.cursorState.documents},ok:1},o={duration:n.duration(g,n.current()),commandName:v,requestId:s,operationId:r.operationId,connectionId:r.server.getConnection(),reply:t&&t.result?t.result:t},i.emit(\"succeeded\",o);y&&y(e,t)}),a.apply(this,C)}})})};inherits(Instrumentation,EventEmitter),Instrumentation.prototype.uninstrument=function(){for(var e=0;e<this.overloads.length;e++){var r=this.overloads[e];r.proto[r.name]=r.func}this.removeAllListeners(\"started\"),this.removeAllListeners(\"succeeded\"),this.removeAllListeners(\"failed\")},module.exports=Instrumentation;","node_modules/mongodb/lib/mongo_client.js":"\"use strict\";var parse=require(\"./url_parser\"),Server=require(\"./server\"),Mongos=require(\"./mongos\"),ReplSet=require(\"./replset\"),EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,Define=require(\"./metadata\"),ReadPreference=require(\"./read_preference\"),Logger=require(\"mongodb-core\").Logger,MongoError=require(\"mongodb-core\").MongoError,Db=require(\"./db\"),f=require(\"util\").format,assign=require(\"./utils\").assign,shallowClone=require(\"./utils\").shallowClone,authenticate=require(\"./authenticate\"),validOptionNames=[\"poolSize\",\"ssl\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslKey\",\"sslPass\",\"sslCRL\",\"autoReconnect\",\"noDelay\",\"keepAlive\",\"connectTimeoutMS\",\"family\",\"socketTimeoutMS\",\"reconnectTries\",\"reconnectInterval\",\"ha\",\"haInterval\",\"replicaSet\",\"secondaryAcceptableLatencyMS\",\"acceptableLatencyMS\",\"connectWithNoPrimary\",\"authSource\",\"w\",\"wtimeout\",\"j\",\"forceServerObjectId\",\"serializeFunctions\",\"ignoreUndefined\",\"raw\",\"bufferMaxEntries\",\"readPreference\",\"pkFactory\",\"promiseLibrary\",\"readConcern\",\"maxStalenessSeconds\",\"loggerLevel\",\"logger\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\",\"domainsEnabled\",\"keepAliveInitialDelay\",\"checkServerIdentity\",\"validateOptions\",\"appname\",\"auth\"],ignoreOptionNames=[\"native_parser\"],legacyOptionNames=[\"server\",\"replset\",\"replSet\",\"mongos\",\"db\"];function validOptions(e){var n=validOptionNames.concat(legacyOptionNames);for(var r in e)if(-1==ignoreOptionNames.indexOf(r)){if(-1==n.indexOf(r)&&e.validateOptions)return new MongoError(f(\"option %s is not supported\",r));-1==n.indexOf(r)&&console.warn(f(\"the options [%s] is not supported\",r)),-1!=legacyOptionNames.indexOf(r)&&console.warn(f(\"the server/replset/mongos options are deprecated, all their options are supported at the top level of the options object [%s]\",validOptionNames))}}function MongoClient(){if(!(this instanceof MongoClient))return new MongoClient;EventEmitter.call(this),this.connect=MongoClient.connect}inherits(MongoClient,EventEmitter);var define=MongoClient.define=new Define(\"MongoClient\",MongoClient,!1);MongoClient.connect=function(e,n,r){var t=Array.prototype.slice.call(arguments,1);r=\"function\"==typeof t[t.length-1]?t.pop():null;var o=this,i=validOptions(n=(n=t.length?t.shift():null)||{}),s=n.promiseLibrary;return s||(s=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"!=typeof r?new s(function(r,t){if(i)return t(i);connect(o,e,n,function(e,n){if(e)return t(e);r(n)})}):i?r(i):void connect(o,e,n,r)},define.staticMethod(\"connect\",{callback:!0,promise:!0});var mergeOptions=function(e,n,r){for(var t in n)n[t]&&\"object\"==typeof n[t]&&r?e=mergeOptions(e,n[t],r):e[t]=n[t];return e},createUnifiedOptions=function(e,n){var r=[\"mongos\",\"server\",\"db\",\"replset\",\"db_options\",\"server_options\",\"rs_options\",\"mongos_options\"],t=[\"readconcern\"];for(var o in n)-1!=t.indexOf(o.toLowerCase())?e[o]=n[o]:-1!=r.indexOf(o.toLowerCase())?e=mergeOptions(e,n[o],!1):!n[o]||\"object\"!=typeof n[o]||Buffer.isBuffer(n[o])||Array.isArray(n[o])?e[o]=n[o]:e=mergeOptions(e,n[o],!0);return e};function translateOptions(e){return\"string\"!=typeof e.readPreference&&\"string\"!=typeof e.read_preference||(e.readPreference=new ReadPreference(e.readPreference||e.read_preference)),e.readPreference&&(e.readPreferenceTags||e.read_preference_tags)&&(e.readPreference.tags=e.readPreferenceTags||e.read_preference_tags),e.maxStalenessSeconds&&(e.readPreference.maxStalenessSeconds=e.maxStalenessSeconds),null==e.socketTimeoutMS&&(e.socketTimeoutMS=36e4),null==e.connectTimeoutMS&&(e.connectTimeoutMS=3e4),e.servers.map(function(n){return n.domain_socket?new Server(n.domain_socket,27017,e):new Server(n.host,n.port,e)})}function collectEvents(e,n){var r=[];if(e instanceof MongoClient){[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(e){n.serverConfig.on(e,function(n,t){r.push({event:e,object1:n,object2:t})})})}return r}function replayEvents(e,n){for(var r=0;r<n.length;r++)e.emit(n[r].event,n[r].object1,n[r].object2)}function relayEvents(e,n){if(e instanceof MongoClient){[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\"].forEach(function(r){n.serverConfig.on(r,function(n,t){e.emit(r,n,t)})})}}function createReplicaset(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,new ReplSet(t,n),n);relayEvents(e,o),o.open(r)}function createMongos(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,new Mongos(t,n),n);relayEvents(e,o),o.open(r)}function createServer(e,n,r){var t=translateOptions(n),o=new Db(n.dbName,t[0],n),i=collectEvents(e,o);o.open(function(t,o){if(t)return r(t);var s=o.serverConfig.lastIsMaster();if(s&&\"isdbgrid\"==s.msg)return o.close(),createMongos(e,n,r);replayEvents(e,i),relayEvents(e,o),r(t,o)})}function connectHandler(e,n){return function(r,t){if(r)return process.nextTick(function(){try{n(r,null)}catch(e){throw t&&t.close(),e}});if(!e.auth)return process.nextTick(function(){try{n(r,t)}catch(e){throw t&&t.close(),e}});var o=t;e.authSource&&(o=t.db(e.authSource)),authenticate(o,e.user,e.password,e,function(r,o){o?process.nextTick(function(){try{n(null,t)}catch(e){throw t&&t.close(),e}}):(t&&t.close(),process.nextTick(function(){try{n(r||new Error(\"Could not authenticate user \"+e.auth[0]),null)}catch(e){throw t&&t.close(),e}}))})}}var connect=function(e,n,r,t){if(r=r||{},r=shallowClone(r),null==t)throw new Error(\"no callback function provided\");var o=Logger(\"MongoClient\",r),i=parse(n,r),s=createUnifiedOptions({},i);if(s=mergeOptions(s,i,!1),null==(s=createUnifiedOptions(s,r)).socketTimeoutMS&&(s.socketTimeoutMS=36e4),null==s.connectTimeoutMS&&(s.connectTimeoutMS=3e4),s.db_options&&s.db_options.auth&&delete s.db_options.auth,0==i.servers.length)throw new Error(\"connection string must contain at least one seed host\");function a(e,n){if(e&&\"no mongos proxies found in seed list\"==e.message)return o.isWarn()&&o.warn(f(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\")),t(new MongoError(\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\"));t(e,n)}return s.replicaSet||s.rs_name?createReplicaset(e,s,connectHandler(s,a)):i.servers.length>1?createMongos(e,s,connectHandler(s,a)):createServer(e,s,connectHandler(s,a))};module.exports=MongoClient;","node_modules/mongodb/lib/admin.js":"\"use strict\";var toError=require(\"./utils\").toError,Define=require(\"./metadata\"),shallowClone=require(\"./utils\").shallowClone,assign=require(\"./utils\").assign,authenticate=require(\"./authenticate\"),Admin=function(n,e,t){if(!(this instanceof Admin))return new Admin(n,e);this.s={db:n,topology:e,promiseLibrary:t}},define=Admin.define=new Define(\"Admin\",Admin,!1);Admin.prototype.command=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},\"function\"==typeof t?this.s.db.executeDbAdminCommand(n,e,function(n,e){return null!=t?t(n,e):null}):new this.s.promiseLibrary(function(t,r){i.s.db.executeDbAdminCommand(n,e,function(n,e){if(n)return r(n);t(e)})})},define.classMethod(\"command\",{callback:!0,promise:!0}),Admin.prototype.buildInfo=function(n){var e=this;return\"function\"==typeof n?this.serverInfo(n):new this.s.promiseLibrary(function(n,t){e.serverInfo(function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"buildInfo\",{callback:!0,promise:!0}),Admin.prototype.serverInfo=function(n){var e=this;return\"function\"==typeof n?this.s.db.executeDbAdminCommand({buildinfo:1},function(e,t){if(null!=e)return n(e,null);n(null,t)}):new this.s.promiseLibrary(function(n,t){e.s.db.executeDbAdminCommand({buildinfo:1},function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"serverInfo\",{callback:!0,promise:!0}),Admin.prototype.serverStatus=function(n){var e=this;return\"function\"==typeof n?serverStatus(e,n):new this.s.promiseLibrary(function(n,t){serverStatus(e,function(e,i){if(e)return t(e);n(i)})})};var serverStatus=function(n,e){n.s.db.executeDbAdminCommand({serverStatus:1},function(n,t){if(null!=n||1!==t.ok)return e(n||toError(t),!1);e(null,t)})};define.classMethod(\"serverStatus\",{callback:!0,promise:!0}),Admin.prototype.profilingLevel=function(n){var e=this;return\"function\"==typeof n?profilingLevel(e,n):new this.s.promiseLibrary(function(n,t){profilingLevel(e,function(e,i){if(e)return t(e);n(i)})})};var profilingLevel=function(n,e){n.s.db.executeDbAdminCommand({profile:-1},function(n,t){if(null==n&&1===t.ok){var i=t.was;return 0==i?e(null,\"off\"):1==i?e(null,\"slow_only\"):2==i?e(null,\"all\"):e(new Error(\"Error: illegal profiling level value \"+i),null)}e(null!=n?n:new Error(\"Error with profile command\"),null)})};define.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),Admin.prototype.ping=function(n,e){var t=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(e=i.pop())&&i.push(e),\"function\"==typeof e?this.s.db.executeDbAdminCommand({ping:1},e):new this.s.promiseLibrary(function(n,e){t.s.db.executeDbAdminCommand({ping:1},function(t,i){if(t)return e(t);n(i)})})},define.classMethod(\"ping\",{callback:!0,promise:!0}),Admin.prototype.authenticate=function(n,e,t,i){console.warn(\"Admin.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\");var r=[this.s.db];return\"string\"==typeof n&&r.push(n),\"string\"==typeof e&&r.push(e),\"function\"==typeof t?(r.push({authdb:\"admin\"}),r.push(t)):r.push(assign({},t,{authdb:\"admin\"})),\"function\"==typeof i&&r.push(i),authenticate.apply(this.s.db,r)},define.classMethod(\"authenticate\",{callback:!0,promise:!0}),Admin.prototype.logout=function(n){var e=this;return\"function\"==typeof n?this.s.db.logout({dbName:\"admin\"},n):new this.s.promiseLibrary(function(n,t){e.s.db.logout({dbName:\"admin\"},function(e){if(e)return t(e);n(!0)})})},define.classMethod(\"logout\",{callback:!0,promise:!0});var writeConcern=function(n,e){return(n=shallowClone(n)).w||n.wtimeout||n.j||n.fsync?n:(e.writeConcern&&(n.w&&(n.w=e.writeConcern.w),n.wtimeout&&(n.wtimeout=e.writeConcern.wtimeout),n.j&&(n.j=e.writeConcern.j),n.fsync&&(n.fsync=e.writeConcern.fsync)),n)};Admin.prototype.addUser=function(n,e,t,i){var r=this,o=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(i=o.pop())&&o.push(i),t=o.length?o.shift():{},t=t||{},t=writeConcern(t,r.s.db),t.dbName=\"admin\",\"function\"==typeof i?r.s.db.addUser(n,e,t,i):new this.s.promiseLibrary(function(i,o){r.s.db.addUser(n,e,t,function(n,e){if(n)return o(n);i(e)})})},define.classMethod(\"addUser\",{callback:!0,promise:!0}),Admin.prototype.removeUser=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},e=e||{},e=writeConcern(e,i.s.db),e.dbName=\"admin\",\"function\"==typeof t?i.s.db.removeUser(n,e,t):new this.s.promiseLibrary(function(t,r){i.s.db.removeUser(n,e,function(n,e){if(n)return r(n);t(e)})})},define.classMethod(\"removeUser\",{callback:!0,promise:!0}),Admin.prototype.setProfilingLevel=function(n,e){var t=this;return\"function\"==typeof e?setProfilingLevel(t,n,e):new this.s.promiseLibrary(function(e,i){setProfilingLevel(t,n,function(n,t){if(n)return i(n);e(t)})})};var setProfilingLevel=function(n,e,t){var i={},r=0;if(\"off\"==e)r=0;else if(\"slow_only\"==e)r=1;else{if(\"all\"!=e)return t(new Error(\"Error: illegal profiling level value \"+e));r=2}i.profile=r,n.s.db.executeDbAdminCommand(i,function(n,i){return null==n&&1===i.ok?t(null,e):t(null!=n?n:new Error(\"Error with profile command\"),null)})};define.classMethod(\"setProfilingLevel\",{callback:!0,promise:!0}),Admin.prototype.profilingInfo=function(n){var e=this;return\"function\"==typeof n?profilingInfo(e,n):new this.s.promiseLibrary(function(n,t){profilingInfo(e,function(e,i){if(e)return t(e);n(i)})})};var profilingInfo=function(n,e){try{n.s.topology.cursor(\"admin.system.profile\",{find:\"system.profile\",query:{}},{}).toArray(e)}catch(n){return e(n,null)}};define.classMethod(\"profilingLevel\",{callback:!0,promise:!0}),Admin.prototype.validateCollection=function(n,e,t){var i=this,r=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=r.pop())&&r.push(t),e=r.length?r.shift():{},e=e||{},\"function\"==typeof t?validateCollection(i,n,e,t):new this.s.promiseLibrary(function(t,r){validateCollection(i,n,e,function(n,e){if(n)return r(n);t(e)})})};var validateCollection=function(n,e,t,i){for(var r={validate:e},o=Object.keys(t),l=0;l<o.length;l++)t.hasOwnProperty(o[l])&&(r[o[l]]=t[o[l]]);n.s.db.command(r,function(n,t){return null!=n?i(n,null):0===t.ok?i(new Error(\"Error with validate command\"),null):null!=t.result&&t.result.constructor!=String?i(new Error(\"Error with validation data\"),null):null!=t.result&&null!=t.result.match(/exception|corrupt/)?i(new Error(\"Error: invalid collection \"+e),null):null==t.valid||t.valid?i(null,t):i(new Error(\"Error: invalid collection \"+e),null)})};define.classMethod(\"validateCollection\",{callback:!0,promise:!0}),Admin.prototype.listDatabases=function(n){var e=this;return\"function\"==typeof n?e.s.db.executeDbAdminCommand({listDatabases:1},{},n):new this.s.promiseLibrary(function(n,t){e.s.db.executeDbAdminCommand({listDatabases:1},{},function(e,i){if(e)return t(e);n(i)})})},define.classMethod(\"listDatabases\",{callback:!0,promise:!0}),Admin.prototype.replSetGetStatus=function(n){var e=this;return\"function\"==typeof n?replSetGetStatus(e,n):new this.s.promiseLibrary(function(n,t){replSetGetStatus(e,function(e,i){if(e)return t(e);n(i)})})};var replSetGetStatus=function(n,e){n.s.db.executeDbAdminCommand({replSetGetStatus:1},function(n,t){return null==n&&1===t.ok?e(null,t):n?e(n,!1):void e(toError(t),!1)})};define.classMethod(\"replSetGetStatus\",{callback:!0,promise:!0}),module.exports=Admin;","node_modules/mongodb/lib/db.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,authenticate=require(\"./authenticate\"),inherits=require(\"util\").inherits,getSingleProperty=require(\"./utils\").getSingleProperty,shallowClone=require(\"./utils\").shallowClone,parseIndexOptions=require(\"./utils\").parseIndexOptions,debugOptions=require(\"./utils\").debugOptions,CommandCursor=require(\"./command_cursor\"),handleCallback=require(\"./utils\").handleCallback,filterOptions=require(\"./utils\").filterOptions,toError=require(\"./utils\").toError,ReadPreference=require(\"./read_preference\"),f=require(\"util\").format,Admin=require(\"./admin\"),Code=require(\"mongodb-core\").BSON.Code,CoreReadPreference=require(\"mongodb-core\").ReadPreference,MongoError=require(\"mongodb-core\").MongoError,ObjectID=require(\"mongodb-core\").ObjectID,Define=require(\"./metadata\"),Logger=require(\"mongodb-core\").Logger,Collection=require(\"./collection\"),crypto=require(\"crypto\"),mergeOptionsAndWriteConcern=require(\"./utils\").mergeOptionsAndWriteConcern,assign=require(\"./utils\").assign,debugFields=[\"authSource\",\"w\",\"wtimeout\",\"j\",\"native_parser\",\"forceServerObjectId\",\"serializeFunctions\",\"raw\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"bufferMaxEntries\",\"numberOfRetries\",\"retryMiliSeconds\",\"readPreference\",\"pkFactory\",\"parentDb\",\"promiseLibrary\",\"noListener\"],illegalCommandFields=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"autoIndexId\",\"strict\",\"serializeFunctions\",\"pkFactory\",\"raw\",\"readPreference\"],legalOptionNames=[\"w\",\"wtimeout\",\"fsync\",\"j\",\"readPreference\",\"readPreferenceTags\",\"native_parser\",\"forceServerObjectId\",\"pkFactory\",\"serializeFunctions\",\"raw\",\"bufferMaxEntries\",\"authSource\",\"ignoreUndefined\",\"promoteLongs\",\"promiseLibrary\",\"readConcern\",\"retryMiliSeconds\",\"numberOfRetries\",\"parentDb\",\"noListener\",\"loggerLevel\",\"logger\",\"promoteBuffers\",\"promoteLongs\",\"promoteValues\"],Db=function(e,r,n){if(n=n||{},!(this instanceof Db))return new Db(e,r,n);EventEmitter.call(this);var o=n.promiseLibrary;o||(o=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),(n=filterOptions(n,legalOptionNames)).promiseLibrary=o,this.s={databaseName:e,dbCache:{},children:[],topology:r,options:n,logger:Logger(\"Db\",n),bson:r?r.bson:null,authSource:n.authSource,readPreference:n.readPreference,bufferMaxEntries:\"number\"==typeof n.bufferMaxEntries?n.bufferMaxEntries:-1,parentDb:n.parentDb||null,pkFactory:n.pkFactory||ObjectID,nativeParser:n.nativeParser||n.native_parser,promiseLibrary:o,noListener:\"boolean\"==typeof n.noListener&&n.noListener,readConcern:n.readConcern},validateDatabaseName(this.s.databaseName),getSingleProperty(this,\"serverConfig\",this.s.topology),getSingleProperty(this,\"bufferMaxEntries\",this.s.bufferMaxEntries),getSingleProperty(this,\"databaseName\",this.s.databaseName),n.parentDb||this.s.noListener||(r.on(\"error\",createListener(this,\"error\",this)),r.on(\"timeout\",createListener(this,\"timeout\",this)),r.on(\"close\",createListener(this,\"close\",this)),r.on(\"parseError\",createListener(this,\"parseError\",this)),r.once(\"open\",createListener(this,\"open\",this)),r.once(\"fullsetup\",createListener(this,\"fullsetup\",this)),r.once(\"all\",createListener(this,\"all\",this)),r.on(\"reconnect\",createListener(this,\"reconnect\",this)),r.on(\"reconnectFailed\",createListener(this,\"reconnectFailed\",this)))};inherits(Db,EventEmitter);var define=Db.define=new Define(\"Db\",Db,!1);Object.defineProperty(Db.prototype,\"topology\",{enumerable:!0,get:function(){return this.s.topology}}),Object.defineProperty(Db.prototype,\"options\",{enumerable:!0,get:function(){return this.s.options}}),Object.defineProperty(Db.prototype,\"slaveOk\",{enumerable:!0,get:function(){return null!=this.s.options.readPreference&&(\"primary\"!=this.s.options.readPreference||\"primary\"!=this.s.options.readPreference.mode)}}),Object.defineProperty(Db.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}});var open=function(e,r){e.s.topology.connect(e,e.s.options,function(n){if(null!=r){var o=r;if(n)return e.close(),o(n);o(null,e)}})};Db.prototype.open=function(e){var r=this;return\"function\"==typeof e?open(r,e):new r.s.promiseLibrary(function(e,n){open(r,function(r,o){if(r)return n(r);e(o)})})},define.classMethod(\"open\",{callback:!0,promise:!0});var convertReadPreference=function(e){if(e&&\"string\"==typeof e)return new CoreReadPreference(e);if(e instanceof ReadPreference)return new CoreReadPreference(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds});if(e&&\"object\"==typeof e){var r=e.mode||e.preference;r&&\"string\"==typeof r&&(e=new CoreReadPreference(r,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}))}return e},executeCommand=function(e,r,n,o){if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var t=n.dbName||n.authdb||e.s.databaseName;null==n.readPreference&&e.s.readPreference&&(n.readPreference=e.s.readPreference),n.readPreference?n.readPreference=convertReadPreference(n.readPreference):n.readPreference=CoreReadPreference.primary,e.s.logger.isDebug()&&e.s.logger.debug(f(\"executing command %s against %s with options [%s]\",JSON.stringify(r),f(\"%s.$cmd\",t),JSON.stringify(debugOptions(debugFields,n)))),e.s.topology.command(f(\"%s.$cmd\",t),r,n,function(e,r){return e?handleCallback(o,e):n.full?handleCallback(o,null,r):void handleCallback(o,null,r.result)})};Db.prototype.command=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=shallowClone(r),\"function\"==typeof n?executeCommand(o,e,r,n):new this.s.promiseLibrary(function(n,t){executeCommand(o,e,r,function(e,r){if(e)return t(e);n(r)})})},define.classMethod(\"command\",{callback:!0,promise:!0}),Db.prototype.close=function(e,r){\"function\"==typeof e&&(r=e,e=!1),this.s.topology.close(e);if(this.listeners(\"close\").length>0){if(this.emit(\"close\"),null==this.parentDb)for(var n=0;n<this.s.children.length;n++)this.s.children[n].emit(\"close\");this.removeAllListeners(\"close\")}return this.s.parentDb&&this.s.parentDb.close(),\"function\"==typeof r?process.nextTick(function(){handleCallback(r,null)}):new this.s.promiseLibrary(function(e){e()})},define.classMethod(\"close\",{callback:!0,promise:!0}),Db.prototype.admin=function(){return new Admin(this,this.s.topology,this.s.promiseLibrary)},define.classMethod(\"admin\",{callback:!1,promise:!1,returns:[Admin]});var collectionKeys=[\"pkFactory\",\"readPreference\",\"serializeFunctions\",\"strict\",\"readConcern\",\"ignoreUndefined\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\"];Db.prototype.collection=function(e,r,n){var o=this;if(\"function\"==typeof r&&(n=r,r={}),r=r||{},r=shallowClone(r),r.promiseLibrary=this.s.promiseLibrary,r.readConcern=r.readConcern||this.s.readConcern,this.s.options.ignoreUndefined&&(r.ignoreUndefined=this.s.options.ignoreUndefined),null==(r=mergeOptionsAndWriteConcern(r,this.s.options,collectionKeys,!0))||!r.strict)try{var t=new Collection(this,this.s.topology,this.s.databaseName,e,this.s.pkFactory,r);return n&&n(null,t),t}catch(e){if(n)return n(e);throw e}if(\"function\"!=typeof n)throw toError(f(\"A callback is required in strict mode. While getting collection %s.\",e));if(o.serverConfig&&o.serverConfig.isDestroyed())return n(new MongoError(\"topology was destroyed\"));this.listCollections({name:e},r).toArray(function(t,a){if(null!=t)return handleCallback(n,t,null);if(0==a.length)return handleCallback(n,toError(f(\"Collection %s does not exist. Currently in strict mode.\",e)),null);try{return handleCallback(n,null,new Collection(o,o.s.topology,o.s.databaseName,e,o.s.pkFactory,r))}catch(t){return handleCallback(n,t,null)}})},define.classMethod(\"collection\",{callback:!0,promise:!1,returns:[Collection]});function decorateWithWriteConcern(e,r,n){if(r.s.topology.capabilities().commandsTakeWriteConcern){var o=writeConcern(shallowClone(n),r,n);o.writeConcern&&(e.writeConcern=o.writeConcern)}}var createCollection=function(e,r,n,o){var t=writeConcern(shallowClone(n),e,n);if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));e.listCollections({name:r}).setReadPreference(ReadPreference.PRIMARY).toArray(function(a,i){if(null!=a)return handleCallback(o,a,null);if(i.length>0&&t.strict)return handleCallback(o,MongoError.create({message:f(\"Collection %s already exists. Currently in strict mode.\",r),driver:!0}),null);if(i.length>0)try{return handleCallback(o,null,new Collection(e,e.s.topology,e.s.databaseName,r,e.s.pkFactory,n))}catch(a){return handleCallback(o,a)}var s={create:r};decorateWithWriteConcern(s,e,n);for(var l in n)null!=n[l]&&\"function\"!=typeof n[l]&&-1==illegalCommandFields.indexOf(l)&&(s[l]=n[l]);t.readPreference=ReadPreference.PRIMARY,e.command(s,t,function(t){if(t)return handleCallback(o,t);handleCallback(o,null,new Collection(e,e.s.topology,e.s.databaseName,r,e.s.pkFactory,n))})})};Db.prototype.createCollection=function(e,r,n){var o=this,t=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=t.pop())&&t.push(n),e=t.length?t.shift():null,r=t.length?t.shift()||{}:{},r.promiseLibrary=r.promiseLibrary||this.s.promiseLibrary,\"string\"==typeof n&&(e=n),\"function\"==typeof n?createCollection(o,e,r,n):new this.s.promiseLibrary(function(n,t){createCollection(o,e,r,function(e,r){if(e)return t(e);n(r)})})},define.classMethod(\"createCollection\",{callback:!0,promise:!0}),Db.prototype.stats=function(e,r){\"function\"==typeof e&&(r=e,e={});var n={dbStats:!0};return null!=(e=e||{}).scale&&(n.scale=e.scale),null==e.readPreference&&this.s.readPreference&&(e.readPreference=this.s.readPreference),this.command(n,e,r)},define.classMethod(\"stats\",{callback:!0,promise:!0});var listCollectionsTranforms=function(e){var r=f(\"%s.\",e);return{doc:function(e){var n=e.name.indexOf(r);return e.name&&0==n&&(e.name=e.name.substr(n+r.length)),e}}};Db.prototype.listCollections=function(e,r){if(e=e||{},r=r||{},r=shallowClone(r),r.promiseLibrary=this.s.promiseLibrary,r.readPreference&&(r.readPreference=convertReadPreference(r.readPreference)),this.serverConfig.capabilities().hasListCollectionsCommand){var n=r.batchSize?{batchSize:r.batchSize}:{},o={listCollections:!0,filter:e,cursor:n};return r.cursorFactory=CommandCursor,n=this.s.topology.cursor(f(\"%s.$cmd\",this.s.databaseName),o,r),r.readPreference&&n.setReadPreference(r.readPreference),n}this.serverConfig.capabilities().hasListCollectionsCommand||\"string\"!=typeof e.name||new RegExp(\"^\"+this.databaseName+\"\\\\.\").test(e.name)||((e=shallowClone(e)).name=f(\"%s.%s\",this.s.databaseName,e.name)),null==e&&(e.name=f(\"/%s/\",this.s.databaseName)),e=e.name?{$and:[{name:e.name},{name:/^((?!\\$).)*$/}]}:{name:/^((?!\\$).)*$/};var t={transforms:listCollectionsTranforms(this.s.databaseName)};return n=this.collection(Db.SYSTEM_NAMESPACE_COLLECTION).find(e,t),r.readPreference&&n.setReadPreference(r.readPreference),r.batchSize&&(n=n.batchSize(r.batchSize)),n},define.classMethod(\"listCollections\",{callback:!1,promise:!1,returns:[CommandCursor]});var evaluate=function(e,r,n,o,t){var a=r,i=[];if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));a&&\"Code\"==a._bsontype||(a=new Code(a)),null==n||Array.isArray(n)||\"function\"==typeof n?null!=n&&Array.isArray(n)&&\"function\"!=typeof n&&(i=n):i=[n];var s={$eval:a,args:i};o.nolock&&(s.nolock=o.nolock),o.readPreference=new CoreReadPreference(ReadPreference.PRIMARY),e.command(s,o,function(e,r){return e?handleCallback(t,e,null):r&&1==r.ok?handleCallback(t,null,r.retval):r?handleCallback(t,MongoError.create({message:f(\"eval failed: %s\",r.errmsg),driver:!0}),null):void handleCallback(t,e,r)})};Db.prototype.eval=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(o=a.pop())&&a.push(o),r=a.length?a.shift():r,n=a.length?a.shift()||{}:{},\"function\"==typeof o?evaluate(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){evaluate(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"eval\",{callback:!0,promise:!0}),Db.prototype.renameCollection=function(e,r,n,o){var t=this;return\"function\"==typeof n&&(o=n,n={}),n=n||{},n.new_collection=!0,\"function\"==typeof o?this.collection(e).rename(r,n,o):new this.s.promiseLibrary(function(o,a){t.collection(e).rename(r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"renameCollection\",{callback:!0,promise:!0}),Db.prototype.dropCollection=function(e,r,n){var o=this;\"function\"==typeof r&&(n=r,r={});var t={drop:e};return decorateWithWriteConcern(t,o,r=r||{}),r=assign({},this.s.options,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof n?this.command(t,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):e?handleCallback(n,e):r.ok?handleCallback(n,null,!0):void handleCallback(n,null,!1)}):(r=shallowClone(o.s.options),r.readPreference=ReadPreference.PRIMARY,new this.s.promiseLibrary(function(e,n){o.command(t,r,function(r,t){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):r?n(r):t.ok?e(!0):void e(!1)})}))},define.classMethod(\"dropCollection\",{callback:!0,promise:!0}),Db.prototype.dropDatabase=function(e,r){var n=this;\"function\"==typeof e&&(r=e,e={});var o={dropDatabase:1};return decorateWithWriteConcern(o,n,e=e||{}),e=assign({},this.s.options,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof r?this.command(o,e,function(e,o){if(n.serverConfig&&n.serverConfig.isDestroyed())return r(new MongoError(\"topology was destroyed\"));if(null!=r)return e?handleCallback(r,e,null):void handleCallback(r,null,!!o.ok)}):new this.s.promiseLibrary(function(r,t){n.command(o,e,function(e,o){return n.serverConfig&&n.serverConfig.isDestroyed()?t(new MongoError(\"topology was destroyed\")):e?t(e):o.ok?r(!0):void r(!1)})})},define.classMethod(\"dropDatabase\",{callback:!0,promise:!0});var collections=function(e,r){e.listCollections().toArray(function(n,o){if(null!=n)return handleCallback(r,n,null);o=o.filter(function(e){return-1==e.name.indexOf(\"$\")}),handleCallback(r,null,o.map(function(r){return new Collection(e,e.s.topology,e.s.databaseName,r.name,e.s.pkFactory,e.s.options)}))})};Db.prototype.collections=function(e){var r=this;return\"function\"==typeof e?collections(r,e):new r.s.promiseLibrary(function(e,n){collections(r,function(r,o){if(r)return n(r);e(o)})})},define.classMethod(\"collections\",{callback:!0,promise:!0}),Db.prototype.executeDbAdminCommand=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=r||{},\"function\"==typeof n?(r.readPreference&&(r.readPreference=convertReadPreference(r.readPreference)),o.s.topology.command(\"admin.$cmd\",e,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?n(new MongoError(\"topology was destroyed\")):e?handleCallback(n,e):void handleCallback(n,null,r.result)})):new o.s.promiseLibrary(function(n,t){o.s.topology.command(\"admin.$cmd\",e,r,function(e,r){return o.serverConfig&&o.serverConfig.isDestroyed()?t(new MongoError(\"topology was destroyed\")):e?t(e):void n(r.result)})})},define.classMethod(\"executeDbAdminCommand\",{callback:!0,promise:!0}),Db.prototype.createIndex=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=a.pop())&&a.push(o),n=a.length?a.shift()||{}:{},n=\"function\"==typeof o?n:o,n=null==n?{}:n,n=shallowClone(n),\"function\"==typeof o?createIndex(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){createIndex(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})};var createIndex=function(e,r,n,o,t){var a=writeConcern({},e,o,{readPreference:ReadPreference.PRIMARY});if(a.writeConcern&&\"function\"!=typeof t)throw MongoError.create({message:\"Cannot use a writeConcern without a provided callback\",driver:!0});if(o.readPreference=ReadPreference.PRIMARY,e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));createIndexUsingCreateIndexes(e,r,n,o,function(i,s){if(null==i)return handleCallback(t,i,s);if(67===i.code||11e3==i.code||85===i.code||11600==i.code)return handleCallback(t,i,s);var l=createCreateIndexCommand(e,r,n,o);a.checkKeys=!1,e.s.topology.insert(f(\"%s.%s\",e.s.databaseName,Db.SYSTEM_INDEX_COLLECTION),l,a,function(e,r){if(null!=t)return e?handleCallback(t,e):null==r?handleCallback(t,null,null):r.result.writeErrors?handleCallback(t,MongoError.create(r.result.writeErrors[0]),null):void handleCallback(t,null,l.name)})})};define.classMethod(\"createIndex\",{callback:!0,promise:!0}),Db.prototype.ensureIndex=function(e,r,n,o){var t=this;return\"function\"==typeof n&&(o=n,n={}),n=n||{},\"function\"==typeof o?ensureIndex(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){ensureIndex(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})};var ensureIndex=function(e,r,n,o,t){var a=writeConcern({},e,o),i=createCreateIndexCommand(e,r,n,o).name;if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));a.readPreference=ReadPreference.PRIMARY,e.indexInformation(r,a,function(a,s){if(null!=a&&26!=a.code)return handleCallback(t,a,null);if(null!=s&&s[i]){if(\"function\"==typeof t)return handleCallback(t,null,i)}else e.createIndex(r,n,o,t)})};define.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),Db.prototype.addChild=function(e){if(this.s.parentDb)return this.s.parentDb.addChild(e);this.s.children.push(e)},Db.prototype.db=function(e,r){r=r||{};var n=assign({},this.options,r);if(this.s.dbCache[e]&&!0!==n.returnNonCachedInstance)return this.s.dbCache[e];null!=n.noListener&&0!=n.noListener||(n.parentDb=this),n.promiseLibrary=this.s.promiseLibrary;var o=new Db(e,this.s.topology,n);return null!=n.noListener&&0!=n.noListener||this.addChild(o),this.s.dbCache[e]=o,o},define.classMethod(\"db\",{callback:!1,promise:!1,returns:[Db]});var _executeAuthCreateUserCommand=function(e,r,n,o,t){if(\"string\"==typeof r&&null!=n&&\"object\"==typeof n&&(o=n,n=null),\"function\"==typeof o&&(t=o,o={}),null!=o.digestPassword)throw toError(\"The digestPassword option is not supported via add_user. Please use db.command('createUser', ...) instead for this option.\");var a=null!=o.customData?o.customData:{},i=Array.isArray(o.roles)?o.roles:[],s=\"number\"==typeof o.maxTimeMS?o.maxTimeMS:null;0==i.length&&console.log(\"Creating a user without roles is deprecated in MongoDB >= 2.6\");var l={writeCommand:!0};o.dbName&&(l.dbName=o.dbName),null!=s&&(l.maxTimeMS=s),\"admin\"!=e.databaseName.toLowerCase()&&\"admin\"!=o.dbName||Array.isArray(o.roles)?Array.isArray(o.roles)||(i=[\"dbOwner\"]):i=[\"root\"];var c={createUser:r,customData:a,roles:i,digestPassword:!1};c=writeConcern(c,e,o);var d=crypto.createHash(\"md5\");d.update(r+\":mongo:\"+n);var u=d.digest(\"hex\");\"string\"==typeof n&&(c.pwd=u),l.readPreference=ReadPreference.primary,e.command(c,l,function(e,n){return e&&0==e.ok&&void 0==e.code?handleCallback(t,{code:-5e3},null):e?handleCallback(t,e,null):void handleCallback(t,n.ok?null:toError(n),n.ok?[{user:r,pwd:\"\"}]:null)})},addUser=function(e,r,n,o,t){if(e.serverConfig&&e.serverConfig.isDestroyed())return t(new MongoError(\"topology was destroyed\"));_executeAuthCreateUserCommand(e,r,n,o,function(a,i){if(a&&-5e3==a.code){var s=writeConcern(shallowClone(o),e,o),l=crypto.createHash(\"md5\");l.update(r+\":mongo:\"+n);var c=l.digest(\"hex\"),d=(o.dbName?e.db(o.dbName):e).collection(Db.SYSTEM_USER_COLLECTION);d.count({},function(e,n){if(null!=e)return handleCallback(t,e,null);d.find({user:r},{dbName:o.dbName}).toArray(function(e){if(null!=e)return handleCallback(t,e,null);s.upsert=!0,d.update({user:r},{$set:{user:r,pwd:c}},s,function(e){return 0==n&&e?handleCallback(t,null,[{user:r,pwd:c}]):e?handleCallback(t,e,null):void handleCallback(t,null,[{user:r,pwd:c}])})})})}else{if(a)return handleCallback(t,a);handleCallback(t,a,i)}})};Db.prototype.addUser=function(e,r,n,o){var t=this,a=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=a.pop())&&a.push(o),n=a.length?a.shift()||{}:{},\"function\"==typeof o?addUser(t,e,r,n,o):new this.s.promiseLibrary(function(o,a){addUser(t,e,r,n,function(e,r){if(e)return a(e);o(r)})})},define.classMethod(\"addUser\",{callback:!0,promise:!0});var _executeAuthRemoveUserCommand=function(e,r,n,o){if(\"function\"==typeof n&&(o=n,n={}),e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var t={writeCommand:!0};n.dbName&&(t.dbName=n.dbName);var a=\"number\"==typeof n.maxTimeMS?n.maxTimeMS:null;null!=a&&(t.maxTimeMS=a);var i={dropUser:r};i=writeConcern(i,e,n),t.readPreference=ReadPreference.primary,e.command(i,t,function(e,r){return e&&!e.ok&&void 0==e.code?handleCallback(o,{code:-5e3}):e?handleCallback(o,e,null):void handleCallback(o,null,!!r.ok)})},removeUser=function(e,r,n,o){_executeAuthRemoveUserCommand(e,r,n,function(t,a){if(t&&-5e3==t.code){var i=writeConcern(shallowClone(n),e,n),s=(n.dbName?e.db(n.dbName):e).collection(Db.SYSTEM_USER_COLLECTION);s.findOne({user:r},{},function(e,n){if(null==n)return handleCallback(o,e,!1);s.remove({user:r},i,function(e){handleCallback(o,e,!0)})})}else{if(t)return handleCallback(o,t);handleCallback(o,t,a)}})};define.classMethod(\"removeUser\",{callback:!0,promise:!0}),Db.prototype.removeUser=function(e,r,n){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(n=t.pop())&&t.push(n),r=t.length?t.shift()||{}:{},\"function\"==typeof n?removeUser(o,e,r,n):new this.s.promiseLibrary(function(n,t){removeUser(o,e,r,function(e,r){if(e)return t(e);n(r)})})},Db.prototype.authenticate=function(e,r,n,o){return console.warn(\"Db.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\"),authenticate.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},define.classMethod(\"authenticate\",{callback:!0,promise:!0}),Db.prototype.logout=function(e,r){var n=this;\"function\"==typeof e&&(r=e,e={}),e=e||{};var o=this.s.authSource?this.s.authSource:this.s.databaseName;return o=e.dbName?e.dbName:o,\"function\"==typeof r?n.s.topology.logout(o,function(e){if(e)return r(e);r(null,!0)}):new this.s.promiseLibrary(function(e,r){n.s.topology.logout(o,function(n){if(n)return r(n);e(!0)})})},define.classMethod(\"logout\",{callback:!0,promise:!0}),Db.prototype.indexInformation=function(e,r,n){var o=this;return\"function\"==typeof r&&(n=r,r={}),r=r||{},\"function\"==typeof n?indexInformation(o,e,r,n):new this.s.promiseLibrary(function(n,t){indexInformation(o,e,r,function(e,r){if(e)return t(e);n(r)})})};var indexInformation=function(e,r,n,o){var t=null!=n.full&&n.full;if(e.serverConfig&&e.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));e.collection(r).listIndexes(n).toArray(function(e,r){return e?o(toError(e)):Array.isArray(r)?t?handleCallback(o,null,r):void handleCallback(o,null,function(e){for(var r={},n=0;n<e.length;n++){var o=e[n];r[o.name]=[];for(var t in o.key)r[o.name].push([t,o.key[t]])}return r}(r)):handleCallback(o,null,[])})};define.classMethod(\"indexInformation\",{callback:!0,promise:!0});var createCreateIndexCommand=function(e,r,n,o){var t=parseIndexOptions(n),a=t.fieldHash,i=\"string\"==typeof o.name?o.name:t.name,s={ns:e.databaseName+\".\"+r,key:a,name:i},l=null!=o&&\"object\"!=typeof o&&o;o=null==o||\"boolean\"==typeof o?{}:o;var c=Object.keys(s);for(var d in o)-1==c.indexOf(d)&&(s[d]=o[d]);null==s.unique&&(s.unique=l);for(var u=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],f=0;f<u.length;f++)delete s[u[f]];return s},createIndexUsingCreateIndexes=function(e,r,n,o,t){var a=parseIndexOptions(n),i=\"string\"==typeof o.name?o.name:a.name,s=[{name:i,key:a.fieldHash}],l=Object.keys(s[0]);for(var c in o){-1==l.indexOf(c)&&(s[0][c]=o[c]);for(var d=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\"],u=0;u<d.length;u++)delete s[0][d[u]]}var p=e.s.topology.capabilities();if(s[0].collation&&p&&!p.commandsTakeCollation){var m=new MongoError(f(\"server/primary/mongos does not support collation\"));return m.code=67,t(m)}var h=writeConcern({createIndexes:r,indexes:s},e,o);decorateWithWriteConcern(h,e,o),o.readPreference=ReadPreference.PRIMARY,e.command(h,o,function(e,r){return e?handleCallback(t,e,null):0==r.ok?handleCallback(t,toError(r),null):void handleCallback(t,null,i)})},validateDatabaseName=function(e){if(\"string\"!=typeof e)throw MongoError.create({message:\"database name must be a string\",driver:!0});if(0===e.length)throw MongoError.create({message:\"database name cannot be the empty string\",driver:!0});if(\"$external\"!=e)for(var r=[\" \",\".\",\"$\",\"/\",\"\\\\\"],n=0;n<r.length;n++)if(-1!=e.indexOf(r[n]))throw MongoError.create({message:\"database names cannot contain the character '\"+r[n]+\"'\",driver:!0})},writeConcern=function(e,r,n){if(null!=n.w||null!=n.j||null!=n.fsync){var o={};n.w&&(o.w=n.w),n.wtimeout&&(o.wtimeout=n.wtimeout),n.j&&(o.j=n.j),n.fsync&&(o.fsync=n.fsync),e.writeConcern=o}else null==r.writeConcern.w&&null==r.writeConcern.j&&null==r.writeConcern.fsync||(e.writeConcern=r.writeConcern);return e},createListener=function(e,r,n){return function(o){if(n.listeners(r).length>0){n.emit(r,o,e);for(var t=0;t<e.s.children.length;t++)e.s.children[t].emit(r,o,e.s.children[t])}}};Db.prototype.unref=function(){this.s.topology.unref()},Db.SYSTEM_NAMESPACE_COLLECTION=\"system.namespaces\",Db.SYSTEM_INDEX_COLLECTION=\"system.indexes\",Db.SYSTEM_PROFILE_COLLECTION=\"system.profile\",Db.SYSTEM_USER_COLLECTION=\"system.users\",Db.SYSTEM_COMMAND_COLLECTION=\"$cmd\",Db.SYSTEM_JS_COLLECTION=\"system.js\",module.exports=Db;","node_modules/mongodb/lib/collection.js":"\"use strict\";var checkCollectionName=require(\"./utils\").checkCollectionName,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Long=require(\"mongodb-core\").BSON.Long,Code=require(\"mongodb-core\").BSON.Code,f=require(\"util\").format,AggregationCursor=require(\"./aggregation_cursor\"),MongoError=require(\"mongodb-core\").MongoError,shallowClone=require(\"./utils\").shallowClone,isObject=require(\"./utils\").isObject,toError=require(\"./utils\").toError,normalizeHintField=require(\"./utils\").normalizeHintField,handleCallback=require(\"./utils\").handleCallback,decorateCommand=require(\"./utils\").decorateCommand,formattedOrderClause=require(\"./utils\").formattedOrderClause,ReadPreference=require(\"./read_preference\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,CommandCursor=require(\"./command_cursor\"),Define=require(\"./metadata\"),Cursor=require(\"./cursor\"),unordered=require(\"./bulk/unordered\"),ordered=require(\"./bulk/ordered\"),assign=require(\"./utils\").assign,mergeKeys=[\"readPreference\",\"ignoreUndefined\"],Collection=function(e,n,r,o,t,i){checkCollectionName(o);var l=null==i||null==i.slaveOk?e.slaveOk:i.slaveOk,a=null==i||null==i.serializeFunctions?e.s.options.serializeFunctions:i.serializeFunctions,s=null==i||null==i.raw?e.s.options.raw:i.raw,c=null==i||null==i.promoteLongs?e.s.options.promoteLongs:i.promoteLongs,u=null==i||null==i.promoteValues?e.s.options.promoteValues:i.promoteValues,d=null==i||null==i.promoteBuffers?e.s.options.promoteBuffers:i.promoteBuffers,p=null,h=f(\"%s.%s\",r,o),m=i.promiseLibrary;m||(m=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),i&&i.readPreference?p=i.readPreference:e.options.readPreference&&(p=e.options.readPreference),t=null==t?ObjectID:t,this.s={pkFactory:t,db:e,topology:n,dbName:r,options:i,namespace:h,readPreference:p,slaveOk:l,serializeFunctions:a,raw:s,promoteLongs:c,promoteValues:u,promoteBuffers:d,internalHint:null,collectionHint:null,name:o,promiseLibrary:m,readConcern:i.readConcern}},define=Collection.define=new Define(\"Collection\",Collection,!1);Object.defineProperty(Collection.prototype,\"collectionName\",{enumerable:!0,get:function(){return this.s.name}}),Object.defineProperty(Collection.prototype,\"namespace\",{enumerable:!0,get:function(){return this.s.namespace}}),Object.defineProperty(Collection.prototype,\"readConcern\",{enumerable:!0,get:function(){return this.s.readConcern||{level:\"local\"}}}),Object.defineProperty(Collection.prototype,\"writeConcern\",{enumerable:!0,get:function(){var e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}}),Object.defineProperty(Collection.prototype,\"hint\",{enumerable:!0,get:function(){return this.s.collectionHint},set:function(e){this.s.collectionHint=normalizeHintField(e)}}),Collection.prototype.find=function(){var e,n=Array.prototype.slice.call(arguments,0),r=\"function\"==typeof n[n.length-1],o=\"function\"==typeof n[0],t=r?n.pop():o?n.shift():null,i=n.length,l=i>=1?n[0]:{},a=i>=2?n[1]:void 0;if(1===i&&o&&(l={},e=n[0]),2!==i||void 0===a||Array.isArray(a)){if(2===i&&Array.isArray(a)&&!Array.isArray(a[0])){var s={};for(d=0;d<a.length;d++)s[a[d]]=1;a=s}}else{for(var c=Object.keys(a),u=!1,d=0;d<c.length;d++)if(null!=testForFields[c[d]]){u=!0;break}u?(e=a,a=void 0):e={}}3===i&&(e=n[2]);var f=l=null==l?{}:l;if(Buffer.isBuffer(f)){var p=f[0]|f[1]<<8|f[2]<<16|f[3]<<24;if(p!=f.length){var h=new Error(\"query selector raw message size does not match message header size [\"+f.length+\"] != [\"+p+\"]\");throw h.name=\"MongoError\",h}}if(f=a,Buffer.isBuffer(f)&&(p=f[0]|f[1]<<8|f[2]<<16|f[3]<<24)!=f.length)throw h=new Error(\"query fields raw message size does not match message header size [\"+f.length+\"] != [\"+p+\"]\"),h.name=\"MongoError\",h;if(null!=l&&\"ObjectID\"==l._bsontype&&(l={_id:l}),e&&e.fields&&!Buffer.isBuffer(e.fields))if(a={},Array.isArray(e.fields))if(e.fields.length){var m=e.fields.length;for(d=0;d<m;d++)a[e.fields[d]]=1}else a._id=1;else a=e.fields;e||(e={});var y={};for(var b in this.s.options)-1!=mergeKeys.indexOf(b)&&(y[b]=this.s.options[b]);for(var b in e)y[b]=e[b];if(y.skip=i>3?n[2]:e.skip?e.skip:0,y.limit=i>3?n[3]:e.limit?e.limit:0,y.raw=null!=e.raw&&\"boolean\"==typeof e.raw?e.raw:this.s.raw,y.hint=null!=e.hint?normalizeHintField(e.hint):this.s.collectionHint,y.timeout=5==i?n[4]:void 0===e.timeout?void 0:e.timeout,y.slaveOk=null!=e.slaveOk?e.slaveOk:this.s.db.slaveOk,null==(y=getReadPreference(this,y,this.s.db,this)).readPreference||\"primary\"==y.readPreference&&\"primary\"==y.readPreference.mode||(y.slaveOk=!0),null!=l&&\"object\"!=typeof l)throw MongoError.create({message:\"query selector must be an object\",driver:!0});var C={find:this.s.namespace,limit:y.limit,skip:y.skip,query:l};\"boolean\"==typeof y.awaitdata&&(y.awaitData=y.awaitdata),\"boolean\"==typeof y.timeout&&(y.noCursorTimeout=y.timeout);for(var g in y)null!=y[g]&&(C[g]=y[g]);return a&&(C.fields=function(e){var n={};if(Array.isArray(e))for(var r=0;r<e.length;r++)Array.isArray(e[r])?n[e[r][0]]=e[r][1]:n[e[r][0]]=1;else n=e;return n}(a)),y.db=this.s.db,y.promiseLibrary=this.s.promiseLibrary,null==y.raw&&\"boolean\"==typeof this.s.raw&&(y.raw=this.s.raw),null==y.promoteLongs&&\"boolean\"==typeof this.s.promoteLongs&&(y.promoteLongs=this.s.promoteLongs),null==y.promoteValues&&\"boolean\"==typeof this.s.promoteValues&&(y.promoteValues=this.s.promoteValues),null==y.promoteBuffers&&\"boolean\"==typeof this.s.promoteBuffers&&(y.promoteBuffers=this.s.promoteBuffers),C.sort&&(C.sort=formattedOrderClause(C.sort)),this.s.readConcern&&(C.readConcern=this.s.readConcern),decorateWithCollation(C,this,e),\"function\"==typeof t?handleCallback(t,null,this.s.topology.cursor(this.s.namespace,C,y)):this.s.topology.cursor(this.s.namespace,C,y)},define.classMethod(\"find\",{callback:!1,promise:!1,returns:[Cursor]}),Collection.prototype.insertOne=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},Array.isArray(e)&&\"function\"==typeof r?r(MongoError.create({message:\"doc parameter must be an object\",driver:!0})):Array.isArray(e)?new this.s.promiseLibrary(function(e,n){n(MongoError.create({message:\"doc parameter must be an object\",driver:!0}))}):(this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?insertOne(o,e,n,r):new this.s.promiseLibrary(function(r,t){insertOne(o,e,n,function(e,n){if(e)return t(e);r(n)})}))};var insertOne=function(e,n,r,o){insertDocuments(e,[n],r,function(e,r){if(null!=o){if(e&&o)return o(e);if(null==r)return o(null,{result:{ok:1}});r.insertedCount=r.result.n,r.insertedId=n._id,o&&o(null,r)}})},mapInsertManyResults=function(e,n){for(var r=n.getInsertedIds(),o=Object.keys(r),t=new Array(o.length),i=0;i<o.length;i++)r[o[i]]._id&&(t[r[o[i]].index]=r[o[i]]._id);var l={result:{ok:1,n:n.insertedCount},ops:e,insertedCount:n.insertedCount,insertedIds:t};return n.getLastOp()&&(l.result.opTime=n.getLastOp()),l};define.classMethod(\"insertOne\",{callback:!0,promise:!0}),Collection.prototype.insertMany=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n?shallowClone(n):{ordered:!0},!Array.isArray(e)&&\"function\"==typeof r)return r(MongoError.create({message:\"docs parameter must be an array of documents\",driver:!0}));if(!Array.isArray(e))return new this.s.promiseLibrary(function(e,n){n(MongoError.create({message:\"docs parameter must be an array of documents\",driver:!0}))});\"boolean\"!=typeof n.checkKeys&&(n.checkKeys=!0),n.serializeFunctions=n.serializeFunctions||o.s.serializeFunctions;if(!0!==(\"boolean\"==typeof n.forceServerObjectId?n.forceServerObjectId:o.s.db.options.forceServerObjectId))for(var t=0;t<e.length;t++)null==e[t]._id&&(e[t]._id=o.s.pkFactory.createPk());var i=[{insertMany:e}];return\"function\"==typeof r?bulkWrite(o,i,n,function(n,o){if(n)return r(n,o);r(null,mapInsertManyResults(e,o))}):new this.s.promiseLibrary(function(r,t){bulkWrite(o,i,n,function(n,o){if(n)return t(n);r(mapInsertManyResults(e,o))})})},define.classMethod(\"insertMany\",{callback:!0,promise:!0}),Collection.prototype.bulkWrite=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n||{ordered:!0},!Array.isArray(e))throw MongoError.create({message:\"operations must be an array of documents\",driver:!0});return\"function\"==typeof r?bulkWrite(o,e,n,r):new this.s.promiseLibrary(function(r,t){bulkWrite(o,e,n,function(e,n){if(e&&null==n)return t(e);r(n)})})};var bulkWrite=function(e,n,r,o){e.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=e.s.options.ignoreUndefined);var t=1==r.ordered||null==r.ordered?e.initializeOrderedBulkOp(r):e.initializeUnorderedBulkOp(r),i=!1;try{for(var l=0;l<n.length;l++){var a=Object.keys(n[l])[0];n[l][a].collation&&(i=!0),t.raw(n[l])}}catch(e){return o(e,null)}var s=writeConcern(shallowClone(r),e.s.db,e,r),c=s.writeConcern?s.writeConcern:{},u=e.s.topology.capabilities();if(i&&u&&!u.commandsTakeCollation)return o(new MongoError(f(\"server/primary/mongos does not support collation\")));t.execute(c,function(e,n){if(!n&&e)return o(e,null);if(n&&n.hasWriteErrors()&&1==n.getWriteErrorCount())return o(toError(n.getWriteErrorAt(0)),n);n.insertedCount=n.nInserted,n.matchedCount=n.nMatched,n.modifiedCount=n.nModified||0,n.deletedCount=n.nRemoved,n.upsertedCount=n.getUpsertedIds().length,n.upsertedIds={},n.insertedIds={},n.n=n.insertedCount;for(var r=n.getInsertedIds(),t=0;t<r.length;t++)n.insertedIds[r[t].index]=r[t]._id;var i=n.getUpsertedIds();for(t=0;t<i.length;t++)n.upsertedIds[i[t].index]=i[t]._id;if(n.hasWriteErrors()){var l=n.getWriteErrors();return o(toError({message:\"write operation failed\",code:l[0].code,writeErrors:l}),n)}if(n.getWriteConcernError())return o(toError(n.getWriteConcernError()),n);o(null,n)})},insertDocuments=function(e,n,r,o){\"function\"==typeof r&&(o=r,r={}),r=r||{},n=Array.isArray(n)?n:[n];var t=writeConcern(shallowClone(r),e.s.db,e,r);\"boolean\"!=typeof t.checkKeys&&(t.checkKeys=!0),1==t.keepGoing&&(t.ordered=!1),t.serializeFunctions=r.serializeFunctions||e.s.serializeFunctions;if(!0!==(\"boolean\"==typeof r.forceServerObjectId?r.forceServerObjectId:e.s.db.options.forceServerObjectId))for(var i=0;i<n.length;i++)void 0===n[i]._id&&(n[i]._id=e.s.pkFactory.createPk());e.s.topology.insert(e.s.namespace,n,t,function(e,r){if(null!=o){if(e)return handleCallback(o,e);if(null==r)return handleCallback(o,null,null);if(r.result.code)return handleCallback(o,toError(r.result));if(r.result.writeErrors)return handleCallback(o,toError(r.result.writeErrors[0]));r.ops=n,handleCallback(o,null,r)}})};define.classMethod(\"bulkWrite\",{callback:!0,promise:!0}),Collection.prototype.insert=function(e,n,r){return\"function\"==typeof n&&(r=n,n={}),n=n||{ordered:!1},e=Array.isArray(e)?e:[e],1==n.keepGoing&&(n.ordered=!1),this.insertMany(e,n,r)},define.classMethod(\"insert\",{callback:!0,promise:!0}),Collection.prototype.updateOne=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateOne(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateOne(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var updateOne=function(e,n,r,o,t){o.multi=!1,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,t&&t(null,n)}})};define.classMethod(\"updateOne\",{callback:!0,promise:!0}),Collection.prototype.replaceOne=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?replaceOne(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){replaceOne(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var replaceOne=function(e,n,r,o,t){o.multi=!1,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,n.ops=[r],t&&t(null,n)}})};define.classMethod(\"replaceOne\",{callback:!0,promise:!0}),Collection.prototype.updateMany=function(e,n,r,o){var t=this;return\"function\"==typeof r&&(o=r,r={}),r=shallowClone(r),this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateMany(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateMany(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var updateMany=function(e,n,r,o,t){o.multi=!0,updateDocuments(e,n,r,o,function(e,n){if(null!=t){if(e&&t)return t(e);if(null==n)return t(null,{result:{ok:1}});n.modifiedCount=null!=n.result.nModified?n.result.nModified:n.result.n,n.upsertedId=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?n.result.upserted[0]:null,n.upsertedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length?n.result.upserted.length:0,n.matchedCount=Array.isArray(n.result.upserted)&&n.result.upserted.length>0?0:n.result.n,t&&t(null,n)}})};define.classMethod(\"updateMany\",{callback:!0,promise:!0});var updateDocuments=function(e,n,r,o,t){if(\"function\"==typeof o&&(t=o,o=null),null==o&&(o={}),\"function\"!=typeof t&&(t=null),null==n||\"object\"!=typeof n)return t(toError(\"selector must be a valid JavaScript object\"));if(null==r||\"object\"!=typeof r)return t(toError(\"document must be a valid JavaScript object\"));var i=writeConcern(shallowClone(o),e.s.db,e,o);i.serializeFunctions=o.serializeFunctions||e.s.serializeFunctions;var l={q:n,u:r};l.upsert=\"boolean\"==typeof o.upsert&&o.upsert,l.multi=\"boolean\"==typeof o.multi&&o.multi,decorateWithCollation(i,e,o),e.s.topology.update(e.s.namespace,[l],i,function(e,n){if(null!=t)return e?handleCallback(t,e,null):null==n?handleCallback(t,null,null):n.result.code?handleCallback(t,toError(n.result)):n.result.writeErrors?handleCallback(t,toError(n.result.writeErrors[0])):void handleCallback(t,null,n)})};Collection.prototype.update=function(e,n,r,o){var t=this;return this.s.options.ignoreUndefined&&((r=shallowClone(r)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof o?updateDocuments(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){updateDocuments(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})},define.classMethod(\"update\",{callback:!0,promise:!0}),Collection.prototype.deleteOne=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=shallowClone(n),this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?deleteOne(o,e,n,r):new this.s.promiseLibrary(function(r,t){deleteOne(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var deleteOne=function(e,n,r,o){r.single=!0,removeDocuments(e,n,r,function(e,n){if(null!=o){if(e&&o)return o(e);if(null==n)return o(null,{result:{ok:1}});n.deletedCount=n.result.n,o&&o(null,n)}})};define.classMethod(\"deleteOne\",{callback:!0,promise:!0}),Collection.prototype.removeOne=Collection.prototype.deleteOne,define.classMethod(\"removeOne\",{callback:!0,promise:!0}),Collection.prototype.deleteMany=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=shallowClone(n),this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?deleteMany(o,e,n,r):new this.s.promiseLibrary(function(r,t){deleteMany(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var deleteMany=function(e,n,r,o){r.single=!1,removeDocuments(e,n,r,function(e,n){if(null!=o){if(e&&o)return o(e);if(null==n)return o(null,{result:{ok:1}});n.deletedCount=n.result.n,o&&o(null,n)}})},removeDocuments=function(e,n,r,o){\"function\"==typeof r?(o=r,r={}):\"function\"==typeof n&&(o=n,r={},n={});var t=writeConcern(shallowClone(r=r||{}),e.s.db,e,r);null==n&&(n={});var i={q:n,limit:0};r.single&&(i.limit=1),decorateWithCollation(t,e,r),e.s.topology.remove(e.s.namespace,[i],t,function(e,n){if(null!=o)return e?handleCallback(o,e,null):null==n?handleCallback(o,null,null):n.result.code?handleCallback(o,toError(n.result)):n.result.writeErrors?handleCallback(o,toError(n.result.writeErrors[0])):void handleCallback(o,null,n)})};define.classMethod(\"deleteMany\",{callback:!0,promise:!0}),Collection.prototype.removeMany=Collection.prototype.deleteMany,define.classMethod(\"removeMany\",{callback:!0,promise:!0}),Collection.prototype.remove=function(e,n,r){var o=this;return this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?removeDocuments(o,e,n,r):new this.s.promiseLibrary(function(r,t){removeDocuments(o,e,n,function(e,n){if(e)return t(e);r(n)})})},define.classMethod(\"remove\",{callback:!0,promise:!0}),Collection.prototype.save=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},this.s.options.ignoreUndefined&&((n=shallowClone(n)).ignoreUndefined=this.s.options.ignoreUndefined),\"function\"==typeof r?save(o,e,n,r):new this.s.promiseLibrary(function(r,t){save(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var save=function(e,n,r,o){var t=writeConcern(shallowClone(r),e.s.db,e,r);if(null!=n._id)return t.upsert=!0,updateDocuments(e,{_id:n._id},n,t,o);insertDocuments(e,[n],r,function(e,r){if(null!=o)return null==n?handleCallback(o,null,null):e?handleCallback(o,e,null):void handleCallback(o,null,r)})};define.classMethod(\"save\",{callback:!0,promise:!0}),Collection.prototype.findOne=function(){var e=this,n=Array.prototype.slice.call(arguments,0),r=n.pop();return\"function\"!=typeof r&&n.push(r),\"function\"==typeof r?findOne(e,n,r):new this.s.promiseLibrary(function(r,o){findOne(e,n,function(e,n){if(e)return o(e);r(n)})})};var findOne=function(e,n,r){e.find.apply(e,n).limit(-1).batchSize(1).next(function(e,n){if(null!=e)return handleCallback(r,toError(e),null);handleCallback(r,null,n)})};define.classMethod(\"findOne\",{callback:!0,promise:!0}),Collection.prototype.rename=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=assign({},n,{readPreference:ReadPreference.PRIMARY}),\"function\"==typeof r?rename(o,e,n,r):new this.s.promiseLibrary(function(r,t){rename(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var rename=function(e,n,r,o){checkCollectionName(n);var t={renameCollection:f(\"%s.%s\",e.s.dbName,e.s.name),to:f(\"%s.%s\",e.s.dbName,n),dropTarget:\"boolean\"==typeof r.dropTarget&&r.dropTarget};decorateWithWriteConcern(t,e,r),e.s.db.admin().command(t,r,function(r,t){if(r)return handleCallback(o,r,null);if(t.errmsg)return handleCallback(o,toError(t),null);try{return handleCallback(o,null,new Collection(e.s.db,e.s.topology,e.s.dbName,n,e.s.pkFactory,e.s.options))}catch(r){return handleCallback(o,toError(r),null)}})};define.classMethod(\"rename\",{callback:!0,promise:!0}),Collection.prototype.drop=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?r.s.db.dropCollection(r.s.name,e,n):new this.s.promiseLibrary(function(n,o){r.s.db.dropCollection(r.s.name,e,function(e,r){if(e)return o(e);n(r)})})},define.classMethod(\"drop\",{callback:!0,promise:!0}),Collection.prototype.options=function(e){var n=this;return\"function\"==typeof e?options(n,e):new this.s.promiseLibrary(function(e,r){options(n,function(n,o){if(n)return r(n);e(o)})})};var options=function(e,n){e.s.db.listCollections({name:e.s.name}).toArray(function(r,o){return r?handleCallback(n,r):0==o.length?handleCallback(n,MongoError.create({message:f(\"collection %s not found\",e.s.namespace),driver:!0})):void handleCallback(n,r,o[0].options||null)})};define.classMethod(\"options\",{callback:!0,promise:!0}),Collection.prototype.isCapped=function(e){var n=this;return\"function\"==typeof e?isCapped(n,e):new this.s.promiseLibrary(function(e,r){isCapped(n,function(n,o){if(n)return r(n);e(o)})})};var isCapped=function(e,n){e.options(function(e,r){if(e)return handleCallback(n,e);handleCallback(n,null,r&&r.capped)})};define.classMethod(\"isCapped\",{callback:!0,promise:!0}),Collection.prototype.createIndex=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(r=t.pop())&&t.push(r),n=t.length?t.shift()||{}:{},n=\"function\"==typeof r?n:r,n=null==n?{}:n,\"function\"==typeof r?createIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){createIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var createIndex=function(e,n,r,o){e.s.db.createIndex(e.s.name,n,r,o)};define.classMethod(\"createIndex\",{callback:!0,promise:!0}),Collection.prototype.createIndexes=function(e,n){var r=this;return\"function\"==typeof n?createIndexes(r,e,n):new this.s.promiseLibrary(function(n,o){createIndexes(r,e,function(e,r){if(e)return o(e);n(r)})})};var createIndexes=function(e,n,r){for(var o=e.s.topology.capabilities(),t=0;t<n.length;t++)if(null==n[t].name){var i=[];if(n[t].collation&&o&&!o.commandsTakeCollation)return r(new MongoError(f(\"server/primary/mongos does not support collation\")));for(var l in n[t].key)i.push(f(\"%s_%s\",l,n[t].key[l]));n[t].name=i.join(\"_\")}e.s.db.command({createIndexes:e.s.name,indexes:n},{readPreference:ReadPreference.PRIMARY},r)};define.classMethod(\"createIndexes\",{callback:!0,promise:!0}),Collection.prototype.dropIndex=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(r=t.pop())&&t.push(r),n=t.length?t.shift()||{}:{},n.readPreference=ReadPreference.PRIMARY,\"function\"==typeof r?dropIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){dropIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var dropIndex=function(e,n,r,o){var t={dropIndexes:e.s.name,index:n};decorateWithWriteConcern(t,e,r),e.s.db.command(t,r,function(e,n){if(\"function\"==typeof o)return e?handleCallback(o,e,null):void handleCallback(o,null,n)})};define.classMethod(\"dropIndex\",{callback:!0,promise:!0}),Collection.prototype.dropIndexes=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?dropIndexes(r,e,n):new this.s.promiseLibrary(function(e,n){dropIndexes(r,function(r,o){if(r)return n(r);e(o)})})};var dropIndexes=function(e,n,r){e.dropIndex(\"*\",n,function(e){if(e)return handleCallback(r,e,!1);handleCallback(r,null,!0)})};define.classMethod(\"dropIndexes\",{callback:!0,promise:!0}),Collection.prototype.dropAllIndexes=Collection.prototype.dropIndexes,define.classMethod(\"dropAllIndexes\",{callback:!0,promise:!0}),Collection.prototype.reIndex=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={}),e=e||{},\"function\"==typeof n?reIndex(r,e,n):new this.s.promiseLibrary(function(n,o){reIndex(r,e,function(e,r){if(e)return o(e);n(r)})})};var reIndex=function(e,n,r){var o={reIndex:e.s.name};e.s.db.command(o,n,function(e,n){if(null!=r)return e?handleCallback(r,e,null):void handleCallback(r,null,!!n.ok)})};define.classMethod(\"reIndex\",{callback:!0,promise:!0}),Collection.prototype.listIndexes=function(e){if(e=e||{},e=shallowClone(e),e=getReadPreference(this,e,this.s.db,this),e.cursorFactory=CommandCursor,e.promiseLibrary=this.s.promiseLibrary,!this.s.topology.capabilities())throw new MongoError(\"cannot connect to server\");if(this.s.topology.capabilities().hasListIndexesCommand){var n=e.batchSize?{batchSize:e.batchSize}:{},r={listIndexes:this.s.name,cursor:n};return n=this.s.topology.cursor(f(\"%s.$cmd\",this.s.dbName),r,e),e.readPreference&&n.setReadPreference(e.readPreference),n}var o=f(\"%s.system.indexes\",this.s.dbName);return n=this.s.topology.cursor(o,{find:o,query:{ns:this.s.namespace}},e),e.readPreference&&n.setReadPreference(e.readPreference),e.batchSize&&(n=n.batchSize(e.batchSize)),n},define.classMethod(\"listIndexes\",{callback:!1,promise:!1,returns:[CommandCursor]}),Collection.prototype.ensureIndex=function(e,n,r){var o=this;return\"function\"==typeof n&&(r=n,n={}),n=n||{},\"function\"==typeof r?ensureIndex(o,e,n,r):new this.s.promiseLibrary(function(r,t){ensureIndex(o,e,n,function(e,n){if(e)return t(e);r(n)})})};var ensureIndex=function(e,n,r,o){e.s.db.ensureIndex(e.s.name,n,r,o)};define.classMethod(\"ensureIndex\",{callback:!0,promise:!0}),Collection.prototype.indexExists=function(e,n){var r=this;return\"function\"==typeof n?indexExists(r,e,n):new this.s.promiseLibrary(function(n,o){indexExists(r,e,function(e,r){if(e)return o(e);n(r)})})};var indexExists=function(e,n,r){e.indexInformation(function(e,o){if(null!=e)return handleCallback(r,e,null);if(!Array.isArray(n))return handleCallback(r,null,null!=o[n]);for(var t=0;t<n.length;t++)if(null==o[n[t]])return handleCallback(r,null,!1);return handleCallback(r,null,!0)})};define.classMethod(\"indexExists\",{callback:!0,promise:!0}),Collection.prototype.indexInformation=function(e,n){var r=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=o.pop())&&o.push(n),e=o.length?o.shift()||{}:{},\"function\"==typeof n?indexInformation(r,e,n):new this.s.promiseLibrary(function(n,o){indexInformation(r,e,function(e,r){if(e)return o(e);n(r)})})};var indexInformation=function(e,n,r){e.s.db.indexInformation(e.s.name,n,r)};define.classMethod(\"indexInformation\",{callback:!0,promise:!0}),Collection.prototype.count=function(e,n,r){var o=this,t=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(r=t.pop())&&t.push(r);var i=t.length?t.shift()||{}:{},l=t.length?t.shift()||{}:{};return\"function\"==typeof r?count(o,i,l,r):(e=e||{},n=n||{},new this.s.promiseLibrary(function(r,t){count(o,e,n,function(e,n){if(e)return t(e);r(n)})}))};var count=function(e,n,r,o){var t=r.skip,i=r.limit,l=r.hint,a=r.maxTimeMS,s={count:e.s.name,query:n};\"number\"==typeof t&&(s.skip=t),\"number\"==typeof i&&(s.limit=i),\"number\"==typeof a&&(s.maxTimeMS=a),l&&(s.hint=l),r=shallowClone(r),r=getReadPreference(e,r,e.s.db,e),e.s.readConcern&&(s.readConcern=e.s.readConcern),decorateWithCollation(s,e,r),e.s.db.command(s,r,function(e,n){if(e)return handleCallback(o,e);handleCallback(o,null,n.n)})};define.classMethod(\"count\",{callback:!0,promise:!0}),Collection.prototype.distinct=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(o=i.pop())&&i.push(o);var l=i.length?i.shift()||{}:{},a=i.length?i.shift()||{}:{};return\"function\"==typeof o?distinct(t,e,l,a,o):(n=n||{},r=r||{},new this.s.promiseLibrary(function(o,i){distinct(t,e,n,r,function(e,n){if(e)return i(e);o(n)})}))};var distinct=function(e,n,r,o,t){var i=o.maxTimeMS,l={distinct:e.s.name,key:n,query:r};o=shallowClone(o),o=getReadPreference(e,o,e.s.db,e),\"number\"==typeof i&&(l.maxTimeMS=i),e.s.readConcern&&(l.readConcern=e.s.readConcern),decorateWithCollation(l,e,o),e.s.db.command(l,o,function(e,n){if(e)return handleCallback(t,e);handleCallback(t,null,n.values)})};define.classMethod(\"distinct\",{callback:!0,promise:!0}),Collection.prototype.indexes=function(e){var n=this;return\"function\"==typeof e?indexes(n,e):new this.s.promiseLibrary(function(e,r){indexes(n,function(n,o){if(n)return r(n);e(o)})})};var indexes=function(e,n){e.s.db.indexInformation(e.s.name,{full:!0},n)};define.classMethod(\"indexes\",{callback:!0,promise:!0}),Collection.prototype.stats=function(e,n){var r=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=o.pop())&&o.push(n),e=o.length?o.shift()||{}:{},\"function\"==typeof n?stats(r,e,n):new this.s.promiseLibrary(function(n,o){stats(r,e,function(e,r){if(e)return o(e);n(r)})})};var stats=function(e,n,r){var o={collStats:e.s.name};null!=n.scale&&(o.scale=n.scale),n=shallowClone(n),n=getReadPreference(e,n,e.s.db,e),e.s.db.command(o,n,r)};define.classMethod(\"stats\",{callback:!0,promise:!0}),Collection.prototype.findOneAndDelete=function(e,n,r){var o=this;if(\"function\"==typeof n&&(r=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");return\"function\"==typeof r?findOneAndDelete(o,e,n,r):new this.s.promiseLibrary(function(r,t){findOneAndDelete(o,e,n=n||{},function(e,n){if(e)return t(e);r(n)})})};var findOneAndDelete=function(e,n,r,o){var t=shallowClone(r);t.fields=r.projection,t.remove=!0,e.findAndModify(n,r.sort,null,t,o)};define.classMethod(\"findOneAndDelete\",{callback:!0,promise:!0}),Collection.prototype.findOneAndReplace=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),r=r||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");if(null==n||\"object\"!=typeof n)throw toError(\"replacement parameter must be an object\");return\"function\"==typeof o?findOneAndReplace(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findOneAndReplace(t,e,n,r=r||{},function(e,n){if(e)return i(e);o(n)})})};var findOneAndReplace=function(e,n,r,o,t){var i=shallowClone(o);i.fields=o.projection,i.update=!0,i.new=\"boolean\"==typeof o.returnOriginal&&!o.returnOriginal,i.upsert=\"boolean\"==typeof o.upsert&&o.upsert,e.findAndModify(n,o.sort,r,i,t)};define.classMethod(\"findOneAndReplace\",{callback:!0,promise:!0}),Collection.prototype.findOneAndUpdate=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),r=r||{},null==e||\"object\"!=typeof e)throw toError(\"filter parameter must be an object\");if(null==n||\"object\"!=typeof n)throw toError(\"update parameter must be an object\");return\"function\"==typeof o?findOneAndUpdate(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findOneAndUpdate(t,e,n,r=r||{},function(e,n){if(e)return i(e);o(n)})})};var findOneAndUpdate=function(e,n,r,o,t){var i=shallowClone(o);i.fields=o.projection,i.update=!0,i.new=\"boolean\"==typeof o.returnOriginal&&!o.returnOriginal,i.upsert=\"boolean\"==typeof o.upsert&&o.upsert,e.findAndModify(n,o.sort,r,i,t)};define.classMethod(\"findOneAndUpdate\",{callback:!0,promise:!0}),Collection.prototype.findAndModify=function(e,n,r,o,t){var i=this,l=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=l.pop())&&l.push(t),n=l.length?l.shift()||[]:[],r=l.length?l.shift():null,o=l.length?l.shift()||{}:{},o=shallowClone(o),o.readPreference=ReadPreference.PRIMARY,\"function\"==typeof t?findAndModify(i,e,n,r,o,t):new this.s.promiseLibrary(function(t,l){findAndModify(i,e,n,r,o=o||{},function(e,n){if(e)return l(e);t(n)})})};var findAndModify=function(e,n,r,o,t,i){var l={findandmodify:e.s.name,query:n};(r=formattedOrderClause(r))&&(l.sort=r),l.new=!!t.new,l.remove=!!t.remove,l.upsert=!!t.upsert,t.fields&&(l.fields=t.fields),o&&!t.remove&&(l.update=o),t.maxTimeMS&&(l.maxTimeMS=t.maxTimeMS),null!=t.serializeFunctions?t.serializeFunctions=t.serializeFunctions:t.serializeFunctions=e.s.serializeFunctions,t.checkKeys=!1;var a=writeConcern(t,e.s.db,e,t);a.writeConcern&&(l.writeConcern=a.writeConcern),\"boolean\"==typeof a.bypassDocumentValidation&&(l.bypassDocumentValidation=a.bypassDocumentValidation),decorateWithCollation(l,e,t),e.s.db.command(l,t,function(e,n){return e?handleCallback(i,e,null):handleCallback(i,null,n)})};define.classMethod(\"findAndModify\",{callback:!0,promise:!0}),Collection.prototype.findAndRemove=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(o=i.pop())&&i.push(o),n=i.length?i.shift()||[]:[],r=i.length?i.shift()||{}:{},\"function\"==typeof o?findAndRemove(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){findAndRemove(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var findAndRemove=function(e,n,r,o,t){o.remove=!0,e.findAndModify(n,r,null,o,t)};define.classMethod(\"findAndRemove\",{callback:!0,promise:!0});function decorateWithWriteConcern(e,n,r){var o=n.s.topology.capabilities();if(o&&o.commandsTakeWriteConcern){var t=writeConcern(shallowClone(r),n.s.db,n,r);t.writeConcern&&(e.writeConcern=t.writeConcern)}}function decorateWithCollation(e,n,r){var o=n.s.topology.capabilities();o&&o.commandsTakeCollation&&r.collation&&\"object\"==typeof r.collation&&(e.collation=r.collation)}Collection.prototype.aggregate=function(e,n,r){if(Array.isArray(e))\"function\"==typeof n&&(r=n,n={}),null==n&&null==r&&(n={});else{var o=Array.prototype.slice.call(arguments,0);r=o.pop();var t=o[o.length-1];n=t&&(t.readPreference||t.explain||t.cursor||t.out||t.maxTimeMS||t.allowDiskUse)?o.pop():{},e=o}var i=!1,l={aggregate:this.s.name,pipeline:e};if(\"string\"==typeof n.out?(e.push({$out:n.out}),i=!0):e.length>0&&e[e.length-1].$out&&(i=!0),e.length>0&&e[e.length-1].$out&&decorateWithWriteConcern(l,this,n),decorateWithCollation(l,this,n),\"boolean\"==typeof n.bypassDocumentValidation&&(l.bypassDocumentValidation=n.bypassDocumentValidation),!i&&this.s.readConcern&&(l.readConcern=this.s.readConcern),n.allowDiskUse&&(l.allowDiskUse=n.allowDiskUse),\"number\"==typeof n.maxTimeMS&&(l.maxTimeMS=n.maxTimeMS),n=shallowClone(n),(n=getReadPreference(this,n,this.s.db,this)).explain&&(l.explain=n.explain),null!=n.cursor&&\"object\"!=typeof n.cursor)throw toError(\"cursor options must be an object\");if(this.s.topology.capabilities().hasAggregationCursor&&(n.cursor=n.cursor||{batchSize:1e3},l.cursor=n.cursor),n.promiseLibrary=this.s.promiseLibrary,n.cursorFactory=AggregationCursor,\"function\"!=typeof r){if(!this.s.topology.capabilities())throw new MongoError(\"cannot connect to server\");return\"boolean\"==typeof n.allowDiskUse&&(l.allowDiskUse=n.allowDiskUse),\"number\"==typeof n.maxTimeMS&&(l.maxTimeMS=n.maxTimeMS),this.s.topology.cursor(this.s.namespace,l,n)}if(n.cursor){return this.s.topology.cursor(this.s.namespace,l,n).toArray(function(e,n){if(e)return handleCallback(r,e);handleCallback(r,null,n)})}this.s.db.command(l,n,function(e,n){e?handleCallback(r,e):n.err||n.errmsg?handleCallback(r,toError(n)):\"object\"==typeof n&&n.serverPipeline?handleCallback(r,null,n.serverPipeline):\"object\"==typeof n&&n.stages?handleCallback(r,null,n.stages):handleCallback(r,null,n.result)})},define.classMethod(\"aggregate\",{callback:!0,promise:!1}),Collection.prototype.parallelCollectionScan=function(e,n){var r=this;return\"function\"==typeof e&&(n=e,e={numCursors:1}),e.numCursors=e.numCursors||1,e.batchSize=e.batchSize||1e3,e=shallowClone(e),e=getReadPreference(this,e,this.s.db,this),e.promiseLibrary=this.s.promiseLibrary,\"function\"==typeof n?parallelCollectionScan(r,e,n):new this.s.promiseLibrary(function(n,o){parallelCollectionScan(r,e,function(e,r){if(e)return o(e);n(r)})})};var parallelCollectionScan=function(e,n,r){var o={parallelCollectionScan:e.s.name,numCursors:n.numCursors};e.s.readConcern&&(o.readConcern=e.s.readConcern);var t=n.raw;delete n.raw,e.s.db.command(o,n,function(o,i){if(o)return handleCallback(r,o,null);if(null==i)return handleCallback(r,new Error(\"no result returned for parallelCollectionScan\"),null);var l=[];t&&(n.raw=t);for(var a=0;a<i.cursors.length;a++){var s=i.cursors[a].cursor.id,c=\"number\"==typeof s?Long.fromNumber(s):s;l.push(e.s.topology.cursor(e.s.namespace,c,n))}handleCallback(r,null,l)})};define.classMethod(\"parallelCollectionScan\",{callback:!0,promise:!0}),Collection.prototype.geoNear=function(e,n,r,o){var t=this,i=\"object\"==typeof e&&e,l=Array.prototype.slice.call(arguments,i?1:2);return\"function\"!=typeof(o=l.pop())&&l.push(o),r=l.length?l.shift()||{}:{},\"function\"==typeof o?geoNear(t,e,n,i,r,o):new this.s.promiseLibrary(function(o,l){geoNear(t,e,n,i,r,function(e,n){if(e)return l(e);o(n)})})};var geoNear=function(e,n,r,o,t,i){var l={geoNear:e.s.name,near:o||[n,r]};t=shallowClone(t),t=getReadPreference(e,t,e.s.db,e);l=decorateCommand(l,t,{readPreference:!0,geoNear:!0,near:!0}),e.s.readConcern&&(l.readConcern=e.s.readConcern),decorateWithCollation(l,e,t),e.s.db.command(l,t,function(e,n){return e?handleCallback(i,e):n.err||n.errmsg?handleCallback(i,toError(n)):void handleCallback(i,null,n)})};define.classMethod(\"geoNear\",{callback:!0,promise:!0}),Collection.prototype.geoHaystackSearch=function(e,n,r,o){var t=this,i=Array.prototype.slice.call(arguments,2);return\"function\"!=typeof(o=i.pop())&&i.push(o),r=i.length?i.shift()||{}:{},\"function\"==typeof o?geoHaystackSearch(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){geoHaystackSearch(t,e,n,r,function(e,n){if(e)return i(e);o(n)})})};var geoHaystackSearch=function(e,n,r,o,t){var i={geoSearch:e.s.name,near:[n,r]};i=decorateCommand(i,o,{readPreference:!0}),o=shallowClone(o),o=getReadPreference(e,o,e.s.db,e),e.s.readConcern&&(i.readConcern=e.s.readConcern),e.s.db.command(i,o,function(e,n){if(e)return handleCallback(t,e);(n.err||n.errmsg)&&handleCallback(t,toError(n)),handleCallback(t,null,n)})};define.classMethod(\"geoHaystackSearch\",{callback:!0,promise:!0});var groupFunction='function () {\\nvar c = db[ns].find(condition);\\nvar map = new Map();\\nvar reduce_function = reduce;\\n\\nwhile (c.hasNext()) {\\nvar obj = c.next();\\nvar key = {};\\n\\nfor (var i = 0, len = keys.length; i < len; ++i) {\\nvar k = keys[i];\\nkey[k] = obj[k];\\n}\\n\\nvar aggObj = map.get(key);\\n\\nif (aggObj == null) {\\nvar newObj = Object.extend({}, key);\\naggObj = Object.extend(newObj, initial);\\nmap.put(key, aggObj);\\n}\\n\\nreduce_function(obj, aggObj);\\n}\\n\\nreturn { \"result\": map.values() };\\n}';Collection.prototype.group=function(e,n,r,o,t,i,l,a){var s=this,c=Array.prototype.slice.call(arguments,3);return\"function\"!=typeof(a=c.pop())&&c.push(a),o=c.length?c.shift():null,t=c.length?c.shift():null,i=c.length?c.shift():null,l=c.length?c.shift()||{}:{},\"function\"!=typeof t&&(i=t,t=null),!Array.isArray(e)&&e instanceof Object&&\"function\"!=typeof e&&\"Code\"!=e._bsontype&&(e=Object.keys(e)),\"function\"==typeof o&&(o=o.toString()),\"function\"==typeof t&&(t=t.toString()),i=null==i||i,\"function\"==typeof a?group(s,e,n,r,o,t,i,l,a):new this.s.promiseLibrary(function(a,c){group(s,e,n,r,o,t,i,l,function(e,n){if(e)return c(e);a(n)})})};var group=function(e,n,r,o,t,i,l,a,s){if(l){var c=t&&\"Code\"==t._bsontype?t:new Code(t),u={group:{ns:e.s.name,$reduce:c,cond:r,initial:o,out:\"inline\"}};if(null!=i&&(u.group.finalize=i),\"function\"==typeof n||n&&\"Code\"==n._bsontype)u.group.$keyf=n&&\"Code\"==n._bsontype?n:new Code(n);else{var d={};n.forEach(function(e){d[e]=1}),u.group.key=d}a=shallowClone(a),a=getReadPreference(e,a,e.s.db,e),e.s.readConcern&&(u.readConcern=e.s.readConcern),decorateWithCollation(u,e,a),e.s.db.command(u,a,function(e,n){if(e)return handleCallback(s,e,null);handleCallback(s,null,n.retval)})}else{var f=null!=t&&\"Code\"==t._bsontype?t.scope:{};f.ns=e.s.name,f.keys=n,f.condition=r,f.initial=o;var p=groupFunction.replace(/ reduce;/,t.toString()+\";\");e.s.db.eval(new Code(p,f),function(e,n){if(e)return handleCallback(s,e,null);handleCallback(s,null,n.result||n)})}};define.classMethod(\"group\",{callback:!0,promise:!0});function processScope(e){if(!isObject(e)||\"ObjectID\"==e._bsontype)return e;for(var n,r=Object.keys(e),o=r.length,t={};o--;)\"function\"==typeof e[n=r[o]]?t[n]=new Code(String(e[n])):t[n]=processScope(e[n]);return t}Collection.prototype.mapReduce=function(e,n,r,o){var t=this;if(\"function\"==typeof r&&(o=r,r={}),null==r.out)throw new Error(\"the out option parameter must be defined, see mongodb docs for possible values\");return\"function\"==typeof e&&(e=e.toString()),\"function\"==typeof n&&(n=n.toString()),\"function\"==typeof r.finalize&&(r.finalize=r.finalize.toString()),\"function\"==typeof o?mapReduce(t,e,n,r,o):new this.s.promiseLibrary(function(o,i){mapReduce(t,e,n,r,function(e,n,r){return e?i(e):r?void o({results:n,stats:r}):o(n)})})};var mapReduce=function(e,n,r,o,t){var i={mapreduce:e.s.name,map:n,reduce:r},l=[\"readPreference\"];for(var a in o)\"scope\"==a?i[a]=processScope(o[a]):-1==l.indexOf(a)&&(i[a]=o[a]);o=shallowClone(o),0!=(o=getReadPreference(e,o,e.s.db,e)).readPreference&&\"primary\"!=o.readPreference&&o.out&&1!=o.out.inline&&\"inline\"!=o.out?(o.readPreference=\"primary\",decorateWithWriteConcern(i,e,o)):e.s.readConcern&&(i.readConcern=e.s.readConcern),\"boolean\"==typeof o.bypassDocumentValidation&&(i.bypassDocumentValidation=o.bypassDocumentValidation),decorateWithCollation(i,e,o),e.s.db.command(i,{readPreference:o.readPreference},function(n,r){if(n)return handleCallback(t,n);if(1!=r.ok||r.err||r.errmsg)return handleCallback(t,toError(r));var i={};if(r.timeMillis&&(i.processtime=r.timeMillis),r.counts&&(i.counts=r.counts),r.timing&&(i.timing=r.timing),r.results)return null!=o.verbose&&o.verbose?handleCallback(t,null,r.results,i):handleCallback(t,null,r.results);var l=null;if(null!=r.result&&\"object\"==typeof r.result){var a=r.result;l=e.s.db.db(a.db).collection(a.collection)}else l=e.s.db.collection(r.result);if(null==o.verbose||!o.verbose)return handleCallback(t,n,l);handleCallback(t,n,l,i)})};define.classMethod(\"mapReduce\",{callback:!0,promise:!0}),Collection.prototype.initializeUnorderedBulkOp=function(e){return e=e||{},e.promiseLibrary=this.s.promiseLibrary,unordered(this.s.topology,this,e)},define.classMethod(\"initializeUnorderedBulkOp\",{callback:!1,promise:!1,returns:[ordered.UnorderedBulkOperation]}),Collection.prototype.initializeOrderedBulkOp=function(e){return e=e||{},e.promiseLibrary=this.s.promiseLibrary,ordered(this.s.topology,this,e)},define.classMethod(\"initializeOrderedBulkOp\",{callback:!1,promise:!1,returns:[ordered.OrderedBulkOperation]});var writeConcern=function(e,n,r,o){if(null!=o.w||null!=o.j||null!=o.fsync){var t={};null!=o.w&&(t.w=o.w),null!=o.wtimeout&&(t.wtimeout=o.wtimeout),null!=o.j&&(t.j=o.j),null!=o.fsync&&(t.fsync=o.fsync),e.writeConcern=t}else null!=r.writeConcern.w||null!=r.writeConcern.j||null!=r.writeConcern.fsync?e.writeConcern=r.writeConcern:null==n.writeConcern.w&&null==n.writeConcern.j&&null==n.writeConcern.fsync||(e.writeConcern=n.writeConcern);return e},getReadPreference=function(e,n,r){var o=null;if(n.readPreference?o=n.readPreference:e.s.readPreference?o=e.s.readPreference:r.s.readPreference&&(o=r.s.readPreference),o instanceof ReadPreference)n.readPreference=new CoreReadPreference(o.mode,o.tags,{maxStalenessSeconds:o.maxStalenessSeconds});else if(\"string\"==typeof o)n.readPreference=new CoreReadPreference(o);else if(o&&!(o instanceof ReadPreference)&&\"object\"==typeof o){var t=o.mode||o.preference;t&&\"string\"==typeof t&&(n.readPreference=new CoreReadPreference(t,o.tags,{maxStalenessSeconds:o.maxStalenessSeconds}))}return n},testForFields={limit:1,sort:1,fields:1,skip:1,hint:1,explain:1,snapshot:1,timeout:1,tailable:1,tailableRetryInterval:1,numberOfRetries:1,awaitdata:1,awaitData:1,exhaust:1,batchSize:1,returnKey:1,maxScan:1,min:1,max:1,showDiskLoc:1,comment:1,raw:1,readPreference:1,partial:1,read:1,dbName:1,oplogReplay:1,connection:1,maxTimeMS:1,transforms:1,collation:1,noCursorTimeout:1};module.exports=Collection;","node_modules/mongodb/lib/server.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,CServer=require(\"mongodb-core\").Server,Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),f=require(\"util\").format,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,Store=require(\"./topology_base\").Store,Define=require(\"./metadata\"),MongoError=require(\"mongodb-core\").MongoError,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,mergeOptions=require(\"./utils\").mergeOptions,getReadPreference=require(\"./utils\").getReadPreference,os=require(\"os\"),driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),legalOptionNames=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"reconnectInterval\",\"monitoring\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],Server=function(e,r,t){if(t=t||{},!(this instanceof Server))return new Server(e,r,t);EventEmitter.call(this);var o={force:!1,bufferMaxEntries:\"number\"==typeof(t=filterOptions(t,legalOptionNames)).bufferMaxEntries?t.bufferMaxEntries:MAX_JS_INT},s=t.store||new Store(this,o);if(-1!=e.indexOf(\"/\"))null!=r&&\"object\"==typeof r&&(t=r,r=null);else if(null==r)throw MongoError.create({message:\"port must be specified\",driver:!0});var n=\"boolean\"!=typeof t.auto_reconnect||t.auto_reconnect;n=\"boolean\"==typeof t.autoReconnect?t.autoReconnect:n;var i=mergeOptions({},{host:e,port:r,disconnectHandler:s,cursorFactory:Cursor,reconnect:n,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5});i=translateOptions(i,t);var c=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;\"number\"==typeof(i=translateOptions(i,c)).keepAlive&&(i.keepAliveInitialDelay=i.keepAlive,i.keepAlive=i.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},i.clientInfo=this.clientInfo,t.appname&&(i.clientInfo.application={name:t.appname});var a=new CServer(i);this.s={server:a,sCapabilities:null,clonedOptions:i,reconnect:i.reconnect,emitError:i.emitError,poolSize:i.size,storeOptions:o,store:s,host:e,port:r,options:t}};inherits(Server,EventEmitter);var define=Server.define=new Define(\"Server\",Server,!1);Object.defineProperty(Server.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.server.s.bson}}),Object.defineProperty(Server.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.server.lastIsMaster()}}),Object.defineProperty(Server.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.server.parserType}}),Object.defineProperty(Server.prototype,\"poolSize\",{enumerable:!0,get:function(){return this.s.server.connections().length}}),Object.defineProperty(Server.prototype,\"autoReconnect\",{enumerable:!0,get:function(){return this.s.reconnect}}),Object.defineProperty(Server.prototype,\"host\",{enumerable:!0,get:function(){return this.s.host}}),Object.defineProperty(Server.prototype,\"port\",{enumerable:!0,get:function(){return this.s.port}}),Server.prototype.connect=function(e,r,t){var o=this;\"function\"==typeof r&&(t=r,r={}),null==r&&(r={}),\"function\"!=typeof t&&(t=null),o.s.options=r,o.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var s=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){o.s.server.removeListener(e,a[e])}),o.s.server.removeListener(\"connect\",s);try{t(e)}catch(e){process.nextTick(function(){throw e})}}},n=function(e){return function(r){\"error\"!=e&&o.emit(e,r)}},i=function(){o.s.store.flush()},c=function(e){return function(r,t){o.emit(e,r,t)}},a={timeout:s(\"timeout\"),error:s(\"error\"),close:s(\"close\")};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){o.s.server.removeAllListeners(e)}),o.s.server.once(\"timeout\",a.timeout),o.s.server.once(\"error\",a.error),o.s.server.once(\"close\",a.close),o.s.server.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"destroy\"].forEach(function(e){o.s.server.removeAllListeners(e)}),o.s.server.on(\"timeout\",n(\"timeout\")),o.s.server.once(\"error\",n(\"error\")),o.s.server.on(\"close\",n(\"close\")),o.s.server.on(\"destroy\",i),o.emit(\"open\",null,o);try{t(null,o)}catch(e){console.log(e.stack),process.nextTick(function(){throw e})}}),o.s.server.on(\"reconnect\",function(){o.emit(\"reconnect\",o),o.s.store.execute()}),o.s.server.on(\"reconnectFailed\",function(e){o.emit(\"reconnectFailed\",e),o.s.store.flush(e)}),o.s.server.on(\"serverDescriptionChanged\",c(\"serverDescriptionChanged\")),o.s.server.on(\"serverHeartbeatStarted\",c(\"serverHeartbeatStarted\")),o.s.server.on(\"serverHeartbeatSucceeded\",c(\"serverHeartbeatSucceeded\")),o.s.server.on(\"serverHeartbeatFailed\",c(\"serverHeartbeatFailed\")),o.s.server.on(\"serverOpening\",c(\"serverOpening\")),o.s.server.on(\"serverClosed\",c(\"serverClosed\")),o.s.server.on(\"topologyOpening\",c(\"topologyOpening\")),o.s.server.on(\"topologyClosed\",c(\"topologyClosed\")),o.s.server.on(\"topologyDescriptionChanged\",c(\"topologyDescriptionChanged\")),o.s.server.on(\"attemptReconnect\",c(\"attemptReconnect\")),o.s.server.on(\"monitoring\",c(\"monitoring\")),o.s.server.connect(r)},Server.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.server.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.server.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),Server.prototype.command=function(e,r,t,o){this.s.server.command(e,r,getReadPreference(t),o)},define.classMethod(\"command\",{callback:!0,promise:!1}),Server.prototype.insert=function(e,r,t,o){this.s.server.insert(e,r,t,o)},define.classMethod(\"insert\",{callback:!0,promise:!1}),Server.prototype.update=function(e,r,t,o){this.s.server.update(e,r,t,o)},define.classMethod(\"update\",{callback:!0,promise:!1}),Server.prototype.remove=function(e,r,t,o){this.s.server.remove(e,r,t,o)},define.classMethod(\"remove\",{callback:!0,promise:!1}),Server.prototype.isConnected=function(){return this.s.server.isConnected()},Server.prototype.isDestroyed=function(){return this.s.server.isDestroyed()},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),Server.prototype.cursor=function(e,r,t){return t.disconnectHandler=this.s.store,this.s.server.cursor(e,r,t)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),Server.prototype.lastIsMaster=function(){return this.s.server.lastIsMaster()},Server.prototype.unref=function(){this.s.server.unref()},Server.prototype.close=function(e){this.s.server.destroy(),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},define.classMethod(\"close\",{callback:!1,promise:!1}),Server.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.auth.apply(this.s.server,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),Server.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.server.logout.apply(this.s.server,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),Server.prototype.connections=function(){return this.s.server.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=Server;","node_modules/mongodb/lib/replset.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,f=require(\"util\").format,Server=require(\"./server\"),Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,Store=require(\"./topology_base\").Store,Define=require(\"./metadata\"),CReplSet=require(\"mongodb-core\").ReplSet,CoreReadPreference=require(\"mongodb-core\").ReadPreference,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,getReadPreference=require(\"./utils\").getReadPreference,mergeOptions=require(\"./utils\").mergeOptions,os=require(\"os\"),legalOptionNames=[\"ha\",\"haInterval\",\"replicaSet\",\"rs_name\",\"secondaryAcceptableLatencyMS\",\"connectWithNoPrimary\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslCRL\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"strategy\",\"debug\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"maxStalenessSeconds\"],driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),ReplSet=function(e,r){if(!(this instanceof ReplSet))return new ReplSet(e,r);r=r||{};var t=this;EventEmitter.call(this),r=filterOptions(r,legalOptionNames);for(var s=0;s<e.length;s++)if(!(e[s]instanceof Server))throw MongoError.create({message:\"all seed list instances must be of the Server type\",driver:!0});var o={force:!1,bufferMaxEntries:\"number\"==typeof r.bufferMaxEntries?r.bufferMaxEntries:MAX_JS_INT},n=r.store||new Store(t,o),i=e.map(function(e){return{host:e.host,port:e.port}}),l=mergeOptions({},{disconnectHandler:n,cursorFactory:Cursor,reconnect:!1,emitError:\"boolean\"!=typeof r.emitError||r.emitError,size:\"number\"==typeof r.poolSize?r.poolSize:5});l=translateOptions(l,r);var a=r.socketOptions&&Object.keys(r.socketOptions).length>0?r.socketOptions:r;\"number\"==typeof(l=translateOptions(l,a)).keepAlive&&(l.keepAliveInitialDelay=l.keepAlive,l.keepAlive=l.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},l.clientInfo=this.clientInfo,r.appname&&(l.clientInfo.application={name:r.appname});var p=new CReplSet(i,l);p.on(\"reconnect\",function(){t.emit(\"reconnect\"),n.execute()}),this.s={replset:p,sCapabilities:null,tag:r.tag,storeOptions:o,clonedOptions:l,store:n,options:r},l.debug&&Object.defineProperty(this,\"replset\",{enumerable:!0,get:function(){return p}})};inherits(ReplSet,EventEmitter),Object.defineProperty(ReplSet.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.replset.lastIsMaster()}}),Object.defineProperty(ReplSet.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.replset.parserType}}),Object.defineProperty(ReplSet.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.replset.s.bson}}),Object.defineProperty(ReplSet.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.replset.s.haInterval}});var define=ReplSet.define=new Define(\"ReplSet\",ReplSet,!1),translateReadPreference=function(e){return\"string\"==typeof e.readPreference?e.readPreference=new CoreReadPreference(e.readPreference):e.readPreference instanceof ReadPreference&&(e.readPreference=new CoreReadPreference(e.readPreference.mode,e.readPreference.tags,{maxStalenessSeconds:e.readPreference.maxStalenessSeconds})),e};ReplSet.prototype.connect=function(e,r,t){var s=this;\"function\"==typeof r&&(t=r,r={}),null==r&&(r={}),\"function\"!=typeof t&&(t=null),s.s.options=r,s.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var o=function(e){return function(r){\"error\"!=e&&s.emit(e,r)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"joined\",\"left\",\"ping\",\"ha\"].forEach(function(e){s.s.replset.removeAllListeners(e)});var n=function(e){return function(r,t){s.emit(e,r,t)}};s.s.replset.on(\"joined\",function(e){return function(r,t){s.emit(e,r,t.lastIsMaster(),t)}}(\"joined\")),s.s.replset.on(\"left\",n(\"left\")),s.s.replset.on(\"ping\",n(\"ping\")),s.s.replset.on(\"ha\",function(e,r){s.emit(\"ha\",e,r),\"start\"==e?s.emit(\"ha_connect\",e,r):\"end\"==e&&s.emit(\"ha_ismaster\",e,r)}),s.s.replset.on(\"serverDescriptionChanged\",n(\"serverDescriptionChanged\")),s.s.replset.on(\"serverHeartbeatStarted\",n(\"serverHeartbeatStarted\")),s.s.replset.on(\"serverHeartbeatSucceeded\",n(\"serverHeartbeatSucceeded\")),s.s.replset.on(\"serverHeartbeatFailed\",n(\"serverHeartbeatFailed\")),s.s.replset.on(\"serverOpening\",n(\"serverOpening\")),s.s.replset.on(\"serverClosed\",n(\"serverClosed\")),s.s.replset.on(\"topologyOpening\",n(\"topologyOpening\")),s.s.replset.on(\"topologyClosed\",n(\"topologyClosed\")),s.s.replset.on(\"topologyDescriptionChanged\",n(\"topologyDescriptionChanged\")),s.s.replset.on(\"fullsetup\",function(){s.emit(\"fullsetup\",s,s)}),s.s.replset.on(\"all\",function(){s.emit(\"all\",null,s)});var i=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){s.s.replset.removeListener(e,i)}),s.s.replset.removeListener(\"connect\",i),s.s.replset.destroy();try{t(e)}catch(e){s.s.replset.isConnected()||process.nextTick(function(){throw e})}}};s.s.replset.once(\"timeout\",i(\"timeout\")),s.s.replset.once(\"error\",i(\"error\")),s.s.replset.once(\"close\",i(\"close\")),s.s.replset.once(\"connect\",function(){s.s.replset.once(\"timeout\",o(\"timeout\")),s.s.replset.once(\"error\",o(\"error\")),s.s.replset.once(\"close\",o(\"close\")),s.emit(\"open\",null,s);try{t(null,s)}catch(e){process.nextTick(function(){throw e})}}),s.s.replset.connect(r)},ReplSet.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.replset.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.replset.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),ReplSet.prototype.command=function(e,r,t,s){this.s.replset.command(e,r,getReadPreference(t),s)},define.classMethod(\"command\",{callback:!0,promise:!1}),ReplSet.prototype.insert=function(e,r,t,s){this.s.replset.insert(e,r,t,s)},define.classMethod(\"insert\",{callback:!0,promise:!1}),ReplSet.prototype.update=function(e,r,t,s){this.s.replset.update(e,r,t,s)},define.classMethod(\"update\",{callback:!0,promise:!1}),ReplSet.prototype.remove=function(e,r,t,s){this.s.replset.remove(e,r,t,s)},define.classMethod(\"remove\",{callback:!0,promise:!1}),ReplSet.prototype.isDestroyed=function(){return this.s.replset.isDestroyed()},ReplSet.prototype.isConnected=function(e){return(e=e||{}).readPreference&&(e.readPreference=translateReadPreference(e.readPreference)),this.s.replset.isConnected(e)},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),ReplSet.prototype.cursor=function(e,r,t){return t=translateReadPreference(t),t.disconnectHandler=this.s.store,this.s.replset.cursor(e,r,t)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),ReplSet.prototype.lastIsMaster=function(){return this.s.replset.lastIsMaster()},ReplSet.prototype.unref=function(){return this.s.replset.unref()},ReplSet.prototype.close=function(e){var r=this;this.s.replset.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush());[\"timeout\",\"error\",\"close\",\"joined\",\"left\"].forEach(function(e){r.removeAllListeners(e)})},define.classMethod(\"close\",{callback:!1,promise:!1}),ReplSet.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.auth.apply(this.s.replset,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),ReplSet.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.replset.logout.apply(this.s.replset,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),ReplSet.prototype.connections=function(){return this.s.replset.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=ReplSet;","node_modules/mongodb/lib/mongos.js":"\"use strict\";var EventEmitter=require(\"events\").EventEmitter,inherits=require(\"util\").inherits,f=require(\"util\").format,ServerCapabilities=require(\"./topology_base\").ServerCapabilities,MongoError=require(\"mongodb-core\").MongoError,CMongos=require(\"mongodb-core\").Mongos,Cursor=require(\"./cursor\"),AggregationCursor=require(\"./aggregation_cursor\"),CommandCursor=require(\"./command_cursor\"),Define=require(\"./metadata\"),Server=require(\"./server\"),Store=require(\"./topology_base\").Store,MAX_JS_INT=require(\"./utils\").MAX_JS_INT,translateOptions=require(\"./utils\").translateOptions,filterOptions=require(\"./utils\").filterOptions,mergeOptions=require(\"./utils\").mergeOptions,getReadPreference=require(\"./utils\").getReadPreference,os=require(\"os\"),driverVersion=require(\"../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release(),legalOptionNames=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\"],Mongos=function(e,o){if(!(this instanceof Mongos))return new Mongos(e,o);o=filterOptions(o=o||{},legalOptionNames);for(var s=0;s<e.length;s++)if(!(e[s]instanceof Server))throw MongoError.create({message:\"all seed list instances must be of the Server type\",driver:!0});var t={force:!1,bufferMaxEntries:\"number\"==typeof o.bufferMaxEntries?o.bufferMaxEntries:MAX_JS_INT},r=o.store||new Store(this,t);EventEmitter.call(this);var n=e.map(function(e){return{host:e.host,port:e.port}}),i=\"boolean\"!=typeof o.auto_reconnect||o.auto_reconnect;i=\"boolean\"==typeof o.autoReconnect?o.autoReconnect:i;var a=mergeOptions({},{disconnectHandler:r,cursorFactory:Cursor,reconnect:i,emitError:\"boolean\"!=typeof o.emitError||o.emitError,size:\"number\"==typeof o.poolSize?o.poolSize:5});a=translateOptions(a,o);var c=o.socketOptions&&Object.keys(o.socketOptions).length>0?o.socketOptions:o;\"number\"==typeof(a=translateOptions(a,c)).keepAlive&&(a.keepAliveInitialDelay=a.keepAlive,a.keepAlive=a.keepAlive>0),this.clientInfo={driver:{name:\"nodejs\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release},platform:nodejsversion},a.clientInfo=this.clientInfo,o.appname&&(a.clientInfo.application={name:o.appname});var l=new CMongos(n,a);this.s={mongos:l,sCapabilities:null,debug:a.debug,storeOptions:t,clonedOptions:a,store:r,options:o}},define=Mongos.define=new Define(\"Mongos\",Mongos,!1);inherits(Mongos,EventEmitter),Object.defineProperty(Mongos.prototype,\"isMasterDoc\",{enumerable:!0,get:function(){return this.s.mongos.lastIsMaster()}}),Object.defineProperty(Mongos.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.mongos.parserType}}),Object.defineProperty(Mongos.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.mongos.s.bson}}),Object.defineProperty(Mongos.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.mongos.s.haInterval}}),Mongos.prototype.connect=function(e,o,s){var t=this;\"function\"==typeof o&&(s=o,o={}),null==o&&(o={}),\"function\"!=typeof s&&(s=null),t.s.options=o,t.s.storeOptions.bufferMaxEntries=e.bufferMaxEntries;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){t.removeListener(e,r)}),t.s.mongos.removeListener(\"connect\",r);try{s(e)}catch(e){process.nextTick(function(){throw e})}}},n=function(e){return function(o){\"error\"!=e&&t.emit(e,o)}},i=function(e){return function(o,s){t.emit(e,o,s)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\"].forEach(function(e){t.s.mongos.removeAllListeners(e)}),t.s.mongos.on(\"serverDescriptionChanged\",i(\"serverDescriptionChanged\")),t.s.mongos.on(\"serverHeartbeatStarted\",i(\"serverHeartbeatStarted\")),t.s.mongos.on(\"serverHeartbeatSucceeded\",i(\"serverHeartbeatSucceeded\")),t.s.mongos.on(\"serverHeartbeatFailed\",i(\"serverHeartbeatFailed\")),t.s.mongos.on(\"serverOpening\",i(\"serverOpening\")),t.s.mongos.on(\"serverClosed\",i(\"serverClosed\")),t.s.mongos.on(\"topologyOpening\",i(\"topologyOpening\")),t.s.mongos.on(\"topologyClosed\",i(\"topologyClosed\")),t.s.mongos.on(\"topologyDescriptionChanged\",i(\"topologyDescriptionChanged\")),t.s.mongos.once(\"timeout\",r(\"timeout\")),t.s.mongos.once(\"error\",r(\"error\")),t.s.mongos.once(\"close\",r(\"close\")),t.s.mongos.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"fullsetup\"].forEach(function(e){t.s.mongos.removeAllListeners(e)}),t.s.mongos.once(\"timeout\",n(\"timeout\")),t.s.mongos.once(\"error\",n(\"error\")),t.s.mongos.once(\"close\",n(\"close\")),t.s.mongos.on(\"fullsetup\",function(){t.emit(\"fullsetup\",t)}),t.emit(\"open\",null,t);try{s(null,t)}catch(e){process.nextTick(function(){throw e})}}),t.s.mongos.on(\"joined\",i(\"joined\")),t.s.mongos.on(\"left\",i(\"left\")),t.s.mongos.on(\"reconnect\",function(){t.emit(\"reconnect\"),t.s.store.execute()}),t.s.mongos.connect(o)},Mongos.prototype.capabilities=function(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.mongos.lastIsMaster()?null:(this.s.sCapabilities=new ServerCapabilities(this.s.mongos.lastIsMaster()),this.s.sCapabilities)},define.classMethod(\"capabilities\",{callback:!1,promise:!1,returns:[ServerCapabilities]}),Mongos.prototype.command=function(e,o,s,t){this.s.mongos.command(e,o,getReadPreference(s),t)},define.classMethod(\"command\",{callback:!0,promise:!1}),Mongos.prototype.insert=function(e,o,s,t){this.s.mongos.insert(e,o,s,function(e,o){t(e,o)})},define.classMethod(\"insert\",{callback:!0,promise:!1}),Mongos.prototype.update=function(e,o,s,t){this.s.mongos.update(e,o,s,t)},define.classMethod(\"update\",{callback:!0,promise:!1}),Mongos.prototype.remove=function(e,o,s,t){this.s.mongos.remove(e,o,s,t)},define.classMethod(\"remove\",{callback:!0,promise:!1}),Mongos.prototype.isDestroyed=function(){return this.s.mongos.isDestroyed()},Mongos.prototype.isConnected=function(){return this.s.mongos.isConnected()},define.classMethod(\"isConnected\",{callback:!1,promise:!1,returns:[Boolean]}),Mongos.prototype.cursor=function(e,o,s){return s.disconnectHandler=this.s.store,this.s.mongos.cursor(e,o,s)},define.classMethod(\"cursor\",{callback:!1,promise:!1,returns:[Cursor,AggregationCursor,CommandCursor]}),Mongos.prototype.lastIsMaster=function(){return this.s.mongos.lastIsMaster()},Mongos.prototype.unref=function(){return this.s.mongos.unref()},Mongos.prototype.close=function(e){this.s.mongos.destroy({force:\"boolean\"==typeof e&&e}),1==e&&(this.s.storeOptions.force=e,this.s.store.flush())},define.classMethod(\"close\",{callback:!1,promise:!1}),Mongos.prototype.auth=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.auth.apply(this.s.mongos,e)},define.classMethod(\"auth\",{callback:!0,promise:!1}),Mongos.prototype.logout=function(){var e=Array.prototype.slice.call(arguments,0);this.s.mongos.logout.apply(this.s.mongos,e)},define.classMethod(\"logout\",{callback:!0,promise:!1}),Mongos.prototype.connections=function(){return this.s.mongos.connections()},define.classMethod(\"connections\",{callback:!1,promise:!1,returns:[Array]}),module.exports=Mongos;","node_modules/mongodb/lib/read_preference.js":"\"use strict\";var ReadPreference=function(e,r,t){if(!(this instanceof ReadPreference))return new ReadPreference(e,r,t);this._type=\"ReadPreference\",this.mode=e,this.tags=r,this.options=t,r&&\"object\"==typeof r&&!Array.isArray(r)&&r.maxStalenessSeconds&&(this.options=r,this.tags=null),this.options&&this.options.maxStalenessSeconds&&(this.maxStalenessSeconds=this.options.maxStalenessSeconds)};ReadPreference.isValid=function(e){return e==ReadPreference.PRIMARY||e==ReadPreference.PRIMARY_PREFERRED||e==ReadPreference.SECONDARY||e==ReadPreference.SECONDARY_PREFERRED||e==ReadPreference.NEAREST||1==e||0==e||null==e},ReadPreference.prototype.isValid=function(e){var r=\"string\"==typeof e?e:this.mode;return ReadPreference.isValid(r)},ReadPreference.prototype.toObject=function(){var e={mode:this.mode};return null!=this.tags&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},ReadPreference.prototype.toJSON=function(){return this.toObject()},ReadPreference.PRIMARY=\"primary\",ReadPreference.PRIMARY_PREFERRED=\"primaryPreferred\",ReadPreference.SECONDARY=\"secondary\",ReadPreference.SECONDARY_PREFERRED=\"secondaryPreferred\",ReadPreference.NEAREST=\"nearest\",module.exports=ReadPreference;","node_modules/mongodb/lib/gridfs/grid_store.js":"\"use strict\";var Chunk=require(\"./chunk\"),ObjectID=require(\"mongodb-core\").BSON.ObjectID,ReadPreference=require(\"../read_preference\"),Buffer=require(\"buffer\").Buffer,Collection=require(\"../collection\"),fs=require(\"fs\"),f=require(\"util\").format,util=require(\"util\"),Define=require(\"../metadata\"),MongoError=require(\"mongodb-core\").MongoError,inherits=util.inherits,Duplex=require(\"stream\").Duplex||require(\"readable-stream\").Duplex,shallowClone=require(\"../utils\").shallowClone,REFERENCE_BY_FILENAME=0,REFERENCE_BY_ID=1,GridStore=function e(n,t,i,o,r){if(!(this instanceof e))return new e(n,t,i,o,r);this.db=n,void 0===r&&(r={}),void 0===o?(o=i,i=void 0):\"object\"==typeof o&&(r=o,o=i,i=void 0),t&&\"ObjectID\"==t._bsontype?(this.referenceBy=REFERENCE_BY_ID,this.fileId=t,this.filename=i):void 0===i?(this.referenceBy=REFERENCE_BY_FILENAME,this.filename=t,null!=o.indexOf(\"w\")&&(this.fileId=new ObjectID)):(this.referenceBy=REFERENCE_BY_ID,this.fileId=t,this.filename=i),this.mode=null==o?\"r\":o,this.options=r||{},this.isOpen=!1,this.root=null==this.options.root?e.DEFAULT_ROOT_COLLECTION:this.options.root,this.position=0,this.readPreference=this.options.readPreference||n.options.readPreference||ReadPreference.PRIMARY,this.writeConcern=_getWriteConcern(n,this.options),this.internalChunkSize=null==this.options.chunkSize?Chunk.DEFAULT_CHUNK_SIZE:this.options.chunkSize;var l=this.options.promiseLibrary;l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),this.promiseLibrary=l,Object.defineProperty(this,\"chunkSize\",{enumerable:!0,get:function(){return this.internalChunkSize},set:function(e){\"w\"!=this.mode[0]||0!=this.position||null!=this.uploadDate?this.internalChunkSize=this.internalChunkSize:this.internalChunkSize=e}}),Object.defineProperty(this,\"md5\",{enumerable:!0,get:function(){return this.internalMd5}}),Object.defineProperty(this,\"chunkNumber\",{enumerable:!0,get:function(){return this.currentChunk&&this.currentChunk.chunkNumber?this.currentChunk.chunkNumber:null}})},define=GridStore.define=new Define(\"Gridstore\",GridStore,!0);GridStore.prototype.open=function(e){var n=this;if(\"w\"!=this.mode&&\"w+\"!=this.mode&&\"r\"!=this.mode)throw MongoError.create({message:\"Illegal mode \"+this.mode,driver:!0});return\"function\"==typeof e?open(n,e):new n.promiseLibrary(function(e,t){open(n,function(n,i){if(n)return t(n);e(i)})})};var open=function(e,n){var t=_getWriteConcern(e.db,e.options);if(\"w\"==e.mode||\"w+\"==e.mode){e.collection().ensureIndex([[\"filename\",1]],t,function(){var i=e.chunkCollection(),o=shallowClone(t);o.unique=!0,i.ensureIndex([[\"files_id\",1],[\"n\",1]],o,function(){_open(e,t,function(t,i){if(t)return n(t);e.isOpen=!0,n(t,i)})})})}else _open(e,t,function(t,i){if(t)return n(t);e.isOpen=!0,n(t,i)})};define.classMethod(\"open\",{callback:!0,promise:!0}),GridStore.prototype.eof=function(){return this.position==this.length},define.classMethod(\"eof\",{callback:!1,promise:!1,returns:[Boolean]}),GridStore.prototype.getc=function(e){var n=this;return\"function\"==typeof e?eof(n,e):new n.promiseLibrary(function(e,t){eof(n,function(n,i){if(n)return t(n);e(i)})})};var eof=function(e,n){e.eof()?n(null,null):e.currentChunk.eof()?nthChunk(e,e.currentChunk.chunkNumber+1,function(t,i){e.currentChunk=i,e.position=e.position+1,n(t,e.currentChunk.getc())}):(e.position=e.position+1,n(null,e.currentChunk.getc()))};define.classMethod(\"getc\",{callback:!0,promise:!0}),GridStore.prototype.puts=function(e,n){var t=this,i=null==e.match(/\\n$/)?e+\"\\n\":e;return\"function\"==typeof n?this.write(i,n):new t.promiseLibrary(function(e,n){t.write(i,function(t,i){if(t)return n(t);e(i)})})},define.classMethod(\"puts\",{callback:!0,promise:!0}),GridStore.prototype.stream=function(){return new GridStoreStream(this)},define.classMethod(\"stream\",{callback:!1,promise:!1,returns:[GridStoreStream]}),GridStore.prototype.write=function(e,n,t){var i=this;return\"function\"==typeof t?_writeNormal(this,e,n,t):new i.promiseLibrary(function(t,o){_writeNormal(i,e,n,function(e,n){if(e)return o(e);t(n)})})},define.classMethod(\"write\",{callback:!0,promise:!0}),GridStore.prototype.destroy=function(){this.writable&&(this.readable=!1,this.writable&&(this.writable=!1,this._q.length=0,this.emit(\"close\")))},define.classMethod(\"destroy\",{callback:!1,promise:!1}),GridStore.prototype.writeFile=function(e,n){var t=this;return\"function\"==typeof n?writeFile(t,e,n):new t.promiseLibrary(function(n,i){writeFile(t,e,function(e,t){if(e)return i(e);n(t)})})};var writeFile=function(e,n,t){\"string\"!=typeof n?e.open(function(e,i){if(e)return t(e,i);fs.fstat(n,function(e,o){if(e)return t(e,i);var r=0,l=0,u=function(){var e=new Buffer(i.chunkSize);fs.read(n,e,0,e.length,r,function(e,s,a){if(e)return t(e,i);r+=s;new Chunk(i,{n:l++},i.writeConcern).write(a.slice(0,s),function(e,l){if(e)return t(e,i);l.save({},function(e){return e?t(e,i):(i.position=i.position+s,i.currentChunk=l,r>=o.size?(fs.close(n),void i.close(function(e){return t(e||null,i)})):process.nextTick(u))})})})};process.nextTick(u)})}):fs.open(n,\"r\",function(n,i){if(n)return t(n);e.writeFile(i,t)})};define.classMethod(\"writeFile\",{callback:!0,promise:!0}),GridStore.prototype.close=function(e){var n=this;return\"function\"==typeof e?close(n,e):new n.promiseLibrary(function(e,t){close(n,function(n,i){if(n)return t(n);e(i)})})};var close=function(e,n){if(\"w\"==e.mode[0]){var t=e.writeConcern;null!=e.currentChunk&&e.currentChunk.position>0?e.currentChunk.save({},function(i){if(i&&\"function\"==typeof n)return n(i);e.collection(function(i,o){if(i&&\"function\"==typeof n)return n(i);null!=e.uploadDate?buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})}):(e.uploadDate=new Date,buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})}))})}):e.collection(function(i,o){if(i&&\"function\"==typeof n)return n(i);e.uploadDate=new Date,buildMongoObject(e,function(e,i){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(i,t,function(e){\"function\"==typeof n&&n(e,i)})})})}else\"r\"==e.mode[0]?\"function\"==typeof n&&n(null,null):\"function\"==typeof n&&n(MongoError.create({message:f(\"Illegal mode %s\",e.mode),driver:!0}))};define.classMethod(\"close\",{callback:!0,promise:!0}),GridStore.prototype.chunkCollection=function(e){return\"function\"==typeof e?this.db.collection(this.root+\".chunks\",e):this.db.collection(this.root+\".chunks\")},define.classMethod(\"chunkCollection\",{callback:!0,promise:!1,returns:[Collection]}),GridStore.prototype.unlink=function(e){var n=this;return\"function\"==typeof e?unlink(n,e):new n.promiseLibrary(function(e,t){unlink(n,function(n,i){if(n)return t(n);e(i)})})};var unlink=function(e,n){deleteChunks(e,function(t){if(null!==t)return t.message=\"at deleteChunks: \"+t.message,n(t);e.collection(function(t,i){if(null!==t)return t.message=\"at collection: \"+t.message,n(t);i.remove({_id:e.fileId},e.writeConcern,function(t){n(t,e)})})})};define.classMethod(\"unlink\",{callback:!0,promise:!0}),GridStore.prototype.collection=function(e){return\"function\"==typeof e&&this.db.collection(this.root+\".files\",e),this.db.collection(this.root+\".files\")},define.classMethod(\"collection\",{callback:!0,promise:!1,returns:[Collection]}),GridStore.prototype.readlines=function(e,n){var t=this,i=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(n=i.pop())&&i.push(n),e=i.length?i.shift():\"\\n\",e=e||\"\\n\",\"function\"==typeof n?readlines(t,e,n):new t.promiseLibrary(function(n,i){readlines(t,e,function(e,t){if(e)return i(e);n(t)})})};var readlines=function(e,n,t){e.read(function(e,i){if(e)return t(e);var o=i.toString().split(n);o=o.length>0?o.splice(0,o.length-1):[];for(var r=0;r<o.length;r++)o[r]=o[r]+n;t(null,o)})};define.classMethod(\"readlines\",{callback:!0,promise:!0}),GridStore.prototype.rewind=function(e){var n=this;return\"function\"==typeof e?rewind(n,e):new n.promiseLibrary(function(e,t){rewind(n,function(n,i){if(n)return t(n);e(i)})})};var rewind=function(e,n){0!=e.currentChunk.chunkNumber?\"w\"==e.mode[0]?deleteChunks(e,function(t){if(t)return n(t);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.position=0,n(null,e)}):e.currentChunk(0,function(t,i){if(t)return n(t);e.currentChunk=i,e.currentChunk.rewind(),e.position=0,n(null,e)}):(e.currentChunk.rewind(),e.position=0,n(null,e))};define.classMethod(\"rewind\",{callback:!0,promise:!0}),GridStore.prototype.read=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,0);return\"function\"!=typeof(t=o.pop())&&o.push(t),e=o.length?o.shift():null,n=o.length?o.shift():null,\"function\"==typeof t?read(i,e,n,t):new i.promiseLibrary(function(t,o){read(i,e,n,function(e,n){if(e)return o(e);t(n)})})};var read=function(e,n,t,i){var o=null==n?e.length-e.position:n,r=null==t?new Buffer(o):t;if(r._index=null!=t&&null!=t._index?t._index:0,e.currentChunk.length()-e.currentChunk.position+r._index>=o){var l=e.currentChunk.readSlice(o-r._index);return l.copy(r,r._index),e.position=e.position+r.length,0==o&&0==r.length?i(MongoError.create({message:\"File does not exist\",driver:!0}),null):i(null,r)}(l=e.currentChunk.readSlice(e.currentChunk.length()-e.currentChunk.position)).copy(r,r._index),r._index+=l.length,nthChunk(e,e.currentChunk.chunkNumber+1,function(t,o){if(t)return i(t);o.length()>0?(e.currentChunk=o,e.read(n,r,i)):r._index>0?i(null,r):i(MongoError.create({message:\"no chunks found for file, possibly corrupt\",driver:!0}),null)})};define.classMethod(\"read\",{callback:!0,promise:!0}),GridStore.prototype.tell=function(e){var n=this;return\"function\"==typeof e?e(null,this.position):new n.promiseLibrary(function(e){e(n.position)})},define.classMethod(\"tell\",{callback:!0,promise:!0}),GridStore.prototype.seek=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,1);return\"function\"!=typeof(t=o.pop())&&o.push(t),n=o.length?o.shift():null,\"function\"==typeof t?seek(i,e,n,t):new i.promiseLibrary(function(t,o){seek(i,e,n,function(e,n){if(e)return o(e);t(n)})})};var seek=function(e,n,t,i){if(\"r\"!=e.mode)return i(MongoError.create({message:\"seek is only supported for mode r\",driver:!0}));var o=null==t?GridStore.IO_SEEK_SET:t,r=n,l=0;l=o==GridStore.IO_SEEK_CUR?e.position+r:o==GridStore.IO_SEEK_END?e.length+r:r;var u=Math.floor(l/e.chunkSize);nthChunk(e,u,function(n,t){return n?i(n,null):null==t?i(new Error(\"no chunk found\")):(e.currentChunk=t,e.position=l,e.currentChunk.position=e.position%e.chunkSize,void i(n,e))})};define.classMethod(\"seek\",{callback:!0,promise:!0});var _open=function(e,n,t){var i=e.collection(),o=e.referenceBy==REFERENCE_BY_ID?{_id:e.fileId}:{filename:e.filename};o=null==e.fileId&&null==e.filename?null:o,n.readPreference=e.readPreference,null!=o?i.findOne(o,n,function(i,o){if(i)return r(i);if(null!=o)e.fileId=o._id,e.filename=\"r\"==e.mode||void 0==e.filename?o.filename:e.filename,e.contentType=o.contentType,e.internalChunkSize=o.chunkSize,e.uploadDate=o.uploadDate,e.aliases=o.aliases,e.length=o.length,e.metadata=o.metadata,e.internalMd5=o.md5;else{if(\"r\"==e.mode){e.length=0;var l=\"ObjectID\"==e.fileId._bsontype?e.fileId.toHexString():e.fileId;return r(MongoError.create({message:f(\"file with id %s not opened for writing\",e.referenceBy==REFERENCE_BY_ID?l:e.filename),driver:!0}))}e.fileId=null==e.fileId?new ObjectID:e.fileId,e.contentType=GridStore.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?Chunk.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0}\"r\"==e.mode?nthChunk(e,0,n,function(n,i){if(n)return r(n);e.currentChunk=i,e.position=0,t(null,e)}):\"w\"==e.mode&&o?deleteChunks(e,n,function(n){if(n)return r(n);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)}):\"w\"==e.mode?(e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)):\"w+\"==e.mode&&nthChunk(e,lastChunkNumber(e),n,function(n,i){if(n)return r(n);e.currentChunk=null==i?new Chunk(e,{n:0},e.writeConcern):i,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,t(null,e)})}):(e.fileId=null==e.fileId?new ObjectID:e.fileId,e.contentType=GridStore.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?Chunk.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0,\"w\"==e.mode?deleteChunks(e,n,function(n){if(n)return r(n);e.currentChunk=new Chunk(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,t(null,e)}):\"w+\"==e.mode&&nthChunk(e,lastChunkNumber(e),n,function(n,i){if(n)return r(n);e.currentChunk=null==i?new Chunk(e,{n:0},e.writeConcern):i,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,t(null,e)}));function r(e){r.err||t(r.err=e)}},writeBuffer=function(e,n,t,i){\"function\"==typeof t&&(i=t,t=null);var o=\"boolean\"==typeof t&&t;if(\"w\"!=e.mode)i(MongoError.create({message:f(\"file with id %s not opened for writing\",e.referenceBy==REFERENCE_BY_ID?e.referenceBy:e.filename),driver:!0}),null);else{if(!(e.currentChunk.position+n.length>=e.chunkSize))return e.position=e.position+n.length,e.currentChunk.write(n),o?e.close(function(n){i(n,e)}):i(null,e);for(var r=e.currentChunk.chunkNumber,l=e.chunkSize-e.currentChunk.position,u=n.slice(0,l),s=n.slice(l),a=[e.currentChunk.write(u)];s.length>=e.chunkSize;){var c=new Chunk(e,{n:r+1},e.writeConcern);u=s.slice(0,e.chunkSize),s=s.slice(e.chunkSize),r+=1,c.write(u),a.push(c)}e.currentChunk=new Chunk(e,{n:r+1},e.writeConcern),s.length>0&&e.currentChunk.write(s),e.position=e.position+n.length;for(var p=a.length,h=0;h<a.length;h++)a[h].save({},function(n){return n?i(n):(p-=1)<=0?o?e.close(function(n){i(n,e)}):i(null,e):void 0})}},buildMongoObject=function(e,n){var t={_id:e.fileId,filename:e.filename,contentType:e.contentType,length:e.position?e.position:0,chunkSize:e.chunkSize,uploadDate:e.uploadDate,aliases:e.aliases,metadata:e.metadata},i={filemd5:e.fileId,root:e.root};e.db.command(i,function(e,i){if(e)return n(e);t.md5=i.md5,n(null,t)})},nthChunk=function(e,n,t,i){\"function\"==typeof t&&(i=t,t={}),(t=t||e.writeConcern).readPreference=e.readPreference,e.chunkCollection().findOne({files_id:e.fileId,n:n},t,function(n,t){if(n)return i(n);i(null,new Chunk(e,null==t?{}:t,e.writeConcern))})},lastChunkNumber=function(e){return Math.floor((e.length?e.length-1:0)/e.chunkSize)},deleteChunks=function(e,n,t){\"function\"==typeof n&&(t=n,n={}),n=n||e.writeConcern,null!=e.fileId?e.chunkCollection().remove({files_id:e.fileId},n,function(e){if(e)return t(e,!1);t(null,!0)}):t(null,!0)};GridStore.DEFAULT_ROOT_COLLECTION=\"fs\",GridStore.DEFAULT_CONTENT_TYPE=\"binary/octet-stream\",GridStore.IO_SEEK_SET=0,GridStore.IO_SEEK_CUR=1,GridStore.IO_SEEK_END=2,GridStore.exist=function(e,n,t,i,o){var r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=r.pop())&&r.push(o),t=r.length?r.shift():null;var l=(i=(i=r.length?r.shift():{})||{}).promiseLibrary;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof o?exists(e,n,t,i,o):new l(function(o,r){exists(e,n,t,i,function(e,n){if(e)return r(e);o(n)})})};var exists=function(e,n,t,i,o){var r=i.readPreference||ReadPreference.PRIMARY,l=null!=t?t:GridStore.DEFAULT_ROOT_COLLECTION;e.collection(l+\".files\",function(e,t){if(e)return o(e);var i=\"string\"==typeof n||\"[object RegExp]\"==Object.prototype.toString.call(n)?{filename:n}:{_id:n};null!=n&&\"object\"==typeof n&&\"[object RegExp]\"!=Object.prototype.toString.call(n)&&(i=n),t.findOne(i,{readPreference:r},function(e,n){if(e)return o(e);o(null,null!=n)})})};define.staticMethod(\"exist\",{callback:!0,promise:!0}),GridStore.list=function(e,n,t,i){var o=Array.prototype.slice.call(arguments,1);\"function\"!=typeof(i=o.pop())&&o.push(i),n=o.length?o.shift():null;var r=(t=(t=o.length?o.shift():{})||{}).promiseLibrary;return r||(r=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof i?list(e,n,t,i):new r(function(i,o){list(e,n,t,function(e,n){if(e)return o(e);i(n)})})};var list=function(e,n,t,i){null!=n&&\"object\"==typeof n&&(t=n,n=null);var o=t.readPreference||ReadPreference.PRIMARY,r=null!=t.id&&t.id,l=null!=n?n:GridStore.DEFAULT_ROOT_COLLECTION,u=[];e.collection(l+\".files\",function(e,n){if(e)return i(e);n.find({},{readPreference:o},function(e,n){if(e)return i(e);n.each(function(e,n){null!=n?u.push(r?n._id:n.filename):i(e,u)})})})};define.staticMethod(\"list\",{callback:!0,promise:!0}),GridStore.read=function(e,n,t,i,o,r){var l=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(r=l.pop())&&l.push(r),t=l.length?l.shift():null,i=l.length?l.shift():null;var u=(o=(o=l.length?l.shift():null)||{})?o.promiseLibrary:null;return u||(u=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof r?readStatic(e,n,t,i,o,r):new u(function(r,l){readStatic(e,n,t,i,o,function(e,n){if(e)return l(e);r(n)})})};var readStatic=function(e,n,t,i,o,r){new GridStore(e,n,\"r\",o).open(function(e,n){return e?r(e):i&&i>=n.length?r(\"offset larger than size of file\",null):t&&t>n.length?r(\"length is larger than the size of the file\",null):i&&t&&i+t>n.length?r(\"offset and length is larger than the size of the file\",null):void(null!=i?n.seek(i,function(e,n){if(e)return r(e);n.read(t,r)}):n.read(t,r))})};define.staticMethod(\"read\",{callback:!0,promise:!0}),GridStore.readlines=function(e,n,t,i,o){var r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(o=r.pop())&&r.push(o),t=r.length?r.shift():null;var l=(i=(i=r.length?r.shift():null)||{})?i.promiseLibrary:null;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof o?readlinesStatic(e,n,t,i,o):new l(function(o,r){readlinesStatic(e,n,t,i,function(e,n){if(e)return r(e);o(n)})})};var readlinesStatic=function(e,n,t,i,o){var r=null==t?\"\\n\":t;new GridStore(e,n,\"r\",i).open(function(e,n){if(e)return o(e);n.readlines(r,o)})};define.staticMethod(\"readlines\",{callback:!0,promise:!0}),GridStore.unlink=function(e,n,t,i){var o=this,r=Array.prototype.slice.call(arguments,2);\"function\"!=typeof(i=r.pop())&&r.push(i);var l=(t=(t=r.length?r.shift():{})||{}).promiseLibrary;return l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),\"function\"==typeof i?unlinkStatic(o,e,n,t,i):new l(function(i,r){unlinkStatic(o,e,n,t,function(e,n){if(e)return r(e);i(n)})})};var unlinkStatic=function(e,n,t,i,o){var r=_getWriteConcern(n,i);if(t.constructor==Array)for(var l=0,u=0;u<t.length;u++)++l,GridStore.unlink(n,t[u],i,function(){0==--l&&o(null,e)});else new GridStore(n,t,\"w\",i).open(function(n,t){if(n)return o(n);deleteChunks(t,function(n){if(n)return o(n);t.collection(function(n,i){if(n)return o(n);i.remove({_id:t.fileId},r,function(n){o(n,e)})})})})};define.staticMethod(\"unlink\",{callback:!0,promise:!0});var _writeNormal=function(e,n,t,i){return Buffer.isBuffer(n)?writeBuffer(e,n,t,i):writeBuffer(e,new Buffer(n,\"binary\"),t,i)},_setWriteConcernHash=function(e){var n={};return null!=e.w&&(n.w=e.w),1==e.journal&&(n.j=e.journal),1==e.j&&(n.j=e.j),1==e.fsync&&(n.fsync=e.fsync),null!=e.wtimeout&&(n.wtimeout=e.wtimeout),n},_getWriteConcern=function(e,n){var t={w:1};if(null!=(n=n||{}).w||\"boolean\"==typeof n.j||\"boolean\"==typeof n.journal||\"boolean\"==typeof n.fsync?t=_setWriteConcernHash(n):null!=n.safe&&\"object\"==typeof n.safe?t=_setWriteConcernHash(n.safe):\"boolean\"==typeof n.safe?t={w:n.safe?1:0}:null!=e.options.w||\"boolean\"==typeof e.options.j||\"boolean\"==typeof e.options.journal||\"boolean\"==typeof e.options.fsync?t=_setWriteConcernHash(e.options):!e.safe||null==e.safe.w&&\"boolean\"!=typeof e.safe.j&&\"boolean\"!=typeof e.safe.journal&&\"boolean\"!=typeof e.safe.fsync?\"boolean\"==typeof e.safe&&(t={w:e.safe?1:0}):t=_setWriteConcernHash(e.safe),t.w<1&&(1==t.journal||1==t.j||1==t.fsync))throw MongoError.create({message:\"No acknowledgement using w < 1 cannot be combined with journal:true or fsync:true\",driver:!0});return t},GridStoreStream=function(e){Duplex.call(this),this.gs=e,this.endCalled=!1,this.totalBytesToRead=this.gs.length-this.gs.position,this.seekPosition=this.gs.position};inherits(GridStoreStream,Duplex),GridStoreStream.prototype._pipe=GridStoreStream.prototype.pipe,GridStoreStream.prototype.pipe=function(e){var n=this;return n.gs.isOpen?(n.totalBytesToRead=n.gs.length-n.gs.position,n._pipe.apply(n,[e])):n.gs.open(function(t){if(t)return n.emit(\"error\",t);n.totalBytesToRead=n.gs.length-n.gs.position,n._pipe.apply(n,[e])}),e},GridStoreStream.prototype._read=function(){var e=this,n=function(){e.gs.read(t,function(n,t){return n&&!e.endCalled?e.emit(\"error\",n):e.endCalled||null==t?e.push(null):(t.length<=e.totalBytesToRead?(e.totalBytesToRead=e.totalBytesToRead-t.length,e.push(t)):t.length>e.totalBytesToRead&&(e.totalBytesToRead=e.totalBytesToRead-t._index,e.push(t.slice(0,t._index))),void(e.totalBytesToRead<=0&&(e.endCalled=!0)))})},t=e.gs.length<e.gs.chunkSize?e.gs.length-e.seekPosition:e.gs.chunkSize;e.gs.isOpen?n():e.gs.open(function(t){if(e.totalBytesToRead=e.gs.length-e.gs.position,t)return e.emit(\"error\",t);n()})},GridStoreStream.prototype.destroy=function(){this.pause(),this.endCalled=!0,this.gs.close(),this.emit(\"end\")},GridStoreStream.prototype.write=function(e){var n=this;return n.endCalled?n.emit(\"error\",MongoError.create({message:\"attempting to write to stream after end called\",driver:!0})):n.gs.isOpen?(n.gs.write(e,function(){n.emit(\"drain\")}),!0):(n.gs.open(function(){n.gs.isOpen=!0,n.gs.write(e,function(){process.nextTick(function(){n.emit(\"drain\")})})}),!1)},GridStoreStream.prototype.end=function(e,n,t){var i=this,o=Array.prototype.slice.call(arguments,0);\"function\"!=typeof(t=o.pop())&&o.push(t),e=o.length?o.shift():null,o.length&&o.shift(),i.endCalled=!0,e&&i.gs.write(e,function(){i.gs.close(function(){\"function\"==typeof t&&t(),i.emit(\"end\")})}),i.gs.close(function(){\"function\"==typeof t&&t(),i.emit(\"end\")})},module.exports=GridStore;","node_modules/mongodb/lib/gridfs/chunk.js":"\"use strict\";var Binary=require(\"mongodb-core\").BSON.Binary,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Chunk=function(t,n,i){if(!(this instanceof Chunk))return new Chunk(t,n);this.file=t;var e=null==n?{}:n;if(this.writeConcern=i||{w:1},this.objectId=null==e._id?new ObjectID:e._id,this.chunkNumber=null==e.n?0:e.n,this.data=new Binary,\"string\"==typeof e.data){var r=new Buffer(e.data.length);r.write(e.data,0,e.data.length,\"binary\"),this.data=new Binary(r)}else if(Array.isArray(e.data)){r=new Buffer(e.data.length);var o=e.data.join(\"\");r.write(o,0,o.length,\"binary\"),this.data=new Binary(r)}else if(e.data&&\"Binary\"===e.data._bsontype)this.data=e.data;else if(!Buffer.isBuffer(e.data)&&null!=e.data)throw Error(\"Illegal chunk format\");this.internalPosition=0};Chunk.prototype.write=function(t,n){return this.data.write(t,this.internalPosition,t.length,\"binary\"),this.internalPosition=this.data.length(),null!=n?n(null,this):this},Chunk.prototype.read=function(t){if(t=null==t||0==t?this.length():t,this.length()-this.internalPosition+1>=t){var n=this.data.read(this.internalPosition,t);return this.internalPosition=this.internalPosition+t,n}return\"\"},Chunk.prototype.readSlice=function(t){if(this.length()-this.internalPosition>=t){var n=null;return null!=this.data.buffer?n=this.data.buffer.slice(this.internalPosition,this.internalPosition+t):(n=new Buffer(t),t=this.data.readInto(n,this.internalPosition)),this.internalPosition=this.internalPosition+t,n}return null},Chunk.prototype.eof=function(){return this.internalPosition==this.length()},Chunk.prototype.getc=function(){return this.read(1)},Chunk.prototype.rewind=function(){this.internalPosition=0,this.data=new Binary},Chunk.prototype.save=function(t,n){var i=this;\"function\"==typeof t&&(n=t,t={}),i.file.chunkCollection(function(e,r){if(e)return n(e);var o={upsert:!0};for(var a in t)o[a]=t[a];for(a in i.writeConcern)o[a]=i.writeConcern[a];i.data.length()>0?i.buildMongoObject(function(t){var e={forceServerObjectId:!0};for(var a in i.writeConcern)e[a]=i.writeConcern[a];r.replaceOne({_id:i.objectId},t,o,function(t){n(t,i)})}):n(null,i)})},Chunk.prototype.buildMongoObject=function(t){var n={files_id:this.file.fileId,n:this.chunkNumber,data:this.data};null!=this.objectId&&(n._id=this.objectId),t(n)},Chunk.prototype.length=function(){return this.data.length()},Object.defineProperty(Chunk.prototype,\"position\",{enumerable:!0,get:function(){return this.internalPosition},set:function(t){this.internalPosition=t}}),Chunk.DEFAULT_CHUNK_SIZE=261120,module.exports=Chunk;","node_modules/mongodb/lib/cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,formattedOrderClause=require(\"./utils\").formattedOrderClause,handleCallback=require(\"./utils\").handleCallback,ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"mongodb-core\").Cursor,Map=require(\"mongodb-core\").BSON.Map,CoreReadPreference=require(\"mongodb-core\").ReadPreference,flags=[\"tailable\",\"oplogReplay\",\"noCursorTimeout\",\"awaitData\",\"exhaust\",\"partial\"],fields=[\"numberOfRetries\",\"tailableRetryInterval\"],push=Array.prototype.push,Cursor=function(r,e,s,t,o,i){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var n=Cursor.INIT,a=t.numberOfRetries||5,u=t.tailableRetryInterval||500,c=a,l=t.promiseLibrary;l||(l=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={numberOfRetries:a,tailableRetryInterval:u,currentNumberOfRetries:c,state:n,streamOptions:{},bson:r,ns:e,cmd:s,options:t,topology:o,topologyOptions:i,promiseLibrary:l,currentDoc:null},1==this.s.options.noCursorTimeout&&this.addCursorFlag(\"noCursorTimeout\",!0),this.sortValue=this.s.cmd.sort;var d=s.cursor&&s.cursor.batchSize?s.cursor&&s.cursor.batchSize:t.cursor&&t.cursor.batchSize?t.cursor.batchSize:1e3;this.setCursorBatchSize(d)};inherits(Cursor,Readable),CoreCursor.prototype._next=CoreCursor.prototype.next;for(var name in CoreCursor.prototype)Cursor.prototype[name]=CoreCursor.prototype[name];var define=Cursor.define=new Define(\"Cursor\",Cursor,!0);Cursor.prototype.hasNext=function(r){var e=this;return\"function\"==typeof r?e.s.currentDoc?r(null,!0):nextObject(e,function(s,t){return s?r(s,null):t?(e.s.currentDoc=t,void r(null,!0)):r(null,!1)}):new this.s.promiseLibrary(function(r,s){e.s.currentDoc?r(!0):nextObject(e,function(t,o){return e.s.state==Cursor.CLOSED||e.isDead()?r(!1):t?s(t):o?(e.s.currentDoc=o,void r(!0)):r(!1)})})},define.classMethod(\"hasNext\",{callback:!0,promise:!0}),Cursor.prototype.next=function(r){var e=this;if(\"function\"==typeof r){if(e.s.currentDoc){var s=e.s.currentDoc;return e.s.currentDoc=null,r(null,s)}return nextObject(e,r)}return new this.s.promiseLibrary(function(r,s){if(e.s.currentDoc){var t=e.s.currentDoc;return e.s.currentDoc=null,r(t)}nextObject(e,function(e,t){if(e)return s(e);r(t)})})},define.classMethod(\"next\",{callback:!0,promise:!0}),Cursor.prototype.filter=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.query=r,this},define.classMethod(\"filter\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxScan=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxScan=r,this},define.classMethod(\"maxScan\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.hint=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.hint=r,this},define.classMethod(\"hint\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.min=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.min=r,this},define.classMethod(\"min\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.max=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.max=r,this},define.classMethod(\"max\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.returnKey=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.returnKey=r,this},define.classMethod(\"returnKey\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.showRecordId=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.showDiskLoc=r,this},define.classMethod(\"showRecordId\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.snapshot=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.snapshot=r,this},define.classMethod(\"snapshot\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.setCursorOption=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(-1==fields.indexOf(r))throw MongoError.create({message:f(\"option %s not a supported option %s\",r,fields),driver:!0});return this.s[r]=e,\"numberOfRetries\"==r&&(this.s.currentNumberOfRetries=e),this},define.classMethod(\"setCursorOption\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.addCursorFlag=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(-1==flags.indexOf(r))throw MongoError.create({message:f(\"flag %s not a supported flag %s\",r,flags),driver:!0});if(\"boolean\"!=typeof e)throw MongoError.create({message:f(\"flag %s must be a boolean value\",r),driver:!0});return this.s.cmd[r]=e,this},define.classMethod(\"addCursorFlag\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.addQueryModifier=function(r,e){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"$\"!=r[0])throw MongoError.create({message:f(\"%s is not a valid query modifier\"),driver:!0});var s=r.substr(1);return this.s.cmd[s]=e,\"orderby\"==s&&(this.s.cmd.sort=this.s.cmd[s]),this},define.classMethod(\"addQueryModifier\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.comment=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.comment=r,this},define.classMethod(\"comment\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxAwaitTimeMS=function(r){if(\"number\"!=typeof r)throw MongoError.create({message:\"maxAwaitTimeMS must be a number\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxAwaitTimeMS=r,this},define.classMethod(\"maxAwaitTimeMS\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxTimeMS=function(r){if(\"number\"!=typeof r)throw MongoError.create({message:\"maxTimeMS must be a number\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxTimeMS=r,this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.maxTimeMs=Cursor.prototype.maxTimeMS,define.classMethod(\"maxTimeMs\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.project=function(r){if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.fields=r,this},define.classMethod(\"project\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.sort=function(r,e){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support sorting\",driver:!0});if(this.s.state==Cursor.CLOSED||this.s.state==Cursor.OPEN||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});var s=r;return Array.isArray(s)&&Array.isArray(s[0])&&(s=new Map(s.map(function(r){var e=[r[0],null];if(\"asc\"==r[1])e[1]=1;else if(\"desc\"==r[1])e[1]=-1;else{if(1!=r[1]&&-1!=r[1])throw new MongoError(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");e[1]=r[1]}return e}))),null!=e&&(s=[[r,e]]),this.s.cmd.sort=s,this.sortValue=s,this},define.classMethod(\"sort\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.batchSize=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support batchSize\",driver:!0});if(this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.batchSize=r,this.setCursorBatchSize(r),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.collation=function(r){return this.s.cmd.collation=r,this},define.classMethod(\"collation\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.limit=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support limit\",driver:!0});if(this.s.state==Cursor.OPEN||this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"limit requires an integer\",driver:!0});return this.s.cmd.limit=r,this.setCursorLimit(r),this},define.classMethod(\"limit\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.skip=function(r){if(this.s.options.tailable)throw MongoError.create({message:\"Tailable cursor doesn't support skip\",driver:!0});if(this.s.state==Cursor.OPEN||this.s.state==Cursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"skip requires an integer\",driver:!0});return this.s.cmd.skip=r,this.setCursorSkip(r),this},define.classMethod(\"skip\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.nextObject=Cursor.prototype.next;var nextObject=function(r,e){if(r.s.state==Cursor.CLOSED||r.isDead&&r.isDead())return handleCallback(e,MongoError.create({message:\"Cursor is closed\",driver:!0}));if(r.s.state==Cursor.INIT&&r.s.cmd.sort)try{r.s.cmd.sort=formattedOrderClause(r.s.cmd.sort)}catch(r){return handleCallback(e,r)}r._next(function(s,t){if(r.s.state=Cursor.OPEN,s)return handleCallback(e,s);handleCallback(e,null,t)})};define.classMethod(\"nextObject\",{callback:!0,promise:!0});var loop=function(r,e){if(0!=r.bufferedCount())return r._next(e),loop};Cursor.prototype.next=Cursor.prototype.nextObject,define.classMethod(\"next\",{callback:!0,promise:!0}),Cursor.prototype.each=function(r){this.rewind(),this.s.state=Cursor.INIT,_each(this,r)},define.classMethod(\"each\",{callback:!0,promise:!1});var _each=function(r,e){if(!e)throw MongoError.create({message:\"callback is mandatory\",driver:!0});if(!r.isNotified()){if(r.s.state==Cursor.CLOSED||r.isDead())return handleCallback(e,MongoError.create({message:\"Cursor is closed\",driver:!0}));r.s.state==Cursor.INIT&&(r.s.state=Cursor.OPEN);var s=null;if(r.bufferedCount()>0){for(;s=loop(r,e);)s(r,e);_each(r,e)}else r.next(function(s,t){return s?handleCallback(e,s):null==t?(r.s.state=Cursor.CLOSED,handleCallback(e,null,null)):void(0!=handleCallback(e,null,t)&&_each(r,e))})}};Cursor.prototype.forEach=function(r,e){this.each(function(s,t){if(s)return e(s),!1;if(null!=t)return r(t),!0;if(null==t&&e){var o=e;return e=null,o(null),!1}})},define.classMethod(\"forEach\",{callback:!0,promise:!1}),Cursor.prototype.setReadPreference=function(r){if(this.s.state!=Cursor.INIT)throw MongoError.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return r instanceof ReadPreference?this.s.options.readPreference=new CoreReadPreference(r.mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}):\"string\"==typeof r?this.s.options.readPreference=new CoreReadPreference(r):r instanceof CoreReadPreference&&(this.s.options.readPreference=r),this},define.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.toArray=function(r){var e=this;if(e.s.options.tailable)throw MongoError.create({message:\"Tailable cursor cannot be converted to array\",driver:!0});return\"function\"==typeof r?toArray(e,r):new this.s.promiseLibrary(function(r,s){toArray(e,function(e,t){if(e)return s(e);r(t)})})};var toArray=function(r,e){var s=[];r.rewind(),r.s.state=Cursor.INIT;var t=function(){r._next(function(o,i){if(o)return handleCallback(e,o);if(null==i)return r.s.state=Cursor.CLOSED,handleCallback(e,null,s);if(s.push(i),r.bufferedCount()>0){var n=r.readBufferedDocuments(r.bufferedCount());r.s.transforms&&\"function\"==typeof r.s.transforms.doc&&(n=n.map(r.s.transforms.doc)),push.apply(s,n)}t()})};t()};define.classMethod(\"toArray\",{callback:!0,promise:!0}),Cursor.prototype.count=function(r,e,s){var t=this;if(null==t.s.cmd.query)throw MongoError.create({message:\"count can only be used with find command\",driver:!0});return\"function\"==typeof e&&(s=e,e={}),e=e||{},\"function\"==typeof s?count(t,r,e,s):new this.s.promiseLibrary(function(s,o){count(t,r,e,function(r,e){if(r)return o(r);s(e)})})};var count=function(r,e,s,t){\"function\"==typeof e&&(t=e,e=!0),e&&(\"number\"==typeof r.cursorSkip()&&(s.skip=r.cursorSkip()),\"number\"==typeof r.cursorLimit()&&(s.limit=r.cursorLimit()));var o=r.s.ns.indexOf(\".\"),i={count:r.s.ns.substr(o+1),query:r.s.cmd.query};r.s.cmd.readConcern&&(i.readConcern=r.s.cmd.readConcern),r.s.cmd.hint&&(i.hint=r.s.cmd.hint),\"number\"==typeof s.maxTimeMS?i.maxTimeMS=s.maxTimeMS:r.s.cmd&&\"number\"==typeof r.s.cmd.maxTimeMS&&(i.maxTimeMS=r.s.cmd.maxTimeMS),s.skip&&(i.skip=s.skip),s.limit&&(i.limit=s.limit),r.s.options.hint&&(i.hint=r.s.options.hint),r.server=r.topology,r.topology.command(f(\"%s.$cmd\",r.s.ns.substr(0,o)),i,function(r,e){t(r,e?e.result.n:null)},r.options)};define.classMethod(\"count\",{callback:!0,promise:!0}),Cursor.prototype.close=function(r){return this.s.state=Cursor.CLOSED,this.kill(),this.emit(\"close\"),\"function\"==typeof r?handleCallback(r,null,this):new this.s.promiseLibrary(function(r){r()})},define.classMethod(\"close\",{callback:!0,promise:!0}),Cursor.prototype.map=function(r){if(this.cursorState.transforms&&this.cursorState.transforms.doc){var e=this.cursorState.transforms.doc;this.cursorState.transforms.doc=function(s){return r(e(s))}}else this.cursorState.transforms={doc:r};return this},define.classMethod(\"map\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.isClosed=function(){return this.isDead()},define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),Cursor.prototype.destroy=function(r){r&&this.emit(\"error\",r),this.pause(),this.close()},define.classMethod(\"destroy\",{callback:!1,promise:!1}),Cursor.prototype.stream=function(r){return this.s.streamOptions=r||{},this},define.classMethod(\"stream\",{callback:!1,promise:!1,returns:[Cursor]}),Cursor.prototype.explain=function(r){var e=this;return this.s.cmd.explain=!0,this.s.cmd.readConcern&&delete this.s.cmd.readConcern,\"function\"==typeof r?this._next(r):new this.s.promiseLibrary(function(r,s){e._next(function(e,t){if(e)return s(e);r(t)})})},define.classMethod(\"explain\",{callback:!0,promise:!0}),Cursor.prototype._read=function(){var r=this;if(r.s.state==Cursor.CLOSED||r.isDead())return r.push(null);r.nextObject(function(e,s){return e?(r.listeners(\"error\")&&r.listeners(\"error\").length>0&&r.emit(\"error\",e),r.isDead()||r.close(),r.emit(\"end\"),r.emit(\"finish\")):\"function\"==typeof r.s.streamOptions.transform&&null!=s?r.push(r.s.streamOptions.transform(s)):r.cursorState.transforms&&\"function\"==typeof r.cursorState.transforms.doc&&null!=s?r.push(r.cursorState.transforms.doc(s)):void r.push(s)})},Object.defineProperty(Cursor.prototype,\"readPreference\",{enumerable:!0,get:function(){return this&&this.s?this.s.options.readPreference:null}}),Object.defineProperty(Cursor.prototype,\"namespace\",{enumerable:!0,get:function(){if(!this||!this.s)return null;var r=this.s.ns||\"\",e=r.indexOf(\".\");return e<0?{database:this.s.ns,collection:\"\"}:{database:r.substr(0,e),collection:r.substr(e+1)}}}),Cursor.INIT=0,Cursor.OPEN=1,Cursor.CLOSED=2,Cursor.GET_MORE=3,module.exports=Cursor;","node_modules/mongodb/lib/gridfs-stream/index.js":"var Emitter=require(\"events\").EventEmitter,GridFSBucketReadStream=require(\"./download\"),GridFSBucketWriteStream=require(\"./upload\"),shallowClone=require(\"../utils\").shallowClone,toError=require(\"../utils\").toError,util=require(\"util\"),DEFAULT_GRIDFS_BUCKET_OPTIONS={bucketName:\"fs\",chunkSizeBytes:261120};module.exports=GridFSBucket;function GridFSBucket(e,t){if(Emitter.apply(this),this.setMaxListeners(0),t&&\"object\"==typeof t){t=shallowClone(t);for(var i=Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS),r=0;r<i.length;++r)t[i[r]]||(t[i[r]]=DEFAULT_GRIDFS_BUCKET_OPTIONS[i[r]])}else t=DEFAULT_GRIDFS_BUCKET_OPTIONS;this.s={db:e,options:t,_chunksCollection:e.collection(t.bucketName+\".chunks\"),_filesCollection:e.collection(t.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:e.s.promiseLibrary||(\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise)}}util.inherits(GridFSBucket,Emitter),GridFSBucket.prototype.openUploadStream=function(e,t){return(t=t?shallowClone(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new GridFSBucketWriteStream(this,e,t)},GridFSBucket.prototype.openUploadStreamWithId=function(e,t,i){return(i=i?shallowClone(i):{}).chunkSizeBytes||(i.chunkSizeBytes=this.s.options.chunkSizeBytes),i.id=e,new GridFSBucketWriteStream(this,t,i)},GridFSBucket.prototype.openDownloadStream=function(e,t){var i={_id:e};return t={start:t&&t.start,end:t&&t.end},new GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,i,t)},GridFSBucket.prototype.delete=function(e,t){if(\"function\"==typeof t)return _delete(this,e,t);var i=this;return new this.s.promiseLibrary(function(t,r){_delete(i,e,function(e,i){e?r(e):t(i)})})};function _delete(e,t,i){e.s._filesCollection.deleteOne({_id:t},function(r,n){if(r)return i(r);e.s._chunksCollection.deleteMany({files_id:t},function(e){if(e)return i(e);if(!n.result.n){var r=\"FileNotFound: no file with id \"+t+\" found\";return i(new Error(r))}i()})})}GridFSBucket.prototype.find=function(e,t){e=e||{},t=t||{};var i=this.s._filesCollection.find(e);return null!=t.batchSize&&i.batchSize(t.batchSize),null!=t.limit&&i.limit(t.limit),null!=t.maxTimeMS&&i.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&i.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&i.skip(t.skip),null!=t.sort&&i.sort(t.sort),i},GridFSBucket.prototype.openDownloadStreamByName=function(e,t){var i={uploadDate:-1},r=null;t&&null!=t.revision&&(t.revision>=0?(i={uploadDate:1},r=t.revision):r=-t.revision-1);var n={filename:e};return t={sort:i,skip:r,start:t&&t.start,end:t&&t.end},new GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,n,t)},GridFSBucket.prototype.rename=function(e,t,i){if(\"function\"==typeof i)return _rename(this,e,t,i);var r=this;return new this.s.promiseLibrary(function(i,n){_rename(r,e,t,function(e,t){e?n(e):i(t)})})};function _rename(e,t,i,r){var n={_id:t},o={$set:{filename:i}};e.s._filesCollection.updateOne(n,o,function(e,i){return e?r(e):i.result.n?void r():r(toError(\"File with id \"+t+\" not found\"))})}GridFSBucket.prototype.drop=function(e){if(\"function\"==typeof e)return _drop(this,e);var t=this;return new this.s.promiseLibrary(function(e,i){_drop(t,function(t,r){t?i(t):e(r)})})};function _drop(e,t){e.s._filesCollection.drop(function(i){if(i)return t(i);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}","node_modules/bson/index.js":"var BSON=require(\"./lib/bson/bson\"),Binary=require(\"./lib/bson/binary\"),Code=require(\"./lib/bson/code\"),DBRef=require(\"./lib/bson/db_ref\"),Decimal128=require(\"./lib/bson/decimal128\"),Double=require(\"./lib/bson/double\"),Int32=require(\"./lib/bson/int_32\"),Long=require(\"./lib/bson/long\"),Map=require(\"./lib/bson/map\"),MaxKey=require(\"./lib/bson/max_key\"),MinKey=require(\"./lib/bson/min_key\"),ObjectId=require(\"./lib/bson/objectid\"),BSONRegExp=require(\"./lib/bson/regexp\"),Symbol=require(\"./lib/bson/symbol\"),Timestamp=require(\"./lib/bson/timestamp\");BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992,BSON.Binary=Binary,BSON.Code=Code,BSON.DBRef=DBRef,BSON.Decimal128=Decimal128,BSON.Double=Double,BSON.Int32=Int32,BSON.Long=Long,BSON.Map=Map,BSON.MaxKey=MaxKey,BSON.MinKey=MinKey,BSON.ObjectId=ObjectId,BSON.ObjectID=ObjectId,BSON.BSONRegExp=BSONRegExp,BSON.Symbol=Symbol,BSON.Timestamp=Timestamp,module.exports=BSON;","node_modules/require_optional/index.js":"var path=require(\"path\"),fs=require(\"fs\"),f=require(\"util\").format,resolveFrom=require(\"resolve-from\"),semver=require(\"semver\"),exists=fs.existsSync||path.existsSync,find_package_json=function(e){for(var r=!1;!r;)if(exists(e+\"/package.json\"))r=e;else{if(\"/\"===e)return!1;e=path.dirname(e)}return e},find_package_json_with_name=function(e){for(var r=module,n=!1;r;){i=r.filename;var i=find_package_json(i);if(i){var t=JSON.parse(fs.readFileSync(f(\"%s/package.json\",i))),a=e.split(/\\//);if(t.peerOptionalDependencies&&(!t.peerOptionalDependencies||t.peerOptionalDependencies[a[0]])){n=!0;break}r=r.parent}else r=r.parent}if(!n)throw new Error(f(\"no optional dependency [%s] defined in peerOptionalDependencies in any package.json\",a[0]));return{object:t,parts:a}},require_optional=function(e,r){(r=r||{}).strict=\"boolean\"!=typeof r.strict||r.strict;var n=find_package_json_with_name(e),i=n.object,t=n.parts,a=i.peerOptionalDependencies[t[0]],o=void 0,s=e;try{o=require(s)}catch(r){try{if(null==(s=resolveFrom(process.cwd(),e)))return;o=require(s)}catch(e){if(\"MODULE_NOT_FOUND\"===e.code)return}}var p=find_package_json(require.resolve(s));if(!p)throw new Error(\"package.json can not be located\");var c=JSON.parse(fs.readFileSync(f(\"%s/package.json\",p))).version;if(0==semver.satisfies(c,a)&&r.strict){var d=new Error(f(\"optional dependency [%s] found but version [%s] did not satisfy constraint [%s]\",t[0],c,a));throw d.code=\"OPTIONAL_MODULE_NOT_FOUND\",d}return o};require_optional.exists=function(e){try{return void 0!==require_optional(e)}catch(e){return!1}},module.exports=require_optional;","node_modules/mongodb-core/lib/error.js":"\"use strict\";function MongoError(r){this.name=\"MongoError\",this.message=r,Error.captureStackTrace(this,MongoError)}MongoError.create=function(r){var o=null;if(r instanceof Error)(o=new MongoError(r.message)).stack=r.stack;else if(\"string\"==typeof r)o=new MongoError(r);else{o=new MongoError(r.message||r.errmsg||r.$err||\"n/a\");for(var e in r)o[e]=r[e]}return o},MongoError.prototype=new Error,module.exports=MongoError;","node_modules/mongodb-core/lib/connection/connection.js":"\"use strict\";var inherits=require(\"util\").inherits,EventEmitter=require(\"events\").EventEmitter,net=require(\"net\"),tls=require(\"tls\"),crypto=require(\"crypto\"),f=require(\"util\").format,debugOptions=require(\"./utils\").debugOptions,Response=require(\"./commands\").Response,MongoError=require(\"../error\"),Logger=require(\"./logger\"),_id=0,debugFields=[\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"checkServerIdentity\"],connectionAccounting=!1,connections={},Connection=function(e,t){if(EventEmitter.call(this),this.options=t||{},this.id=_id++,this.logger=Logger(\"Connection\",t),!t.bson)throw new Error(\"must pass in valid bson parser\");this.bson=t.bson,this.tag=t.tag,this.messageHandler=e,this.maxBsonMessageSize=t.maxBsonMessageSize||67108864,this.logger.isDebug()&&this.logger.debug(f(\"creating connection %s with options [%s]\",this.id,JSON.stringify(debugOptions(debugFields,t)))),this.port=t.port||27017,this.host=t.host||\"localhost\",this.family=\"number\"==typeof t.family?t.family:4,this.keepAlive=\"boolean\"!=typeof t.keepAlive||t.keepAlive,this.keepAliveInitialDelay=\"number\"==typeof t.keepAliveInitialDelay?t.keepAliveInitialDelay:3e5,this.noDelay=\"boolean\"!=typeof t.noDelay||t.noDelay,this.connectionTimeout=\"number\"==typeof t.connectionTimeout?t.connectionTimeout:3e4,this.socketTimeout=\"number\"==typeof t.socketTimeout?t.socketTimeout:36e4,this.keepAliveInitialDelay>this.socketTimeout&&(this.keepAliveInitialDelay=Math.round(this.socketTimeout/2)),this.destroyed=!1,this.domainSocket=-1!=this.host.indexOf(\"/\"),this.singleBufferSerializtion=\"boolean\"!=typeof t.singleBufferSerializtion||t.singleBufferSerializtion,this.serializationFunction=this.singleBufferSerializtion?\"toBinUnified\":\"toBin\",this.ca=t.ca||null,this.crl=t.crl||null,this.cert=t.cert||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.ssl=\"boolean\"==typeof t.ssl&&t.ssl,this.rejectUnauthorized=\"boolean\"!=typeof t.rejectUnauthorized||t.rejectUnauthorized,this.checkServerIdentity=\"boolean\"!=typeof t.checkServerIdentity&&\"function\"!=typeof t.checkServerIdentity||t.checkServerIdentity,this.ssl||(this.rejectUnauthorized=!1),this.responseOptions={promoteLongs:\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,promoteValues:\"boolean\"!=typeof t.promoteValues||t.promoteValues,promoteBuffers:\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers},this.flushing=!1,this.queue=[],this.connection=null,this.writeStream=null;var n=crypto.createHash(\"sha1\");n.update(f(\"%s:%s\",this.host,this.port)),this.hashedName=n.digest(\"hex\"),this.workItems=[]};inherits(Connection,EventEmitter),Connection.prototype.setSocketTimeout=function(e){this.connection&&this.connection.setTimeout(e)},Connection.prototype.resetSocketTimeout=function(){this.connection&&this.connection.setTimeout(this.socketTimeout)},Connection.enableConnectionAccounting=function(){connectionAccounting=!0,connections={}},Connection.disableConnectionAccounting=function(){connectionAccounting=!1},Connection.connections=function(){return connections};function deleteConnection(e){delete connections[e]}function addConnection(e,t){connections[e]=t}var errorHandler=function(e){return function(t){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s for [%s:%s] errored out with [%s]\",e.id,e.host,e.port,JSON.stringify(t))),e.listeners(\"error\").length>0&&e.emit(\"error\",MongoError.create(t),e)}},timeoutHandler=function(e){return function(){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s for [%s:%s] timed out\",e.id,e.host,e.port)),e.emit(\"timeout\",MongoError.create(f(\"connection %s to %s:%s timed out\",e.id,e.host,e.port)),e)}},closeHandler=function(e){return function(t){connectionAccounting&&deleteConnection(e.id),e.logger.isDebug()&&e.logger.debug(f(\"connection %s with for [%s:%s] closed\",e.id,e.host,e.port)),t||e.emit(\"close\",MongoError.create(f(\"connection %s to %s:%s closed\",e.id,e.host,e.port)),e)}},dataHandler=function(e){return function(t){for(;t.length>0;)if(e.bytesRead>0&&e.sizeOfMessage>0){var n=e.sizeOfMessage-e.bytesRead;if(n>t.length)t.copy(e.buffer,e.bytesRead),e.bytesRead=e.bytesRead+t.length,t=new Buffer(0);else{t.copy(e.buffer,e.bytesRead,0,n),t=t.slice(n);try{var o=e.buffer;e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,e.messageHandler(new Response(e.bson,o,e.responseOptions),e)}catch(t){var i={err:\"socketHandler\",trace:t,bin:e.buffer,parseState:{sizeOfMessage:e.sizeOfMessage,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}};e.emit(\"parseError\",i,e)}}}else if(null!=e.stubBuffer&&e.stubBuffer.length>0)if(e.stubBuffer.length+t.length>4){var s=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(s,0),t.copy(s,e.stubBuffer.length),t=s,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null}else{var r=new Buffer(e.stubBuffer.length+t.length);e.stubBuffer.copy(r,0),t.copy(r,e.stubBuffer.length),t=new Buffer(0)}else if(t.length>4){var c=t[0]|t[1]<<8|t[2]<<16|t[3]<<24;if(c<0||c>e.maxBsonMessageSize)return i={err:\"socketHandler\",trace:\"\",bin:e.buffer,parseState:{sizeOfMessage:c,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}},void e.emit(\"parseError\",i,e);if(c>4&&c<e.maxBsonMessageSize&&c>t.length)e.buffer=new Buffer(c),t.copy(e.buffer,0),e.bytesRead=t.length,e.sizeOfMessage=c,e.stubBuffer=null,t=new Buffer(0);else if(c>4&&c<e.maxBsonMessageSize&&c==t.length)try{o=t,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0),e.messageHandler(new Response(e.bson,o,e.responseOptions),e)}catch(t){e.emit(\"parseError\",t,e)}else c<=4||c>e.maxBsonMessageSize?(i={err:\"socketHandler\",trace:null,bin:t,parseState:{sizeOfMessage:c,bytesRead:0,buffer:null,stubBuffer:null}},e.emit(\"parseError\",i,e),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=new Buffer(0)):(o=t.slice(0,c),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=t.slice(c),e.messageHandler(new Response(e.bson,o,e.responseOptions),e))}else e.stubBuffer=new Buffer(t.length),t.copy(e.stubBuffer,0),t=new Buffer(0)}},legalSslSocketOptions=[\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"NPNProtocols\",\"ALPNProtocols\",\"servername\",\"secureProtocol\",\"secureContext\",\"session\",\"minDHSize\"];function merge(e,t){for(var n in t)null!=t[n]&&-1!=legalSslSocketOptions.indexOf(n)&&(e[n]=t[n])}Connection.prototype.connect=function(e){var t=this;e=e||{},connectionAccounting&&addConnection(this.id,this),\"boolean\"==typeof e.promoteLongs&&(t.responseOptions.promoteLongs=e.promoteLongs,t.responseOptions.promoteValues=e.promoteValues,t.responseOptions.promoteBuffers=e.promoteBuffers);var n=t.domainSocket?{path:t.host}:{port:t.port,host:t.host,family:t.family};if(t.connection=net.createConnection(n),t.connection.setKeepAlive(t.keepAlive,t.keepAliveInitialDelay),t.connection.setTimeout(t.connectionTimeout),t.connection.setNoDelay(t.noDelay),t.ssl){var o={socket:t.connection,rejectUnauthorized:t.rejectUnauthorized};merge(o,this.options),merge(o,e),t.ca&&(o.ca=t.ca),t.crl&&(o.crl=t.crl),t.cert&&(o.cert=t.cert),t.key&&(o.key=t.key),t.passphrase&&(o.passphrase=t.passphrase),0==t.checkServerIdentity?o.checkServerIdentity=function(){}:\"function\"==typeof t.checkServerIdentity&&(o.checkServerIdentity=t.checkServerIdentity),null==o.servername&&(o.servername=t.host),t.connection=tls.connect(t.port,t.host,o,function(){if(t.connection.authorizationError&&t.rejectUnauthorized)return t.emit(\"error\",t.connection.authorizationError,t,{ssl:!0});t.connection.setTimeout(t.socketTimeout),t.emit(\"connect\",t)}),t.connection.setTimeout(t.connectionTimeout)}else t.connection.on(\"connect\",function(){t.connection.setTimeout(t.socketTimeout),t.emit(\"connect\",t)});t.connection.once(\"error\",errorHandler(t)),t.connection.once(\"timeout\",timeoutHandler(t)),t.connection.once(\"close\",closeHandler(t)),t.connection.on(\"data\",dataHandler(t))},Connection.prototype.unref=function(){if(this.connection)this.connection.unref();else{var e=this;this.once(\"connect\",function(){e.connection.unref()})}},Connection.prototype.destroy=function(){if(connectionAccounting&&deleteConnection(this.id),this.connection){try{this.connection.end()}catch(e){}this.connection.destroy()}this.destroyed=!0},Connection.prototype.write=function(e){var t;if(this.logger.isDebug())if(Array.isArray(e))for(t=0;t<e.length;t++)this.logger.debug(f(\"writing buffer [%s] to %s:%s\",e[t].toString(\"hex\"),this.host,this.port));else this.logger.debug(f(\"writing buffer [%s] to %s:%s\",e.toString(\"hex\"),this.host,this.port));if(!1===this.connection.destroyed){if(!Array.isArray(e))return this.connection.write(e,\"binary\"),!0;for(t=0;t<e.length;t++)this.connection.write(e[t],\"binary\");return!0}return!1},Connection.prototype.toString=function(){return\"\"+this.id},Connection.prototype.toJSON=function(){return{id:this.id,host:this.host,port:this.port}},Connection.prototype.isConnected=function(){return!this.destroyed&&(!this.connection.destroyed&&this.connection.writable)},module.exports=Connection;","node_modules/mongodb-core/lib/topologies/server.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,ReadPreference=require(\"./read_preference\"),Logger=require(\"../connection/logger\"),debugOptions=require(\"../connection/utils\").debugOptions,retrieveBSON=require(\"../connection/utils\").retrieveBSON,Pool=require(\"../connection/pool\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),PreTwoSixWireProtocolSupport=require(\"../wireprotocol/2_4_support\"),TwoSixWireProtocolSupport=require(\"../wireprotocol/2_6_support\"),ThreeTwoWireProtocolSupport=require(\"../wireprotocol/3_2_support\"),BasicCursor=require(\"../cursor\"),sdam=require(\"./shared\"),assign=require(\"../utils\").assign,createClientInfo=require(\"./shared\").createClientInfo,debugFields=[\"reconnect\",\"reconnectTries\",\"reconnectInterval\",\"emitError\",\"cursorFactory\",\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"checkServerIdentity\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"key\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"servername\"],id=0,serverAccounting=!1,servers={},BSON=retrieveBSON(),Server=function(e){e=e||{},EventEmitter.call(this),this.id=id++,this.s={options:e,logger:Logger(\"Server\",e),Cursor:e.cursorFactory||BasicCursor,bson:e.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),pool:null,disconnectHandler:e.disconnectHandler,monitoring:\"boolean\"!=typeof e.monitoring||e.monitoring,inTopology:\"boolean\"==typeof e.inTopology&&e.inTopology,monitoringInterval:\"number\"==typeof e.monitoringInterval?e.monitoringInterval:5e3,topologyId:-1},this.ismaster=null,this.lastIsMasterMS=-1,this.monitoringProcessId=null,this.initalConnect=!0,this.wireProtocolHandler=new PreTwoSixWireProtocolSupport,this._type=\"server\",this.clientInfo=createClientInfo(e),this.lastUpdateTime=0,this.lastWriteDate=0,this.staleness=0};inherits(Server,EventEmitter),Object.defineProperty(Server.prototype,\"type\",{enumerable:!0,get:function(){return this._type}}),Object.defineProperty(Server.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}}),Server.enableServerAccounting=function(){serverAccounting=!0,servers={}},Server.disableServerAccounting=function(){serverAccounting=!1},Server.servers=function(){return servers},Object.defineProperty(Server.prototype,\"name\",{enumerable:!0,get:function(){return this.s.options.host+\":\"+this.s.options.port}});function configureWireProtocolHandler(e,o){return o.maxWireVersion>=4?new ThreeTwoWireProtocolSupport(new TwoSixWireProtocolSupport):o.maxWireVersion>=2?new TwoSixWireProtocolSupport:new PreTwoSixWireProtocolSupport}function disconnectHandler(e,o,r,t,s,n){return e.s.pool.isConnected()||!e.s.options.reconnect||null==e.s.disconnectHandler||s.monitoring?e.s.pool.isConnected()?void 0:(n(MongoError.create(f(\"no connection available to server %s\",e.name))),!0):(e.s.disconnectHandler.add(o,r,t,s,n),!0)}function monitoringProcess(e){return function(){if(!e.s.pool.isDestroyed()){e.emit(\"monitoring\",e);var o=new Query(e.s.bson,\"admin.$cmd\",{ismaster:!0},{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),r=(new Date).getTime();e.s.pool.write(o,{socketTimeout:\"number\"!=typeof e.s.options.connectionTimeout?2e3:e.s.options.connectionTimeout,monitoring:!0},function(o,t){e.lastIsMasterMS=(new Date).getTime()-r,e.s.pool.isDestroyed()||(t&&(e.ismaster=t.result),e.monitoringProcessId=setTimeout(monitoringProcess(e),e.s.monitoringInterval))})}}}var eventHandler=function(e,o){return function(r){if(e.s.logger.isInfo()){var t=r instanceof MongoError?JSON.stringify(r):{};e.s.logger.info(f(\"server %s fired event %s out with message %s\",e.name,o,t))}if(\"connect\"==o){var s={numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0},n=new Query(e.s.bson,\"admin.$cmd\",{ismaster:!0,client:e.clientInfo},s),i=(new Date).getTime();e.s.pool.write(n,{socketTimeout:e.s.options.connectionTimeout||2e3},function(o,r){if(e.lastIsMasterMS=(new Date).getTime()-i,o)return e.destroy(),void(e.listeners(\"error\").length>0&&e.emit(\"error\",o));e.initalConnect=!1,e.ismaster=r.result,\"isdbgrid\"==e.ismaster.msg&&(e._type=\"mongos\"),e.wireProtocolHandler=configureWireProtocolHandler(e,e.ismaster),e.s.monitoring&&(e.monitoringProcessId=setTimeout(monitoringProcess(e),e.s.monitoringInterval)),sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}),e.s.inTopology||sdam.emitTopologyDescriptionChanged(e,{topologyType:\"Single\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}]}),e.s.logger.isInfo()&&e.s.logger.info(f(\"server %s connected with ismaster [%s]\",e.name,JSON.stringify(e.ismaster))),e.emit(\"connect\",e)})}else{if(serverAccounting&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\",\"reconnectFailed\"].indexOf(o)&&(e.s.inTopology||e.emit(\"topologyOpening\",{topologyId:e.id}),delete servers[e.id]),\"close\"===o&&sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),\"reconnectFailed\"==o)return e.emit(\"reconnectFailed\",r),void(e.listeners(\"error\").length>0&&e.emit(\"error\",r));if(\"disconnected\"==e.s.pool.state&&e.initalConnect&&-1!=[\"close\",\"timeout\",\"error\",\"parseError\"].indexOf(o))return e.initalConnect=!1,e.emit(\"error\",new MongoError(f(\"failed to connect to server [%s] on first connect [%s]\",e.name,r)));if(\"reconnect\"==o)return sdam.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:sdam.getTopologyType(e)}),e.emit(o,e);e.emit(o,r)}}};Server.prototype.connect=function(e){if(e=e||{},serverAccounting&&(servers[this.id]=this),this.s.pool&&!this.s.pool.isDisconnected()&&!this.s.pool.isDestroyed())throw MongoError.create(f(\"server instance in invalid state %s\",this.s.pool.state));this.s.pool=new Pool(assign(this.s.options,e,{bson:this.s.bson})),this.s.pool.on(\"close\",eventHandler(this,\"close\")),this.s.pool.on(\"error\",eventHandler(this,\"error\")),this.s.pool.on(\"timeout\",eventHandler(this,\"timeout\")),this.s.pool.on(\"parseError\",eventHandler(this,\"parseError\")),this.s.pool.on(\"connect\",eventHandler(this,\"connect\")),this.s.pool.on(\"reconnect\",eventHandler(this,\"reconnect\")),this.s.pool.on(\"reconnectFailed\",eventHandler(this,\"reconnectFailed\")),this.s.inTopology||this.emit(\"topologyOpening\",{topologyId:this.id}),this.emit(\"serverOpening\",{topologyId:-1!=this.s.topologyId?this.s.topologyId:this.id,address:this.name}),e.auth?this.s.pool.connect.apply(this.s.pool,e.auth):this.s.pool.connect()},Server.prototype.getDescription=function(){var e=this.ismaster||{},o={type:sdam.getTopologyType(this),address:this.name};return e.hosts&&(o.hosts=e.hosts),e.arbiters&&(o.arbiters=e.arbiters),e.passives&&(o.passives=e.passives),e.setName&&(o.setName=e.setName),o},Server.prototype.lastIsMaster=function(){return this.ismaster},Server.prototype.unref=function(){this.s.pool.unref()},Server.prototype.isConnected=function(){return!!this.s.pool&&this.s.pool.isConnected()},Server.prototype.isDestroyed=function(){return!!this.s.pool&&this.s.pool.isDestroyed()};function basicWriteValidations(e){return e.s.pool?e.s.pool.isDestroyed()?MongoError.create(\"server instance pool was destroyed\"):void 0:MongoError.create(\"server instance is not connected\")}function basicReadValidations(e,o){if(basicWriteValidations(e,o),o.readPreference&&!(o.readPreference instanceof ReadPreference))throw new Error(\"readPreference must be an instance of ReadPreference\")}Server.prototype.command=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicReadValidations(this,r);if(s)return t(s);if(r=assign({},r,{wireProtocolCommand:!1}),this.s.logger.isDebug()&&this.s.logger.debug(f(\"executing command [%s] against %s\",JSON.stringify({ns:e,cmd:o,options:debugOptions(debugFields,r)}),this.name)),!disconnectHandler(this,\"command\",e,o,r,t)){if(this.ismaster&&this.ismaster.maxWireVersion<5&&o.collation)return t(new MongoError(f(\"server %s does not support collation\",this.name)));\"boolean\"==typeof r.checkKeys&&r.checkKeys,\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined;var n=r.topology||{},i=this.wireProtocolHandler.command(this.s.bson,e,o,{},n,r);i.slaveOk=!!r.readPreference&&r.readPreference.slaveOk();var a={raw:\"boolean\"==typeof r.raw&&r.raw,promoteLongs:\"boolean\"!=typeof r.promoteLongs||r.promoteLongs,promoteValues:\"boolean\"!=typeof r.promoteValues||r.promoteValues,promoteBuffers:\"boolean\"==typeof r.promoteBuffers&&r.promoteBuffers,command:!0,monitoring:\"boolean\"==typeof r.monitoring&&r.monitoring,fullResult:\"boolean\"==typeof r.fullResult&&r.fullResult,requestId:i.requestId,socketTimeout:\"number\"==typeof r.socketTimeout?r.socketTimeout:null};this.s.pool.write(i,a,t)}},Server.prototype.insert=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"insert\",e,o,r,t))return o=Array.isArray(o)?o:[o],this.wireProtocolHandler.insert(this.s.pool,this.ismaster,e,this.s.bson,o,r,t)},Server.prototype.update=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"update\",e,o,r,t))return this.ismaster&&this.ismaster.maxWireVersion<5&&r.collation?t(new MongoError(f(\"server %s does not support collation\",this.name))):(o=Array.isArray(o)?o:[o],this.wireProtocolHandler.update(this.s.pool,this.ismaster,e,this.s.bson,o,r,t))},Server.prototype.remove=function(e,o,r,t){\"function\"==typeof r&&(t=r,r={},r=r||{});var s=basicWriteValidations(this,r);if(s)return t(s);if(!disconnectHandler(this,\"remove\",e,o,r,t))return this.ismaster&&this.ismaster.maxWireVersion<5&&r.collation?t(new MongoError(f(\"server %s does not support collation\",this.name))):(o=Array.isArray(o)?o:[o],this.wireProtocolHandler.remove(this.s.pool,this.ismaster,e,this.s.bson,o,r,t))},Server.prototype.cursor=function(e,o,r){var t=this.s;return new((r=r||{}).cursorFactory||t.Cursor)(t.bson,e,o,r,this,t.options)},Server.prototype.logout=function(e,o){this.s.pool.logout(e,o)},Server.prototype.auth=function(e,o){\"default\"==e&&this.ismaster&&this.ismaster.maxWireVersion>=3?e=\"scram-sha-1\":\"default\"==e&&(e=\"mongocr\");var r=Array.prototype.slice.call(arguments,0);r[0]=e;var t=r[r.length-1];if(!disconnectHandler(this,\"auth\",o,r,{},t))return this.lastIsMaster()&&this.lastIsMaster().arbiterOnly?t(null,!0):void this.s.pool.auth.apply(this.s.pool,r)},Server.prototype.equals=function(e){return\"string\"==typeof e?this.name.toLowerCase()==e.toLowerCase():!!e.name&&this.name.toLowerCase()==e.name.toLowerCase()},Server.prototype.connections=function(){return this.s.pool.allConnections()},Server.prototype.getServer=function(){return this},Server.prototype.getConnection=function(){return this.s.pool.get()};var listeners=[\"close\",\"error\",\"timeout\",\"parseError\",\"connect\"];Server.prototype.destroy=function(e){e=e||{};var o=this;serverAccounting&&delete servers[this.id],this.monitoringProcessId&&clearTimeout(this.monitoringProcessId),o.s.pool&&(e.emitClose&&o.emit(\"close\",o),e.emitDestroy&&o.emit(\"destroy\",o),listeners.forEach(function(e){o.s.pool.removeAllListeners(e)}),o.listeners(\"serverClosed\").length>0&&o.emit(\"serverClosed\",{topologyId:-1!=o.s.topologyId?o.s.topologyId:o.id,address:o.name}),o.listeners(\"topologyClosed\").length>0&&!o.s.inTopology&&o.emit(\"topologyClosed\",{topologyId:o.id}),o.s.logger.isDebug()&&o.s.logger.debug(f(\"destroy called on server %s\",o.name)),this.s.pool.destroy(e.force))},module.exports=Server;","node_modules/mongodb-core/lib/topologies/replset.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,ReadPreference=require(\"./read_preference\"),BasicCursor=require(\"../cursor\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,Logger=require(\"../connection/logger\"),MongoError=require(\"../error\"),Server=require(\"./server\"),ReplSetState=require(\"./replset_state\"),assign=require(\"../utils\").assign,clone=require(\"./shared\").clone,Timeout=require(\"./shared\").Timeout,Interval=require(\"./shared\").Interval,createClientInfo=require(\"./shared\").createClientInfo,MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),BSON=retrieveBSON(),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",UNREFERENCED=\"unreferenced\",DESTROYED=\"destroyed\";function stateTransition(e,t){var r={disconnected:[CONNECTING,DESTROYED,DISCONNECTED],connecting:[CONNECTING,DESTROYED,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYED,UNREFERENCED],unreferenced:[UNREFERENCED,DESTROYED],destroyed:[DESTROYED]}[e.state];r&&-1!=r.indexOf(t)?e.state=t:e.s.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,r))}var id=1,handlers=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],ReplSet=function(e,t){var r=this;if(t=t||{},!Array.isArray(e))throw new MongoError(\"seedlist must be an array\");if(0==e.length)throw new MongoError(\"seedlist must contain at least one entry\");e.forEach(function(e){if(\"string\"!=typeof e.host||\"number\"!=typeof e.port)throw new MongoError(\"seedlist entry must contain a host and port\")}),EventEmitter.call(this),this.id=id++;var n=t.localThresholdMS||15;t.acceptableLatency&&(n=t.acceptableLatency);var s=Logger(\"ReplSet\",t);this.s={options:assign({},t),bson:t.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),Cursor:t.cursorFactory||BasicCursor,logger:s,seedlist:e,replicaSetState:new ReplSetState({id:this.id,setName:t.setName,acceptableLatency:n,heartbeatFrequencyMS:t.haInterval?t.haInterval:1e4,logger:s}),connectingServers:[],haInterval:t.haInterval?t.haInterval:1e4,minHeartbeatFrequencyMS:500,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,clientInfo:createClientInfo(t),authenticationContexts:[]},this.s.replicaSetState.on(\"topologyDescriptionChanged\",function(e){r.emit(\"topologyDescriptionChanged\",e)}),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(f(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new MongoCR(this.s.bson),x509:new X509(this.s.bson),plain:new Plain(this.s.bson),gssapi:new GSSAPI(this.s.bson),sspi:new SSPI(this.s.bson),\"scram-sha-1\":new ScramSHA1(this.s.bson)};[\"joined\",\"left\"].forEach(function(e){r.s.replicaSetState.on(e,function(t,n){r.emit(e,t,n)})}),this.initialConnectState={connect:!1,fullsetup:!1,all:!1},this.state=DISCONNECTED,this.haTimeoutId=null,this.authenticating=!1,this.ismaster=null,this.intervalIds=[]};inherits(ReplSet,EventEmitter),Object.defineProperty(ReplSet.prototype,\"type\",{enumerable:!0,get:function(){return\"replset\"}}),Object.defineProperty(ReplSet.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}});function rexecuteOperations(e){e.s.replicaSetState.hasPrimaryAndSecondary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute():e.s.replicaSetState.hasPrimary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute({executePrimary:!0}):e.s.replicaSetState.hasSecondary()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute({executeSecondary:!0})}function connectNewServers(e,t,r){var n=t.length,s=null,i=function(e,t){return function(i){var o=this;if(n-=1,e.state==DESTROYED||e.state==UNREFERENCED)return this.destroy({force:!0});if(\"connect\"!=t||e.authenticating)\"connect\"==t&&e.authenticating?this.destroy({force:!0}):\"error\"==t&&(s=i);else{if(e.state==DESTROYED||e.state==UNREFERENCED)return o.destroy({force:!0});applyAuthenticationContexts(e,o,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return o.destroy({force:!0});if(e.s.replicaSetState.update(o)){o.lastIsMaster()&&o.lastIsMaster().ismaster&&(e.ismaster=o.lastIsMaster());for(var t=0;t<handlers.length;t++)o.removeAllListeners(handlers[t]);o.on(\"error\",handleEvent(e,\"error\")),o.on(\"close\",handleEvent(e,\"close\")),o.on(\"timeout\",handleEvent(e,\"timeout\")),o.on(\"parseError\",handleEvent(e,\"parseError\")),monitorServer(o.lastIsMaster().me,e,{}),rexecuteOperations(e)}else o.destroy({force:!0})})}rexecuteOperations(e),0==n&&r(s)}};if(0==n)return r();function o(t,r){setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){var r=new Server(assign({},e.s.options,{host:t.split(\":\")[0],port:parseInt(t.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(e.s.clientInfo)}));r.once(\"connect\",i(e,\"connect\")),r.once(\"close\",i(e,\"close\")),r.once(\"timeout\",i(e,\"timeout\")),r.once(\"error\",i(e,\"error\")),r.once(\"parseError\",i(e,\"parseError\")),r.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),r.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),r.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),r.connect(e.s.connectOptions)}},r)}for(var a=0;a<t.length;a++)o(t[a],a)}var pingServer=function(e,t,r){var n=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:t.name}),t.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(s,i){if(e.state==DESTROYED||e.state==UNREFERENCED)return t.destroy({force:!0}),r(s,i);var o=(new Date).getTime()-n,a=process.hrtime();t.lastUpdateTime=1e3*a[0]+Math.round(a[1]/1e3),s?(emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:o,failure:s,connectionId:t.name}),e.s.replicaSetState.remove(t)):(t.ismaster=i.result,t.ismaster.lastWrite&&t.ismaster.lastWrite.lastWriteDate&&(t.lastWriteDate=t.ismaster.lastWrite.lastWriteDate.getTime()),-1==t.lastIsMasterMS?t.lastIsMasterMS=o:t.lastIsMasterMS&&(t.lastIsMasterMS=.2*o+.8*t.lastIsMasterMS),e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:o,reply:i.result,connectionId:t.name})),e.s.replicaSetState.updateServerMaxStaleness(t,e.s.haInterval),r(s,i)})},monitorServer=function(e,t,r){if(!r.haInterval)for(var n=0;n<t.intervalIds.length;n++)if(t.intervalIds[n].__host===e)return;var s=r.haInterval?Timeout:Interval,i=r.haInterval?r.haInterval:t.s.haInterval,o=new s(function(){if(t.state!=DESTROYED&&t.state!=UNREFERENCED){var r=t.s.replicaSetState.get(e);return r?pingServer(t,r,function(e){t.state!=DESTROYED&&t.state!=UNREFERENCED?(t.intervalIds=t.intervalIds.filter(function(e){return e.isRunning()}),s===Timeout?t.state==CONNECTING&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=CONNECTED,process.nextTick(function(){t.emit(\"connect\",t)}),topologyMonitor(t,{})):t.state==DISCONNECTED&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=CONNECTED,rexecuteOperations(t),process.nextTick(function(){t.emit(\"reconnect\",t)})),t.initialConnectState.connect&&!t.initialConnectState.fullsetup&&t.s.replicaSetState.hasPrimaryAndSecondary()&&(t.initialConnectState.fullsetup=!0,t.initialConnectState.all=!0,process.nextTick(function(){t.emit(\"fullsetup\",t),t.emit(\"all\",t)}))):o.stop()}):void 0}o.stop()},i);o.start(),o.__host=e,t.intervalIds.push(o)};function topologyMonitor(e,t){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){t=t||{};var r=Object.keys(e.s.replicaSetState.set),n=t.haInterval?Timeout:Interval,s=t.haInterval?t.haInterval:e.s.haInterval;if(n===Timeout)return connectNewServers(e,e.s.replicaSetState.unknownServers,function(n){if(e.state!==DESTROYED&&e.state!==UNREFERENCED){if(!e.s.replicaSetState.hasPrimary()&&!e.s.options.secondaryOnlyConnectionAllowed)return n?e.emit(\"error\",n):(e.emit(\"error\",new MongoError(\"no primary found in replicaset\")),e.destroy({force:!0}));if(!e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)return n?e.emit(\"error\",n):(e.emit(\"error\",new MongoError(\"no secondary found in replicaset\")),e.destroy({force:!0}));for(var s=0;s<r.length;s++)monitorServer(r[s],e,t)}});for(var i=0;i<r.length;i++)monitorServer(r[i],e,t);var o=e.s.replicaSetState.hasPrimary()?s:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new Timeout(a(e),o).start())}function a(e){return function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&connectNewServers(e,e.s.replicaSetState.unknownServers,function(){var t=e.s.replicaSetState.hasPrimary()?s:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new Timeout(a(e),t).start())})}}}function addServerToList(e,t){for(var r=0;r<e.length;r++)if(e[r].name.toLowerCase()===t.name.toLowerCase())return!0;e.push(t)}function handleEvent(e,t){return function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.s.replicaSetState.remove(this),e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()||!e.s.options.secondaryOnlyConnectionAllowed?e.s.replicaSetState.hasPrimary()||stateTransition(e,DISCONNECTED):stateTransition(e,DISCONNECTED),addServerToList(e.s.connectingServers,this)))}}function applyAuthenticationContexts(e,t,r){if(0==e.s.authenticationContexts.length)return r();if(t.lastIsMaster()&&t.lastIsMaster().arbiterOnly)return r();function n(e,t,r){if(0==e.length)return r();var s=e.shift().slice(0);s.push(function(s){n(e,t,r)}),t.auth.apply(t,s)}n(e.s.authenticationContexts.slice(0),t,r)}function handleInitialConnectEvent(e,t){return function(){var r=this;if(e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleInitialConnectEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.state==DESTROYED||e.state==UNREFERENCED)return this.destroy({force:!0});\"connect\"==t?applyAuthenticationContexts(e,r,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return r.destroy({force:!0});var n=e.s.replicaSetState.update(r);if(1==n){r.lastIsMaster()&&r.lastIsMaster().ismaster&&(e.ismaster=r.lastIsMaster()),e.s.logger.isDebug()&&e.s.logger.debug(f(\"handleInitialConnectEvent %s from server %s in replset with id %s has state [%s]\",t,r.name,e.id,JSON.stringify(e.s.replicaSetState.set)));for(var s=0;s<handlers.length;s++)r.removeAllListeners(handlers[s]);r.on(\"error\",handleEvent(e,\"error\")),r.on(\"close\",handleEvent(e,\"close\")),r.on(\"timeout\",handleEvent(e,\"timeout\")),r.on(\"parseError\",handleEvent(e,\"parseError\")),(e.state===CONNECTING&&e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)&&(e.state=CONNECTED,e.initialConnectState.connect=!0,process.nextTick(function(){e.emit(\"connect\",e)}),topologyMonitor(e,{}))}else{if(n instanceof MongoError)return r.destroy({force:!0}),e.destroy({force:!0}),e.emit(\"error\",n);r.destroy({force:!0})}}):(e.emit(\"failed\",this),addServerToList(e.s.connectingServers,this),e.s.replicaSetState.remove(this)),e.initialConnectState.connect&&!e.initialConnectState.fullsetup&&e.s.replicaSetState.hasPrimaryAndSecondary()&&(e.initialConnectState.fullsetup=!0,e.initialConnectState.all=!0,process.nextTick(function(){e.emit(\"fullsetup\",e),e.emit(\"all\",e)}));for(var n=0;n<e.s.connectingServers.length;n++)e.s.connectingServers[n].equals(this)&&e.s.connectingServers.splice(n,1);0==e.s.connectingServers.length&&e.state==CONNECTING&&topologyMonitor(e,{haInterval:1})}}function connectServers(e,t){e.s.connectingServers=e.s.connectingServers.concat(t);var r=0;function n(t,r){setTimeout(function(){e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),t.once(\"close\",handleInitialConnectEvent(e,\"close\")),t.once(\"timeout\",handleInitialConnectEvent(e,\"timeout\")),t.once(\"parseError\",handleInitialConnectEvent(e,\"parseError\")),t.once(\"error\",handleInitialConnectEvent(e,\"error\")),t.once(\"connect\",handleInitialConnectEvent(e,\"connect\")),t.on(\"serverOpening\",function(t){e.emit(\"serverOpening\",t)}),t.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),t.on(\"serverClosed\",function(t){e.emit(\"serverClosed\",t)}),t.connect(e.s.connectOptions)},r)}for(;t.length>0;)n(t.shift(),r++)}function emitSDAMEvent(e,t,r){e.listeners(t).length>0&&e.emit(t,r)}ReplSet.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},stateTransition(this,CONNECTING);var r=this.s.seedlist.map(function(e){return new Server(assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(t.s.clientInfo)}))});if(this.s.options.socketTimeout>0&&this.s.options.socketTimeout<=this.s.options.haInterval)return t.emit(\"error\",new MongoError(f(\"haInterval [%s] MS must be set to less than socketTimeout [%s] MS\",this.s.options.haInterval,this.s.options.socketTimeout)));emitSDAMEvent(this,\"topologyOpening\",{topologyId:this.id}),connectServers(t,r)},ReplSet.prototype.destroy=function(e){e=e||{},stateTransition(this,DESTROYED),this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.replicaSetState.destroy(e),this.s.authenticationContexts=[],this.s.connectingServers.forEach(function(t){t.destroy(e)});for(var t=0;t<this.intervalIds.length;t++)this.intervalIds[t].stop(),this.intervalIds[t].stop();this.intervalIds=[],emitSDAMEvent(this,\"topologyClosed\",{topologyId:this.id})},ReplSet.prototype.unref=function(){stateTransition(this,UNREFERENCED),this.s.replicaSetState.allServers().forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},ReplSet.prototype.lastIsMaster=function(){return this.s.options.secondaryOnlyConnectionAllowed&&!this.s.replicaSetState.hasPrimary()&&this.s.replicaSetState.hasSecondary()?this.s.replicaSetState.secondaries[0].lastIsMaster():this.s.replicaSetState.primary?this.s.replicaSetState.primary.lastIsMaster():this.ismaster},ReplSet.prototype.connections=function(){for(var e=this.s.replicaSetState.allServers(),t=[],r=0;r<e.length;r++)t=t.concat(e[r].connections());return t},ReplSet.prototype.isConnected=function(e){return e=e||{},!this.authenticating&&(e.readPreference&&e.readPreference.equals(ReadPreference.secondary)?this.s.replicaSetState.hasSecondary():e.readPreference&&e.readPreference.equals(ReadPreference.primary)?this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(ReadPreference.primaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(ReadPreference.secondaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():!(!this.s.options.secondaryOnlyConnectionAllowed||!this.s.replicaSetState.hasSecondary())||this.s.replicaSetState.hasPrimary())},ReplSet.prototype.isDestroyed=function(){return this.state==DESTROYED},ReplSet.prototype.getServer=function(e){e=e||{};var t=this.s.replicaSetState.pickServer(e.readPreference);return this.s.debug&&this.emit(\"pickedServer\",e.readPreference,t),t},ReplSet.prototype.getConnection=function(e){var t=this.getServer(e);if(t)return t.getConnection()},ReplSet.prototype.getServers=function(){return this.s.replicaSetState.allServers()};var executeWriteOperation=function(e,t,r,n,s,i){if(\"function\"==typeof s&&(i=s,s={},s=s||{}),s=s||{},null==e.s.replicaSetState.primary)return i(new MongoError(\"no primary server found\"));e.s.replicaSetState.primary[t](r,n,s,i)};ReplSet.prototype.insert=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"insert\",e,t,r,n):this.s.disconnectHandler.add(\"insert\",e,t,r,n)},ReplSet.prototype.update=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"update\",e,t,r,n):this.s.disconnectHandler.add(\"update\",e,t,r,n)},ReplSet.prototype.remove=function(e,t,r,n){return\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED?n(new MongoError(f(\"topology was destroyed\"))):this.s.replicaSetState.hasPrimary()||null==this.s.disconnectHandler?void executeWriteOperation(this,\"remove\",e,t,r,n):this.s.disconnectHandler.add(\"remove\",e,t,r,n)},ReplSet.prototype.command=function(e,t,r,n){if(\"function\"==typeof r&&(n=r,r={},r=r||{}),this.state==DESTROYED)return n(new MongoError(f(\"topology was destroyed\")));var s=r.readPreference?r.readPreference:ReadPreference.primary;if(\"primary\"==s.preference&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);if(\"secondary\"==s.preference&&!this.s.replicaSetState.hasSecondary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);if(\"primary\"!=s.preference&&!this.s.replicaSetState.hasSecondary()&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,r,n);var i=this.s.replicaSetState.pickServer(s);return i instanceof Server?(this.s.debug&&this.emit(\"pickedServer\",ReadPreference.primary,i),null==i?n(new MongoError(f(\"no server found that matches the provided readPreference %s\",s))):void i.command(e,t,r,n)):n(i)},ReplSet.prototype.auth=function(e,t){var r=Array.prototype.slice.call(arguments,0).slice(0),n=this,s=Array.prototype.slice.call(arguments,2),i=s.pop(),o=0;if(null==this.authProviders[e]&&\"default\"!=e)return i(new MongoError(f(\"auth provider %s does not exist\",e)));if(this.authenticating)return i(new MongoError(\"authentication or logout allready in process\"));if(null!=n.s.disconnectHandler){if(!n.s.replicaSetState.hasPrimary()&&!n.s.options.secondaryOnlyConnectionAllowed)return n.s.disconnectHandler.add(\"auth\",t,r,{},i);if(!n.s.replicaSetState.hasSecondary()&&n.s.options.secondaryOnlyConnectionAllowed)return n.s.disconnectHandler.add(\"auth\",t,r,{},i)}this.authenticating=!0;var a=[],c=this.s.replicaSetState.allServers();0==c.length&&(this.authenticating=!1,i(null,!0));function l(r){var c=[e,t].concat(s.slice(0)).concat([function(e){if(u-=1,e&&a.push({name:r.name,err:e}),0==u){if(n.authenticating=!1,a.length)return n.s.authenticationContexts.splice(o,0),i(MongoError.create({message:\"authentication fail\",errors:a}),!1);i(null,n)}}]);r.lastIsMaster().arbiterOnly?c.pop()(null):r.auth.apply(r,c)}var u=c.length;for(o=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(s.slice(0)));c.length>0;)l(c.shift())},ReplSet.prototype.logout=function(e,t){var r=this;if(this.authenticating)throw new MongoError(\"authentication or logout allready in process\");this.authenticating=!0;for(var n=Object.keys(this.authProviders),s=0;s<n.length;s++)this.authProviders[n[s]].logout(e);r.s.authenticationContexts=r.s.authenticationContexts.filter(function(t){return t[1]!==e});var i=this.s.replicaSetState.allServers(),o=i.length;if(0==o)return t();var a=[];function c(t,r){t.logout(e,function(e){e&&a.push({name:t.name,err:e}),r()})}for(s=0;s<i.length;s++)c(i[s],function(){if(0==(o-=1)){if(r.authenticating=!1,a.length)return t(MongoError.create({message:f(\"logout failed against db %s\",e),errors:a}),!1);t()}})},ReplSet.prototype.cursor=function(e,t,r){return new((r=r||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,r,this,this.s.options)},module.exports=ReplSet;","node_modules/mongodb-core/lib/topologies/mongos.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,EventEmitter=require(\"events\").EventEmitter,BasicCursor=require(\"../cursor\"),Logger=require(\"../connection/logger\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,MongoError=require(\"../error\"),Server=require(\"./server\"),assign=require(\"../utils\").assign,clone=require(\"./shared\").clone,sdam=require(\"./shared\"),diff=require(\"./shared\").diff,cloneOptions=require(\"./shared\").cloneOptions,createClientInfo=require(\"./shared\").createClientInfo,BSON=retrieveBSON(),MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",UNREFERENCED=\"unreferenced\",DESTROYED=\"destroyed\";function stateTransition(e,t){var n={disconnected:[CONNECTING,DESTROYED,DISCONNECTED],connecting:[CONNECTING,DESTROYED,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYED,UNREFERENCED],unreferenced:[UNREFERENCED,DESTROYED],destroyed:[DESTROYED]}[e.state];n&&-1!=n.indexOf(t)?e.state=t:e.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var id=1,handlers=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],Mongos=function(e,t){t=t||{},this.id=id++,this.s={options:assign({},t),bson:t.bson||new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),Cursor:t.cursorFactory||BasicCursor,logger:Logger(\"Mongos\",t),seedlist:e,haInterval:t.haInterval?t.haInterval:1e4,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,localThresholdMS:t.localThresholdMS||15,clientInfo:createClientInfo(t),authenticationContexts:[]},this.s.options.clientInfo=createClientInfo(t),this.s.logger.isWarn()&&0!=this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(f(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||{mongocr:new MongoCR(this.s.bson),x509:new X509(this.s.bson),plain:new Plain(this.s.bson),gssapi:new GSSAPI(this.s.bson),sspi:new SSPI(this.s.bson),\"scram-sha-1\":new ScramSHA1(this.s.bson)},this.state=DISCONNECTED,this.connectingProxies=[],this.connectedProxies=[],this.disconnectedProxies=[],this.authenticating=!1,this.index=0,this.haTimeoutId=null,this.ismaster=null,this.topologyDescription={topologyType:\"Unknown\",servers:[]},EventEmitter.call(this)};inherits(Mongos,EventEmitter),Object.defineProperty(Mongos.prototype,\"type\",{enumerable:!0,get:function(){return\"mongos\"}}),Object.defineProperty(Mongos.prototype,\"parserType\",{enumerable:!0,get:function(){return BSON.native?\"c++\":\"js\"}});function emitSDAMEvent(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}Mongos.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},stateTransition(this,CONNECTING);var n=this.s.seedlist.map(function(e){return new Server(assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(t.s.clientInfo)}))});n.forEach(function(e){e.on(\"serverDescriptionChanged\",function(e){t.emit(\"serverDescriptionChanged\",e)})}),emitSDAMEvent(this,\"topologyOpening\",{topologyId:this.id}),connectProxies(t,n)};function handleEvent(e){return function(){e.state!=DESTROYED&&(moveServerFrom(e.connectedProxies,e.disconnectedProxies,this),emitTopologyDescriptionChanged(e),e.emit(\"left\",\"mongos\",this),e.emit(\"serverClosed\",{topologyId:e.id,address:this.name}))}}function handleInitialConnectEvent(e,t){return function(){var n=this;if(e.state==DESTROYED)return emitTopologyDescriptionChanged(e),moveServerFrom(e.connectingProxies,e.disconnectedProxies,this),this.destroy();if(\"connect\"==t?applyAuthenticationContexts(e,n,function(){if(e.ismaster=n.lastIsMaster(),\"isdbgrid\"==e.ismaster.msg){for(var t=0;t<e.connectedProxies.length;t++)if(e.connectedProxies[t].name==n.name)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,n),emitTopologyDescriptionChanged(e),n.destroy(),e.emit(\"failed\",n);for(t=0;t<handlers.length;t++)n.removeAllListeners(handlers[t]);n.on(\"error\",handleEvent(e,\"error\")),n.on(\"close\",handleEvent(e,\"close\")),n.on(\"timeout\",handleEvent(e,\"timeout\")),n.on(\"parseError\",handleEvent(e,\"parseError\")),moveServerFrom(e.connectingProxies,e.connectedProxies,n),e.emit(\"joined\",\"mongos\",n)}else{if(e.s.logger.isWarn()){var o=\"expected mongos proxy, but found replicaset member mongod for server %s\";e.ismaster.hosts||(o=\"expected mongos proxy, but found standalone mongod for server %s\"),e.s.logger.warn(f(o,n.name))}removeProxyFrom(e.connectingProxies,n),e.emit(\"left\",\"server\",n),e.emit(\"failed\",n)}}):(moveServerFrom(e.connectingProxies,e.disconnectedProxies,this),e.emit(\"left\",\"mongos\",this),e.emit(\"failed\",this)),emitTopologyDescriptionChanged(e),0==e.connectingProxies.length){if(e.connectedProxies.length>0)stateTransition(e,CONNECTED),e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e);else if(0==e.disconnectedProxies.length)return e.s.logger.isWarn()&&e.s.logger.warn(f(\"no mongos proxies found in seed list, did you mean to connect to a replicaset\")),e.emit(\"error\",new MongoError(\"no mongos proxies found in seed list\"));topologyMonitor(e,{firstConnect:!0})}}}function connectProxies(e,t){e.connectingProxies=e.connectingProxies.concat(t);var n=0;function o(t,n){setTimeout(function(){e.emit(\"serverOpening\",{topologyId:e.id,address:t.name}),emitTopologyDescriptionChanged(e),t.once(\"close\",handleInitialConnectEvent(e,\"close\")),t.once(\"timeout\",handleInitialConnectEvent(e,\"timeout\")),t.once(\"parseError\",handleInitialConnectEvent(e,\"parseError\")),t.once(\"error\",handleInitialConnectEvent(e,\"error\")),t.once(\"connect\",handleInitialConnectEvent(e,\"connect\")),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)o(t.shift(),n++)}function pickProxy(e){for(var t=e.connectedProxies.slice(0),n=Number.MAX_VALUE,o=0;o<t.length;o++)t[o].lastIsMasterMS<n&&(n=t[o].lastIsMasterMS);if(0==(t=t.filter(function(t){if(t.lastIsMasterMS<=n+e.s.localThresholdMS&&t.isConnected())return!0})).length)return e.connectedProxies[0];var r=t[e.index%t.length];return e.index=(e.index+1)%t.length,r}function moveServerFrom(e,t,n){for(var o=0;o<e.length;o++)e[o].name==n.name&&e.splice(o,1);for(o=0;o<t.length;o++)t[o].name==n.name&&t.splice(o,1);t.push(n)}function removeProxyFrom(e,t){for(var n=0;n<e.length;n++)e[n].name==t.name&&e.splice(n,1)}function reconnectProxies(e,t,n){var o=t.length,r=function(e,t){return function(){var r=this;if(o-=1,e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),this.destroy();\"connect\"!=t||e.authenticating?\"connect\"==t&&e.authenticating&&(moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),this.destroy()):applyAuthenticationContexts(e,r,function(){if(e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectingProxies,e.disconnectedProxies,r),r.destroy();for(var t=0;t<handlers.length;t++)r.removeAllListeners(handlers[t]);r.on(\"error\",handleEvent(e,\"error\")),r.on(\"close\",handleEvent(e,\"close\")),r.on(\"timeout\",handleEvent(e,\"timeout\")),r.on(\"parseError\",handleEvent(e,\"parseError\")),moveServerFrom(e.disconnectedProxies,e.connectedProxies,r),emitTopologyDescriptionChanged(e),e.emit(\"joined\",\"mongos\",r)}),0==o&&n()}};if(0==o)return n();function i(t,n){setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){var n=new Server(assign({},e.s.options,{host:t.name.split(\":\")[0],port:parseInt(t.name.split(\":\")[1],10)},{authProviders:e.authProviders,reconnect:!1,monitoring:!1,inTopology:!0},{clientInfo:clone(e.s.clientInfo)}));n.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),e.emit(\"serverOpening\",{topologyId:-1!=n.s.topologyId?n.s.topologyId:e.id,address:n.name}),n.once(\"connect\",r(e,\"connect\")),n.once(\"close\",r(e,\"close\")),n.once(\"timeout\",r(e,\"timeout\")),n.once(\"error\",r(e,\"error\")),n.once(\"parseError\",r(e,\"parseError\")),n.connect(e.s.connectOptions)}},n)}for(var s=0;s<t.length;s++)i(t[s],s)}function applyAuthenticationContexts(e,t,n){if(0==e.s.authenticationContexts.length)return n();function o(e,t,n){if(0==e.length)return n();var r=e.shift().slice(0);r.push(function(r){o(e,t,n)}),t.auth.apply(t,r)}o(e.s.authenticationContexts.slice(0),t,n)}function topologyMonitor(e,t){t=t||{},e.haTimeoutId=setTimeout(function(){if(e.state!=DESTROYED&&e.state!=UNREFERENCED){e.isConnected()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute();var n=e.connectedProxies.slice(0),o=n.length;if(0==n.length)return e.listeners(\"close\").length>0&&e.state==CONNECTING?e.emit(\"error\",new MongoError(\"no mongos proxy available\")):e.emit(\"close\",e),reconnectProxies(e,e.disconnectedProxies,function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&(e.state==CONNECTING&&t.firstConnect?(e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e)):e.isConnected()?e.emit(\"reconnect\",e):!e.isConnected()&&e.listeners(\"close\").length>0&&e.emit(\"close\",e),topologyMonitor(e))});for(var r=0;r<n.length;r++)i(0,n[r],function(){if(0==(o-=1)){if(e.state==DESTROYED||e.state==UNREFERENCED)return;reconnectProxies(e,e.disconnectedProxies,function(){e.state!=DESTROYED&&e.state!=UNREFERENCED&&topologyMonitor(e)})}})}function i(t,n,o){var r=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:n.name}),n.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(t,i){if(e.state==DESTROYED||e.state==UNREFERENCED)return moveServerFrom(e.connectedProxies,e.disconnectedProxies,n),n.destroy(),o(t,i);var s=(new Date).getTime()-r;t?(emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:s,failure:t,connectionId:n.name}),moveServerFrom(e.connectedProxies,e.disconnectedProxies,n)):(n.ismaster=i.result,n.lastIsMasterMS=s,emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:s,reply:i.result,connectionId:n.name})),o(t,i)})}},e.s.haInterval)}Mongos.prototype.lastIsMaster=function(){return this.ismaster},Mongos.prototype.unref=function(){stateTransition(this,UNREFERENCED);this.connectedProxies.concat(this.connectingProxies).forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},Mongos.prototype.destroy=function(e){var t=this;stateTransition(this,DESTROYED);var n=this.connectedProxies.concat(this.connectingProxies);this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.authenticationContexts=[],n.forEach(function(n){t.emit(\"serverClosed\",{topologyId:t.id,address:n.name}),n.destroy(e),moveServerFrom(t.connectedProxies,t.disconnectedProxies,n)}),emitTopologyDescriptionChanged(t),emitSDAMEvent(this,\"topologyClosed\",{topologyId:this.id})},Mongos.prototype.isConnected=function(){return this.connectedProxies.length>0},Mongos.prototype.isDestroyed=function(){return this.state==DESTROYED};var executeWriteOperation=function(e,t,n,o,r,i){\"function\"==typeof r&&(i=r,r={},r=r||{}),r=r||{};var s=pickProxy(e);if(!s)return i(new MongoError(\"no mongos proxy available\"));s[t](n,o,r,i)};Mongos.prototype.insert=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"insert\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"insert\",e,t,n,o)},Mongos.prototype.update=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"update\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"update\",e,t,n,o)},Mongos.prototype.remove=function(e,t,n,o){return\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED?o(new MongoError(f(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void executeWriteOperation(this,\"remove\",e,t,n,o):o(new MongoError(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"remove\",e,t,n,o)},Mongos.prototype.command=function(e,t,n,o){if(\"function\"==typeof n&&(o=n,n={},n=n||{}),this.state==DESTROYED)return o(new MongoError(f(\"topology was destroyed\")));var r=pickProxy(this);if((null==r||!r.isConnected())&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,o);if(null==r)return o(new MongoError(\"no mongos proxy available\"));var i=cloneOptions(n);i.topology=this,r.command(e,t,i,o)},Mongos.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,this,this.s.options)},Mongos.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),o=this,r=Array.prototype.slice.call(arguments,2),i=r.pop(),s=0;if(null==this.authProviders[e]&&\"default\"!=e)return i(new MongoError(f(\"auth provider %s does not exist\",e)));if(this.authenticating)return i(new MongoError(\"authentication or logout allready in process\"));if(!o.isConnected()&&null!=o.s.disconnectHandler)return o.s.disconnectHandler.add(\"auth\",t,n,{},i);this.authenticating=!0;var c=[],a=this.connectedProxies.slice(0);0==a.length&&(this.authenticating=!1,i(null,!0));function l(n){var a=[e,t].concat(r.slice(0)).concat([function(e){if(d-=1,e&&c.push({name:n.name,err:e}),0==d){if(o.authenticating=!1,c.length)return o.s.authenticationContexts.splice(s,0),i(MongoError.create({message:\"authentication fail\",errors:c}),!1);i(null,o)}}]);n.lastIsMaster().arbiterOnly||n.auth.apply(n,a)}s=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(r.slice(0)));for(var d=a.length;a.length>0;)l(a.shift())},Mongos.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new MongoError(\"authentication or logout allready in process\");this.authenticating=!0;for(var o=Object.keys(this.authProviders),r=0;r<o.length;r++)this.authProviders[o[r]].logout(e);var i=this.connectedProxies.slice(0),s=i.length;if(0==s)return t();var c=[];function a(t,n){t.logout(e,function(e){e&&c.push({name:t.name,err:e}),n()})}for(r=0;r<i.length;r++)a(i[r],function(){if(0==(s-=1)){if(n.authenticating=!1,c.length)return t(MongoError.create({message:f(\"logout failed against db %s\",e),errors:c}),!1);t()}})},Mongos.prototype.getServer=function(){var e=pickProxy(this);return this.s.debug&&this.emit(\"pickedServer\",null,e),e},Mongos.prototype.getConnection=function(){var e=this.getServer();if(e)return e.getConnection()},Mongos.prototype.connections=function(){for(var e=[],t=0;t<this.connectedProxies.length;t++)e=e.concat(this.connectedProxies[t].connections());return e};function emitTopologyDescriptionChanged(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\";e.setName;e.connectedProxies.length>0&&(t=\"Sharded\");var n={topologyType:t,servers:[]},o=e.disconnectedProxies.concat(e.connectingProxies);n.servers=n.servers.concat(o.map(function(e){var t=e.getDescription();return t.type=\"Unknown\",t})),n.servers=n.servers.concat(e.connectedProxies.map(function(e){var t=e.getDescription();return t.type=\"Mongos\",t}));var r=diff(e.topologyDescription,n),i={topologyId:e.id,previousDescription:e.topologyDescription,newDescription:n,diff:r};r.servers.length>0&&e.emit(\"topologyDescriptionChanged\",i),e.topologyDescription=n}}module.exports=Mongos;","node_modules/mongodb-core/lib/connection/logger.js":"\"use strict\";var f=require(\"util\").format,MongoError=require(\"../error\"),classFilters={},filteredClasses={},level=null,pid=process.pid,currentLogger=null,Logger=function(e,s){if(!(this instanceof Logger))return new Logger(e,s);s=s||{},this.className=e,s.logger?currentLogger=s.logger:null==currentLogger&&(currentLogger=console.log),s.loggerLevel&&(level=s.loggerLevel||\"error\"),null==filteredClasses[this.className]&&(classFilters[this.className]=!0)};Logger.prototype.debug=function(e,s){if(this.isDebug()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"DEBUG\",this.className,pid,r,e),l={type:\"debug\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.warn=function(e,s){if(this.isWarn()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"WARN\",this.className,pid,r,e),l={type:\"warn\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.info=function(e,s){if(this.isInfo()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"INFO\",this.className,pid,r,e),l={type:\"info\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.error=function(e,s){if(this.isError()&&(Object.keys(filteredClasses).length>0&&filteredClasses[this.className]||0==Object.keys(filteredClasses).length&&classFilters[this.className])){var r=(new Date).getTime(),t=f(\"[%s-%s:%s] %s %s\",\"ERROR\",this.className,pid,r,e),l={type:\"error\",message:e,className:this.className,pid:pid,date:r};s&&(l.meta=s),currentLogger(t,l)}},Logger.prototype.isInfo=function(){return\"info\"==level||\"debug\"==level},Logger.prototype.isError=function(){return\"error\"==level||\"info\"==level||\"debug\"==level},Logger.prototype.isWarn=function(){return\"error\"==level||\"warn\"==level||\"info\"==level||\"debug\"==level},Logger.prototype.isDebug=function(){return\"debug\"==level},Logger.reset=function(){level=\"error\",filteredClasses={}},Logger.currentLogger=function(){return currentLogger},Logger.setCurrentLogger=function(e){if(\"function\"!=typeof e)throw new MongoError(\"current logger must be a function\");currentLogger=e},Logger.filter=function(e,s){\"class\"==e&&Array.isArray(s)&&(filteredClasses={},s.forEach(function(e){filteredClasses[e]=!0}))},Logger.setLevel=function(e){if(\"info\"!=e&&\"error\"!=e&&\"debug\"!=e&&\"warn\"!=e)throw new Error(f(\"%s is an illegal logging level\",e));level=e},module.exports=Logger;","node_modules/mongodb-core/lib/cursor.js":"\"use strict\";var Logger=require(\"./connection/logger\"),retrieveBSON=require(\"./connection/utils\").retrieveBSON,MongoError=require(\"./error\"),f=require(\"util\").format,BSON=retrieveBSON(),Long=BSON.Long,Cursor=function(r,t,o,e,s,u){e=e||{},this.pool=null,this.server=null,this.disconnectHandler=e.disconnectHandler,this.bson=r,this.ns=t,this.cmd=o,this.options=e,this.topology=s,this.cursorState={cursorId:null,cmd:o,documents:e.documents||[],cursorIndex:0,dead:!1,killed:!1,init:!1,notified:!1,limit:e.limit||o.limit||0,skip:e.skip||o.skip||0,batchSize:e.batchSize||o.batchSize||1e3,currentLimit:0,transforms:e.transforms},\"boolean\"==typeof u.promoteLongs?this.cursorState.promoteLongs=u.promoteLongs:\"boolean\"==typeof e.promoteLongs&&(this.cursorState.promoteLongs=e.promoteLongs),\"boolean\"==typeof u.promoteValues?this.cursorState.promoteValues=u.promoteValues:\"boolean\"==typeof e.promoteValues&&(this.cursorState.promoteValues=e.promoteValues),\"boolean\"==typeof u.promoteBuffers?this.cursorState.promoteBuffers=u.promoteBuffers:\"boolean\"==typeof e.promoteBuffers&&(this.cursorState.promoteBuffers=e.promoteBuffers),this.logger=Logger(\"Cursor\",u),\"number\"==typeof o?(this.cursorState.cursorId=Long.fromNumber(o),this.cursorState.lastCursorId=this.cursorState.cursorId):o instanceof Long&&(this.cursorState.cursorId=o,this.cursorState.lastCursorId=o)};Cursor.prototype.setCursorBatchSize=function(r){this.cursorState.batchSize=r},Cursor.prototype.cursorBatchSize=function(){return this.cursorState.batchSize},Cursor.prototype.setCursorLimit=function(r){this.cursorState.limit=r},Cursor.prototype.cursorLimit=function(){return this.cursorState.limit},Cursor.prototype.setCursorSkip=function(r){this.cursorState.skip=r},Cursor.prototype.cursorSkip=function(){return this.cursorState.skip};var handleCallback=function(r,t,o){try{r(t,o)}catch(t){process.nextTick(function(){throw t})}};Cursor.prototype._find=function(r){var t=this;t.logger.isDebug()&&t.logger.debug(f(\"issue initial query [%s] with flags [%s]\",JSON.stringify(t.cmd),JSON.stringify(t.query)));var o={};(t.options.raw||t.cmd.raw)&&(o.raw=t.options.raw||t.cmd.raw),\"string\"==typeof t.query.documentsReturnedIn&&(o.documentsReturnedIn=t.query.documentsReturnedIn),\"boolean\"==typeof t.cursorState.promoteLongs&&(o.promoteLongs=t.cursorState.promoteLongs),\"boolean\"==typeof t.cursorState.promoteValues&&(o.promoteValues=t.cursorState.promoteValues),\"boolean\"==typeof t.cursorState.promoteBuffers&&(o.promoteBuffers=t.cursorState.promoteBuffers),t.server.s.pool.write(t.query,o,function(o,e){if(o)return r(o);var s=e.message;if(s.queryFailure)return r(MongoError.create(s.documents[0]),null);if(Array.isArray(s.documents)&&1==s.documents.length&&(!t.cmd.find||t.cmd.find&&0==t.cmd.virtual)&&(\"string\"!=s.documents[0].cursor||s.documents[0].$err||s.documents[0].errmsg||Array.isArray(s.documents[0].result))){if(s.documents[0].$err||s.documents[0].errmsg)return r(MongoError.create(s.documents[0]),null);if(null!=s.documents[0].cursor&&\"string\"!=typeof s.documents[0].cursor){var u=s.documents[0].cursor.id;return s.documents[0].cursor.ns&&(t.ns=s.documents[0].cursor.ns),t.cursorState.cursorId=\"number\"==typeof u?Long.fromNumber(u):u,t.cursorState.lastCursorId=t.cursorState.cursorId,Array.isArray(s.documents[0].cursor.firstBatch)&&(t.cursorState.documents=s.documents[0].cursor.firstBatch),r(null,null)}if(Array.isArray(s.documents[0].result))return t.cursorState.documents=s.documents[0].result,t.cursorState.cursorId=Long.ZERO,r(null,null)}t.cursorState.cursorId=s.cursorId,t.cursorState.documents=s.documents,t.cursorState.lastCursorId=s.cursorId,t.cursorState.transforms&&\"function\"==typeof t.cursorState.transforms.query&&(t.cursorState.documents=t.cursorState.transforms.query(s)),r(null,null)})},Cursor.prototype._getmore=function(r){this.logger.isDebug()&&this.logger.debug(f(\"schedule getMore call for query [%s]\",JSON.stringify(this.query)));var t=this.options.raw||this.cmd.raw,o=this.cursorState.batchSize;this.cursorState.limit>0&&this.cursorState.currentLimit+o>this.cursorState.limit&&(o=this.cursorState.limit-this.cursorState.currentLimit);var e=this.server.s.pool;this.server.wireProtocolHandler.getMore(this.bson,this.ns,this.cursorState,o,t,e,this.options,r)},Cursor.prototype._killcursor=function(r){if(this.cursorState.dead=!0,this.cursorState.killed=!0,this.cursorState.documents=[],null==this.cursorState.cursorId||this.cursorState.cursorId.isZero()||0==this.cursorState.init)r&&r(null,null);else{var t=this.server.s.pool;this.server.wireProtocolHandler.killCursor(this.bson,this.ns,this.cursorState.cursorId,t,r)}},Cursor.prototype.clone=function(){return this.topology.cursor(this.ns,this.cmd,this.options)},Cursor.prototype.isDead=function(){return 1==this.cursorState.dead},Cursor.prototype.isKilled=function(){return 1==this.cursorState.killed},Cursor.prototype.isNotified=function(){return 1==this.cursorState.notified},Cursor.prototype.bufferedCount=function(){return this.cursorState.documents.length-this.cursorState.cursorIndex},Cursor.prototype.readBufferedDocuments=function(r){var t=this.cursorState.documents.length-this.cursorState.cursorIndex,o=r<t?r:t,e=this.cursorState.documents.slice(this.cursorState.cursorIndex,this.cursorState.cursorIndex+o);if(this.cursorState.transforms&&\"function\"==typeof this.cursorState.transforms.doc)for(var s=0;s<e.length;s++)e[s]=this.cursorState.transforms.doc(e[s]);return this.cursorState.limit>0&&this.cursorState.currentLimit+e.length>this.cursorState.limit&&(e=e.slice(0,this.cursorState.limit-this.cursorState.currentLimit),this.kill()),this.cursorState.currentLimit=this.cursorState.currentLimit+e.length,this.cursorState.cursorIndex=this.cursorState.cursorIndex+e.length,e},Cursor.prototype.kill=function(r){this._killcursor(r)},Cursor.prototype.rewind=function(){this.cursorState.init&&(this.cursorState.dead||this.kill(),this.cursorState.currentLimit=0,this.cursorState.init=!1,this.cursorState.dead=!1,this.cursorState.killed=!1,this.cursorState.notified=!1,this.cursorState.documents=[],this.cursorState.cursorId=null,this.cursorState.cursorIndex=0)};var isConnectionDead=function(r,t){return!(!r.pool||!r.pool.isDestroyed())&&(r.cursorState.notified=!0,r.cursorState.killed=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,t(MongoError.create(f(\"connection to host %s:%s was destroyed\",r.pool.host,r.pool.port))),!0)},isCursorDeadButNotkilled=function(r,t){return!(!r.cursorState.dead||r.cursorState.killed)&&(r.cursorState.notified=!0,r.cursorState.killed=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null),!0)},isCursorDeadAndKilled=function(r,t){return!(!r.cursorState.dead||!r.cursorState.killed)&&(handleCallback(t,MongoError.create(\"cursor is dead\")),!0)},isCursorKilled=function(r,t){return!!r.cursorState.killed&&(r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null),!0)},setCursorDeadAndNotified=function(r,t){r.cursorState.dead=!0,r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null)},setCursorNotified=function(r,t){r.cursorState.notified=!0,r.cursorState.documents=[],r.cursorState.cursorIndex=0,handleCallback(t,null,null)},nextFunction=function(r,t){if(r.cursorState.notified)return t(new Error(\"cursor is exhausted\"));if(!isCursorKilled(r,t)&&!isCursorDeadButNotkilled(r,t)&&!isCursorDeadAndKilled(r,t)){if(!r.cursorState.init){if(!r.topology.isConnected(r.options)){if(!r.topology.s.options.reconnect)return t(new MongoError(\"no connection available\"));if(null!=r.disconnectHandler)return r.topology.isDestroyed()?t(new MongoError(\"Topology was destroyed\")):r.disconnectHandler.addObjectAndMethod(\"cursor\",r,\"next\",[t],t)}try{r.server=r.topology.getServer(r.options)}catch(o){return null!=r.disconnectHandler?r.disconnectHandler.addObjectAndMethod(\"cursor\",r,\"next\",[t],t):t(o)}if(r.cursorState.init=!0,r.cmd&&r.cmd.collation&&r.server.ismaster.maxWireVersion<5)return t(new MongoError(f(\"server %s does not support collation\",r.server.name)));try{r.query=r.server.wireProtocolHandler.command(r.bson,r.ns,r.cmd,r.cursorState,r.topology,r.options)}catch(r){return t(r)}}if(null==r.cursorState.cursorId){if(isConnectionDead(r,t))return;if(r.topology.isDestroyed())return t(new MongoError(\"connection destroyed, not possible to instantiate cursor\"));r._find(function(o){return o?handleCallback(t,o,null):0==r.cursorState.documents.length&&r.cursorState.cursorId&&r.cursorState.cursorId.isZero()&&!r.cmd.tailable&&!r.cmd.awaitData?setCursorNotified(r,t):void nextFunction(r,t)})}else{if(r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit)return r.kill(),setCursorDeadAndNotified(r,t);if(r.cursorState.cursorIndex!=r.cursorState.documents.length||Long.ZERO.equals(r.cursorState.cursorId)){if(r.cursorState.documents.length==r.cursorState.cursorIndex&&r.cmd.tailable&&Long.ZERO.equals(r.cursorState.cursorId))return handleCallback(t,MongoError.create({message:\"No more documents in tailed cursor\",tailable:r.cmd.tailable,awaitData:r.cmd.awaitData}));if(r.cursorState.documents.length==r.cursorState.cursorIndex&&Long.ZERO.equals(r.cursorState.cursorId))setCursorDeadAndNotified(r,t);else{if(r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit)return r.kill(),setCursorDeadAndNotified(r,t);r.cursorState.currentLimit+=1;var o=r.cursorState.documents[r.cursorState.cursorIndex++];if(!o||o.$err)return r.kill(),setCursorDeadAndNotified(r,function(){handleCallback(t,new MongoError(o?o.$err:void 0))});r.cursorState.transforms&&\"function\"==typeof r.cursorState.transforms.doc&&(o=r.cursorState.transforms.doc(o)),handleCallback(t,null,o)}}else{if(r.cursorState.documents=[],r.cursorState.cursorIndex=0,r.topology.isDestroyed())return t(new MongoError(\"connection destroyed, not possible to instantiate cursor\"));if(isConnectionDead(r,t))return;r._getmore(function(o,e,s){return o?handleCallback(t,o):(r.connection=s,0==r.cursorState.documents.length&&r.cmd.tailable&&Long.ZERO.equals(r.cursorState.cursorId)?handleCallback(t,MongoError.create({message:\"No more documents in tailed cursor\",tailable:r.cmd.tailable,awaitData:r.cmd.awaitData})):0==r.cursorState.documents.length&&r.cmd.tailable&&!Long.ZERO.equals(r.cursorState.cursorId)?nextFunction(r,t):r.cursorState.limit>0&&r.cursorState.currentLimit>=r.cursorState.limit?setCursorDeadAndNotified(r,t):void nextFunction(r,t))})}}}};Cursor.prototype.next=function(r){nextFunction(this,r)},module.exports=Cursor;","node_modules/mongodb-core/lib/topologies/read_preference.js":"\"use strict\";var needSlaveOk=[\"primaryPreferred\",\"secondary\",\"secondaryPreferred\",\"nearest\"],ReadPreference=function(e,r,n){this.preference=e,this.tags=r,this.options=n,this.options&&null!=this.options.maxStalenessSeconds?(this.options=n,this.maxStalenessSeconds=this.options.maxStalenessSeconds>=0?this.options.maxStalenessSeconds:null):r&&\"object\"==typeof r&&(this.options=r,r=null)};ReadPreference.prototype.slaveOk=function(){return-1!=needSlaveOk.indexOf(this.preference)},ReadPreference.prototype.equals=function(e){return e.preference==this.preference},ReadPreference.prototype.toJSON=function(){var e={mode:this.preference};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},ReadPreference.primary=new ReadPreference(\"primary\"),ReadPreference.primaryPreferred=new ReadPreference(\"primaryPreferred\"),ReadPreference.secondary=new ReadPreference(\"secondary\"),ReadPreference.secondaryPreferred=new ReadPreference(\"secondaryPreferred\"),ReadPreference.nearest=new ReadPreference(\"nearest\"),module.exports=ReadPreference;","node_modules/mongodb-core/lib/connection/commands.js":"\"use strict\";var retrieveBSON=require(\"../connection/utils\").retrieveBSON,BSON=retrieveBSON(),Long=BSON.Long,_requestId=0,OP_QUERY=2004,OP_GETMORE=2005,OP_KILL_CURSORS=2007,OPTS_TAILABLE_CURSOR=2,OPTS_SLAVE=4,OPTS_OPLOG_REPLAY=8,OPTS_NO_CURSOR_TIMEOUT=16,OPTS_AWAIT_DATA=32,OPTS_EXHAUST=64,OPTS_PARTIAL=128,CURSOR_NOT_FOUND=0,QUERY_FAILURE=2,SHARD_CONFIG_STALE=4,AWAIT_CAPABLE=8,Query=function(e,t,s,i){if(null==t)throw new Error(\"ns must be specified for query\");if(null==s)throw new Error(\"query must be specified for query\");if(~t.indexOf(\"\\0\"))throw new Error(\"namespace cannot contain a null character\");this.bson=e,this.ns=t,this.query=s,this.options=i||{},this.numberToSkip=i.numberToSkip||0,this.numberToReturn=i.numberToReturn||0,this.returnFieldSelector=i.returnFieldSelector||null,this.requestId=Query.getRequestId(),this.serializeFunctions=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.maxBsonSize=i.maxBsonSize||16777216,this.checkKeys=\"boolean\"!=typeof i.checkKeys||i.checkKeys,this.batchSize=this.numberToReturn,this.tailable=!1,this.slaveOk=\"boolean\"==typeof i.slaveOk&&i.slaveOk,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1};Query.prototype.incRequestId=function(){this.requestId=_requestId++},Query.nextRequestId=function(){return _requestId+1},Query.prototype.toBin=function(){var e=[],t=null,s=0;this.tailable&&(s|=OPTS_TAILABLE_CURSOR),this.slaveOk&&(s|=OPTS_SLAVE),this.oplogReplay&&(s|=OPTS_OPLOG_REPLAY),this.noCursorTimeout&&(s|=OPTS_NO_CURSOR_TIMEOUT),this.awaitData&&(s|=OPTS_AWAIT_DATA),this.exhaust&&(s|=OPTS_EXHAUST),this.partial&&(s|=OPTS_PARTIAL),this.batchSize!=this.numberToReturn&&(this.numberToReturn=this.batchSize);var i=new Buffer(20+Buffer.byteLength(this.ns)+1+4+4);e.push(i);var r=this.bson.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(r),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(t=this.bson.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(t));var n=i.length+r.length+(t?t.length:0),o=4;return i[3]=n>>24&255,i[2]=n>>16&255,i[1]=n>>8&255,i[0]=255&n,i[o+3]=this.requestId>>24&255,i[o+2]=this.requestId>>16&255,i[o+1]=this.requestId>>8&255,i[o]=255&this.requestId,o+=4,i[o+3]=0,i[o+2]=0,i[o+1]=0,i[o]=0,o+=4,i[o+3]=OP_QUERY>>24&255,i[o+2]=OP_QUERY>>16&255,i[o+1]=OP_QUERY>>8&255,i[o]=255&OP_QUERY,o+=4,i[o+3]=s>>24&255,i[o+2]=s>>16&255,i[o+1]=s>>8&255,i[o]=255&s,o+=4,o=o+i.write(this.ns,o,\"utf8\")+1,i[o-1]=0,i[o+3]=this.numberToSkip>>24&255,i[o+2]=this.numberToSkip>>16&255,i[o+1]=this.numberToSkip>>8&255,i[o]=255&this.numberToSkip,o+=4,i[o+3]=this.numberToReturn>>24&255,i[o+2]=this.numberToReturn>>16&255,i[o+1]=this.numberToReturn>>8&255,i[o]=255&this.numberToReturn,o+=4,e},Query.getRequestId=function(){return++_requestId};var GetMore=function(e,t,s,i){i=i||{},this.numberToReturn=i.numberToReturn||0,this.requestId=_requestId++,this.bson=e,this.ns=t,this.cursorId=s};GetMore.prototype.toBin=function(){var e=4+Buffer.byteLength(this.ns)+1+4+8+16,t=0,s=new Buffer(e);return s[t+3]=e>>24&255,s[t+2]=e>>16&255,s[t+1]=e>>8&255,s[t]=255&e,t+=4,s[t+3]=this.requestId>>24&255,s[t+2]=this.requestId>>16&255,s[t+1]=this.requestId>>8&255,s[t]=255&this.requestId,t+=4,s[t+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,t+=4,s[t+3]=OP_GETMORE>>24&255,s[t+2]=OP_GETMORE>>16&255,s[t+1]=OP_GETMORE>>8&255,s[t]=255&OP_GETMORE,t+=4,s[t+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,t+=4,t=t+s.write(this.ns,t,\"utf8\")+1,s[t-1]=0,s[t+3]=this.numberToReturn>>24&255,s[t+2]=this.numberToReturn>>16&255,s[t+1]=this.numberToReturn>>8&255,s[t]=255&this.numberToReturn,t+=4,s[t+3]=this.cursorId.getLowBits()>>24&255,s[t+2]=this.cursorId.getLowBits()>>16&255,s[t+1]=this.cursorId.getLowBits()>>8&255,s[t]=255&this.cursorId.getLowBits(),t+=4,s[t+3]=this.cursorId.getHighBits()>>24&255,s[t+2]=this.cursorId.getHighBits()>>16&255,s[t+1]=this.cursorId.getHighBits()>>8&255,s[t]=255&this.cursorId.getHighBits(),t+=4,s};var KillCursor=function(e,t){this.requestId=_requestId++,this.cursorIds=t};KillCursor.prototype.toBin=function(){var e=24+8*this.cursorIds.length,t=0,s=new Buffer(e);s[t+3]=e>>24&255,s[t+2]=e>>16&255,s[t+1]=e>>8&255,s[t]=255&e,s[(t+=4)+3]=this.requestId>>24&255,s[t+2]=this.requestId>>16&255,s[t+1]=this.requestId>>8&255,s[t]=255&this.requestId,s[(t+=4)+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,s[(t+=4)+3]=OP_KILL_CURSORS>>24&255,s[t+2]=OP_KILL_CURSORS>>16&255,s[t+1]=OP_KILL_CURSORS>>8&255,s[t]=255&OP_KILL_CURSORS,s[(t+=4)+3]=0,s[t+2]=0,s[t+1]=0,s[t]=0,s[(t+=4)+3]=this.cursorIds.length>>24&255,s[t+2]=this.cursorIds.length>>16&255,s[t+1]=this.cursorIds.length>>8&255,s[t]=255&this.cursorIds.length,t+=4;for(var i=0;i<this.cursorIds.length;i++)s[t+3]=this.cursorIds[i].getLowBits()>>24&255,s[t+2]=this.cursorIds[i].getLowBits()>>16&255,s[t+1]=this.cursorIds[i].getLowBits()>>8&255,s[t]=255&this.cursorIds[i].getLowBits(),s[(t+=4)+3]=this.cursorIds[i].getHighBits()>>24&255,s[t+2]=this.cursorIds[i].getHighBits()>>16&255,s[t+1]=this.cursorIds[i].getHighBits()>>8&255,s[t]=255&this.cursorIds[i].getHighBits(),t+=4;return s};var Response=function(e,t,s){s=s||{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1},this.parsed=!1,this.index=0,this.raw=t,this.data=t,this.bson=e,this.opts=s,this.length=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.requestId=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.responseTo=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.index=this.index+4,this.responseFlags=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4;var i=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4;var r=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24;this.index=this.index+4,this.cursorId=new Long(i,r),this.startingFrom=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.numberReturned=t[this.index]|t[this.index+1]<<8|t[this.index+2]<<16|t[this.index+3]<<24,this.index=this.index+4,this.documents=new Array(this.numberReturned),this.cursorNotFound=0!=(this.responseFlags&CURSOR_NOT_FOUND),this.queryFailure=0!=(this.responseFlags&QUERY_FAILURE),this.shardConfigStale=0!=(this.responseFlags&SHARD_CONFIG_STALE),this.awaitCapable=0!=(this.responseFlags&AWAIT_CAPABLE),this.promoteLongs=\"boolean\"!=typeof s.promoteLongs||s.promoteLongs,this.promoteValues=\"boolean\"!=typeof s.promoteValues||s.promoteValues,this.promoteBuffers=\"boolean\"==typeof s.promoteBuffers&&s.promoteBuffers};Response.prototype.isParsed=function(){return this.parsed},Response.prototype.parse=function(e){if(!this.parsed){var t,s,i=(e=e||{}).raw||!1,r=e.documentsReturnedIn||null;if(s={promoteLongs:\"boolean\"==typeof e.promoteLongs?e.promoteLongs:this.opts.promoteLongs,promoteValues:\"boolean\"==typeof e.promoteValues?e.promoteValues:this.opts.promoteValues,promoteBuffers:\"boolean\"==typeof e.promoteBuffers?e.promoteBuffers:this.opts.promoteBuffers},1==this.numberReturned&&null!=r&&i){t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24;var n=this.data.slice(this.index,this.index+t),o={};o[r]=!0,s.fieldsAsRaw=o;var h=this.bson.deserialize(n,s);return this.documents=h.cursor[r],this.numberReturned=this.documents.length,this.cursorId=\"number\"==typeof h.cursor.id?Long.fromNumber(h.cursor.id):h.cursor.id,this.index=this.index+t,void(this.parsed=!0)}for(var u=0;u<this.numberReturned;u++)t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,this.documents[u]=i?this.data.slice(this.index,this.index+t):this.bson.deserialize(this.data.slice(this.index,this.index+t),s),this.index=this.index+t;this.parsed=!0}},module.exports={Query:Query,GetMore:GetMore,Response:Response,KillCursor:KillCursor};","node_modules/mongodb-core/lib/auth/mongocr.js":"\"use strict\";var f=require(\"util\").format,crypto=require(\"crypto\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(t,e,n){this.db=t,this.username=e,this.password=n};AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var MongoCR=function(t){this.bson=t,this.authStore=[]},addAuthSession=function(t,e){for(var n=!1,r=0;r<t.length;r++)if(t[r].equal(e)){n=!0;break}n||t.push(e)};MongoCR.prototype.auth=function(t,e,n,r,o,u){var s=this,i=e.length;if(0==i)return u(null,null);for(var a=0,l=null;e.length>0;){(function(e){process.nextTick(function(){!function(e){t(e,new Query(s.bson,f(\"%s.$cmd\",n),{getnonce:1},{numberToSkip:0,numberToReturn:1}),function(h,c){var d=null,p=null;if(null==h){d=c.result.nonce;var g=crypto.createHash(\"md5\");g.update(r+\":mongo:\"+o,\"utf8\");var m=g.digest(\"hex\");(g=crypto.createHash(\"md5\")).update(d+r+m,\"utf8\"),p=g.digest(\"hex\")}t(e,new Query(s.bson,f(\"%s.$cmd\",n),{authenticate:1,user:r,nonce:d,key:p},{numberToSkip:0,numberToReturn:1}),function(t,e){i-=1,t?l=t:e.result.$err?l=e.result:e.result.errmsg?l=e.result:a+=1,0==i&&a>0?(addAuthSession(s.authStore,new AuthSession(n,r,o)),u(null,!0)):0==i&&(null==l&&(l=new MongoError(f(\"failed to authenticate using mongocr\"))),u(l,!1))})})}(e)})})(e.shift())}},MongoCR.prototype.logout=function(t){this.authStore=this.authStore.filter(function(e){return e.db!=t})},MongoCR.prototype.reauthenticate=function(t,e,n){var r=this.authStore.slice(0),o=r.length;if(0==o)return n(null,null);for(var u=0;u<r.length;u++)this.auth(t,e,r[u].db,r[u].username,r[u].password,function(t){0==(o-=1)&&n(t,null)})},module.exports=MongoCR;","node_modules/mongodb-core/lib/auth/x509.js":"\"use strict\";var f=require(\"util\").format,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(t,e,r){this.db=t,this.username=e,this.password=r};AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var X509=function(t){this.bson=t,this.authStore=[]};X509.prototype.auth=function(t,e,r,n,u,o){var s=this,i=e.length;if(0==i)return o(null,null);for(var a=0,h=null;e.length>0;){(function(e){process.nextTick(function(){!function(e){var l={authenticate:1,mechanism:\"MONGODB-X509\"};n&&(l.user=n),t(e,new Query(s.bson,\"$external.$cmd\",l,{numberToSkip:0,numberToReturn:1}),function(t,e){i-=1,t?h=t:e.result.$err?h=e.result:e.result.errmsg?h=e.result:a+=1,0==i&&a>0?(addAuthSession(s.authStore,new AuthSession(r,n,u)),o(null,!0)):0==i&&(null==h&&(h=new MongoError(f(\"failed to authenticate using mongocr\"))),o(h,!1))})}(e)})})(e.shift())}};var addAuthSession=function(t,e){for(var r=!1,n=0;n<t.length;n++)if(t[n].equal(e)){r=!0;break}r||t.push(e)};X509.prototype.logout=function(t){this.authStore=this.authStore.filter(function(e){return e.db!=t})},X509.prototype.reauthenticate=function(t,e,r){var n=this.authStore.slice(0),u=n.length;if(0==u)return r(null,null);for(var o=0;o<n.length;o++)this.auth(t,e,n[o].db,n[o].username,n[o].password,function(t){0==(u-=1)&&r(t,null)})},module.exports=X509;","node_modules/mongodb-core/lib/auth/plain.js":"\"use strict\";var BSON=require(\"bson\"),f=require(\"util\").format,Binary=BSON.Binary,retrieveBSON=require(\"../connection/utils\").retrieveBSON,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=(BSON=retrieveBSON(),function(t,r,e){this.db=t,this.username=r,this.password=e});AuthSession.prototype.equal=function(t){return t.db==this.db&&t.username==this.username&&t.password==this.password};var Plain=function(t){this.bson=t,this.authStore=[]};Plain.prototype.auth=function(t,r,e,n,u,o){var i=this,s=r.length;if(0==s)return o(null,null);for(var a=0,l=null;r.length>0;){(function(r){process.nextTick(function(){!function(r){var h={saslStart:1,mechanism:\"PLAIN\",payload:new Binary(f(\"\\0%s\\0%s\",n,u)),autoAuthorize:1};t(r,new Query(i.bson,\"$external.$cmd\",h,{numberToSkip:0,numberToReturn:1}),function(t,r){s-=1,t?l=t:r.result.$err?l=r.result:r.result.errmsg?l=r.result:a+=1,0==s&&a>0?(addAuthSession(i.authStore,new AuthSession(e,n,u)),o(null,!0)):0==s&&(null==l&&(l=new MongoError(f(\"failed to authenticate using mongocr\"))),o(l,!1))})}(r)})})(r.shift())}};var addAuthSession=function(t,r){for(var e=!1,n=0;n<t.length;n++)if(t[n].equal(r)){e=!0;break}e||t.push(r)};Plain.prototype.logout=function(t){this.authStore=this.authStore.filter(function(r){return r.db!=t})},Plain.prototype.reauthenticate=function(t,r,e){var n=this.authStore.slice(0),u=n.length;if(0==u)return e(null,null);for(var o=0;o<n.length;o++)this.auth(t,r,n[o].db,n[o].username,n[o].password,function(t){0==(u-=1)&&e(t,null)})},module.exports=Plain;","node_modules/mongodb-core/lib/auth/gssapi.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(n,r,t,e){this.db=n,this.username=r,this.password=t,this.options=e};AuthSession.prototype.equal=function(n){return n.db==this.db&&n.username==this.username&&n.password==this.password};var Kerberos=null,MongoAuthProcess=null;try{Kerberos=require_optional(\"kerberos\").Kerberos,MongoAuthProcess=require_optional(\"kerberos\").processes.MongoAuthProcess}catch(n){}var GSSAPI=function(n){this.bson=n,this.authStore=[]};GSSAPI.prototype.auth=function(n,r,t,e,o,i,u){var s=this;if(null==Kerberos)return u(new Error(\"Kerberos library is not installed\"));var a=i.gssapiServiceName||\"mongodb\",l=r.length;if(0==l)return u(null,null);for(var c=0,S=null;r.length>0;){(function(r){process.nextTick(function(){!function(r){GSSAPIInitialize(s,t,e,o,t,a,n,r,i,function(n,r){l-=1,n?S=n:r.result.$err?S=r.result:r.result.errmsg?S=r.result:c+=1,0==l&&c>0?(addAuthSession(s.authStore,new AuthSession(t,e,o,i)),u(null,!0)):0==l&&(null==S&&(S=new MongoError(f(\"failed to authenticate using mongocr\"))),u(S,!1))})}(r)})})(r.shift())}};var GSSAPIInitialize=function(n,r,t,e,o,i,u,s,a,l){var c=new MongoAuthProcess(s.host,s.port,i,a);c.init(t,e,function(i){if(i)return l(i,!1);c.transition(\"\",function(i,a){if(i)return l(i,!1);MongoDBGSSAPIFirstStep(n,c,a,r,t,e,o,u,s,l)})})},MongoDBGSSAPIFirstStep=function(n,r,t,e,o,i,u,s,a,l){var c={saslStart:1,mechanism:\"GSSAPI\",payload:t,autoAuthorize:1};s(a,new Query(n.bson,\"$external.$cmd\",c,{numberToSkip:0,numberToReturn:1}),function(t,c){if(t)return l(t,!1);var S=c.result;r.transition(c.result.payload,function(t,c){if(t)return l(t,!1);MongoDBGSSAPISecondStep(n,r,c,S,e,o,i,u,s,a,l)})})},MongoDBGSSAPISecondStep=function(n,r,t,e,o,i,u,s,a,l,c){var S={saslContinue:1,conversationId:e.conversationId,payload:t};a(l,new Query(n.bson,\"$external.$cmd\",S,{numberToSkip:0,numberToReturn:1}),function(t,e){if(t)return c(t,!1);var S=e.result;r.transition(S.payload,function(t,e){if(t)return c(t,!1);MongoDBGSSAPIThirdStep(n,r,e,S,o,i,u,s,a,l,c)})})},MongoDBGSSAPIThirdStep=function(n,r,t,e,o,i,u,s,a,l,c){var S={saslContinue:1,conversationId:e.conversationId,payload:t};a(l,new Query(n.bson,\"$external.$cmd\",S,{numberToSkip:0,numberToReturn:1}),function(n,t){if(n)return c(n,!1);r.transition(null,function(n){if(n)return c(n,null);c(null,t)})})},addAuthSession=function(n,r){for(var t=!1,e=0;e<n.length;e++)if(n[e].equal(r)){t=!0;break}t||n.push(r)};GSSAPI.prototype.logout=function(n){this.authStore=this.authStore.filter(function(r){return r.db!=n})},GSSAPI.prototype.reauthenticate=function(n,r,t){var e=this.authStore.slice(0),o=e.length;if(0==o)return t(null,null);for(var i=0;i<e.length;i++)this.auth(n,r,e[i].db,e[i].username,e[i].password,e[i].options,function(n){0==(o-=1)&&t(n,null)})},module.exports=GSSAPI;","node_modules/mongodb-core/lib/auth/scram.js":"\"use strict\";var f=require(\"util\").format,crypto=require(\"crypto\"),retrieveBSON=require(\"../connection/utils\").retrieveBSON,Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),BSON=retrieveBSON(),Binary=BSON.Binary,AuthSession=function(e,r,t){this.db=e,this.username=r,this.password=t};AuthSession.prototype.equal=function(e){return e.db==this.db&&e.username==this.username&&e.password==this.password};var id=0,ScramSHA1=function(e){this.bson=e,this.authStore=[],this.id=id++},parsePayload=function(e){for(var r={},t=e.split(\",\"),n=0;n<t.length;n++){var o=t[n].split(\"=\");r[o[0]]=o[1]}return r},passwordDigest=function(e,r){if(\"string\"!=typeof e)throw new MongoError(\"username must be a string\");if(\"string\"!=typeof r)throw new MongoError(\"password must be a string\");if(0==r.length)throw new MongoError(\"password cannot be empty\");var t=crypto.createHash(\"md5\");return t.update(e+\":mongo:\"+r,\"utf8\"),t.digest(\"hex\")},xor=function(e,r){Buffer.isBuffer(e)||(e=new Buffer(e)),Buffer.isBuffer(r)||(r=new Buffer(r));var t=[];if(e.length>r.length)for(var n=0;n<r.length;n++)t.push(e[n]^r[n]);else for(n=0;n<e.length;n++)t.push(e[n]^r[n]);return new Buffer(t)},_hiCache={},_hiCacheCount=0,_hiCachePurge=function(){_hiCache={},_hiCacheCount=0},hi=function(e,r,t){var n=[e,r.toString(\"base64\"),t].join(\"_\");if(void 0!==_hiCache[n])return _hiCache[n];var o=crypto.pbkdf2Sync(e,r,t,20,\"sha1\");return _hiCacheCount>=200&&_hiCachePurge(),_hiCache[n]=o,_hiCacheCount+=1,o};ScramSHA1.prototype.auth=function(e,r,t,n,o,u){var a=this,s=r.length;if(0==s)return u(null,null);for(var i=0,h=null,c=function(r){n=n.replace(\"=\",\"=3D\").replace(\",\",\"=2C\");var c=crypto.randomBytes(24).toString(\"base64\"),l=f(\"n=%s,r=%s\",n,c),d={saslStart:1,mechanism:\"SCRAM-SHA-1\",payload:new Binary(f(\"n,,%s\",l)),autoAuthorize:1},p=function(e,r){return e?(i-=1,h=e,!1):r.result.$err?(h=r.result,!1):r.result.errmsg?(h=r.result,!1):(i+=1,!0)},S=function(e,r){p(e,r),function(e,r){0==e&&r>0?(addAuthSession(a.authStore,new AuthSession(t,n,o)),u(null,!0)):0==e&&(null==h&&(h=new MongoError(f(\"failed to authenticate using scram\"))),u(h,!1))}(s-=1,i)};e(r,new Query(a.bson,f(\"%s.$cmd\",t),d,{numberToSkip:0,numberToReturn:1}),function(c,d){if(0!=p(c,d)){var g=parsePayload(d.result.payload.value()),m=parseInt(g.i,10),w=g.s,y=g.r,b=f(\"c=biws,r=%s\",y),v=passwordDigest(n,o),B=hi(v,new Buffer(w,\"base64\"),m),C=crypto.createHmac(\"sha1\",B);C.update(new Buffer(\"Client Key\"));var A=new Buffer(C.digest(\"base64\"),\"base64\"),_=crypto.createHash(\"sha1\");_.update(A);var H=new Buffer(_.digest(\"base64\"),\"base64\"),q=[l,d.result.payload.value().toString(\"base64\"),b].join(\",\");(C=crypto.createHmac(\"sha1\",H)).update(new Buffer(q));var M=new Buffer(C.digest(\"base64\"),\"base64\"),T=[b,f(\"p=%s\",new Buffer(xor(A,M)).toString(\"base64\"))].join(\",\"),k={saslContinue:1,conversationId:d.result.conversationId,payload:new Binary(new Buffer(T))};e(r,new Query(a.bson,f(\"%s.$cmd\",t),k,{numberToSkip:0,numberToReturn:1}),function(n,o){if(o&&0==o.result.done){var u={saslContinue:1,conversationId:o.result.conversationId,payload:new Buffer(0)};e(r,new Query(a.bson,f(\"%s.$cmd\",t),u,{numberToSkip:0,numberToReturn:1}),function(e,r){S(e,r)})}else S(n,o)})}else{if(0==(s-=1)&&i>0)return addAuthSession(a.authStore,new AuthSession(t,n,o)),u(null,!0);if(0==s)return null==h&&(h=new MongoError(f(\"failed to authenticate using scram\"))),u(h,!1)}})},l=function(e){process.nextTick(function(){c(e)})};r.length>0;)l(r.shift())};var addAuthSession=function(e,r){for(var t=!1,n=0;n<e.length;n++)if(e[n].equal(r)){t=!0;break}t||e.push(r)};ScramSHA1.prototype.logout=function(e){this.authStore=this.authStore.filter(function(r){return r.db!=e})},ScramSHA1.prototype.reauthenticate=function(e,r,t){var n=this.authStore.slice(0),o=n.length;if(0==o)return t(null,null);for(var u=0;u<n.length;u++)this.auth(e,r,n[u].db,n[u].username,n[u].password,function(e){0==(o-=1)&&t(e,null)})},module.exports=ScramSHA1;","node_modules/bson/lib/bson/bson.js":"\"use strict\";var writeIEEE754=require(\"./float_parser\").writeIEEE754,readIEEE754=require(\"./float_parser\").readIEEE754,Map=require(\"./map\"),Long=require(\"./long\"),Double=require(\"./double\"),Timestamp=require(\"./timestamp\"),ObjectID=require(\"./objectid\"),BSONRegExp=require(\"./regexp\"),Symbol=require(\"./symbol\"),Int32=require(\"./int_32\"),Code=require(\"./code\"),Decimal128=require(\"./decimal128\"),MinKey=require(\"./min_key\"),MaxKey=require(\"./max_key\"),DBRef=require(\"./db_ref\"),Binary=require(\"./binary\"),deserialize=require(\"./parser/deserializer\"),serializer=require(\"./parser/serializer\"),calculateObjectSize=require(\"./parser/calculate_size\"),MAXSIZE=17825792,buffer=new Buffer(MAXSIZE),BSON=function(){};BSON.prototype.serialize=function(e,r){var o=\"boolean\"==typeof(r=r||{}).checkKeys&&r.checkKeys,i=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,N=\"boolean\"!=typeof r.ignoreUndefined||r.ignoreUndefined,B=serializer(buffer,e,o,0,0,i,N,[]),S=new Buffer(B);return buffer.copy(S,0,0,S.length),S},BSON.prototype.serializeWithBufferAndIndex=function(e,r,o){var i=\"boolean\"==typeof(o=o||{}).checkKeys&&o.checkKeys,N=\"boolean\"==typeof o.serializeFunctions&&o.serializeFunctions,B=\"boolean\"!=typeof o.ignoreUndefined||o.ignoreUndefined,S=\"number\"==typeof o.index?o.index:0,O=serializer(buffer,e,i,S||0,0,N,B);return buffer.copy(r,S,0,O),O-1},BSON.prototype.deserialize=function(e,r){return deserialize(e,r)},BSON.prototype.calculateObjectSize=function(e,r){var o=\"boolean\"==typeof(r=r||{}).serializeFunctions&&r.serializeFunctions,i=\"boolean\"!=typeof r.ignoreUndefined||r.ignoreUndefined;return calculateObjectSize(e,o,i)},BSON.prototype.deserializeStream=function(e,r,o,i,N,B){B=null!=B?B:{};for(var S=r,O=0;O<o;O++){var _=e[S]|e[S+1]<<8|e[S+2]<<16|e[S+3]<<24;B.index=S,i[N+O]=this.deserialize(e,B),S+=_}return S},BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,module.exports=BSON,module.exports.Code=Code,module.exports.Map=Map,module.exports.Symbol=Symbol,module.exports.BSON=BSON,module.exports.DBRef=DBRef,module.exports.Binary=Binary,module.exports.ObjectID=ObjectID,module.exports.Long=Long,module.exports.Timestamp=Timestamp,module.exports.Double=Double,module.exports.Int32=Int32,module.exports.MinKey=MinKey,module.exports.MaxKey=MaxKey,module.exports.BSONRegExp=BSONRegExp,module.exports.Decimal128=Decimal128;","node_modules/bson/lib/bson/binary.js":"if(\"undefined\"!=typeof global)var Buffer=require(\"buffer\").Buffer;function Binary(r,t){if(!(this instanceof Binary))return new Binary(r,t);if(this._bsontype=\"Binary\",r instanceof Number?(this.sub_type=r,this.position=0):(this.sub_type=null==t?BSON_BINARY_SUBTYPE_DEFAULT:t,this.position=0),null==r||r instanceof Number)void 0!==Buffer?this.buffer=new Buffer(Binary.BUFFER_SIZE):\"undefined\"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE)):this.buffer=new Array(Binary.BUFFER_SIZE),this.position=0;else{if(\"string\"==typeof r)if(void 0!==Buffer)this.buffer=new Buffer(r);else{if(\"undefined\"==typeof Uint8Array&&\"[object Array]\"!=Object.prototype.toString.call(r))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");this.buffer=writeStringToArray(r)}else this.buffer=r;this.position=r.length}}Binary.prototype.put=function(r){if(null!=r.length&&\"number\"!=typeof r&&1!=r.length)throw new Error(\"only accepts single character String, Uint8Array or Array\");if(\"number\"!=typeof r&&r<0||r>255)throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");var t=null;if(t=\"string\"==typeof r?r.charCodeAt(0):null!=r.length?r[0]:r,this.buffer.length>this.position)this.buffer[this.position++]=t;else if(void 0!==Buffer&&Buffer.isBuffer(this.buffer)){var i=new Buffer(Binary.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=t}else{i=null;i=\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE+this.buffer.length)):new Array(Binary.BUFFER_SIZE+this.buffer.length);for(var e=0;e<this.buffer.length;e++)i[e]=this.buffer[e];this.buffer=i,this.buffer[this.position++]=t}},Binary.prototype.write=function(r,t){if(t=\"number\"==typeof t?t:this.position,this.buffer.length<t+r.length){var i=null;if(void 0!==Buffer&&Buffer.isBuffer(this.buffer))i=new Buffer(this.buffer.length+r.length),this.buffer.copy(i,0,0,this.buffer.length);else if(\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)){i=new Uint8Array(new ArrayBuffer(this.buffer.length+r.length));for(var e=0;e<this.position;e++)i[e]=this.buffer[e]}this.buffer=i}if(void 0!==Buffer&&Buffer.isBuffer(r)&&Buffer.isBuffer(this.buffer))r.copy(this.buffer,t,0,r.length),this.position=t+r.length>this.position?t+r.length:this.position;else if(void 0!==Buffer&&\"string\"==typeof r&&Buffer.isBuffer(this.buffer))this.buffer.write(r,t,\"binary\"),this.position=t+r.length>this.position?t+r.length:this.position;else if(\"[object Uint8Array]\"==Object.prototype.toString.call(r)||\"[object Array]\"==Object.prototype.toString.call(r)&&\"string\"!=typeof r){for(e=0;e<r.length;e++)this.buffer[t++]=r[e];this.position=t>this.position?t:this.position}else if(\"string\"==typeof r){for(e=0;e<r.length;e++)this.buffer[t++]=r.charCodeAt(e);this.position=t>this.position?t:this.position}},Binary.prototype.read=function(r,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(r,r+t);for(var i=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),e=0;e<t;e++)i[e]=this.buffer[r++];return i},Binary.prototype.value=function(r){if((r=null!=r&&r)&&void 0!==Buffer&&Buffer.isBuffer(this.buffer)&&this.buffer.length==this.position)return this.buffer;if(void 0!==Buffer&&Buffer.isBuffer(this.buffer))return r?this.buffer.slice(0,this.position):this.buffer.toString(\"binary\",0,this.position);if(r){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=\"[object Uint8Array]\"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),i=0;i<this.position;i++)t[i]=this.buffer[i];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)},Binary.prototype.length=function(){return this.position},Binary.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString(\"base64\"):\"\"},Binary.prototype.toString=function(r){return null!=this.buffer?this.buffer.slice(0,this.position).toString(r):\"\"};var BSON_BINARY_SUBTYPE_DEFAULT=0,writeStringToArray=function(r){for(var t=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(r.length)):new Array(r.length),i=0;i<r.length;i++)t[i]=r.charCodeAt(i);return t},convertArraytoUtf8BinaryString=function(r,t,i){for(var e=\"\",f=t;f<i;f++)e+=String.fromCharCode(r[f]);return e};Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,module.exports=Binary,module.exports.Binary=Binary;","node_modules/bson/lib/bson/code.js":"var Code=function o(e,t){if(!(this instanceof o))return new o(e,t);this._bsontype=\"Code\",this.code=e,this.scope=t};Code.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},module.exports=Code,module.exports.Code=Code;","node_modules/bson/lib/bson/db_ref.js":"function DBRef(e,t,i){if(!(this instanceof DBRef))return new DBRef(e,t,i);this._bsontype=\"DBRef\",this.namespace=e,this.oid=t,this.db=i}DBRef.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?\"\":this.db}},module.exports=DBRef,module.exports.DBRef=DBRef;","node_modules/bson/lib/bson/decimal128.js":"\"use strict\";var Long=require(\"./long\"),PARSE_STRING_REGEXP=/^(\\+|\\-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([\\-\\+])?(\\d+)?$/,PARSE_INF_REGEXP=/^(\\+|\\-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\\+|\\-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([\\-\\+])?(\\d+)?$/,isDigit=function(r){return!isNaN(parseInt(r,10))},divideu128=function(r){var e=Long.fromNumber(1e9),i=Long.fromNumber(0),o=0;if(!(r.parts[0]||r.parts[1]||r.parts[2]||r.parts[3]))return{quotient:r,rem:i};for(o=0;o<=3;o++)i=(i=i.shiftLeft(32)).add(new Long(r.parts[o],0)),r.parts[o]=i.div(e).low_,i=i.modulo(e);return{quotient:r,rem:i}},multiply64x2=function(r,e){if(!r&&!e)return{high:Long.fromNumber(0),low:Long.fromNumber(0)};var i=r.shiftRightUnsigned(32),o=new Long(r.getLowBits(),0),n=e.shiftRightUnsigned(32),t=new Long(e.getLowBits(),0),f=i.multiply(n),h=i.multiply(t),N=o.multiply(n),g=o.multiply(t);return f=f.add(h.shiftRightUnsigned(32)),h=new Long(h.getLowBits(),0).add(N).add(g.shiftRightUnsigned(32)),f=f.add(h.shiftRightUnsigned(32)),g=h.shiftLeft(32).add(new Long(g.getLowBits(),0)),{high:f,low:g}},lessThan=function(r,e){var i=r.high_>>>0,o=e.high_>>>0;if(i<o)return!0;if(i==o){if(r.low_>>>0<e.low_>>>0)return!0}return!1},longtoHex=function(r){var e=new Buffer(8),i=0;return e[i++]=255&r.low_,e[i++]=r.low_>>8&255,e[i++]=r.low_>>16&255,e[i++]=r.low_>>24&255,e[i++]=255&r.high_,e[i++]=r.high_>>8&255,e[i++]=r.high_>>16&255,e[i++]=r.high_>>24&255,e.reverse().toString(\"hex\")},int32toHex=function(r){var e=new Buffer(4),i=0;return e[i++]=255&r,e[i++]=r>>8&255,e[i++]=r>>16&255,e[i++]=r>>24&255,e.reverse().toString(\"hex\")},Decimal128=function(r){this._bsontype=\"Decimal128\",this.bytes=r};Decimal128.fromString=function(r){var e=!1,i=!1,o=!1,n=0,t=0,f=0,h=0,N=0,g=[0],u=0,a=0,m=0,E=0,l=0,_=0,s=[0,0],w=[0,0],I=0,d=0,p=(r=r.trim()).match(PARSE_STRING_REGEXP),L=r.match(PARSE_INF_REGEXP),A=r.match(PARSE_NAN_REGEXP);if(!p&&!L&&!A||0==r.length)throw new Error(r+\" not a valid Decimal128 string\");if(p&&p[4]&&void 0===p[2])throw new Error(r+\" not a valid Decimal128 string\");if(\"+\"!=r[d]&&\"-\"!=r[d]||(e=\"-\"==r[d++]),!isDigit(r[d])&&\".\"!=r[d]){if(\"i\"==r[d]||\"I\"==r[d])return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if(\"N\"==r[d])return new Decimal128(new Buffer(NAN_BUFFER))}for(;isDigit(r[d])||\".\"==r[d];)if(\".\"!=r[d])u<34&&(\"0\"!=r[d]||o)&&(o||(N=t),o=!0,g[a++]=parseInt(r[d],10),u+=1),o&&(f+=1),i&&(h+=1),t+=1,d+=1;else{if(i)return new Decimal128(new Buffer(NAN_BUFFER));i=!0,d+=1}if(i&&!t)throw new Error(r+\" not a valid Decimal128 string\");if(\"e\"==r[d]||\"E\"==r[d]){var T=r.substr(++d).match(EXPONENT_REGEX);if(!T||!T[2])return new Decimal128(new Buffer(NAN_BUFFER));l=parseInt(T[0],10),d+=T[0].length}if(r[d])return new Decimal128(new Buffer(NAN_BUFFER));if(m=0,u){if(E=u-1,n=f,0!=l&&1!=n)for(;\"0\"==r[N+n-1];)n-=1}else m=0,E=0,g[0]=0,f=1,u=1,n=0;for(l<=h&&h-l>16384?l=EXPONENT_MIN:l-=h;l>EXPONENT_MAX;){if((E+=1)-m>MAX_DIGITS){if(g.join(\"\").match(/^0+$/)){l=EXPONENT_MAX;break}return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}l-=1}for(;l<EXPONENT_MIN||u<f;){if(0==E){l=EXPONENT_MIN,n=0;break}if(u<f?f-=1:E-=1,!(l<EXPONENT_MAX)){if(g.join(\"\").match(/^0+$/)){l=EXPONENT_MAX;break}return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}l+=1}if(E-m+1<n&&\"0\"!=r[n]){var F=t;i&&l==EXPONENT_MIN&&(N+=1,F+=1);var B=parseInt(r[N+E+1],10),O=0;if(B>=5&&(O=1,5==B)){O=g[E]%2==1;for(_=N+E+2;_<F;_++)if(parseInt(r[_],10)){O=1;break}}if(O)for(var c=E;c>=0&&++g[c]>9;c--)if(g[c]=0,0==c){if(!(l<EXPONENT_MAX))return new Decimal128(new Buffer(e?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));l+=1,g[c]=1}}if(s=Long.fromNumber(0),w=Long.fromNumber(0),0==n)s=Long.fromNumber(0),w=Long.fromNumber(0);else if(E-m<17){c=m;for(w=Long.fromNumber(g[c++]),s=new Long(0,0);c<=E;c++)w=(w=w.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]))}else{c=m;for(s=Long.fromNumber(g[c++]);c<=E-17;c++)s=(s=s.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]));for(w=Long.fromNumber(g[c++]);c<=E;c++)w=(w=w.multiply(Long.fromNumber(10))).add(Long.fromNumber(g[c]))}var R=multiply64x2(s,Long.fromString(\"100000000000000000\"));R.low=R.low.add(w),lessThan(R.low,w)&&(R.high=R.high.add(Long.fromNumber(1)));I=l+EXPONENT_BIAS;var b={low:Long.fromNumber(0),high:Long.fromNumber(0)};R.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber)?(b.high=b.high.or(Long.fromNumber(3).shiftLeft(61)),b.high=b.high.or(Long.fromNumber(I).and(Long.fromNumber(16383).shiftLeft(47))),b.high=b.high.or(R.high.and(Long.fromNumber(0x7fffffffffff)))):(b.high=b.high.or(Long.fromNumber(16383&I).shiftLeft(49)),b.high=b.high.or(R.high.and(Long.fromNumber(562949953421311)))),b.low=R.low,e&&(b.high=b.high.or(Long.fromString(\"9223372036854775808\")));var P=new Buffer(16);d=0;return P[d++]=255&b.low.low_,P[d++]=b.low.low_>>8&255,P[d++]=b.low.low_>>16&255,P[d++]=b.low.low_>>24&255,P[d++]=255&b.low.high_,P[d++]=b.low.high_>>8&255,P[d++]=b.low.high_>>16&255,P[d++]=b.low.high_>>24&255,P[d++]=255&b.high.low_,P[d++]=b.high.low_>>8&255,P[d++]=b.high.low_>>16&255,P[d++]=b.high.low_>>24&255,P[d++]=255&b.high.high_,P[d++]=b.high.high_>>8&255,P[d++]=b.high.high_>>16&255,P[d++]=b.high.high_>>24&255,new Decimal128(P)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31,COMBINATION_SNAN=32;EXPONENT_BIAS=6176;Decimal128.prototype.toString=function(){for(var r,e,i,o,n,t,f=0,h=new Array(36),N=0;N<h.length;N++)h[N]=0;var g,u,a,m=0,E=!1,l={parts:new Array(4)},_=[],s=(m=0,this.bytes);o=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,i=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,e=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24,r=s[m++]|s[m++]<<8|s[m++]<<16|s[m++]<<24;m=0;if({low:new Long(o,i),high:new Long(e,r)}.high.lessThan(Long.ZERO)&&_.push(\"-\"),(n=r>>26&COMBINATION_MASK)>>3==3){if(n==COMBINATION_INFINITY)return _.join(\"\")+\"Infinity\";if(n==COMBINATION_NAN)return\"NaN\";t=r>>15&EXPONENT_MASK,a=8+(r>>14&1)}else a=r>>14&7,t=r>>17&EXPONENT_MASK;if(g=t-EXPONENT_BIAS,l.parts[0]=(16383&r)+((15&a)<<14),l.parts[1]=e,l.parts[2]=i,l.parts[3]=o,0==l.parts[0]&&0==l.parts[1]&&0==l.parts[2]&&0==l.parts[3])E=!0;else for(var w=3;w>=0;w--){var I=0,d=divideu128(l);if(l=d.quotient,I=d.rem.low_)for(var p=8;p>=0;p--)h[9*w+p]=I%10,I=Math.floor(I/10)}if(E)f=1,h[m]=0;else{f=36;for(N=0;!h[m];)N++,f-=1,m+=1}if((u=f-1+g)>=34||u<=-7||g>0){_.push(h[m++]),(f-=1)&&_.push(\".\");for(N=0;N<f;N++)_.push(h[m++]);_.push(\"E\"),u>0?_.push(\"+\"+u):_.push(u)}else if(g>=0)for(N=0;N<f;N++)_.push(h[m++]);else{var L=f+g;if(L>0)for(N=0;N<L;N++)_.push(h[m++]);else _.push(\"0\");for(_.push(\".\");L++<0;)_.push(\"0\");for(N=0;N<f-Math.max(L-1,0);N++)_.push(h[m++])}return _.join(\"\")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},module.exports=Decimal128,module.exports.Decimal128=Decimal128;","node_modules/bson/lib/bson/double.js":"function Double(e){if(!(this instanceof Double))return new Double(e);this._bsontype=\"Double\",this.value=e}Double.prototype.valueOf=function(){return this.value},Double.prototype.toJSON=function(){return this.value},module.exports=Double,module.exports.Double=Double;","node_modules/bson/lib/bson/int_32.js":"var Int32=function(t){if(!(this instanceof Int32))return new Int32(t);this._bsontype=\"Int32\",this.value=t};Int32.prototype.valueOf=function(){return this.value},Int32.prototype.toJSON=function(){return this.value},module.exports=Int32,module.exports.Int32=Int32;","node_modules/bson/lib/bson/long.js":"function Long(t,o){if(!(this instanceof Long))return new Long(t,o);this._bsontype=\"Long\",this.low_=0|t,this.high_=0|o}Long.prototype.toInt=function(){return this.low_},Long.prototype.toNumber=function(){return this.high_*Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Long.prototype.toJSON=function(){return this.toString()},Long.prototype.toString=function(t){var o=t||10;if(o<2||36<o)throw Error(\"radix out of range: \"+o);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(Long.MIN_VALUE)){var n=Long.fromNumber(o),r=this.div(n),i=r.multiply(n).subtract(this);return r.toString(o)+i.toInt().toString(o)}return\"-\"+this.negate().toString(o)}for(var e=Long.fromNumber(Math.pow(o,6)),g=(i=this,\"\");;){var s=i.div(e),h=i.subtract(s.multiply(e)).toInt().toString(o);if((i=s).isZero())return h+g;for(;h.length<6;)h=\"0\"+h;g=\"\"+h+g}},Long.prototype.getHighBits=function(){return this.high_},Long.prototype.getLowBits=function(){return this.low_},Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Long.TWO_PWR_32_DBL_+this.low_},Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,o=31;o>0&&0==(t&1<<o);o--);return 0!=this.high_?o+33:o+1},Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Long.prototype.isNegative=function(){return this.high_<0},Long.prototype.isOdd=function(){return 1==(1&this.low_)},Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Long.prototype.lessThan=function(t){return this.compare(t)<0},Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Long.prototype.greaterThan=function(t){return this.compare(t)>0},Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Long.prototype.compare=function(t){if(this.equals(t))return 0;var o=this.isNegative(),n=t.isNegative();return o&&!n?-1:!o&&n?1:this.subtract(t).isNegative()?-1:1},Long.prototype.negate=function(){return this.equals(Long.MIN_VALUE)?Long.MIN_VALUE:this.not().add(Long.ONE)},Long.prototype.add=function(t){var o=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,e=t.high_>>>16,g=65535&t.high_,s=t.low_>>>16,h=0,L=0,_=0,u=0;return u+=i+(65535&t.low_),_+=u>>>16,u&=65535,_+=r+s,L+=_>>>16,_&=65535,L+=n+g,h+=L>>>16,L&=65535,h+=o+e,h&=65535,Long.fromBits(_<<16|u,h<<16|L)},Long.prototype.subtract=function(t){return this.add(t.negate())},Long.prototype.multiply=function(t){if(this.isZero())return Long.ZERO;if(t.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE))return t.isOdd()?Long.MIN_VALUE:Long.ZERO;if(t.equals(Long.MIN_VALUE))return this.isOdd()?Long.MIN_VALUE:Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Long.TWO_PWR_24_)&&t.lessThan(Long.TWO_PWR_24_))return Long.fromNumber(this.toNumber()*t.toNumber());var o=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,e=t.high_>>>16,g=65535&t.high_,s=t.low_>>>16,h=65535&t.low_,L=0,_=0,u=0,a=0;return a+=i*h,u+=a>>>16,a&=65535,u+=r*h,_+=u>>>16,u&=65535,u+=i*s,_+=u>>>16,u&=65535,_+=n*h,L+=_>>>16,_&=65535,_+=r*s,L+=_>>>16,_&=65535,_+=i*g,L+=_>>>16,_&=65535,L+=o*h+n*s+r*g+i*e,L&=65535,Long.fromBits(u<<16|a,L<<16|_)},Long.prototype.div=function(t){if(t.isZero())throw Error(\"division by zero\");if(this.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE)){if(t.equals(Long.ONE)||t.equals(Long.NEG_ONE))return Long.MIN_VALUE;if(t.equals(Long.MIN_VALUE))return Long.ONE;if((r=this.shiftRight(1).div(t).shiftLeft(1)).equals(Long.ZERO))return t.isNegative()?Long.ONE:Long.NEG_ONE;var o=this.subtract(t.multiply(r));return r.add(o.div(t))}if(t.equals(Long.MIN_VALUE))return Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var n=Long.ZERO;for(o=this;o.greaterThanOrEqual(t);){for(var r=Math.max(1,Math.floor(o.toNumber()/t.toNumber())),i=Math.ceil(Math.log(r)/Math.LN2),e=i<=48?1:Math.pow(2,i-48),g=Long.fromNumber(r),s=g.multiply(t);s.isNegative()||s.greaterThan(o);)r-=e,s=(g=Long.fromNumber(r)).multiply(t);g.isZero()&&(g=Long.ONE),n=n.add(g),o=o.subtract(s)}return n},Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Long.prototype.not=function(){return Long.fromBits(~this.low_,~this.high_)},Long.prototype.and=function(t){return Long.fromBits(this.low_&t.low_,this.high_&t.high_)},Long.prototype.or=function(t){return Long.fromBits(this.low_|t.low_,this.high_|t.high_)},Long.prototype.xor=function(t){return Long.fromBits(this.low_^t.low_,this.high_^t.high_)},Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var o=this.low_;if(t<32){var n=this.high_;return Long.fromBits(o<<t,n<<t|o>>>32-t)}return Long.fromBits(0,o<<t-32)},Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var o=this.high_;if(t<32){var n=this.low_;return Long.fromBits(n>>>t|o<<32-t,o>>t)}return Long.fromBits(o>>t-32,o>=0?0:-1)},Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var o=this.high_;if(t<32){var n=this.low_;return Long.fromBits(n>>>t|o<<32-t,o>>>t)}return 32==t?Long.fromBits(o,0):Long.fromBits(o>>>t-32,0)},Long.fromInt=function(t){if(-128<=t&&t<128){var o=Long.INT_CACHE_[t];if(o)return o}var n=new Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(Long.INT_CACHE_[t]=n),n},Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Long.ZERO:t<=-Long.TWO_PWR_63_DBL_?Long.MIN_VALUE:t+1>=Long.TWO_PWR_63_DBL_?Long.MAX_VALUE:t<0?Long.fromNumber(-t).negate():new Long(t%Long.TWO_PWR_32_DBL_|0,t/Long.TWO_PWR_32_DBL_|0)},Long.fromBits=function(t,o){return new Long(t,o)},Long.fromString=function(t,o){if(0==t.length)throw Error(\"number format error: empty string\");var n=o||10;if(n<2||36<n)throw Error(\"radix out of range: \"+n);if(\"-\"==t.charAt(0))return Long.fromString(t.substring(1),n).negate();if(t.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+t);for(var r=Long.fromNumber(Math.pow(n,8)),i=Long.ZERO,e=0;e<t.length;e+=8){var g=Math.min(8,t.length-e),s=parseInt(t.substring(e,e+g),n);if(g<8){var h=Long.fromNumber(Math.pow(n,g));i=i.multiply(h).add(Long.fromNumber(s))}else i=(i=i.multiply(r)).add(Long.fromNumber(s))}return i},Long.INT_CACHE_={},Long.TWO_PWR_16_DBL_=65536,Long.TWO_PWR_24_DBL_=1<<24,Long.TWO_PWR_32_DBL_=Long.TWO_PWR_16_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_31_DBL_=Long.TWO_PWR_32_DBL_/2,Long.TWO_PWR_48_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_64_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_32_DBL_,Long.TWO_PWR_63_DBL_=Long.TWO_PWR_64_DBL_/2,Long.ZERO=Long.fromInt(0),Long.ONE=Long.fromInt(1),Long.NEG_ONE=Long.fromInt(-1),Long.MAX_VALUE=Long.fromBits(-1,2147483647),Long.MIN_VALUE=Long.fromBits(0,-2147483648),Long.TWO_PWR_24_=Long.fromInt(1<<24),module.exports=Long,module.exports.Long=Long;","node_modules/bson/lib/bson/map.js":"\"use strict\";if(void 0!==global.Map)module.exports=global.Map,module.exports.Map=global.Map;else{var Map=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var s=e[t],i=s[0],o=s[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}};Map.prototype.clear=function(){this._keys=[],this._values={}},Map.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},Map.prototype.entries=function(){var e=this,t=0;return{next:function(){var s=e._keys[t++];return{value:void 0!==s?[s,e._values[s].v]:void 0,done:void 0===s}}}},Map.prototype.forEach=function(e,t){t=t||this;for(var s=0;s<this._keys.length;s++){var i=this._keys[s];e.call(t,this._values[i].v,i,t)}},Map.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},Map.prototype.has=function(e){return null!=this._values[e]},Map.prototype.keys=function(e){var t=this,s=0;return{next:function(){var e=t._keys[s++];return{value:void 0!==e?e:void 0,done:void 0===e}}}},Map.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},Map.prototype.values=function(e,t){var s=this,i=0;return{next:function(){var e=s._keys[i++];return{value:void 0!==e?s._values[e].v:void 0,done:void 0===e}}}},Object.defineProperty(Map.prototype,\"size\",{enumerable:!0,get:function(){return this._keys.length}}),module.exports=Map,module.exports.Map=Map}","node_modules/bson/lib/bson/max_key.js":"function MaxKey(){if(!(this instanceof MaxKey))return new MaxKey;this._bsontype=\"MaxKey\"}module.exports=MaxKey,module.exports.MaxKey=MaxKey;","node_modules/bson/lib/bson/min_key.js":"function MinKey(){if(!(this instanceof MinKey))return new MinKey;this._bsontype=\"MinKey\"}module.exports=MinKey,module.exports.MinKey=MinKey;","node_modules/bson/lib/bson/objectid.js":"var MACHINE_ID=parseInt(16777215*Math.random(),10),checkForHexRegExp=new RegExp(\"^[0-9a-fA-F]{24}$\"),hasBufferType=!1;try{Buffer&&Buffer.from&&(hasBufferType=!0)}catch(t){}for(var ObjectID=function t(e){if(e instanceof t)return e;if(!(this instanceof t))return new t(e);if(this._bsontype=\"ObjectID\",null==e||\"number\"==typeof e)return this.id=this.generate(e),void(t.cacheHexString&&(this.__id=this.toString(\"hex\")));var i=t.isValid(e);if(!i&&null!=e)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(i&&\"string\"==typeof e&&24==e.length&&hasBufferType)return new t(new Buffer(e,\"hex\"));if(i&&\"string\"==typeof e&&24==e.length)return t.createFromHexString(e);if(null==e||12!==e.length){if(null!=e&&e.toHexString)return e;throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\")}this.id=e,t.cacheHexString&&(this.__id=this.toString(\"hex\"))},ObjectId=ObjectID,hexTable=[],i=0;i<256;i++)hexTable[i]=(i<=15?\"0\":\"\")+i.toString(16);ObjectID.prototype.toHexString=function(){if(ObjectID.cacheHexString&&this.__id)return this.__id;var t=\"\";if(!this.id||!this.id.length)throw new Error(\"invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [\"+JSON.stringify(this.id)+\"]\");if(this.id instanceof _Buffer)return t=convertToHex(this.id),ObjectID.cacheHexString&&(this.__id=t),t;for(var e=0;e<this.id.length;e++)t+=hexTable[this.id.charCodeAt(e)];return ObjectID.cacheHexString&&(this.__id=t),t},ObjectID.prototype.get_inc=function(){return ObjectID.index=(ObjectID.index+1)%16777215},ObjectID.prototype.getInc=function(){return this.get_inc()},ObjectID.prototype.generate=function(t){\"number\"!=typeof t&&(t=~~(Date.now()/1e3));var e=(\"undefined\"==typeof process?Math.floor(1e5*Math.random()):process.pid)%65535,i=this.get_inc(),r=new Buffer(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[6]=255&MACHINE_ID,r[5]=MACHINE_ID>>8&255,r[4]=MACHINE_ID>>16&255,r[8]=255&e,r[7]=e>>8&255,r[11]=255&i,r[10]=i>>8&255,r[9]=i>>16&255,r},ObjectID.prototype.toString=function(t){return this.id&&this.id.copy?this.id.toString(\"string\"==typeof t?t:\"hex\"):this.toHexString()},ObjectID.prototype.inspect=ObjectID.prototype.toString,ObjectID.prototype.toJSON=function(){return this.toHexString()},ObjectID.prototype.equals=function(t){return t instanceof ObjectID?this.toString()==t.toString():\"string\"==typeof t&&ObjectID.isValid(t)&&12==t.length&&this.id instanceof _Buffer?t===this.id.toString(\"binary\"):\"string\"==typeof t&&ObjectID.isValid(t)&&24==t.length?t.toLowerCase()===this.toHexString():\"string\"==typeof t&&ObjectID.isValid(t)&&12==t.length?t===this.id:!(null==t||!(t instanceof ObjectID||t.toHexString))&&t.toHexString()===this.toHexString()},ObjectID.prototype.getTimestamp=function(){var t=new Date,e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24;return t.setTime(1e3*Math.floor(e)),t},ObjectID.index=~~(16777215*Math.random()),ObjectID.createPk=function(){return new ObjectID},ObjectID.createFromTime=function(t){var e=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0]);return e[3]=255&t,e[2]=t>>8&255,e[1]=t>>16&255,e[0]=t>>24&255,new ObjectID(e)};var encodeLookup=\"0123456789abcdef\".split(\"\"),decodeLookup=[];for(i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer,convertToHex=function(t){return t.toString(\"hex\")};ObjectID.createFromHexString=function(t){if(void 0===t||null!=t&&24!=t.length)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(hasBufferType)return new ObjectID(new Buffer(t,\"hex\"));for(var e=new _Buffer(12),i=0,r=0;r<24;)e[i++]=decodeLookup[t.charCodeAt(r++)]<<4|decodeLookup[t.charCodeAt(r++)];return new ObjectID(e)},ObjectID.isValid=function(t){return null!=t&&(\"number\"==typeof t||(\"string\"==typeof t?12==t.length||24==t.length&&checkForHexRegExp.test(t):t instanceof ObjectID||(t instanceof _Buffer||!!t.toHexString&&(12==t.id.length||24==t.id.length&&checkForHexRegExp.test(t.id)))))},Object.defineProperty(ObjectID.prototype,\"generationTime\",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(t){this.id[3]=255&t,this.id[2]=t>>8&255,this.id[1]=t>>16&255,this.id[0]=t>>24&255}}),module.exports=ObjectID,module.exports.ObjectID=ObjectID,module.exports.ObjectId=ObjectID;","node_modules/bson/lib/bson/regexp.js":"function BSONRegExp(t,o){if(!(this instanceof BSONRegExp))return new BSONRegExp;this._bsontype=\"BSONRegExp\",this.pattern=t||\"\",this.options=o||\"\";for(var s=0;s<this.options.length;s++)if(\"i\"!=this.options[s]&&\"m\"!=this.options[s]&&\"x\"!=this.options[s]&&\"l\"!=this.options[s]&&\"s\"!=this.options[s]&&\"u\"!=this.options[s])throw new Error(\"the regular expression options [\"+this.options[s]+\"] is not supported\")}module.exports=BSONRegExp,module.exports.BSONRegExp=BSONRegExp;","node_modules/bson/lib/bson/symbol.js":"function Symbol(t){if(!(this instanceof Symbol))return new Symbol(t);this._bsontype=\"Symbol\",this.value=t}Symbol.prototype.valueOf=function(){return this.value},Symbol.prototype.toString=function(){return this.value},Symbol.prototype.inspect=function(){return this.value},Symbol.prototype.toJSON=function(){return this.value},module.exports=Symbol,module.exports.Symbol=Symbol;","node_modules/bson/lib/bson/timestamp.js":"function Timestamp(t,i){if(!(this instanceof Timestamp))return new Timestamp(t,i);this._bsontype=\"Timestamp\",this.low_=0|t,this.high_=0|i}Timestamp.prototype.toInt=function(){return this.low_},Timestamp.prototype.toNumber=function(){return this.high_*Timestamp.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Timestamp.prototype.toJSON=function(){return this.toString()},Timestamp.prototype.toString=function(t){var i=t||10;if(i<2||36<i)throw Error(\"radix out of range: \"+i);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(Timestamp.MIN_VALUE)){var e=Timestamp.fromNumber(i),m=this.div(e),s=m.multiply(e).subtract(this);return m.toString(i)+s.toInt().toString(i)}return\"-\"+this.negate().toString(i)}for(var r=Timestamp.fromNumber(Math.pow(i,6)),a=(s=this,\"\");;){var o=s.div(r),p=s.subtract(o.multiply(r)).toInt().toString(i);if((s=o).isZero())return p+a;for(;p.length<6;)p=\"0\"+p;a=\"\"+p+a}},Timestamp.prototype.getHighBits=function(){return this.high_},Timestamp.prototype.getLowBits=function(){return this.low_},Timestamp.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Timestamp.TWO_PWR_32_DBL_+this.low_},Timestamp.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Timestamp.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,i=31;i>0&&0==(t&1<<i);i--);return 0!=this.high_?i+33:i+1},Timestamp.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Timestamp.prototype.isNegative=function(){return this.high_<0},Timestamp.prototype.isOdd=function(){return 1==(1&this.low_)},Timestamp.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Timestamp.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Timestamp.prototype.lessThan=function(t){return this.compare(t)<0},Timestamp.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Timestamp.prototype.greaterThan=function(t){return this.compare(t)>0},Timestamp.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Timestamp.prototype.compare=function(t){if(this.equals(t))return 0;var i=this.isNegative(),e=t.isNegative();return i&&!e?-1:!i&&e?1:this.subtract(t).isNegative()?-1:1},Timestamp.prototype.negate=function(){return this.equals(Timestamp.MIN_VALUE)?Timestamp.MIN_VALUE:this.not().add(Timestamp.ONE)},Timestamp.prototype.add=function(t){var i=this.high_>>>16,e=65535&this.high_,m=this.low_>>>16,s=65535&this.low_,r=t.high_>>>16,a=65535&t.high_,o=t.low_>>>16,p=0,n=0,h=0,_=0;return _+=s+(65535&t.low_),h+=_>>>16,_&=65535,h+=m+o,n+=h>>>16,h&=65535,n+=e+a,p+=n>>>16,n&=65535,p+=i+r,p&=65535,Timestamp.fromBits(h<<16|_,p<<16|n)},Timestamp.prototype.subtract=function(t){return this.add(t.negate())},Timestamp.prototype.multiply=function(t){if(this.isZero())return Timestamp.ZERO;if(t.isZero())return Timestamp.ZERO;if(this.equals(Timestamp.MIN_VALUE))return t.isOdd()?Timestamp.MIN_VALUE:Timestamp.ZERO;if(t.equals(Timestamp.MIN_VALUE))return this.isOdd()?Timestamp.MIN_VALUE:Timestamp.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Timestamp.TWO_PWR_24_)&&t.lessThan(Timestamp.TWO_PWR_24_))return Timestamp.fromNumber(this.toNumber()*t.toNumber());var i=this.high_>>>16,e=65535&this.high_,m=this.low_>>>16,s=65535&this.low_,r=t.high_>>>16,a=65535&t.high_,o=t.low_>>>16,p=65535&t.low_,n=0,h=0,_=0,T=0;return T+=s*p,_+=T>>>16,T&=65535,_+=m*p,h+=_>>>16,_&=65535,_+=s*o,h+=_>>>16,_&=65535,h+=e*p,n+=h>>>16,h&=65535,h+=m*o,n+=h>>>16,h&=65535,h+=s*a,n+=h>>>16,h&=65535,n+=i*p+e*o+m*a+s*r,n&=65535,Timestamp.fromBits(_<<16|T,n<<16|h)},Timestamp.prototype.div=function(t){if(t.isZero())throw Error(\"division by zero\");if(this.isZero())return Timestamp.ZERO;if(this.equals(Timestamp.MIN_VALUE)){if(t.equals(Timestamp.ONE)||t.equals(Timestamp.NEG_ONE))return Timestamp.MIN_VALUE;if(t.equals(Timestamp.MIN_VALUE))return Timestamp.ONE;if((m=this.shiftRight(1).div(t).shiftLeft(1)).equals(Timestamp.ZERO))return t.isNegative()?Timestamp.ONE:Timestamp.NEG_ONE;var i=this.subtract(t.multiply(m));return m.add(i.div(t))}if(t.equals(Timestamp.MIN_VALUE))return Timestamp.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var e=Timestamp.ZERO;for(i=this;i.greaterThanOrEqual(t);){for(var m=Math.max(1,Math.floor(i.toNumber()/t.toNumber())),s=Math.ceil(Math.log(m)/Math.LN2),r=s<=48?1:Math.pow(2,s-48),a=Timestamp.fromNumber(m),o=a.multiply(t);o.isNegative()||o.greaterThan(i);)m-=r,o=(a=Timestamp.fromNumber(m)).multiply(t);a.isZero()&&(a=Timestamp.ONE),e=e.add(a),i=i.subtract(o)}return e},Timestamp.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Timestamp.prototype.not=function(){return Timestamp.fromBits(~this.low_,~this.high_)},Timestamp.prototype.and=function(t){return Timestamp.fromBits(this.low_&t.low_,this.high_&t.high_)},Timestamp.prototype.or=function(t){return Timestamp.fromBits(this.low_|t.low_,this.high_|t.high_)},Timestamp.prototype.xor=function(t){return Timestamp.fromBits(this.low_^t.low_,this.high_^t.high_)},Timestamp.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var i=this.low_;if(t<32){var e=this.high_;return Timestamp.fromBits(i<<t,e<<t|i>>>32-t)}return Timestamp.fromBits(0,i<<t-32)},Timestamp.prototype.shiftRight=function(t){if(0==(t&=63))return this;var i=this.high_;if(t<32){var e=this.low_;return Timestamp.fromBits(e>>>t|i<<32-t,i>>t)}return Timestamp.fromBits(i>>t-32,i>=0?0:-1)},Timestamp.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var i=this.high_;if(t<32){var e=this.low_;return Timestamp.fromBits(e>>>t|i<<32-t,i>>>t)}return 32==t?Timestamp.fromBits(i,0):Timestamp.fromBits(i>>>t-32,0)},Timestamp.fromInt=function(t){if(-128<=t&&t<128){var i=Timestamp.INT_CACHE_[t];if(i)return i}var e=new Timestamp(0|t,t<0?-1:0);return-128<=t&&t<128&&(Timestamp.INT_CACHE_[t]=e),e},Timestamp.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Timestamp.ZERO:t<=-Timestamp.TWO_PWR_63_DBL_?Timestamp.MIN_VALUE:t+1>=Timestamp.TWO_PWR_63_DBL_?Timestamp.MAX_VALUE:t<0?Timestamp.fromNumber(-t).negate():new Timestamp(t%Timestamp.TWO_PWR_32_DBL_|0,t/Timestamp.TWO_PWR_32_DBL_|0)},Timestamp.fromBits=function(t,i){return new Timestamp(t,i)},Timestamp.fromString=function(t,i){if(0==t.length)throw Error(\"number format error: empty string\");var e=i||10;if(e<2||36<e)throw Error(\"radix out of range: \"+e);if(\"-\"==t.charAt(0))return Timestamp.fromString(t.substring(1),e).negate();if(t.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+t);for(var m=Timestamp.fromNumber(Math.pow(e,8)),s=Timestamp.ZERO,r=0;r<t.length;r+=8){var a=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+a),e);if(a<8){var p=Timestamp.fromNumber(Math.pow(e,a));s=s.multiply(p).add(Timestamp.fromNumber(o))}else s=(s=s.multiply(m)).add(Timestamp.fromNumber(o))}return s},Timestamp.INT_CACHE_={},Timestamp.TWO_PWR_16_DBL_=65536,Timestamp.TWO_PWR_24_DBL_=1<<24,Timestamp.TWO_PWR_32_DBL_=Timestamp.TWO_PWR_16_DBL_*Timestamp.TWO_PWR_16_DBL_,Timestamp.TWO_PWR_31_DBL_=Timestamp.TWO_PWR_32_DBL_/2,Timestamp.TWO_PWR_48_DBL_=Timestamp.TWO_PWR_32_DBL_*Timestamp.TWO_PWR_16_DBL_,Timestamp.TWO_PWR_64_DBL_=Timestamp.TWO_PWR_32_DBL_*Timestamp.TWO_PWR_32_DBL_,Timestamp.TWO_PWR_63_DBL_=Timestamp.TWO_PWR_64_DBL_/2,Timestamp.ZERO=Timestamp.fromInt(0),Timestamp.ONE=Timestamp.fromInt(1),Timestamp.NEG_ONE=Timestamp.fromInt(-1),Timestamp.MAX_VALUE=Timestamp.fromBits(-1,2147483647),Timestamp.MIN_VALUE=Timestamp.fromBits(0,-2147483648),Timestamp.TWO_PWR_24_=Timestamp.fromInt(1<<24),module.exports=Timestamp,module.exports.Timestamp=Timestamp;","node_modules/bson/lib/bson/float_parser.js":"var readIEEE754=function(a,t,o,r,E){var h,M,e=\"big\"===o,w=8*E-r-1,i=(1<<w)-1,p=i>>1,f=-7,N=e?0:E-1,n=e?1:-1,s=a[t+N];for(N+=n,h=s&(1<<-f)-1,s>>=-f,f+=w;f>0;h=256*h+a[t+N],N+=n,f-=8);for(M=h&(1<<-f)-1,h>>=-f,f+=r;f>0;M=256*M+a[t+N],N+=n,f-=8);if(0===h)h=1-p;else{if(h===i)return M?NaN:1/0*(s?-1:1);M+=Math.pow(2,r),h-=p}return(s?-1:1)*M*Math.pow(2,h-r)},writeIEEE754=function(a,t,o,r,E,h){var M,e,w,i=\"big\"===r,p=8*h-E-1,f=(1<<p)-1,N=f>>1,n=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,s=i?h-1:0,I=i?-1:1,u=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(e=isNaN(t)?1:0,M=f):(M=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-M))<1&&(M--,w*=2),(t+=M+N>=1?n/w:n*Math.pow(2,1-N))*w>=2&&(M++,w/=2),M+N>=f?(e=0,M=f):M+N>=1?(e=(t*w-1)*Math.pow(2,E),M+=N):(e=t*Math.pow(2,N-1)*Math.pow(2,E),M=0));E>=8;a[o+s]=255&e,s+=I,e/=256,E-=8);for(M=M<<E|e,p+=E;p>0;a[o+s]=255&M,s+=I,M/=256,p-=8);a[o+s-I]|=128*u};exports.readIEEE754=readIEEE754,exports.writeIEEE754=writeIEEE754;","node_modules/bson/lib/bson/parser/deserializer.js":"\"use strict\";var readIEEE754=require(\"../float_parser\").readIEEE754,f=require(\"util\").format,Long=require(\"../long\").Long,Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,Code=require(\"../code\").Code,MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,Decimal128=require(\"../decimal128\"),Int32=require(\"../int_32\"),DBRef=require(\"../db_ref\").DBRef,BSONRegExp=require(\"../regexp\").BSONRegExp,Binary=require(\"../binary\").Binary,deserialize=function(e,r,n){var t=(r=null==r?{}:r)&&r.index?r.index:0,i=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(i<5||e.length<i||i+t>e.length)throw new Error(\"corrupt bson message\");if(0!=e[t+i-1])throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");return deserializeObject(e,t,r,n)},deserializeObject=function(e,r,n,t){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,a=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32,l=null==n.fieldsAsRaw?null:n.fieldsAsRaw,N=null!=n.raw&&n.raw,B=\"boolean\"==typeof n.bsonRegExp&&n.bsonRegExp,S=null!=n.promoteBuffers&&n.promoteBuffers,O=null==n.promoteLongs||n.promoteLongs,_=null==n.promoteValues||n.promoteValues,s=r;if(e.length<5)throw new Error(\"corrupt bson message < 5 bytes long\");var f=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;if(f<5||f>e.length)throw new Error(\"corrupt bson message\");for(var A=t?[]:{},u=0;;){var c=e[r++];if(0==c)break;for(var w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var h=t?u++:e.toString(\"utf8\",r,w);if(r=w+1,c==BSON.BSON_DATA_STRING){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");A[h]=e.toString(\"utf8\",r,r+F-1),r+=F}else if(c==BSON.BSON_DATA_OID){var E=new Buffer(12);e.copy(E,0,r,r+12),A[h]=new ObjectID(E),r+=12}else if(c==BSON.BSON_DATA_INT&&0==_)A[h]=new Int32(e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24);else if(c==BSON.BSON_DATA_INT)A[h]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;else if(c==BSON.BSON_DATA_NUMBER&&0==_)A[h]=new Double(e.readDoubleLE(r)),r+=8;else if(c==BSON.BSON_DATA_NUMBER)A[h]=e.readDoubleLE(r),r+=8;else if(c==BSON.BSON_DATA_DATE){var g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;A[h]=new Date(new Long(g,D).toNumber())}else if(c==BSON.BSON_DATA_BOOLEAN){if(0!=e[r]&&1!=e[r])throw new Error(\"illegal boolean type value\");A[h]=1==e[r++]}else if(c==BSON.BSON_DATA_OBJECT){var T=r;if((q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)<=0||q>e.length-r)throw new Error(\"bad embedded document length in bson\");A[h]=N?e.slice(r,r+q):deserializeObject(e,T,n,!1),r+=q}else if(c==BSON.BSON_DATA_ARRAY){T=r;var b=n,y=r+(q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24);if(l&&l[h]){b={};for(var d in n)b[d]=n[d];b.raw=!0}if(A[h]=deserializeObject(e,T,b,!0),r+=q,0!=e[r-1])throw new Error(\"invalid array terminator byte\");if(r!=y)throw new Error(\"corrupted array bson\")}else if(c==BSON.BSON_DATA_UNDEFINED)A[h]=void 0;else if(c==BSON.BSON_DATA_NULL)A[h]=null;else if(c==BSON.BSON_DATA_LONG){g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var p=new Long(g,D);A[h]=O&&1==_&&p.lessThanOrEqual(JS_INT_MAX_LONG)&&p.greaterThanOrEqual(JS_INT_MIN_LONG)?p.toNumber():p}else if(c==BSON.BSON_DATA_DECIMAL128){var v=new Buffer(16);e.copy(v,0,r,r+16),r+=16;var m=new Decimal128(v);A[h]=m.toObject?m.toObject():m}else if(c==BSON.BSON_DATA_BINARY){var I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,R=I,M=e[r++];if(I<0)throw new Error(\"Negative binary type element size found\");if(I>e.length)throw new Error(\"Binary type size larger than document size\");if(null!=e.slice){if(M==Binary.SUBTYPE_BYTE_ARRAY){if((I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(I>R-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(I<R-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}A[h]=S&&_?e.slice(r,r+I):new Binary(e.slice(r,r+I),M)}else{var C=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(I)):new Array(I);if(M==Binary.SUBTYPE_BYTE_ARRAY){if((I=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(I>R-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(I<R-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}for(w=0;w<I;w++)C[w]=e[r+w];A[h]=S&&_?C:new Binary(C,M)}r+=I}else if(c==BSON.BSON_DATA_REGEXP&&0==B){for(w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var Y=e.toString(\"utf8\",r,w);for(w=r=w+1;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var L=e.toString(\"utf8\",r,w);r=w+1;var x=new Array(L.length);for(w=0;w<L.length;w++)switch(L[w]){case\"m\":x[w]=\"m\";break;case\"s\":x[w]=\"g\";break;case\"i\":x[w]=\"i\"}A[h]=new RegExp(Y,x.join(\"\"))}else if(c==BSON.BSON_DATA_REGEXP&&1==B){for(w=r;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");for(Y=e.toString(\"utf8\",r,w),w=r=w+1;0!==e[w]&&w<e.length;)w++;if(w>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");L=e.toString(\"utf8\",r,w);r=w+1,A[h]=new BSONRegExp(Y,L)}else if(c==BSON.BSON_DATA_SYMBOL){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");A[h]=new Symbol(e.toString(\"utf8\",r,r+F-1)),r+=F}else if(c==BSON.BSON_DATA_TIMESTAMP){g=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24,D=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;A[h]=new Timestamp(g,D)}else if(c==BSON.BSON_DATA_MIN_KEY)A[h]=new MinKey;else if(c==BSON.BSON_DATA_MAX_KEY)A[h]=new MaxKey;else if(c==BSON.BSON_DATA_CODE){if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");var U=e.toString(\"utf8\",r,r+F-1);if(i){if(o){var z=a?crc32(U):U;A[h]=isolateEvalWithHash(functionCache,z,U,A)}else A[h]=isolateEval(U)}else A[h]=new Code(U);r+=F}else if(c==BSON.BSON_DATA_CODE_W_SCOPE){var j=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;if(j<13)throw new Error(\"code_w_scope total size shorter minimum expected length\");if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");U=e.toString(\"utf8\",r,r+F-1),T=r+=F;var q=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24,P=deserializeObject(e,T,n,!1);if(r+=q,j<8+q+F)throw new Error(\"code_w_scope total size is to short, truncating scope\");if(j>8+q+F)throw new Error(\"code_w_scope total size is to long, clips outer document\");if(i){if(o){z=a?crc32(U):U;A[h]=isolateEvalWithHash(functionCache,z,U,A)}else A[h]=isolateEval(U);A[h].scope=P}else A[h]=new Code(U,P)}else{if(c!=BSON.BSON_DATA_DBPOINTER)throw new Error(\"Detected unknown BSON type \"+c.toString(16)+' for fieldname \"'+h+'\", are you using the latest BSON parser');var F;if((F=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24)<=0||F>e.length-r||0!=e[r+F-1])throw new Error(\"bad string length in bson\");var G=e.toString(\"utf8\",r,r+F-1);r+=F;var K=new Buffer(12);e.copy(K,0,r,r+12);E=new ObjectID(K);r+=12;var X=G.split(\".\"),J=X.shift(),k=X.join(\".\");A[h]=new DBRef(k,E,J)}}if(f!=r-s){if(t)throw new Error(\"corrupt array bson\");throw new Error(\"corrupt object bson\")}return null!=A.$id&&(A=new DBRef(A.$ref,A.$id,A.$db)),A},isolateEvalWithHash=function(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval(\"value = \"+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function(functionString){var value=null;return eval(\"value = \"+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize;","node_modules/bson/lib/bson/parser/serializer.js":"\"use strict\";var writeIEEE754=require(\"../float_parser\").writeIEEE754,readIEEE754=require(\"../float_parser\").readIEEE754,Long=require(\"../long\").Long,Map=require(\"../map\"),Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,Code=require(\"../code\").Code,BSONRegExp=require(\"../regexp\").BSONRegExp,Int32=require(\"../int_32\").Int32,MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,Decimal128=require(\"../decimal128\"),DBRef=require(\"../db_ref\").DBRef,Binary=require(\"../binary\").Binary;try{var _Buffer=Uint8Array}catch(e){_Buffer=Buffer}var regexp=/\\x00/,isDate=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},isRegExp=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},serializeString=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_STRING;e[(r=r+(n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"))+1)-1]=0;var o=e.write(t,r+4,\"utf8\");return e[r+3]=o+1>>24&255,e[r+2]=o+1>>16&255,e[r+1]=o+1>>8&255,e[r]=o+1&255,r=r+4+o,e[r++]=0,r},serializeNumber=function(e,i,t,r,n){if(Math.floor(t)===t&&t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX)if(t>=BSON.BSON_INT32_MIN&&t<=BSON.BSON_INT32_MAX){e[r++]=BSON.BSON_DATA_INT;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=t>>16&255,e[r++]=t>>24&255}else if(t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX){e[r++]=BSON.BSON_DATA_NUMBER;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8}else{e[r++]=BSON.BSON_DATA_LONG;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=Long.fromNumber(t),a=o.getLowBits(),s=o.getHighBits();e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255}else{e[r++]=BSON.BSON_DATA_NUMBER;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8}return r},serializeNull=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_NULL;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,r},serializeBoolean=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BOOLEAN;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=t?1:0,r},serializeDate=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_DATE;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=Long.fromNumber(t.getTime()),a=o.getLowBits(),s=o.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r},serializeRegExp=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_REGEXP;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,t.source&&null!=t.source.match(regexp))throw Error(\"value \"+t.source+\" must not contain null bytes\");return r+=e.write(t.source,r,\"utf8\"),e[r++]=0,t.global&&(e[r++]=115),t.ignoreCase&&(e[r++]=105),t.multiline&&(e[r++]=109),e[r++]=0,r},serializeBSONRegExp=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_REGEXP;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,null!=t.pattern.match(regexp))throw Error(\"pattern \"+t.pattern+\" must not contain null bytes\");return r+=e.write(t.pattern,r,\"utf8\"),e[r++]=0,r+=e.write(t.options.split(\"\").sort().join(\"\"),r,\"utf8\"),e[r++]=0,r},serializeMinMax=function(e,i,t,r,n){e[r++]=null===t?BSON.BSON_DATA_NULL:t instanceof MinKey?BSON.BSON_DATA_MIN_KEY:BSON.BSON_DATA_MAX_KEY;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,r},serializeObjectId=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_OID;if(r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,\"string\"==typeof t.id)e.write(t.id,r,\"binary\");else{if(!t.id||!t.id.copy)throw new Error(\"object [\"+JSON.stringify(t)+\"] is not a valid ObjectId\");t.id.copy(e,r,0,12)}return r+12},serializeBuffer=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BINARY;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=BSON.BSON_BINARY_SUBTYPE_DEFAULT,t.copy(e,r,0,o),r+=o},serializeObject=function(e,i,t,r,n,o,a,s,B,N){for(var _=0;_<N.length;_++)if(N[_]===t)throw new Error(\"cyclic dependency detected\");N.push(t),e[r++]=Array.isArray(t)?BSON.BSON_DATA_ARRAY:BSON.BSON_DATA_OBJECT;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var l=serializeInto(e,t,n,r,o+1,a,s,N);N.pop();return l},serializeDecimal128=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_DECIMAL128;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,t.bytes.copy(e,r,0,16),r+16},serializeLong=function(e,i,t,r,n){e[r++]=\"Long\"==t._bsontype?BSON.BSON_DATA_LONG:BSON.BSON_DATA_TIMESTAMP;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.getLowBits(),a=t.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r},serializeInt32=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_INT;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=t>>16&255,e[r++]=t>>24&255,r},serializeDouble=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_NUMBER;return r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0,writeIEEE754(e,t,r,\"little\",52,8),r+=8},serializeFunction=function(e,i,t,r,n,o,a){e[r++]=BSON.BSON_DATA_CODE;r+=a?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var s=t.toString(),B=e.write(s,r+4,\"utf8\")+1;return e[r]=255&B,e[r+1]=B>>8&255,e[r+2]=B>>16&255,e[r+3]=B>>24&255,r=r+4+B-1,e[r++]=0,r},serializeCode=function(e,i,t,r,n,o,a,s,B){if(t.scope&&\"object\"==typeof t.scope){e[r++]=BSON.BSON_DATA_CODE_W_SCOPE;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var N=r,_=\"string\"==typeof t.code?t.code:t.code.toString();r+=4;var l=e.write(_,r+4,\"utf8\")+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;var S=serializeInto(e,t.scope,n,r,o+1,a,s);r=S-1;var O=S-N;e[N++]=255&O,e[N++]=O>>8&255,e[N++]=O>>16&255,e[N++]=O>>24&255,e[r++]=0}else{e[r++]=BSON.BSON_DATA_CODE;r+=B?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;_=t.code.toString();var u=e.write(_,r+4,\"utf8\")+1;e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0}return r},serializeBinary=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_BINARY;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=t.value(!0),a=t.position;return t.sub_type==Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=t.sub_type,t.sub_type==Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),o.copy(e,r,0,t.position),r+=t.position},serializeSymbol=function(e,i,t,r,n){e[r++]=BSON.BSON_DATA_SYMBOL;r+=n?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var o=e.write(t.value,r+4,\"utf8\")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r},serializeDBRef=function(e,i,t,r,n,o,a){e[r++]=BSON.BSON_DATA_OBJECT;r+=a?e.write(i,r,\"ascii\"):e.write(i,r,\"utf8\"),e[r++]=0;var s,B=r,N=(s=null!=t.db?serializeInto(e,{$ref:t.namespace,$id:t.oid,$db:t.db},!1,r,n+1,o):serializeInto(e,{$ref:t.namespace,$id:t.oid},!1,r,n+1,o))-B;return e[B++]=255&N,e[B++]=N>>8&255,e[B++]=N>>16&255,e[B++]=N>>24&255,s},serializeInto=function(e,i,t,r,n,o,a,s){r=r||0,(s=s||[]).push(i);var B=r+4;if(Array.isArray(i))for(var N=0;N<i.length;N++){var _=\"\"+N;if((f=i[N])&&f.toBSON){if(\"function\"!=typeof f.toBSON)throw new Error(\"toBSON is not a function\");f=f.toBSON()}\"string\"==(u=typeof f)?B=serializeString(e,_,f,B,!0):\"number\"==u?B=serializeNumber(e,_,f,B,!0):\"boolean\"==u?B=serializeBoolean(e,_,f,B,!0):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B,!0):void 0===f?B=serializeNull(e,_,f,B,!0):null===f?B=serializeNull(e,_,f,B,!0):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B,!0):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B,!0):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B,!0):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!0,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B,!0):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B,!0):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B,!0):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o,!0):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a,!0):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B,!0):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B,!0):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o,!0):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B,!0):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B,!0):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B,!0))}else if(i instanceof Map)for(var l=i.entries(),S=!1;!S;){var O=l.next();if(!(S=O.done)){_=O.value[0];var u=typeof(f=O.value[1]);if(\"$db\"!=_&&\"$ref\"!=_&&\"$id\"!=_){if(null!=_.match(regexp))throw Error(\"key \"+_+\" must not contain null bytes\");if(t){if(\"$\"==_[0])throw Error(\"key \"+_+\" must not start with '$'\");if(~_.indexOf(\".\"))throw Error(\"key \"+_+\" must not contain '.'\")}}\"string\"==u?B=serializeString(e,_,f,B):\"number\"==u?B=serializeNumber(e,_,f,B):\"boolean\"==u?B=serializeBoolean(e,_,f,B):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B):void 0===f&&1==a||(null===f||void 0===f?B=serializeNull(e,_,f,B):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!1,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B)))}}else{if(i.toBSON){if(\"function\"!=typeof i.toBSON)throw new Error(\"toBSON is not a function\");if(null!=(i=i.toBSON())&&\"object\"!=typeof i)throw new Error(\"toBSON function did not return an object\")}for(var _ in i){var f;if((f=i[_])&&f.toBSON){if(\"function\"!=typeof f.toBSON)throw new Error(\"toBSON is not a function\");f=f.toBSON()}u=typeof f;if(\"$db\"!=_&&\"$ref\"!=_&&\"$id\"!=_){if(null!=_.match(regexp))throw Error(\"key \"+_+\" must not contain null bytes\");if(t){if(\"$\"==_[0])throw Error(\"key \"+_+\" must not start with '$'\");if(~_.indexOf(\".\"))throw Error(\"key \"+_+\" must not contain '.'\")}}\"string\"==u?B=serializeString(e,_,f,B):\"number\"==u?B=serializeNumber(e,_,f,B):\"boolean\"==u?B=serializeBoolean(e,_,f,B):f instanceof Date||isDate(f)?B=serializeDate(e,_,f,B):void 0===f&&1==a||(null===f||void 0===f?B=serializeNull(e,_,f,B):\"ObjectID\"==f._bsontype?B=serializeObjectId(e,_,f,B):Buffer.isBuffer(f)?B=serializeBuffer(e,_,f,B):f instanceof RegExp||isRegExp(f)?B=serializeRegExp(e,_,f,B):\"object\"==u&&null==f._bsontype?B=serializeObject(e,_,f,B,t,n,o,a,!1,s):\"object\"==u&&\"Decimal128\"==f._bsontype?B=serializeDecimal128(e,_,f,B):\"Long\"==f._bsontype||\"Timestamp\"==f._bsontype?B=serializeLong(e,_,f,B):\"Double\"==f._bsontype?B=serializeDouble(e,_,f,B):\"Code\"==f._bsontype?B=serializeCode(e,_,f,B,t,n,o,a):\"function\"==typeof f&&o?B=serializeFunction(e,_,f,B,t,n,o):\"Binary\"==f._bsontype?B=serializeBinary(e,_,f,B):\"Symbol\"==f._bsontype?B=serializeSymbol(e,_,f,B):\"DBRef\"==f._bsontype?B=serializeDBRef(e,_,f,B,n,o):\"BSONRegExp\"==f._bsontype?B=serializeBSONRegExp(e,_,f,B):\"Int32\"==f._bsontype?B=serializeInt32(e,_,f,B):\"MinKey\"!=f._bsontype&&\"MaxKey\"!=f._bsontype||(B=serializeMinMax(e,_,f,B)))}}s.pop(),e[B++]=0;var c=B-r;return e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255,B},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=serializeInto;","node_modules/bson/lib/bson/parser/calculate_size.js":"\"use strict\";var writeIEEE754=require(\"../float_parser\").writeIEEE754,readIEEE754=require(\"../float_parser\").readIEEE754,Long=require(\"../long\").Long,Double=require(\"../double\").Double,Timestamp=require(\"../timestamp\").Timestamp,ObjectID=require(\"../objectid\").ObjectID,Symbol=require(\"../symbol\").Symbol,BSONRegExp=require(\"../regexp\").BSONRegExp,Code=require(\"../code\").Code,Decimal128=require(\"../decimal128\"),MinKey=require(\"../min_key\").MinKey,MaxKey=require(\"../max_key\").MaxKey,DBRef=require(\"../db_ref\").DBRef,Binary=require(\"../binary\").Binary,isDate=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},calculateObjectSize=function(e,t,n){var u=5;if(Array.isArray(e))for(var r=0;r<e.length;r++)u+=calculateElement(r.toString(),e[r],t,!0,n);else{e.toBSON&&(e=e.toBSON());for(var f in e)u+=calculateElement(f,e[f],t,!1,n)}return u};function calculateElement(e,t,n,u,r){switch(t&&t.toBSON&&(t=t.toBSON()),typeof t){case\"string\":return 1+Buffer.byteLength(e,\"utf8\")+1+4+Buffer.byteLength(t,\"utf8\")+1;case\"number\":return Math.floor(t)===t&&t>=BSON.JS_INT_MIN&&t<=BSON.JS_INT_MAX&&t>=BSON.BSON_INT32_MIN&&t<=BSON.BSON_INT32_MAX?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+5:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;case\"undefined\":return u||!r?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1:0;case\"boolean\":return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+2;case\"object\":if(null==t||t instanceof MinKey||t instanceof MaxKey||\"MinKey\"==t._bsontype||\"MaxKey\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1;if(t instanceof ObjectID||\"ObjectID\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+13;if(t instanceof Date||isDate(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(\"undefined\"!=typeof Buffer&&Buffer.isBuffer(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+6+t.length;if(t instanceof Long||t instanceof Double||t instanceof Timestamp||\"Long\"==t._bsontype||\"Double\"==t._bsontype||\"Timestamp\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(t instanceof Decimal128||\"Decimal128\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+17;if(t instanceof Code||\"Code\"==t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1+calculateObjectSize(t.scope,n,r):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1;if(t instanceof Binary||\"Binary\"==t._bsontype)return t.sub_type==Binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1);if(t instanceof Symbol||\"Symbol\"==t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+Buffer.byteLength(t.value,\"utf8\")+4+1+1;if(t instanceof DBRef||\"DBRef\"==t._bsontype){var f={$ref:t.namespace,$id:t.oid};return null!=t.db&&(f.$db=t.db),(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+calculateObjectSize(f,n,r)}return t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:t instanceof BSONRegExp||\"BSONRegExp\"==t._bsontype?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.pattern,\"utf8\")+1+Buffer.byteLength(t.options,\"utf8\")+1:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+calculateObjectSize(t,n,r)+1;case\"function\":if(t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)||\"[object RegExp]\"==String.call(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.toString(),\"utf8\")+1+calculateObjectSize(t.scope,n,r);if(n)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.toString(),\"utf8\")+1}return 0}var BSON={};BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992,module.exports=calculateObjectSize;","node_modules/resolve-from/index.js":"\"use strict\";var path=require(\"path\"),Module=require(\"module\");module.exports=function(e,r){if(\"string\"!=typeof e||\"string\"!=typeof r)throw new TypeError(\"Expected `fromDir` and `moduleId` to be a string\");e=path.resolve(e);var t=path.join(e,\"noop.js\");try{return Module._resolveFilename(r,{id:t,filename:t,paths:Module._nodeModulePaths(e)})}catch(e){return null}};","node_modules/semver/semver.js":"exports=module.exports=SemVer;var debug;debug=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(\"SEMVER\"),console.log.apply(console,r)}:function(){},exports.SEMVER_SPEC_VERSION=\"2.0.0\";var MAX_LENGTH=256,MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]=\"0|[1-9]\\\\d*\";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]=\"[0-9]+\";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]=\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";var MAINVERSION=R++;src[MAINVERSION]=\"(\"+src[NUMERICIDENTIFIER]+\")\\\\.(\"+src[NUMERICIDENTIFIER]+\")\\\\.(\"+src[NUMERICIDENTIFIER]+\")\";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]=\"(\"+src[NUMERICIDENTIFIERLOOSE]+\")\\\\.(\"+src[NUMERICIDENTIFIERLOOSE]+\")\\\\.(\"+src[NUMERICIDENTIFIERLOOSE]+\")\";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]=\"(?:\"+src[NUMERICIDENTIFIER]+\"|\"+src[NONNUMERICIDENTIFIER]+\")\";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]=\"(?:\"+src[NUMERICIDENTIFIERLOOSE]+\"|\"+src[NONNUMERICIDENTIFIER]+\")\";var PRERELEASE=R++;src[PRERELEASE]=\"(?:-(\"+src[PRERELEASEIDENTIFIER]+\"(?:\\\\.\"+src[PRERELEASEIDENTIFIER]+\")*))\";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]=\"(?:-?(\"+src[PRERELEASEIDENTIFIERLOOSE]+\"(?:\\\\.\"+src[PRERELEASEIDENTIFIERLOOSE]+\")*))\";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]=\"[0-9A-Za-z-]+\";var BUILD=R++;src[BUILD]=\"(?:\\\\+(\"+src[BUILDIDENTIFIER]+\"(?:\\\\.\"+src[BUILDIDENTIFIER]+\")*))\";var FULL=R++,FULLPLAIN=\"v?\"+src[MAINVERSION]+src[PRERELEASE]+\"?\"+src[BUILD]+\"?\";src[FULL]=\"^\"+FULLPLAIN+\"$\";var LOOSEPLAIN=\"[v=\\\\s]*\"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+\"?\"+src[BUILD]+\"?\",LOOSE=R++;src[LOOSE]=\"^\"+LOOSEPLAIN+\"$\";var GTLT=R++;src[GTLT]=\"((?:<|>)?=?)\";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+\"|x|X|\\\\*\";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+\"|x|X|\\\\*\";var XRANGEPLAIN=R++;src[XRANGEPLAIN]=\"[v=\\\\s]*(\"+src[XRANGEIDENTIFIER]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIER]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIER]+\")(?:\"+src[PRERELEASE]+\")?\"+src[BUILD]+\"?)?)?\";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]=\"[v=\\\\s]*(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\\\\.(\"+src[XRANGEIDENTIFIERLOOSE]+\")(?:\"+src[PRERELEASELOOSE]+\")?\"+src[BUILD]+\"?)?)?\";var XRANGE=R++;src[XRANGE]=\"^\"+src[GTLT]+\"\\\\s*\"+src[XRANGEPLAIN]+\"$\";var XRANGELOOSE=R++;src[XRANGELOOSE]=\"^\"+src[GTLT]+\"\\\\s*\"+src[XRANGEPLAINLOOSE]+\"$\";var LONETILDE=R++;src[LONETILDE]=\"(?:~>?)\";var TILDETRIM=R++;src[TILDETRIM]=\"(\\\\s*)\"+src[LONETILDE]+\"\\\\s+\",re[TILDETRIM]=new RegExp(src[TILDETRIM],\"g\");var tildeTrimReplace=\"$1~\",TILDE=R++;src[TILDE]=\"^\"+src[LONETILDE]+src[XRANGEPLAIN]+\"$\";var TILDELOOSE=R++;src[TILDELOOSE]=\"^\"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+\"$\";var LONECARET=R++;src[LONECARET]=\"(?:\\\\^)\";var CARETTRIM=R++;src[CARETTRIM]=\"(\\\\s*)\"+src[LONECARET]+\"\\\\s+\",re[CARETTRIM]=new RegExp(src[CARETTRIM],\"g\");var caretTrimReplace=\"$1^\",CARET=R++;src[CARET]=\"^\"+src[LONECARET]+src[XRANGEPLAIN]+\"$\";var CARETLOOSE=R++;src[CARETLOOSE]=\"^\"+src[LONECARET]+src[XRANGEPLAINLOOSE]+\"$\";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]=\"^\"+src[GTLT]+\"\\\\s*(\"+LOOSEPLAIN+\")$|^$\";var COMPARATOR=R++;src[COMPARATOR]=\"^\"+src[GTLT]+\"\\\\s*(\"+FULLPLAIN+\")$|^$\";var COMPARATORTRIM=R++;src[COMPARATORTRIM]=\"(\\\\s*)\"+src[GTLT]+\"\\\\s*(\"+LOOSEPLAIN+\"|\"+src[XRANGEPLAIN]+\")\",re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],\"g\");var comparatorTrimReplace=\"$1$2$3\",HYPHENRANGE=R++;src[HYPHENRANGE]=\"^\\\\s*(\"+src[XRANGEPLAIN]+\")\\\\s+-\\\\s+(\"+src[XRANGEPLAIN]+\")\\\\s*$\";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]=\"^\\\\s*(\"+src[XRANGEPLAINLOOSE]+\")\\\\s+-\\\\s+(\"+src[XRANGEPLAINLOOSE]+\")\\\\s*$\";var STAR=R++;src[STAR]=\"(<|>)?=?\\\\s*\\\\*\";for(var i=0;i<R;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));exports.parse=parse;function parse(r,e){if(r instanceof SemVer)return r;if(\"string\"!=typeof r)return null;if(r.length>MAX_LENGTH)return null;if(!(e?re[LOOSE]:re[FULL]).test(r))return null;try{return new SemVer(r,e)}catch(r){return null}}exports.valid=valid;function valid(r,e){var t=parse(r,e);return t?t.version:null}exports.clean=clean;function clean(r,e){var t=parse(r.trim().replace(/^[=v]+/,\"\"),e);return t?t.version:null}exports.SemVer=SemVer;function SemVer(r,e){if(r instanceof SemVer){if(r.loose===e)return r;r=r.version}else if(\"string\"!=typeof r)throw new TypeError(\"Invalid Version: \"+r);if(r.length>MAX_LENGTH)throw new TypeError(\"version is longer than \"+MAX_LENGTH+\" characters\");if(!(this instanceof SemVer))return new SemVer(r,e);debug(\"SemVer\",r,e),this.loose=e;var t=r.trim().match(e?re[LOOSE]:re[FULL]);if(!t)throw new TypeError(\"Invalid Version: \"+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(function(r){if(/^[0-9]+$/.test(r)){var e=+r;if(e>=0&&e<MAX_SAFE_INTEGER)return e}return r}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}SemVer.prototype.format=function(){return this.version=this.major+\".\"+this.minor+\".\"+this.patch,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(r){return debug(\"SemVer.compare\",this.version,this.loose,r),r instanceof SemVer||(r=new SemVer(r,this.loose)),this.compareMain(r)||this.comparePre(r)},SemVer.prototype.compareMain=function(r){return r instanceof SemVer||(r=new SemVer(r,this.loose)),compareIdentifiers(this.major,r.major)||compareIdentifiers(this.minor,r.minor)||compareIdentifiers(this.patch,r.patch)},SemVer.prototype.comparePre=function(r){if(r instanceof SemVer||(r=new SemVer(r,this.loose)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],s=r.prerelease[e];if(debug(\"prerelease compare\",e,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++e)},SemVer.prototype.inc=function(r,e){switch(r){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",e);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",e);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)\"number\"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(\"invalid increment argument: \"+r)}return this.format(),this.raw=this.version,this},exports.inc=inc;function inc(r,e,t,s){\"string\"==typeof t&&(s=t,t=void 0);try{return new SemVer(r,t).inc(e,s).version}catch(r){return null}}exports.diff=diff;function diff(r,e){if(eq(r,e))return null;var t=parse(r),s=parse(e);if(t.prerelease.length||s.prerelease.length){for(var n in t)if((\"major\"===n||\"minor\"===n||\"patch\"===n)&&t[n]!==s[n])return\"pre\"+n;return\"prerelease\"}for(var n in t)if((\"major\"===n||\"minor\"===n||\"patch\"===n)&&t[n]!==s[n])return n}exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(r,e){var t=numeric.test(r),s=numeric.test(e);return t&&s&&(r=+r,e=+e),t&&!s?-1:s&&!t?1:r<e?-1:r>e?1:0}exports.rcompareIdentifiers=rcompareIdentifiers;function rcompareIdentifiers(r,e){return compareIdentifiers(e,r)}exports.major=major;function major(r,e){return new SemVer(r,e).major}exports.minor=minor;function minor(r,e){return new SemVer(r,e).minor}exports.patch=patch;function patch(r,e){return new SemVer(r,e).patch}exports.compare=compare;function compare(r,e,t){return new SemVer(r,t).compare(new SemVer(e,t))}exports.compareLoose=compareLoose;function compareLoose(r,e){return compare(r,e,!0)}exports.rcompare=rcompare;function rcompare(r,e,t){return compare(e,r,t)}exports.sort=sort;function sort(r,e){return r.sort(function(r,t){return exports.compare(r,t,e)})}exports.rsort=rsort;function rsort(r,e){return r.sort(function(r,t){return exports.rcompare(r,t,e)})}exports.gt=gt;function gt(r,e,t){return compare(r,e,t)>0}exports.lt=lt;function lt(r,e,t){return compare(r,e,t)<0}exports.eq=eq;function eq(r,e,t){return 0===compare(r,e,t)}exports.neq=neq;function neq(r,e,t){return 0!==compare(r,e,t)}exports.gte=gte;function gte(r,e,t){return compare(r,e,t)>=0}exports.lte=lte;function lte(r,e,t){return compare(r,e,t)<=0}exports.cmp=cmp;function cmp(r,e,t,s){var n;switch(e){case\"===\":\"object\"==typeof r&&(r=r.version),\"object\"==typeof t&&(t=t.version),n=r===t;break;case\"!==\":\"object\"==typeof r&&(r=r.version),\"object\"==typeof t&&(t=t.version),n=r!==t;break;case\"\":case\"=\":case\"==\":n=eq(r,t,s);break;case\"!=\":n=neq(r,t,s);break;case\">\":n=gt(r,t,s);break;case\">=\":n=gte(r,t,s);break;case\"<\":n=lt(r,t,s);break;case\"<=\":n=lte(r,t,s);break;default:throw new TypeError(\"Invalid operator: \"+e)}return n}exports.Comparator=Comparator;function Comparator(r,e){if(r instanceof Comparator){if(r.loose===e)return r;r=r.value}if(!(this instanceof Comparator))return new Comparator(r,e);debug(\"comparator\",r,e),this.loose=e,this.parse(r),this.semver===ANY?this.value=\"\":this.value=this.operator+this.semver.version,debug(\"comp\",this)}var ANY={};Comparator.prototype.parse=function(r){var e=this.loose?re[COMPARATORLOOSE]:re[COMPARATOR],t=r.match(e);if(!t)throw new TypeError(\"Invalid comparator: \"+r);this.operator=t[1],\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new SemVer(t[2],this.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(r){return debug(\"Comparator.test\",r,this.loose),this.semver===ANY||(\"string\"==typeof r&&(r=new SemVer(r,this.loose)),cmp(r,this.operator,this.semver,this.loose))},Comparator.prototype.intersects=function(r,e){if(!(r instanceof Comparator))throw new TypeError(\"a Comparator is required\");var t;if(\"\"===this.operator)return t=new Range(r.value,e),satisfies(this.value,t,e);if(\"\"===r.operator)return t=new Range(this.value,e),satisfies(r.semver,t,e);var s=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==r.operator&&\">\"!==r.operator),n=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==r.operator&&\"<\"!==r.operator),o=this.semver.version===r.semver.version,a=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==r.operator&&\"<=\"!==r.operator),i=cmp(this.semver,\"<\",r.semver,e)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===r.operator||\"<\"===r.operator),c=cmp(this.semver,\">\",r.semver,e)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===r.operator||\">\"===r.operator);return s||n||o&&a||i||c},exports.Range=Range;function Range(r,e){if(r instanceof Range)return r.loose===e?r:new Range(r.raw,e);if(r instanceof Comparator)return new Range(r.value,e);if(!(this instanceof Range))return new Range(r,e);if(this.loose=e,this.raw=r,this.set=r.split(/\\s*\\|\\|\\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+r);this.format()}Range.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(\" \").trim()}).join(\"||\").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(r){var e=this.loose;r=r.trim(),debug(\"range\",r,e);var t=e?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];r=r.replace(t,hyphenReplace),debug(\"hyphen replace\",r),r=r.replace(re[COMPARATORTRIM],comparatorTrimReplace),debug(\"comparator trim\",r,re[COMPARATORTRIM]),r=(r=(r=r.replace(re[TILDETRIM],tildeTrimReplace)).replace(re[CARETTRIM],caretTrimReplace)).split(/\\s+/).join(\" \");var s=e?re[COMPARATORLOOSE]:re[COMPARATOR],n=r.split(\" \").map(function(r){return parseComparator(r,e)}).join(\" \").split(/\\s+/);return this.loose&&(n=n.filter(function(r){return!!r.match(s)})),n=n.map(function(r){return new Comparator(r,e)})},Range.prototype.intersects=function(r,e){if(!(r instanceof Range))throw new TypeError(\"a Range is required\");return this.set.some(function(t){return t.every(function(t){return r.set.some(function(r){return r.every(function(r){return t.intersects(r,e)})})})})},exports.toComparators=toComparators;function toComparators(r,e){return new Range(r,e).set.map(function(r){return r.map(function(r){return r.value}).join(\" \").trim().split(\" \")})}function parseComparator(r,e){return debug(\"comp\",r),r=replaceCarets(r,e),debug(\"caret\",r),r=replaceTildes(r,e),debug(\"tildes\",r),r=replaceXRanges(r,e),debug(\"xrange\",r),r=replaceStars(r,e),debug(\"stars\",r),r}function isX(r){return!r||\"x\"===r.toLowerCase()||\"*\"===r}function replaceTildes(r,e){return r.trim().split(/\\s+/).map(function(r){return replaceTilde(r,e)}).join(\" \")}function replaceTilde(r,e){var t=e?re[TILDELOOSE]:re[TILDE];return r.replace(t,function(e,t,s,n,o){debug(\"tilde\",r,e,t,s,n,o);var a;return isX(t)?a=\"\":isX(s)?a=\">=\"+t+\".0.0 <\"+(+t+1)+\".0.0\":isX(n)?a=\">=\"+t+\".\"+s+\".0 <\"+t+\".\"+(+s+1)+\".0\":o?(debug(\"replaceTilde pr\",o),\"-\"!==o.charAt(0)&&(o=\"-\"+o),a=\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+(+s+1)+\".0\"):a=\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+(+s+1)+\".0\",debug(\"tilde return\",a),a})}function replaceCarets(r,e){return r.trim().split(/\\s+/).map(function(r){return replaceCaret(r,e)}).join(\" \")}function replaceCaret(r,e){debug(\"caret\",r,e);var t=e?re[CARETLOOSE]:re[CARET];return r.replace(t,function(e,t,s,n,o){debug(\"caret\",r,e,t,s,n,o);var a;return isX(t)?a=\"\":isX(s)?a=\">=\"+t+\".0.0 <\"+(+t+1)+\".0.0\":isX(n)?a=\"0\"===t?\">=\"+t+\".\"+s+\".0 <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".0 <\"+(+t+1)+\".0.0\":o?(debug(\"replaceCaret pr\",o),\"-\"!==o.charAt(0)&&(o=\"-\"+o),a=\"0\"===t?\"0\"===s?\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+s+\".\"+(+n+1):\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".\"+n+o+\" <\"+(+t+1)+\".0.0\"):(debug(\"no pr\"),a=\"0\"===t?\"0\"===s?\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+s+\".\"+(+n+1):\">=\"+t+\".\"+s+\".\"+n+\" <\"+t+\".\"+(+s+1)+\".0\":\">=\"+t+\".\"+s+\".\"+n+\" <\"+(+t+1)+\".0.0\"),debug(\"caret return\",a),a})}function replaceXRanges(r,e){return debug(\"replaceXRanges\",r,e),r.split(/\\s+/).map(function(r){return replaceXRange(r,e)}).join(\" \")}function replaceXRange(r,e){r=r.trim();var t=e?re[XRANGELOOSE]:re[XRANGE];return r.replace(t,function(e,t,s,n,o,a){debug(\"xRange\",r,e,t,s,n,o,a);var i=isX(s),c=i||isX(n),p=c||isX(o);return\"=\"===t&&p&&(t=\"\"),i?e=\">\"===t||\"<\"===t?\"<0.0.0\":\"*\":t&&p?(c&&(n=0),p&&(o=0),\">\"===t?(t=\">=\",c?(s=+s+1,n=0,o=0):p&&(n=+n+1,o=0)):\"<=\"===t&&(t=\"<\",c?s=+s+1:n=+n+1),e=t+s+\".\"+n+\".\"+o):c?e=\">=\"+s+\".0.0 <\"+(+s+1)+\".0.0\":p&&(e=\">=\"+s+\".\"+n+\".0 <\"+s+\".\"+(+n+1)+\".0\"),debug(\"xRange return\",e),e})}function replaceStars(r,e){return debug(\"replaceStars\",r,e),r.trim().replace(re[STAR],\"\")}function hyphenReplace(r,e,t,s,n,o,a,i,c,p,E,R,u){return e=isX(t)?\"\":isX(s)?\">=\"+t+\".0.0\":isX(n)?\">=\"+t+\".\"+s+\".0\":\">=\"+e,i=isX(c)?\"\":isX(p)?\"<\"+(+c+1)+\".0.0\":isX(E)?\"<\"+c+\".\"+(+p+1)+\".0\":R?\"<=\"+c+\".\"+p+\".\"+E+\"-\"+R:\"<=\"+i,(e+\" \"+i).trim()}Range.prototype.test=function(r){if(!r)return!1;\"string\"==typeof r&&(r=new SemVer(r,this.loose));for(var e=0;e<this.set.length;e++)if(testSet(this.set[e],r))return!0;return!1};function testSet(r,e){for(var t=0;t<r.length;t++)if(!r[t].test(e))return!1;if(e.prerelease.length){for(t=0;t<r.length;t++)if(debug(r[t].semver),r[t].semver!==ANY&&r[t].semver.prerelease.length>0){var s=r[t].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}exports.satisfies=satisfies;function satisfies(r,e,t){try{e=new Range(e,t)}catch(r){return!1}return e.test(r)}exports.maxSatisfying=maxSatisfying;function maxSatisfying(r,e,t){var s=null,n=null;try{var o=new Range(e,t)}catch(r){return null}return r.forEach(function(r){o.test(r)&&(s&&-1!==n.compare(r)||(n=new SemVer(s=r,t)))}),s}exports.minSatisfying=minSatisfying;function minSatisfying(r,e,t){var s=null,n=null;try{var o=new Range(e,t)}catch(r){return null}return r.forEach(function(r){o.test(r)&&(s&&1!==n.compare(r)||(n=new SemVer(s=r,t)))}),s}exports.validRange=validRange;function validRange(r,e){try{return new Range(r,e).range||\"*\"}catch(r){return null}}exports.ltr=ltr;function ltr(r,e,t){return outside(r,e,\"<\",t)}exports.gtr=gtr;function gtr(r,e,t){return outside(r,e,\">\",t)}exports.outside=outside;function outside(r,e,t,s){r=new SemVer(r,s),e=new Range(e,s);var n,o,a,i,c;switch(t){case\">\":n=gt,o=lte,a=lt,i=\">\",c=\">=\";break;case\"<\":n=lt,o=gte,a=gt,i=\"<\",c=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(satisfies(r,e,s))return!1;for(var p=0;p<e.set.length;++p){var E=null,R=null;if(e.set[p].forEach(function(r){r.semver===ANY&&(r=new Comparator(\">=0.0.0\")),E=E||r,R=R||r,n(r.semver,E.semver,s)?E=r:a(r.semver,R.semver,s)&&(R=r)}),E.operator===i||E.operator===c)return!1;if((!R.operator||R.operator===i)&&o(r,R.semver))return!1;if(R.operator===c&&a(r,R.semver))return!1}return!0}exports.prerelease=prerelease;function prerelease(r,e){var t=parse(r,e);return t&&t.prerelease.length?t.prerelease:null}exports.intersects=intersects;function intersects(r,e,t){return r=new Range(r,t),e=new Range(e,t),r.intersects(e)}","node_modules/mongodb-core/lib/connection/utils.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),setProperty=function(e,r,t,n){Object.defineProperty(e,r.name,{enumerable:!0,set:function(e){if(\"boolean\"!=typeof e)throw new Error(f(\"%s required a boolean\",r.name));1==e&&(n.flags|=t),0==e&&(n.flags&t)==t&&(n.flags^=t),r.value=e},get:function(){return r.value}})},getProperty=function(e,r,t,n,o){Object.defineProperty(e,r,{enumerable:!0,get:function(){return null==n[t]&&e.isParsed&&!e.isParsed()&&e.parse(),\"function\"==typeof o?o(n[t]):n[t]}})},getSingleProperty=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:function(){return t}})},copy=function(e,r){r=r||{};for(var t in e)r[t]=e[t];return r},debugOptions=function(e,r){var t={};return e.forEach(function(e){t[e]=r[e]}),t},retrieveBSON=function(){var e=require(\"bson\");e.native=!1;try{var r=require_optional(\"bson-ext\");if(r)return r.native=!0,r}catch(e){}return e};exports.setProperty=setProperty,exports.getProperty=getProperty,exports.getSingleProperty=getSingleProperty,exports.copy=copy,exports.debugOptions=debugOptions,exports.retrieveBSON=retrieveBSON;","node_modules/mongodb-core/lib/connection/pool.js":"\"use strict\";var inherits=require(\"util\").inherits,EventEmitter=require(\"events\").EventEmitter,Connection=require(\"./connection\"),MongoError=require(\"../error\"),Logger=require(\"./logger\"),f=require(\"util\").format,Query=require(\"./commands\").Query,CommandResult=require(\"./command_result\"),assign=require(\"../utils\").assign,MongoCR=require(\"../auth/mongocr\"),X509=require(\"../auth/x509\"),Plain=require(\"../auth/plain\"),GSSAPI=require(\"../auth/gssapi\"),SSPI=require(\"../auth/sspi\"),ScramSHA1=require(\"../auth/scram\"),DISCONNECTED=\"disconnected\",CONNECTING=\"connecting\",CONNECTED=\"connected\",DESTROYING=\"destroying\",DESTROYED=\"destroyed\",_id=0,Pool=function(e){if(EventEmitter.call(this),this.options=assign({host:\"localhost\",port:27017,size:5,connectionTimeout:3e4,socketTimeout:36e4,keepAlive:!0,keepAliveInitialDelay:3e5,noDelay:!0,ssl:!1,checkServerIdentity:!0,ca:null,crl:null,cert:null,key:null,passPhrase:null,rejectUnauthorized:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,reconnect:!0,reconnectInterval:1e3,reconnectTries:30,domainsEnabled:!1},e),this.id=_id++,this.retriesLeft=this.options.reconnectTries,this.reconnectId=null,!e.bson||e.bson&&(\"function\"!=typeof e.bson.serialize||\"function\"!=typeof e.bson.deserialize))throw new Error(\"must pass in valid bson parser\");this.logger=Logger(\"Pool\",e),this.state=DISCONNECTED,this.availableConnections=[],this.inUseConnections=[],this.connectingConnections=[],this.executing=!1,this.queue=[],this.authProviders=e.authProviders||{mongocr:new MongoCR(e.bson),x509:new X509(e.bson),plain:new Plain(e.bson),gssapi:new GSSAPI(e.bson),sspi:new SSPI(e.bson),\"scram-sha-1\":new ScramSHA1(e.bson)},this.reconnectConnection=null,this.authenticating=!1,this.loggingout=!1,this.nonAuthenticatedConnections=[],this.authenticatingTimestamp=null,this.numberOfConsecutiveTimeouts=0,this.connectionIndex=0};inherits(Pool,EventEmitter),Object.defineProperty(Pool.prototype,\"size\",{enumerable:!0,get:function(){return this.options.size}}),Object.defineProperty(Pool.prototype,\"connectionTimeout\",{enumerable:!0,get:function(){return this.options.connectionTimeout}}),Object.defineProperty(Pool.prototype,\"socketTimeout\",{enumerable:!0,get:function(){return this.options.socketTimeout}});function stateTransition(e,n){var t={disconnected:[CONNECTING,DESTROYING,DISCONNECTED],connecting:[CONNECTING,DESTROYING,CONNECTED,DISCONNECTED],connected:[CONNECTED,DISCONNECTED,DESTROYING],destroying:[DESTROYING,DESTROYED],destroyed:[DESTROYED]}[e.state];t&&-1!=t.indexOf(n)?e.state=n:e.logger.error(f(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,n,t))}function authenticate(e,n,t,o){if(void 0===n[0])return o(null);var i=n[0],r=n[1];if(!e.authProviders[i])throw new MongoError(f(\"authMechanism %s not supported\",i));var s=e.authProviders[i];s.auth.apply(s,[write(e),[t],r].concat(n.slice(2)).concat([o]))}function write(e){return function(n,t,o){if(e.state==DESTROYED||e.state==DESTROYING)return o(new MongoError(\"pool destroyed\"));n.workItems.push({cb:o,command:!0,requestId:t.requestId}),n.write(t.toBin())}}function reauthenticate(e,n,t){function o(e,n,t,i){if(0==t.length)return i();e.authProviders[t.pop()].reauthenticate(write(e),[n],function(r){if(r)return i(r);o(e,n,t,i)})}o(e,n,Object.keys(e.authProviders),t)}function connectionFailureHandler(e,n){return function(t){if(!this._connectionFailHandled){for(this._connectionFailHandled=!0,this.destroy(),removeConnection(e,this);this.workItems.length>0;){var o=this.workItems.shift();o.cb&&o.cb(t)}if(\"timeout\"==n&&(e.numberOfConsecutiveTimeouts=e.numberOfConsecutiveTimeouts+1,e.numberOfConsecutiveTimeouts>e.options.reconnectTries))return e.numberOfConsecutiveTimeouts=0,e.destroy(!0),e.emit(\"close\",e);0==e.socketCount()&&(e.state!=DESTROYED&&e.state!=DESTROYING&&stateTransition(e,DISCONNECTED),n=\"error\"==n?\"close\":n,e.emit(n,t)),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}}}function attemptReconnect(e){return function(){e.emit(\"attemptReconnect\",e),e.state!=DESTROYED&&e.state!=DESTROYING&&(e.isConnected()?e.reconnectId=null:(e.reconnectConnection=new Connection(messageHandler(e),e.options),e.reconnectConnection.on(\"close\",n(e)),e.reconnectConnection.on(\"error\",n(e)),e.reconnectConnection.on(\"timeout\",n(e)),e.reconnectConnection.on(\"parseError\",n(e)),e.reconnectConnection.on(\"connect\",function(e){return function(){var n=this;if(e.state==DESTROYED||e.state==DESTROYING)return n.destroy();handlers.forEach(function(e){n.removeAllListeners(e)}),e.reconnectId=null,n.on(\"error\",connectionFailureHandler(e,\"error\")),n.on(\"close\",connectionFailureHandler(e,\"close\")),n.on(\"timeout\",connectionFailureHandler(e,\"timeout\")),n.on(\"parseError\",connectionFailureHandler(e,\"parseError\")),reauthenticate(e,this,function(){e.retriesLeft=e.options.reconnectTries,e.availableConnections.push(n),e.reconnectConnection=null,e.emit(\"reconnect\",e),_execute(e)()})}}(e)),e.reconnectConnection.connect()));function n(e,n){return function(){this._connectionFailHandled||(this._connectionFailHandled=!0,this.destroy(),e.retriesLeft=e.retriesLeft-1,0==e.retriesLeft?(e.destroy(),e.emit(\"reconnectFailed\",new MongoError(f(\"failed to reconnect after %s attempts with interval %s ms\",e.options.reconnectTries,e.options.reconnectInterval)))):e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}}}}function moveConnectionBetween(e,n,t){var o=n.indexOf(e);-1!=o&&(n.splice(o,1),t.push(e))}function messageHandler(e){return function(n,t){for(var o=null,i=0;i<t.workItems.length;i++)t.workItems[i].requestId==n.responseTo&&(o=t.workItems[i],t.workItems.splice(i,1));e.numberOfConsecutiveTimeouts=0,o.socketTimeout&&t.resetSocketTimeout(),e.logger.isDebug()&&e.logger.debug(f(\"message [%s] received from %s:%s\",n.raw.toString(\"hex\"),e.options.host,e.options.port));function r(e,n,t,o){if(!e.options.domainsEnabled)return process.nextTick(function(){return n(t,o)});n(t,o)}!function(e,n,t){var o=e.nonAuthenticatedConnections.slice(0),i=e.nonAuthenticatedConnections;if(e.nonAuthenticatedConnections=[],1==n.workItems.length&&(1==n.workItems[0].authenticating||\"number\"==typeof n.workItems[0].authenticatingTimestamp&&n.workItems[0].authenticatingTimestamp!=e.authenticatingTimestamp)&&o.push(n),0==o.length)return moveConnectionBetween(n,e.inUseConnections,e.availableConnections),t();for(var r=o.length,s=0;s<r;s++)reauthenticate(e,o[s],function(){0==(r-=1)&&(e.availableConnections=e.availableConnections.concat(i),moveConnectionBetween(n,e.inUseConnections,e.availableConnections),t())})}(e,t,function(){if(e.executing||process.nextTick(function(){_execute(e)()}),!o.immediateRelease){try{n.parse(o)}catch(n){return r(e,o.cb,MongoError.create(n))}if(o.command&&n.documents[0]&&(0==n.documents[0].ok||n.documents[0].$err||n.documents[0].errmsg||n.documents[0].code))return r(e,o.cb,MongoError.create(n.documents[0]));n.hashedName=t.hashedName,r(e,o.cb,null,new CommandResult(o.fullResult?n:n.documents[0],t,n))}})}}Pool.prototype.socketCount=function(){return this.availableConnections.length+this.inUseConnections.length},Pool.prototype.allConnections=function(){return this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections)},Pool.prototype.get=function(){return this.allConnections()[0]},Pool.prototype.isConnected=function(){if(this.state==DESTROYED||this.state==DESTROYING)return!1;for(var e=this.availableConnections.concat(this.inUseConnections),n=0;n<e.length;n++)if(e[n].isConnected())return!0;return!(0!=e.length||!this.authenticating)},Pool.prototype.isDestroyed=function(){return this.state==DESTROYED||this.state==DESTROYING},Pool.prototype.isDisconnected=function(){return this.state==DISCONNECTED},Pool.prototype.connect=function(){if(this.state!=DISCONNECTED)throw new MongoError(\"connection in unlawful state \"+this.state);var e=this;stateTransition(this,CONNECTING);var n=Array.prototype.slice.call(arguments,0),t=new Connection(messageHandler(e),this.options);this.connectingConnections.push(t),t.once(\"connect\",function(t){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():e.options.inTopology?(stateTransition(e,CONNECTED),moveConnectionBetween(t,e.connectingConnections,e.availableConnections),e.emit(\"connect\",e)):void reauthenticate(e,t,function(o){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():o?(e.destroy(),e.emit(\"error\",o)):void authenticate(e,n,t,function(n){return e.state==DESTROYED||e.state==DESTROYING?e.destroy():n?(e.destroy(),e.emit(\"error\",n)):(stateTransition(e,CONNECTED),moveConnectionBetween(t,e.connectingConnections,e.availableConnections),void e.emit(\"connect\",e))})})}),t.once(\"error\",connectionFailureHandler(this,\"error\")),t.once(\"close\",connectionFailureHandler(this,\"close\")),t.once(\"timeout\",connectionFailureHandler(this,\"timeout\")),t.once(\"parseError\",connectionFailureHandler(this,\"parseError\"));try{t.connect()}catch(n){process.nextTick(function(){e.emit(\"error\",n)})}},Pool.prototype.auth=function(e){var n=this,t=Array.prototype.slice.call(arguments,0),o=t.pop();if(null==n.authProviders[e]&&\"default\"!=e)throw new MongoError(f(\"auth provider %s does not exist\",e));this.authenticating=!0,this.authenticatingTimestamp=(new Date).getTime();function i(e,n){if(!e.loggingout)return n();setTimeout(function(){i(e,n)},1)}i(n,function(){!function(e,n,t){var i=e.allConnections();e.availableConnections=[],e.inUseConnections=[],e.connectingConnections=[];var r=i.length,s=null;if(0==r)return e.authenticating=!1,o(null);for(var c=0;c<i.length;c++)authenticate(e,n,i[c],function(n){if(r-=1,n&&(s=n),0==r){if(e.authenticating=!1,e.availableConnections=e.availableConnections.concat(i),s)return e.logger.isError()&&e.logger.error(f(\"[%s] failed to authenticate against server %s:%s\",e.id,e.options.host,e.options.port)),t(s);t(null)}})}(n,t,function(e){n.authenticating=!1,o(e)})})},Pool.prototype.logout=function(e,n){var t=this;if(\"string\"!=typeof e)throw new MongoError(\"logout method requires a db name as first argument\");if(\"function\"!=typeof n)throw new MongoError(\"logout method requires a callback\");this.loggingout=!0;for(var o=t.availableConnections.concat(t.inUseConnections),i=o.length,r=null,s=0;s<o.length;s++)write(t)(o[s],new Query(this.options.bson,f(\"%s.$cmd\",e),{logout:1},{numberToSkip:0,numberToReturn:1}),function(e){i-=1,e&&(r=e),0==i&&(t.loggingout=!1,n(r))})},Pool.prototype.unref=function(){this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections).forEach(function(e){e.unref()})};var events=[\"error\",\"close\",\"timeout\",\"parseError\",\"connect\"];function destroy(e,n){n.forEach(function(e){for(var n=0;n<events.length;n++)e.removeAllListeners(events[n]);e.destroy()}),e.inUseConnections=[],e.availableConnections=[],e.nonAuthenticatedConnections=[],e.connectingConnections=[],stateTransition(e,DESTROYED)}Pool.prototype.destroy=function(e){var n=this;if(this.state!=DESTROYED&&n.state!=DESTROYING){if(stateTransition(this,DESTROYING),e){for(var t=n.availableConnections.concat(n.inUseConnections).concat(n.nonAuthenticatedConnections).concat(n.connectingConnections);n.queue.length>0;){var o=n.queue.shift();\"function\"==typeof o.cb&&o.cb(new MongoError(\"Pool was force destroyed\"))}return destroy(n,t)}this.reconnectId&&clearTimeout(this.reconnectId),this.reconnectConnection&&this.reconnectConnection.destroy(),i()}function i(){if(flushMonitoringOperations(n.queue),0==n.queue.length){for(var e=n.availableConnections.concat(n.inUseConnections).concat(n.nonAuthenticatedConnections).concat(n.connectingConnections),t=0;t<e.length;t++)if(e[t].workItems.length>0)return setTimeout(i,1);destroy(n,e)}else _execute(n)(),setTimeout(i,1)}},Pool.prototype.write=function(e,n,t){var o=this;if(\"function\"==typeof n&&(t=n),n=n||{},this.state!=DESTROYED&&this.state!=DESTROYING){if(this.options.domainsEnabled&&process.domain&&\"function\"==typeof t){var i=t;t=process.domain.bind(function(){for(var e=new Array(arguments.length),n=0;n<arguments.length;n++)e[n]=arguments[n];process.nextTick(function(){i.apply(null,e)})})}var r={cb:t,raw:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,fullResult:!1},s=null;if(Array.isArray(e)){s=[];for(var c=0;c<e.length;c++)s.push(e[c].toBin());r.requestId=e[e.length-1].requestId}else r.requestId=e.requestId,s=e.toBin();if(r.buffer=s,r.promoteLongs=\"boolean\"!=typeof n.promoteLongs||n.promoteLongs,r.promoteValues=\"boolean\"!=typeof n.promoteValues||n.promoteValues,r.promoteBuffers=\"boolean\"==typeof n.promoteBuffers&&n.promoteBuffers,r.raw=\"boolean\"==typeof n.raw&&n.raw,r.immediateRelease=\"boolean\"==typeof n.immediateRelease&&n.immediateRelease,r.documentsReturnedIn=n.documentsReturnedIn,r.command=\"boolean\"==typeof n.command&&n.command,r.fullResult=\"boolean\"==typeof n.fullResult&&n.fullResult,r.noResponse=\"boolean\"==typeof n.noResponse&&n.noResponse,r.socketTimeout=n.socketTimeout,r.monitoring=n.monitoring,n.socketTimeout&&(r.socketTimeout=n.socketTimeout),\"function\"!=typeof t&&!n.noResponse)throw new MongoError(\"write method must provide a callback\");n.monitoring?this.queue.unshift(r):this.queue.push(r),o.executing||process.nextTick(function(){_execute(o)()})}else if(t)try{t(new MongoError(\"pool destroyed\"))}catch(e){process.nextTick(function(){throw e})}};function remove(e,n){for(var t=0;t<n.length;t++)if(n[t]===e)return n.splice(t,1),!0}function removeConnection(e,n){remove(n,e.availableConnections)||remove(n,e.inUseConnections)||remove(n,e.connectingConnections)||remove(n,e.nonAuthenticatedConnections)}var handlers=[\"close\",\"message\",\"error\",\"timeout\",\"parseError\",\"connect\"];function _createConnection(e){if(e.state!=DESTROYED&&e.state!=DESTROYING){var n=new Connection(messageHandler(e),e.options);e.connectingConnections.push(n);var t=function(n){return function(){n.destroy(),removeConnection(e,n),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(attemptReconnect(e),e.options.reconnectInterval))}};n.once(\"close\",t(n)),n.once(\"error\",t(n)),n.once(\"timeout\",t(n)),n.once(\"parseError\",t(n)),n.once(\"connect\",function(n){return function(){if(e.state==DESTROYED||e.state==DESTROYING)return removeConnection(e,n),n.destroy();handlers.forEach(function(e){n.removeAllListeners(e)}),n.once(\"close\",connectionFailureHandler(e,\"close\")),n.once(\"error\",connectionFailureHandler(e,\"error\")),n.once(\"timeout\",connectionFailureHandler(e,\"timeout\")),n.once(\"parseError\",connectionFailureHandler(e,\"parseError\")),reauthenticate(e,n,function(t){return e.state==DESTROYED||e.state==DESTROYING?n.destroy():(removeConnection(e,n),t?n.destroy():void(e.authenticating?e.nonAuthenticatedConnections.push(n):(e.availableConnections.push(n),_execute(e)())))})}}(n)),n.connect()}}function flushMonitoringOperations(e){for(var n=0;n<e.length;n++)if(e[n].monitoring){var t=e[n];e.splice(n,1),t.cb(new MongoError({message:\"no connection available for monitoring\",driver:!0}))}}function _execute(e){return function(){e.state!=DESTROYED&&(e.executing||(e.executing=!0,n(function(){if(!(e.connectingConnections.length>0))for(;;){var n=e.availableConnections.length+e.connectingConnections.length+e.inUseConnections.length;if(0==e.availableConnections.length){flushMonitoringOperations(e.queue);break}if(0==e.queue.length)break;for(var t=null,o=[],i=0;i<e.availableConnections.length;i++)0==e.availableConnections[i].workItems.length&&o.push(e.availableConnections[i]);if((t=0==o.length?e.availableConnections[e.connectionIndex++%e.availableConnections.length]:o[e.connectionIndex++%o.length]).isConnected()){var r=e.queue.shift();if(r.monitoring){var s=!1;for(i=0;i<e.availableConnections.length;i++)if(e.availableConnections[i].isConnected()&&0==e.availableConnections[i].workItems.length){s=!0,t=e.availableConnections[i];break}if(!s){e.queue.unshift(r),n<e.options.size&&e.queue.length>0&&_createConnection(e),setTimeout(function(){_execute(e)()},10);break}}if(n<e.options.size&&t.workItems.length>0){e.queue.unshift(r),_createConnection(e);break}var c=r.buffer;r.authenticating=e.authenticating,r.authenticatingTimestamp=e.authenticatingTimestamp,r.monitoring&&moveConnectionBetween(t,e.availableConnections,e.inUseConnections),r.noResponse||t.workItems.push(r),r.immediateRelease||\"number\"!=typeof r.socketTimeout||t.setSocketTimeout(r.socketTimeout);var a=!0;if(Array.isArray(c))for(i=0;i<c.length;i++)a=t.write(c[i]);else a=t.write(c);a&&r.immediateRelease&&e.authenticating?(removeConnection(e,t),e.nonAuthenticatedConnections.push(t)):!1===a&&(e.queue.unshift(r),removeConnection(e,t),flushMonitoringOperations(e.queue))}else removeConnection(e,t),flushMonitoringOperations(e.queue)}}),e.executing=!1));function n(t){if(!e.authenticating)return t();setTimeout(function(){n(t)},1)}}}Pool._execute=_execute,module.exports=Pool;","node_modules/mongodb-core/lib/wireprotocol/2_4_support.js":"\"use strict\";var Insert=require(\"./commands\").Insert,Update=require(\"./commands\").Update,Remove=require(\"./commands\").Remove,copy=require(\"../connection/utils\").copy,retrieveBSON=require(\"../connection/utils\").retrieveBSON,KillCursor=require(\"../connection/commands\").KillCursor,GetMore=require(\"../connection/commands\").GetMore,Query=require(\"../connection/commands\").Query,f=require(\"util\").format,CommandResult=require(\"../connection/command_result\"),MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,writeConcernFields=[\"w\",\"wtimeout\",\"j\",\"fsync\"],WireProtocol=function(){};WireProtocol.prototype.insert=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;if((t=Array.isArray(t)?t:[t]).length>1e3)return s(new MongoError(\"exceeded maximum write batch size of 1000\"));var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"insert\",Insert,r,o,n,e,t,i,s):executeUnordered(\"insert\",Insert,r,o,n,e,t,i,s)},WireProtocol.prototype.update=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;t=Array.isArray(t)?t:[t];var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"update\",Update,r,o,n,e,t,i,s):executeUnordered(\"update\",Update,r,o,n,e,t,i,s)},WireProtocol.prototype.remove=function(e,r,o,n,t,i,s){var a=\"boolean\"!=typeof(i=i||{}).ordered||i.ordered;t=Array.isArray(t)?t:[t];var u=i.writeConcern||{w:1};return a&&0!=u.w?executeOrdered(\"remove\",Remove,r,o,n,e,t,i,s):executeUnordered(\"remove\",Remove,r,o,n,e,t,i,s)},WireProtocol.prototype.killCursor=function(e,r,o,n,t){var i=new KillCursor(e,[o]);n&&n.isConnected()&&n.write(i,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof t&&t(null,null)},WireProtocol.prototype.getMore=function(e,r,o,n,t,i,s,a){var u=new GetMore(e,r,o.cursorId,{numberToReturn:n}),l={};t&&(l.raw=t),\"boolean\"==typeof o.promoteLongs&&(l.promoteLongs=o.promoteLongs),\"boolean\"==typeof o.promoteValues&&(l.promoteValues=o.promoteValues),\"boolean\"==typeof o.promoteBuffers&&(l.promoteBuffers=o.promoteBuffers),i.write(u,l,function(e,r){if(e)return a(e);var n=r.message;if(0!=(1&n.responseFlags))return a(new MongoError(\"cursor does not exist, was killed or timed out\"),null);var t=\"number\"==typeof n.cursorId?Long.fromNumber(n.cursorId):n.cursorId;o.documents=n.documents,o.cursorId=t,a(null,null,n.connection)})},WireProtocol.prototype.command=function(e,r,o,n,t,i){if(o.find)return setupClassicFind(e,r,o,n,t,i);if(null==n.cursorId){if(o)return setupCommand(e,r,o,n,t,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(o)))}};var setupClassicFind=function(e,r,o,n,t,i){var s=getReadPreference(o,i=i||{});n.batchSize=o.batchSize||n.batchSize;var a=0;a=0==n.limit?n.batchSize:n.limit<0||n.limit<n.batchSize||n.limit>0&&0==n.batchSize?n.limit:n.batchSize;var u=n.skip||0,l={},c=!1;if(\"mongos\"==t.type&&s&&(l.$readPreference=s.toJSON(),c=!0),o.sort&&(l.orderby=o.sort,c=!0),o.hint&&(l.$hint=o.hint,c=!0),o.snapshot&&(l.$snapshot=o.snapshot,c=!0),o.returnKey&&(l.$returnKey=o.returnKey,c=!0),o.maxScan&&(l.$maxScan=o.maxScan,c=!0),o.min&&(l.$min=o.min,c=!0),o.max&&(l.$max=o.max,c=!0),o.showDiskLoc&&(l.$showDiskLoc=o.showDiskLoc,c=!0),o.comment&&(l.$comment=o.comment,c=!0),o.maxTimeMS&&(l.$maxTimeMS=o.maxTimeMS,c=!0),o.explain&&(a=-Math.abs(o.limit||0),c=!0,l.$explain=!0),c?l.$query=o.query:l=o.query,o.readConcern&&\"local\"!=o.readConcern.level)throw new MongoError(f(\"server find command does not support a readConcern level of %s\",o.readConcern.level));o.readConcern&&delete(o=copy(o)).readConcern;var d=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,p=new Query(e,r,l,{numberToSkip:u,numberToReturn:a,checkKeys:!1,returnFieldSelector:o.fields,serializeFunctions:d,ignoreUndefined:m});return p.slaveOk=s.slaveOk(),\"boolean\"==typeof o.tailable&&(p.tailable=o.tailable),\"boolean\"==typeof o.oplogReplay&&(p.oplogReplay=o.oplogReplay),\"boolean\"==typeof o.noCursorTimeout&&(p.noCursorTimeout=o.noCursorTimeout),\"boolean\"==typeof o.awaitData&&(p.awaitData=o.awaitData),\"boolean\"==typeof o.partial&&(p.partial=o.partial),p},setupCommand=function(e,r,o,n,t,i){var s=getReadPreference(o,i=i||{}),a={};for(var u in o)a[u]=o[u];var l=r.split(/\\./);if(o.readConcern&&\"local\"!=o.readConcern.level)throw new MongoError(f(\"server %s command does not support a readConcern level of %s\",JSON.stringify(o),o.readConcern.level));o.readConcern&&delete o.readConcern;var c=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,d=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==t.type&&s&&\"primary\"!=s.preference&&(a={$query:a,$readPreference:s.toJSON()});var m=new Query(e,f(\"%s.$cmd\",l.shift()),a,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:c,ignoreUndefined:d});return m.slaveOk=s.slaveOk(),m},hasWriteConcern=function(e){return!(!e.w&&!e.wtimeout&&1!=e.j&&1!=e.fsync&&0!=Object.keys(e).length)},cloneWriteConcern=function(e){var r={};return null!=e.w&&(r.w=e.w),null!=e.wtimeout&&(r.wtimeout=e.wtimeout),null!=e.j&&(r.j=e.j),null!=e.fsync&&(r.fsync=e.fsync),r},aggregateWriteOperationResults=function(e,r,o,n){var t={ok:1,n:0};\"update\"==e&&(t.nModified=0);for(var i=0;i<o.length;i++){var s=o[i],a=r[i];!s.upserted&&0!=s.updatedExisting||null!=t.upserted||(t.upserted=[]),s.upserted&&t.upserted.push({index:i,_id:s.upserted}),0==s.updatedExisting&&1==s.n&&null==s.upserted?t.upserted.push({index:i,_id:a.q._id}):1==s.updatedExisting&&(t.nModified+=s.n),1==s.ok&&\"insert\"==e&&null==s.err&&(t.n=t.n+1),null!=s&&0==s.ok||s.err||s.errmsg?(0==s.ok&&(t.ok=0),t.code=s.code,t.errmsg=s.errmsg||s.err||s.errMsg,11e3==s.code||11001==s.code||12582==s.code||16544==s.code||16538==s.code||16542==s.code||14==s.code||13511==s.code?(null==t.writeErrors&&(t.writeErrors=[]),t.writeErrors.push({index:i,code:s.code,errmsg:s.errmsg||s.err||s.errMsg})):t.writeConcernError={code:s.code,errmsg:s.errmsg||s.err||s.errMsg}):\"number\"==typeof s.n?t.n+=s.n:t.n+=1,null!=s&&s.lastOp&&(t.lastOp=s.lastOp)}return new CommandResult(t,n)},executeOrdered=function(e,r,o,n,t,i,s,a,u){var l=s.slice(0),c=[],d=function(l,m){if(0==l.length)return process.nextTick(function(){m(null,aggregateWriteOperationResults(e,s,c,null))});var p=l.shift(),g=new r(Query.getRequestId(),o,t,n,[p],a),w=a.writeConcern||{w:1},y=cloneWriteConcern(w),v=n.split(\".\").shift();try{for(var h=[g],C={getlasterror:1},b=0;b<writeConcernFields.length;b++)null!=y[writeConcernFields[b]]&&(C[writeConcernFields[b]]=y[writeConcernFields[b]]);var x=new Query(t,f(\"%s.$cmd\",v),C,{numberToReturn:-1});h.push(x);var R=function(r,o){if(r)return u(r);var n=o.result;if(c.push(n),0==n.ok||n.err||n.errmsg)return u(null,aggregateWriteOperationResults(e,s,c,o.connection));d(l,u)};i.write(h,R)}catch(r){c.push({ok:1,errmsg:\"string\"==typeof r?r:r.message,code:14}),process.nextTick(function(){m(null,aggregateWriteOperationResults(e,s,c,null))})}};d(l,u)},executeUnordered=function(e,r,o,n,t,i,s,a,u){for(var l,c=s.length,d=[],m=a.writeConcern||{w:1},p=cloneWriteConcern(m),g=0;g<s.length;g++){var w=new r(Query.getRequestId(),o,t,n,[s[g]],a),y=n.split(\".\").shift();try{var v=[w];if(hasWriteConcern(p)){for(var h={getlasterror:1},C=0;C<writeConcernFields.length;C++)null!=p[writeConcernFields[C]]&&(h[writeConcernFields[C]]=p[writeConcernFields[C]]);var b=new Query(t,f(\"%s.$cmd\",y),h,{numberToReturn:-1});v.push(b);i.write(v,function(r){return function(o,n){o&&(l=o),c-=1,o||(d[r]=n.result),0==c&&process.nextTick(function(){if(l)return u(l);u(null,aggregateWriteOperationResults(e,s,d,n.connection))})}}(g))}else i.write(v,{immediateRelease:!0,noResponse:!0})}catch(r){c-=1,d[g]={ok:1,errmsg:\"string\"==typeof r?r:r.message,code:14},0==c&&u(null,aggregateWriteOperationResults(e,s,d,null))}}p&&0==p.w&&u&&u(null,new CommandResult({ok:1},null))};module.exports=WireProtocol;","node_modules/mongodb-core/lib/wireprotocol/2_6_support.js":"\"use strict\";var copy=require(\"../connection/utils\").copy,retrieveBSON=require(\"../connection/utils\").retrieveBSON,KillCursor=require(\"../connection/commands\").KillCursor,GetMore=require(\"../connection/commands\").GetMore,Query=require(\"../connection/commands\").Query,f=require(\"util\").format,MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,WireProtocol=function(){},executeWrite=function(e,o,r,n,t,i,a,s){if(0==i.length)throw new MongoError(\"insert must contain at least one document\");\"function\"==typeof a&&(s=a,a=(a={})||{});var c=t.split(\".\"),l=c.shift(),u=\"boolean\"!=typeof a.ordered||a.ordered,d=a.writeConcern,m={};m[r]=c.join(\".\"),m[n]=i,m.ordered=u,d&&Object.keys(d).length>0&&(m.writeConcern=d),\"boolean\"==typeof a.bypassDocumentValidation&&(m.bypassDocumentValidation=a.bypassDocumentValidation);var p={command:!0},y={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==r&&(y.checkKeys=!0),\"boolean\"==typeof a.checkKeys&&(y.checkKeys=a.checkKeys),a.serializeFunctions&&(y.serializeFunctions=a.serializeFunctions),a.ignoreUndefined&&(y.ignoreUndefined=a.ignoreUndefined);try{var b=new Query(o,f(\"%s.$cmd\",l),m,y);e.write(b,p,s)}catch(e){s(e)}};WireProtocol.prototype.insert=function(e,o,r,n,t,i,a){executeWrite(e,n,\"insert\",\"documents\",r,t,i,a)},WireProtocol.prototype.update=function(e,o,r,n,t,i,a){executeWrite(e,n,\"update\",\"updates\",r,t,i,a)},WireProtocol.prototype.remove=function(e,o,r,n,t,i,a){executeWrite(e,n,\"delete\",\"deletes\",r,t,i,a)},WireProtocol.prototype.killCursor=function(e,o,r,n,t){var i=new KillCursor(e,[r]);n&&n.isConnected()&&n.write(i,{immediateRelease:!0,noResponse:!0}),\"function\"==typeof t&&t(null,null)},WireProtocol.prototype.getMore=function(e,o,r,n,t,i,a,s){var c=new GetMore(e,o,r.cursorId,{numberToReturn:n}),l={};t&&(l.raw=t),\"boolean\"==typeof r.promoteLongs&&(l.promoteLongs=r.promoteLongs),\"boolean\"==typeof r.promoteValues&&(l.promoteValues=r.promoteValues),\"boolean\"==typeof r.promoteBuffers&&(l.promoteBuffers=r.promoteBuffers),i.write(c,l,function(e,o){if(e)return s(e);var n=o.message;if(0!=(1&n.responseFlags))return s(new MongoError(\"cursor does not exist, was killed or timed out\"),null);var t=\"number\"==typeof n.cursorId?Long.fromNumber(n.cursorId):n.cursorId;r.documents=n.documents,r.cursorId=t,s(null,null,n.connection)})},WireProtocol.prototype.command=function(e,o,r,n,t,i){if(r.find)return setupClassicFind(e,o,r,n,t,i);if(null==n.cursorId){if(r)return setupCommand(e,o,r,n,t,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(r)))}};var setupClassicFind=function(e,o,r,n,t,i){var a=getReadPreference(r,i=i||{});n.batchSize=r.batchSize||n.batchSize;var s=0;s=0==n.limit?n.batchSize:n.limit<0||n.limit<n.batchSize||n.limit>0&&0==n.batchSize?n.limit:n.batchSize;var c=n.skip||0,l={},u=!1;if(\"mongos\"==t.type&&a&&(l.$readPreference=a.toJSON(),u=!0),r.sort&&(l.orderby=r.sort,u=!0),r.hint&&(l.$hint=r.hint,u=!0),r.snapshot&&(l.$snapshot=r.snapshot,u=!0),r.returnKey&&(l.$returnKey=r.returnKey,u=!0),r.maxScan&&(l.$maxScan=r.maxScan,u=!0),r.min&&(l.$min=r.min,u=!0),r.max&&(l.$max=r.max,u=!0),r.showDiskLoc&&(l.$showDiskLoc=r.showDiskLoc,u=!0),r.comment&&(l.$comment=r.comment,u=!0),r.maxTimeMS&&(l.$maxTimeMS=r.maxTimeMS,u=!0),r.explain&&(s=-Math.abs(r.limit||0),u=!0,l.$explain=!0),u?l.$query=r.query:l=r.query,r.readConcern&&\"local\"!=r.readConcern.level)throw new MongoError(f(\"server find command does not support a readConcern level of %s\",r.readConcern.level));r.readConcern&&delete(r=copy(r)).readConcern;var d=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined,p=new Query(e,o,l,{numberToSkip:c,numberToReturn:s,checkKeys:!1,returnFieldSelector:r.fields,serializeFunctions:d,ignoreUndefined:m});return p.slaveOk=a.slaveOk(),\"boolean\"==typeof r.tailable&&(p.tailable=r.tailable),\"boolean\"==typeof r.oplogReplay&&(p.oplogReplay=r.oplogReplay),\"boolean\"==typeof r.noCursorTimeout&&(p.noCursorTimeout=r.noCursorTimeout),\"boolean\"==typeof r.awaitData&&(p.awaitData=r.awaitData),\"boolean\"==typeof r.partial&&(p.partial=r.partial),p},setupCommand=function(e,o,r,n,t,i){var a=getReadPreference(r,i=i||{}),s={};for(var c in r)s[c]=r[c];var l=o.split(/\\./),u=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,d=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;if(r.readConcern&&\"local\"!=r.readConcern.level)throw new MongoError(f(\"server %s command does not support a readConcern level of %s\",JSON.stringify(r),r.readConcern.level));r.readConcern&&delete r.readConcern,\"mongos\"==t.type&&a&&\"primary\"!=a.preference&&(s={$query:s,$readPreference:a.toJSON()});var m=new Query(e,f(\"%s.$cmd\",l.shift()),s,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:u,ignoreUndefined:d});return m.slaveOk=a.slaveOk(),m};module.exports=WireProtocol;","node_modules/mongodb-core/lib/wireprotocol/3_2_support.js":"\"use strict\";var Query=require(\"../connection/commands\").Query,retrieveBSON=require(\"../connection/utils\").retrieveBSON,f=require(\"util\").format,MongoError=require(\"../error\"),getReadPreference=require(\"./shared\").getReadPreference,BSON=retrieveBSON(),Long=BSON.Long,WireProtocol=function(e){this.legacyWireProtocol=e},executeWrite=function(e,r,o,t,n,i,a,c){if(0==i.length)throw new MongoError(\"insert must contain at least one document\");\"function\"==typeof a&&(c=a,a=(a={})||{});var s=n.split(\".\"),u=s.shift(),l=\"boolean\"!=typeof a.ordered||a.ordered,m=a.writeConcern,d={};if(d[o]=s.join(\".\"),d[t]=i,d.ordered=l,m&&Object.keys(m).length>0&&(d.writeConcern=m),a.collation)for(var p=0;p<d[t].length;p++)d[t][p].collation||(d[t][p].collation=a.collation);\"boolean\"==typeof a.bypassDocumentValidation&&(d.bypassDocumentValidation=a.bypassDocumentValidation);var y={command:!0},h={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"==o&&(h.checkKeys=!0),\"boolean\"==typeof a.checkKeys&&(h.checkKeys=a.checkKeys),a.serializeFunctions&&(h.serializeFunctions=a.serializeFunctions),a.ignoreUndefined&&(h.ignoreUndefined=a.ignoreUndefined);try{var b=new Query(r,f(\"%s.$cmd\",u),d,h);e.write(b,y,c)}catch(e){c(e)}};WireProtocol.prototype.insert=function(e,r,o,t,n,i,a){executeWrite(e,t,\"insert\",\"documents\",o,n,i,a)},WireProtocol.prototype.update=function(e,r,o,t,n,i,a){executeWrite(e,t,\"update\",\"updates\",o,n,i,a)},WireProtocol.prototype.remove=function(e,r,o,t,n,i,a){executeWrite(e,t,\"delete\",\"deletes\",o,n,i,a)},WireProtocol.prototype.killCursor=function(e,r,o,t,n){var i=r.split(/\\./),a=f(\"%s.$cmd\",i.shift()),c={killCursors:i.join(\".\"),cursors:[o]},s=new Query(e,a,c,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});s.slaveOk=!0;var u=function(e,r){if(e){if(\"function\"!=typeof n)return;return n(e)}var t=r.message;if(0!=(1&t.responseFlags)){if(\"function\"!=typeof n)return;return n(new MongoError(\"cursor killed or timed out\"),null)}if(!Array.isArray(t.documents)||0==t.documents.length){if(\"function\"!=typeof n)return;return n(new MongoError(f(\"invalid killCursors result returned for cursor id %s\",o)))}\"function\"==typeof n&&n(null,t.documents[0])};t&&t.isConnected()&&t.write(s,{command:!0},u)},WireProtocol.prototype.getMore=function(e,r,o,t,n,i,a,c){a=a||{};var s=r.split(/\\./),u=f(\"%s.$cmd\",s.shift()),l={getMore:o.cursorId,collection:s.join(\".\"),batchSize:Math.abs(t)};o.cmd.tailable&&\"number\"==typeof o.cmd.maxAwaitTimeMS&&(l.maxTimeMS=o.cmd.maxAwaitTimeMS);var m=new Query(e,u,l,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});m.slaveOk=!0;var d={command:!0};n&&(d.raw=n),d.documentsReturnedIn=\"nextBatch\",\"boolean\"==typeof o.promoteLongs&&(d.promoteLongs=o.promoteLongs),\"boolean\"==typeof o.promoteValues&&(d.promoteValues=o.promoteValues),\"boolean\"==typeof o.promoteBuffers&&(d.promoteBuffers=o.promoteBuffers),i.write(m,d,function(e,r){if(e)return c(e);var t=r.message;if(0!=(1&t.responseFlags))return c(new MongoError(\"cursor killed or timed out\"),null);if(n)return o.documents=t.documents,o.cursorId=t.cursorId,c(null,t.documents);if(0==t.documents[0].ok)return c(MongoError.create(t.documents[0]));var i=\"number\"==typeof t.documents[0].cursor.id?Long.fromNumber(t.documents[0].cursor.id):t.documents[0].cursor.id;o.documents=t.documents[0].cursor.nextBatch,o.cursorId=i,c(null,t.documents[0],t.connection)})},WireProtocol.prototype.command=function(e,r,o,t,n,i){var a=\"boolean\"!=typeof(i=i||{}).wireProtocolCommand||i.wireProtocolCommand;if(o.find&&a){var c=executeFindCommand(e,r,o,t,n,i);return o.virtual=!1,c.documentsReturnedIn=\"firstBatch\",c}if(null==t.cursorId){if(o)return setupCommand(e,r,o,t,n,i);throw new MongoError(f(\"command %s does not return a cursor\",JSON.stringify(o)))}};var executeFindCommand=function(e,r,o,t,n,i){var a=getReadPreference(o,i=i||{});t.batchSize=o.batchSize||t.batchSize;var c=r.split(/\\./),s=f(\"%s.$cmd\",c.shift()),u={find:c.join(\".\")};o.query&&(o.query.$query?u.filter=o.query.$query:u.filter=o.query);var l=o.sort;if(Array.isArray(l)){var m={};if(l.length>0&&!Array.isArray(l[0])){var d=l[1];\"asc\"==d?d=1:\"desc\"==d&&(d=-1),m[l[0]]=d}else for(var p=0;p<l.length;p++)\"asc\"==(d=l[p][1])?d=1:\"desc\"==d&&(d=-1),m[l[p][0]]=d;l=m}o.sort&&(u.sort=l),o.fields&&(u.projection=o.fields),o.hint&&(u.hint=o.hint),o.skip&&(u.skip=o.skip),o.limit&&(u.limit=o.limit),o.limit<0&&(u.limit=Math.abs(o.limit),u.singleBatch=!0),\"number\"==typeof o.batchSize&&(o.batchSize<0&&(0!=o.limit&&Math.abs(o.batchSize)<Math.abs(o.limit)&&(u.limit=Math.abs(o.batchSize)),u.singleBatch=!0),u.batchSize=Math.abs(o.batchSize)),o.comment&&(u.comment=o.comment),o.maxScan&&(u.maxScan=o.maxScan),o.maxTimeMS&&(u.maxTimeMS=o.maxTimeMS),o.min&&(u.min=o.min),o.max&&(u.max=o.max),o.returnKey&&(u.returnKey=o.returnKey),o.showDiskLoc&&(u.showRecordId=o.showDiskLoc),o.snapshot&&(u.snapshot=o.snapshot),o.tailable&&(u.tailable=o.tailable),o.oplogReplay&&(u.oplogReplay=o.oplogReplay),o.noCursorTimeout&&(u.noCursorTimeout=o.noCursorTimeout),o.awaitData&&(u.awaitData=o.awaitData),o.awaitdata&&(u.awaitData=o.awaitdata),o.partial&&(u.partial=o.partial),o.collation&&(u.collation=o.collation),o.explain&&(u={explain:u}),o.readConcern&&(u.readConcern=o.readConcern);var y=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,h=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==n.type&&a&&\"primary\"!=a.preference&&(u={$query:u,$readPreference:a.toJSON()});var b=new Query(e,s,u,{numberToSkip:0,numberToReturn:1,checkKeys:!1,returnFieldSelector:null,serializeFunctions:y,ignoreUndefined:h});return b.slaveOk=a.slaveOk(),b},setupCommand=function(e,r,o,t,n,i){var a=getReadPreference(o,i=i||{}),c={};for(var s in o)c[s]=o[s];var u=r.split(/\\./),l=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;\"mongos\"==n.type&&a&&\"primary\"!=a.preference&&(c={$query:c,$readPreference:a.toJSON()});var d=new Query(e,f(\"%s.$cmd\",u.shift()),c,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:l,ignoreUndefined:m});return d.slaveOk=a.slaveOk(),d};module.exports=WireProtocol;","node_modules/mongodb-core/lib/topologies/shared.js":"\"use strict\";var os=require(\"os\"),f=require(\"util\").format;function emitSDAMEvent(e,r,s){e.listeners(r).length>0&&e.emit(r,s)}var driverVersion=require(\"../../package.json\").version,nodejsversion=f(\"Node.js %s, %s\",process.version,os.endianness()),type=os.type(),name=process.platform,architecture=process.arch,release=os.release();function createClientInfo(e){var r=e.clientInfo?clone(e.clientInfo):{driver:{name:\"nodejs-core\",version:driverVersion},os:{type:type,name:name,architecture:architecture,version:release}};if(r.platform&&-1==r.platform.indexOf(\"mongodb-core\")?r.platform=f(\"%s, mongodb-core: %s\",r.platform,driverVersion):r.platform||(r.platform=nodejsversion),e.appname){var s=new Buffer(e.appname),t=s.length>128?s.slice(0,128).toString(\"utf8\"):e.appname;r.application={name:t}}return r}function clone(e){return JSON.parse(JSON.stringify(e))}var getPreviousDescription=function(e){return e.s.serverDescription||(e.s.serverDescription={address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),e.s.serverDescription},emitServerDescriptionChanged=function(e,r){e.listeners(\"serverDescriptionChanged\").length>0&&(e.emit(\"serverDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:getPreviousDescription(e),newDescription:r}),e.s.serverDescription=r)},getPreviousTopologyDescription=function(e){return e.s.topologyDescription||(e.s.topologyDescription={topologyType:\"Unknown\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}]}),e.s.topologyDescription},emitTopologyDescriptionChanged=function(e,r){e.listeners(\"topologyDescriptionChanged\").length>0&&(e.emit(\"topologyDescriptionChanged\",{topologyId:-1!=e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:getPreviousTopologyDescription(e),newDescription:r}),e.s.serverDescription=r)},changedIsMaster=function(e,r,s){var t=getTopologyType(e,r);return getTopologyType(e,s)!=t},getTopologyType=function(e,r){return r||(r=e.ismaster),r?r.ismaster&&\"isdbgrid\"==r.msg?\"Mongos\":r.ismaster&&!r.hosts?\"Standalone\":r.ismaster?\"RSPrimary\":r.secondary?\"RSSecondary\":r.arbiterOnly?\"RSArbiter\":\"Unknown\":\"Unknown\"},inquireServerState=function(e){return function(r){if(\"destroyed\"!=e.s.state){var s=(new Date).getTime();emitSDAMEvent(e,\"serverHeartbeatStarted\",{connectionId:e.name}),e.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0},function(t,o){if(t)emitSDAMEvent(e,\"serverHeartbeatFailed\",{durationMS:n,failure:t,connectionId:e.name});else{e.emit(\"ismaster\",o,e);var n=(new Date).getTime()-s;emitSDAMEvent(e,\"serverHeartbeatSucceeded\",{durationMS:n,reply:o.result,connectionId:e.name}),changedIsMaster(e,e.s.ismaster,o.result)&&emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:e.s.inTopology?getTopologyType(e):\"Standalone\"}),e.s.ismaster=o.result,e.s.isMasterLatencyMS=n}if(\"function\"==typeof r)return r(t,o);e.s.inquireServerStateTimeout=setTimeout(inquireServerState(e),e.s.haInterval)})}}},cloneOptions=function(e){var r={};for(var s in e)r[s]=e[s];return r};function Interval(e,r){var s=!1;this.start=function(){return this.isRunning()||(s=setInterval(e,r)),this},this.stop=function(){return clearInterval(s),s=!1,this},this.isRunning=function(){return!1!==s}}function Timeout(e,r){var s=!1;this.start=function(){return this.isRunning()||(s=setTimeout(e,r)),this},this.stop=function(){return clearTimeout(s),s=!1,this},this.isRunning=function(){return(!s||!s._called)&&!1!==s}}function diff(e,r){var s={servers:[]};e||(e={servers:[]});for(var t=0;t<e.servers.length;t++){for(var o=!1,n=0;n<r.servers.length;n++)if(r.servers[n].address.toLowerCase()===e.servers[t].address.toLowerCase()){o=!0;break}o||s.servers.push({address:e.servers[t].address,from:e.servers[t].type,to:\"Unknown\"})}for(n=0;n<r.servers.length;n++){for(o=!1,t=0;t<e.servers.length;t++)if(e.servers[t].address.toLowerCase()===r.servers[n].address.toLowerCase()){o=!0;break}o||s.servers.push({address:r.servers[n].address,from:\"Unknown\",to:r.servers[n].type})}for(t=0;t<e.servers.length;t++){var i=e.servers[t];for(n=0;n<r.servers.length;n++){var a=r.servers[n];i.address.toLowerCase()===a.address.toLowerCase()&&i.type!=a.type&&s.servers.push({address:i.address,from:i.type,to:a.type})}}return s}module.exports.inquireServerState=inquireServerState,module.exports.getTopologyType=getTopologyType,module.exports.emitServerDescriptionChanged=emitServerDescriptionChanged,module.exports.emitTopologyDescriptionChanged=emitTopologyDescriptionChanged,module.exports.cloneOptions=cloneOptions,module.exports.createClientInfo=createClientInfo,module.exports.clone=clone,module.exports.diff=diff,module.exports.Interval=Interval,module.exports.Timeout=Timeout;","node_modules/mongodb-core/lib/utils.js":"var assign=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var r=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(void 0!==n&&null!==n)for(var o=Object.keys(Object(n)),s=0,a=o.length;s<a;s++){var i=o[s],c=Object.getOwnPropertyDescriptor(n,i);void 0!==c&&c.enumerable&&(r[i]=n[i])}}return r};module.exports={assign:assign};","node_modules/mongodb-core/lib/connection/command_result.js":"\"use strict\";var CommandResult=function(t,o,n){this.result=t,this.connection=o,this.message=n};CommandResult.prototype.toJSON=function(){return this.result},CommandResult.prototype.toString=function(){return JSON.stringify(this.toJSON())},module.exports=CommandResult;","node_modules/mongodb-core/lib/auth/sspi.js":"\"use strict\";var f=require(\"util\").format,require_optional=require(\"require_optional\"),Query=require(\"../connection/commands\").Query,MongoError=require(\"../error\"),AuthSession=function(r,n,e,t){this.db=r,this.username=n,this.password=e,this.options=t};AuthSession.prototype.equal=function(r){return r.db==this.db&&r.username==this.username&&r.password==this.password};var Kerberos=null,MongoAuthProcess=null;try{Kerberos=require_optional(\"kerberos\").Kerberos,MongoAuthProcess=require_optional(\"kerberos\").processes.MongoAuthProcess}catch(r){}var SSPI=function(r){this.bson=r,this.authStore=[]};SSPI.prototype.auth=function(r,n,e,t,o,u,i){var s=this;if(null==Kerberos)return i(new Error(\"Kerberos library is not installed\"));var a=u.gssapiServiceName||\"mongodb\",l=n.length;if(0==l)return i(null,null);for(var c=0,h=null;n.length>0;){(function(n){process.nextTick(function(){!function(n){SSIPAuthenticate(s,t,o,a,r,n,u,function(r,n){l-=1,r?h=r:n&&\"object\"==typeof n&&n.result.$err?h=n.result:n&&\"object\"==typeof n&&n.result.errmsg?h=n.result:c+=1,0==l&&c>0?(addAuthSession(s.authStore,new AuthSession(e,t,o,u)),i(null,!0)):0==l&&(null==h&&(h=new MongoError(f(\"failed to authenticate using mongocr\"))),i(h,!1))})}(n)})})(n.shift())}};var SSIPAuthenticate=function(r,n,e,t,o,u,i,s){var a=new MongoAuthProcess(u.host,u.port,t,i);o(u,new Query(r.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"GSSAPI\",payload:\"\",autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(t,i){if(t)return s(t,!1);var l=i.result;a.init(n,e,function(n){if(n)return s(n);a.transition(l.payload,function(n,e){if(n)return s(n);var t={saslContinue:1,conversationId:l.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",t,{numberToSkip:0,numberToReturn:1}),function(n,e){if(n)return s(n,!1);var t=e.result;a.transition(t.payload,function(n,e){if(n)return s(n);var i={saslContinue:1,conversationId:t.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",i,{numberToSkip:0,numberToReturn:1}),function(n,e){if(n)return s(n,!1);var t=e.result;a.transition(t.payload,function(n,e){var i={saslContinue:1,conversationId:t.conversationId,payload:e};o(u,new Query(r.bson,\"$external.$cmd\",i,{numberToSkip:0,numberToReturn:1}),function(r,n){if(r)return s(r,!1);if(n.result.done)return s(null,!0);s(new Error(\"Authentication failed\"),!1)})})})})})})})})},addAuthSession=function(r,n){for(var e=!1,t=0;t<r.length;t++)if(r[t].equal(n)){e=!0;break}e||r.push(n)};SSPI.prototype.logout=function(r){this.authStore=this.authStore.filter(function(n){return n.db!=r})},SSPI.prototype.reauthenticate=function(r,n,e){var t=this.authStore.slice(0),o=t.length;if(0==o)return e(null,null);for(var u=0;u<t.length;u++)this.auth(r,n,t[u].db,t[u].username,t[u].password,t[u].options,function(r){0==(o-=1)&&e(r,null)})},module.exports=SSPI;","node_modules/mongodb-core/lib/wireprotocol/commands.js":"\"use strict\";var MongoError=require(\"../error\"),OP_UPDATE=2001,OP_INSERT=2002,OP_DELETE=2006,Insert=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");if(!Array.isArray(n)||0==n.length)throw new MongoError(\"documents array must contain at least one document to insert\");if(~t.indexOf(\"\\0\"))throw new MongoError(\"namespace cannot contain a null character\");this.requestId=e,this.bson=i,this.ns=t,this.documents=n,this.ismaster=s,r=r||{},this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"!=typeof r.checkKeys||r.checkKeys,this.continueOnError=\"boolean\"==typeof r.continueOnError&&r.continueOnError,this.flags=this.continueOnError?1:0};Insert.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1);e.push(s);for(var i=s.length,t=0;t<this.documents.length;t++){var n=this.bson.serialize(this.documents[t],{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(n.length>this.ismaster.maxBsonObjectSize)throw new MongoError(\"Document exceeds maximum allowed bson size of \"+this.ismaster.maxBsonObjectSize+\" bytes\");i+=n.length,e.push(n)}if(i>this.ismaster.maxMessageSizeBytes)throw new MongoError(\"Command exceeds maximum message size of \"+this.ismaster.maxMessageSizeBytes+\" bytes\");var r=0;return s[r+3]=i>>24&255,s[r+2]=i>>16&255,s[r+1]=i>>8&255,s[r]=255&i,r+=4,s[r+3]=this.requestId>>24&255,s[r+2]=this.requestId>>16&255,s[r+1]=this.requestId>>8&255,s[r]=255&this.requestId,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,s[r+3]=OP_INSERT>>24&255,s[r+2]=OP_INSERT>>16&255,s[r+1]=OP_INSERT>>8&255,s[r]=255&OP_INSERT,r+=4,s[r+3]=this.flags>>24&255,s[r+2]=this.flags>>16&255,s[r+1]=this.flags>>8&255,s[r]=255&this.flags,r+=4,r=r+s.write(this.ns,r,\"utf8\")+1,s[r-1]=0,e};var Update=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");r=r||{},this.requestId=e,this.bson=i,this.ns=t,this.ismaster=s,this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"==typeof r.checkKeys&&r.checkKeys,this.upsert=\"boolean\"==typeof n[0].upsert&&n[0].upsert,this.multi=\"boolean\"==typeof n[0].multi&&n[0].multi,this.q=n[0].q,this.u=n[0].u,this.flags=this.upsert?1:0,this.flags=this.multi?2|this.flags:this.flags};Update.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(s);var i=s.length,t=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(t),i+=t.length;var n=this.bson.serialize(this.u,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(n),i+=n.length;var r=0;return s[r+3]=i>>24&255,s[r+2]=i>>16&255,s[r+1]=i>>8&255,s[r]=255&i,r+=4,s[r+3]=this.requestId>>24&255,s[r+2]=this.requestId>>16&255,s[r+1]=this.requestId>>8&255,s[r]=255&this.requestId,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,s[r+3]=OP_UPDATE>>24&255,s[r+2]=OP_UPDATE>>16&255,s[r+1]=OP_UPDATE>>8&255,s[r]=255&OP_UPDATE,r+=4,s[r+3]=0,s[r+2]=0,s[r+1]=0,s[r]=0,r+=4,r=r+s.write(this.ns,r,\"utf8\")+1,s[r-1]=0,s[r+3]=this.flags>>24&255,s[r+2]=this.flags>>16&255,s[r+1]=this.flags>>8&255,s[r]=255&this.flags,r+=4,e};var Remove=function(e,s,i,t,n,r){if(null==t)throw new MongoError(\"ns must be specified for query\");r=r||{},this.requestId=e,this.bson=i,this.ns=t,this.ismaster=s,this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.checkKeys=\"boolean\"==typeof r.checkKeys&&r.checkKeys,this.limit=\"number\"==typeof n[0].limit?n[0].limit:1,this.q=n[0].q,this.flags=1==this.limit?1:0};Remove.prototype.toBin=function(){var e=[],s=new Buffer(20+Buffer.byteLength(this.ns)+1+4);e.push(s);var i=s.length,t=this.bson.serialize(this.q,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(t),i+=t.length;var n=0;return s[n+3]=i>>24&255,s[n+2]=i>>16&255,s[n+1]=i>>8&255,s[n]=255&i,n+=4,s[n+3]=this.requestId>>24&255,s[n+2]=this.requestId>>16&255,s[n+1]=this.requestId>>8&255,s[n]=255&this.requestId,n+=4,s[n+3]=0,s[n+2]=0,s[n+1]=0,s[n]=0,n+=4,s[n+3]=OP_DELETE>>24&255,s[n+2]=OP_DELETE>>16&255,s[n+1]=OP_DELETE>>8&255,s[n]=255&OP_DELETE,n+=4,s[n+3]=0,s[n+2]=0,s[n+1]=0,s[n]=0,n+=4,n=n+s.write(this.ns,n,\"utf8\")+1,s[n-1]=0,s[n+3]=this.flags>>24&255,s[n+2]=this.flags>>16&255,s[n+1]=this.flags>>8&255,s[n]=255&this.flags,n+=4,e},module.exports={Insert:Insert,Update:Update,Remove:Remove};","node_modules/mongodb-core/lib/wireprotocol/shared.js":"\"use strict\";var ReadPreference=require(\"../topologies/read_preference\"),MongoError=require(\"../error\"),getReadPreference=function(e,r){var n=e.readPreference||new ReadPreference(\"primary\");if(r.readPreference&&(n=r.readPreference),\"string\"==typeof n&&(n=new ReadPreference(n)),!(n instanceof ReadPreference))throw new MongoError(\"readPreference must be a ReadPreference instance\");return n};module.exports={getReadPreference:getReadPreference};","node_modules/mongodb-core/package.json":{"_from":"mongodb-core@2.1.17","_id":"mongodb-core@2.1.17","_inBundle":false,"_integrity":"sha1-pBizN6FKFJkPtRC5I97mqBMXPfg=","_location":"/mongodb-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"mongodb-core@2.1.17","name":"mongodb-core","escapedName":"mongodb-core","rawSpec":"2.1.17","saveSpec":null,"fetchSpec":"2.1.17"},"_requiredBy":["/mongodb"],"_resolved":"https://registry.npmjs.org/mongodb-core/-/mongodb-core-2.1.17.tgz","_shasum":"a418b337a14a14990fb510b923dee6a813173df8","_spec":"mongodb-core@2.1.17","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\mongodb","author":{"name":"Christian Kvalheim"},"bugs":{"url":"https://github.com/christkv/mongodb-core/issues"},"bundleDependencies":false,"dependencies":{"bson":"~1.0.4","require_optional":"~1.0.0"},"deprecated":false,"description":"Core MongoDB driver functionality, no bells and whistles and meant for integration not end applications","devDependencies":{"co":"^4.5.4","coveralls":"^2.11.6","es6-promise":"^3.0.2","gleak":"0.5.0","integra":"0.1.8","jsdoc":"3.3.0-alpha8","mkdirp":"0.5.0","mongodb-topology-manager":"1.0.x","mongodb-version-manager":"github:christkv/mongodb-version-manager#master","nyc":"^5.5.0","optimist":"latest","rimraf":"2.2.6","semver":"4.1.0"},"homepage":"https://github.com/christkv/mongodb-core","keywords":["mongodb","core"],"license":"Apache-2.0","main":"index.js","name":"mongodb-core","peerOptionalDependencies":{"kerberos":"~0.0","bson-ext":"1.0.5"},"repository":{"type":"git","url":"git://github.com/christkv/mongodb-core.git"},"scripts":{"coverage":"nyc node test/runner.js -t functional -l && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls","lint":"eslint lib","test":"node test/runner.js -t functional"},"version":"2.1.17"},"node_modules/mongodb-core/lib/topologies/replset_state.js":"\"use strict\";var inherits=require(\"util\").inherits,f=require(\"util\").format,diff=require(\"./shared\").diff,EventEmitter=require(\"events\").EventEmitter,Logger=require(\"../connection/logger\"),ReadPreference=require(\"./read_preference\"),MongoError=require(\"../error\"),TopologyType={Single:\"Single\",ReplicaSetNoPrimary:\"ReplicaSetNoPrimary\",ReplicaSetWithPrimary:\"ReplicaSetWithPrimary\",Sharded:\"Sharded\",Unknown:\"Unknown\"},ServerType={Standalone:\"Standalone\",Mongos:\"Mongos\",PossiblePrimary:\"PossiblePrimary\",RSPrimary:\"RSPrimary\",RSSecondary:\"RSSecondary\",RSArbiter:\"RSArbiter\",RSOther:\"RSOther\",RSGhost:\"RSGhost\",Unknown:\"Unknown\"},ReplSetState=function(e){e=e||{},EventEmitter.call(this),this.topologyType=TopologyType.ReplicaSetNoPrimary,this.setName=e.setName,this.set={},this.id=e.id,this.setName=e.setName,this.logger=e.logger||Logger(\"ReplSet\",e),this.index=0,this.acceptableLatency=e.acceptableLatency||15,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS||1e4,this.primary=null,this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.maxElectionId=null,this.maxSetVersion=0,this.replicasetDescription={topologyType:\"Unknown\",servers:[]}};inherits(ReplSetState,EventEmitter),ReplSetState.prototype.hasPrimaryAndSecondary=function(){return null!=this.primary&&this.secondaries.length>0},ReplSetState.prototype.hasPrimaryOrSecondary=function(){return this.hasPrimary()||this.hasSecondary()},ReplSetState.prototype.hasPrimary=function(){return null!=this.primary},ReplSetState.prototype.hasSecondary=function(){return this.secondaries.length>0},ReplSetState.prototype.get=function(e){for(var r=this.allServers(),t=0;t<r.length;t++)if(r[t].name.toLowerCase()===e.toLowerCase())return r[t];return null},ReplSetState.prototype.allServers=function(e){e=e||{};var r=this.primary?[this.primary]:[];return r=r.concat(this.secondaries),e.ignoreArbiters||(r=r.concat(this.arbiters)),r=r.concat(this.passives)},ReplSetState.prototype.destroy=function(e){this.primary&&this.primary.destroy(e),this.secondaries.forEach(function(r){r.destroy(e)}),this.arbiters.forEach(function(r){r.destroy(e)}),this.passives.forEach(function(r){r.destroy(e)}),this.ghosts.forEach(function(r){r.destroy(e)}),this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.primary=null,emitTopologyDescriptionChanged(this)},ReplSetState.prototype.remove=function(e,r){r=r||{};var t=e.name.toLowerCase(),s=this.primary?[this.primary]:[];s=(s=(s=s.concat(this.secondaries)).concat(this.arbiters)).concat(this.passives);for(var i=0;i<s.length;i++)if(!r.force&&s[i].equals(e)&&s[i].isConnected&&s[i].isConnected())return;this.set[t]&&(this.set[t].type=ServerType.Unknown,this.set[t].electionId=null,this.set[t].setName=null,this.set[t].setVersion=null);var a=null;this.primary&&this.primary.equals(e)&&(this.primary=null,this.topologyType=TopologyType.ReplicaSetNoPrimary,a=\"primary\"),a=removeFrom(e,this.secondaries)?\"secondary\":a,a=removeFrom(e,this.arbiters)?\"arbiter\":a,a=removeFrom(e,this.passives)?\"secondary\":a,removeFrom(e,this.ghosts),removeFrom(e,this.unknownServers),this.unknownServers.push(t),a&&this.emit(\"left\",a,e)},ReplSetState.prototype.update=function(e){var r=e.lastIsMaster(),t=e.name.toLowerCase();if(r){var s=Array.isArray(r.hosts)?r.hosts:[];s=(s=(s=s.concat(Array.isArray(r.arbiters)?r.arbiters:[])).concat(Array.isArray(r.passives)?r.passives:[])).map(function(e){return e.toLowerCase()});for(var i=0;i<s.length;i++)-1!=this.unknownServers.indexOf(s[i])||this.set[s[i]]&&this.set[s[i]].type!=ServerType.Unknown||this.unknownServers.push(s[i].toLowerCase()),this.set[s[i]]||(this.set[s[i]]={type:ServerType.Unknown,electionId:null,setName:null,setVersion:null})}if(!r&&!inList(r,e,this.unknownServers))return this.set[t]={type:ServerType.Unknown,setVersion:null,electionId:null,setName:null},this.set[t].type=ServerType.Unknown,this.set[t].electionId=r?r.electionId:r,this.set[t].setName=r?r.setName:r,this.set[t].setVersion=r?r.setVersion:r,-1==this.unknownServers.indexOf(e.name)&&this.unknownServers.push(t),!1;if(r&&\"isdbgrid\"==r.msg)return!1;if(r.setName&&r.hidden||r.setName&&!r.ismaster&&!r.secondary&&!r.arbiterOnly&&!r.passive)return this.set[t]={type:ServerType.RSOther,setVersion:null,electionId:null,setName:r.setName},this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),!1;if(r.isreplicaset)return this.set[t]={type:ServerType.RSGhost,setVersion:null,electionId:null,setName:null},this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),!1;if(r&&r.ismaster&&!r.setName)return this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.Unknown,this.remove(e,{force:!0}),!1;if(r&&!r.ismaster&&!r.secondary&&!r.arbiterOnly)return this.remove(e,{force:!0}),!1;if(r.me&&r.me.toLowerCase()!=t)return this.logger.isWarn()&&this.logger.warn(f(\"the seedlist server was removed due to its address %s not matching its ismaster.me address %s\",e.name,r.me)),delete this.set[t],removeFrom(e,this.unknownServers),e.destroy(),this.primary&&!this.primary.equals(e)?this.topologyType=TopologyType.ReplicaSetWithPrimary:this.topologyType=TopologyType.ReplicaSetNoPrimary,!this.primary&&r.primary&&(this.set[r.primary.toLowerCase()]={type:ServerType.PossiblePrimary,setName:null,electionId:null,setVersion:null}),!1;if(!this.primary&&r.ismaster&&r.setName){var a=e.lastIsMaster().electionId;if(this.setName&&this.setName!=r.setName)return this.topologyType=TopologyType.ReplicaSetNoPrimary,new MongoError(f(\"setName from ismaster does not match provided connection setName [%s] != [%s]\",r.setName,this.setName));if(!this.maxElectionId&&a)this.maxElectionId=a;else if(this.maxElectionId&&a){var o=compareObjectIds(this.maxElectionId,a),n=e.lastIsMaster().setVersion;if(1==o)return this.topologyType=TopologyType.ReplicaSetNoPrimary,!1;if(0==o&&n&&n<this.maxSetVersion)return this.topologyType=TopologyType.ReplicaSetNoPrimary,!1;this.maxSetVersion=n,this.maxElectionId=a}return-1!=r.hosts.map(function(e){return e.toLowerCase()}).indexOf(t)?(this.primary=e,this.set[t]={type:ServerType.RSPrimary,setVersion:r.setVersion,electionId:r.electionId,setName:r.setName},this.topologyType=TopologyType.ReplicaSetWithPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),removeFrom(e,this.secondaries),removeFrom(e,this.passives),this.emit(\"joined\",\"primary\",e)):this.topologyType=TopologyType.ReplicaSetNoPrimary,emitTopologyDescriptionChanged(this),!0}if(r.ismaster&&r.setName){var p=this.set[this.primary.name.toLowerCase()].electionId,l=this.set[this.primary.name.toLowerCase()].setVersion,y=this.set[this.primary.name.toLowerCase()].setName;a=e.lastIsMaster().electionId,n=e.lastIsMaster().setVersion;var m=e.lastIsMaster().setName;if(this.primary.equals(e)&&y==m)return!1;if(y&&y!=m)return this.primary.equals(e)?this.topologyType=TopologyType.ReplicaSetNoPrimary:this.topologyType=TopologyType.ReplicaSetWithPrimary,!1;if(p&&a){if(1==(o=compareObjectIds(p,a)))return!1;if(0==o&&l>n)return!1}else if(!p&&a&&n&&n<this.maxSetVersion)return!1;if(!this.maxElectionId&&a)this.maxElectionId=a;else if(this.maxElectionId&&a){if(1==(o=compareObjectIds(this.maxElectionId,a)))return!1;if(0==o&&l&&n){if(n<this.maxSetVersion)return!1}else if(n<this.maxSetVersion)return!1;this.maxElectionId=a,this.maxSetVersion=n}else this.maxSetVersion=n;return this.set[this.primary.name.toLowerCase()]={type:ServerType.Unknown,setVersion:null,electionId:null,setName:null},this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=e,this.set[t]={type:ServerType.RSPrimary,setVersion:r.setVersion,electionId:r.electionId,setName:r.setName},this.topologyType=TopologyType.ReplicaSetWithPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),removeFrom(e,this.secondaries),removeFrom(e,this.passives),this.emit(\"joined\",\"primary\",e),emitTopologyDescriptionChanged(this),!0}return!this.primary&&r.primary&&(this.set[r.primary.toLowerCase()]={type:ServerType.PossiblePrimary,setVersion:null,electionId:null,setName:null}),r.secondary&&r.setName&&!inList(r,e,this.secondaries)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSSecondary,r,e,this.secondaries),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==t&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),emitTopologyDescriptionChanged(this),!0):r.arbiterOnly&&r.setName&&!inList(r,e,this.arbiters)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSArbiter,r,e,this.arbiters),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.emit(\"joined\",\"arbiter\",e),emitTopologyDescriptionChanged(this),!0):r.passive&&r.setName&&!inList(r,e,this.passives)&&this.setName&&this.setName==r.setName?(addToList(this,ServerType.RSSecondary,r,e,this.passives),this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,r.setName&&(this.setName=r.setName),removeFrom(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()==t&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),emitTopologyDescriptionChanged(this),!0):this.set[t]&&this.set[t].type==ServerType.RSPrimary?(this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=null,this.topologyType=TopologyType.ReplicaSetNoPrimary,!1):(this.topologyType=this.primary?TopologyType.ReplicaSetWithPrimary:TopologyType.ReplicaSetNoPrimary,!1)},ReplSetState.prototype.updateServerMaxStaleness=function(e,r){for(var t=0,s=0;s<this.secondaries.length;s++)t=Math.max(t,this.secondaries[s].lastWriteDate);e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&this.hasPrimary()?e.staleness=e.lastUpdateTime-e.lastWriteDate-(this.primary.lastUpdateTime-this.primary.lastWriteDate)+r:e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&(e.staleness=t-e.lastWriteDate+r)},ReplSetState.prototype.updateSecondariesMaxStaleness=function(e){for(var r=0;r<this.secondaries.length;r++)this.updateServerMaxStaleness(this.secondaries[r],e)},ReplSetState.prototype.pickServer=function(e){if(\"primary\"==(e=e||ReadPreference.primary).preference&&null!=e.maxStalenessSeconds)return new MongoError(\"primary readPreference incompatible with maxStalenessSeconds\");var r=this.primary?[this.primary]:[];if(r=r.concat(this.secondaries),null!=e.maxStalenessSeconds)for(var t=0;t<r.length;t++)if(r[t].ismaster.maxWireVersion<5)return new MongoError(\"maxStalenessSeconds not supported by at least one of the replicaset members\");if(\"nearest\"==e.preference&&null==e.maxStalenessSeconds)return pickNearest(this,e);if(\"nearest\"==e.preference&&null!=e.maxStalenessSeconds)return pickNearestMaxStalenessSeconds(this,e);var s=this.secondaries;if(e.equals(ReadPreference.secondary)&&0==s.length)return new MongoError(\"no secondary server available\");if(e.equals(ReadPreference.secondaryPreferred)&&0==s.length&&null==this.primary)return new MongoError(\"no secondary or primary server available\");if(e.equals(ReadPreference.primary)&&null==this.primary)return new MongoError(\"no primary server available\");if(e.equals(ReadPreference.secondaryPreferred)||e.equals(ReadPreference.secondary)){if(s.length>0&&null==e.maxStalenessSeconds){var i=pickNearest(this,e);if(i)return i}else if(s.length>0&&null!=e.maxStalenessSeconds&&(i=pickNearestMaxStalenessSeconds(this,e)))return i;return e.equals(ReadPreference.secondaryPreferred)?this.primary:null}if(e.equals(ReadPreference.primaryPreferred)){if(i=null,this.primary)return this.primary;if(s.length>0&&null==e.maxStalenessSeconds?i=pickNearest(this,e):s.length>0&&null!=e.maxStalenessSeconds&&(i=pickNearestMaxStalenessSeconds(this,e)),i)return i}return this.primary};var filterByTags=function(e,r){if(null==e.tags)return r;for(var t=[],s=Array.isArray(e.tags)?e.tags:[e.tags],i=0;i<s.length;i++)for(var a=s[i],o=0;o<r.length;o++){var n=r[o].lastIsMaster().tags||{},p=!0;for(var l in a)n[l]!=a[l]&&(p=!1);p&&t.push(r[o])}return t};function pickNearestMaxStalenessSeconds(e,r){var t=[],s=(e.heartbeatFrequencyMS,1e3*r.maxStalenessSeconds);if(s<9e4)return new MongoError(\"maxStalenessSeconds must be set to at least 90 seconds\");e.primary&&\"secondary\"!=r.preference&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary);for(var i=0;i<e.secondaries.length;i++)t.push(e.secondaries[i]);if(e.primary&&0==t.length&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary),t=filterByTags(r,t),(t=t.filter(function(e){return e.staleness<=s})).sort(function(e,r){return e.lastIsMasterMS>r.lastIsMasterMS}),0==t.length)return null;e.index=e.index%t.length;var a=t[e.index];return e.index=e.index+1,a}function pickNearest(e,r){var t=[];e.primary&&\"secondary\"!=r.preference&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary);for(var s=0;s<e.secondaries.length;s++)t.push(e.secondaries[s]);0==t.length&&e.primary&&\"secondaryPreferred\"!=r.preference&&t.push(e.primary),(t=filterByTags(r,t)).sort(function(e,r){return e.lastIsMasterMS>r.lastIsMasterMS});var i=t.length>0?t[0].lastIsMasterMS:0;if(0==(t=t.filter(function(r){return r.lastIsMasterMS<=i+e.acceptableLatency})).length)return null;e.index=e.index%t.length;var a=t[e.index];return e.index=e.index+1,a}function inList(e,r,t){for(var s=0;s<t.length;s++)if(t[s]&&t[s].name&&t[s].name.toLowerCase()==r.name.toLowerCase())return!0;return!1}function addToList(e,r,t,s,i){var a=s.name.toLowerCase();e.set[a].type=r,e.set[a].electionId=t?t.electionId:t,e.set[a].setName=t?t.setName:t,e.set[a].setVersion=t?t.setVersion:t,i.push(s)}function compareObjectIds(e,r){var t=new Buffer(e.toHexString(),\"hex\"),s=new Buffer(r.toHexString(),\"hex\");if(t===s)return 0;if(\"function\"==typeof Buffer.compare)return Buffer.compare(t,s);for(var i=t.length,a=s.length,o=Math.min(i,a),n=0;n<o&&t[n]===s[n];n++);return n!==o&&(i=t[n],a=s[n]),i<a?-1:a<i?1:0}function removeFrom(e,r){for(var t=0;t<r.length;t++){if(r[t].equals&&r[t].equals(e))return r.splice(t,1),!0;if(\"string\"==typeof r[t]&&r[t].toLowerCase()==e.name.toLowerCase())return r.splice(t,1),!0}return!1}function emitTopologyDescriptionChanged(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var r=\"Unknown\",t=e.setName;e.hasPrimaryAndSecondary()?r=\"ReplicaSetWithPrimary\":!e.hasPrimary()&&e.hasSecondary()&&(r=\"ReplicaSetNoPrimary\");var s={topologyType:r,setName:t,servers:[]};if(e.hasPrimary()){var i=e.primary.getDescription();i.type=\"RSPrimary\",s.servers.push(i)}s.servers=s.servers.concat(e.secondaries.map(function(e){var r=e.getDescription();return r.type=\"RSSecondary\",r})),s.servers=s.servers.concat(e.arbiters.map(function(e){var r=e.getDescription();return r.type=\"RSArbiter\",r})),s.servers=s.servers.concat(e.passives.map(function(e){var r=e.getDescription();return r.type=\"RSSecondary\",r}));var a=diff(e.replicasetDescription,s),o={topologyId:e.id,previousDescription:e.replicasetDescription,newDescription:s,diff:a};e.emit(\"topologyDescriptionChanged\",o),e.replicasetDescription=s}}module.exports=ReplSetState;","node_modules/mongodb/lib/aggregation_cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"./cursor\"),AggregationCursor=function(r,e,o,s,t,i){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var a=AggregationCursor.INIT,n=s.promiseLibrary;n||(n=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:a,streamOptions:{},bson:r,ns:e,cmd:o,options:s,topology:t,topologyOptions:i,promiseLibrary:n}};inherits(AggregationCursor,Readable);for(var name in CoreCursor.prototype)AggregationCursor.prototype[name]=CoreCursor.prototype[name];var define=AggregationCursor.define=new Define(\"AggregationCursor\",AggregationCursor,!0);AggregationCursor.prototype.batchSize=function(r){if(this.s.state==AggregationCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof r)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=r),this.setCursorBatchSize(r),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.geoNear=function(r){return this.s.cmd.pipeline.push({$geoNear:r}),this},define.classMethod(\"geoNear\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.group=function(r){return this.s.cmd.pipeline.push({$group:r}),this},define.classMethod(\"group\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.limit=function(r){return this.s.cmd.pipeline.push({$limit:r}),this},define.classMethod(\"limit\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.match=function(r){return this.s.cmd.pipeline.push({$match:r}),this},define.classMethod(\"match\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.maxTimeMS=function(r){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=r),this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.out=function(r){return this.s.cmd.pipeline.push({$out:r}),this},define.classMethod(\"out\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.project=function(r){return this.s.cmd.pipeline.push({$project:r}),this},define.classMethod(\"project\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.lookup=function(r){return this.s.cmd.pipeline.push({$lookup:r}),this},define.classMethod(\"lookup\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.redact=function(r){return this.s.cmd.pipeline.push({$redact:r}),this},define.classMethod(\"redact\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.skip=function(r){return this.s.cmd.pipeline.push({$skip:r}),this},define.classMethod(\"skip\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.sort=function(r){return this.s.cmd.pipeline.push({$sort:r}),this},define.classMethod(\"sort\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.unwind=function(r){return this.s.cmd.pipeline.push({$unwind:r}),this},define.classMethod(\"unwind\",{callback:!1,promise:!1,returns:[AggregationCursor]}),AggregationCursor.prototype.get=AggregationCursor.prototype.toArray,define.classMethod(\"toArray\",{callback:!0,promise:!0}),define.classMethod(\"each\",{callback:!0,promise:!1}),define.classMethod(\"forEach\",{callback:!0,promise:!1}),define.classMethod(\"hasNext\",{callback:!0,promise:!0}),define.classMethod(\"next\",{callback:!0,promise:!0}),define.classMethod(\"close\",{callback:!0,promise:!0}),define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),define.classMethod(\"rewind\",{callback:!1,promise:!1}),define.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),define.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),AggregationCursor.INIT=0,AggregationCursor.OPEN=1,AggregationCursor.CLOSED=2,module.exports=AggregationCursor;","node_modules/mongodb/lib/command_cursor.js":"\"use strict\";var inherits=require(\"util\").inherits,ReadPreference=require(\"./read_preference\"),MongoError=require(\"mongodb-core\").MongoError,Readable=require(\"stream\").Readable||require(\"readable-stream\").Readable,Define=require(\"./metadata\"),CoreCursor=require(\"./cursor\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,CommandCursor=function(e,r,o,s,a,t){CoreCursor.apply(this,Array.prototype.slice.call(arguments,0));var i=CommandCursor.INIT,n=s.promiseLibrary;n||(n=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise),Readable.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:i,streamOptions:{},bson:e,ns:r,cmd:o,options:s,topology:a,topologyOptions:t,promiseLibrary:n}};inherits(CommandCursor,Readable);for(var methodsToInherit=[\"_next\",\"next\",\"hasNext\",\"each\",\"forEach\",\"toArray\",\"rewind\",\"bufferedCount\",\"readBufferedDocuments\",\"close\",\"isClosed\",\"kill\",\"setCursorBatchSize\",\"_find\",\"_getmore\",\"_killcursor\",\"isDead\",\"explain\",\"isNotified\",\"isKilled\"],i=0;i<methodsToInherit.length;i++)CommandCursor.prototype[methodsToInherit[i]]=CoreCursor.prototype[methodsToInherit[i]];var define=CommandCursor.define=new Define(\"CommandCursor\",CommandCursor,!0);CommandCursor.prototype.setReadPreference=function(e){if(this.s.state==CommandCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(this.s.state!=CommandCursor.INIT)throw MongoError.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});return e instanceof ReadPreference?this.s.options.readPreference=new CoreReadPreference(e.mode,e.tags,{maxStalenessSeconds:e.maxStalenessSeconds}):\"string\"==typeof e?this.s.options.readPreference=new CoreReadPreference(e):e instanceof CoreReadPreference&&(this.s.options.readPreference=e),this},define.classMethod(\"setReadPreference\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.batchSize=function(e){if(this.s.state==CommandCursor.CLOSED||this.isDead())throw MongoError.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw MongoError.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},define.classMethod(\"batchSize\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},define.classMethod(\"maxTimeMS\",{callback:!1,promise:!1,returns:[CommandCursor]}),CommandCursor.prototype.get=CommandCursor.prototype.toArray,define.classMethod(\"get\",{callback:!0,promise:!1}),define.classMethod(\"toArray\",{callback:!0,promise:!0}),define.classMethod(\"each\",{callback:!0,promise:!1}),define.classMethod(\"forEach\",{callback:!0,promise:!1}),define.classMethod(\"next\",{callback:!0,promise:!0}),define.classMethod(\"hasNext\",{callback:!0,promise:!0}),define.classMethod(\"close\",{callback:!0,promise:!0}),define.classMethod(\"isClosed\",{callback:!1,promise:!1,returns:[Boolean]}),define.classMethod(\"rewind\",{callback:!1,promise:!1}),define.classMethod(\"bufferedCount\",{callback:!1,promise:!1,returns:[Number]}),define.classMethod(\"readBufferedDocuments\",{callback:!1,promise:!1,returns:[Array]}),CommandCursor.INIT=0,CommandCursor.OPEN=1,CommandCursor.CLOSED=2,module.exports=CommandCursor;","node_modules/mongodb/lib/bulk/ordered.js":"\"use strict\";var common=require(\"./common\"),utils=require(\"../utils\"),toError=require(\"../utils\").toError,handleCallback=require(\"../utils\").handleCallback,shallowClone=utils.shallowClone,BulkWriteResult=common.BulkWriteResult,ObjectID=require(\"mongodb-core\").BSON.ObjectID,Define=require(\"../metadata\"),BSON=require(\"mongodb-core\").BSON,Batch=common.Batch,mergeBatchResults=common.mergeBatchResults,bson=new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),FindOperatorsOrdered=function(e){this.s=e.s};FindOperatorsOrdered.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsOrdered.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsOrdered.prototype.replaceOne=function(e){this.updateOne(e)},FindOperatorsOrdered.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},FindOperatorsOrdered.prototype.deleteOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsOrdered.prototype.removeOne=FindOperatorsOrdered.prototype.deleteOne,FindOperatorsOrdered.prototype.delete=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsOrdered.prototype.remove=FindOperatorsOrdered.prototype.delete;var addToOperationsList=function(e,t,r){var n=bson.calculateObjectSize(r,{checkKeys:!1});if(n>=e.s.maxBatchSizeBytes)throw toError(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(null==e.s.currentBatch&&(e.s.currentBatch=new Batch(t,e.s.currentIndex)),e.s.currentBatchSize+1>=e.s.maxWriteBatchSize||e.s.currentBatchSizeBytes+e.s.currentBatchSizeBytes>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t?(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new Batch(t,e.s.currentIndex),e.s.currentBatchSize=0,e.s.currentBatchSizeBytes=0):(e.s.currentBatchSize=e.s.currentBatchSize+1,e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+n),t==common.INSERT&&e.s.bulkResult.insertedIds.push({index:e.s.currentIndex,_id:r._id}),Array.isArray(r))throw toError(\"operation passed in cannot be an Array\");return e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentBatch.operations.push(r),e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+n,e.s.currentIndex=e.s.currentIndex+1,e};function OrderedBulkOperation(e,t,r){r=null==r?{}:r;var n=e.bson,o=t.collectionName,i=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,s=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,a=common.writeConcern(shallowClone(r),t,r),c=r.promiseLibrary;c||(c=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentBatch:null,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,batches:[],writeConcern:a,maxBatchSizeBytes:i,maxWriteBatchSize:s,namespace:o,bson:n,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:c,err:null,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}}var define=OrderedBulkOperation.define=new Define(\"OrderedBulkOperation\",OrderedBulkOperation,!1);OrderedBulkOperation.prototype.raw=function(e){var t=Object.keys(e)[0],r=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,addToOperationsList(this,common.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var n=!e.updateOne&&!e.replaceOne,o={q:e[t].filter,u:e[t].update||e[t].replacement,multi:n};return o.upsert=!!e[t].upsert,e.collation&&(o.collation=e.collation),addToOperationsList(this,common.UPDATE,o)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,addToOperationsList(this,common.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var i=e.deleteOne?1:0;return o={q:e[t].filter,limit:i},e.collation&&(o.collation=e.collation),addToOperationsList(this,common.REMOVE,o)}if(e.insertOne&&null==e.insertOne.document)return!0!==r&&null==e.insertOne._id&&(e.insertOne._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==r&&null==e.insertOne.document._id&&(e.insertOne.document._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne.document);if(!e.insertMany)throw toError(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var s=0;s<e.insertMany.length;s++)!0!==r&&null==e.insertMany[s]._id&&(e.insertMany[s]._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertMany[s])},OrderedBulkOperation.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new ObjectID),addToOperationsList(this,common.INSERT,e)},OrderedBulkOperation.prototype.find=function(e){if(!e)throw toError(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new FindOperatorsOrdered(this)},Object.defineProperty(OrderedBulkOperation.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}});var executeCommands=function(e,t){if(0==e.s.batches.length)return handleCallback(t,null,new BulkWriteResult(e.s.bulkResult));var r=e.s.batches.shift(),n=function(n,o){if(n&&n.driver||n&&n.message)return handleCallback(t,n);n&&(n.ok=0);return null!=mergeBatchResults(!0,r,e.s.bulkResult,n,o)?handleCallback(t,null,new BulkWriteResult(e.s.bulkResult)):e.s.bulkResult.writeErrors.length>0?handleCallback(t,toError(e.s.bulkResult.writeErrors[0]),new BulkWriteResult(e.s.bulkResult)):void executeCommands(e,t)},o={ordered:!0};null!=e.s.writeConcern&&(o.writeConcern=e.s.writeConcern),e.operationId&&(n.operationId=e.operationId),e.s.options.serializeFunctions&&(o.serializeFunctions=!0),e.s.options.ignoreUndefined&&(o.ignoreUndefined=!0),1==e.s.bypassDocumentValidation&&(o.bypassDocumentValidation=!0);try{r.batchType==common.INSERT?e.s.topology.insert(e.s.collection.namespace,r.operations,o,n):r.batchType==common.UPDATE?e.s.topology.update(e.s.collection.namespace,r.operations,o,n):r.batchType==common.REMOVE&&e.s.topology.remove(e.s.collection.namespace,r.operations,o,n)}catch(n){n.ok=0,handleCallback(t,null,mergeBatchResults(!1,r,e.s.bulkResult,n,null))}};OrderedBulkOperation.prototype.execute=function(e,t){var r=this;if(this.s.executed){var n=toError(\"batch cannot be re-executed\");return\"function\"==typeof t?t(n,null):this.s.promiseLibrary.reject(n)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentBatch&&this.s.batches.push(this.s.currentBatch),0==this.s.batches.length){var o=toError(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(o,null):this.s.promiseLibrary.reject(o)}return\"function\"==typeof t?executeCommands(this,t):new this.s.promiseLibrary(function(e,t){executeCommands(r,function(r,n){if(r)return t(r);e(n)})})},define.classMethod(\"execute\",{callback:!0,promise:!1});var initializeOrderedBulkOp=function(e,t,r){return new OrderedBulkOperation(e,t,r)};initializeOrderedBulkOp.OrderedBulkOperation=OrderedBulkOperation,module.exports=initializeOrderedBulkOp,module.exports.Bulk=OrderedBulkOperation;","node_modules/mongodb/lib/bulk/unordered.js":"\"use strict\";var common=require(\"./common\"),utils=require(\"../utils\"),toError=require(\"../utils\").toError,handleCallback=require(\"../utils\").handleCallback,shallowClone=utils.shallowClone,BulkWriteResult=common.BulkWriteResult,ObjectID=require(\"mongodb-core\").BSON.ObjectID,BSON=require(\"mongodb-core\").BSON,Define=require(\"../metadata\"),Batch=common.Batch,mergeBatchResults=common.mergeBatchResults,bson=new BSON([BSON.Binary,BSON.Code,BSON.DBRef,BSON.Decimal128,BSON.Double,BSON.Int32,BSON.Long,BSON.Map,BSON.MaxKey,BSON.MinKey,BSON.ObjectId,BSON.BSONRegExp,BSON.Symbol,BSON.Timestamp]),FindOperatorsUnordered=function(e){this.s=e.s};FindOperatorsUnordered.prototype.update=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!0,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsUnordered.prototype.updateOne=function(e){var t=\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert,r={q:this.s.currentOp.selector,u:e,multi:!1,upsert:t};return this.s.currentOp=null,addToOperationsList(this,common.UPDATE,r)},FindOperatorsUnordered.prototype.replaceOne=function(e){this.updateOne(e)},FindOperatorsUnordered.prototype.upsert=function(){return this.s.currentOp.upsert=!0,this},FindOperatorsUnordered.prototype.removeOne=function(){var e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)},FindOperatorsUnordered.prototype.remove=function(){var e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,addToOperationsList(this,common.REMOVE,e)};var addToOperationsList=function(e,t,r){var n=bson.calculateObjectSize(r,{checkKeys:!1});if(n>=e.s.maxBatchSizeBytes)throw toError(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(e.s.currentBatch=null,t==common.INSERT?e.s.currentBatch=e.s.currentInsertBatch:t==common.UPDATE?e.s.currentBatch=e.s.currentUpdateBatch:t==common.REMOVE&&(e.s.currentBatch=e.s.currentRemoveBatch),null==e.s.currentBatch&&(e.s.currentBatch=new Batch(t,e.s.currentIndex)),(e.s.currentBatch.size+1>=e.s.maxWriteBatchSize||e.s.currentBatch.sizeBytes+n>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!=t)&&(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new Batch(t,e.s.currentIndex)),Array.isArray(r))throw toError(\"operation passed in cannot be an Array\");return e.s.currentBatch.operations.push(r),e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentIndex=e.s.currentIndex+1,t==common.INSERT?(e.s.currentInsertBatch=e.s.currentBatch,e.s.bulkResult.insertedIds.push({index:e.s.bulkResult.insertedIds.length,_id:r._id})):t==common.UPDATE?e.s.currentUpdateBatch=e.s.currentBatch:t==common.REMOVE&&(e.s.currentRemoveBatch=e.s.currentBatch),e.s.currentBatch.size=e.s.currentBatch.size+1,e.s.currentBatch.sizeBytes=e.s.currentBatch.sizeBytes+n,e},UnorderedBulkOperation=function(e,t,r){r=null==r?{}:r;var n=t.collectionName,o=e.bson,s=e.isMasterDoc&&e.isMasterDoc.maxBsonObjectSize?e.isMasterDoc.maxBsonObjectSize:16793600,i=e.isMasterDoc&&e.isMasterDoc.maxWriteBatchSize?e.isMasterDoc.maxWriteBatchSize:1e3,a=common.writeConcern(shallowClone(r),t,r),c=r.promiseLibrary;c||(c=\"function\"==typeof global.Promise?global.Promise:require(\"es6-promise\").Promise);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentInsertBatch:null,currentUpdateBatch:null,currentRemoveBatch:null,currentBatch:null,currentIndex:0,batches:[],writeConcern:a,maxBatchSizeBytes:s,maxWriteBatchSize:i,namespace:n,bson:o,topology:e,options:r,currentOp:null,executed:!1,collection:t,promiseLibrary:c,bypassDocumentValidation:\"boolean\"==typeof r.bypassDocumentValidation&&r.bypassDocumentValidation}},define=UnorderedBulkOperation.define=new Define(\"UnorderedBulkOperation\",UnorderedBulkOperation,!1);UnorderedBulkOperation.prototype.insert=function(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new ObjectID),addToOperationsList(this,common.INSERT,e)},UnorderedBulkOperation.prototype.find=function(e){if(!e)throw toError(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new FindOperatorsUnordered(this)},Object.defineProperty(UnorderedBulkOperation.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}}),UnorderedBulkOperation.prototype.raw=function(e){var t=Object.keys(e)[0],r=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,addToOperationsList(this,common.UPDATE,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){var n=!e.updateOne&&!e.replaceOne,o={q:e[t].filter,u:e[t].update||e[t].replacement,multi:n};return e[t].upsert&&(o.upsert=!0),addToOperationsList(this,common.UPDATE,o)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,addToOperationsList(this,common.REMOVE,e[t]);if(e.deleteOne||e.deleteMany){var s=e.deleteOne?1:0;return o={q:e[t].filter,limit:s},addToOperationsList(this,common.REMOVE,o)}if(e.insertOne&&null==e.insertOne.document)return!0!==r&&null==e.insertOne._id&&(e.insertOne._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==r&&null==e.insertOne.document._id&&(e.insertOne.document._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertOne.document);if(!e.insertMany)throw toError(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(var i=0;i<e.insertMany.length;i++)!0!==r&&null==e.insertMany[i]._id&&(e.insertMany[i]._id=new ObjectID),addToOperationsList(this,common.INSERT,e.insertMany[i])};var executeBatch=function(e,t,r){var n={ordered:!1};null!=e.s.writeConcern&&(n.writeConcern=e.s.writeConcern);var o=function(n,o){if(n&&n.driver||n&&n.message)return handleCallback(r,n);n&&(n.ok=0),handleCallback(r,null,mergeBatchResults(!1,t,e.s.bulkResult,n,o))};e.operationId&&(o.operationId=e.operationId),e.s.options.serializeFunctions&&(n.serializeFunctions=!0),1==e.s.bypassDocumentValidation&&(n.bypassDocumentValidation=!0);try{t.batchType==common.INSERT?e.s.topology.insert(e.s.collection.namespace,t.operations,n,o):t.batchType==common.UPDATE?e.s.topology.update(e.s.collection.namespace,t.operations,n,o):t.batchType==common.REMOVE&&e.s.topology.remove(e.s.collection.namespace,t.operations,n,o)}catch(n){n.ok=0,handleCallback(r,null,mergeBatchResults(!1,t,e.s.bulkResult,n,null))}},executeBatches=function(e,t){for(var r=e.s.batches.length,n=0;n<e.s.batches.length;n++)executeBatch(e,e.s.batches[n],function(n){if(n&&(o=n),0==(r-=1)){if(o)return handleCallback(t,o);var o=e.s.bulkResult.writeErrors.length>0?toError(e.s.bulkResult.writeErrors[0]):null;handleCallback(t,o,new BulkWriteResult(e.s.bulkResult))}})};UnorderedBulkOperation.prototype.execute=function(e,t){var r=this;if(this.s.executed){var n=toError(\"batch cannot be re-executed\");return\"function\"==typeof t?t(n,null):this.s.promiseLibrary.reject(n)}if(\"function\"==typeof e?t=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch),0==this.s.batches.length){var o=toError(\"Invalid Operation, no operations specified\");return\"function\"==typeof t?t(o,null):this.s.promiseLibrary.reject(o)}return\"function\"==typeof t?executeBatches(this,t):new this.s.promiseLibrary(function(e,t){executeBatches(r,function(r,n){if(r)return t(r);e(n)})})},define.classMethod(\"execute\",{callback:!0,promise:!1});var initializeUnorderedBulkOp=function(e,t,r){return new UnorderedBulkOperation(e,t,r)};initializeUnorderedBulkOp.UnorderedBulkOperation=UnorderedBulkOperation,module.exports=initializeUnorderedBulkOp,module.exports.Bulk=UnorderedBulkOperation;","node_modules/mongodb/lib/metadata.js":"var f=require(\"util\").format,Define=function(t,e,n){this.name=t,this.object=e,this.stream=\"boolean\"==typeof n&&n,this.instrumentations={}};Define.prototype.classMethod=function(t,e){var n=Object.keys(e).sort(),s=generateKey(n,e);null==this.instrumentations[s]&&(this.instrumentations[s]={methods:[],options:e}),this.instrumentations[s].methods.push(t)};var generateKey=function(t,e){for(var n=[],s=0;s<t.length;s++)n.push(f(\"%s=%s\",t[s],e[t[s]]));return n.join()};Define.prototype.staticMethod=function(t,e){e.static=!0;var n=Object.keys(e).sort(),s=generateKey(n,e);null==this.instrumentations[s]&&(this.instrumentations[s]={methods:[],options:e}),this.instrumentations[s].methods.push(t)},Define.prototype.generate=function(){var t={name:this.name,obj:this.object,stream:this.stream,instrumentations:[]};for(var e in this.instrumentations)t.instrumentations.push(this.instrumentations[e]);return t},module.exports=Define;","node_modules/mongodb/lib/utils.js":"\"use strict\";var MongoError=require(\"mongodb-core\").MongoError,ReadPreference=require(\"./read_preference\"),CoreReadPreference=require(\"mongodb-core\").ReadPreference,shallowClone=function(e){var r={};for(var n in e)r[n]=e[n];return r},getReadPreference=function(e){var r=null;if(!e.readPreference)return e;if((r=e.readPreference)instanceof ReadPreference)e.readPreference=new CoreReadPreference(r.mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds});else if(\"string\"==typeof r)e.readPreference=new CoreReadPreference(r);else if(r&&!(r instanceof ReadPreference)&&\"object\"==typeof r){var n=r.mode||r.preference;n&&\"string\"==typeof n&&(e.readPreference=new CoreReadPreference(n,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}))}return e},getSingleProperty=function(e,r,n){Object.defineProperty(e,r,{enumerable:!0,get:function(){return n}})},formatSortValue=exports.formatSortValue=function(e){switch((\"\"+e).toLowerCase()){case\"ascending\":case\"asc\":case\"1\":return 1;case\"descending\":case\"desc\":case\"-1\":return-1;default:throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\")}},formattedOrderClause=exports.formattedOrderClause=function(e){var r={};if(null==e)return null;if(Array.isArray(e)){if(0===e.length)return null;for(var n=0;n<e.length;n++)e[n].constructor==String?r[e[n]]=1:r[e[n][0]]=formatSortValue(e[n][1])}else if(null!=e&&\"object\"==typeof e)r=e;else{if(\"string\"!=typeof e)throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");r[e]=1}return r},checkCollectionName=function(e){if(\"string\"!=typeof e)throw new MongoError(\"collection name must be a String\");if(!e||-1!=e.indexOf(\"..\"))throw new MongoError(\"collection names cannot be empty\");if(-1!=e.indexOf(\"$\")&&null==e.match(/((^\\$cmd)|(oplog\\.\\$main))/))throw new MongoError(\"collection names must not contain '$'\");if(null!=e.match(/^\\.|\\.$/))throw new MongoError(\"collection names must not start or end with '.'\");if(~e.indexOf(\"\\0\"))throw new MongoError(\"collection names cannot contain a null character\")},handleCallback=function(e,r,n,t){try{if(null==e)return;if(e)return t?e(r,n,t):e(r,n)}catch(r){return process.nextTick(function(){throw r}),!1}return!0},toError=function(e){if(e instanceof Error)return e;for(var r=e.err||e.errmsg||e.errMessage||e,n=MongoError.create({message:r,driver:!0}),t=\"object\"==typeof e?Object.keys(e):[],o=0;o<t.length;o++)try{n[t[o]]=e[t[o]]}catch(e){}return n},normalizeHintField=function(e){var r=null;if(\"string\"==typeof e)r=e;else if(Array.isArray(e))r={},e.forEach(function(e){r[e]=1});else if(null!=e&&\"object\"==typeof e){r={};for(var n in e)r[n]=e[n]}return r},parseIndexOptions=function(e){var r,n={},t=[];return\"string\"==typeof e?(t.push(e+\"_1\"),n[e]=1):Array.isArray(e)?e.forEach(function(e){\"string\"==typeof e?(t.push(e+\"_1\"),n[e]=1):Array.isArray(e)?(t.push(e[0]+\"_\"+(e[1]||1)),n[e[0]]=e[1]||1):isObject(e)&&(r=Object.keys(e)).forEach(function(r){t.push(r+\"_\"+e[r]),n[r]=e[r]})}):isObject(e)&&(r=Object.keys(e)).forEach(function(r){t.push(r+\"_\"+e[r]),n[r]=e[r]}),{name:t.join(\"_\"),keys:r,fieldHash:n}},isObject=exports.isObject=function(e){return\"[object Object]\"==Object.prototype.toString.call(e)},debugOptions=function(e,r){var n={};return e.forEach(function(e){n[e]=r[e]}),n},decorateCommand=function(e,r,n){for(var t in r)null==n[t]&&(e[t]=r[t]);return e},mergeOptions=function(e,r){for(var n in r)e[n]=r[n];return e},translateOptions=function(e,r){var n={sslCA:\"ca\",sslCRL:\"crl\",sslValidate:\"rejectUnauthorized\",sslKey:\"key\",sslCert:\"cert\",sslPass:\"passphrase\",socketTimeoutMS:\"socketTimeout\",connectTimeoutMS:\"connectionTimeout\",replicaSet:\"setName\",rs_name:\"setName\",secondaryAcceptableLatencyMS:\"acceptableLatency\",connectWithNoPrimary:\"secondaryOnlyConnectionAllowed\",acceptableLatencyMS:\"localThresholdMS\"};for(var t in r)n[t]?e[n[t]]=r[t]:e[t]=r[t];return e},filterOptions=function(e,r){var n={};for(var t in e)-1!=r.indexOf(t)&&(n[t]=e[t]);return n},assign=Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert first argument to object\");for(var r=Object(e),n=1;n<arguments.length;n++){var t=arguments[n];if(void 0!==t&&null!==t)for(var o=Object.keys(Object(t)),s=0,a=o.length;s<a;s++){var c=o[s],i=Object.getOwnPropertyDescriptor(t,c);void 0!==i&&i.enumerable&&(r[c]=t[c])}}return r},writeConcernKeys=[\"w\",\"j\",\"wtimeout\",\"fsync\"],mergeOptionsAndWriteConcern=function(e,r,n,t){for(var o=0;o<n.length;o++)e[n[o]]||void 0==r[n[o]]||(e[n[o]]=r[n[o]]);if(!t)return e;var s=!1;for(o=0;o<writeConcernKeys.length;o++)if(e[writeConcernKeys[o]]){s=!0;break}if(!s)for(o=0;o<writeConcernKeys.length;o++)r[writeConcernKeys[o]]&&(e[writeConcernKeys[o]]=r[writeConcernKeys[o]]);return e};exports.filterOptions=filterOptions,exports.mergeOptions=mergeOptions,exports.translateOptions=translateOptions,exports.shallowClone=shallowClone,exports.getSingleProperty=getSingleProperty,exports.checkCollectionName=checkCollectionName,exports.toError=toError,exports.formattedOrderClause=formattedOrderClause,exports.parseIndexOptions=parseIndexOptions,exports.normalizeHintField=normalizeHintField,exports.handleCallback=handleCallback,exports.decorateCommand=decorateCommand,exports.isObject=isObject,exports.debugOptions=debugOptions,exports.MAX_JS_INT=9007199254740992,exports.assign=assign,exports.mergeOptionsAndWriteConcern=mergeOptionsAndWriteConcern,exports.getReadPreference=getReadPreference;","node_modules/mongodb/lib/bulk/common.js":"\"use strict\";var Long=require(\"mongodb-core\").BSON.Long,Timestamp=require(\"mongodb-core\").BSON.Timestamp,UNKNOWN_ERROR=8,INVALID_BSON_ERROR=22,WRITE_CONCERN_ERROR=64,MULTIPLE_ERROR=65,INSERT=1,UPDATE=2,REMOVE=3,writeConcern=function(r,e,t){var n={};return e.writeConcern&&null!=e.writeConcern.w&&(n.w=e.writeConcern.w),e.writeConcern&&null!=e.writeConcern.j&&(n.j=e.writeConcern.j),e.writeConcern&&null!=e.writeConcern.fsync&&(n.fsync=e.writeConcern.fsync),e.writeConcern&&null!=e.writeConcern.wtimeout&&(n.wtimeout=e.writeConcern.wtimeout),t&&null!=t.w&&(n.w=t.w),t&&null!=t.wtimeout&&(n.wtimeout=t.wtimeout),t&&null!=t.j&&(n.j=t.j),t&&null!=t.fsync&&(n.fsync=t.fsync),n},defineReadOnlyProperty=function(r,e,t){Object.defineProperty(r,e,{enumerable:!0,get:function(){return t}})},Batch=function(r,e){this.originalZeroIndex=e,this.currentIndex=0,this.originalIndexes=[],this.batchType=r,this.operations=[],this.size=0,this.sizeBytes=0},LegacyOp=function(r,e,t){this.batchType=r,this.index=t,this.operation=e},BulkWriteResult=function(r){defineReadOnlyProperty(this,\"ok\",r.ok),defineReadOnlyProperty(this,\"nInserted\",r.nInserted),defineReadOnlyProperty(this,\"nUpserted\",r.nUpserted),defineReadOnlyProperty(this,\"nMatched\",r.nMatched),defineReadOnlyProperty(this,\"nModified\",r.nModified),defineReadOnlyProperty(this,\"nRemoved\",r.nRemoved),this.getInsertedIds=function(){return r.insertedIds},this.getUpsertedIds=function(){return r.upserted},this.getUpsertedIdAt=function(e){return r.upserted[e]},this.getRawResponse=function(){return r},this.hasWriteErrors=function(){return r.writeErrors.length>0},this.getWriteErrorCount=function(){return r.writeErrors.length},this.getWriteErrorAt=function(e){return e<r.writeErrors.length?r.writeErrors[e]:null},this.getWriteErrors=function(){return r.writeErrors},this.getLastOp=function(){return r.lastOp},this.getWriteConcernError=function(){if(0==r.writeConcernErrors.length)return null;if(1==r.writeConcernErrors.length)return r.writeConcernErrors[0];for(var e=\"\",t=0;t<r.writeConcernErrors.length;t++){e+=r.writeConcernErrors[t].errmsg,0==t&&(e+=\" and \")}return new WriteConcernError({errmsg:e,code:WRITE_CONCERN_ERROR})},this.toJSON=function(){return r},this.toString=function(){return\"BulkWriteResult(\"+this.toJSON(r)+\")\"},this.isOk=function(){return 1==r.ok}},WriteConcernError=function(r){if(!(this instanceof WriteConcernError))return new WriteConcernError(r);defineReadOnlyProperty(this,\"code\",r.code),defineReadOnlyProperty(this,\"errmsg\",r.errmsg),this.toJSON=function(){return{code:r.code,errmsg:r.errmsg}},this.toString=function(){return\"WriteConcernError(\"+r.errmsg+\")\"}},WriteError=function(r){if(!(this instanceof WriteError))return new WriteError(r);defineReadOnlyProperty(this,\"code\",r.code),defineReadOnlyProperty(this,\"index\",r.index),defineReadOnlyProperty(this,\"errmsg\",r.errmsg),this.getOperation=function(){return r.op},this.toJSON=function(){return{code:r.code,index:r.index,errmsg:r.errmsg,op:r.op}},this.toString=function(){return\"WriteError(\"+JSON.stringify(this.toJSON())+\")\"}},mergeBatchResults=function(r,e,t,n,o){if(n)o=n;else if(o&&o.result)o=o.result;else if(null==o)return;if(0!=o.ok||1!=t.ok){if(0!=o.ok||0!=t.ok){if(o.opTime||o.lastOp){var i=o.lastOp||o.opTime,s=null,u=null;if(i&&\"Timestamp\"==i._bsontype)null==t.lastOp?t.lastOp=i:i.greaterThan(t.lastOp)&&(t.lastOp=i);else{t.lastOp&&(s=\"number\"==typeof t.lastOp.ts?Long.fromNumber(t.lastOp.ts):t.lastOp.ts,u=\"number\"==typeof t.lastOp.t?Long.fromNumber(t.lastOp.t):t.lastOp.t);var d=\"number\"==typeof i.ts?Long.fromNumber(i.ts):i.ts,c=\"number\"==typeof i.t?Long.fromNumber(i.t):i.t;null==t.lastOp?t.lastOp=i:d.greaterThan(s)?t.lastOp=i:d.equals(s)&&c.greaterThan(u)&&(t.lastOp=i)}}e.batchType==INSERT&&o.n&&(t.nInserted=t.nInserted+o.n),e.batchType==REMOVE&&o.n&&(t.nRemoved=t.nRemoved+o.n);var p=0;if(Array.isArray(o.upserted)){p=o.upserted.length;for(var l=0;l<o.upserted.length;l++)t.upserted.push({index:o.upserted[l].index+e.originalZeroIndex,_id:o.upserted[l]._id})}else o.upserted&&(p=1,t.upserted.push({index:e.originalZeroIndex,_id:o.upserted}));if(e.batchType==UPDATE&&o.n){var a=o.nModified;t.nUpserted=t.nUpserted+p,t.nMatched=t.nMatched+(o.n-p),t.nModified=\"number\"==typeof a?t.nModified+a:null}if(Array.isArray(o.writeErrors))for(l=0;l<o.writeErrors.length;l++)f={index:e.originalZeroIndex+o.writeErrors[l].index,code:o.writeErrors[l].code,errmsg:o.writeErrors[l].errmsg,op:e.operations[o.writeErrors[l].index]},t.writeErrors.push(new WriteError(f));o.writeConcernError&&t.writeConcernErrors.push(new WriteConcernError(o.writeConcernError))}}else{t.ok=0;var f={index:0,code:o.code||0,errmsg:o.message,op:e.operations[0]};t.writeErrors.push(new WriteError(f))}},cloneOptions=function(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++)e[t[n]]=r[t[n]];return e};exports.BulkWriteResult=BulkWriteResult,exports.WriteError=WriteError,exports.Batch=Batch,exports.LegacyOp=LegacyOp,exports.mergeBatchResults=mergeBatchResults,exports.cloneOptions=cloneOptions,exports.writeConcern=writeConcern,exports.INVALID_BSON_ERROR=INVALID_BSON_ERROR,exports.WRITE_CONCERN_ERROR=WRITE_CONCERN_ERROR,exports.MULTIPLE_ERROR=MULTIPLE_ERROR,exports.UNKNOWN_ERROR=UNKNOWN_ERROR,exports.INSERT=INSERT,exports.UPDATE=UPDATE,exports.REMOVE=REMOVE;","node_modules/mongodb/lib/authenticate.js":"var shallowClone=require(\"./utils\").shallowClone,handleCallback=require(\"./utils\").handleCallback,MongoError=require(\"mongodb-core\").MongoError,authenticate=function(a,e,n,t,o){if(a.serverConfig&&a.serverConfig.isDestroyed())return o(new MongoError(\"topology was destroyed\"));var l=t.dbName?t.dbName:a.databaseName;l=a.authSource?a.authSource:l,l=t.authdb?t.authdb:l,l=t.authSource?t.authSource:l;var r=function(e,n){a.listeners(\"authenticated\").length>0&&a.emit(\"authenticated\",e,n),handleCallback(o,e,n)},u=t.authMechanism||\"\";\"MONGODB-CR\"==(u=u.toUpperCase())?a.s.topology.auth(\"mongocr\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"PLAIN\"==u?a.s.topology.auth(\"plain\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"MONGODB-X509\"==u?a.s.topology.auth(\"x509\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"SCRAM-SHA-1\"==u?a.s.topology.auth(\"scram-sha-1\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"GSSAPI\"==u?\"win32\"==process.platform?a.s.topology.auth(\"sspi\",l,e,n,t,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):a.s.topology.auth(\"gssapi\",l,e,n,t,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):\"DEFAULT\"==u?a.s.topology.auth(\"default\",l,e,n,function(a){if(a)return handleCallback(o,a,!1);r(null,!0)}):handleCallback(o,MongoError.create({message:f(\"authentication mechanism %s not supported\",t.authMechanism),driver:!0}))};module.exports=function(a,e,n,t,o){if(\"function\"==typeof t&&(o=t,t={}),(t=shallowClone(t)).authMechanism){if(\"GSSAPI\"!=t.authMechanism&&\"DEFAULT\"!=t.authMechanism&&\"MONGODB-CR\"!=t.authMechanism&&\"MONGODB-X509\"!=t.authMechanism&&\"SCRAM-SHA-1\"!=t.authMechanism&&\"PLAIN\"!=t.authMechanism)return handleCallback(o,MongoError.create({message:\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\",driver:!0}))}else t.authMechanism=\"DEFAULT\";return\"function\"==typeof o?authenticate(a,e,n,t,function(a,e){if(a&&a.message&&-1!=a.message.indexOf(\"saslStart\")&&(a.code=59),a)return o(a,e);o(null,e)}):new a.s.promiseLibrary(function(o,l){authenticate(a,e,n,t,function(a,e){if(a&&a.message&&-1!=a.message.indexOf(\"saslStart\")&&(a.code=59),a)return l(a);o(e)})})};","node_modules/mongodb/lib/url_parser.js":"\"use strict\";var ReadPreference=require(\"./read_preference\"),parser=require(\"url\"),f=require(\"util\").format,assign=require(\"./utils\").assign;module.exports=function(e,r){var t=\"\",a=\"\",s=\"\",n=\"admin\",o=parser.parse(e,!0);if(\"mongodb:\"!=o.protocol)throw new Error(\"invalid schema, expected mongodb\");if((null==o.hostname||\"\"==o.hostname)&&-1==e.indexOf(\".sock\"))throw new Error(\"no hostname or hostnames provided in connection string\");if(\"0\"==o.port)throw new Error(\"invalid port (zero) with hostname\");if(!isNaN(parseInt(o.port,10))&&parseInt(o.port,10)>65535)throw new Error(\"invalid port (larger than 65535) with hostname\");if(o.path&&o.path.length>0&&\"/\"!=o.path[0]&&-1==e.indexOf(\".sock\"))throw new Error(\"missing delimiting slash between hosts and options\");if(o.query)for(var i in o.query){if(-1!=i.indexOf(\"::\"))throw new Error(\"double colon in host identifier\");if(\"\"==o.query[i])throw new Error(\"query parameter \"+i+\" is an incomplete value pair\")}if(o.auth){var c=o.auth.split(\":\");if(-1!=e.indexOf(o.auth)&&c.length>2)throw new Error(\"Username with password containing an unescaped colon\");if(-1!=e.indexOf(o.auth)&&-1!=o.auth.indexOf(\"@\"))throw new Error(\"Username containing an unescaped at-sign\")}for(var p=e.split(\"?\").shift().split(\",\"),l=[],u=0;u<p.length;u++){var d=p[u];-1!=d.indexOf(\"mongodb\")?-1!=d.indexOf(\"@\")?l.push(d.split(\"@\").pop()):l.push(d.substr(\"mongodb://\".length)):-1!=d.indexOf(\"/\")?l.push(d.split(\"/\").shift()):-1==d.indexOf(\"/\")&&l.push(d.trim())}for(u=0;u<l.length;u++){var h=parser.parse(f(\"mongodb://%s\",l[u].trim()));if(h.path&&-1!=h.path.indexOf(\":\"))throw new Error(\"double colon in host identifier\")}if(-1!=e.indexOf(\"?\")?(s=e.substr(e.indexOf(\"?\")+1),t=e.substring(\"mongodb://\".length,e.indexOf(\"?\"))):t=e.substring(\"mongodb://\".length),-1!=t.indexOf(\"@\")&&(a=t.split(\"@\")[0],t=t.split(\"@\")[1]),-1!=t.indexOf(\".sock\")){if(-1!=t.indexOf(\".sock/\")){if(-1!=(n=t.split(\".sock/\")[1]).indexOf(\"/\")){if(2==n.split(\"/\").length&&0==n.split(\"/\")[1].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}t=t.split(\"/\",t.indexOf(\".sock\")+\".sock\".length)}}else if(-1!=t.indexOf(\"/\")){if(t.split(\"/\").length>2){if(0==t.split(\"/\")[2].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}n=t.split(\"/\")[1],t=t.split(\"/\")[0]}var m={},w=a||\"\",g=w.split(\":\",2);g[0]=decodeURIComponent(g[0]),g[1]&&(g[1]=decodeURIComponent(g[1])),2==g.length&&(m.auth={user:g[0],password:g[1]}),r&&null!=r.auth&&(m.auth=r.auth);var k,b={socketOptions:{}},O={read_preference_tags:[]},S={socketOptions:{}},E={socketOptions:{}};if(m.server_options=b,m.db_options=O,m.rs_options=S,m.mongos_options=E,e.match(/\\.sock/)){var I=e.substring(e.indexOf(\"mongodb://\")+\"mongodb://\".length,e.lastIndexOf(\".sock\")+\".sock\".length);-1!=I.indexOf(\"@\")&&(I=I.split(\"@\")[1]),k=[{domain_socket:I}]}else{var v={};k=t.split(\",\").map(function(e){var r,t,a;if(a=/\\[([^\\]]+)\\](?:\\:(.+))?/.exec(e))r=a[1],t=parseInt(a[2],10)||27017;else{var s=e.split(\":\",2);r=s[0]||\"localhost\",t=null!=s[1]?parseInt(s[1],10):27017,-1!=r.indexOf(\"?\")&&(r=r.split(/\\?/)[0])}return v[r+\"_\"+t]?null:(v[r+\"_\"+t]=1,{host:r,port:t})}).filter(function(e){return null!=e})}if(m.dbName=n||\"admin\",(s||\"\").split(/[&;]/).forEach(function(e){if(e){var r=e.split(\"=\"),t=r[0],a=r[1];switch(t){case\"slaveOk\":case\"slave_ok\":b.slave_ok=\"true\"==a,O.slaveOk=\"true\"==a;break;case\"maxPoolSize\":case\"poolSize\":b.poolSize=parseInt(a,10),S.poolSize=parseInt(a,10);break;case\"appname\":m.appname=decodeURIComponent(a);break;case\"autoReconnect\":case\"auto_reconnect\":b.auto_reconnect=\"true\"==a;break;case\"minPoolSize\":throw new Error(\"minPoolSize not supported\");case\"maxIdleTimeMS\":throw new Error(\"maxIdleTimeMS not supported\");case\"waitQueueMultiple\":throw new Error(\"waitQueueMultiple not supported\");case\"waitQueueTimeoutMS\":throw new Error(\"waitQueueTimeoutMS not supported\");case\"uuidRepresentation\":throw new Error(\"uuidRepresentation not supported\");case\"ssl\":if(\"prefer\"==a){b.ssl=a,S.ssl=a,E.ssl=a;break}b.ssl=\"true\"==a,S.ssl=\"true\"==a,E.ssl=\"true\"==a;break;case\"sslValidate\":b.sslValidate=\"true\"==a,S.sslValidate=\"true\"==a,E.sslValidate=\"true\"==a;break;case\"replicaSet\":case\"rs_name\":S.rs_name=a;break;case\"reconnectWait\":S.reconnectWait=parseInt(a,10);break;case\"retries\":S.retries=parseInt(a,10);break;case\"readSecondary\":case\"read_secondary\":S.read_secondary=\"true\"==a;break;case\"fsync\":O.fsync=\"true\"==a;break;case\"journal\":O.j=\"true\"==a;break;case\"safe\":O.safe=\"true\"==a;break;case\"nativeParser\":case\"native_parser\":O.native_parser=\"true\"==a;break;case\"readConcernLevel\":O.readConcern={level:a};break;case\"connectTimeoutMS\":b.socketOptions.connectTimeoutMS=parseInt(a,10),S.socketOptions.connectTimeoutMS=parseInt(a,10),E.socketOptions.connectTimeoutMS=parseInt(a,10);break;case\"socketTimeoutMS\":b.socketOptions.socketTimeoutMS=parseInt(a,10),S.socketOptions.socketTimeoutMS=parseInt(a,10),E.socketOptions.socketTimeoutMS=parseInt(a,10);break;case\"w\":O.w=parseInt(a,10),isNaN(O.w)&&(O.w=a);break;case\"authSource\":O.authSource=a;break;case\"gssapiServiceName\":O.gssapiServiceName=a;break;case\"authMechanism\":if(\"GSSAPI\"==a)if(null==m.auth){var s=decodeURIComponent(w);if(-1==s.indexOf(\"@\"))throw new Error(\"GSSAPI requires a provided principal\");m.auth={user:s,password:null}}else m.auth.user=decodeURIComponent(m.auth.user);else\"MONGODB-X509\"==a&&(m.auth={user:decodeURIComponent(w)});if(\"GSSAPI\"!=a&&\"MONGODB-X509\"!=a&&\"MONGODB-CR\"!=a&&\"DEFAULT\"!=a&&\"SCRAM-SHA-1\"!=a&&\"PLAIN\"!=a)throw new Error(\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB-CR is supported by authMechanism\");O.authMechanism=a;break;case\"authMechanismProperties\":var n={};a.split(\",\").forEach(function(e){var r=e.split(\":\");n[r[0]]=r[1]}),O.authMechanismProperties=n,\"string\"==typeof n.SERVICE_NAME&&(O.gssapiServiceName=n.SERVICE_NAME),\"string\"==typeof n.SERVICE_REALM&&(O.gssapiServiceRealm=n.SERVICE_REALM),\"string\"==typeof n.CANONICALIZE_HOST_NAME&&(O.gssapiCanonicalizeHostName=\"true\"==n.CANONICALIZE_HOST_NAME);break;case\"wtimeoutMS\":O.wtimeout=parseInt(a,10);break;case\"readPreference\":if(!ReadPreference.isValid(a))throw new Error(\"readPreference must be either primary/primaryPreferred/secondary/secondaryPreferred/nearest\");O.readPreference=a;break;case\"maxStalenessSeconds\":O.maxStalenessSeconds=parseInt(a,10);break;case\"readPreferenceTags\":var o={};if(null==(a=decodeURIComponent(a))||\"\"==a){O.read_preference_tags.push(o);break}for(var i=a.split(/\\,/),c=0;c<i.length;c++){var p=i[c].trim().split(/\\:/);o[p[0]]=p[1]}O.read_preference_tags.push(o)}}}),0===O.read_preference_tags.length&&(O.read_preference_tags=null),!(-1!=O.w&&0!=O.w||1!=O.journal&&1!=O.fsync&&1!=O.safe))throw new Error(\"w set to -1 or 0 cannot be combined with safe/w/journal/fsync\");return O.readPreference||(O.readPreference=\"primary\"),O=assign(O,r),m.servers=k,m};","node_modules/mongodb/lib/topology_base.js":"\"use strict\";var MongoError=require(\"mongodb-core\").MongoError,f=require(\"util\").format,Store=function(e,r){var o=this;r=r||{force:!1,bufferMaxEntries:-1},this.s={storedOps:[],storeOptions:r,topology:e},Object.defineProperty(this,\"length\",{enumerable:!0,get:function(){return o.s.storedOps.length}})};Store.prototype.add=function(e,r,o,t,s){if(this.s.storeOptions.force)return s(MongoError.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,n:r,o:o,op:t,c:s})},Store.prototype.addObjectAndMethod=function(e,r,o,t,s){if(this.s.storeOptions.force)return s(MongoError.create({message:\"db closed by application\",driver:!0}));if(0==this.s.storeOptions.bufferMaxEntries)return s(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;){this.s.storedOps.shift().c(MongoError.create({message:f(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}))}else this.s.storedOps.push({t:e,m:o,o:r,p:t,c:s})},Store.prototype.flush=function(e){for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(e||MongoError.create({message:f(\"no connection available for operation\"),driver:!0}))};var primaryOptions=[\"primary\",\"primaryPreferred\",\"nearest\",\"secondaryPreferred\"],secondaryOptions=[\"secondary\",\"secondaryPreferred\"];Store.prototype.execute=function(e){e=e||{};var r=this.s.storedOps;this.s.storedOps=[];for(var o=\"boolean\"!=typeof e.executePrimary||e.executePrimary,t=\"boolean\"!=typeof e.executeSecondary||e.executeSecondary;r.length>0;){var s=r.shift();\"cursor\"==s.t?o&&t?s.o[s.m].apply(s.o,s.p):o&&s.o.options&&s.o.options.readPreference&&-1!=primaryOptions.indexOf(s.o.options.readPreference.mode)?s.o[s.m].apply(s.o,s.p):!o&&t&&s.o.options&&s.o.options.readPreference&&-1!=secondaryOptions.indexOf(s.o.options.readPreference.mode)&&s.o[s.m].apply(s.o,s.p):\"auth\"==s.t?this.s.topology[s.t].apply(this.s.topology,s.o):o&&t?this.s.topology[s.t](s.n,s.o,s.op,s.c):o&&s.op&&s.op.readPreference&&-1!=primaryOptions.indexOf(s.op.readPreference.mode)?this.s.topology[s.t](s.n,s.o,s.op,s.c):!o&&t&&s.op&&s.op.readPreference&&-1!=secondaryOptions.indexOf(s.op.readPreference.mode)&&this.s.topology[s.t](s.n,s.o,s.op,s.c)}},Store.prototype.all=function(){return this.s.storedOps};var ServerCapabilities=function(e){var r=function(e,r,o){Object.defineProperty(e,r,{enumerable:!0,get:function(){return o}})},o=!1,t=!1,s=!1,i=!1,n=!1,a=!1,p=e.maxWriteBatchSize||1e3,f=!1,c=!1;e.minWireVersion>=0&&(s=!0),e.maxWireVersion>=1&&(o=!0,i=!0),e.maxWireVersion>=2&&(t=!0),e.maxWireVersion>=3&&(n=!0,a=!0),e.maxWireVersion>=5&&(f=!0,c=!0),null==e.minWireVersion&&(e.minWireVersion=0),null==e.maxWireVersion&&(e.maxWireVersion=0),r(this,\"hasAggregationCursor\",o),r(this,\"hasWriteCommands\",t),r(this,\"hasTextSearch\",s),r(this,\"hasAuthCommands\",i),r(this,\"hasListCollectionsCommand\",n),r(this,\"hasListIndexesCommand\",a),r(this,\"minWireVersion\",e.minWireVersion),r(this,\"maxWireVersion\",e.maxWireVersion),r(this,\"maxNumberOfDocsInBatch\",p),r(this,\"commandsTakeWriteConcern\",f),r(this,\"commandsTakeCollation\",c)};exports.Store=Store,exports.ServerCapabilities=ServerCapabilities;","node_modules/mongodb/package.json":{"_from":"mongodb@~2.2.31","_id":"mongodb@2.2.33","_inBundle":false,"_integrity":"sha1-tTfEcdNKZlG0jzb9vyl1A0Dgi1A=","_location":"/mongodb","_phantomChildren":{"buffer-shims":"1.0.0","core-util-is":"1.0.2","inherits":"2.0.3","isarray":"1.0.0","process-nextick-args":"1.0.7","string_decoder":"1.0.3","util-deprecate":"1.0.2"},"_requested":{"type":"range","registry":true,"raw":"mongodb@~2.2.31","name":"mongodb","escapedName":"mongodb","rawSpec":"~2.2.31","saveSpec":null,"fetchSpec":"~2.2.31"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/mongodb/-/mongodb-2.2.33.tgz","_shasum":"b537c471d34a6651b48f36fdbf29750340e08b50","_spec":"mongodb@~2.2.31","_where":"c:\\Workspace\\walkner\\walkner-maxos","author":{"name":"Christian Kvalheim"},"bugs":{"url":"https://github.com/mongodb/node-mongodb-native/issues"},"bundleDependencies":false,"dependencies":{"es6-promise":"3.2.1","mongodb-core":"2.1.17","readable-stream":"2.2.7"},"deprecated":false,"description":"The official MongoDB driver for Node.js","devDependencies":{"JSONStream":"^1.0.7","betterbenchmarks":"^0.1.0","bluebird":"3.4.6","bson":"latest","cli-table":"^0.3.1","co":"4.6.0","colors":"^1.1.2","coveralls":"^2.11.6","eslint":"^3.8.1","event-stream":"^3.3.2","gleak":"0.5.0","integra":"0.1.8","jsdoc":"3.4.0","ldjson-stream":"^1.2.1","mongodb-extended-json":"1.7.1","mongodb-topology-manager":"1.0.x","mongodb-version-manager":"github:christkv/mongodb-version-manager#master","nyc":"^8.1.0","optimist":"0.6.1","rimraf":"2.5.4","semver":"5.3.0","worker-farm":"^1.3.1"},"engines":{"node":">=0.10.3"},"homepage":"https://github.com/mongodb/node-mongodb-native","keywords":["mongodb","driver","official"],"license":"Apache-2.0","main":"index.js","name":"mongodb","nyc":{"include":["lib/**/*.js"]},"repository":{"type":"git","url":"git+ssh://git@github.com/mongodb/node-mongodb-native.git"},"scripts":{"coverage":"nyc node test/runner.js -t functional && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls","lint":"eslint lib","test":"node test/runner.js -t functional"},"version":"2.2.33"},"node_modules/mongodb/lib/gridfs-stream/download.js":"var stream=require(\"stream\"),util=require(\"util\");module.exports=GridFSBucketReadStream;function GridFSBucketReadStream(e,t,r,n,i){this.s={bytesRead:0,chunks:e,cursor:null,expected:0,files:t,filter:n,init:!1,expectedEnd:0,file:null,options:i,readPreference:r},stream.Readable.call(this)}util.inherits(GridFSBucketReadStream,stream.Readable),GridFSBucketReadStream.prototype._read=function(){var e=this;this.destroyed||waitForFile(e,function(){doRead(e)})},GridFSBucketReadStream.prototype.start=function(e){return throwIfInitialized(this),this.s.options.start=e,this},GridFSBucketReadStream.prototype.end=function(e){return throwIfInitialized(this),this.s.options.end=e,this},GridFSBucketReadStream.prototype.abort=function(e){var t=this;this.push(null),this.destroyed=!0,this.s.cursor?this.s.cursor.close(function(r){t.emit(\"close\"),e&&e(r)}):(this.s.init||t.emit(\"close\"),e&&e())};function throwIfInitialized(e){if(e.s.init)throw new Error(\"You cannot change options after the stream has enteredflowing mode!\")}function doRead(e){e.destroyed||e.s.cursor.next(function(t,r){if(!e.destroyed){if(t)return __handleError(e,t);if(!r)return e.push(null),e.s.cursor.close(function(t){if(t)return __handleError(e,t);e.emit(\"close\")});var n=e.s.file.length-e.s.bytesRead,i=e.s.expected++,s=Math.min(e.s.file.chunkSize,n);if(r.n>i){var o=\"ChunkIsMissing: Got unexpected n: \"+r.n+\", expected: \"+i;return __handleError(e,new Error(o))}if(r.n<i)return o=\"ExtraChunk: Got unexpected n: \"+r.n+\", expected: \"+i,__handleError(e,new Error(o));if(r.data.length()!==s)return n<=0?(o=\"ExtraChunk: Got unexpected n: \"+r.n,__handleError(e,new Error(o))):(o=\"ChunkIsWrongSize: Got unexpected length: \"+r.data.length()+\", expected: \"+s,__handleError(e,new Error(o)));if(e.s.bytesRead+=r.data.length(),0===r.data.buffer.length)return e.push(null);var a=null,d=null,l=r.data.buffer;null!=e.s.bytesToSkip&&(a=e.s.bytesToSkip,e.s.bytesToSkip=0),i===e.s.expectedEnd&&null!=e.s.bytesToTrim&&(d=e.s.bytesToTrim),e.s.options.end&&e.s.options.end-e.s.bytesToSkip<r.data.length()&&(d=e.s.options.end-e.s.bytesToSkip),null==a&&null==d||(l=l.slice(a||0,d||l.length)),e.push(l)}})}function init(e){var t={};e.s.readPreference&&(t.readPreference=e.s.readPreference),e.s.options&&e.s.options.sort&&(t.sort=e.s.options.sort),e.s.options&&e.s.options.skip&&(t.skip=e.s.options.skip),e.s.files.findOne(e.s.filter,t,function(t,r){if(t)return __handleError(e,t);if(!r){var n=\"FileNotFound: file \"+(e.s.filter._id?e.s.filter._id.toString():e.s.filter.filename)+\" was not found\",i=new Error(n);return i.code=\"ENOENT\",__handleError(e,i)}if(r.length<=0)e.push(null);else if(e.destroyed)e.emit(\"close\");else{e.s.bytesToSkip=handleStartOption(e,r,e.s.options);var s={files_id:r._id};if(e.s.options&&null!=e.s.options.start){var o=Math.floor(e.s.options.start/r.chunkSize);o>0&&(s.n={$gte:o})}e.s.cursor=e.s.chunks.find(s).sort({n:1}),e.s.readPreference&&e.s.cursor.setReadPreference(e.s.readPreference),e.s.expectedEnd=Math.ceil(r.length/r.chunkSize),e.s.file=r,e.s.bytesToTrim=handleEndOption(e,r,e.s.cursor,e.s.options),e.emit(\"file\",r)}})}function waitForFile(e,t){if(e.s.file)return t();e.s.init||(init(e),e.s.init=!0),e.once(\"file\",function(){t()})}function handleStartOption(e,t,r){if(r&&null!=r.start){if(r.start>t.length)throw new Error(\"Stream start (\"+r.start+\") must not be more than the length of the file (\"+t.length+\")\");if(r.start<0)throw new Error(\"Stream start (\"+r.start+\") must not be negative\");if(null!=r.end&&r.end<r.start)throw new Error(\"Stream start (\"+r.start+\") must not be greater than stream end (\"+r.end+\")\");return e.s.bytesRead=Math.floor(r.start/t.chunkSize)*t.chunkSize,e.s.expected=Math.floor(r.start/t.chunkSize),r.start-e.s.bytesRead}}function handleEndOption(e,t,r,n){if(n&&null!=n.end){if(n.end>t.length)throw new Error(\"Stream end (\"+n.end+\") must not be more than the length of the file (\"+t.length+\")\");if(n.start<0)throw new Error(\"Stream end (\"+n.end+\") must not be negative\");var i=null!=n.start?Math.floor(n.start/t.chunkSize):0;return r.limit(Math.ceil(n.end/t.chunkSize)-i),e.s.expectedEnd=Math.ceil(n.end/t.chunkSize),Math.ceil(n.end/t.chunkSize)*t.chunkSize-n.end}}function __handleError(e,t){e.emit(\"error\",t)}","node_modules/mongodb/lib/gridfs-stream/upload.js":"var core=require(\"mongodb-core\"),crypto=require(\"crypto\"),stream=require(\"stream\"),util=require(\"util\"),ERROR_NAMESPACE_NOT_FOUND=26;module.exports=GridFSBucketWriteStream;function GridFSBucketWriteStream(e,t,n){if(n=n||{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=t,this.files=e.s._filesCollection,this.options=n,this.done=!1,this.id=n.id?n.id:core.BSON.ObjectId(),this.chunkSizeBytes=this.options.chunkSizeBytes,this.bufToStore=new Buffer(this.chunkSizeBytes),this.length=0,this.md5=crypto.createHash(\"md5\"),this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1,promiseLibrary:this.bucket.s.promiseLibrary},!this.bucket.s.calledOpenUploadStream){this.bucket.s.calledOpenUploadStream=!0;var r=this;checkIndexes(this,function(){r.bucket.s.checkedIndexes=!0,r.bucket.emit(\"index\")})}}util.inherits(GridFSBucketWriteStream,stream.Writable),GridFSBucketWriteStream.prototype.write=function(e,t,n){var r=this;return waitForIndexes(this,function(){return doWrite(r,e,t,n)})},GridFSBucketWriteStream.prototype.abort=function(e){if(this.state.streamEnd){var t=new Error(\"Cannot abort a stream that has already completed\");return\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t)}if(this.state.aborted)return t=new Error(\"Cannot call abort() on a stream twice\"),\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t);this.state.aborted=!0,this.chunks.deleteMany({files_id:this.id},function(t){\"function\"==typeof e&&e(t)})},GridFSBucketWriteStream.prototype.end=function(e,t,n){var r=this;\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),checkAborted(this,n)||(this.state.streamEnd=!0,n&&this.once(\"finish\",function(e){n(null,e)}),e?this.write(e,t,function(){writeRemnant(r)}):waitForIndexes(this,function(){writeRemnant(r)}))};function __handleError(e,t,n){if(!e.state.errored){if(e.state.errored=!0,n)return n(t);e.emit(\"error\",t)}}function createChunkDoc(e,t,n){return{_id:core.BSON.ObjectId(),files_id:e,n:t,data:n}}function checkChunksIndex(e,t){e.chunks.listIndexes().toArray(function(n,r){if(n){if(n.code===ERROR_NAMESPACE_NOT_FOUND){var i={files_id:1,n:1};return void e.chunks.createIndex(i,{background:!1,unique:!0},function(e){if(e)return t(e);t()})}return t(n)}var o=!1;if(r.forEach(function(e){if(e.key){2===Object.keys(e.key).length&&1===e.key.files_id&&1===e.key.n&&(o=!0)}}),o)t();else{i={files_id:1,n:1};var s=getWriteOptions(e);s.background=!1,s.unique=!0,e.chunks.createIndex(i,s,function(e){if(e)return t(e);t()})}})}function checkDone(e,t){if(e.done)return!0;if(e.state.streamEnd&&0===e.state.outstandingRequests&&!e.state.errored){e.done=!0;var n=createFilesDoc(e.id,e.length,e.chunkSizeBytes,e.md5.digest(\"hex\"),e.filename,e.options.contentType,e.options.aliases,e.options.metadata);return!checkAborted(e,t)&&(e.files.insert(n,getWriteOptions(e),function(r){if(r)return __handleError(e,r,t);e.emit(\"finish\",n)}),!0)}return!1}function checkIndexes(e,t){e.files.findOne({},{_id:1},function(n,r){return n?t(n):r?t():void e.files.listIndexes().toArray(function(n,r){if(n){if(n.code===ERROR_NAMESPACE_NOT_FOUND){var i={filename:1,uploadDate:1};return void e.files.createIndex(i,{background:!1},function(n){if(n)return t(n);checkChunksIndex(e,t)})}return t(n)}var o=!1;if(r.forEach(function(e){2===Object.keys(e.key).length&&1===e.key.filename&&1===e.key.uploadDate&&(o=!0)}),o)checkChunksIndex(e,t);else{i={filename:1,uploadDate:1};var s=getWriteOptions(e);s.background=!1,e.files.createIndex(i,s,function(n){if(n)return t(n);checkChunksIndex(e,t)})}})})}function createFilesDoc(e,t,n,r,i,o,s,c){var u={_id:e,length:t,chunkSize:n,uploadDate:new Date,md5:r,filename:i};return o&&(u.contentType=o),s&&(u.aliases=s),c&&(u.metadata=c),u}function doWrite(e,t,n,r){if(checkAborted(e,r))return!1;var i=Buffer.isBuffer(t)?t:new Buffer(t,n);if(e.length+=i.length,e.pos+i.length<e.chunkSizeBytes)return i.copy(e.bufToStore,e.pos),e.pos+=i.length,r&&r(),!0;for(var o=i.length,s=e.chunkSizeBytes-e.pos,c=Math.min(s,i.length),u=0;o>0;){var a=i.length-o;if(i.copy(e.bufToStore,e.pos,a,a+c),e.pos+=c,0===(s-=c)){e.md5.update(e.bufToStore);var d=createChunkDoc(e.id,e.n,e.bufToStore);if(++e.state.outstandingRequests,++u,checkAborted(e,r))return!1;e.chunks.insert(d,getWriteOptions(e),function(t){if(t)return __handleError(e,t);--e.state.outstandingRequests,--u||(e.emit(\"drain\",d),r&&r(),checkDone(e))}),s=e.chunkSizeBytes,e.pos=0,++e.n}o-=c,c=Math.min(s,o)}return!1}function getWriteOptions(e){var t={};return e.options.writeConcern&&(t.w=e.options.writeConcern.w,t.wtimeout=e.options.writeConcern.wtimeout,t.j=e.options.writeConcern.j),t}function waitForIndexes(e,t){return e.bucket.s.checkedIndexes?t(!1):(e.bucket.once(\"index\",function(){t(!0)}),!0)}function writeRemnant(e,t){if(0===e.pos)return checkDone(e,t);++e.state.outstandingRequests;var n=new Buffer(e.pos);e.bufToStore.copy(n,0,0,e.pos),e.md5.update(n);var r=createChunkDoc(e.id,e.n,n);if(checkAborted(e,t))return!1;e.chunks.insert(r,getWriteOptions(e),function(t){if(t)return __handleError(e,t);--e.state.outstandingRequests,checkDone(e)})}function checkAborted(e,t){return!!e.state.aborted&&(\"function\"==typeof t&&t(new Error(\"this stream has been aborted\")),!0)}","backend/modules/events/routes.js":"\"use strict\";module.exports=function(e,n){const t=e[n.config.expressId],s=e[n.config.userId].auth,o=e[n.config.mongooseId].model(\"Event\"),g=s(\"EVENTS:VIEW\");t.get(\"/events\",g,t.crud.browseRoute.bind(null,e,o)),t.get(\"/events/types\",g,function(e,t){const s=Object.keys(n.types);s.sort(),t.send(s)}),t.get(\"/events/pending\",g,function(e,t){t.send(n.getPendingEvents())}),t.post(\"/events/pending\",s(\"SUPER\"),function(e,t){const s=n.getPendingEvents().length;n.insertEvents();const o=n.getPendingEvents().length;t.send({beforeCount:s,afterCount:o})})};","node_modules/request/index.js":"\"use strict\";var extend=require(\"extend\"),cookies=require(\"./lib/cookies\"),helpers=require(\"./lib/helpers\"),paramsHaveRequestBody=helpers.paramsHaveRequestBody;function initParams(e,t,r){\"function\"==typeof t&&(r=t);var u={};return\"object\"==typeof t?extend(u,t,{uri:e}):extend(u,\"string\"==typeof e?{uri:e}:e),u.callback=r||u.callback,u}function request(e,t,r){if(void 0===e)throw new Error(\"undefined is not a valid uri or options object.\");var u=initParams(e,t,r);if(\"HEAD\"===u.method&&paramsHaveRequestBody(u))throw new Error(\"HTTP HEAD requests MUST NOT include a request body.\");return new request.Request(u)}function verbFunc(e){var t=e.toUpperCase();return function(e,r,u){var n=initParams(e,r,u);return n.method=t,request(n,n.callback)}}request.get=verbFunc(\"get\"),request.head=verbFunc(\"head\"),request.options=verbFunc(\"options\"),request.post=verbFunc(\"post\"),request.put=verbFunc(\"put\"),request.patch=verbFunc(\"patch\"),request.del=verbFunc(\"delete\"),request.delete=verbFunc(\"delete\"),request.jar=function(e){return cookies.jar(e)},request.cookie=function(e){return cookies.parse(e)};function wrapRequestMethod(e,t,r,u){return function(n,o,s){var a=initParams(n,o,s),i={};return extend(!0,i,t,a),i.pool=a.pool||t.pool,u&&(i.method=u.toUpperCase()),\"function\"==typeof r&&(e=r),e(i,i.callback)}}request.defaults=function(e,t){var r=this;\"function\"==typeof(e=e||{})&&(t=e,e={});var u=wrapRequestMethod(r,e,t);return[\"get\",\"head\",\"post\",\"put\",\"patch\",\"del\",\"delete\"].forEach(function(n){u[n]=wrapRequestMethod(r[n],e,t,n)}),u.cookie=wrapRequestMethod(r.cookie,e,t),u.jar=r.jar,u.defaults=r.defaults,u},request.forever=function(e,t){var r={};return t&&extend(r,t),e&&(r.agentOptions=e),r.forever=!0,request.defaults(r)},module.exports=request,request.Request=require(\"./request\"),request.initParams=initParams,Object.defineProperty(request,\"debug\",{enumerable:!0,get:function(){return request.Request.debug},set:function(e){request.Request.debug=e}});","node_modules/axon/index.js":"module.exports=require(\"./lib\");","node_modules/axon/lib/index.js":"exports.PubEmitterSocket=require(\"./sockets/pub-emitter\"),exports.SubEmitterSocket=require(\"./sockets/sub-emitter\"),exports.PushSocket=require(\"./sockets/push\"),exports.PullSocket=require(\"./sockets/pull\"),exports.PubSocket=require(\"./sockets/pub\"),exports.SubSocket=require(\"./sockets/sub\"),exports.ReqSocket=require(\"./sockets/req\"),exports.RepSocket=require(\"./sockets/rep\"),exports.Socket=require(\"./sockets/sock\"),exports.types={\"pub-emitter\":exports.PubEmitterSocket,\"sub-emitter\":exports.SubEmitterSocket,push:exports.PushSocket,pull:exports.PullSocket,pub:exports.PubSocket,sub:exports.SubSocket,req:exports.ReqSocket,rep:exports.RepSocket},exports.socket=function(e,t){var r=exports.types[e];if(!r)throw new Error('invalid socket type \"'+e+'\"');return new r(t)};","node_modules/axon/lib/sockets/pub-emitter.js":"var PubSocket=require(\"./pub\");module.exports=PubEmitterSocket;function PubEmitterSocket(){this.sock=new PubSocket,this.emit=this.sock.send.bind(this.sock),this.bind=this.sock.bind.bind(this.sock),this.connect=this.sock.connect.bind(this.sock),this.close=this.sock.close.bind(this.sock)}","node_modules/axon/lib/sockets/sub-emitter.js":"var Message=require(\"amp-message\"),SubSocket=require(\"./sub\");module.exports=SubEmitterSocket;function SubEmitterSocket(){this.sock=new SubSocket,this.sock.onmessage=this.onmessage.bind(this),this.bind=this.sock.bind.bind(this.sock),this.connect=this.sock.connect.bind(this.sock),this.close=this.sock.close.bind(this.sock),this.listeners=[]}SubEmitterSocket.prototype.onmessage=function(){var s=this.listeners,t=this;return function(e){for(var i=new Message(e),n=i.shift(),o=0;o<s.length;++o){var r=s[o],c=r.re.exec(n);c&&r.fn.apply(t,c.slice(1).concat(i.args))}}},SubEmitterSocket.prototype.on=function(s,t){var e=this.sock.subscribe(s);return this.listeners.push({event:s,re:e,fn:t}),this},SubEmitterSocket.prototype.off=function(s){for(var t=0;t<this.listeners.length;++t)this.listeners[t].event===s&&(this.sock.unsubscribe(this.listeners[t].re),this.listeners.splice(t--,1));return this};","node_modules/axon/lib/sockets/push.js":"var roundrobin=require(\"../plugins/round-robin\"),queue=require(\"../plugins/queue\"),Socket=require(\"./sock\");module.exports=PushSocket;function PushSocket(){Socket.call(this),this.use(queue()),this.use(roundrobin({fallback:this.enqueue}))}PushSocket.prototype.__proto__=Socket.prototype;","node_modules/axon/lib/sockets/pull.js":"var Socket=require(\"./sock\");module.exports=PullSocket;function PullSocket(){Socket.call(this)}PullSocket.prototype.__proto__=Socket.prototype,PullSocket.prototype.send=function(){throw new Error(\"pull sockets should not send messages\")};","node_modules/axon/lib/sockets/pub.js":"var Socket=require(\"./sock\"),slice=require(\"../utils\").slice;module.exports=PubSocket;function PubSocket(){Socket.call(this)}PubSocket.prototype.__proto__=Socket.prototype,PubSocket.prototype.send=function(t){for(var e,o=this.socks,r=o.length,c=this.pack(arguments),i=0;i<r;i++)(e=o[i]).writable&&e.write(c);return this};","node_modules/axon/lib/sockets/sub.js":"var debug=require(\"debug\")(\"axon:sub\"),escape=require(\"escape-regexp\"),Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=SubSocket;function SubSocket(){Socket.call(this),this.subscriptions=[]}SubSocket.prototype.__proto__=Socket.prototype,SubSocket.prototype.hasSubscriptions=function(){return!!this.subscriptions.length},SubSocket.prototype.matches=function(t){for(var e=0;e<this.subscriptions.length;++e)if(this.subscriptions[e].test(t))return!0;return!1},SubSocket.prototype.onmessage=function(t){var e=this.hasSubscriptions(),s=this;return function(t){var o=new Message(t);if(e){var r=o.args[0];if(!s.matches(r))return debug('not subscribed to \"%s\"',r)}s.emit.apply(s,[\"message\"].concat(o.args))}},SubSocket.prototype.subscribe=function(t){return debug('subscribe to \"%s\"',t),this.subscriptions.push(t=toRegExp(t)),t},SubSocket.prototype.unsubscribe=function(t){debug('unsubscribe from \"%s\"',t),t=toRegExp(t);for(var e=0;e<this.subscriptions.length;++e)this.subscriptions[e].toString()===t.toString()&&this.subscriptions.splice(e--,1)},SubSocket.prototype.clearSubscriptions=function(){this.subscriptions=[]},SubSocket.prototype.send=function(){throw new Error(\"subscribers cannot send messages\")};function toRegExp(t){return t instanceof RegExp?t:(t=escape(t),t=t.replace(/\\\\\\*/g,\"(.+)\"),new RegExp(\"^\"+t+\"$\"))}","node_modules/axon/lib/sockets/req.js":"var debug=require(\"debug\")(\"axon:req\"),queue=require(\"../plugins/queue\"),slice=require(\"../utils\").slice,Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=ReqSocket;function ReqSocket(){Socket.call(this),this.n=0,this.ids=0,this.callbacks={},this.identity=this.get(\"identity\"),this.use(queue())}ReqSocket.prototype.__proto__=Socket.prototype,ReqSocket.prototype.id=function(){return this.identity+\":\"+this.ids++},ReqSocket.prototype.onmessage=function(){var e=this;return function(t){var i=new Message(t),s=i.pop(),o=e.callbacks[s];if(!o)return debug(\"missing callback %s\",s);o.apply(null,i.args),delete e.callbacks[s]}},ReqSocket.prototype.send=function(e){var t=this.socks,i=t.length,s=t[this.n++%i],o=slice(arguments);if(s){\"function\"==typeof o[o.length-1]||o.push(function(){});var c=o.pop();c.id=this.id(),this.callbacks[c.id]=c,o.push(c.id)}s?s.write(this.pack(o)):(debug(\"no connected peers\"),this.enqueue(o))};","node_modules/axon/lib/sockets/rep.js":"var slice=require(\"../utils\").slice,debug=require(\"debug\")(\"axon:rep\"),Message=require(\"amp-message\"),Socket=require(\"./sock\");module.exports=RepSocket;function RepSocket(){Socket.call(this)}RepSocket.prototype.__proto__=Socket.prototype,RepSocket.prototype.onmessage=function(e){var t=this;return function(o){var r=new Message(o).args,n=r.pop();r.unshift(\"message\"),r.push(function(){var o=function(){},r=slice(arguments);r[0]=r[0]||null;\"function\"==typeof r[r.length-1]&&(o=r.pop());return r.push(n),e.writable?(e.write(t.pack(r),function(){o(!0)}),!0):(debug(\"peer went away\"),process.nextTick(function(){o(!1)}),!1)}),t.emit.apply(t,r)}};","node_modules/axon/lib/sockets/sock.js":"var Emitter=require(\"events\").EventEmitter,Configurable=require(\"configurable\"),debug=require(\"debug\")(\"axon:sock\"),Message=require(\"amp-message\"),Parser=require(\"amp\").Stream,url=require(\"url\"),net=require(\"net\"),fs=require(\"fs\"),ignore=[\"ECONNREFUSED\",\"ECONNRESET\",\"ETIMEDOUT\",\"EHOSTUNREACH\",\"ENETUNREACH\",\"ENETDOWN\",\"EPIPE\",\"ENOENT\"];module.exports=Socket;function Socket(){this.server=null,this.socks=[],this.settings={},this.set(\"hwm\",1/0),this.set(\"identity\",String(process.pid)),this.set(\"retry timeout\",100),this.set(\"retry max timeout\",5e3)}Socket.prototype.__proto__=Emitter.prototype,Configurable(Socket.prototype),Socket.prototype.use=function(e){return e(this),this},Socket.prototype.pack=function(e){return new Message(e).toBuffer()},Socket.prototype.closeSockets=function(){debug(\"%s closing %d connections\",this.type,this.socks.length),this.socks.forEach(function(e){e.destroy()})},Socket.prototype.close=function(e){debug(\"%s closing\",this.type),this.closing=!0,this.closeSockets(),this.server&&this.closeServer(e)},Socket.prototype.closeServer=function(e){debug(\"%s closing server\",this.type),this.server.on(\"close\",this.emit.bind(this,\"close\")),this.server.close(),e&&e()},Socket.prototype.address=function(){if(this.server){var e=this.server.address();return e.string=\"tcp://\"+e.address+\":\"+e.port,e}},Socket.prototype.removeSocket=function(e){var t=this.socks.indexOf(e);~t&&(debug(\"%s remove socket %d\",this.type,t),this.socks.splice(t,1))},Socket.prototype.addSocket=function(e){var t=new Parser,o=this.socks.push(e)-1;debug(\"%s add socket %d\",this.type,o),e.pipe(t),t.on(\"data\",this.onmessage(e))},Socket.prototype.handleErrors=function(e){var t=this;e.on(\"error\",function(o){if(debug(\"%s error %s\",t.type,o.code||o.message),t.emit(\"socket error\",o),t.removeSocket(e),!~ignore.indexOf(o.code))return t.emit(\"error\",o);debug(\"%s ignored %s\",t.type,o.code),t.emit(\"ignored error\",o)})},Socket.prototype.onmessage=function(e){var t=this;return function(e){var o=new Message(e);t.emit.apply(t,[\"message\"].concat(o.args))}},Socket.prototype.connect=function(e,t,o){var r=this;if(\"server\"==this.type)throw new Error(\"cannot connect() after bind()\");\"function\"==typeof t&&(o=t,t=void 0),\"string\"==typeof e?\"unix:\"==(e=url.parse(e)).protocol?(t=o,o=void 0,e=e.pathname):(t=e.hostname||\"0.0.0.0\",e=parseInt(e.port,10)):t=t||\"0.0.0.0\";var s=r.get(\"retry max timeout\"),n=new net.Socket;return n.setNoDelay(),this.type=\"client\",this.handleErrors(n),n.on(\"close\",function(){if(r.emit(\"socket close\",n),r.connected=!1,r.removeSocket(n),r.closing)return r.emit(\"close\");var o=r.retry||r.get(\"retry timeout\");setTimeout(function(){debug(\"%s attempting reconnect\",r.type),r.emit(\"reconnect attempt\"),n.destroy(),r.connect(e,t),r.retry=Math.round(Math.min(s,1.5*o))},o)}),n.on(\"connect\",function(){debug(\"%s connect\",r.type),r.connected=!0,r.addSocket(n),r.retry=r.get(\"retry timeout\"),r.emit(\"connect\",n),o&&o()}),debug(\"%s connect attempt %s:%s\",r.type,t,e),n.connect(e,t),this},Socket.prototype.onconnect=function(e){var t=this,o=e.remoteAddress+\":\"+e.remotePort;debug(\"%s accept %s\",t.type,o),this.addSocket(e),this.handleErrors(e),this.emit(\"connect\",e),e.on(\"close\",function(){debug(\"%s disconnect %s\",t.type,o),t.emit(\"disconnect\",e),t.removeSocket(e)})},Socket.prototype.bind=function(e,t,o){var r=this;if(\"client\"==this.type)throw new Error(\"cannot bind() after connect()\");\"function\"==typeof t&&(o=t,t=void 0);var s=!1;return\"string\"==typeof e?\"unix:\"==(e=url.parse(e)).protocol?(t=o,o=void 0,e=e.pathname,s=!0):(t=e.hostname||\"0.0.0.0\",e=parseInt(e.port,10)):t=t||\"0.0.0.0\",this.type=\"server\",this.server=net.createServer(this.onconnect.bind(this)),debug(\"%s bind %s:%s\",this.type,t,e),this.server.on(\"listening\",this.emit.bind(this,\"bind\")),s&&this.server.on(\"error\",function(s){if(\"EADDRINUSE\"==s.code){var n=new net.Socket;n.on(\"error\",function(s){\"ECONNREFUSED\"==s.code&&(fs.unlink(e),r.server.listen(e,t,o))}),n.connect({path:e},function(){throw s})}}),this.server.listen(e,t,o),this};","node_modules/axon/lib/utils.js":"exports.slice=function(r){for(var e=r.length,n=new Array(e),t=0;t<e;t++)n[t]=r[t];return n};","node_modules/configurable/index.js":"module.exports=require(\"./lib/configurable\");","node_modules/debug/src/index.js":"\"undefined\"==typeof process||\"renderer\"===process.type?module.exports=require(\"./browser.js\"):module.exports=require(\"./node.js\");","node_modules/amp-message/index.js":"var fmt=require(\"util\").format,amp=require(\"amp\"),methods=[\"push\",\"pop\",\"shift\",\"unshift\"];module.exports=Message;function Message(e){Buffer.isBuffer(e)&&(e=decode(e)),this.args=e||[]}methods.forEach(function(e){Message.prototype[e]=function(){return this.args[e].apply(this.args,arguments)}}),Message.prototype.inspect=function(){return fmt(\"<Message args=%d size=%d>\",this.args.length,this.toBuffer().length)},Message.prototype.toBuffer=function(){return encode(this.args)};function decode(e){for(var t=amp.decode(e),r=0;r<t.length;r++)t[r]=unpack(t[r]);return t}function encode(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=pack(e[r]);return amp.encode(t)}function pack(e){return Buffer.isBuffer(e)?e:\"string\"==typeof e?new Buffer(\"s:\"+e):(void 0===e&&(e=null),new Buffer(\"j:\"+JSON.stringify(e)))}function unpack(e){return isJSON(e)?JSON.parse(e.slice(2)):isString(e)?e.slice(2).toString():e}function isString(e){return 115==e[0]&&58==e[1]}function isJSON(e){return 106==e[0]&&58==e[1]}function isId(e){return 105==e[0]&&58==e[1]}","node_modules/amp/index.js":"exports.Stream=require(\"./lib/stream\"),exports.encode=require(\"./lib/encode\"),exports.decode=require(\"./lib/decode\");","node_modules/configurable/lib/configurable.js":"module.exports=function(t){return t.settings={},t.set=function(t,e){if(1==arguments.length)for(var n in t)this.set(n,t[n]);else this.settings[t]=e;return this},t.get=function(t){return this.settings[t]},t.enable=function(t){return this.set(t,!0)},t.disable=function(t){return this.set(t,!1)},t.enabled=function(t){return!!this.get(t)},t.disabled=function(t){return!this.get(t)},t};","node_modules/debug/src/node.js":"var tty=require(\"tty\"),util=require(\"util\");exports=module.exports=require(\"./debug\"),exports.init=init,exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.colors=[6,2,3,4,5,1];try{var supportsColor=require(\"supports-color\");supportsColor&&supportsColor.level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}exports.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var s=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&(\"null\"===r?null:Number(r)),t[s]=r,t},{});function useColors(){return\"colors\"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}exports.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,util.inspect(t,this.inspectOpts).split(\"\\n\").map(function(t){return t.trim()}).join(\" \")},exports.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,util.inspect(t,this.inspectOpts)};function formatArgs(t){var e=this.namespace;if(this.useColors){var s=this.color,r=\"\u001b[3\"+(s<8?s:\"8;5;\"+s),o=\"  \"+r+\";1m\"+e+\" \u001b[0m\";t[0]=o+t[0].split(\"\\n\").join(\"\\n\"+o),t.push(r+\"m+\"+exports.humanize(this.diff)+\"\u001b[0m\")}else t[0]=getDate()+e+\" \"+t[0]}function getDate(){return exports.inspectOpts.hideDate?\"\":(new Date).toISOString()+\" \"}function log(){return process.stderr.write(util.format.apply(util,arguments)+\"\\n\")}function save(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t}function load(){return process.env.DEBUG}function init(t){t.inspectOpts={};for(var e=Object.keys(exports.inspectOpts),s=0;s<e.length;s++)t.inspectOpts[e[s]]=exports.inspectOpts[e[s]]}exports.enable(load());","node_modules/debug/src/debug.js":"exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require(\"ms\"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={};function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){var r;function t(){if(t.enabled){var e=t,s=+new Date,o=s-(r||s);e.diff=o,e.prev=r,e.curr=s,r=s;for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];n[0]=exports.coerce(n[0]),\"string\"!=typeof n[0]&&n.unshift(\"%O\");var p=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(r,t){if(\"%%\"===r)return r;p++;var s=exports.formatters[t];if(\"function\"==typeof s){var o=n[p];r=s.call(e,o),n.splice(p,1),p--}return r}),exports.formatArgs.call(e,n);(t.log||exports.log||console.log.bind(console)).apply(e,n)}}return t.namespace=e,t.enabled=exports.enabled(e),t.useColors=exports.useColors(),t.color=selectColor(e),t.destroy=destroy,\"function\"==typeof exports.init&&exports.init(t),exports.instances.push(t),t}function destroy(){var e=exports.instances.indexOf(this);return-1!==e&&(exports.instances.splice(e,1),!0)}function enable(e){exports.save(e),exports.names=[],exports.skips=[];var r,t=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=t.length;for(r=0;r<s;r++)t[r]&&(\"-\"===(e=t[r].replace(/\\*/g,\".*?\"))[0]?exports.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):exports.names.push(new RegExp(\"^\"+e+\"$\")));for(r=0;r<exports.instances.length;r++){var o=exports.instances[r];o.enabled=exports.enabled(o.namespace)}}function disable(){exports.enable(\"\")}function enabled(e){if(\"*\"===e[e.length-1])return!0;var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}","node_modules/supports-color/index.js":"\"use strict\";var argv=process.argv,terminator=argv.indexOf(\"--\"),hasFlag=function(s){s=\"--\"+s;var r=argv.indexOf(s);return-1!==r&&(-1===terminator||r<terminator)};module.exports=\"FORCE_COLOR\"in process.env||!(hasFlag(\"no-color\")||hasFlag(\"no-colors\")||hasFlag(\"color=false\"))&&(!!(hasFlag(\"color\")||hasFlag(\"colors\")||hasFlag(\"color=true\")||hasFlag(\"color=always\"))||!(process.stdout&&!process.stdout.isTTY)&&(\"win32\"===process.platform||(\"COLORTERM\"in process.env||\"dumb\"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM))));","node_modules/ms/index.js":"var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if(\"string\"===r&&s.length>0)return parse(s);if(\"number\"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(s))};function parse(e){if(!((e=String(e)).length>100)){var r=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*y;case\"days\":case\"day\":case\"d\":return a*d;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*h;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*m;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+\"d\":e>=h?Math.round(e/h)+\"h\":e>=m?Math.round(e/m)+\"m\":e>=s?Math.round(e/s)+\"s\":e+\"ms\"}function fmtLong(e){return plural(e,d,\"day\")||plural(e,h,\"hour\")||plural(e,m,\"minute\")||plural(e,s,\"second\")||e+\" ms\"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+\" \"+r:Math.ceil(s/e)+\" \"+r+\"s\"}","node_modules/amp/lib/stream.js":"var Stream=require(\"stream\").Writable,encode=require(\"./encode\");module.exports=Parser;function Parser(t){Stream.call(this,t),this.state=\"message\",this._lenbuf=new Buffer(4)}Parser.prototype.__proto__=Stream.prototype,Parser.prototype._write=function(t,e,s){for(var r=0;r<t.length;r++)switch(this.state){case\"message\":var a=t[r];this.version=a>>4,this.argv=15&a,this.state=\"arglen\",this._bufs=[new Buffer([a])],this._nargs=0,this._leni=0;break;case\"arglen\":if(this._lenbuf[this._leni++]=t[r],4==this._leni){this._arglen=this._lenbuf.readUInt32BE(0);var i=new Buffer(4);i[0]=this._lenbuf[0],i[1]=this._lenbuf[1],i[2]=this._lenbuf[2],i[3]=this._lenbuf[3],this._bufs.push(i),this._argcur=0,this.state=\"arg\"}break;case\"arg\":var h=this._arglen-this._argcur,n=Math.min(h+r,t.length),_=t.slice(r,n);this._bufs.push(_),this._argcur+=n-r;var u=this._argcur==this._arglen;if(r=n-1,u&&this._nargs++,this._nargs==this.argv){this.state=\"message\",this.emit(\"data\",Buffer.concat(this._bufs));break}u&&(this.state=\"arglen\",this._leni=0)}s()};","node_modules/amp/lib/encode.js":"var version=1;module.exports=function(r){for(var e=r.length,n=1,t=0,o=0;o<e;o++)n+=4+r[o].length;var v=new Buffer(n);v[t++]=version<<4|e;for(o=0;o<e;o++){var f=r[o];v.writeUInt32BE(f.length,t),t+=4,f.copy(v,t),t+=f.length}return v};","node_modules/amp/lib/decode.js":"module.exports=function(r){for(var e=0,a=r[e++],n=15&a,o=new Array(n),t=0;t<n;t++){var u=r.readUInt32BE(e);e+=4;var v=r.slice(e,e+=u);o[t]=v}return o};","node_modules/escape-regexp/index.js":"module.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\\]\\/\\\\])/g,\"\\\\$1\")};","node_modules/axon/lib/plugins/round-robin.js":"var slice=require(\"../utils\").slice;module.exports=function(i){var e=(i=i||{}).fallback||function(){};return function(i){e=e.bind(i);var n=0;i.send=function(){var i=this.socks,t=i.length,r=i[n++%t],c=slice(arguments);r&&r.writable?r.write(this.pack(c)):e(c)}}};","node_modules/axon/lib/plugins/queue.js":"var debug=require(\"debug\")(\"axon:queue\");module.exports=function(e){return e=e||{},function(e){e.queue=[],e.on(\"connect\",function(){var u=e.queue,n=u.length;e.queue=[],debug(\"flush %d messages\",n);for(var t=0;t<n;++t)this.send.apply(this,u[t]);e.emit(\"flush\",u)}),e.enqueue=function(u){var n=e.settings.hwm;if(e.queue.length>=n)return function(u){debug(\"drop\"),e.emit(\"drop\",u)}(u);e.queue.push(u)}}};","node_modules/extend/index.js":"\"use strict\";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(r){return\"function\"==typeof Array.isArray?Array.isArray(r):\"[object Array]\"===toStr.call(r)},isPlainObject=function(r){if(!r||\"[object Object]\"!==toStr.call(r))return!1;var t=hasOwn.call(r,\"constructor\"),o=r.constructor&&r.constructor.prototype&&hasOwn.call(r.constructor.prototype,\"isPrototypeOf\");if(r.constructor&&!t&&!o)return!1;var n;for(n in r);return void 0===n||hasOwn.call(r,n)};module.exports=function r(){var t,o,n,c,e,a,i=arguments[0],s=1,l=arguments.length,u=!1;for(\"boolean\"==typeof i&&(u=i,i=arguments[1]||{},s=2),(null==i||\"object\"!=typeof i&&\"function\"!=typeof i)&&(i={});s<l;++s)if(null!=(t=arguments[s]))for(o in t)n=i[o],i!==(c=t[o])&&(u&&c&&(isPlainObject(c)||(e=isArray(c)))?(e?(e=!1,a=n&&isArray(n)?n:[]):a=n&&isPlainObject(n)?n:{},i[o]=r(u,a,c)):void 0!==c&&(i[o]=c));return i};","node_modules/request/lib/cookies.js":"\"use strict\";var tough=require(\"tough-cookie\"),Cookie=tough.Cookie,CookieJar=tough.CookieJar;exports.parse=function(o){if(o&&o.uri&&(o=o.uri),\"string\"!=typeof o)throw new Error(\"The cookie function only accepts STRING as param\");return Cookie.parse(o,{loose:!0})};function RequestJar(o){this._jar=new CookieJar(o,{looseMode:!0})}RequestJar.prototype.setCookie=function(o,e,t){return this._jar.setCookieSync(o,e,t||{})},RequestJar.prototype.getCookieString=function(o){return this._jar.getCookieStringSync(o)},RequestJar.prototype.getCookies=function(o){return this._jar.getCookiesSync(o)},exports.jar=function(o){return new RequestJar(o)};","node_modules/request/lib/helpers.js":"\"use strict\";var jsonSafeStringify=require(\"json-stringify-safe\"),crypto=require(\"crypto\"),Buffer=require(\"safe-buffer\").Buffer,defer=\"undefined\"==typeof setImmediate?process.nextTick:setImmediate;function paramsHaveRequestBody(e){return e.body||e.requestBodyStream||e.json&&\"boolean\"!=typeof e.json||e.multipart}function safeStringify(e,r){var t;try{t=JSON.stringify(e,r)}catch(s){t=jsonSafeStringify(e,r)}return t}function md5(e){return crypto.createHash(\"md5\").update(e).digest(\"hex\")}function isReadStream(e){return e.readable&&e.path&&e.mode}function toBase64(e){return Buffer.from(e||\"\",\"utf8\").toString(\"base64\")}function copy(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function version(){var e=process.version.replace(\"v\",\"\").split(\".\");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}exports.paramsHaveRequestBody=paramsHaveRequestBody,exports.safeStringify=safeStringify,exports.md5=md5,exports.isReadStream=isReadStream,exports.toBase64=toBase64,exports.copy=copy,exports.version=version,exports.defer=defer;","node_modules/request/request.js":"\"use strict\";var http=require(\"http\"),https=require(\"https\"),url=require(\"url\"),util=require(\"util\"),stream=require(\"stream\"),zlib=require(\"zlib\"),hawk=require(\"hawk\"),aws2=require(\"aws-sign2\"),aws4=require(\"aws4\"),httpSignature=require(\"http-signature\"),mime=require(\"mime-types\"),stringstream=require(\"stringstream\"),caseless=require(\"caseless\"),ForeverAgent=require(\"forever-agent\"),FormData=require(\"form-data\"),extend=require(\"extend\"),isstream=require(\"isstream\"),isTypedArray=require(\"is-typedarray\").strict,helpers=require(\"./lib/helpers\"),cookies=require(\"./lib/cookies\"),getProxyFromURI=require(\"./lib/getProxyFromURI\"),Querystring=require(\"./lib/querystring\").Querystring,Har=require(\"./lib/har\").Har,Auth=require(\"./lib/auth\").Auth,OAuth=require(\"./lib/oauth\").OAuth,Multipart=require(\"./lib/multipart\").Multipart,Redirect=require(\"./lib/redirect\").Redirect,Tunnel=require(\"./lib/tunnel\").Tunnel,now=require(\"performance-now\"),Buffer=require(\"safe-buffer\").Buffer,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};function filterForNonReserved(e,t){var r={};for(var i in t){-1===e.indexOf(i)&&(r[i]=t[i])}return r}function filterOutReservedFunctions(e,t){var r={};for(var i in t){var s=!(-1===e.indexOf(i)),o=\"function\"==typeof t[i];s&&o||(r[i]=t[i])}return r}function requestToJSON(){return{uri:this.uri,method:this.method,headers:this.headers}}function responseToJSON(){return{statusCode:this.statusCode,body:this.body,headers:this.headers,request:requestToJSON.call(this.request)}}function Request(e){e.har&&(this._har=new Har(this),e=this._har.options(e)),stream.Stream.call(this);var t=Object.keys(Request.prototype),r=filterForNonReserved(t,e);extend(this,r),e=filterOutReservedFunctions(t,e),this.readable=!0,this.writable=!0,e.method&&(this.explicitMethod=!0),this._qs=new Querystring(this),this._auth=new Auth(this),this._oauth=new OAuth(this),this._multipart=new Multipart(this),this._redirect=new Redirect(this),this._tunnel=new Tunnel(this),this.init(e)}util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\\brequest\\b/.test(process.env.NODE_DEBUG);function debug(){Request.debug&&console.error(\"REQUEST %s\",util.format.apply(util,arguments))}Request.prototype.debug=debug,Request.prototype.init=function(e){var t=this;e||(e={}),t.headers=t.headers?copy(t.headers):{};for(var r in t.headers)void 0===t.headers[r]&&delete t.headers[r];if(caseless.httpify(t,t.headers),t.method||(t.method=e.method||\"GET\"),t.localAddress||(t.localAddress=e.localAddress),t._qs.init(e),debug(e),t.pool||!1===t.pool||(t.pool=globalPool),t.dests=t.dests||[],t.__isRequestRequest=!0,!t._callback&&t.callback&&(t._callback=t.callback,t.callback=function(){t._callbackCalled||(t._callbackCalled=!0,t._callback.apply(t,arguments))},t.on(\"error\",t.callback.bind()),t.on(\"complete\",t.callback.bind(t,null))),!t.uri&&t.url&&(t.uri=t.url,delete t.url),t.baseUrl){if(\"string\"!=typeof t.baseUrl)return t.emit(\"error\",new Error(\"options.baseUrl must be a string\"));if(\"string\"!=typeof t.uri)return t.emit(\"error\",new Error(\"options.uri must be a string when using options.baseUrl\"));if(0===t.uri.indexOf(\"//\")||-1!==t.uri.indexOf(\"://\"))return t.emit(\"error\",new Error(\"options.uri must be a path when using options.baseUrl\"));var i=t.baseUrl.lastIndexOf(\"/\")===t.baseUrl.length-1,s=0===t.uri.indexOf(\"/\");i&&s?t.uri=t.baseUrl+t.uri.slice(1):i||s?t.uri=t.baseUrl+t.uri:\"\"===t.uri?t.uri=t.baseUrl:t.uri=t.baseUrl+\"/\"+t.uri,delete t.baseUrl}if(!t.uri)return t.emit(\"error\",new Error(\"options.uri is a required argument\"));if(\"string\"==typeof t.uri&&(t.uri=url.parse(t.uri)),t.uri.href||(t.uri.href=url.format(t.uri)),\"unix:\"===t.uri.protocol)return t.emit(\"error\",new Error(\"`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`\"));if(\"unix\"===t.uri.host&&t.enableUnixSocket(),!1===t.strictSSL&&(t.rejectUnauthorized=!1),t.uri.pathname||(t.uri.pathname=\"/\"),!(t.uri.host||t.uri.hostname&&t.uri.port||t.uri.isUnix)){var o='Invalid URI \"'+url.format(t.uri)+'\"';return 0===Object.keys(e).length&&(o+=\". This can be caused by a crappy redirection.\"),t.abort(),t.emit(\"error\",new Error(o))}if(t.hasOwnProperty(\"proxy\")||(t.proxy=getProxyFromURI(t.uri)),t.tunnel=t._tunnel.isEnabled(),t.proxy&&t._tunnel.setup(e),t._redirect.onRequest(e),t.setHost=!1,!t.hasHeader(\"host\")){var n=t.originalHostHeaderName||\"host\";t.setHeader(n,t.uri.host),t.setHost=!0}if(t.jar(t._jar||e.jar),t.uri.port||(\"http:\"===t.uri.protocol?t.uri.port=80:\"https:\"===t.uri.protocol&&(t.uri.port=443)),t.proxy&&!t.tunnel?(t.port=t.proxy.port,t.host=t.proxy.hostname):(t.port=t.uri.port,t.host=t.uri.hostname),e.form&&t.form(e.form),e.formData){var a=e.formData,u=t.form(),h=function(e,t){t&&t.hasOwnProperty(\"value\")&&t.hasOwnProperty(\"options\")?u.append(e,t.value,t.options):u.append(e,t)};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(d instanceof Array)for(var c=0;c<d.length;c++)h(p,d[c]);else h(p,d)}}if(e.qs&&t.qs(e.qs),t.uri.path?t.path=t.uri.path:t.path=t.uri.pathname+(t.uri.search||\"\"),0===t.path.length&&(t.path=\"/\"),e.aws&&t.aws(e.aws),e.hawk&&t.hawk(e.hawk),e.httpSignature&&t.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,\"username\")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,\"password\")&&(e.auth.pass=e.auth.password),t.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),t.gzip&&!t.hasHeader(\"accept-encoding\")&&t.setHeader(\"accept-encoding\",\"gzip, deflate\"),t.uri.auth&&!t.hasHeader(\"authorization\")){var l=t.uri.auth.split(\":\").map(function(e){return t._qs.unescape(e)});t.auth(l[0],l.slice(1).join(\":\"),!0)}if(!t.tunnel&&t.proxy&&t.proxy.auth&&!t.hasHeader(\"proxy-authorization\")){var m=t.proxy.auth.split(\":\").map(function(e){return t._qs.unescape(e)}),f=\"Basic \"+toBase64(m.join(\":\"));t.setHeader(\"proxy-authorization\",f)}t.proxy&&!t.tunnel&&(t.path=t.uri.protocol+\"//\"+t.uri.host+t.path),e.json&&t.json(e.json),e.multipart&&t.multipart(e.multipart),e.time&&(t.timing=!0,t.elapsedTime=t.elapsedTime||0);function g(){if(isTypedArray(t.body)&&(t.body=Buffer.from(t.body)),!t.hasHeader(\"content-length\")){var e;(e=\"string\"==typeof t.body?Buffer.byteLength(t.body):Array.isArray(t.body)?t.body.reduce(function(e,t){return e+t.length},0):t.body.length)?t.setHeader(\"content-length\",e):t.emit(\"error\",new Error(\"Argument error, options.body.\"))}}t.body&&!isstream(t.body)&&g(),e.oauth?t.oauth(e.oauth):t._oauth.params&&t.hasHeader(\"authorization\")&&t.oauth(t._oauth.params);var y=t.proxy&&!t.tunnel?t.proxy.protocol:t.uri.protocol,b={\"http:\":http,\"https:\":https},q=t.httpModules||{};if(t.httpModule=q[y]||b[y],!t.httpModule)return t.emit(\"error\",new Error(\"Invalid protocol: \"+y));if(e.ca&&(t.ca=e.ca),!t.agent)if(e.agentOptions&&(t.agentOptions=e.agentOptions),e.agentClass)t.agentClass=e.agentClass;else if(e.forever){var v=version();0===v.major&&v.minor<=10?t.agentClass=\"http:\"===y?ForeverAgent:ForeverAgent.SSL:(t.agentClass=t.httpModule.Agent,t.agentOptions=t.agentOptions||{},t.agentOptions.keepAlive=!0)}else t.agentClass=t.httpModule.Agent;!1===t.pool?t.agent=!1:t.agent=t.agent||t.getNewAgent(),t.on(\"pipe\",function(e){if(t.ntick&&t._started&&t.emit(\"error\",new Error(\"You cannot pipe to this stream after the outbound request has started.\")),t.src=e,isReadStream(e))t.hasHeader(\"content-type\")||t.setHeader(\"content-type\",mime.lookup(e.path));else{if(e.headers)for(var r in e.headers)t.hasHeader(r)||t.setHeader(r,e.headers[r]);t._json&&!t.hasHeader(\"content-type\")&&t.setHeader(\"content-type\",\"application/json\"),e.method&&!t.explicitMethod&&(t.method=e.method)}}),defer(function(){if(!t._aborted){var e=function(){if(t._form&&(t._auth.hasAuth?t._auth.hasAuth&&t._auth.sentAuth&&t._form.pipe(t):t._form.pipe(t)),t._multipart&&t._multipart.chunked&&t._multipart.body.pipe(t),t.body)isstream(t.body)?t.body.pipe(t):(g(),Array.isArray(t.body)?t.body.forEach(function(e){t.write(e)}):t.write(t.body),t.end());else if(t.requestBodyStream)console.warn(\"options.requestBodyStream is deprecated, please pass the request object to stream.pipe.\"),t.requestBodyStream.pipe(t);else if(!t.src){if(t._auth.hasAuth&&!t._auth.sentAuth)return void t.end();\"GET\"!==t.method&&void 0!==t.method&&t.setHeader(\"content-length\",0),t.end()}};t._form&&!t.hasHeader(\"content-length\")?(t.setHeader(t._form.getHeaders(),!0),t._form.getLength(function(r,i){r||isNaN(i)||t.setHeader(\"content-length\",i),e()})):e(),t.ntick=!0}})},Request.prototype.getNewAgent=function(){var e=this.agentClass,t={};if(this.agentOptions)for(var r in this.agentOptions)t[r]=this.agentOptions[r];this.ca&&(t.ca=this.ca),this.ciphers&&(t.ciphers=this.ciphers),this.secureProtocol&&(t.secureProtocol=this.secureProtocol),this.secureOptions&&(t.secureOptions=this.secureOptions),void 0!==this.rejectUnauthorized&&(t.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(t.key=this.key,t.cert=this.cert),this.pfx&&(t.pfx=this.pfx),this.passphrase&&(t.passphrase=this.passphrase);var i=\"\";e!==this.httpModule.Agent&&(i+=e.name);var s=this.proxy;\"string\"==typeof s&&(s=url.parse(s));return(s&&\"https:\"===s.protocol||\"https:\"===this.uri.protocol)&&(t.ca&&(i&&(i+=\":\"),i+=t.ca),void 0!==t.rejectUnauthorized&&(i&&(i+=\":\"),i+=t.rejectUnauthorized),t.cert&&(i&&(i+=\":\"),i+=t.cert.toString(\"ascii\")+t.key.toString(\"ascii\")),t.pfx&&(i&&(i+=\":\"),i+=t.pfx.toString(\"ascii\")),t.ciphers&&(i&&(i+=\":\"),i+=t.ciphers),t.secureProtocol&&(i&&(i+=\":\"),i+=t.secureProtocol),t.secureOptions&&(i&&(i+=\":\"),i+=t.secureOptions)),this.pool===globalPool&&!i&&0===Object.keys(t).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(i=this.uri.protocol+i,this.pool[i]||(this.pool[i]=new e(t),this.pool.maxSockets&&(this.pool[i].maxSockets=this.pool.maxSockets)),this.pool[i])},Request.prototype.start=function(){var e=this;if(e.timing)var t=(new Date).getTime(),r=now();if(!e._aborted){e._started=!0,e.method=e.method||\"GET\",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader(\"content-length\")&&e.setHeader(\"content-length\",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var i=copy(e);delete i.auth,debug(\"make request\",e.uri.href),delete i.timeout;try{e.req=e.httpModule.request(i)}catch(t){return void e.emit(\"error\",t)}e.timing&&(e.startTime=t,e.startTimeNow=r,e.timings={});var s;e.timeout&&!e.timeoutTimer&&(e.timeout<0?s=0:\"number\"==typeof e.timeout&&isFinite(e.timeout)&&(s=e.timeout)),e.req.on(\"response\",e.onRequestResponse.bind(e)),e.req.on(\"error\",e.onRequestError.bind(e)),e.req.on(\"drain\",function(){e.emit(\"drain\")}),e.req.on(\"socket\",function(t){var r=t._connecting||t.connecting;if(e.timing&&(e.timings.socket=now()-e.startTimeNow,r)){var i=function(){e.timings.lookup=now()-e.startTimeNow},o=function(){e.timings.connect=now()-e.startTimeNow};t.once(\"lookup\",i),t.once(\"connect\",o),e.req.once(\"error\",function(){t.removeListener(\"lookup\",i),t.removeListener(\"connect\",o)})}var n=function(){e.req.setTimeout(s,function(){if(e.req){e.abort();var t=new Error(\"ESOCKETTIMEDOUT\");t.code=\"ESOCKETTIMEDOUT\",t.connect=!1,e.emit(\"error\",t)}})};if(void 0!==s)if(r){var a=function(){t.removeListener(\"connect\",a),clearTimeout(e.timeoutTimer),e.timeoutTimer=null,n()};t.on(\"connect\",a),e.req.on(\"error\",function(e){t.removeListener(\"connect\",a)}),e.timeoutTimer=setTimeout(function(){t.removeListener(\"connect\",a),e.abort();var r=new Error(\"ETIMEDOUT\");r.code=\"ETIMEDOUT\",r.connect=!0,e.emit(\"error\",r)},s)}else n();e.emit(\"socket\",t)}),e.emit(\"request\",e.req)}},Request.prototype.onRequestError=function(e){if(!this._aborted){if(this.req&&this.req._reusedSocket&&\"ECONNRESET\"===e.code&&this.agent.addRequestNoreuse)return this.agent={addRequest:this.agent.addRequestNoreuse.bind(this.agent)},this.start(),void this.req.end();this.timeout&&this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.emit(\"error\",e)}},Request.prototype.onRequestResponse=function(e){var t=this;if(t.timing&&(t.timings.response=now()-t.startTimeNow),debug(\"onRequestResponse\",t.uri.href,e.statusCode,e.headers),e.on(\"end\",function(){t.timing&&(t.timings.end=now()-t.startTimeNow,e.timingStart=t.startTime,t.timings.socket||(t.timings.socket=0),t.timings.lookup||(t.timings.lookup=t.timings.socket),t.timings.connect||(t.timings.connect=t.timings.lookup),t.timings.response||(t.timings.response=t.timings.connect),debug(\"elapsed time\",t.timings.end),t.elapsedTime+=Math.round(t.timings.end),e.elapsedTime=t.elapsedTime,e.timings=t.timings,e.timingPhases={wait:t.timings.socket,dns:t.timings.lookup-t.timings.socket,tcp:t.timings.connect-t.timings.lookup,firstByte:t.timings.response-t.timings.connect,download:t.timings.end-t.timings.response,total:t.timings.end}),debug(\"response end\",t.uri.href,e.statusCode,e.headers)}),t._aborted)return debug(\"aborted\",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=responseToJSON,t.httpModule!==https||!t.strictSSL||e.hasOwnProperty(\"socket\")&&e.socket.authorized){t.originalHost=t.getHeader(\"host\"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader(\"host\")),t.setHost&&t.removeHeader(\"host\"),t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null);var r=t._jar&&t._jar.setCookie?t._jar:globalCookieJar,i=function(e){try{r.setCookie(e,t.uri.href,{ignoreError:!0})}catch(e){t.emit(\"error\",e)}};if(e.caseless=caseless(e.headers),e.caseless.has(\"set-cookie\")&&!t._disableCookies){var s=e.caseless.has(\"set-cookie\");Array.isArray(e.headers[s])?e.headers[s].forEach(i):i(e.headers[s])}if(!t._redirect.onResponse(e)){e.on(\"close\",function(){t._ended||t.response.emit(\"end\")}),e.once(\"end\",function(){t._ended=!0});var o;if(t.gzip&&!function(e){return\"HEAD\"===t.method||e>=100&&e<200||204===e||304===e}(e.statusCode)){var n=e.headers[\"content-encoding\"]||\"identity\";n=n.trim().toLowerCase();var a={flush:zlib.Z_SYNC_FLUSH,finishFlush:zlib.Z_SYNC_FLUSH};\"gzip\"===n?(o=zlib.createGunzip(a),e.pipe(o)):\"deflate\"===n?(o=zlib.createInflate(a),e.pipe(o)):(\"identity\"!==n&&debug(\"ignoring unrecognized Content-Encoding \"+n),o=e)}else o=e;t.encoding&&(0!==t.dests.length?console.error(\"Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid.\"):o.setEncoding?o.setEncoding(t.encoding):o=o.pipe(stringstream(t.encoding))),t._paused&&o.pause(),t.responseContent=o,t.emit(\"response\",e),t.dests.forEach(function(e){t.pipeDest(e)}),o.on(\"data\",function(r){t.timing&&!t.responseStarted&&(t.responseStartTime=(new Date).getTime(),e.responseStartTime=t.responseStartTime),t._destdata=!0,t.emit(\"data\",r)}),o.once(\"end\",function(e){t.emit(\"end\",e)}),o.on(\"error\",function(e){t.emit(\"error\",e)}),o.on(\"close\",function(){t.emit(\"close\")}),t.callback?t.readResponseBody(e):t.on(\"end\",function(){t._aborted?debug(\"aborted\",t.uri.href):t.emit(\"complete\",e)}),debug(\"finish init function\",t.uri.href)}}else{debug(\"strict ssl error\",t.uri.href);var u=e.hasOwnProperty(\"socket\")?e.socket.authorizationError:t.uri.href+\" does not support SSL\";t.emit(\"error\",new Error(\"SSL Error: \"+u))}},Request.prototype.readResponseBody=function(e){var t=this;debug(\"reading response's body\");var r=[],i=0,s=[];t.on(\"data\",function(e){Buffer.isBuffer(e)?e.length&&(i+=e.length,r.push(e)):s.push(e)}),t.on(\"end\",function(){if(debug(\"end event\",t.uri.href),t._aborted)return debug(\"aborted\",t.uri.href),r=[],void(i=0);if(i?(debug(\"has body\",t.uri.href,i),e.body=Buffer.concat(r,i),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),r=[],i=0):s.length&&(\"utf8\"===t.encoding&&s[0].length>0&&\"\\ufeff\"===s[0][0]&&(s[0]=s[0].substring(1)),e.body=s.join(\"\")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(e){debug(\"invalid JSON received\",t.uri.href)}debug(\"emitting complete\",t.uri.href),void 0!==e.body||t._json||(e.body=null===t.encoding?Buffer.alloc(0):\"\"),t.emit(\"complete\",e,e.body)})},Request.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.destroy(),this.emit(\"abort\")},Request.prototype.pipeDest=function(e){var t=this.response;if(e.headers&&!e.headersSent){if(t.caseless.has(\"content-type\")){var r=t.caseless.has(\"content-type\");e.setHeader?e.setHeader(r,t.headers[r]):e.headers[r]=t.headers[r]}if(t.caseless.has(\"content-length\")){var i=t.caseless.has(\"content-length\");e.setHeader?e.setHeader(i,t.headers[i]):e.headers[i]=t.headers[i]}}if(e.setHeader&&!e.headersSent){for(var s in t.headers)this.gzip&&\"content-encoding\"===s||e.setHeader(s,t.headers[s]);e.statusCode=t.statusCode}this.pipefilter&&this.pipefilter(t,e)},Request.prototype.qs=function(e,t){var r;r=!t&&this.uri.query?this._qs.parse(this.uri.query):{};for(var i in e)r[i]=e[i];var s=this._qs.stringify(r);return\"\"===s?this:(this.uri=url.parse(this.uri.href.split(\"?\")[0]+\"?\"+s),this.url=this.uri,this.path=this.uri.path,\"unix\"===this.uri.host&&this.enableUnixSocket(),this)},Request.prototype.form=function(e){var t=this;return e?(/^application\\/x-www-form-urlencoded\\b/.test(t.getHeader(\"content-type\"))||t.setHeader(\"content-type\",\"application/x-www-form-urlencoded\"),t.body=\"string\"==typeof e?t._qs.rfc3986(e.toString(\"utf8\")):t._qs.stringify(e).toString(\"utf8\"),t):(t._form=new FormData,t._form.on(\"error\",function(e){e.message=\"form-data: \"+e.message,t.emit(\"error\",e),t.abort()}),t._form)},Request.prototype.multipart=function(e){return this._multipart.onRequest(e),this._multipart.chunked||(this.body=this._multipart.body),this},Request.prototype.json=function(e){return this.hasHeader(\"accept\")||this.setHeader(\"accept\",\"application/json\"),\"function\"==typeof this.jsonReplacer&&(this._jsonReplacer=this.jsonReplacer),this._json=!0,\"boolean\"==typeof e?void 0!==this.body&&(/^application\\/x-www-form-urlencoded\\b/.test(this.getHeader(\"content-type\"))?this.body=this._qs.rfc3986(this.body):this.body=safeStringify(this.body,this._jsonReplacer),this.hasHeader(\"content-type\")||this.setHeader(\"content-type\",\"application/json\")):(this.body=safeStringify(e,this._jsonReplacer),this.hasHeader(\"content-type\")||this.setHeader(\"content-type\",\"application/json\")),\"function\"==typeof this.jsonReviver&&(this._jsonReviver=this.jsonReviver),this},Request.prototype.getHeader=function(e,t){var r,i;return t||(t=this.headers),Object.keys(t).forEach(function(s){s.length===e.length&&(i=new RegExp(e,\"i\"),s.match(i)&&(r=t[s]))}),r},Request.prototype.enableUnixSocket=function(){var e=this.uri.path.split(\":\"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},Request.prototype.auth=function(e,t,r,i){return this._auth.onRequest(e,t,r,i),this},Request.prototype.aws=function(e,t){if(!t)return this._aws=e,this;if(4===e.sign_version||\"4\"===e.sign_version){var r={host:this.uri.host,path:this.uri.path,method:this.method,headers:{\"content-type\":this.getHeader(\"content-type\")||\"\"},body:this.body},i=aws4.sign(r,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});this.setHeader(\"authorization\",i.headers.Authorization),this.setHeader(\"x-amz-date\",i.headers[\"X-Amz-Date\"]),i.headers[\"X-Amz-Security-Token\"]&&this.setHeader(\"x-amz-security-token\",i.headers[\"X-Amz-Security-Token\"])}else{var s=new Date;this.setHeader(\"date\",s.toUTCString());var o={key:e.key,secret:e.secret,verb:this.method.toUpperCase(),date:s,contentType:this.getHeader(\"content-type\")||\"\",md5:this.getHeader(\"content-md5\")||\"\",amazonHeaders:aws2.canonicalizeHeaders(this.headers)},n=this.uri.path;e.bucket&&n?o.resource=\"/\"+e.bucket+n:e.bucket&&!n?o.resource=\"/\"+e.bucket:!e.bucket&&n?o.resource=n:e.bucket||n||(o.resource=\"/\"),o.resource=aws2.canonicalizeResource(o.resource),this.setHeader(\"authorization\",aws2.authorization(o))}return this},Request.prototype.httpSignature=function(e){var t=this;return httpSignature.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),debug(\"httpSignature authorization\",t.getHeader(\"authorization\")),t},Request.prototype.hawk=function(e){this.setHeader(\"Authorization\",hawk.client.header(this.uri,this.method,e).field)},Request.prototype.oauth=function(e){return this._oauth.onRequest(e),this},Request.prototype.jar=function(e){var t;if(0===this._redirect.redirectsFollowed&&(this.originalCookieHeader=this.getHeader(\"cookie\")),e){var r=e&&e.getCookieString?e:globalCookieJar,i=this.uri.href;r&&(t=r.getCookieString(i))}else t=!1,this._disableCookies=!0;return t&&t.length&&(this.originalCookieHeader?this.setHeader(\"cookie\",this.originalCookieHeader+\"; \"+t):this.setHeader(\"cookie\",t)),this._jar=e,this},Request.prototype.pipe=function(e,t){if(!this.response)return this.dests.push(e),stream.Stream.prototype.pipe.call(this,e,t),e;if(this._destdata)this.emit(\"error\",new Error(\"You cannot pipe after data has been emitted from the response.\"));else{if(!this._ended)return stream.Stream.prototype.pipe.call(this,e,t),this.pipeDest(e),e;this.emit(\"error\",new Error(\"You cannot pipe after the response has been ended.\"))}},Request.prototype.write=function(){if(!this._aborted)return this._started||this.start(),this.req?this.req.write.apply(this.req,arguments):void 0},Request.prototype.end=function(e){this._aborted||(e&&this.write(e),this._started||this.start(),this.req&&this.req.end())},Request.prototype.pause=function(){this.responseContent?this.responseContent.pause.apply(this.responseContent,arguments):this._paused=!0},Request.prototype.resume=function(){this.responseContent?this.responseContent.resume.apply(this.responseContent,arguments):this._paused=!1},Request.prototype.destroy=function(){this._ended?this.response&&this.response.destroy():this.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request;","node_modules/tough-cookie/lib/cookie.js":"\"use strict\";var punycode,net=require(\"net\"),urlParse=require(\"url\").parse,pubsuffix=require(\"./pubsuffix\"),Store=require(\"./store\").Store,MemoryCookieStore=require(\"./memstore\").MemoryCookieStore,pathMatch=require(\"./pathMatch\").pathMatch,VERSION=require(\"../package.json\").version;try{punycode=require(\"punycode\")}catch(e){console.warn(\"cookie: can't load punycode; won't use punycode for domain normalization\")}var DATE_DELIM=/[\\x09\\x20-\\x2F\\x3B-\\x40\\x5B-\\x60\\x7B-\\x7E]/,COOKIE_OCTET=/[\\x21\\x23-\\x2B\\x2D-\\x3A\\x3C-\\x5B\\x5D-\\x7E]/,COOKIE_OCTETS=new RegExp(\"^\"+COOKIE_OCTET.source+\"+$\"),CONTROL_CHARS=/[\\x00-\\x1F]/,COOKIE_PAIR=/^(([^=;]+))\\s{0,256}=\\s*([^\\n\\r\\0]*)/,LOOSE_COOKIE_PAIR=/^((?:=)?([^=;]*)\\s{0,256}=\\s*)?([^\\n\\r\\0]*)/,PATH_VALUE=/[\\x20-\\x3A\\x3C-\\x7E]+/,DAY_OF_MONTH=/^(\\d{1,2})[^\\d]*$/,TIME=/^(\\d{1,2})[^\\d]*:(\\d{1,2})[^\\d]*:(\\d{1,2})[^\\d]*$/,MONTH=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},NUM_TO_MONTH=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],NUM_TO_DAY=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],YEAR=/^(\\d{2}|\\d{4})$/,MAX_TIME=2147483647e3,MIN_TIME=0;function parseDate(e){if(e){var t=e.split(DATE_DELIM);if(t){for(var o=null,r=null,i=null,n=null,a=null,s=null,u=0;u<t.length;u++){var l=t[u].trim();if(l.length){var c;if(null===i&&(c=TIME.exec(l))){if(o=parseInt(c[1],10),r=parseInt(c[2],10),i=parseInt(c[3],10),o>23||r>59||i>59)return}else if(null===n&&(c=DAY_OF_MONTH.exec(l))){if((n=parseInt(c,10))<1||n>31)return}else if(null===a&&(c=MONTH.exec(l)))a=MONTH_TO_NUM[c[1].toLowerCase()];else if(null===s&&(c=YEAR.exec(l))&&(70<=(s=parseInt(c[0],10))&&s<=99?s+=1900:0<=s&&s<=69&&(s+=2e3),s<1601))return}}if(null!==i&&null!==n&&null!==a&&null!==s)return new Date(Date.UTC(s,a,n,o,r,i))}}}function formatDate(e){var t=e.getUTCDate();t=t>=10?t:\"0\"+t;var o=e.getUTCHours();o=o>=10?o:\"0\"+o;var r=e.getUTCMinutes();r=r>=10?r:\"0\"+r;var i=e.getUTCSeconds();return i=i>=10?i:\"0\"+i,NUM_TO_DAY[e.getUTCDay()]+\", \"+t+\" \"+NUM_TO_MONTH[e.getUTCMonth()]+\" \"+e.getUTCFullYear()+\" \"+o+\":\"+r+\":\"+i+\" GMT\"}function canonicalDomain(e){return null==e?null:(e=e.trim().replace(/^\\./,\"\"),punycode&&/[^\\u0001-\\u007f]/.test(e)&&(e=punycode.toASCII(e)),e.toLowerCase())}function domainMatch(e,t,o){if(null==e||null==t)return null;if(!1!==o&&(e=canonicalDomain(e),t=canonicalDomain(t)),e==t)return!0;if(net.isIP(e))return!1;var r=e.indexOf(t);return!(r<=0)&&(e.length===t.length+r&&\".\"===e.substr(r-1,1))}function defaultPath(e){if(!e||\"/\"!==e.substr(0,1))return\"/\";if(\"/\"===e)return e;var t=e.lastIndexOf(\"/\");return 0===t?\"/\":e.slice(0,t)}function parse(e,t){t&&\"object\"==typeof t||(t={});var o=(e=e.trim()).indexOf(\";\"),r=(t.loose?LOOSE_COOKIE_PAIR:COOKIE_PAIR).exec(-1===o?e:e.substr(0,o));if(r){var i=new Cookie;if(r[1]?i.key=r[2].trim():i.key=\"\",i.value=r[3].trim(),!CONTROL_CHARS.test(i.key)&&!CONTROL_CHARS.test(i.value)){if(-1===o)return i;var n=e.slice(o+1).trim();if(0===n.length)return i;for(var a=n.split(\";\");a.length;){var s=a.shift().trim();if(0!==s.length){var u,l,c=s.indexOf(\"=\");switch(-1===c?(u=s,l=null):(u=s.substr(0,c),l=s.substr(c+1)),u=u.trim().toLowerCase(),l&&(l=l.trim()),u){case\"expires\":if(l){var p=parseDate(l);p&&(i.expires=p)}break;case\"max-age\":if(l&&/^-?[0-9]+$/.test(l)){var f=parseInt(l,10);i.setMaxAge(f)}break;case\"domain\":if(l){var h=l.trim().replace(/^\\./,\"\");h&&(i.domain=h.toLowerCase())}break;case\"path\":i.path=l&&\"/\"===l[0]?l:null;break;case\"secure\":i.secure=!0;break;case\"httponly\":i.httpOnly=!0;break;default:i.extensions=i.extensions||[],i.extensions.push(s)}}}return i}}}function jsonParse(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}function fromJSON(e){if(!e)return null;var t;if(\"string\"==typeof e){if((t=jsonParse(e))instanceof Error)return null}else t=e;for(var o=new Cookie,r=0;r<Cookie.serializableProperties.length;r++){var i=Cookie.serializableProperties[r];void 0!==t[i]&&t[i]!==Cookie.prototype[i]&&(\"expires\"===i||\"creation\"===i||\"lastAccessed\"===i?null===t[i]?o[i]=null:o[i]=\"Infinity\"==t[i]?\"Infinity\":new Date(t[i]):o[i]=t[i])}return o}function cookieCompare(e,t){var o=0,r=e.path?e.path.length:0;if(0!=(o=(t.path?t.path.length:0)-r))return o;return 0!=(o=(e.creation?e.creation.getTime():MAX_TIME)-(t.creation?t.creation.getTime():MAX_TIME))?o:o=e.creationIndex-t.creationIndex}function permutePath(e){if(\"/\"===e)return[\"/\"];e.lastIndexOf(\"/\")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var o=e.lastIndexOf(\"/\");if(0===o)break;e=e.substr(0,o),t.push(e)}return t.push(\"/\"),t}function getCookieContext(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return urlParse(e)}function Cookie(e){e=e||{},Object.keys(e).forEach(function(t){Cookie.prototype.hasOwnProperty(t)&&Cookie.prototype[t]!==e[t]&&\"_\"!==t.substr(0,1)&&(this[t]=e[t])},this),this.creation=this.creation||new Date,Object.defineProperty(this,\"creationIndex\",{configurable:!1,enumerable:!1,writable:!0,value:++Cookie.cookiesCreated})}Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.prototype.key=\"\",Cookie.prototype.value=\"\",Cookie.prototype.expires=\"Infinity\",Cookie.prototype.maxAge=null,Cookie.prototype.domain=null,Cookie.prototype.path=null,Cookie.prototype.secure=!1,Cookie.prototype.httpOnly=!1,Cookie.prototype.extensions=null,Cookie.prototype.hostOnly=null,Cookie.prototype.pathIsDefault=null,Cookie.prototype.creation=null,Cookie.prototype.lastAccessed=null,Object.defineProperty(Cookie.prototype,\"creationIndex\",{configurable:!0,enumerable:!1,writable:!0,value:0}),Cookie.serializableProperties=Object.keys(Cookie.prototype).filter(function(e){return!(Cookie.prototype[e]instanceof Function||\"creationIndex\"===e||\"_\"===e.substr(0,1))}),Cookie.prototype.inspect=function(){var e=Date.now();return'Cookie=\"'+this.toString()+\"; hostOnly=\"+(null!=this.hostOnly?this.hostOnly:\"?\")+\"; aAge=\"+(this.lastAccessed?e-this.lastAccessed.getTime()+\"ms\":\"?\")+\"; cAge=\"+(this.creation?e-this.creation.getTime()+\"ms\":\"?\")+'\"'},Cookie.prototype.toJSON=function(){for(var e={},t=Cookie.serializableProperties,o=0;o<t.length;o++){var r=t[o];this[r]!==Cookie.prototype[r]&&(\"expires\"===r||\"creation\"===r||\"lastAccessed\"===r?null===this[r]?e[r]=null:e[r]=\"Infinity\"==this[r]?\"Infinity\":this[r].toISOString():\"maxAge\"===r?null!==this[r]&&(e[r]=this[r]==1/0||this[r]==-1/0?this[r].toString():this[r]):this[r]!==Cookie.prototype[r]&&(e[r]=this[r]))}return e},Cookie.prototype.clone=function(){return fromJSON(this.toJSON())},Cookie.prototype.validate=function(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\\.$/))return!1;if(null==pubsuffix.getPublicSuffix(e))return!1}return!0},Cookie.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=parseDate(e)||\"Infinity\"},Cookie.prototype.setMaxAge=function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e},Cookie.prototype.cookieString=function(){var e=this.value;return null==e&&(e=\"\"),\"\"===this.key?e:this.key+\"=\"+e},Cookie.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?e+=\"; Expires=\"+formatDate(this.expires):e+=\"; Expires=\"+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+=\"; Max-Age=\"+this.maxAge),this.domain&&!this.hostOnly&&(e+=\"; Domain=\"+this.domain),this.path&&(e+=\"; Path=\"+this.path),this.secure&&(e+=\"; Secure\"),this.httpOnly&&(e+=\"; HttpOnly\"),this.extensions&&this.extensions.forEach(function(t){e+=\"; \"+t}),e},Cookie.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=parseDate(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},Cookie.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,o=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+o}return this.expires==1/0?1/0:this.expires.getTime()},Cookie.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(MAX_TIME):t==-1/0?new Date(MIN_TIME):new Date(t)},Cookie.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},Cookie.prototype.cdomain=Cookie.prototype.canonicalizedDomain=function(){return null==this.domain?null:canonicalDomain(this.domain)};function CookieJar(e,t){\"boolean\"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new MemoryCookieStore),this.store=e}CookieJar.prototype.store=null,CookieJar.prototype.rejectPublicSuffixes=!0,CookieJar.prototype.enableLooseMode=!1;var CAN_BE_SYNC=[];CAN_BE_SYNC.push(\"setCookie\"),CookieJar.prototype.setCookie=function(e,t,o,r){var i,n=getCookieContext(t);o instanceof Function&&(r=o,o={});var a=canonicalDomain(n.hostname),s=this.enableLooseMode;if(null!=o.loose&&(s=o.loose),e instanceof Cookie||(e=Cookie.parse(e,{loose:s})),!e)return i=new Error(\"Cookie failed to parse\"),r(o.ignoreError?null:i);var u=o.now||new Date;if(this.rejectPublicSuffixes&&e.domain){if(null==pubsuffix.getPublicSuffix(e.cdomain()))return i=new Error(\"Cookie has domain set to a public suffix\"),r(o.ignoreError?null:i)}if(e.domain){if(!domainMatch(a,e.cdomain(),!1))return i=new Error(\"Cookie not in this host's domain. Cookie:\"+e.cdomain()+\" Request:\"+a),r(o.ignoreError?null:i);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&\"/\"===e.path[0]||(e.path=defaultPath(n.pathname),e.pathIsDefault=!0),!1===o.http&&e.httpOnly)return i=new Error(\"Cookie is HttpOnly and this isn't an HTTP API\"),r(o.ignoreError?null:i);var l=this.store;l.updateCookie||(l.updateCookie=function(e,t,o){this.putCookie(t,o)});l.findCookie(e.domain,e.path,e.key,function(t,i){if(t)return r(t);var n=function(t){if(t)return r(t);r(null,e)};if(i){if(!1===o.http&&i.httpOnly)return t=new Error(\"old Cookie is HttpOnly and this isn't an HTTP API\"),r(o.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=u,l.updateCookie(i,e,n)}else e.creation=e.lastAccessed=u,l.putCookie(e,n)})},CAN_BE_SYNC.push(\"getCookies\"),CookieJar.prototype.getCookies=function(e,t,o){var r=getCookieContext(e);t instanceof Function&&(o=t,t={});var i=canonicalDomain(r.hostname),n=r.pathname||\"/\",a=t.secure;null!=a||!r.protocol||\"https:\"!=r.protocol&&\"wss:\"!=r.protocol||(a=!0);var s=t.http;null==s&&(s=!0);var u=t.now||Date.now(),l=!1!==t.expire,c=!!t.allPaths,p=this.store;function f(e){if(e.hostOnly){if(e.domain!=i)return!1}else if(!domainMatch(i,e.domain,!1))return!1;return!(!c&&!pathMatch(n,e.path))&&(!(e.secure&&!a)&&(!(e.httpOnly&&!s)&&(!(l&&e.expiryTime()<=u)||(p.removeCookie(e.domain,e.path,e.key,function(){}),!1))))}p.findCookies(i,c?null:n,function(e,r){if(e)return o(e);r=r.filter(f),!1!==t.sort&&(r=r.sort(cookieCompare));var i=new Date;r.forEach(function(e){e.lastAccessed=i}),o(null,r)})},CAN_BE_SYNC.push(\"getCookieString\"),CookieJar.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,o){e?t(e):t(null,o.sort(cookieCompare).map(function(e){return e.cookieString()}).join(\"; \"))}),this.getCookies.apply(this,e)},CAN_BE_SYNC.push(\"getSetCookieStrings\"),CookieJar.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,o){e?t(e):t(null,o.map(function(e){return e.toString()}))}),this.getCookies.apply(this,e)},CAN_BE_SYNC.push(\"serialize\"),CookieJar.prototype.serialize=function(e){var t=this.store.constructor.name;\"Object\"===t&&(t=null);var o={version:\"tough-cookie@\"+VERSION,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||\"function\"!=typeof this.store.getAllCookies)return e(new Error(\"store does not support getAllCookies and cannot be serialized\"));this.store.getAllCookies(function(t,r){return t?e(t):(o.cookies=r.map(function(e){return e=e instanceof Cookie?e.toJSON():e,delete e.creationIndex,e}),e(null,o))})},CookieJar.prototype.toJSON=function(){return this.serializeSync()},CAN_BE_SYNC.push(\"_importCookies\"),CookieJar.prototype._importCookies=function(e,t){var o=this,r=e.cookies;if(!r||!Array.isArray(r))return t(new Error(\"serialized jar has no cookies array\"));r=r.slice();function i(e){if(e)return t(e);if(!r.length)return t(e,o);var n;try{n=fromJSON(r.shift())}catch(e){return t(e)}if(null===n)return i(null);o.store.putCookie(n,i)}i()},CookieJar.deserialize=function(e,t,o){3!==arguments.length&&(o=t,t=null);var r;if(\"string\"==typeof e){if((r=jsonParse(e))instanceof Error)return o(r)}else r=e;var i=new CookieJar(t,r.rejectPublicSuffixes);i._importCookies(r,function(e){if(e)return o(e);o(null,i)})},CookieJar.deserializeSync=function(e,t){var o=\"string\"==typeof e?JSON.parse(e):e,r=new CookieJar(t,o.rejectPublicSuffixes);if(!r.store.synchronous)throw new Error(\"CookieJar store is not synchronous; use async API instead.\");return r._importCookiesSync(o),r},CookieJar.fromJSON=CookieJar.deserializeSync,CAN_BE_SYNC.push(\"clone\"),CookieJar.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize(function(o,r){if(o)return t(o);CookieJar.deserialize(e,r,t)})};function syncWrap(e){return function(){if(!this.store.synchronous)throw new Error(\"CookieJar store is not synchronous; use async API instead.\");var t,o,r=Array.prototype.slice.call(arguments);if(r.push(function(e,r){t=e,o=r}),this[e].apply(this,r),t)throw t;return o}}CAN_BE_SYNC.forEach(function(e){CookieJar.prototype[e+\"Sync\"]=syncWrap(e)}),module.exports={CookieJar:CookieJar,Cookie:Cookie,Store:Store,MemoryCookieStore:MemoryCookieStore,parseDate:parseDate,formatDate:formatDate,parse:parse,fromJSON:fromJSON,domainMatch:domainMatch,defaultPath:defaultPath,pathMatch:pathMatch,getPublicSuffix:pubsuffix.getPublicSuffix,cookieCompare:cookieCompare,permuteDomain:require(\"./permuteDomain\").permuteDomain,permutePath:permutePath,canonicalDomain:canonicalDomain};","node_modules/tough-cookie/lib/pubsuffix.js":"\"use strict\";var punycode=require(\"punycode\");module.exports.getPublicSuffix=function(e){if(!e)return null;if(e.match(/^\\./))return null;var r=punycode.toASCII(e),n=!1;if(r!==e&&(e=r,n=!0),index[e])return null;for(var u=(e=e.toLowerCase()).split(\".\").reverse(),i=\"\",t=0,l=0;l<u.length;l++){var o=u[l]+i;index[\"*\"+i]?(t=l+1,!1===index[o]&&t--):index[o]&&(t=l+1),i=\".\"+o}if(index[\"*\"+i])return null;if(t=t||1,u.length>t){var d=u.slice(0,t+1).reverse().join(\".\");return n?punycode.toUnicode(d):d}return null};var index=module.exports.index=Object.freeze({com:1,org:1,pl:1,de:1});","node_modules/tough-cookie/lib/store.js":"\"use strict\";function Store(){}exports.Store=Store,Store.prototype.synchronous=!1,Store.prototype.findCookie=function(o,e,t,r){throw new Error(\"findCookie is not implemented\")},Store.prototype.findCookies=function(o,e,t){throw new Error(\"findCookies is not implemented\")},Store.prototype.putCookie=function(o,e){throw new Error(\"putCookie is not implemented\")},Store.prototype.updateCookie=function(o,e,t){throw new Error(\"updateCookie is not implemented\")},Store.prototype.removeCookie=function(o,e,t,r){throw new Error(\"removeCookie is not implemented\")},Store.prototype.removeCookies=function(o,e,t){throw new Error(\"removeCookies is not implemented\")},Store.prototype.getAllCookies=function(o){throw new Error(\"getAllCookies is not implemented (therefore jar cannot be serialized)\")};","node_modules/tough-cookie/lib/memstore.js":"\"use strict\";var Store=require(\"./store\").Store,permuteDomain=require(\"./permuteDomain\").permuteDomain,pathMatch=require(\"./pathMatch\").pathMatch,util=require(\"util\");function MemoryCookieStore(){Store.call(this),this.idx={}}util.inherits(MemoryCookieStore,Store),exports.MemoryCookieStore=MemoryCookieStore,MemoryCookieStore.prototype.idx=null,MemoryCookieStore.prototype.synchronous=!0,MemoryCookieStore.prototype.inspect=function(){return\"{ idx: \"+util.inspect(this.idx,!1,2)+\" }\"},MemoryCookieStore.prototype.findCookie=function(o,t,e,i){return this.idx[o]&&this.idx[o][t]?i(null,this.idx[o][t][e]||null):i(null,void 0)},MemoryCookieStore.prototype.findCookies=function(o,t,e){var i=[];if(!o)return e(null,[]);var r;r=t?function(o){Object.keys(o).forEach(function(e){if(pathMatch(t,e)){var r=o[e];for(var n in r)i.push(r[n])}})}:function(o){for(var t in o){var e=o[t];for(var r in e)i.push(e[r])}};var n=permuteDomain(o)||[o],u=this.idx;n.forEach(function(o){var t=u[o];t&&r(t)}),e(null,i)},MemoryCookieStore.prototype.putCookie=function(o,t){this.idx[o.domain]||(this.idx[o.domain]={}),this.idx[o.domain][o.path]||(this.idx[o.domain][o.path]={}),this.idx[o.domain][o.path][o.key]=o,t(null)},MemoryCookieStore.prototype.updateCookie=function(o,t,e){this.putCookie(t,e)},MemoryCookieStore.prototype.removeCookie=function(o,t,e,i){this.idx[o]&&this.idx[o][t]&&this.idx[o][t][e]&&delete this.idx[o][t][e],i(null)},MemoryCookieStore.prototype.removeCookies=function(o,t,e){return this.idx[o]&&(t?delete this.idx[o][t]:delete this.idx[o]),e(null)},MemoryCookieStore.prototype.getAllCookies=function(o){var t=[],e=this.idx;Object.keys(e).forEach(function(o){Object.keys(e[o]).forEach(function(i){Object.keys(e[o][i]).forEach(function(r){null!==r&&t.push(e[o][i][r])})})}),t.sort(function(o,t){return(o.creationIndex||0)-(t.creationIndex||0)}),o(null,t)};","node_modules/tough-cookie/lib/pathMatch.js":"\"use strict\";function pathMatch(t,r){if(r===t)return!0;if(0===t.indexOf(r)){if(\"/\"===r.substr(-1))return!0;if(\"/\"===t.substr(r.length,1))return!0}return!1}exports.pathMatch=pathMatch;","node_modules/tough-cookie/package.json":{"_from":"tough-cookie@~2.3.3","_id":"tough-cookie@2.3.3","_inBundle":false,"_integrity":"sha1-C2GKVWW23qkL80JdBNVe3EdadWE=","_location":"/tough-cookie","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"tough-cookie@~2.3.3","name":"tough-cookie","escapedName":"tough-cookie","rawSpec":"~2.3.3","saveSpec":null,"fetchSpec":"~2.3.3"},"_requiredBy":["/request","/twilio/request"],"_resolved":"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.3.tgz","_shasum":"0b618a5565b6dea90bf3425d04d55edc475a7561","_spec":"tough-cookie@~2.3.3","_where":"c:\\Workspace\\walkner\\walkner-maxos\\node_modules\\request","author":{"name":"Jeremy Stashewsky","email":"jstashewsky@salesforce.com"},"bugs":{"url":"https://github.com/salesforce/tough-cookie/issues"},"bundleDependencies":false,"contributors":[{"name":"Alexander Savin"},{"name":"Ian Livingstone"},{"name":"Ivan Nikulin"},{"name":"Lalit Kapoor"},{"name":"Sam Thompson"},{"name":"Sebastian Mayr"}],"dependencies":{"punycode":"^1.4.1"},"deprecated":false,"description":"RFC6265 Cookies and Cookie Jar for node.js","devDependencies":{"async":"^1.4.2","string.prototype.repeat":"^0.2.0","vows":"^0.8.1"},"engines":{"node":">=0.8"},"files":["lib"],"homepage":"https://github.com/salesforce/tough-cookie","keywords":["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],"license":"BSD-3-Clause","main":"./lib/cookie","name":"tough-cookie","repository":{"type":"git","url":"git://github.com/salesforce/tough-cookie.git"},"scripts":{"suffixup":"curl -o public_suffix_list.dat https://publicsuffix.org/list/public_suffix_list.dat && ./generate-pubsuffix.js","test":"vows test/*_test.js"},"version":"2.3.3"},"node_modules/tough-cookie/lib/permuteDomain.js":"\"use strict\";var pubsuffix=require(\"./pubsuffix\");function permuteDomain(e){var r=pubsuffix.getPublicSuffix(e);if(!r)return null;if(r==e)return[e];for(var u=e.slice(0,-(r.length+1)).split(\".\").reverse(),i=r,t=[i];u.length;)i=u.shift()+\".\"+i,t.push(i);return t}exports.permuteDomain=permuteDomain;","node_modules/json-stringify-safe/stringify.js":"exports=module.exports=stringify,exports.getSerialize=serializer;function stringify(i,r,e,n){return JSON.stringify(i,serializer(r,n),e)}function serializer(i,r){var e=[],n=[];return null==r&&(r=function(i,r){return e[0]===r?\"[Circular ~]\":\"[Circular ~.\"+n.slice(0,e.indexOf(r)).join(\".\")+\"]\"}),function(l,s){if(e.length>0){var t=e.indexOf(this);~t?e.splice(t+1):e.push(this),~t?n.splice(t,1/0,l):n.push(l),~e.indexOf(s)&&(s=r.call(this,l,s))}else e.push(s);return null==i?s:i.call(this,l,s)}}","node_modules/safe-buffer/index.js":"var buffer=require(\"buffer\"),Buffer=buffer.Buffer;function copyProps(f,r){for(var e in f)r[e]=f[e]}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer);function SafeBuffer(f,r,e){return Buffer(f,r,e)}copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(f,r,e){if(\"number\"==typeof f)throw new TypeError(\"Argument must not be a number\");return Buffer(f,r,e)},SafeBuffer.alloc=function(f,r,e){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");var u=Buffer(f);return void 0!==r?\"string\"==typeof e?u.fill(r,e):u.fill(r):u.fill(0),u},SafeBuffer.allocUnsafe=function(f){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");return Buffer(f)},SafeBuffer.allocUnsafeSlow=function(f){if(\"number\"!=typeof f)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(f)};","node_modules/hawk/lib/index.js":"\"use strict\";exports.error=exports.Error=require(\"boom\"),exports.sntp=require(\"sntp\"),exports.server=require(\"./server\"),exports.client=require(\"./client\"),exports.crypto=require(\"./crypto\"),exports.utils=require(\"./utils\"),exports.uri={authenticate:exports.server.authenticateBewit,getBewit:exports.client.getBewit};","node_modules/aws-sign2/index.js":"var crypto=require(\"crypto\"),parse=require(\"url\").parse,keys=[\"acl\",\"location\",\"logging\",\"notification\",\"partNumber\",\"policy\",\"requestPayment\",\"torrent\",\"uploadId\",\"uploads\",\"versionId\",\"versioning\",\"versions\",\"website\"];function authorization(e){return\"AWS \"+e.key+\":\"+sign(e)}module.exports=authorization,module.exports.authorization=authorization;function hmacSha1(e){return crypto.createHmac(\"sha1\",e.secret).update(e.message).digest(\"base64\")}module.exports.hmacSha1=hmacSha1;function sign(e){return e.message=stringToSign(e),hmacSha1(e)}module.exports.sign=sign;function signQuery(e){return e.message=queryStringToSign(e),hmacSha1(e)}module.exports.signQuery=signQuery;function stringToSign(e){var n=e.amazonHeaders||\"\";n&&(n+=\"\\n\");return[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():\"\",n+e.resource].join(\"\\n\")}module.exports.stringToSign=stringToSign;function queryStringToSign(e){return\"GET\\n\\n\\n\"+e.date+\"\\n\"+e.resource}module.exports.queryStringToSign=queryStringToSign;function canonicalizeHeaders(e){for(var n=[],r=Object.keys(e),o=0,t=r.length;o<t;++o){var i,a=e[i=r[o]];0===(i=i.toLowerCase()).indexOf(\"x-amz\")&&n.push(i+\":\"+a)}return n.sort().join(\"\\n\")}module.exports.canonicalizeHeaders=canonicalizeHeaders;function canonicalizeResource(e){var n=parse(e,!0),r=n.pathname,o=[];return Object.keys(n.query).forEach(function(e){if(~keys.indexOf(e)){var r=\"\"==n.query[e]?\"\":\"=\"+encodeURIComponent(n.query[e]);o.push(e+r)}}),r+(o.length?\"?\"+o.sort().join(\"&\"):\"\")}module.exports.canonicalizeResource=canonicalizeResource;","node_modules/aws4/aws4.js":"var aws4=exports,url=require(\"url\"),querystring=require(\"querystring\"),crypto=require(\"crypto\"),lru=require(\"./lru\"),credentialsCache=lru(1e3);function hmac(e,t,s){return crypto.createHmac(\"sha256\",e).update(t,\"utf8\").digest(s)}function hash(e,t){return crypto.createHash(\"sha256\").update(e,\"utf8\").digest(t)}function encodeRfc3986(e){return e.replace(/[!'()*]/g,function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(e,t){\"string\"==typeof e&&(e=url.parse(e));var s=e.headers=e.headers||{},i=this.matchHost(e.hostname||e.host||s.Host||s.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||i[0]||\"\",this.region=e.region||i[1]||\"us-east-1\",\"email\"===this.service&&(this.service=\"ses\"),!e.method&&e.body&&(e.method=\"POST\"),s.Host||s.host||(s.Host=e.hostname||e.host||this.createHost(),e.port&&(s.Host+=\":\"+e.port)),e.hostname||e.host||(e.hostname=s.Host||s.host),this.isCodeCommitGit=\"codecommit\"===this.service&&\"GIT\"===e.method}RequestSigner.prototype.matchHost=function(e){var t=((e||\"\").match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/)||[]).slice(1,3);return\"es\"===t[1]&&(t=t.reverse()),t},RequestSigner.prototype.isSingleRegion=function(){return[\"s3\",\"sdb\"].indexOf(this.service)>=0&&\"us-east-1\"===this.region||[\"cloudfront\",\"ls\",\"route53\",\"iam\",\"importexport\",\"sts\"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var e=this.isSingleRegion()?\"\":(\"s3\"===this.service&&\"us-east-1\"!==this.region?\"-\":\".\")+this.region;return(\"ses\"===this.service?\"email\":this.service)+e+\".amazonaws.com\"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var e,t=this.request,s=t.headers;t.signQuery?(this.parsedPath.query=e=this.parsedPath.query||{},this.credentials.sessionToken&&(e[\"X-Amz-Security-Token\"]=this.credentials.sessionToken),\"s3\"!==this.service||e[\"X-Amz-Expires\"]||(e[\"X-Amz-Expires\"]=86400),e[\"X-Amz-Date\"]?this.datetime=e[\"X-Amz-Date\"]:e[\"X-Amz-Date\"]=this.getDateTime(),e[\"X-Amz-Algorithm\"]=\"AWS4-HMAC-SHA256\",e[\"X-Amz-Credential\"]=this.credentials.accessKeyId+\"/\"+this.credentialString(),e[\"X-Amz-SignedHeaders\"]=this.signedHeaders()):(t.doNotModifyHeaders||this.isCodeCommitGit||(!t.body||s[\"Content-Type\"]||s[\"content-type\"]||(s[\"Content-Type\"]=\"application/x-www-form-urlencoded; charset=utf-8\"),!t.body||s[\"Content-Length\"]||s[\"content-length\"]||(s[\"Content-Length\"]=Buffer.byteLength(t.body)),!this.credentials.sessionToken||s[\"X-Amz-Security-Token\"]||s[\"x-amz-security-token\"]||(s[\"X-Amz-Security-Token\"]=this.credentials.sessionToken),\"s3\"!==this.service||s[\"X-Amz-Content-Sha256\"]||s[\"x-amz-content-sha256\"]||(s[\"X-Amz-Content-Sha256\"]=hash(this.request.body||\"\",\"hex\")),s[\"X-Amz-Date\"]||s[\"x-amz-date\"]?this.datetime=s[\"X-Amz-Date\"]||s[\"x-amz-date\"]:s[\"X-Amz-Date\"]=this.getDateTime()),delete s.Authorization,delete s.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query[\"X-Amz-Signature\"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\\-]|\\.\\d{3}/g,\"\"),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return[\"AWS4-HMAC-SHA256 Credential=\"+this.credentials.accessKeyId+\"/\"+this.credentialString(),\"SignedHeaders=\"+this.signedHeaders(),\"Signature=\"+this.signature()].join(\", \")},RequestSigner.prototype.signature=function(){var e=this.getDate(),t=[this.credentials.secretAccessKey,e,this.region,this.service].join(),s=credentialsCache.get(t);return s||(s=hmac(hmac(hmac(hmac(\"AWS4\"+this.credentials.secretAccessKey,e),this.region),this.service),\"aws4_request\"),credentialsCache.set(t,s)),hmac(s,this.stringToSign(),\"hex\")},RequestSigner.prototype.stringToSign=function(){return[\"AWS4-HMAC-SHA256\",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),\"hex\")].join(\"\\n\")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,s=this.parsedPath.query,i=this.request.headers,r=\"\",n=\"s3\"!==this.service,a=\"s3\"===this.service||this.request.doNotEncodePath,o=\"s3\"===this.service,h=\"s3\"===this.service;return e=\"s3\"===this.service&&this.request.signQuery?\"UNSIGNED-PAYLOAD\":this.isCodeCommitGit?\"\":i[\"X-Amz-Content-Sha256\"]||i[\"x-amz-content-sha256\"]||hash(this.request.body||\"\",\"hex\"),s&&(r=encodeRfc3986(querystring.stringify(Object.keys(s).sort().reduce(function(e,t){return t?(e[t]=Array.isArray(s[t])?h?s[t][0]:s[t].slice().sort():s[t],e):e},{})))),\"/\"!==t&&(n&&(t=t.replace(/\\/{2,}/g,\"/\")),\"/\"!==(t=t.split(\"/\").reduce(function(e,t){return n&&\"..\"===t?e.pop():n&&\".\"===t||(a&&(t=querystring.unescape(t)),e.push(encodeRfc3986(querystring.escape(t)))),e},[]).join(\"/\"))[0]&&(t=\"/\"+t),o&&(t=t.replace(/%2F/g,\"/\"))),[this.request.method||\"GET\",t,r,this.canonicalHeaders()+\"\\n\",this.signedHeaders(),e].join(\"\\n\")},RequestSigner.prototype.canonicalHeaders=function(){var e=this.request.headers;return Object.keys(e).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}).map(function(t){return t.toLowerCase()+\":\"+function(e){return e.toString().trim().replace(/\\s+/g,\" \")}(e[t])}).join(\"\\n\")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(e){return e.toLowerCase()}).sort().join(\";\")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,\"aws4_request\"].join(\"/\")},RequestSigner.prototype.defaultCredentials=function(){var e=process.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var e=this.request.path||\"/\",t=e.indexOf(\"?\"),s=null;t>=0&&(s=querystring.parse(e.slice(t+1)),e=e.slice(0,t)),/[^0-9A-Za-z!'()*\\-._~%/]/.test(e)&&(e=e.split(\"/\").map(function(e){return querystring.escape(querystring.unescape(e))}).join(\"/\")),this.parsedPath={path:e,query:s}},RequestSigner.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[\"\"]&&delete t[\"\"],e+\"?\"+encodeRfc3986(querystring.stringify(t))):e},aws4.RequestSigner=RequestSigner,aws4.sign=function(e,t){return new RequestSigner(e,t).sign()};","node_modules/http-signature/lib/index.js":"var parser=require(\"./parser\"),signer=require(\"./signer\"),verify=require(\"./verify\"),utils=require(\"./utils\");module.exports={parse:parser.parseRequest,parseRequest:parser.parseRequest,sign:signer.signRequest,signRequest:signer.signRequest,createSigner:signer.createSigner,isSigner:signer.isSigner,sshKeyToPEM:utils.sshKeyToPEM,sshKeyFingerprint:utils.fingerprint,pemToRsaSSHKey:utils.pemToRsaSSHKey,verify:verify.verifySignature,verifySignature:verify.verifySignature,verifyHMAC:verify.verifyHMAC};","node_modules/mime-types/index.js":"\"use strict\";var db=require(\"mime-db\"),extname=require(\"path\").extname,EXTRACT_TYPE_REGEXP=/^\\s*([^;\\s]*)(?:;|\\s|$)/,TEXT_TYPE_REGEXP=/^text\\//i;exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=contentType,exports.extension=extension,exports.extensions=Object.create(null),exports.lookup=lookup,exports.types=Object.create(null),populateMaps(exports.extensions,exports.types);function charset(e){if(!e||\"string\"!=typeof e)return!1;var t=EXTRACT_TYPE_REGEXP.exec(e),r=t&&db[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!TEXT_TYPE_REGEXP.test(t[1]))&&\"UTF-8\"}function contentType(e){if(!e||\"string\"!=typeof e)return!1;var t=-1===e.indexOf(\"/\")?exports.lookup(e):e;if(!t)return!1;if(-1===t.indexOf(\"charset\")){var r=exports.charset(t);r&&(t+=\"; charset=\"+r.toLowerCase())}return t}function extension(e){if(!e||\"string\"!=typeof e)return!1;var t=EXTRACT_TYPE_REGEXP.exec(e),r=t&&exports.extensions[t[1].toLowerCase()];return!(!r||!r.length)&&r[0]}function lookup(e){if(!e||\"string\"!=typeof e)return!1;var t=extname(\"x.\"+e).toLowerCase().substr(1);return!!t&&(exports.types[t]||!1)}function populateMaps(e,t){var r=[\"nginx\",\"apache\",void 0,\"iana\"];Object.keys(db).forEach(function(n){var o=db[n],s=o.extensions;if(s&&s.length){e[n]=s;for(var a=0;a<s.length;a++){var i=s[a];if(t[i]){var p=r.indexOf(db[t[i]].source),c=r.indexOf(o.source);if(\"application/octet-stream\"!==t[i]&&(p>c||p===c&&\"application/\"===t[i].substr(0,12)))continue}t[i]=n}}})}","node_modules/stringstream/stringstream.js":"var util=require(\"util\"),Stream=require(\"stream\"),StringDecoder=require(\"string_decoder\").StringDecoder;module.exports=StringStream,module.exports.AlignedStringDecoder=AlignedStringDecoder;function StringStream(t,e){if(!(this instanceof StringStream))return new StringStream(t,e);Stream.call(this),null==t&&(t=\"utf8\"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==e?t:e,this.fromEncoding=null==e?\"\":t,this.decoder=new AlignedStringDecoder(this.toEncoding)}util.inherits(StringStream,Stream),StringStream.prototype.write=function(t){if(!this.writable){var e=new Error(\"stream not writable\");return e.code=\"EPIPE\",this.emit(\"error\",e),!1}this.fromEncoding&&(Buffer.isBuffer(t)&&(t=t.toString()),t=new Buffer(t,this.fromEncoding));var i=this.decoder.write(t);return i.length&&this.emit(\"data\",i),!this.paused},StringStream.prototype.flush=function(){if(this.decoder.flush){var t=this.decoder.flush();t.length&&this.emit(\"data\",t)}},StringStream.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit(\"end\"),this.writable=this.readable=!1,this.destroy())},StringStream.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit(\"close\")},StringStream.prototype.pause=function(){this.paused=!0},StringStream.prototype.resume=function(){this.paused&&this.emit(\"drain\"),this.paused=!1};function AlignedStringDecoder(t){switch(StringDecoder.call(this,t),this.encoding){case\"base64\":this.write=alignedWrite,this.alignedBuffer=new Buffer(3),this.alignedBytes=0}}util.inherits(AlignedStringDecoder,StringDecoder),AlignedStringDecoder.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return\"\";var t=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,t};function alignedWrite(t){var e=(this.alignedBytes+t.length)%this.alignedBuffer.length;if(!e&&!this.alignedBytes)return t.toString(this.encoding);var i=new Buffer(this.alignedBytes+t.length-e);return this.alignedBuffer.copy(i,0,0,this.alignedBytes),t.copy(i,this.alignedBytes,0,t.length-e),t.copy(this.alignedBuffer,0,t.length-e,t.length),this.alignedBytes=e,i.toString(this.encoding)}","node_modules/caseless/index.js":"function Caseless(e){this.dict=e||{}}Caseless.prototype.set=function(e,t,s){if(\"object\"!=typeof e){void 0===s&&(s=!0);var r=this.has(e);return!s&&r?this.dict[r]=this.dict[r]+\",\"+t:this.dict[r||e]=t,r}for(var i in e)this.set(i,e[i],t)},Caseless.prototype.has=function(e){for(var t=Object.keys(this.dict),s=(e=e.toLowerCase(),0);s<t.length;s++)if(t[s].toLowerCase()===e)return t[s];return!1},Caseless.prototype.get=function(e){e=e.toLowerCase();var t,s,r=this.dict;return Object.keys(r).forEach(function(i){s=i.toLowerCase(),e===s&&(t=r[i])}),t},Caseless.prototype.swap=function(e){var t=this.has(e);if(t!==e){if(!t)throw new Error('There is no header than matches \"'+e+'\"');this.dict[e]=this.dict[t],delete this.dict[t]}},Caseless.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]},module.exports=function(e){return new Caseless(e)},module.exports.httpify=function(e,t){var s=new Caseless(t);return e.setHeader=function(e,t,r){if(void 0!==t)return s.set(e,t,r)},e.hasHeader=function(e){return s.has(e)},e.getHeader=function(e){return s.get(e)},e.removeHeader=function(e){return s.del(e)},e.headers=s.dict,s};","node_modules/forever-agent/index.js":"module.exports=ForeverAgent,ForeverAgent.SSL=ForeverAgentSSL;var util=require(\"util\"),Agent=require(\"http\").Agent,net=require(\"net\"),tls=require(\"tls\"),AgentSSL=require(\"https\").Agent;function getConnectionName(e,t){return\"string\"==typeof e?e+\":\"+t:e.host+\":\"+e.port+\":\"+(e.localAddress?e.localAddress+\":\":\":\")}function ForeverAgent(e){var t=this;t.options=e||{},t.requests={},t.sockets={},t.freeSockets={},t.maxSockets=t.options.maxSockets||Agent.defaultMaxSockets,t.minSockets=t.options.minSockets||ForeverAgent.defaultMinSockets,t.on(\"free\",function(e,o,r){var s=getConnectionName(o,r);if(t.requests[s]&&t.requests[s].length)t.requests[s].shift().onSocket(e);else if(t.sockets[s].length<t.minSockets){t.freeSockets[s]||(t.freeSockets[s]=[]),t.freeSockets[s].push(e);var n=function(){e.destroy()};e._onIdleError=n,e.on(\"error\",n)}else e.destroy()})}util.inherits(ForeverAgent,Agent),ForeverAgent.defaultMinSockets=5,ForeverAgent.prototype.createConnection=net.createConnection,ForeverAgent.prototype.addRequestNoreuse=Agent.prototype.addRequest,ForeverAgent.prototype.addRequest=function(e,t,o){var r=getConnectionName(t,o);if(\"string\"!=typeof t){var s=t;o=s.port,t=s.host}if(this.freeSockets[r]&&this.freeSockets[r].length>0&&!e.useChunkedEncodingByDefault){var n=this.freeSockets[r].pop();n.removeListener(\"error\",n._onIdleError),delete n._onIdleError,e._reusedSocket=!0,e.onSocket(n)}else this.addRequestNoreuse(e,t,o)},ForeverAgent.prototype.removeSocket=function(e,t,o,r){if(this.sockets[t]){-1!==(s=this.sockets[t].indexOf(e))&&this.sockets[t].splice(s,1)}else this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);if(this.freeSockets[t]){var s;-1!==(s=this.freeSockets[t].indexOf(e))&&(this.freeSockets[t].splice(s,1),0===this.freeSockets[t].length&&delete this.freeSockets[t])}this.requests[t]&&this.requests[t].length&&this.createSocket(t,o,r).emit(\"free\")};function ForeverAgentSSL(e){ForeverAgent.call(this,e)}util.inherits(ForeverAgentSSL,ForeverAgent),ForeverAgentSSL.prototype.createConnection=createConnectionSSL,ForeverAgentSSL.prototype.addRequestNoreuse=AgentSSL.prototype.addRequest;function createConnectionSSL(e,t,o){return o=\"object\"==typeof e?e:\"object\"==typeof t?t:\"object\"==typeof o?o:{},\"number\"==typeof e&&(o.port=e),\"string\"==typeof t&&(o.host=t),tls.connect(o)}","node_modules/form-data/lib/form_data.js":"var CombinedStream=require(\"combined-stream\"),util=require(\"util\"),path=require(\"path\"),http=require(\"http\"),https=require(\"https\"),parseUrl=require(\"url\").parse,fs=require(\"fs\"),mime=require(\"mime-types\"),asynckit=require(\"asynckit\"),populate=require(\"./populate.js\");module.exports=FormData,util.inherits(FormData,CombinedStream);function FormData(t){if(!(this instanceof FormData))return new FormData;this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],CombinedStream.call(this),t=t||{};for(var e in t)this[e]=t[e]}FormData.LINE_BREAK=\"\\r\\n\",FormData.DEFAULT_CONTENT_TYPE=\"application/octet-stream\",FormData.prototype.append=function(t,e,r){\"string\"==typeof(r=r||{})&&(r={filename:r});var a=CombinedStream.prototype.append.bind(this);if(\"number\"==typeof e&&(e=\"\"+e),util.isArray(e))this._error(new Error(\"Arrays are not supported.\"));else{var o=this._multiPartHeader(t,e,r),n=this._multiPartFooter();a(o),a(e),a(n),this._trackLength(o,e,r)}},FormData.prototype._trackLength=function(t,e,r){var a=0;null!=r.knownLength?a+=+r.knownLength:Buffer.isBuffer(e)?a=e.length:\"string\"==typeof e&&(a=Buffer.byteLength(e)),this._valueLength+=a,this._overheadLength+=Buffer.byteLength(t)+FormData.LINE_BREAK.length,e&&(e.path||e.readable&&e.hasOwnProperty(\"httpVersion\"))&&(r.knownLength||this._valuesToMeasure.push(e))},FormData.prototype._lengthRetriever=function(t,e){t.hasOwnProperty(\"fd\")?void 0!=t.end&&t.end!=1/0&&void 0!=t.start?e(null,t.end+1-(t.start?t.start:0)):fs.stat(t.path,function(r,a){var o;r?e(r):(o=a.size-(t.start?t.start:0),e(null,o))}):t.hasOwnProperty(\"httpVersion\")?e(null,+t.headers[\"content-length\"]):t.hasOwnProperty(\"httpModule\")?(t.on(\"response\",function(r){t.pause(),e(null,+r.headers[\"content-length\"])}),t.resume()):e(\"Unknown stream\")},FormData.prototype._multiPartHeader=function(t,e,r){if(\"string\"==typeof r.header)return r.header;var a=this._getContentDisposition(e,r),o=this._getContentType(e,r),n=\"\",i={\"Content-Disposition\":[\"form-data\",'name=\"'+t+'\"'].concat(a||[]),\"Content-Type\":[].concat(o||[])};\"object\"==typeof r.header&&populate(i,r.header);var s;for(var h in i)i.hasOwnProperty(h)&&null!=(s=i[h])&&(Array.isArray(s)||(s=[s]),s.length&&(n+=h+\": \"+s.join(\"; \")+FormData.LINE_BREAK));return\"--\"+this.getBoundary()+FormData.LINE_BREAK+n+FormData.LINE_BREAK},FormData.prototype._getContentDisposition=function(t,e){var r,a;return\"string\"==typeof e.filepath?r=path.normalize(e.filepath).replace(/\\\\/g,\"/\"):e.filename||t.name||t.path?r=path.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty(\"httpVersion\")&&(r=path.basename(t.client._httpMessage.path)),r&&(a='filename=\"'+r+'\"'),a},FormData.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=mime.lookup(t.name)),!r&&t.path&&(r=mime.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty(\"httpVersion\")&&(r=t.headers[\"content-type\"]),r||!e.filepath&&!e.filename||(r=mime.lookup(e.filepath||e.filename)),r||\"object\"!=typeof t||(r=FormData.DEFAULT_CONTENT_TYPE),r},FormData.prototype._multiPartFooter=function(){return function(t){var e=FormData.LINE_BREAK;0===this._streams.length&&(e+=this._lastBoundary()),t(e)}.bind(this)},FormData.prototype._lastBoundary=function(){return\"--\"+this.getBoundary()+\"--\"+FormData.LINE_BREAK},FormData.prototype.getHeaders=function(t){var e,r={\"content-type\":\"multipart/form-data; boundary=\"+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r},FormData.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},FormData.prototype._generateBoundary=function(){for(var t=\"--------------------------\",e=0;e<24;e++)t+=Math.floor(10*Math.random()).toString(16);this._boundary=t},FormData.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error(\"Cannot calculate proper length in synchronous way.\")),t},FormData.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t},FormData.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;this._streams.length&&(e+=this._lastBoundary().length),this._valuesToMeasure.length?asynckit.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,a){r?t(r):(a.forEach(function(t){e+=t}),t(null,e))}):process.nextTick(t.bind(this,null,e))},FormData.prototype.submit=function(t,e){var r,a,o={method:\"post\"};return\"string\"==typeof t?(t=parseUrl(t),a=populate({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},o)):(a=populate(t,o)).port||(a.port=\"https:\"==a.protocol?443:80),a.headers=this.getHeaders(t.headers),r=\"https:\"==a.protocol?https.request(a):http.request(a),this.getLength(function(t,a){t?this._error(t):(r.setHeader(\"Content-Length\",a),this.pipe(r),e&&(r.on(\"error\",e),r.on(\"response\",e.bind(this,null))))}.bind(this)),r},FormData.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit(\"error\",t))},FormData.prototype.toString=function(){return\"[object FormData]\"};","node_modules/isstream/isstream.js":"var stream=require(\"stream\");function isStream(e){return e instanceof stream.Stream}function isReadable(e){return isStream(e)&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState}function isWritable(e){return isStream(e)&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState}function isDuplex(e){return isReadable(e)&&isWritable(e)}module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=isDuplex;","node_modules/is-typedarray/index.js":"module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={\"[object Int8Array]\":!0,\"[object Int16Array]\":!0,\"[object Int32Array]\":!0,\"[object Uint8Array]\":!0,\"[object Uint8ClampedArray]\":!0,\"[object Uint16Array]\":!0,\"[object Uint32Array]\":!0,\"[object Float32Array]\":!0,\"[object Float64Array]\":!0};function isTypedArray(r){return isStrictTypedArray(r)||isLooseTypedArray(r)}function isStrictTypedArray(r){return r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function isLooseTypedArray(r){return names[toString.call(r)]}","node_modules/request/lib/getProxyFromURI.js":"\"use strict\";function formatHostname(o){return o.replace(/^\\.*/,\".\").toLowerCase()}function parseNoProxyZone(o){var r=(o=o.trim().toLowerCase()).split(\":\",2);return{hostname:formatHostname(r[0]),port:r[1],hasPort:o.indexOf(\":\")>-1}}function uriInNoProxy(o,r){var t=o.port||(\"https:\"===o.protocol?\"443\":\"80\"),e=formatHostname(o.hostname);return r.split(\",\").map(parseNoProxyZone).some(function(o){var r=e.indexOf(o.hostname),n=r>-1&&r===e.length-o.hostname.length;return o.hasPort?t===o.port&&n:n})}function getProxyFromURI(o){var r=process.env.NO_PROXY||process.env.no_proxy||\"\";return\"*\"===r?null:\"\"!==r&&uriInNoProxy(o,r)?null:\"http:\"===o.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:\"https:\"===o.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}module.exports=getProxyFromURI;","node_modules/request/lib/querystring.js":"\"use strict\";var qs=require(\"qs\"),querystring=require(\"querystring\");function Querystring(i){this.request=i,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}Querystring.prototype.init=function(i){this.lib||(this.useQuerystring=i.useQuerystring,this.lib=this.useQuerystring?querystring:qs,this.parseOptions=i.qsParseOptions||{},this.stringifyOptions=i.qsStringifyOptions||{})},Querystring.prototype.stringify=function(i){return this.useQuerystring?this.rfc3986(this.lib.stringify(i,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(i,this.stringifyOptions)},Querystring.prototype.parse=function(i){return this.useQuerystring?this.lib.parse(i,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(i,this.parseOptions)},Querystring.prototype.rfc3986=function(i){return i.replace(/[!'()*]/g,function(i){return\"%\"+i.charCodeAt(0).toString(16).toUpperCase()})},Querystring.prototype.unescape=querystring.unescape,exports.Querystring=Querystring;","node_modules/request/lib/har.js":"\"use strict\";var fs=require(\"fs\"),qs=require(\"querystring\"),validate=require(\"har-validator\"),extend=require(\"extend\");function Har(e){this.request=e}Har.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var a=[e[t.name],t.value];return e[t.name]=a,e},Har.prototype.prep=function(e){if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var t=e.cookies.map(function(e){return e.name+\"=\"+e.value});t.length&&(e.headersObj.cookie=t.join(\"; \"))}function a(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(a([\"multipart/mixed\",\"multipart/related\",\"multipart/form-data\",\"multipart/alternative\"]))e.postData.mimeType=\"multipart/form-data\";else if(a([\"application/x-www-form-urlencoded\"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=qs.stringify(e.postData.paramsObj)):e.postData.text=\"\";else if(a([\"text/json\",\"text/x-json\",\"application/json\",\"application/x-json\"])&&(e.postData.mimeType=\"application/json\",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(t){this.request.debug(t),e.postData.mimeType=\"text/plain\"}return e},Har.prototype.options=function(e){if(!e.har)return e;var t={};if(extend(t,e.har),t.log&&t.log.entries&&(t=t.log.entries[0]),t.url=t.url||e.url||e.uri||e.baseUrl||\"/\",t.httpVersion=t.httpVersion||\"HTTP/1.1\",t.queryString=t.queryString||[],t.headers=t.headers||[],t.cookies=t.cookies||[],t.postData=t.postData||{},t.postData.mimeType=t.postData.mimeType||\"application/octet-stream\",t.bodySize=0,t.headersSize=0,t.postData.size=0,!validate.request(t))return e;var a=this.prep(t);a.url&&(e.url=a.url),a.method&&(e.method=a.method),Object.keys(a.queryObj).length&&(e.qs=a.queryObj),Object.keys(a.headersObj).length&&(e.headers=a.headersObj);function r(e){return 0===a.postData.mimeType.indexOf(e)}return r(\"application/x-www-form-urlencoded\")?e.form=a.postData.paramsObj:r(\"application/json\")?a.postData.jsonObj&&(e.body=a.postData.jsonObj,e.json=!0):r(\"multipart/form-data\")?(e.formData={},a.postData.params.forEach(function(t){var a={};t.fileName||t.fileName||t.contentType?(t.fileName&&!t.value?a.value=fs.createReadStream(t.fileName):t.value&&(a.value=t.value),t.fileName&&(a.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),e.formData[t.name]=a):e.formData[t.name]=t.value})):a.postData.text&&(e.body=a.postData.text),e},exports.Har=Har;","node_modules/request/lib/auth.js":"\"use strict\";var caseless=require(\"caseless\"),uuid=require(\"uuid\"),helpers=require(\"./helpers\"),md5=helpers.md5,toBase64=helpers.toBase64;function Auth(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}Auth.prototype.basic=function(e,t,s){(\"string\"!=typeof e||void 0!==t&&\"string\"!=typeof t)&&this.request.emit(\"error\",new Error(\"auth() received invalid user or password\")),this.user=e,this.pass=t,this.hasAuth=!0;if(s||void 0===s){var r=\"Basic \"+toBase64(e+\":\"+(t||\"\"));return this.sentAuth=!0,r}},Auth.prototype.bearer=function(e,t){if(this.bearerToken=e,this.hasAuth=!0,t||void 0===t){\"function\"==typeof e&&(e=e());var s=\"Bearer \"+(e||\"\");return this.sentAuth=!0,s}},Auth.prototype.digest=function(e,t,s){for(var r={},i=/([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;;){var h=i.exec(s);if(!h)break;r[h[1]]=h[2]||h[3]}var u=/(^|,)\\s*auth\\s*($|,)/.test(r.qop)&&\"auth\",a=u&&\"00000001\",o=u&&uuid().replace(/-/g,\"\"),n=function(e,t,s,r,i,h){var u=md5(t+\":\"+s+\":\"+r);return e&&\"md5-sess\"===e.toLowerCase()?md5(u+\":\"+i+\":\"+h):u}(r.algorithm,this.user,r.realm,this.pass,r.nonce,o),c=md5(e+\":\"+t),p=md5(u?n+\":\"+r.nonce+\":\"+a+\":\"+o+\":\"+u+\":\"+c:n+\":\"+r.nonce+\":\"+c),d={username:this.user,realm:r.realm,nonce:r.nonce,uri:t,qop:u,response:p,nc:a,cnonce:o,algorithm:r.algorithm,opaque:r.opaque};s=[];for(var l in d)d[l]&&(\"qop\"===l||\"nc\"===l||\"algorithm\"===l?s.push(l+\"=\"+d[l]):s.push(l+'=\"'+d[l]+'\"'));return s=\"Digest \"+s.join(\", \"),this.sentAuth=!0,s},Auth.prototype.onRequest=function(e,t,s,r){var i,h=this.request;void 0===r&&void 0===e?this.request.emit(\"error\",new Error(\"no auth mechanism defined\")):i=void 0!==r?this.bearer(r,s):this.basic(e,t,s),i&&h.setHeader(\"authorization\",i)},Auth.prototype.onResponse=function(e){var t=this.request;if(!this.hasAuth||this.sentAuth)return null;var s=caseless(e.headers).get(\"www-authenticate\"),r=s&&s.split(\" \")[0].toLowerCase();switch(t.debug(\"reauth\",r),r){case\"basic\":return this.basic(this.user,this.pass,!0);case\"bearer\":return this.bearer(this.bearerToken,!0);case\"digest\":return this.digest(t.method,t.path,s)}},exports.Auth=Auth;","node_modules/request/lib/oauth.js":"\"use strict\";var url=require(\"url\"),qs=require(\"qs\"),caseless=require(\"caseless\"),uuid=require(\"uuid\"),oauth=require(\"oauth-sign\"),crypto=require(\"crypto\"),Buffer=require(\"safe-buffer\").Buffer;function OAuth(e){this.request=e,this.params=null}OAuth.prototype.buildParams=function(e,t,r,a,o,s){var u={};for(var h in e)u[\"oauth_\"+h]=e[h];u.oauth_version||(u.oauth_version=\"1.0\"),u.oauth_timestamp||(u.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),u.oauth_nonce||(u.oauth_nonce=uuid().replace(/-/g,\"\")),u.oauth_signature_method||(u.oauth_signature_method=\"HMAC-SHA1\");var i=u.oauth_consumer_secret||u.oauth_private_key;delete u.oauth_consumer_secret,delete u.oauth_private_key;var n=u.oauth_token_secret;delete u.oauth_token_secret;var c=u.oauth_realm;delete u.oauth_realm,delete u.oauth_transport_method;var d=t.protocol+\"//\"+t.host+t.pathname,_=s.parse([].concat(a,o,s.stringify(u)).join(\"&\"));return u.oauth_signature=oauth.sign(u.oauth_signature_method,r,d,_,i,n),c&&(u.realm=c),u},OAuth.prototype.buildBodyHash=function(e,t){[\"HMAC-SHA1\",\"RSA-SHA1\"].indexOf(e.signature_method||\"HMAC-SHA1\")<0&&this.request.emit(\"error\",new Error(\"oauth: \"+e.signature_method+\" signature_method not supported with body_hash signing.\"));var r=crypto.createHash(\"sha1\");r.update(t||\"\");var a=r.digest(\"hex\");return Buffer.from(a).toString(\"base64\")},OAuth.prototype.concatParams=function(e,t,r){r=r||\"\";var a=Object.keys(e).filter(function(e){return\"realm\"!==e&&\"oauth_signature\"!==e}).sort();return e.realm&&a.splice(0,0,\"realm\"),a.push(\"oauth_signature\"),a.map(function(t){return t+\"=\"+r+oauth.rfc3986(e[t])+r}).join(t)},OAuth.prototype.onRequest=function(e){this.params=e;var t,r,a=this.request.uri||{},o=this.request.method||\"\",s=caseless(this.request.headers),u=this.request.body||\"\",h=this.request.qsLib||qs,i=s.get(\"content-type\")||\"\",n=\"application/x-www-form-urlencoded\",c=e.transport_method||\"header\";i.slice(0,n.length)===n&&(i=n,t=u),a.query&&(r=a.query),\"body\"!==c||\"POST\"===o&&i===n||this.request.emit(\"error\",new Error(\"oauth: transport_method of body requires POST and content-type \"+n)),t||\"boolean\"!=typeof e.body_hash||(e.body_hash=this.buildBodyHash(e,this.request.body.toString()));var d=this.buildParams(e,a,o,r,t,h);switch(c){case\"header\":this.request.setHeader(\"Authorization\",\"OAuth \"+this.concatParams(d,\",\",'\"'));break;case\"query\":var _=this.request.uri.href+=(r?\"&\":\"?\")+this.concatParams(d,\"&\");this.request.uri=url.parse(_),this.request.path=this.request.uri.path;break;case\"body\":this.request.body=(t?t+\"&\":\"\")+this.concatParams(d,\"&\");break;default:this.request.emit(\"error\",new Error(\"oauth: transport_method invalid\"))}},exports.OAuth=OAuth;","node_modules/request/lib/multipart.js":"\"use strict\";var uuid=require(\"uuid\"),CombinedStream=require(\"combined-stream\"),isstream=require(\"isstream\"),Buffer=require(\"safe-buffer\").Buffer;function Multipart(e){this.request=e,this.boundary=uuid(),this.chunked=!1,this.body=null}Multipart.prototype.isChunked=function(e){var t=this,r=!1,n=e.data||e;return n.forEach||t.request.emit(\"error\",new Error(\"Argument error, options.multipart.\")),void 0!==e.chunked&&(r=e.chunked),\"chunked\"===t.request.getHeader(\"transfer-encoding\")&&(r=!0),r||n.forEach(function(e){void 0===e.body&&t.request.emit(\"error\",new Error(\"Body attribute missing in multipart.\")),isstream(e.body)&&(r=!0)}),r},Multipart.prototype.setHeaders=function(e){e&&!this.request.hasHeader(\"transfer-encoding\")&&this.request.setHeader(\"transfer-encoding\",\"chunked\");var t=this.request.getHeader(\"content-type\");t&&-1!==t.indexOf(\"multipart\")?-1!==t.indexOf(\"boundary\")?this.boundary=t.replace(/.*boundary=([^\\s;]+).*/,\"$1\"):this.request.setHeader(\"content-type\",t+\"; boundary=\"+this.boundary):this.request.setHeader(\"content-type\",\"multipart/related; boundary=\"+this.boundary)},Multipart.prototype.build=function(e,t){var r=this,n=t?new CombinedStream:[];function u(e){return\"number\"==typeof e&&(e=e.toString()),t?n.append(e):n.push(Buffer.from(e))}return r.request.preambleCRLF&&u(\"\\r\\n\"),e.forEach(function(e){var t=\"--\"+r.boundary+\"\\r\\n\";Object.keys(e).forEach(function(r){\"body\"!==r&&(t+=r+\": \"+e[r]+\"\\r\\n\")}),u(t+=\"\\r\\n\"),u(e.body),u(\"\\r\\n\")}),u(\"--\"+r.boundary+\"--\"),r.request.postambleCRLF&&u(\"\\r\\n\"),n},Multipart.prototype.onRequest=function(e){var t=this.isChunked(e),r=e.data||e;this.setHeaders(t),this.chunked=t,this.body=this.build(r,t)},exports.Multipart=Multipart;","node_modules/request/lib/redirect.js":"\"use strict\";var url=require(\"url\"),isUrl=/^https?:/;function Redirect(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}Redirect.prototype.onRequest=function(e){void 0!==e.maxRedirects&&(this.maxRedirects=e.maxRedirects),\"function\"==typeof e.followRedirect&&(this.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(this.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(this.followAllRedirects=e.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==e.removeRefererHeader&&(this.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(this.followOriginalHttpMethod=e.followOriginalHttpMethod)},Redirect.prototype.redirectTo=function(e){var t=this.request,r=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has(\"location\")){var o=e.caseless.get(\"location\");if(t.debug(\"redirect\",o),this.followAllRedirects)r=o;else if(this.followRedirects)switch(t.method){case\"PATCH\":case\"PUT\":case\"POST\":case\"DELETE\":break;default:r=o}}else if(401===e.statusCode){var i=t._auth.onResponse(e);i&&(t.setHeader(\"authorization\",i),r=t.uri)}return r},Redirect.prototype.onResponse=function(e){var t=this.request,r=this.redirectTo(e);if(!r||!this.allowRedirect.call(t,e))return!1;if(t.debug(\"redirect to\",r),e.resume&&e.resume(),this.redirectsFollowed>=this.maxRedirects)return t.emit(\"error\",new Error(\"Exceeded maxRedirects. Probably stuck in a redirect loop \"+t.uri.href)),!1;this.redirectsFollowed+=1,isUrl.test(r)||(r=url.resolve(t.uri.href,r));var o=t.uri;return t.uri=url.parse(r),t.uri.protocol!==o.protocol&&delete t.agent,this.redirects.push({statusCode:e.statusCode,redirectUri:r}),this.followAllRedirects&&\"HEAD\"!==t.method&&401!==e.statusCode&&307!==e.statusCode&&(t.method=this.followOriginalHttpMethod?t.method:\"GET\"),delete t.src,delete t.req,delete t._started,401!==e.statusCode&&307!==e.statusCode&&(delete t.body,delete t._form,t.headers&&(t.removeHeader(\"host\"),t.removeHeader(\"content-type\"),t.removeHeader(\"content-length\"),t.uri.hostname!==t.originalHost.split(\":\")[0]&&t.removeHeader(\"authorization\"))),this.removeRefererHeader||t.setHeader(\"referer\",o.href),t.emit(\"redirect\"),t.init(),!0},exports.Redirect=Redirect;","node_modules/request/lib/tunnel.js":"\"use strict\";var url=require(\"url\"),tunnel=require(\"tunnel-agent\"),defaultProxyHeaderWhiteList=[\"accept\",\"accept-charset\",\"accept-encoding\",\"accept-language\",\"accept-ranges\",\"cache-control\",\"content-encoding\",\"content-language\",\"content-location\",\"content-md5\",\"content-range\",\"content-type\",\"connection\",\"date\",\"expect\",\"max-forwards\",\"pragma\",\"referer\",\"te\",\"user-agent\",\"via\"],defaultProxyHeaderExclusiveList=[\"proxy-authorization\"];function constructProxyHost(e){var t=e.port,r=e.protocol,n=e.hostname+\":\";return n+=t||(\"https:\"===r?\"443\":\"80\")}function constructProxyHeaderWhiteList(e,t){var r=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return r[e.toLowerCase()]}).reduce(function(t,r){return t[r]=e[r],t},{})}function constructTunnelOptions(e,t){var r=e.proxy;return{proxy:{host:r.hostname,port:+r.port,proxyAuth:r.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol}}function constructTunnelFnName(e,t){return[\"https:\"===e.protocol?\"https\":\"http\",\"https:\"===t.protocol?\"Https\":\"Http\"].join(\"Over\")}function getTunnelFn(e){var t=constructTunnelFnName(e.uri,e.proxy);return tunnel[t]}function Tunnel(e){this.request=e,this.proxyHeaderWhiteList=defaultProxyHeaderWhiteList,this.proxyHeaderExclusiveList=[],void 0!==e.tunnel&&(this.tunnelOverride=e.tunnel)}Tunnel.prototype.isEnabled=function(){var e=this.request;return void 0!==this.tunnelOverride?this.tunnelOverride:\"https:\"===e.uri.protocol},Tunnel.prototype.setup=function(e){var t=this.request;if(e=e||{},\"string\"==typeof t.proxy&&(t.proxy=url.parse(t.proxy)),!t.proxy||!t.tunnel)return!1;e.proxyHeaderWhiteList&&(this.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(this.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var r=this.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList),n=this.proxyHeaderWhiteList.concat(r),o=constructProxyHeaderWhiteList(t.headers,n);o.host=constructProxyHost(t.uri),r.forEach(t.removeHeader,t);var s=getTunnelFn(t),u=constructTunnelOptions(t,o);return t.agent=s(u),!0},Tunnel.defaultProxyHeaderWhiteList=defaultProxyHeaderWhiteList,Tunnel.defaultProxyHeaderExclusiveList=defaultProxyHeaderExclusiveList,exports.Tunnel=Tunnel;","node_modules/performance-now/lib/performance-now.js":"(function(){var e,n,r,o,t,u;\"undefined\"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:\"undefined\"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-t)/1e6},n=process.hrtime,o=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})(),u=1e9*process.uptime(),t=o-u):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);","node_modules/boom/lib/index.js":"\"use strict\";const Hoek=require(\"hoek\"),internals={STATUS_CODES:Object.setPrototypeOf({100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Moved Temporarily\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",307:\"Temporary Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Time-out\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Request Entity Too Large\",414:\"Request-URI Too Large\",415:\"Unsupported Media Type\",416:\"Requested Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Time-out\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"},null)};exports.boomify=function(e,t){return Hoek.assert(e instanceof Error,\"Cannot wrap non-Error object\"),t=t||{},e.isBoom?!1===t.override||!t.statusCode&&!t.message?e:internals.initialize(e,t.statusCode||e.output.statusCode,t.message):internals.initialize(e,t.statusCode||500,t.message)},exports.wrap=function(e,t,r){return Hoek.assert(e instanceof Error,\"Cannot wrap non-Error object\"),Hoek.assert(!e.isBoom||!t&&!r,\"Cannot provide statusCode or message with boom error\"),e.isBoom?e:internals.initialize(e,t||500,r)},exports.create=function(e,t,r){return internals.create(e,t,r,exports.create)},internals.create=function(e,t,r,o){if(t instanceof Error)return r&&(t.data=r),exports.wrap(t,e);const n=new Error(t||void 0);return Error.captureStackTrace(n,o),n.data=r||null,internals.initialize(n,e),n.typeof=o,n},internals.initialize=function(e,t,r){const o=parseInt(t,10);return Hoek.assert(!isNaN(o)&&o>=400,\"First argument must be a number (400+):\",t),e.isBoom=!0,e.isServer=o>=500,e.hasOwnProperty(\"data\")||(e.data=null),e.output={statusCode:o,payload:{},headers:{}},e.reformat=internals.reformat,r||e.message||(e.reformat(),r=e.output.payload.error),r&&(e.message=r+(e.message?\": \"+e.message:\"\"),e.output.payload.message=e.message),e.reformat(),e},internals.reformat=function(){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=internals.STATUS_CODES[this.output.statusCode]||\"Unknown\",500===this.output.statusCode?this.output.payload.message=\"An internal server error occurred\":this.message&&(this.output.payload.message=this.message)},exports.badRequest=function(e,t){return internals.create(400,e,t,exports.badRequest)},exports.unauthorized=function(e,t,r){const o=internals.create(401,e,void 0,exports.unauthorized);if(!t)return o;let n=\"\";if(\"string\"==typeof t){if(n=t,(r||e)&&(o.output.payload.attributes={}),r)if(\"string\"==typeof r)n=n+\" \"+Hoek.escapeHeaderAttribute(r),o.output.payload.attributes=r;else{const e=Object.keys(r);for(let t=0;t<e.length;++t){const a=e[t];t&&(n+=\",\");let s=r[a];null!==s&&void 0!==s||(s=\"\"),n=n+\" \"+a+'=\"'+Hoek.escapeHeaderAttribute(s.toString())+'\"',o.output.payload.attributes[a]=s}}e?(r&&(n+=\",\"),n=n+' error=\"'+Hoek.escapeHeaderAttribute(e)+'\"',o.output.payload.attributes.error=e):o.isMissing=!0}else{const e=t;for(let t=0;t<e.length;++t)t&&(n+=\", \"),n+=e[t]}return o.output.headers[\"WWW-Authenticate\"]=n,o},exports.paymentRequired=function(e,t){return internals.create(402,e,t,exports.paymentRequired)},exports.forbidden=function(e,t){return internals.create(403,e,t,exports.forbidden)},exports.notFound=function(e,t){return internals.create(404,e,t,exports.notFound)},exports.methodNotAllowed=function(e,t,r){const o=internals.create(405,e,t,exports.methodNotAllowed);return\"string\"==typeof r&&(r=[r]),Array.isArray(r)&&(o.output.headers.Allow=r.join(\", \")),o},exports.notAcceptable=function(e,t){return internals.create(406,e,t,exports.notAcceptable)},exports.proxyAuthRequired=function(e,t){return internals.create(407,e,t,exports.proxyAuthRequired)},exports.clientTimeout=function(e,t){return internals.create(408,e,t,exports.clientTimeout)},exports.conflict=function(e,t){return internals.create(409,e,t,exports.conflict)},exports.resourceGone=function(e,t){return internals.create(410,e,t,exports.resourceGone)},exports.lengthRequired=function(e,t){return internals.create(411,e,t,exports.lengthRequired)},exports.preconditionFailed=function(e,t){return internals.create(412,e,t,exports.preconditionFailed)},exports.entityTooLarge=function(e,t){return internals.create(413,e,t,exports.entityTooLarge)},exports.uriTooLong=function(e,t){return internals.create(414,e,t,exports.uriTooLong)},exports.unsupportedMediaType=function(e,t){return internals.create(415,e,t,exports.unsupportedMediaType)},exports.rangeNotSatisfiable=function(e,t){return internals.create(416,e,t,exports.rangeNotSatisfiable)},exports.expectationFailed=function(e,t){return internals.create(417,e,t,exports.expectationFailed)},exports.teapot=function(e,t){return internals.create(418,e,t,exports.teapot)},exports.badData=function(e,t){return internals.create(422,e,t,exports.badData)},exports.locked=function(e,t){return internals.create(423,e,t,exports.locked)},exports.preconditionRequired=function(e,t){return internals.create(428,e,t,exports.preconditionRequired)},exports.tooManyRequests=function(e,t){return internals.create(429,e,t,exports.tooManyRequests)},exports.illegal=function(e,t){return internals.create(451,e,t,exports.illegal)},exports.internal=function(e,t,r){return internals.serverError(e,t,r,exports.internal)},internals.serverError=function(e,t,r,o){if(t instanceof Error&&!t.isBoom)return exports.wrap(t,r,e);const n=internals.create(r||500,e,void 0,o);return n.data=t,n},exports.notImplemented=function(e,t){return internals.serverError(e,t,501,exports.notImplemented)},exports.badGateway=function(e,t){return internals.serverError(e,t,502,exports.badGateway)},exports.serverUnavailable=function(e,t){return internals.serverError(e,t,503,exports.serverUnavailable)},exports.gatewayTimeout=function(e,t){return internals.serverError(e,t,504,exports.gatewayTimeout)},exports.badImplementation=function(e,t){const r=internals.serverError(e,t,500,exports.badImplementation);return r.isDeveloperError=!0,r};","node_modules/sntp/lib/index.js":"\"use strict\";const Dgram=require(\"dgram\"),Dns=require(\"dns\"),Hoek=require(\"hoek\"),internals={};exports.time=function(e,t){2!==arguments.length&&(t=arguments[0],e={});const r=Hoek.clone(e);r.host=r.host||\"time.google.com\",r.port=r.port||123,r.resolveReference=r.resolveReference||!1;let s=null,n=0;const o=Hoek.once((e,r)=>{clearTimeout(s),i.removeAllListeners(),i.once(\"error\",Hoek.ignore);try{i.close()}catch(e){}return t(e,r)});r.timeout&&(s=setTimeout(()=>o(new Error(\"Timeout\")),r.timeout));const i=Dgram.createSocket(\"udp4\");i.once(\"error\",e=>o(e)),i.on(\"message\",(e,t)=>{const s=Date.now(),i=new internals.NtpMessage(e);if(!i.isValid)return o(new Error(\"Invalid server response\"),i);if(i.originateTimestamp!==n)return o(new Error(\"Wrong originate timestamp\"),i);const a=i.originateTimestamp,l=i.receiveTimestamp,c=i.transmitTimestamp,h=s;if(i.d=h-a-(c-l),i.t=(l-a+(c-h))/2,i.receivedLocally=s,!r.resolveReference||\"secondary\"!==i.stratum)return o(null,i);Dns.reverse(i.referenceId,(e,t)=>(e||(i.referenceHost=t[0]),o(null,i)))});const a=new Buffer(48);for(let e=0;e<48;++e)a[e]=0;a[0]=35,n=Date.now(),internals.fromMsecs(n,a,40),i.send(a,0,a.length,r.port,r.host,(e,t)=>{if(e||48!==t)return o(e||new Error(\"Could not send entire message\"))})},internals.NtpMessage=function(e){if(this.isValid=!1,48!==e.length)return;switch(e[0]>>6){case 0:this.leapIndicator=\"no-warning\";break;case 1:this.leapIndicator=\"last-minute-61\";break;case 2:this.leapIndicator=\"last-minute-59\";break;case 3:this.leapIndicator=\"alarm\"}const t=(56&e[0])>>3;this.version=t;switch(7&e[0]){case 1:this.mode=\"symmetric-active\";break;case 2:this.mode=\"symmetric-passive\";break;case 3:this.mode=\"client\";break;case 4:this.mode=\"server\";break;case 5:this.mode=\"broadcast\";break;case 0:case 6:case 7:this.mode=\"reserved\"}const r=e[1];this.stratum=0===r?\"death\":1===r?\"primary\":r<=15?\"secondary\":\"reserved\",this.pollInterval=1e3*Math.round(Math.pow(2,e[2])),this.precision=1e3*Math.pow(2,e[3]);const s=256*(256*(256*e[4]+e[5])+e[6])+e[7];switch(this.rootDelay=s/65536*1e3,this.rootDispersion=1e3*((e[8]<<8)+e[9]+((e[10]<<8)+e[11])/Math.pow(2,16)),this.referenceId=\"\",this.stratum){case\"death\":case\"primary\":this.referenceId=String.fromCharCode(e[12])+String.fromCharCode(e[13])+String.fromCharCode(e[14])+String.fromCharCode(e[15]);break;case\"secondary\":this.referenceId=e[12]+\".\"+e[13]+\".\"+e[14]+\".\"+e[15]}return this.referenceTimestamp=internals.toMsecs(e,16),this.originateTimestamp=internals.toMsecs(e,24),this.receiveTimestamp=internals.toMsecs(e,32),this.transmitTimestamp=internals.toMsecs(e,40),4===this.version&&\"reserved\"!==this.stratum&&\"server\"===this.mode&&this.originateTimestamp&&this.receiveTimestamp&&this.transmitTimestamp&&(this.isValid=!0),this},internals.toMsecs=function(e,t){let r=0,s=0;for(let s=0;s<4;++s)r=256*r+e[t+s];for(let r=4;r<8;++r)s=256*s+e[t+r];return 1e3*(r-2208988800+s/Math.pow(2,32))},internals.fromMsecs=function(e,t,r){const s=Math.floor(e/1e3)+2208988800,n=Math.round(e%1e3/1e3*Math.pow(2,32));t[r+0]=(4278190080&s)>>24,t[r+1]=(16711680&s)>>16,t[r+2]=(65280&s)>>8,t[r+3]=255&s,t[r+4]=(4278190080&n)>>24,t[r+5]=(16711680&n)>>16,t[r+6]=(65280&n)>>8,t[r+7]=255&n},internals.last={offset:0,expires:0,host:\"\",port:0},exports.offset=function(e,t){2!==arguments.length&&(t=arguments[0],e={});const r=Date.now(),s=e.clockSyncRefresh||864e5;internals.last.offset&&internals.last.host===e.host&&internals.last.port===e.port&&r<internals.last.expires?process.nextTick(()=>t(null,internals.last.offset)):exports.time(e,(n,o)=>n?t(n,0):(internals.last={offset:Math.round(o.t),expires:r+s,host:e.host,port:e.port},t(null,internals.last.offset)))},internals.now={started:!1,intervalId:null},exports.start=function(e,t){if(2!==arguments.length&&(t=arguments[0],e={}),internals.now.started)return void process.nextTick(()=>t());const r=t=>{t&&e.onError&&e.onError(t)};internals.now.started=!0,exports.offset(e,(s,n)=>(r(s),internals.now.intervalId=setInterval(()=>{exports.offset(e,r)},e.clockSyncRefresh||864e5),t()))},exports.stop=function(){internals.now.started&&(clearInterval(internals.now.intervalId),internals.now.started=!1,internals.now.intervalId=null)},exports.isLive=function(){return internals.now.started},exports.now=function(){const e=Date.now();return!exports.isLive()||e>=internals.last.expires?e:e+internals.last.offset};","node_modules/hawk/lib/server.js":"\"use strict\";const Boom=require(\"boom\"),Hoek=require(\"hoek\"),Cryptiles=require(\"cryptiles\"),Crypto=require(\"./crypto\"),Utils=require(\"./utils\"),internals={};exports.authenticate=function(e,t,n,i){i=Hoek.nextTick(i),n.nonceFunc=n.nonceFunc||internals.nonceFunc,n.timestampSkewSec=n.timestampSkewSec||60;const a=Utils.now(n.localtimeOffsetMsec),r=Utils.parseRequest(e,n);if(r instanceof Error)return i(Boom.badRequest(r.message));const o=Utils.parseAuthorizationHeader(r.authorization);if(o instanceof Error)return i(o);const s={method:r.method,host:r.host,port:r.port,resource:r.url,ts:o.ts,nonce:o.nonce,hash:o.hash,ext:o.ext,app:o.app,dlg:o.dlg,mac:o.mac,id:o.id};if(!(o.id&&o.ts&&o.nonce&&o.mac))return i(Boom.badRequest(\"Missing attributes\"),null,s);t(o.id,(e,t)=>{if(e)return i(e,t||null,s);if(!t)return i(Utils.unauthorized(\"Unknown credentials\"),null,s);if(!t.key||!t.algorithm)return i(Boom.internal(\"Invalid credentials\"),t,s);if(-1===Crypto.algorithms.indexOf(t.algorithm))return i(Boom.internal(\"Unknown algorithm\"),t,s);const l=Crypto.calculateMac(\"header\",t,s);if(!Cryptiles.fixedTimeComparison(l,o.mac))return i(Utils.unauthorized(\"Bad mac\"),t,s);if(n.payload||\"\"===n.payload){if(!o.hash)return i(Utils.unauthorized(\"Missing required payload hash\"),t,s);const e=Crypto.calculatePayloadHash(n.payload,t.algorithm,r.contentType);if(!Cryptiles.fixedTimeComparison(e,o.hash))return i(Utils.unauthorized(\"Bad payload hash\"),t,s)}n.nonceFunc(t.key,o.nonce,o.ts,e=>{if(e)return i(Utils.unauthorized(\"Invalid nonce\"),t,s);if(Math.abs(1e3*o.ts-a)>1e3*n.timestampSkewSec){const e=Crypto.timestampMessage(t,n.localtimeOffsetMsec);return i(Utils.unauthorized(\"Stale timestamp\",e),t,s)}return i(null,t,s)})})},exports.authenticatePayload=function(e,t,n,i){const a=Crypto.calculatePayloadHash(e,t.algorithm,i);return Cryptiles.fixedTimeComparison(a,n.hash)},exports.authenticatePayloadHash=function(e,t){return Cryptiles.fixedTimeComparison(e,t.hash)},exports.header=function(e,t,n){if(n=n||{},!t||\"object\"!=typeof t||\"object\"!=typeof n)return\"\";if(t=Hoek.clone(t),delete t.mac,t.hash=n.hash,t.ext=n.ext,!e||!e.key||!e.algorithm)return\"\";if(-1===Crypto.algorithms.indexOf(e.algorithm))return\"\";t.hash||!n.payload&&\"\"!==n.payload||(t.hash=Crypto.calculatePayloadHash(n.payload,e.algorithm,n.contentType));let i='Hawk mac=\"'+Crypto.calculateMac(\"response\",e,t)+'\"'+(t.hash?', hash=\"'+t.hash+'\"':\"\");return null!==t.ext&&void 0!==t.ext&&\"\"!==t.ext&&(i=i+', ext=\"'+Hoek.escapeHeaderAttribute(t.ext)+'\"'),i},internals.bewitRegex=/^(\\/.*)([\\?&])bewit\\=([^&$]*)(?:&(.+))?$/,exports.authenticateBewit=function(e,t,n,i){i=Hoek.nextTick(i);const a=Utils.now(n.localtimeOffsetMsec),r=Utils.parseRequest(e,n);if(r instanceof Error)return i(Boom.badRequest(r.message));if(r.url.length>Utils.limits.maxMatchLength)return i(Boom.badRequest(\"Resource path exceeds max length\"));const o=r.url.match(internals.bewitRegex);if(!o)return i(Utils.unauthorized());if(!o[3])return i(Utils.unauthorized(\"Empty bewit\"));if(\"GET\"!==r.method&&\"HEAD\"!==r.method)return i(Utils.unauthorized(\"Invalid method\"));if(r.authorization)return i(Boom.badRequest(\"Multiple authentications\"));const s=Hoek.base64urlDecode(o[3]);if(s instanceof Error)return i(Boom.badRequest(\"Invalid bewit encoding\"));const l=s.split(\"\\\\\");if(4!==l.length)return i(Boom.badRequest(\"Invalid bewit structure\"));const u={id:l[0],exp:parseInt(l[1],10),mac:l[2],ext:l[3]||\"\"};if(!u.id||!u.exp||!u.mac)return i(Boom.badRequest(\"Missing bewit attributes\"));let c=o[1];if(o[4]&&(c=c+o[2]+o[4]),1e3*u.exp<=a)return i(Utils.unauthorized(\"Access expired\"),null,u);t(u.id,(e,t)=>{if(e)return i(e,t||null,u.ext);if(!t)return i(Utils.unauthorized(\"Unknown credentials\"),null,u);if(!t.key||!t.algorithm)return i(Boom.internal(\"Invalid credentials\"),t,u);if(-1===Crypto.algorithms.indexOf(t.algorithm))return i(Boom.internal(\"Unknown algorithm\"),t,u);const n=Crypto.calculateMac(\"bewit\",t,{ts:u.exp,nonce:\"\",method:\"GET\",resource:c,host:r.host,port:r.port,ext:u.ext});return Cryptiles.fixedTimeComparison(n,u.mac)?i(null,t,u):i(Utils.unauthorized(\"Bad mac\"),t,u)})},exports.authenticateMessage=function(e,t,n,i,a,r,o){o=Hoek.nextTick(o),r.nonceFunc=r.nonceFunc||internals.nonceFunc,r.timestampSkewSec=r.timestampSkewSec||60;const s=Utils.now(r.localtimeOffsetMsec);if(!(i.id&&i.ts&&i.nonce&&i.hash&&i.mac))return o(Boom.badRequest(\"Invalid authorization\"));a(i.id,(a,l)=>{if(a)return o(a,l||null);if(!l)return o(Utils.unauthorized(\"Unknown credentials\"));if(!l.key||!l.algorithm)return o(Boom.internal(\"Invalid credentials\"),l);if(-1===Crypto.algorithms.indexOf(l.algorithm))return o(Boom.internal(\"Unknown algorithm\"),l);const u={ts:i.ts,nonce:i.nonce,host:e,port:t,hash:i.hash},c=Crypto.calculateMac(\"message\",l,u);if(!Cryptiles.fixedTimeComparison(c,i.mac))return o(Utils.unauthorized(\"Bad mac\"),l);const h=Crypto.calculatePayloadHash(n,l.algorithm);if(!Cryptiles.fixedTimeComparison(h,i.hash))return o(Utils.unauthorized(\"Bad message hash\"),l);r.nonceFunc(l.key,i.nonce,i.ts,e=>e?o(Utils.unauthorized(\"Invalid nonce\"),l):Math.abs(1e3*i.ts-s)>1e3*r.timestampSkewSec?o(Utils.unauthorized(\"Stale timestamp\"),l):o(null,l))})},internals.nonceFunc=function(e,t,n,i){return i()};","node_modules/hawk/lib/client.js":"\"use strict\";const Url=require(\"url\"),Hoek=require(\"hoek\"),Cryptiles=require(\"cryptiles\"),Crypto=require(\"./crypto\"),Utils=require(\"./utils\");exports.header=function(e,t,r){const a={field:\"\",artifacts:{}};if(!e||\"string\"!=typeof e&&\"object\"!=typeof e||!t||\"string\"!=typeof t||!r||\"object\"!=typeof r)return a.err=\"Invalid argument type\",a;const o=r.timestamp||Utils.nowSecs(r.localtimeOffsetMsec),n=r.credentials;if(!(n&&n.id&&n.key&&n.algorithm))return a.err=\"Invalid credential object\",a;if(-1===Crypto.algorithms.indexOf(n.algorithm))return a.err=\"Unknown algorithm\",a;\"string\"==typeof e&&(e=Url.parse(e));const s={ts:o,nonce:r.nonce||Cryptiles.randomString(6),method:t,resource:e.pathname+(e.search||\"\"),host:e.hostname,port:e.port||(\"http:\"===e.protocol?80:443),hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};a.artifacts=s,s.hash||!r.payload&&\"\"!==r.payload||(s.hash=Crypto.calculatePayloadHash(r.payload,n.algorithm,r.contentType));const i=Crypto.calculateMac(\"header\",n,s),l=null!==s.ext&&void 0!==s.ext&&\"\"!==s.ext;let c='Hawk id=\"'+n.id+'\", ts=\"'+s.ts+'\", nonce=\"'+s.nonce+(s.hash?'\", hash=\"'+s.hash:\"\")+(l?'\", ext=\"'+Hoek.escapeHeaderAttribute(s.ext):\"\")+'\", mac=\"'+i+'\"';return s.app&&(c=c+', app=\"'+s.app+(s.dlg?'\", dlg=\"'+s.dlg:\"\")+'\"'),a.field=c,a},exports.authenticate=function(e,t,r,a,o){r=Hoek.clone(r),a=a||{};let n=null,s=null;const i=function(e){if(o){return o(e,{\"www-authenticate\":n,\"server-authorization\":s})}return!e};if(e.headers[\"www-authenticate\"]){if((n=Utils.parseAuthorizationHeader(e.headers[\"www-authenticate\"],[\"ts\",\"tsm\",\"error\"]))instanceof Error)return n=null,i(new Error(\"Invalid WWW-Authenticate header\"));if(n.ts){if(Crypto.calculateTsMac(n.ts,t)!==n.tsm)return i(new Error(\"Invalid server timestamp hash\"))}}if(!e.headers[\"server-authorization\"]&&!a.required)return i();if((s=Utils.parseAuthorizationHeader(e.headers[\"server-authorization\"],[\"mac\",\"ext\",\"hash\"]))instanceof Error)return s=null,i(new Error(\"Invalid Server-Authorization header\"));r.ext=s.ext,r.hash=s.hash;if(Crypto.calculateMac(\"response\",t,r)!==s.mac)return i(new Error(\"Bad response mac\"));if(!a.payload&&\"\"!==a.payload)return i();if(!s.hash)return i(new Error(\"Missing response hash attribute\"));return Crypto.calculatePayloadHash(a.payload,t.algorithm,e.headers[\"content-type\"])!==s.hash?i(new Error(\"Bad response payload mac\")):i()},exports.getBewit=function(e,t){if(!e||\"string\"!=typeof e&&\"object\"!=typeof e||!t||\"object\"!=typeof t||!t.ttlSec)return\"\";t.ext=null===t.ext||void 0===t.ext?\"\":t.ext;const r=Utils.now(t.localtimeOffsetMsec),a=t.credentials;if(!(a&&a.id&&a.key&&a.algorithm))return\"\";if(-1===Crypto.algorithms.indexOf(a.algorithm))return\"\";\"string\"==typeof e&&(e=Url.parse(e));const o=Math.floor(r/1e3)+t.ttlSec,n=Crypto.calculateMac(\"bewit\",a,{ts:o,nonce:\"\",method:\"GET\",resource:e.pathname+(e.search||\"\"),host:e.hostname,port:e.port||(\"http:\"===e.protocol?80:443),ext:t.ext}),s=a.id+\"\\\\\"+o+\"\\\\\"+n+\"\\\\\"+t.ext;return Hoek.base64urlEncode(s)},exports.message=function(e,t,r,a){if(!e||\"string\"!=typeof e||!t||\"number\"!=typeof t||null===r||void 0===r||\"string\"!=typeof r||!a||\"object\"!=typeof a)return null;const o=a.timestamp||Utils.nowSecs(a.localtimeOffsetMsec),n=a.credentials;if(!(n&&n.id&&n.key&&n.algorithm))return null;if(-1===Crypto.algorithms.indexOf(n.algorithm))return null;const s={ts:o,nonce:a.nonce||Cryptiles.randomString(6),host:e,port:t,hash:Crypto.calculatePayloadHash(r,n.algorithm)};return{id:n.id,ts:s.ts,nonce:s.nonce,hash:s.hash,mac:Crypto.calculateMac(\"message\",n,s)}};","node_modules/hawk/lib/crypto.js":"\"use strict\";const Crypto=require(\"crypto\"),Url=require(\"url\"),Utils=require(\"./utils\");exports.headerVersion=\"1\",exports.algorithms=[\"sha1\",\"sha256\"],exports.calculateMac=function(e,t,a){const r=exports.generateNormalizedString(e,a);return Crypto.createHmac(t.algorithm,t.key).update(r).digest(\"base64\")},exports.generateNormalizedString=function(e,t){let a=t.resource||\"\";if(a&&\"/\"!==a[0]){a=Url.parse(a,!1).path}let r=\"hawk.\"+exports.headerVersion+\".\"+e+\"\\n\"+t.ts+\"\\n\"+t.nonce+\"\\n\"+(t.method||\"\").toUpperCase()+\"\\n\"+a+\"\\n\"+t.host.toLowerCase()+\"\\n\"+t.port+\"\\n\"+(t.hash||\"\")+\"\\n\";return t.ext&&(r+=t.ext.replace(\"\\\\\",\"\\\\\\\\\").replace(\"\\n\",\"\\\\n\")),r+=\"\\n\",t.app&&(r=r+t.app+\"\\n\"+(t.dlg||\"\")+\"\\n\"),r},exports.calculatePayloadHash=function(e,t,a){const r=exports.initializePayloadHash(t,a);return r.update(e||\"\"),exports.finalizePayloadHash(r)},exports.initializePayloadHash=function(e,t){const a=Crypto.createHash(e);return a.update(\"hawk.\"+exports.headerVersion+\".payload\\n\"),a.update(Utils.parseContentType(t)+\"\\n\"),a},exports.finalizePayloadHash=function(e){return e.update(\"\\n\"),e.digest(\"base64\")},exports.calculateTsMac=function(e,t){const a=Crypto.createHmac(t.algorithm,t.key);return a.update(\"hawk.\"+exports.headerVersion+\".ts\\n\"+e+\"\\n\"),a.digest(\"base64\")},exports.timestampMessage=function(e,t){const a=Utils.nowSecs(t);return{ts:a,tsm:exports.calculateTsMac(a,e)}};","node_modules/hawk/lib/utils.js":"\"use strict\";const Sntp=require(\"sntp\"),Boom=require(\"boom\"),internals={};exports.version=function(){return require(\"../package.json\").version},exports.limits={maxMatchLength:4096},internals.hostHeaderRegex=/^(?:(?:\\r\\n)?\\s)*((?:[^:]+)|(?:\\[[^\\]]+\\]))(?::(\\d+))?(?:(?:\\r\\n)?\\s)*$/,exports.parseHost=function(e,t){t=t?t.toLowerCase():\"host\";const r=e.headers[t];if(!r)return null;if(r.length>exports.limits.maxMatchLength)return null;const n=r.match(internals.hostHeaderRegex);return n?{name:n[1],port:n[2]?n[2]:e.connection&&e.connection.encrypted?443:80}:null},exports.parseContentType=function(e){return e?e.split(\";\")[0].trim().toLowerCase():\"\"},exports.parseRequest=function(e,t){if(!e.headers)return e;let r;if(!(t.host&&t.port||(r=exports.parseHost(e,t.hostHeaderName))))return new Error(\"Invalid Host header\");return{method:e.method,url:e.url,host:t.host||r.name,port:t.port||r.port,authorization:e.headers.authorization,contentType:e.headers[\"content-type\"]||\"\"}},exports.now=function(e){return Sntp.now()+(e||0)},exports.nowSecs=function(e){return Math.floor(exports.now(e)/1e3)},internals.authHeaderRegex=/^(\\w+)(?:\\s+(.*))?$/,internals.attributeRegex=/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~]+$/,exports.parseAuthorizationHeader=function(e,t){if(t=t||[\"id\",\"ts\",\"nonce\",\"hash\",\"ext\",\"mac\",\"app\",\"dlg\"],!e)return Boom.unauthorized(null,\"Hawk\");if(e.length>exports.limits.maxMatchLength)return Boom.badRequest(\"Header length too long\");const r=e.match(internals.authHeaderRegex);if(!r)return Boom.badRequest(\"Invalid header syntax\");if(\"hawk\"!==r[1].toLowerCase())return Boom.unauthorized(null,\"Hawk\");const n=r[2];if(!n)return Boom.badRequest(\"Invalid header syntax\");const o={};let a=\"\";return\"\"!==n.replace(/(\\w+)=\"([^\"\\\\]*)\"\\s*(?:,\\s*|$)/g,(e,r,n)=>{if(-1!==t.indexOf(r))if(null!==n.match(internals.attributeRegex)){if(!o.hasOwnProperty(r))return o[r]=n,\"\";a=\"Duplicate attribute: \"+r}else a=\"Bad attribute value: \"+r;else a=\"Unknown attribute: \"+r})?Boom.badRequest(a||\"Bad header format\"):o},exports.unauthorized=function(e,t){return Boom.unauthorized(e||null,\"Hawk\",t)};","node_modules/hoek/lib/index.js":"\"use strict\";const Crypto=require(\"crypto\"),Path=require(\"path\"),Util=require(\"util\"),Escape=require(\"./escape\"),internals={};exports.clone=function(e,t){if(\"object\"!=typeof e||null===e)return e;const r=(t=t||new Map).get(e);if(r)return r;let n,o=!1;if(Array.isArray(e))n=[],o=!0;else if(Buffer.isBuffer(e))n=new Buffer(e);else if(e instanceof Date)n=new Date(e.getTime());else if(e instanceof RegExp)n=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?n=e:(n=Object.create(t),o=!0)}if(t.set(e,n),o){const r=Object.getOwnPropertyNames(e);for(let o=0;o<r.length;++o){const s=r[o],a=Object.getOwnPropertyDescriptor(e,s);a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=exports.clone(e[s],t)}}return n},exports.merge=function(e,t,r,n){if(exports.assert(e&&\"object\"==typeof e,\"Invalid target value: must be an object\"),exports.assert(null===t||void 0===t||\"object\"==typeof t,\"Invalid source value: must be null, undefined, or an object\"),!t)return e;if(Array.isArray(t)){exports.assert(Array.isArray(e),\"Cannot merge array onto an object\"),!1===n&&(e.length=0);for(let r=0;r<t.length;++r)e.push(exports.clone(t[r]));return e}const o=Object.keys(t);for(let s=0;s<o.length;++s){const a=o[s],i=t[a];i&&\"object\"==typeof i?!e[a]||\"object\"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(i)||i instanceof Date||Buffer.isBuffer(i)||i instanceof RegExp?e[a]=exports.clone(i):exports.merge(e[a],i,r,n):null!==i&&void 0!==i?e[a]=i:!1!==r&&(e[a]=i)}return e},exports.applyToDefaults=function(e,t,r){if(exports.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),exports.assert(!t||!0===t||\"object\"==typeof t,\"Invalid options value: must be true, falsy or an object\"),!t)return null;const n=exports.clone(e);return!0===t?n:exports.merge(n,t,!0===r,!1)},exports.cloneWithShallow=function(e,t){if(!e||\"object\"!=typeof e)return e;const r=internals.store(e,t),n=exports.clone(e);return internals.restore(n,e,r),n},internals.store=function(e,t){const r={};for(let n=0;n<t.length;++n){const o=t[n],s=exports.reach(e,o);void 0!==s&&(r[o]=s,internals.reachSet(e,o,void 0))}return r},internals.restore=function(e,t,r){const n=Object.keys(r);for(let o=0;o<n.length;++o){const s=n[o];internals.reachSet(e,s,r[s]),internals.reachSet(t,s,r[s])}},internals.reachSet=function(e,t,r){const n=t.split(\".\");let o=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(o[t]=r),o=o[t]}},exports.applyToDefaultsWithShallow=function(e,t,r){if(exports.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),exports.assert(!t||!0===t||\"object\"==typeof t,\"Invalid options value: must be true, falsy or an object\"),exports.assert(r&&Array.isArray(r),\"Invalid keys\"),!t)return null;const n=exports.cloneWithShallow(e,r);if(!0===t)return n;const o=internals.store(t,r);return exports.merge(n,t,!1,!1),internals.restore(n,t,o),n},exports.deepEqual=function(e,t,r,n){r=r||{prototype:!0};const o=typeof e;if(o!==typeof t)return!1;if(\"object\"!==o||null===e||null===t)return e===t?0!==e||1/e==1/t:e!=e&&t!=t;if(-1!==(n=n||[]).indexOf(e))return!0;if(n.push(e),Array.isArray(e)){if(!Array.isArray(t))return!1;if(!r.part&&e.length!==t.length)return!1;for(let n=0;n<e.length;++n){if(r.part){let o=!1;for(let s=0;s<t.length;++s)if(exports.deepEqual(e[n],t[s],r)){o=!0;break}return o}if(!exports.deepEqual(e[n],t[n],r))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();if(e instanceof RegExp)return t instanceof RegExp&&e.toString()===t.toString();if(r.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const s=Object.getOwnPropertyNames(e);if(!r.part&&s.length!==Object.getOwnPropertyNames(t).length)return!1;for(let o=0;o<s.length;++o){const a=s[o],i=Object.getOwnPropertyDescriptor(e,a);if(i.get){if(!exports.deepEqual(i,Object.getOwnPropertyDescriptor(t,a),r,n))return!1}else if(!exports.deepEqual(e[a],t[a],r,n))return!1}return!0},exports.unique=((e,t)=>{let r;if(t){r=[];const n=new Set;e.forEach(e=>{const o=e[t];n.has(o)||(n.add(o),r.push(e))})}else r=Array.from(new Set(e));return r}),exports.mapToObject=function(e,t){if(!e)return null;const r={};for(let n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},exports.intersect=function(e,t,r){if(!e||!t)return[];const n=[],o=Array.isArray(e)?exports.mapToObject(e):e,s={};for(let e=0;e<t.length;++e)if(o[t[e]]&&!s[t[e]]){if(r)return t[e];n.push(t[e]),s[t[e]]=!0}return r?null:n},exports.contain=function(e,t,r){let n=null;\"object\"!=typeof e||\"object\"!=typeof t||Array.isArray(e)||Array.isArray(t)?t=[].concat(t):(n=t,t=Object.keys(t)),r=r||{},exports.assert(arguments.length>=2,\"Insufficient arguments\"),exports.assert(\"string\"==typeof e||\"object\"==typeof e,\"Reference must be string or an object\"),exports.assert(t.length,\"Values array cannot be empty\");let o,s;if(r.deep){o=exports.deepEqual;const e=r.hasOwnProperty(\"only\"),t=r.hasOwnProperty(\"part\");s={prototype:e?r.only:!!t&&!r.part,part:e?!r.only:!t||r.part}}else o=((e,t)=>e===t);let a=!1;const i=new Array(t.length);for(let e=0;e<i.length;++e)i[e]=0;if(\"string\"==typeof e){let r=\"(\";for(let e=0;e<t.length;++e){const n=t[e];exports.assert(\"string\"==typeof n,\"Cannot compare string reference to non-string value\"),r+=(e?\"|\":\"\")+exports.escapeRegex(n)}const n=new RegExp(r+\")\",\"g\");a=!!e.replace(n,(e,r)=>{const n=t.indexOf(r);return++i[n],\"\"})}else if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=!1;for(let a=0;a<t.length&&!1===n;++a)n=o(t[a],e[r],s)&&a;!1!==n?++i[n]:a=!0}else{const r=Object.getOwnPropertyNames(e);for(let c=0;c<r.length;++c){const p=r[c],l=t.indexOf(p);if(-1!==l){if(n&&!o(n[p],e[p],s))return!1;++i[l]}else a=!0}}let c=!1;for(let e=0;e<i.length;++e)if(c=c||!!i[e],r.once&&i[e]>1||!r.part&&!i[e])return!1;return(!r.only||!a)&&c},exports.flatten=function(e,t){const r=t||[];for(let t=0;t<e.length;++t)Array.isArray(e[t])?exports.flatten(e[t],r):r.push(e[t]);return r},exports.reach=function(e,t,r){if(!1===t||null===t||void 0===t)return e;\"string\"==typeof(r=r||{})&&(r={separator:r});const n=t.split(r.separator||\".\");let o=e;for(let e=0;e<n.length;++e){let s=n[e];if(\"-\"===s[0]&&Array.isArray(o)&&(s=s.slice(1,s.length),s=o.length-s),!o||\"object\"!=typeof o&&\"function\"!=typeof o||!(s in o)||\"object\"!=typeof o&&!1===r.functions){exports.assert(!r.strict||e+1===n.length,\"Missing segment\",s,\"in reach path \",t),exports.assert(\"object\"==typeof o||!0===r.functions||\"function\"!=typeof o,\"Invalid segment\",s,\"in reach path \",t),o=r.default;break}o=o[s]}return o},exports.reachTemplate=function(e,t,r){return t.replace(/{([^}]+)}/g,(t,n)=>{const o=exports.reach(e,n,r);return void 0===o||null===o?\"\":o})},exports.formatStack=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},exports.formatTrace=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push((n[4]?\"new \":\"\")+n[3]+\" (\"+n[0]+\":\"+n[1]+\":\"+n[2]+\")\")}return t},exports.callStack=function(e){const t=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};const r={};Error.captureStackTrace(r,this);const n=r.stack;Error.prepareStackTrace=t;return exports.formatStack(n).slice(1+e)},exports.displayStack=function(e){const t=exports.callStack(void 0===e?1:e+1);return exports.formatTrace(t)},exports.abortThrow=!1,exports.abort=function(e,t){if(\"test\"===process.env.NODE_ENV||!0===exports.abortThrow)throw new Error(e||\"Unknown error\");let r=\"\";t||(r=exports.displayStack(1).join(\"\\n\\t\")),console.log(\"ABORT: \"+e+\"\\n\\t\"+r),process.exit(1)},exports.assert=function(e){if(e)return;if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];let t=[];for(let e=1;e<arguments.length;++e)\"\"!==arguments[e]&&t.push(arguments[e]);throw t=t.map(e=>\"string\"==typeof e?e:e instanceof Error?e.message:exports.stringify(e)),new Error(t.join(\" \")||\"Unknown error\")},exports.Timer=function(){this.ts=0,this.reset()},exports.Timer.prototype.reset=function(){this.ts=Date.now()},exports.Timer.prototype.elapsed=function(){return Date.now()-this.ts},exports.Bench=function(){this.ts=0,this.reset()},exports.Bench.prototype.reset=function(){this.ts=exports.Bench.now()},exports.Bench.prototype.elapsed=function(){return exports.Bench.now()-this.ts},exports.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},exports.escapeRegex=function(e){return e.replace(/[\\^\\$\\.\\*\\+\\-\\?\\=\\!\\:\\|\\\\\\/\\(\\)\\[\\]\\{\\}\\,]/g,\"\\\\$&\")},exports.base64urlEncode=function(e,t){exports.assert(\"string\"==typeof e||Buffer.isBuffer(e),\"value must be string or buffer\");return(Buffer.isBuffer(e)?e:new Buffer(e,t||\"binary\")).toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\")},exports.base64urlDecode=function(e,t){if(\"string\"!=typeof e)return new Error(\"Value not a string\");if(!/^[\\w\\-]*$/.test(e))return new Error(\"Invalid character\");const r=new Buffer(e,\"base64\");return\"buffer\"===t?r:r.toString(t||\"binary\")},exports.escapeHeaderAttribute=function(e){return exports.assert(/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~\\\"\\\\]*$/.test(e),\"Bad attribute value (\"+e+\")\"),e.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,'\\\\\"')},exports.escapeHtml=function(e){return Escape.escapeHtml(e)},exports.escapeJavaScript=function(e){return Escape.escapeJavaScript(e)},exports.escapeJson=function(e){return Escape.escapeJson(e)},exports.nextTick=function(e){return function(){const t=arguments;process.nextTick(()=>{e.apply(null,t)})}},exports.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},exports.isInteger=Number.isSafeInteger,exports.ignore=function(){},exports.inherits=Util.inherits,exports.format=Util.format,exports.transform=function(e,t,r){exports.assert(null===e||void 0===e||\"object\"==typeof e||Array.isArray(e),\"Invalid source object: must be null, undefined, an object, or an array\");const n=\"object\"==typeof r&&null!==r?r.separator||\".\":\".\";if(Array.isArray(e)){const n=[];for(let o=0;o<e.length;++o)n.push(exports.transform(e[o],t,r));return n}const o={},s=Object.keys(t);for(let a=0;a<s.length;++a){const i=s[a],c=i.split(n),p=t[i];exports.assert(\"string\"==typeof p,'All mappings must be \".\" delineated strings');let l,f=o;for(;c.length>1;)f[l=c.shift()]||(f[l]={}),f=f[l];f[l=c.shift()]=exports.reach(e,p,r)}return o},exports.uniqueFilename=function(e,t){t=t?\".\"!==t[0]?\".\"+t:t:\"\",e=Path.resolve(e);const r=[Date.now(),process.pid,Crypto.randomBytes(8).toString(\"hex\")].join(\"-\")+t;return Path.join(e,r)},exports.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return\"[Cannot display object: \"+e.message+\"]\"}},exports.shallow=function(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;++n){const o=r[n];t[o]=e[o]}return t};","node_modules/hoek/lib/escape.js":"\"use strict\";const internals={};exports.escapeJavaScript=function(e){if(!e)return\"\";let n=\"\";for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);internals.isSafe(r)?n+=e[t]:n+=internals.escapeJavaScriptChar(r)}return n},exports.escapeHtml=function(e){if(!e)return\"\";let n=\"\";for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);internals.isSafe(r)?n+=e[t]:n+=internals.escapeHtmlChar(r)}return n},exports.escapeJson=function(e){if(!e)return\"\";let n;return e.replace(/[<>&\\u2028\\u2029]/g,e=>60===(n=e.charCodeAt(0))?\"\\\\u003c\":62===n?\"\\\\u003e\":38===n?\"\\\\u0026\":8232===n?\"\\\\u2028\":\"\\\\u2029\")},internals.escapeJavaScriptChar=function(e){if(e>=256)return\"\\\\u\"+internals.padLeft(\"\"+e,4);const n=new Buffer(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"\\\\x\"+internals.padLeft(n,2)},internals.escapeHtmlChar=function(e){const n=internals.namedHtml[e];if(void 0!==n)return n;if(e>=256)return\"&#\"+e+\";\";const t=new Buffer(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"&#x\"+internals.padLeft(t,2)+\";\"},internals.padLeft=function(e,n){for(;e.length<n;)e=\"0\"+e;return e},internals.isSafe=function(e){return void 0!==internals.safeCharCodes[e]},internals.namedHtml={38:\"&amp;\",60:\"&lt;\",62:\"&gt;\",34:\"&quot;\",160:\"&nbsp;\",162:\"&cent;\",163:\"&pound;\",164:\"&curren;\",169:\"&copy;\",174:\"&reg;\"},internals.safeCharCodes=function(){const e={};for(let n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&(e[n]=null);return e}();","node_modules/cryptiles/lib/index.js":"\"use strict\";const Crypto=require(\"crypto\"),Boom=require(\"boom\");exports.randomString=function(r){const t=exports.randomBits(6*(r+1));if(t instanceof Error)return t;return t.toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\").slice(0,r)},exports.randomDigits=function(r){const t=exports.randomBits(8*r);if(t instanceof Error)return t;const e=[];for(let r=0;r<t.length;++r)e.push(Math.floor(t[r]/25.6));return e.join(\"\")},exports.randomBits=function(r){if(!r||r<0)return Boom.internal(\"Invalid random bits count\");const t=Math.ceil(r/8);try{return Crypto.randomBytes(t)}catch(r){return Boom.internal(\"Failed generating random bits: \"+r.message)}},exports.fixedTimeComparison=function(r,t){if(\"string\"!=typeof r||\"string\"!=typeof t)return!1;let e=r.length===t.length?0:1;e&&(t=r);for(let n=0;n<r.length;++n){e|=r.charCodeAt(n)^t.charCodeAt(n)}return 0===e};","node_modules/aws4/lru.js":"module.exports=function(t){return new LruCache(t)};function LruCache(t){this.capacity=0|t,this.map=Object.create(null),this.list=new DoublyLinkedList}LruCache.prototype.get=function(t){var e=this.map[t];if(null!=e)return this.used(e),e.val},LruCache.prototype.set=function(t,e){var i=this.map[t];if(null!=i)i.val=e;else{if(this.capacity||this.prune(),!this.capacity)return!1;i=new DoublyLinkedNode(t,e),this.map[t]=i,this.capacity--}return this.used(i),!0},LruCache.prototype.used=function(t){this.list.moveToFront(t)},LruCache.prototype.prune=function(){var t=this.list.pop();null!=t&&(delete this.map[t.key],this.capacity++)};function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}DoublyLinkedList.prototype.moveToFront=function(t){this.firstNode!=t&&(this.remove(t),null==this.firstNode?(this.firstNode=t,this.lastNode=t,t.prev=null,t.next=null):(t.prev=null,t.next=this.firstNode,t.next.prev=t,this.firstNode=t))},DoublyLinkedList.prototype.pop=function(){var t=this.lastNode;return null!=t&&this.remove(t),t},DoublyLinkedList.prototype.remove=function(t){this.firstNode==t?this.firstNode=t.next:null!=t.prev&&(t.prev.next=t.next),this.lastNode==t?this.lastNode=t.prev:null!=t.next&&(t.next.prev=t.prev)};function DoublyLinkedNode(t,e){this.key=t,this.val=e,this.prev=null,this.next=null}","node_modules/http-signature/lib/parser.js":"var assert=require(\"assert-plus\"),util=require(\"util\"),utils=require(\"./utils\"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,HttpSignatureError=utils.HttpSignatureError,InvalidAlgorithmError=utils.InvalidAlgorithmError,validateAlgorithm=utils.validateAlgorithm,State={New:0,Params:1},ParamsState={Name:0,Quote:1,Value:2,Comma:3};function ExpiredRequestError(r){HttpSignatureError.call(this,r,ExpiredRequestError)}util.inherits(ExpiredRequestError,HttpSignatureError);function InvalidHeaderError(r){HttpSignatureError.call(this,r,InvalidHeaderError)}util.inherits(InvalidHeaderError,HttpSignatureError);function InvalidParamsError(r){HttpSignatureError.call(this,r,InvalidParamsError)}util.inherits(InvalidParamsError,HttpSignatureError);function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}util.inherits(MissingHeaderError,HttpSignatureError);function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}util.inherits(StrictParsingError,HttpSignatureError),module.exports={parseRequest:function(r,e){assert.object(r,\"request\"),assert.object(r.headers,\"request.headers\"),void 0===e&&(e={}),void 0===e.headers&&(e.headers=[r.headers[\"x-date\"]?\"x-date\":\"date\"]),assert.object(e,\"options\"),assert.arrayOfString(e.headers,\"options.headers\"),assert.optionalFinite(e.clockSkew,\"options.clockSkew\");var a=e.authorizationHeaderName||\"authorization\";if(!r.headers[a])throw new MissingHeaderError(\"no \"+a+\" header present in the request\");e.clockSkew=e.clockSkew||300;var t=0,i=State.New,s=ParamsState.Name,o=\"\",n=\"\",d={scheme:\"\",params:{},signingString:\"\"},h=r.headers[a];for(t=0;t<h.length;t++){var l=h.charAt(t);switch(Number(i)){case State.New:\" \"!==l?d.scheme+=l:i=State.Params;break;case State.Params:switch(Number(s)){case ParamsState.Name:var m=l.charCodeAt(0);if(m>=65&&m<=90||m>=97&&m<=122)o+=l;else{if(\"=\"!==l)throw new InvalidHeaderError(\"bad param format\");if(0===o.length)throw new InvalidHeaderError(\"bad param format\");s=ParamsState.Quote}break;case ParamsState.Quote:if('\"'!==l)throw new InvalidHeaderError(\"bad param format\");n=\"\",s=ParamsState.Value;break;case ParamsState.Value:'\"'===l?(d.params[o]=n,s=ParamsState.Comma):n+=l;break;case ParamsState.Comma:if(\",\"!==l)throw new InvalidHeaderError(\"bad param format\");o=\"\",s=ParamsState.Name;break;default:throw new Error(\"Invalid substate\")}break;default:throw new Error(\"Invalid substate\")}}if(d.params.headers&&\"\"!==d.params.headers?d.params.headers=d.params.headers.split(\" \"):r.headers[\"x-date\"]?d.params.headers=[\"x-date\"]:d.params.headers=[\"date\"],!d.scheme||\"Signature\"!==d.scheme)throw new InvalidHeaderError('scheme was not \"Signature\"');if(!d.params.keyId)throw new InvalidHeaderError(\"keyId was not specified\");if(!d.params.algorithm)throw new InvalidHeaderError(\"algorithm was not specified\");if(!d.params.signature)throw new InvalidHeaderError(\"signature was not specified\");d.params.algorithm=d.params.algorithm.toLowerCase();try{validateAlgorithm(d.params.algorithm)}catch(r){throw r instanceof InvalidAlgorithmError?new InvalidParamsError(d.params.algorithm+\" is not supported\"):r}for(t=0;t<d.params.headers.length;t++){var u=d.params.headers[t].toLowerCase();if(d.params.headers[t]=u,\"request-line\"===u){if(e.strict)throw new StrictParsingError(\"request-line is not a valid header with strict parsing enabled.\");d.signingString+=r.method+\" \"+r.url+\" HTTP/\"+r.httpVersion}else if(\"(request-target)\"===u)d.signingString+=\"(request-target): \"+r.method.toLowerCase()+\" \"+r.url;else{var g=r.headers[u];if(void 0===g)throw new MissingHeaderError(u+\" was not in the request\");d.signingString+=u+\": \"+g}t+1<d.params.headers.length&&(d.signingString+=\"\\n\")}var p;if(r.headers.date||r.headers[\"x-date\"]){p=r.headers[\"x-date\"]?new Date(r.headers[\"x-date\"]):new Date(r.headers.date);var w=new Date,c=Math.abs(w.getTime()-p.getTime());if(c>1e3*e.clockSkew)throw new ExpiredRequestError(\"clock skew of \"+c/1e3+\"s was greater than \"+e.clockSkew+\"s\")}if(e.headers.forEach(function(r){if(d.params.headers.indexOf(r.toLowerCase())<0)throw new MissingHeaderError(r+\" was not a signed header\")}),e.algorithms&&-1===e.algorithms.indexOf(d.params.algorithm))throw new InvalidParamsError(d.params.algorithm+\" is not a supported algorithm\");return d.algorithm=d.params.algorithm.toUpperCase(),d.keyId=d.params.keyId,d}};","node_modules/http-signature/lib/signer.js":"var assert=require(\"assert-plus\"),crypto=require(\"crypto\"),http=require(\"http\"),util=require(\"util\"),sshpk=require(\"sshpk\"),jsprim=require(\"jsprim\"),utils=require(\"./utils\"),sprintf=require(\"util\").format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId=\"%s\",algorithm=\"%s\",headers=\"%s\",signature=\"%s\"';function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}util.inherits(MissingHeaderError,HttpSignatureError);function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}util.inherits(StrictParsingError,HttpSignatureError);function RequestSigner(r){assert.object(r,\"options\");var e=[];if(void 0!==r.algorithm&&(assert.string(r.algorithm,\"options.algorithm\"),e=validateAlgorithm(r.algorithm)),this.rs_alg=e,void 0!==r.sign)assert.func(r.sign,\"options.sign\"),this.rs_signFunc=r.sign;else if(\"hmac\"===e[0]&&void 0!==r.key){if(assert.string(r.keyId,\"options.keyId\"),this.rs_keyId=r.keyId,\"string\"!=typeof r.key&&!Buffer.isBuffer(r.key))throw new TypeError(\"options.key for HMAC must be a string or Buffer\");this.rs_signer=crypto.createHmac(e[1].toUpperCase(),r.key),this.rs_signer.sign=function(){var r=this.digest(\"base64\");return{hashAlgorithm:e[1],toString:function(){return r}}}}else{if(void 0===r.key)throw new TypeError(\"options.sign (func) or options.key is required\");var t=r.key;if((\"string\"==typeof t||Buffer.isBuffer(t))&&(t=sshpk.parsePrivateKey(t)),assert.ok(sshpk.PrivateKey.isPrivateKey(t,[1,2]),\"options.key must be a sshpk.PrivateKey\"),this.rs_key=t,assert.string(r.keyId,\"options.keyId\"),this.rs_keyId=r.keyId,!PK_ALGOS[t.type])throw new InvalidAlgorithmError(t.type.toUpperCase()+\" type keys are not supported\");if(void 0!==e[0]&&t.type!==e[0])throw new InvalidAlgorithmError(\"options.key must be a \"+e[0].toUpperCase()+\" key, was given a \"+t.type.toUpperCase()+\" key instead\");this.rs_signer=t.createSign(e[1])}this.rs_headers=[],this.rs_lines=[]}RequestSigner.prototype.writeHeader=function(r,e){if(assert.string(r,\"header\"),r=r.toLowerCase(),assert.string(e,\"value\"),this.rs_headers.push(r),this.rs_signFunc)this.rs_lines.push(r+\": \"+e);else{var t=r+\": \"+e;this.rs_headers.length>0&&(t=\"\\n\"+t),this.rs_signer.update(t)}return e},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader(\"date\",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(r,e){assert.string(r,\"method\"),assert.string(e,\"path\"),r=r.toLowerCase(),this.writeHeader(\"(request-target)\",r+\" \"+e)},RequestSigner.prototype.sign=function(r){if(assert.func(r,\"callback\"),this.rs_headers.length<1)throw new Error(\"At least one header must be signed\");var e,t;if(this.rs_signFunc){var s=this.rs_lines.join(\"\\n\"),i=this;this.rs_signFunc(s,function(s,a){if(s)r(s);else{try{assert.object(a,\"signature\"),assert.string(a.keyId,\"signature.keyId\"),assert.string(a.algorithm,\"signature.algorithm\"),assert.string(a.signature,\"signature.signature\"),e=validateAlgorithm(a.algorithm),t=sprintf(AUTHZ_FMT,a.keyId,a.algorithm,i.rs_headers.join(\" \"),a.signature)}catch(e){return void r(e)}r(null,t)}})}else{try{var a=this.rs_signer.sign()}catch(e){return void r(e)}e=(this.rs_alg[0]||this.rs_key.type)+\"-\"+a.hashAlgorithm;var o=a.toString();t=sprintf(AUTHZ_FMT,this.rs_keyId,e,this.rs_headers.join(\" \"),o),r(null,t)}},module.exports={isSigner:function(r){return\"object\"==typeof r&&r instanceof RequestSigner},createSigner:function(r){return new RequestSigner(r)},signRequest:function(r,e){assert.object(r,\"request\"),assert.object(e,\"options\"),assert.optionalString(e.algorithm,\"options.algorithm\"),assert.string(e.keyId,\"options.keyId\"),assert.optionalArrayOfString(e.headers,\"options.headers\"),assert.optionalString(e.httpVersion,\"options.httpVersion\"),r.getHeader(\"Date\")||r.setHeader(\"Date\",jsprim.rfc1123(new Date)),e.headers||(e.headers=[\"date\"]),e.httpVersion||(e.httpVersion=\"1.1\");var t=[];e.algorithm&&(e.algorithm=e.algorithm.toLowerCase(),t=validateAlgorithm(e.algorithm));var s,i=\"\";for(s=0;s<e.headers.length;s++){if(\"string\"!=typeof e.headers[s])throw new TypeError(\"options.headers must be an array of Strings\");var a=e.headers[s].toLowerCase();if(\"request-line\"===a){if(e.strict)throw new StrictParsingError(\"request-line is not a valid header with strict parsing enabled.\");i+=r.method+\" \"+r.path+\" HTTP/\"+e.httpVersion}else if(\"(request-target)\"===a)i+=\"(request-target): \"+r.method.toLowerCase()+\" \"+r.path;else{var o=r.getHeader(a);if(void 0===o||\"\"===o)throw new MissingHeaderError(a+\" was not in the request\");i+=a+\": \"+o}s+1<e.headers.length&&(i+=\"\\n\")}r.hasOwnProperty(\"_stringToSign\")&&(r._stringToSign=i);var n;if(\"hmac\"===t[0]){if(\"string\"!=typeof e.key&&!Buffer.isBuffer(e.key))throw new TypeError(\"options.key must be a string or Buffer\");var h=crypto.createHmac(t[1].toUpperCase(),e.key);h.update(i),n=h.digest(\"base64\")}else{var g=e.key;if((\"string\"==typeof g||Buffer.isBuffer(g))&&(g=sshpk.parsePrivateKey(e.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(g,[1,2]),\"options.key must be a sshpk.PrivateKey\"),!PK_ALGOS[g.type])throw new InvalidAlgorithmError(g.type.toUpperCase()+\" type keys are not supported\");if(void 0!==t[0]&&g.type!==t[0])throw new InvalidAlgorithmError(\"options.key must be a \"+t[0].toUpperCase()+\" key, was given a \"+g.type.toUpperCase()+\" key instead\");var p=g.createSign(t[1]);p.update(i);var u=p.sign();if(!HASH_ALGOS[u.hashAlgorithm])throw new InvalidAlgorithmError(u.hashAlgorithm.toUpperCase()+\" is not a supported hash algorithm\");e.algorithm=g.type+\"-\"+u.hashAlgorithm,n=u.toString(),assert.notStrictEqual(n,\"\",\"empty signature produced\")}var l=e.authorizationHeaderName||\"Authorization\";return r.setHeader(l,sprintf(AUTHZ_FMT,e.keyId,e.algorithm,e.headers.join(\" \"),n)),!0}};","node_modules/http-signature/lib/verify.js":"var assert=require(\"assert-plus\"),crypto=require(\"crypto\"),sshpk=require(\"sshpk\"),utils=require(\"./utils\"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm;module.exports={verifySignature:function(r,e){assert.object(r,\"parsedSignature\"),(\"string\"==typeof e||Buffer.isBuffer(e))&&(e=sshpk.parseKey(e)),assert.ok(sshpk.Key.isKey(e,[1,1]),\"pubkey must be a sshpk.Key\");var t=validateAlgorithm(r.algorithm);if(\"hmac\"===t[0]||t[0]!==e.type)return!1;var a=e.createVerify(t[1]);return a.update(r.signingString),a.verify(r.params.signature,\"base64\")},verifyHMAC:function(r,e){assert.object(r,\"parsedHMAC\"),assert.string(e,\"secret\");var t=validateAlgorithm(r.algorithm);if(\"hmac\"!==t[0])return!1;var a=t[1].toUpperCase(),i=crypto.createHmac(a,e);i.update(r.signingString);var s=crypto.createHmac(a,e);s.update(i.digest()),s=s.digest();var u=crypto.createHmac(a,e);return u.update(new Buffer(r.params.signature,\"base64\")),u=u.digest(),\"string\"==typeof s?s===u:Buffer.isBuffer(s)&&!s.equals?s.toString(\"binary\")===u.toString(\"binary\"):s.equals(u)}};","node_modules/http-signature/lib/utils.js":"var assert=require(\"assert-plus\"),sshpk=require(\"sshpk\"),util=require(\"util\"),HASH_ALGOS={sha1:!0,sha256:!0,sha512:!0},PK_ALGOS={rsa:!0,dsa:!0,ecdsa:!0};function HttpSignatureError(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||HttpSignatureError),this.message=r,this.name=t.name}util.inherits(HttpSignatureError,Error);function InvalidAlgorithmError(r){HttpSignatureError.call(this,r,InvalidAlgorithmError)}util.inherits(InvalidAlgorithmError,HttpSignatureError);function validateAlgorithm(r){var t=r.toLowerCase().split(\"-\");if(2!==t.length)throw new InvalidAlgorithmError(t[0].toUpperCase()+\" is not a valid algorithm\");if(\"hmac\"!==t[0]&&!PK_ALGOS[t[0]])throw new InvalidAlgorithmError(t[0].toUpperCase()+\" type keys are not supported\");if(!HASH_ALGOS[t[1]])throw new InvalidAlgorithmError(t[1].toUpperCase()+\" is not a supported hash algorithm\");return t}module.exports={HASH_ALGOS:HASH_ALGOS,PK_ALGOS:PK_ALGOS,HttpSignatureError:HttpSignatureError,InvalidAlgorithmError:InvalidAlgorithmError,validateAlgorithm:validateAlgorithm,sshKeyToPEM:function(r){assert.string(r,\"ssh_key\");return sshpk.parseKey(r,\"ssh\").toString(\"pem\")},fingerprint:function(r){assert.string(r,\"ssh_key\");return sshpk.parseKey(r,\"ssh\").fingerprint(\"md5\").toString(\"hex\")},pemToRsaSSHKey:function(r,t){assert.equal(\"string\",typeof r,\"typeof pem\");var e=sshpk.parseKey(r,\"pem\");return e.comment=t,e.toString(\"ssh\")}};","node_modules/assert-plus/assert.js":"var assert=require(\"assert\"),Stream=require(\"stream\").Stream,util=require(\"util\"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _toss(t,r,e,o,n){throw new assert.AssertionError({message:util.format(\"%s (%s) is required\",t,r),actual:void 0===n?typeof o:n(o),expected:r,operator:e||\"===\",stackStartFunction:_toss.caller})}function _getClass(t){return Object.prototype.toString.call(t).slice(8,-1)}function noop(){}var types={bool:{check:function(t){return\"boolean\"==typeof t}},func:{check:function(t){return\"function\"==typeof t}},string:{check:function(t){return\"string\"==typeof t}},object:{check:function(t){return\"object\"==typeof t&&null!==t}},number:{check:function(t){return\"number\"==typeof t&&!isNaN(t)}},finite:{check:function(t){return\"number\"==typeof t&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return Buffer.isBuffer(t)},operator:\"Buffer.isBuffer\"},array:{check:function(t){return Array.isArray(t)},operator:\"Array.isArray\"},stream:{check:function(t){return t instanceof Stream},operator:\"instanceof\",actual:_getClass},date:{check:function(t){return t instanceof Date},operator:\"instanceof\",actual:_getClass},regexp:{check:function(t){return t instanceof RegExp},operator:\"instanceof\",actual:_getClass},uuid:{check:function(t){return\"string\"==typeof t&&UUID_REGEXP.test(t)},operator:\"isUUID\"}};function _setExports(t){var r,e=Object.keys(types);return r=process.env.NODE_NDEBUG?noop:function(t,r){t||_toss(r,\"true\",t)},e.forEach(function(e){if(t)r[e]=noop;else{var o=types[e];r[e]=function(t,r){o.check(t)||_toss(r,e,o.operator,t,o.actual)}}}),e.forEach(function(e){var o=\"optional\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e];r[o]=function(t,r){void 0!==t&&null!==t&&(n.check(t)||_toss(r,e,n.operator,t,n.actual))}}}),e.forEach(function(e){var o=\"arrayOf\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e],a=\"[\"+e+\"]\";r[o]=function(t,r){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}),e.forEach(function(e){var o=\"optionalArrayOf\"+_capitalize(e);if(t)r[o]=noop;else{var n=types[e],a=\"[\"+e+\"]\";r[o]=function(t,r){if(void 0!==t&&null!==t){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}}),Object.keys(assert).forEach(function(e){r[e]=\"AssertionError\"!==e&&t?noop:assert[e]}),r._setExports=_setExports,r}module.exports=_setExports(process.env.NODE_NDEBUG);","node_modules/sshpk/lib/index.js":"var Key=require(\"./key\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),PrivateKey=require(\"./private-key\"),Certificate=require(\"./certificate\"),Identity=require(\"./identity\"),errs=require(\"./errors\");module.exports={Key:Key,parseKey:Key.parse,Fingerprint:Fingerprint,parseFingerprint:Fingerprint.parse,Signature:Signature,parseSignature:Signature.parse,PrivateKey:PrivateKey,parsePrivateKey:PrivateKey.parse,generatePrivateKey:PrivateKey.generate,Certificate:Certificate,parseCertificate:Certificate.parse,createSelfSignedCertificate:Certificate.createSelfSigned,createCertificate:Certificate.create,Identity:Identity,identityFromDN:Identity.parseDN,identityForHost:Identity.forHost,identityForUser:Identity.forUser,identityForEmail:Identity.forEmail,FingerprintFormatError:errs.FingerprintFormatError,InvalidAlgorithmError:errs.InvalidAlgorithmError,KeyParseError:errs.KeyParseError,SignatureParseError:errs.SignatureParseError,KeyEncryptedError:errs.KeyEncryptedError,CertificateParseError:errs.CertificateParseError};","node_modules/sshpk/lib/key.js":"module.exports=Key;var edCompat,assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),DiffieHellman=require(\"./dhe\").DiffieHellman,errs=require(\"./errors\"),utils=require(\"./utils\"),PrivateKey=require(\"./private-key\");try{edCompat=require(\"./ed-compat\")}catch(r){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require(\"./formats/auto\"),formats.pem=require(\"./formats/pem\"),formats.pkcs1=require(\"./formats/pkcs1\"),formats.pkcs8=require(\"./formats/pkcs8\"),formats.rfc4253=require(\"./formats/rfc4253\"),formats.ssh=require(\"./formats/ssh\"),formats[\"ssh-private\"]=require(\"./formats/ssh-private\"),formats.openssh=formats[\"ssh-private\"];function Key(r){assert.object(r,\"options\"),assert.arrayOfObject(r.parts,\"options.parts\"),assert.string(r.type,\"options.type\"),assert.optionalString(r.comment,\"options.comment\");var e=algs.info[r.type];if(\"object\"!=typeof e)throw new InvalidAlgorithmError(r.type);for(var t={},s=0;s<r.parts.length;++s){var i=r.parts[s];t[i.name]=i}this.type=r.type,this.parts=r.parts,this.part=t,this.comment=void 0,this.source=r.source,this._rfc4253Cache=r._rfc4253Cache,this._hashCache={};var a;if(this.curve=void 0,\"ecdsa\"===this.type){var o=this.part.curve.data.toString();this.curve=o,a=algs.curves[o].size}else if(\"ed25519\"===this.type||\"curve25519\"===this.type)a=256,this.curve=\"curve25519\";else{var n=this.part[e.sizePart];a=8*(a=n.data.length)-utils.countZeros(n.data)}this.size=a}Key.formats=formats,Key.prototype.toBuffer=function(r,e){return void 0===r&&(r=\"ssh\"),assert.string(r,\"format\"),assert.object(formats[r],\"formats[format]\"),assert.optionalObject(e,\"options\"),\"rfc4253\"===r?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[r].write(this,e)},Key.prototype.toString=function(r,e){return this.toBuffer(r,e).toString()},Key.prototype.hash=function(r){if(assert.string(r,\"algorithm\"),r=r.toLowerCase(),void 0===algs.hashAlgs[r])throw new InvalidAlgorithmError(r);if(this._hashCache[r])return this._hashCache[r];var e=crypto.createHash(r).update(this.toBuffer(\"rfc4253\")).digest();return this._hashCache[r]=e,e},Key.prototype.fingerprint=function(r){void 0===r&&(r=\"sha256\"),assert.string(r,\"algorithm\");var e={type:\"key\",hash:this.hash(r),algorithm:r};return new Fingerprint(e)},Key.prototype.defaultHashAlgorithm=function(){var r=\"sha1\";return\"rsa\"===this.type&&(r=\"sha256\"),\"dsa\"===this.type&&this.size>1024&&(r=\"sha256\"),\"ed25519\"===this.type&&(r=\"sha512\"),\"ecdsa\"===this.type&&(r=this.size<=256?\"sha256\":this.size<=384?\"sha384\":\"sha512\"),r},Key.prototype.createVerify=function(r){if(void 0===r&&(r=this.defaultHashAlgorithm()),assert.string(r,\"hash algorithm\"),\"ed25519\"===this.type&&void 0!==edCompat)return new edCompat.Verifier(this,r);if(\"curve25519\"===this.type)throw new Error(\"Curve25519 keys are not suitable for signing or verification\");var e,t,s;try{t=r.toUpperCase(),e=crypto.createVerify(t)}catch(r){s=r}(void 0===e||s instanceof Error&&s.message.match(/Unknown message digest/))&&(t=\"RSA-\",t+=r.toUpperCase(),e=crypto.createVerify(t)),assert.ok(e,\"failed to create verifier\");var i=e.verify.bind(e),a=this.toBuffer(\"pkcs8\"),o=this.curve,n=this;return e.verify=function(e,t){if(Signature.isSignature(e,[2,0]))return e.type===n.type&&((!e.hashAlgorithm||e.hashAlgorithm===r)&&((!e.curve||\"ecdsa\"!==n.type||e.curve===o)&&i(a,e.toBuffer(\"asn1\"))));if(\"string\"==typeof e||Buffer.isBuffer(e))return i(a,e,t);throw Signature.isSignature(e,[1,0])?new Error(\"signature was created by too old a version of sshpk and cannot be verified\"):new TypeError(\"signature must be a string, Buffer, or Signature object\")},e},Key.prototype.createDiffieHellman=function(){if(\"rsa\"===this.type)throw new Error(\"RSA keys do not support Diffie-Hellman\");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(r,e,t){\"string\"!=typeof r&&assert.buffer(r,\"data\"),void 0===e&&(e=\"auto\"),assert.string(e,\"format\"),\"string\"==typeof t&&(t={filename:t}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),assert.optionalString(t.filename,\"options.filename\"),void 0===t.filename&&(t.filename=\"(unnamed)\"),assert.object(formats[e],\"formats[format]\");try{var s=formats[e].read(r,t);return s instanceof PrivateKey&&(s=s.toPublic()),s.comment||(s.comment=t.filename),s}catch(r){if(\"KeyEncryptedError\"===r.name)throw r;throw new KeyParseError(t.filename,e,r)}},Key.isKey=function(r,e){return utils.isCompatible(r,Key,e)},Key.prototype._sshpkApiVersion=[1,5],Key._oldVersionDetect=function(r){return assert.func(r.toBuffer),assert.func(r.fingerprint),r.createDH?[1,4]:r.defaultHashAlgorithm?[1,3]:r.formats.auto?[1,2]:r.formats.pkcs1?[1,1]:[1,0]};","node_modules/sshpk/lib/fingerprint.js":"module.exports=Fingerprint;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),errs=require(\"./errors\"),Key=require(\"./key\"),Certificate=require(\"./certificate\"),utils=require(\"./utils\"),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Fingerprint(r){if(assert.object(r,\"options\"),assert.string(r.type,\"options.type\"),assert.buffer(r.hash,\"options.hash\"),assert.string(r.algorithm,\"options.algorithm\"),this.algorithm=r.algorithm.toLowerCase(),!0!==algs.hashAlgs[this.algorithm])throw new InvalidAlgorithmError(this.algorithm);this.hash=r.hash,this.type=r.type}Fingerprint.prototype.toString=function(r){switch(void 0===r&&(r=\"md5\"===this.algorithm?\"hex\":\"base64\"),assert.string(r),r){case\"hex\":return addColons(this.hash.toString(\"hex\"));case\"base64\":return sshBase64Format(this.algorithm,this.hash.toString(\"base64\"));default:throw new FingerprintFormatError(void 0,r)}},Fingerprint.prototype.matches=function(r){assert.object(r,\"key or certificate\"),\"key\"===this.type?utils.assertCompatible(r,Key,[1,0],\"key\"):utils.assertCompatible(r,Certificate,[1,0],\"certificate\");var t=r.hash(this.algorithm),e=crypto.createHash(this.algorithm).update(t).digest(\"base64\");return void 0===this.hash2&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest(\"base64\")),this.hash2===e},Fingerprint.parse=function(r,t){assert.string(r,\"fingerprint\");var e,i,s;Array.isArray(t)&&(s=t,t={}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),void 0!==t.enAlgs&&(s=t.enAlgs),assert.optionalArrayOfString(s,\"algorithms\");var o=r.split(\":\");if(2==o.length){e=o[0].toLowerCase();if(!/^[A-Za-z0-9+\\/=]+$/.test(o[1]))throw new FingerprintFormatError(r);try{i=new Buffer(o[1],\"base64\")}catch(t){throw new FingerprintFormatError(r)}}else if(o.length>2){e=\"md5\",\"md5\"===o[0].toLowerCase()&&(o=o.slice(1)),o=o.join(\"\");if(!/^[a-fA-F0-9]+$/.test(o))throw new FingerprintFormatError(r);try{i=new Buffer(o,\"hex\")}catch(t){throw new FingerprintFormatError(r)}}if(void 0===e)throw new FingerprintFormatError(r);if(void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(void 0!==s&&-1===(s=s.map(function(r){return r.toLowerCase()})).indexOf(e))throw new InvalidAlgorithmError(e);return new Fingerprint({algorithm:e,hash:i,type:t.type||\"key\"})};function addColons(r){return r.replace(/(.{2})(?=.)/g,\"$1:\")}function base64Strip(r){return r.replace(/=*$/,\"\")}function sshBase64Format(r,t){return r.toUpperCase()+\":\"+base64Strip(t)}Fingerprint.isFingerprint=function(r,t){return utils.isCompatible(r,Fingerprint,t)},Fingerprint.prototype._sshpkApiVersion=[1,1],Fingerprint._oldVersionDetect=function(r){return assert.func(r.toString),assert.func(r.matches),[1,0]};","node_modules/sshpk/lib/signature.js":"module.exports=Signature;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),errs=require(\"./errors\"),utils=require(\"./utils\"),asn1=require(\"asn1\"),SSHBuffer=require(\"./ssh-buffer\"),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;function Signature(r){assert.object(r,\"options\"),assert.arrayOfObject(r.parts,\"options.parts\"),assert.string(r.type,\"options.type\");for(var e={},t=0;t<r.parts.length;++t){var a=r.parts[t];e[a.name]=a}this.type=r.type,this.hashAlgorithm=r.hashAlgo,this.curve=r.curve,this.parts=r.parts,this.part=e}Signature.prototype.toBuffer=function(r){void 0===r&&(r=\"asn1\"),assert.string(r,\"format\");var e,t=\"ssh-\"+this.type;switch(this.type){case\"rsa\":switch(this.hashAlgorithm){case\"sha256\":t=\"rsa-sha2-256\";break;case\"sha512\":t=\"rsa-sha2-512\";break;case\"sha1\":case void 0:break;default:throw new Error(\"SSH signature format does not support hash algorithm \"+this.hashAlgorithm)}return\"ssh\"===r?((e=new SSHBuffer({})).writeString(t),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case\"ed25519\":return\"ssh\"===r?((e=new SSHBuffer({})).writeString(t),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case\"dsa\":case\"ecdsa\":var a,s;if(\"asn1\"===r){var i=new asn1.BerWriter;return i.startSequence(),a=utils.mpNormalize(this.part.r.data),s=utils.mpNormalize(this.part.s.data),i.writeBuffer(a,asn1.Ber.Integer),i.writeBuffer(s,asn1.Ber.Integer),i.endSequence(),i.buffer}if(\"ssh\"===r&&\"dsa\"===this.type){if((e=new SSHBuffer({})).writeString(\"ssh-dss\"),(a=this.part.r.data).length>20&&0===a[0]&&(a=a.slice(1)),(s=this.part.s.data).length>20&&0===s[0]&&(s=s.slice(1)),this.hashAlgorithm&&\"sha1\"!==this.hashAlgorithm||a.length+s.length!==40)throw new Error(\"OpenSSH only supports DSA signatures with SHA1 hash\");return e.writeBuffer(Buffer.concat([a,s])),e.toBuffer()}if(\"ssh\"===r&&\"ecdsa\"===this.type){var n=new SSHBuffer({});a=this.part.r.data,n.writeBuffer(a),n.writePart(this.part.s),e=new SSHBuffer({});var u;0===a[0]&&(a=a.slice(1));var h=8*a.length;return 256===h?u=\"nistp256\":384===h?u=\"nistp384\":528===h&&(u=\"nistp521\"),e.writeString(\"ecdsa-sha2-\"+u),e.writeBuffer(n.toBuffer()),e.toBuffer()}throw new Error(\"Invalid signature format\");default:throw new Error(\"Invalid signature data\")}},Signature.prototype.toString=function(r){return assert.optionalString(r,\"format\"),this.toBuffer(r).toString(\"base64\")},Signature.parse=function(r,e,t){\"string\"==typeof r&&(r=new Buffer(r,\"base64\")),assert.buffer(r,\"data\"),assert.string(t,\"format\"),assert.string(e,\"type\");var a={};a.type=e.toLowerCase(),a.parts=[];try{switch(assert.ok(r.length>0,\"signature must not be empty\"),a.type){case\"rsa\":case\"ed25519\":return parseOneNum(r,e,t,a);case\"dsa\":case\"ecdsa\":return\"asn1\"===t?parseDSAasn1(r,e,t,a):\"dsa\"===a.type?parseDSA(r,e,t,a):parseECDSA(r,e,t,a);default:throw new InvalidAlgorithmError(e)}}catch(r){if(r instanceof InvalidAlgorithmError)throw r;throw new SignatureParseError(e,t,r)}};function parseOneNum(r,e,t,a){if(\"ssh\"===t){try{var s=new SSHBuffer({buffer:r}),i=s.readString()}catch(r){}if(void 0!==s){var n=\"SSH signature does not match expected type (expected \"+e+\", got \"+i+\")\";switch(i){case\"ssh-rsa\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha1\";break;case\"rsa-sha2-256\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha256\";break;case\"rsa-sha2-512\":assert.strictEqual(e,\"rsa\",n),a.hashAlgo=\"sha512\";break;case\"ssh-ed25519\":assert.strictEqual(e,\"ed25519\",n),a.hashAlgo=\"sha512\";break;default:throw new Error(\"Unknown SSH signature type: \"+i)}var u=s.readPart();return assert.ok(s.atEnd(),\"extra trailing bytes\"),u.name=\"sig\",a.parts.push(u),new Signature(a)}}return a.parts.push({name:\"sig\",data:r}),new Signature(a)}function parseDSAasn1(r,e,t,a){var s=new asn1.BerReader(r);s.readSequence();var i=s.readString(asn1.Ber.Integer,!0),n=s.readString(asn1.Ber.Integer,!0);return a.parts.push({name:\"r\",data:utils.mpNormalize(i)}),a.parts.push({name:\"s\",data:utils.mpNormalize(n)}),new Signature(a)}function parseDSA(r,e,t,a){if(40!=r.length){var s=new SSHBuffer({buffer:r}),i=s.readBuffer();\"ssh-dss\"===i.toString(\"ascii\")&&(i=s.readBuffer()),assert.ok(s.atEnd(),\"extra trailing bytes\"),assert.strictEqual(i.length,40,\"invalid inner length\"),r=i}return a.parts.push({name:\"r\",data:r.slice(0,20)}),a.parts.push({name:\"s\",data:r.slice(20,40)}),new Signature(a)}function parseECDSA(r,e,t,a){var s,i,n=new SSHBuffer({buffer:r}),u=n.readBuffer(),h=u.toString(\"ascii\");if(\"ecdsa-\"===h.slice(0,6)){var o=h.split(\"-\");switch(assert.strictEqual(o[0],\"ecdsa\"),assert.strictEqual(o[1],\"sha2\"),a.curve=o[2],a.curve){case\"nistp256\":a.hashAlgo=\"sha256\";break;case\"nistp384\":a.hashAlgo=\"sha384\";break;case\"nistp521\":a.hashAlgo=\"sha512\";break;default:throw new Error(\"Unsupported ECDSA curve: \"+a.curve)}u=n.readBuffer(),assert.ok(n.atEnd(),\"extra trailing bytes on outer\"),s=(n=new SSHBuffer({buffer:u})).readPart()}else s={data:u};return i=n.readPart(),assert.ok(n.atEnd(),\"extra trailing bytes\"),s.name=\"r\",i.name=\"s\",a.parts.push(s),a.parts.push(i),new Signature(a)}Signature.isSignature=function(r,e){return utils.isCompatible(r,Signature,e)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(r){return assert.func(r.toBuffer),r.hasOwnProperty(\"hashAlgorithm\")?[2,0]:[1,0]};","node_modules/sshpk/lib/private-key.js":"module.exports=PrivateKey;var edCompat,nacl,assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),dhe=require(\"./dhe\"),generateECDSA=dhe.generateECDSA,generateED25519=dhe.generateED25519;try{edCompat=require(\"./ed-compat\")}catch(e){}var Key=require(\"./key\"),InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,KeyEncryptedError=errs.KeyEncryptedError,formats={};formats.auto=require(\"./formats/auto\"),formats.pem=require(\"./formats/pem\"),formats.pkcs1=require(\"./formats/pkcs1\"),formats.pkcs8=require(\"./formats/pkcs8\"),formats.rfc4253=require(\"./formats/rfc4253\"),formats[\"ssh-private\"]=require(\"./formats/ssh-private\"),formats.openssh=formats[\"ssh-private\"],formats.ssh=formats[\"ssh-private\"];function PrivateKey(e){assert.object(e,\"options\"),Key.call(this,e),this._pubCache=void 0}util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(e,r){return void 0===e&&(e=\"pkcs1\"),assert.string(e,\"format\"),assert.object(formats[e],\"formats[format]\"),assert.optionalObject(r,\"options\"),formats[e].write(this,r)},PrivateKey.prototype.hash=function(e){return this.toPublic().hash(e)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=algs.info[this.type],r=[],t=0;t<e.parts.length;++t){var a=e.parts[t];r.push(this.part[a])}return this._pubCache=new Key({type:this.type,source:this,parts:r}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(e){assert.string(e,\"type\");var r,t,a;if(\"ed25519\"===this.type&&\"curve25519\"===e)return void 0===nacl&&(nacl=require(\"tweetnacl\")),0===(r=this.part.r.data)[0]&&(r=r.slice(1)),r=r.slice(0,32),a=nacl.box.keyPair.fromSecretKey(new Uint8Array(r)),t=new Buffer(a.publicKey),r=Buffer.concat([r,t]),new PrivateKey({type:\"curve25519\",parts:[{name:\"R\",data:utils.mpNormalize(t)},{name:\"r\",data:r}]});if(\"curve25519\"===this.type&&\"ed25519\"===e)return void 0===nacl&&(nacl=require(\"tweetnacl\")),0===(r=this.part.r.data)[0]&&(r=r.slice(1)),r=r.slice(0,32),a=nacl.sign.keyPair.fromSeed(new Uint8Array(r)),t=new Buffer(a.publicKey),r=Buffer.concat([r,t]),new PrivateKey({type:\"ed25519\",parts:[{name:\"R\",data:utils.mpNormalize(t)},{name:\"r\",data:r}]});throw new Error(\"Key derivation not supported from \"+this.type+\" to \"+e)},PrivateKey.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},PrivateKey.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),assert.string(e,\"hash algorithm\"),\"ed25519\"===this.type&&void 0!==edCompat)return new edCompat.Signer(this,e);if(\"curve25519\"===this.type)throw new Error(\"Curve25519 keys are not suitable for signing or verification\");var r,t,a;try{t=e.toUpperCase(),r=crypto.createSign(t)}catch(e){a=e}(void 0===r||a instanceof Error&&a.message.match(/Unknown message digest/))&&(t=\"RSA-\",t+=e.toUpperCase(),r=crypto.createSign(t)),assert.ok(r,\"failed to create verifier\");var i=r.sign.bind(r),s=this.toBuffer(\"pkcs1\"),o=this.type,n=this.curve;return r.sign=function(){var r=i(s);return\"string\"==typeof r&&(r=new Buffer(r,\"binary\")),r=Signature.parse(r,o,\"asn1\"),r.hashAlgorithm=e,r.curve=n,r},r},PrivateKey.parse=function(e,r,t){\"string\"!=typeof e&&assert.buffer(e,\"data\"),void 0===r&&(r=\"auto\"),assert.string(r,\"format\"),\"string\"==typeof t&&(t={filename:t}),assert.optionalObject(t,\"options\"),void 0===t&&(t={}),assert.optionalString(t.filename,\"options.filename\"),void 0===t.filename&&(t.filename=\"(unnamed)\"),assert.object(formats[r],\"formats[format]\");try{var a=formats[r].read(e,t);return assert.ok(a instanceof PrivateKey,\"key is not a private key\"),a.comment||(a.comment=t.filename),a}catch(e){if(\"KeyEncryptedError\"===e.name)throw e;throw new KeyParseError(t.filename,r,e)}},PrivateKey.isPrivateKey=function(e,r){return utils.isCompatible(e,PrivateKey,r)},PrivateKey.generate=function(e,r){switch(void 0===r&&(r={}),assert.object(r,\"options\"),e){case\"ecdsa\":return void 0===r.curve&&(r.curve=\"nistp256\"),assert.string(r.curve,\"options.curve\"),generateECDSA(r.curve);case\"ed25519\":return generateED25519();default:throw new Error('Key generation not supported with key type \"'+e+'\"')}},PrivateKey.prototype._sshpkApiVersion=[1,4],PrivateKey._oldVersionDetect=function(e){return assert.func(e.toPublic),assert.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]};","node_modules/sshpk/lib/certificate.js":"module.exports=Certificate;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),Key=require(\"./key\"),PrivateKey=require(\"./private-key\"),Identity=require(\"./identity\"),formats={};formats.openssh=require(\"./formats/openssh-cert\"),formats.x509=require(\"./formats/x509\"),formats.pem=require(\"./formats/x509-pem\");var CertificateParseError=errs.CertificateParseError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Certificate(e){assert.object(e,\"options\"),assert.arrayOfObject(e.subjects,\"options.subjects\"),utils.assertCompatible(e.subjects[0],Identity,[1,0],\"options.subjects\"),utils.assertCompatible(e.subjectKey,Key,[1,0],\"options.subjectKey\"),utils.assertCompatible(e.issuer,Identity,[1,0],\"options.issuer\"),void 0!==e.issuerKey&&utils.assertCompatible(e.issuerKey,Key,[1,0],\"options.issuerKey\"),assert.object(e.signatures,\"options.signatures\"),assert.buffer(e.serial,\"options.serial\"),assert.date(e.validFrom,\"options.validFrom\"),assert.date(e.validUntil,\"optons.validUntil\"),assert.optionalArrayOfString(e.purposes,\"options.purposes\"),this._hashCache={},this.subjects=e.subjects,this.issuer=e.issuer,this.subjectKey=e.subjectKey,this.issuerKey=e.issuerKey,this.signatures=e.signatures,this.serial=e.serial,this.validFrom=e.validFrom,this.validUntil=e.validUntil,this.purposes=e.purposes}Certificate.formats=formats,Certificate.prototype.toBuffer=function(e,t){return void 0===e&&(e=\"x509\"),assert.string(e,\"format\"),assert.object(formats[e],\"formats[format]\"),assert.optionalObject(t,\"options\"),formats[e].write(this,t)},Certificate.prototype.toString=function(e,t){return void 0===e&&(e=\"pem\"),this.toBuffer(e,t).toString()},Certificate.prototype.fingerprint=function(e){void 0===e&&(e=\"sha256\"),assert.string(e,\"algorithm\");var t={type:\"certificate\",hash:this.hash(e),algorithm:e};return new Fingerprint(t)},Certificate.prototype.hash=function(e){if(assert.string(e,\"algorithm\"),e=e.toLowerCase(),void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(this._hashCache[e])return this._hashCache[e];var t=crypto.createHash(e).update(this.toBuffer(\"x509\")).digest();return this._hashCache[e]=t,t},Certificate.prototype.isExpired=function(e){return void 0===e&&(e=new Date),!(e.getTime()>=this.validFrom.getTime()&&e.getTime()<this.validUntil.getTime())},Certificate.prototype.isSignedBy=function(e){return utils.assertCompatible(e,Certificate,[1,0],\"issuer\"),!!this.issuer.equals(e.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf(\"ca\"))&&this.isSignedByKey(e.subjectKey))},Certificate.prototype.isSignedByKey=function(e){if(utils.assertCompatible(e,Key,[1,2],\"issuerKey\"),void 0!==this.issuerKey)return this.issuerKey.fingerprint(\"sha512\").matches(e);var t=Object.keys(this.signatures)[0],i=formats[t].verify(this,e);return i&&(this.issuerKey=e),i},Certificate.prototype.signWith=function(e){utils.assertCompatible(e,PrivateKey,[1,2],\"key\");for(var t=Object.keys(formats),i=!1,r=0;r<t.length;++r)if(\"pem\"!==t[r]){!0===formats[t[r]].sign(this,e)&&(i=!0)}if(!i)throw new Error(\"Failed to sign the certificate for any available certificate formats\")},Certificate.createSelfSigned=function(e,t,i){var r;r=Array.isArray(e)?e:[e],assert.arrayOfObject(r),r.forEach(function(e){utils.assertCompatible(e,Identity,[1,0],\"subject\")}),utils.assertCompatible(t,PrivateKey,[1,2],\"private key\"),assert.optionalObject(i,\"options\"),void 0===i&&(i={}),assert.optionalObject(i.validFrom,\"options.validFrom\"),assert.optionalObject(i.validUntil,\"options.validUntil\");var s=i.validFrom,a=i.validUntil;if(void 0===s&&(s=new Date),void 0===a){assert.optionalNumber(i.lifetime,\"options.lifetime\");var o=i.lifetime;void 0===o&&(o=31536e4),(a=new Date).setTime(a.getTime()+1e3*o)}assert.optionalBuffer(i.serial,\"options.serial\");var n=i.serial;void 0===n&&(n=new Buffer(\"0000000000000001\",\"hex\"));var u=i.purposes;if(void 0===u&&(u=[]),-1===u.indexOf(\"signature\")&&u.push(\"signature\"),-1===u.indexOf(\"ca\")&&u.push(\"ca\"),-1===u.indexOf(\"crl\")&&u.push(\"crl\"),u.length<=3){var l=r.filter(function(e){return\"host\"===e.type}),f=r.filter(function(e){return\"user\"===e.type});l.length>0&&-1===u.indexOf(\"serverAuth\")&&u.push(\"serverAuth\"),f.length>0&&-1===u.indexOf(\"clientAuth\")&&u.push(\"clientAuth\"),(f.length>0||l.length>0)&&(-1===u.indexOf(\"keyAgreement\")&&u.push(\"keyAgreement\"),\"rsa\"===t.type&&-1===u.indexOf(\"encryption\")&&u.push(\"encryption\"))}var p=new Certificate({subjects:r,issuer:r[0],subjectKey:t.toPublic(),issuerKey:t.toPublic(),signatures:{},serial:n,validFrom:s,validUntil:a,purposes:u});return p.signWith(t),p},Certificate.create=function(e,t,i,r,s){var a;a=Array.isArray(e)?e:[e],assert.arrayOfObject(a),a.forEach(function(e){utils.assertCompatible(e,Identity,[1,0],\"subject\")}),utils.assertCompatible(t,Key,[1,0],\"key\"),PrivateKey.isPrivateKey(t)&&(t=t.toPublic()),utils.assertCompatible(i,Identity,[1,0],\"issuer\"),utils.assertCompatible(r,PrivateKey,[1,2],\"issuer key\"),assert.optionalObject(s,\"options\"),void 0===s&&(s={}),assert.optionalObject(s.validFrom,\"options.validFrom\"),assert.optionalObject(s.validUntil,\"options.validUntil\");var o=s.validFrom,n=s.validUntil;if(void 0===o&&(o=new Date),void 0===n){assert.optionalNumber(s.lifetime,\"options.lifetime\");var u=s.lifetime;void 0===u&&(u=31536e4),(n=new Date).setTime(n.getTime()+1e3*u)}assert.optionalBuffer(s.serial,\"options.serial\");var l=s.serial;void 0===l&&(l=new Buffer(\"0000000000000001\",\"hex\"));var f=s.purposes;void 0===f&&(f=[]),-1===f.indexOf(\"signature\")&&f.push(\"signature\"),!0===s.ca&&(-1===f.indexOf(\"ca\")&&f.push(\"ca\"),-1===f.indexOf(\"crl\")&&f.push(\"crl\"));var p=a.filter(function(e){return\"host\"===e.type}),c=a.filter(function(e){return\"user\"===e.type});p.length>0&&-1===f.indexOf(\"serverAuth\")&&f.push(\"serverAuth\"),c.length>0&&-1===f.indexOf(\"clientAuth\")&&f.push(\"clientAuth\"),(c.length>0||p.length>0)&&(-1===f.indexOf(\"keyAgreement\")&&f.push(\"keyAgreement\"),\"rsa\"===t.type&&-1===f.indexOf(\"encryption\")&&f.push(\"encryption\"));var h=new Certificate({subjects:a,issuer:i,subjectKey:t,issuerKey:r.toPublic(),signatures:{},serial:l,validFrom:o,validUntil:n,purposes:f});return h.signWith(r),h},Certificate.parse=function(e,t,i){\"string\"!=typeof e&&assert.buffer(e,\"data\"),void 0===t&&(t=\"auto\"),assert.string(t,\"format\"),\"string\"==typeof i&&(i={filename:i}),assert.optionalObject(i,\"options\"),void 0===i&&(i={}),assert.optionalString(i.filename,\"options.filename\"),void 0===i.filename&&(i.filename=\"(unnamed)\"),assert.object(formats[t],\"formats[format]\");try{return formats[t].read(e,i)}catch(e){throw new CertificateParseError(i.filename,t,e)}},Certificate.isCertificate=function(e,t){return utils.isCompatible(e,Certificate,t)},Certificate.prototype._sshpkApiVersion=[1,0],Certificate._oldVersionDetect=function(e){return[1,0]};","node_modules/sshpk/lib/identity.js":"module.exports=Identity;var assert=require(\"assert-plus\"),algs=require(\"./algs\"),crypto=require(\"crypto\"),Fingerprint=require(\"./fingerprint\"),Signature=require(\"./signature\"),errs=require(\"./errors\"),util=require(\"util\"),utils=require(\"./utils\"),asn1=require(\"asn1\"),DNS_NAME_RE=/^([*]|[a-z0-9][a-z0-9\\-]{0,62})(?:\\.([*]|[a-z0-9][a-z0-9\\-]{0,62}))*$/i,oids={};oids.cn=\"2.5.4.3\",oids.o=\"2.5.4.10\",oids.ou=\"2.5.4.11\",oids.l=\"2.5.4.7\",oids.s=\"2.5.4.8\",oids.c=\"2.5.4.6\",oids.sn=\"2.5.4.4\",oids.dc=\"0.9.2342.19200300.100.1.25\",oids.uid=\"0.9.2342.19200300.100.1.1\",oids.mail=\"0.9.2342.19200300.100.1.3\";var unoids={};Object.keys(oids).forEach(function(t){unoids[oids[t]]=t});function Identity(t){var e=this;if(assert.object(t,\"options\"),assert.arrayOfObject(t.components,\"options.components\"),this.components=t.components,this.componentLookup={},this.components.forEach(function(t){t.name&&!t.oid&&(t.oid=oids[t.name]),t.oid&&!t.name&&(t.name=unoids[t.oid]),void 0===e.componentLookup[t.name]&&(e.componentLookup[t.name]=[]),e.componentLookup[t.name].push(t)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),assert.optionalString(t.type,\"options.type\"),void 0===t.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type=\"host\",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type=\"host\",this.hostname=this.componentLookup.dc.map(function(t){return t.value}).join(\".\")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type=\"user\",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type=\"host\",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type=\"user\",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type=\"email\",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type=\"user\",this.uid=this.componentLookup.cn[0].value):this.type=\"unknown\";else if(this.type=t.type,\"host\"===this.type)this.hostname=t.hostname;else if(\"user\"===this.type)this.uid=t.uid;else{if(\"email\"!==this.type)throw new Error(\"Unknown type \"+this.type);this.email=t.email}}Identity.prototype.toString=function(){return this.components.map(function(t){return t.name.toUpperCase()+\"=\"+t.value}).join(\", \")};var NOT_PRINTABLE=/[^a-zA-Z0-9 '(),+.\\/:=?-]/,NOT_IA5=/[^\\x00-\\x7f]/;Identity.prototype.toAsn1=function(t,e){t.startSequence(e),this.components.forEach(function(e){if(t.startSequence(asn1.Ber.Constructor|asn1.Ber.Set),t.startSequence(),t.writeOID(e.oid),e.value.match(NOT_IA5)){var n=new Buffer(e.value,\"utf8\");t.writeBuffer(n,asn1.Ber.Utf8String)}else e.value.match(NOT_PRINTABLE)?t.writeString(e.value,asn1.Ber.IA5String):t.writeString(e.value,asn1.Ber.PrintableString);t.endSequence(),t.endSequence()}),t.endSequence()};function globMatch(t,e){if(\"**\"===t||\"**\"===e)return!0;var n=t.split(\".\"),o=e.split(\".\");if(n.length!==o.length)return!1;for(var i=0;i<n.length;++i)if(\"*\"!==n[i]&&\"*\"!==o[i]&&n[i]!==o[i])return!1;return!0}Identity.prototype.equals=function(t){if(!Identity.isIdentity(t,[1,0]))return!1;if(t.components.length!==this.components.length)return!1;for(var e=0;e<this.components.length;++e){if(this.components[e].oid!==t.components[e].oid)return!1;if(!globMatch(this.components[e].value,t.components[e].value))return!1}return!0},Identity.forHost=function(t){return assert.string(t,\"hostname\"),new Identity({type:\"host\",hostname:t,components:[{name:\"cn\",value:t}]})},Identity.forUser=function(t){return assert.string(t,\"uid\"),new Identity({type:\"user\",uid:t,components:[{name:\"uid\",value:t}]})},Identity.forEmail=function(t){return assert.string(t,\"email\"),new Identity({type:\"email\",email:t,components:[{name:\"mail\",value:t}]})},Identity.parseDN=function(t){assert.string(t,\"dn\");return new Identity({components:t.split(\",\").map(function(t){var e=(t=t.trim()).indexOf(\"=\");return{name:t.slice(0,e).toLowerCase(),value:t.slice(e+1)}})})},Identity.parseAsn1=function(t,e){var n=[];t.readSequence(e);for(var o=t.offset+t.length;t.offset<o;){t.readSequence(asn1.Ber.Constructor|asn1.Ber.Set);var i=t.offset+t.length;t.readSequence();var s,r=t.readOID(),u=t.peek();switch(u){case asn1.Ber.PrintableString:case asn1.Ber.IA5String:case asn1.Ber.OctetString:case asn1.Ber.T61String:s=t.readString(u);break;case asn1.Ber.Utf8String:s=(s=t.readString(u,!0)).toString(\"utf8\");break;case asn1.Ber.CharacterString:case asn1.Ber.BMPString:s=(s=t.readString(u,!0)).toString(\"utf16le\");break;default:throw new Error(\"Unknown asn1 type \"+u)}n.push({oid:r,value:s}),t._offset=i}return t._offset=o,new Identity({components:n})},Identity.isIdentity=function(t,e){return utils.isCompatible(t,Identity,e)},Identity.prototype._sshpkApiVersion=[1,0],Identity._oldVersionDetect=function(t){return[1,0]};","node_modules/sshpk/lib/errors.js":"var assert=require(\"assert-plus\"),util=require(\"util\");function FingerprintFormatError(r,e){Error.captureStackTrace&&Error.captureStackTrace(this,FingerprintFormatError),this.name=\"FingerprintFormatError\",this.fingerprint=r,this.format=e,this.message=\"Fingerprint format is not supported, or is invalid: \",void 0!==r&&(this.message+=\" fingerprint = \"+r),void 0!==e&&(this.message+=\" format = \"+e)}util.inherits(FingerprintFormatError,Error);function InvalidAlgorithmError(r){Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAlgorithmError),this.name=\"InvalidAlgorithmError\",this.algorithm=r,this.message='Algorithm \"'+r+'\" is not supported'}util.inherits(InvalidAlgorithmError,Error);function KeyParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,KeyParseError),this.name=\"KeyParseError\",this.format=e,this.keyName=r,this.innerErr=t,this.message=\"Failed to parse \"+r+\" as a valid \"+e+\" format key: \"+t.message}util.inherits(KeyParseError,Error);function SignatureParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,SignatureParseError),this.name=\"SignatureParseError\",this.type=r,this.format=e,this.innerErr=t,this.message=\"Failed to parse the given data as a \"+r+\" signature in \"+e+\" format: \"+t.message}util.inherits(SignatureParseError,Error);function CertificateParseError(r,e,t){Error.captureStackTrace&&Error.captureStackTrace(this,CertificateParseError),this.name=\"CertificateParseError\",this.format=e,this.certName=r,this.innerErr=t,this.message=\"Failed to parse \"+r+\" as a valid \"+e+\" format certificate: \"+t.message}util.inherits(CertificateParseError,Error);function KeyEncryptedError(r,e){Error.captureStackTrace&&Error.captureStackTrace(this,KeyEncryptedError),this.name=\"KeyEncryptedError\",this.format=e,this.keyName=r,this.message=\"The \"+e+\" format key \"+r+\" is encrypted (password-protected), and no passphrase was provided in `options`\"}util.inherits(KeyEncryptedError,Error),module.exports={FingerprintFormatError:FingerprintFormatError,InvalidAlgorithmError:InvalidAlgorithmError,KeyParseError:KeyParseError,SignatureParseError:SignatureParseError,KeyEncryptedError:KeyEncryptedError,CertificateParseError:CertificateParseError};","node_modules/sshpk/lib/algs.js":"var algInfo={dsa:{parts:[\"p\",\"q\",\"g\",\"y\"],sizePart:\"p\"},rsa:{parts:[\"e\",\"n\"],sizePart:\"n\"},ecdsa:{parts:[\"curve\",\"Q\"],sizePart:\"Q\"},ed25519:{parts:[\"R\"],normalize:!1,sizePart:\"R\"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:[\"p\",\"q\",\"g\",\"y\",\"x\"]},rsa:{parts:[\"n\",\"e\",\"d\",\"iqmp\",\"p\",\"q\"]},ecdsa:{parts:[\"curve\",\"Q\",\"d\"]},ed25519:{parts:[\"R\",\"r\"],normalize:!1}};algPrivInfo.curve25519=algPrivInfo.ed25519;var hashAlgs={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves={nistp256:{size:256,pkcs8oid:\"1.2.840.10045.3.1.7\",p:new Buffer(\"00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00c49d3608 86e70493 6a6678e1 139d26b7819f7e90\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5\".replace(/ /g,\"\"),\"hex\")},nistp384:{size:384,pkcs8oid:\"1.3.132.0.34\",p:new Buffer(\"00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00a335926a a319a27a 1d00896a 6773a4827acdac73\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f\".replace(/ /g,\"\"),\"hex\")},nistp521:{size:521,pkcs8oid:\"1.3.132.0.35\",p:new Buffer(\"01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff\".replace(/ /g,\"\"),\"hex\"),a:new Buffer(\"01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC\".replace(/ /g,\"\"),\"hex\"),b:new Buffer(\"51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00\".replace(/ /g,\"\"),\"hex\"),s:new Buffer(\"00d09e8800 291cb853 96cc6717 393284aaa0da64ba\".replace(/ /g,\"\"),\"hex\"),n:new Buffer(\"01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409\".replace(/ /g,\"\"),\"hex\"),G:new Buffer(\"0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650\".replace(/ /g,\"\"),\"hex\")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:hashAlgs,curves:curves};","node_modules/sshpk/lib/dhe.js":"module.exports={DiffieHellman:DiffieHellman,generateECDSA:generateECDSA,generateED25519:generateED25519};var nacl,ecdh,ec,jsbn,assert=require(\"assert-plus\"),crypto=require(\"crypto\"),algs=require(\"./algs\"),utils=require(\"./utils\"),Key=require(\"./key\"),PrivateKey=require(\"./private-key\"),CRYPTO_HAVE_ECDH=void 0!==crypto.createECDH;function DiffieHellman(e){if(utils.assertCompatible(e,Key,[1,4],\"key\"),this._isPriv=PrivateKey.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,\"dsa\"===e.type){if(!CRYPTO_HAVE_ECDH)throw new Error(\"Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH\");this._dh=crypto.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if(\"ecdsa\"===e.type){if(!CRYPTO_HAVE_ECDH)return void 0===ecdh&&(ecdh=require(\"ecc-jsbn\")),void 0===ec&&(ec=require(\"ecc-jsbn/lib/ec\")),void 0===jsbn&&(jsbn=require(\"jsbn\").BigInteger),this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,e.part.d.data)));var t={nistp256:\"prime256v1\",nistp384:\"secp384r1\",nistp521:\"secp521r1\"}[e.curve];if(this._dh=crypto.createECDH(t),\"object\"!=typeof this._dh||\"function\"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if(\"curve25519\"!==e.type)throw new Error(\"DH not supported for \"+e.type+\" keys\");void 0===nacl&&(nacl=require(\"tweetnacl\")),this._isPriv&&(this._priv=e.part.r.data)}}DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(e,t){if(assert.object(e,\"key\"),t||utils.assertCompatible(e,PrivateKey,[1,3],\"key\"),utils.assertCompatible(e,Key,[1,4],\"key\"),e.type!==this._algo)throw new Error(\"A \"+e.type+\" key cannot be used in \"+this._algo+\" Diffie-Hellman\");if(e.curve!==this._curve)throw new Error(\"A key from the \"+e.curve+\" curve cannot be used with a \"+this._curve+\" Diffie-Hellman\");\"dsa\"===e.type&&(assert.deepEqual(e.part.p,this._p,\"DSA key prime does not match\"),assert.deepEqual(e.part.g,this._g,\"DSA key generator does not match\"))},DiffieHellman.prototype.setKey=function(e){this._keyCheck(e),\"dsa\"===e.type?(this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)):\"ecdsa\"===e.type?CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new ECPrivate(this._ecParams,e.part.d.data):\"curve25519\"===e.type&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=e,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error(\"DH exchange has not been initialized with a private key yet\");var t;if(\"dsa\"===this._algo)return this._dh.computeSecret(e.part.y.data);if(\"ecdsa\"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(e.part.Q.data):(t=new ECPublic(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if(\"curve25519\"===this._algo){for(t=e.part.R.data;0===t[0]&&t.length>32;)t=t.slice(1);assert.strictEqual(t.length,32),assert.strictEqual(this._priv.length,64);var r=this._priv.slice(0,32),i=nacl.box.before(new Uint8Array(t),new Uint8Array(r));return new Buffer(i)}throw new Error(\"Invalid algorithm: \"+this._algo)},DiffieHellman.prototype.generateKey=function(){var e,t,r=[];if(\"dsa\"===this._algo)return this._dh.generateKeys(),r.push({name:\"p\",data:this._p.data}),r.push({name:\"q\",data:this._key.part.q.data}),r.push({name:\"g\",data:this._g.data}),r.push({name:\"y\",data:this._dh.getPublicKey()}),r.push({name:\"x\",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:\"dsa\",parts:r}),this._isPriv=!0,this._key;if(\"ecdsa\"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),r.push({name:\"curve\",data:new Buffer(this._curve)}),r.push({name:\"Q\",data:this._dh.getPublicKey()}),r.push({name:\"d\",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:\"ecdsa\",curve:this._curve,parts:r}),this._isPriv=!0,this._key;var i=this._ecParams.getN(),a=new jsbn(crypto.randomBytes(i.bitLength())),s=i.subtract(jsbn.ONE);return e=a.mod(s).add(jsbn.ONE),t=this._ecParams.getG().multiply(e),e=new Buffer(e.toByteArray()),t=new Buffer(this._ecParams.getCurve().encodePointHex(t),\"hex\"),this._priv=new ECPrivate(this._ecParams,e),r.push({name:\"curve\",data:new Buffer(this._curve)}),r.push({name:\"Q\",data:t}),r.push({name:\"d\",data:e}),this._key=new PrivateKey({type:\"ecdsa\",curve:this._curve,parts:r}),this._isPriv=!0,this._key}if(\"curve25519\"===this._algo){var n=nacl.box.keyPair();return e=new Buffer(n.secretKey),t=new Buffer(n.publicKey),e=Buffer.concat([e,t]),assert.strictEqual(e.length,64),assert.strictEqual(t.length,32),r.push({name:\"R\",data:t}),r.push({name:\"r\",data:e}),this._key=new PrivateKey({type:\"curve25519\",parts:r}),this._isPriv=!0,this._key}throw new Error(\"Invalid algorithm: \"+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey;function X9ECParameters(e){var t=algs.curves[e];assert.object(t);var r=new jsbn(t.p),i=new jsbn(t.a),a=new jsbn(t.b),s=new jsbn(t.n),n=jsbn.ONE,h=new ec.ECCurveFp(r,i,a),p=h.decodePointHex(t.G.toString(\"hex\"));this.curve=h,this.g=p,this.n=s,this.h=n}X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h};function ECPublic(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString(\"hex\"))}function ECPrivate(e,t){this._params=e,this._priv=new jsbn(utils.mpNormalize(t))}ECPrivate.prototype.deriveSharedSecret=function(e){assert.ok(e instanceof ECPublic);var t=e._pub.multiply(this._priv);return new Buffer(t.getX().toBigInteger().toByteArray())};function generateED25519(){void 0===nacl&&(nacl=require(\"tweetnacl\"));var e=nacl.sign.keyPair(),t=new Buffer(e.secretKey),r=new Buffer(e.publicKey);assert.strictEqual(t.length,64),assert.strictEqual(r.length,32);var i=[];i.push({name:\"R\",data:r}),i.push({name:\"r\",data:t});return new PrivateKey({type:\"ed25519\",parts:i})}function generateECDSA(e){var t=[];if(CRYPTO_HAVE_ECDH){var r={nistp256:\"prime256v1\",nistp384:\"secp384r1\",nistp521:\"secp521r1\"}[e],i=crypto.createECDH(r);return i.generateKeys(),t.push({name:\"curve\",data:new Buffer(e)}),t.push({name:\"Q\",data:i.getPublicKey()}),t.push({name:\"d\",data:i.getPrivateKey()}),new PrivateKey({type:\"ecdsa\",curve:e,parts:t})}void 0===ecdh&&(ecdh=require(\"ecc-jsbn\")),void 0===ec&&(ec=require(\"ecc-jsbn/lib/ec\")),void 0===jsbn&&(jsbn=require(\"jsbn\").BigInteger);var a=new X9ECParameters(e),s=a.getN(),n=Math.ceil((s.bitLength()+64)/8),h=new jsbn(crypto.randomBytes(n)),p=s.subtract(jsbn.ONE),c=h.mod(p).add(jsbn.ONE),u=a.getG().multiply(c);return c=new Buffer(c.toByteArray()),u=new Buffer(a.getCurve().encodePointHex(u),\"hex\"),t.push({name:\"curve\",data:new Buffer(e)}),t.push({name:\"Q\",data:u}),t.push({name:\"d\",data:c}),new PrivateKey({type:\"ecdsa\",curve:e,parts:t})}","node_modules/sshpk/lib/utils.js":"module.exports={bufferSplit:bufferSplit,addRSAMissing:addRSAMissing,calculateDSAPublic:calculateDSAPublic,mpNormalize:mpNormalize,ecNormalize:ecNormalize,countZeros:countZeros,assertCompatible:assertCompatible,isCompatible:isCompatible,opensslKeyDeriv:opensslKeyDeriv,opensshCipherInfo:opensshCipherInfo};var assert=require(\"assert-plus\"),PrivateKey=require(\"./private-key\"),crypto=require(\"crypto\"),MAX_CLASS_DEPTH=3;function isCompatible(e,r,t){if(null===e||\"object\"!=typeof e)return!1;if(void 0===t&&(t=r.prototype._sshpkApiVersion),e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])return!0;for(var s=Object.getPrototypeOf(e),a=0;s.constructor.name!==r.name;)if(!(s=Object.getPrototypeOf(s))||++a>MAX_CLASS_DEPTH)return!1;if(s.constructor.name!==r.name)return!1;var o=s._sshpkApiVersion;return void 0===o&&(o=r._oldVersionDetect(e)),!(o[0]!=t[0]||o[1]<t[1])}function assertCompatible(e,r,t,s){if(void 0===s&&(s=\"object\"),assert.ok(e,s+\" must not be null\"),assert.object(e,s+\" must be an object\"),void 0===t&&(t=r.prototype._sshpkApiVersion),!(e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])){for(var a=Object.getPrototypeOf(e),o=0;a.constructor.name!==r.name;)a=Object.getPrototypeOf(a),assert.ok(a&&++o<=MAX_CLASS_DEPTH,s+\" must be a \"+r.name+\" instance\");assert.strictEqual(a.constructor.name,r.name,s+\" must be a \"+r.name+\" instance\");var i=a._sshpkApiVersion;void 0===i&&(i=r._oldVersionDetect(e)),assert.ok(i[0]==t[0]&&i[1]>=t[1],s+\" must be compatible with \"+r.name+\" klass version \"+t[0]+\".\"+t[1])}}var CIPHER_LEN={\"des-ede3-cbc\":{key:7,iv:8},\"aes-128-cbc\":{key:16,iv:16}},PKCS5_SALT_LEN=8;function opensslKeyDeriv(e,r,t,s){assert.buffer(r,\"salt\"),assert.buffer(t,\"passphrase\"),assert.number(s,\"iteration count\");var a=CIPHER_LEN[e];assert.object(a,\"supported cipher\"),r=r.slice(0,PKCS5_SALT_LEN);for(var o,i,n,c=new Buffer(0);c.length<a.key+a.iv;){n=[],i&&n.push(i),n.push(t),n.push(r),o=Buffer.concat(n);for(var p=0;p<s;++p)o=crypto.createHash(\"md5\").update(o).digest();c=Buffer.concat([c,o]),i=o}return{key:c.slice(0,a.key),iv:c.slice(a.key,a.key+a.iv)}}function countZeros(e){for(var r=0,t=8;r<e.length;){var s=1<<t;if((e[r]&s)===s)break;--t<0&&(r++,t=8)}return 8*r+(8-t)-1}function bufferSplit(e,r){assert.buffer(e),assert.string(r);for(var t=[],s=0,a=0,o=0;o<e.length;++o)if(e[o]===r.charCodeAt(a)?++a:a=e[o]===r.charCodeAt(0)?1:0,a>=r.length){var i=o+1;t.push(e.slice(s,i-a)),s=i,a=0}return s<=e.length&&t.push(e.slice(s,e.length)),t}function ecNormalize(e,r){if(assert.buffer(e),0===e[0]&&4===e[1])return r?e:e.slice(1);if(4===e[0]){if(!r)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error(\"Compressed elliptic curve points are not supported\");if(4!==e[0])throw new Error(\"Not a valid elliptic curve point\");if(!r)return e}var t=new Buffer(e.length+1);return t[0]=0,e.copy(t,1),t}function mpNormalize(e){for(assert.buffer(e);e.length>1&&0===e[0]&&0==(128&e[1]);)e=e.slice(1);if(128==(128&e[0])){var r=new Buffer(e.length+1);r[0]=0,e.copy(r,1),e=r}return e}function bigintToMpBuf(e){var r=new Buffer(e.toByteArray());return r=mpNormalize(r)}function calculateDSAPublic(e,r,t){assert.buffer(e),assert.buffer(r),assert.buffer(t);try{var s=require(\"jsbn\").BigInteger}catch(e){throw new Error(\"To load a PKCS#8 format DSA private key, the node jsbn library is required.\")}e=new s(e),r=new s(r),t=new s(t);return bigintToMpBuf(e.modPow(t,r))}function addRSAMissing(e){assert.object(e),assertCompatible(e,PrivateKey,[1,1]);try{var r=require(\"jsbn\").BigInteger}catch(e){throw new Error(\"To write a PEM private key from this source, the node jsbn lib is required.\")}var t,s=new r(e.part.d.data);if(!e.part.dmodp){var a=new r(e.part.p.data);t=bigintToMpBuf(s.mod(a.subtract(1))),e.part.dmodp={name:\"dmodp\",data:t},e.parts.push(e.part.dmodp)}if(!e.part.dmodq){var o=new r(e.part.q.data);t=bigintToMpBuf(s.mod(o.subtract(1))),e.part.dmodq={name:\"dmodq\",data:t},e.parts.push(e.part.dmodq)}}function opensshCipherInfo(e){var r={};switch(e){case\"3des-cbc\":r.keySize=24,r.blockSize=8,r.opensslName=\"des-ede3-cbc\";break;case\"blowfish-cbc\":r.keySize=16,r.blockSize=8,r.opensslName=\"bf-cbc\";break;case\"aes128-cbc\":case\"aes128-ctr\":case\"aes128-gcm@openssh.com\":r.keySize=16,r.blockSize=16,r.opensslName=\"aes-128-\"+e.slice(7,10);break;case\"aes192-cbc\":case\"aes192-ctr\":case\"aes192-gcm@openssh.com\":r.keySize=24,r.blockSize=16,r.opensslName=\"aes-192-\"+e.slice(7,10);break;case\"aes256-cbc\":case\"aes256-ctr\":case\"aes256-gcm@openssh.com\":r.keySize=32,r.blockSize=16,r.opensslName=\"aes-256-\"+e.slice(7,10);break;default:throw new Error('Unsupported openssl cipher \"'+e+'\"')}return r}","node_modules/sshpk/lib/ed-compat.js":"module.exports={Verifier:Verifier,Signer:Signer};var nacl,stream=require(\"stream\"),util=require(\"util\"),assert=require(\"assert-plus\"),Signature=require(\"./signature\");function Verifier(e,r){if(void 0===nacl&&(nacl=require(\"tweetnacl\")),\"sha512\"!==r.toLowerCase())throw new Error(\"ED25519 only supports the use of SHA-512 hashes\");this.key=e,this.chunks=[],stream.Writable.call(this,{})}util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(e,r,t){this.chunks.push(e),t()},Verifier.prototype.update=function(e){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),this.chunks.push(e)},Verifier.prototype.verify=function(e,r){var t;if(Signature.isSignature(e,[2,0])){if(\"ed25519\"!==e.type)return!1;t=e.toBuffer(\"raw\")}else if(\"string\"==typeof e)t=new Buffer(e,\"base64\");else if(Signature.isSignature(e,[1,0]))throw new Error(\"signature was created by too old a version of sshpk and cannot be verified\");return assert.buffer(t),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(t),new Uint8Array(this.key.part.R.data))};function Signer(e,r){if(void 0===nacl&&(nacl=require(\"tweetnacl\")),\"sha512\"!==r.toLowerCase())throw new Error(\"ED25519 only supports the use of SHA-512 hashes\");this.key=e,this.chunks=[],stream.Writable.call(this,{})}util.inherits(Signer,stream.Writable),Signer.prototype._write=function(e,r,t){this.chunks.push(e),t()},Signer.prototype.update=function(e){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),this.chunks.push(e)},Signer.prototype.sign=function(){var e=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),r=new Buffer(e),t=Signature.parse(r,\"ed25519\",\"raw\");return t.hashAlgorithm=\"sha512\",t};","node_modules/sshpk/lib/formats/auto.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),ssh=require(\"./ssh\"),rfc4253=require(\"./rfc4253\");function read(e,r){if(\"string\"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(e,r);if(e.match(/^\\s*ssh-[a-z]/))return ssh.read(e,r);if(e.match(/^\\s*ecdsa-/))return ssh.read(e,r);e=new Buffer(e,\"binary\")}else{if(assert.buffer(e),findPEMHeader(e))return pem.read(e,r);if(findSSHHeader(e))return ssh.read(e,r)}if(e.readUInt32BE(0)<e.length)return rfc4253.read(e,r);throw new Error(\"Failed to auto-detect format of key\")}function findSSHHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]||9===e[r]);)++r;return r+4<=e.length&&\"ssh-\"===e.slice(r,r+4).toString(\"ascii\")||r+6<=e.length&&\"ecdsa-\"===e.slice(r,r+6).toString(\"ascii\")}function findPEMHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]);)++r;if(45!==e[r])return!1;for(;r<e.length&&45===e[r];)++r;for(;r<e.length&&32===e[r];)++r;return!(r+5>e.length||\"BEGIN\"!==e.slice(r,r+5).toString(\"ascii\"))}function write(e,r){throw new Error('\"auto\" format cannot be used for writing')}","node_modules/sshpk/lib/formats/pem.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),crypto=require(\"crypto\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pkcs1=require(\"./pkcs1\"),pkcs8=require(\"./pkcs8\"),sshpriv=require(\"./ssh-private\"),rfc4253=require(\"./rfc4253\"),errors=require(\"../errors\");function read(e,r,s){var t=e;\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var a=e.trim().split(\"\\n\"),i=a[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(i,\"invalid PEM header\");var c=a[a.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(c,\"invalid PEM footer\"),assert.equal(i[2],c[2]);var n,o=i[2].toLowerCase();i[1]&&(assert.equal(i[1],c[1],\"PEM header and footer mismatch\"),n=i[1].trim());for(var p={};a=a.slice(1),i=a[0].match(/^([A-Za-z0-9-]+): (.+)$/);)p[i[1].toLowerCase()]=i[2];var u,f,l;if(p[\"proc-type\"]){var h=p[\"proc-type\"].split(\",\");if(\"4\"===h[0]&&\"ENCRYPTED\"===h[1]){if(\"string\"==typeof r.passphrase&&(r.passphrase=new Buffer(r.passphrase,\"utf-8\")),!Buffer.isBuffer(r.passphrase))throw new errors.KeyEncryptedError(r.filename,\"PEM\");h=p[\"dek-info\"].split(\",\"),assert.ok(2===h.length),u=h[0].toLowerCase(),l=new Buffer(h[1],\"hex\"),f=utils.opensslKeyDeriv(u,l,r.passphrase,1).key}}if(a=a.slice(0,-1).join(\"\"),e=new Buffer(a,\"base64\"),u&&f&&l){var k,w=crypto.createDecipheriv(u,f,l),E=[];for(w.once(\"error\",function(e){if(-1!==e.toString().indexOf(\"bad decrypt\"))throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");throw e}),w.write(e),w.end();null!==(k=w.read());)E.push(k);e=Buffer.concat(E)}if(n&&\"openssh\"===n.toLowerCase())return sshpriv.readSSHPrivate(o,e,r);if(n&&\"ssh2\"===n.toLowerCase())return rfc4253.readType(o,e,r);var d=new asn1.BerReader(e);return d.originalInput=t,d.readSequence(),n?(s&&assert.strictEqual(s,\"pkcs1\"),pkcs1.readPkcs1(n,o,d)):(s&&assert.strictEqual(s,\"pkcs8\"),pkcs8.readPkcs8(n,o,d))}function write(e,r,s){assert.object(e);var t,a={ecdsa:\"EC\",rsa:\"RSA\",dsa:\"DSA\"}[e.type],i=new asn1.BerWriter;if(PrivateKey.isPrivateKey(e))s&&\"pkcs8\"===s?(t=\"PRIVATE KEY\",pkcs8.writePkcs8(i,e)):(s&&assert.strictEqual(s,\"pkcs1\"),t=a+\" PRIVATE KEY\",pkcs1.writePkcs1(i,e));else{if(!Key.isKey(e))throw new Error(\"key is not a Key or PrivateKey\");s&&\"pkcs1\"===s?(t=a+\" PUBLIC KEY\",pkcs1.writePkcs1(i,e)):(s&&assert.strictEqual(s,\"pkcs8\"),t=\"PUBLIC KEY\",pkcs8.writePkcs8(i,e))}var c=i.buffer.toString(\"base64\"),n=c.length+c.length/64+18+16+2*t.length+10,o=new Buffer(n),p=0;p+=o.write(\"-----BEGIN \"+t+\"-----\\n\",p);for(var u=0;u<c.length;){var f=u+64;f>c.length&&(f=c.length),p+=o.write(c.slice(u,f),p),o[p++]=10,u=f}return p+=o.write(\"-----END \"+t+\"-----\\n\",p),o.slice(0,p)}","node_modules/sshpk/lib/formats/pkcs1.js":"module.exports={read:read,readPkcs1:readPkcs1,write:write,writePkcs1:writePkcs1};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),pkcs8=require(\"./pkcs8\"),readECDSACurve=pkcs8.readECDSACurve;function read(e,r){return pem.read(e,r,\"pkcs1\")}function write(e,r){return pem.write(e,r,\"pkcs1\")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs1(e,r,a){switch(e){case\"RSA\":if(\"public\"===r)return readPkcs1RSAPublic(a);if(\"private\"===r)return readPkcs1RSAPrivate(a);throw new Error(\"Unknown key type: \"+r);case\"DSA\":if(\"public\"===r)return readPkcs1DSAPublic(a);if(\"private\"===r)return readPkcs1DSAPrivate(a);throw new Error(\"Unknown key type: \"+r);case\"EC\":case\"ECDSA\":if(\"private\"===r)return readPkcs1ECDSAPrivate(a);if(\"public\"===r)return readPkcs1ECDSAPublic(a);throw new Error(\"Unknown key type: \"+r);default:throw new Error(\"Unknown key algo: \"+e)}}function readPkcs1RSAPublic(e){var r=readMPInt(e,\"modulus\"),a=readMPInt(e,\"exponent\");return new Key({type:\"rsa\",parts:[{name:\"e\",data:a},{name:\"n\",data:r}]})}function readPkcs1RSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r[0],0);var a=readMPInt(e,\"modulus\"),t=readMPInt(e,\"public exponent\"),n=readMPInt(e,\"private exponent\"),i=readMPInt(e,\"prime1\"),s=readMPInt(e,\"prime2\"),d=readMPInt(e,\"exponent1\"),u=readMPInt(e,\"exponent2\"),c=readMPInt(e,\"iqmp\");return new PrivateKey({type:\"rsa\",parts:[{name:\"n\",data:a},{name:\"e\",data:t},{name:\"d\",data:n},{name:\"iqmp\",data:c},{name:\"p\",data:i},{name:\"q\",data:s},{name:\"dmodp\",data:d},{name:\"dmodq\",data:u}]})}function readPkcs1DSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r.readUInt8(0),0);var a=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),n=readMPInt(e,\"g\"),i=readMPInt(e,\"y\"),s=readMPInt(e,\"x\");return new PrivateKey({type:\"dsa\",parts:[{name:\"p\",data:a},{name:\"q\",data:t},{name:\"g\",data:n},{name:\"y\",data:i},{name:\"x\",data:s}]})}function readPkcs1DSAPublic(e){var r=readMPInt(e,\"y\"),a=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),n=readMPInt(e,\"g\");return new Key({type:\"dsa\",parts:[{name:\"y\",data:r},{name:\"p\",data:a},{name:\"q\",data:t},{name:\"g\",data:n}]})}function readPkcs1ECDSAPublic(e){e.readSequence();var r=e.readOID();assert.strictEqual(r,\"1.2.840.10045.2.1\",\"must be ecPublicKey\");for(var a,t=e.readOID(),n=Object.keys(algs.curves),i=0;i<n.length;++i){var s=n[i];if(algs.curves[s].pkcs8oid===t){a=s;break}}assert.string(a,\"a known ECDSA named curve\");var d=e.readString(asn1.Ber.BitString,!0);d=utils.ecNormalize(d);var u={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(a)},{name:\"Q\",data:d}]};return new Key(u)}function readPkcs1ECDSAPrivate(e){var r=readMPInt(e,\"version\");assert.strictEqual(r.readUInt8(0),1);var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(160);var t=readECDSACurve(e);assert.string(t,\"a known elliptic curve\"),e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(t)},{name:\"Q\",data:n},{name:\"d\",data:a}]};return new PrivateKey(i)}function writePkcs1(e,r){switch(e.startSequence(),r.type){case\"rsa\":PrivateKey.isPrivateKey(r)?writePkcs1RSAPrivate(e,r):writePkcs1RSAPublic(e,r);break;case\"dsa\":PrivateKey.isPrivateKey(r)?writePkcs1DSAPrivate(e,r):writePkcs1DSAPublic(e,r);break;case\"ecdsa\":PrivateKey.isPrivateKey(r)?writePkcs1ECDSAPrivate(e,r):writePkcs1ECDSAPublic(e,r);break;default:throw new Error(\"Unknown key algo: \"+r.type)}e.endSequence()}function writePkcs1RSAPublic(e,r){e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer)}function writePkcs1RSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),r.part.dmodp&&r.part.dmodq||utils.addRSAMissing(r),e.writeBuffer(r.part.dmodp.data,asn1.Ber.Integer),e.writeBuffer(r.part.dmodq.data,asn1.Ber.Integer),e.writeBuffer(r.part.iqmp.data,asn1.Ber.Integer)}function writePkcs1DSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer),e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.x.data,asn1.Ber.Integer)}function writePkcs1DSAPublic(e,r){e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer)}function writePkcs1ECDSAPublic(e,r){e.startSequence(),e.writeOID(\"1.2.840.10045.2.1\");var a=r.part.curve.data.toString(),t=algs.curves[a].pkcs8oid;assert.string(t,\"a known ECDSA named curve\"),e.writeOID(t),e.endSequence();var n=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(n,asn1.Ber.BitString)}function writePkcs1ECDSAPrivate(e,r){var a=new Buffer(1);a[0]=1,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.OctetString),e.startSequence(160);var t=r.part.curve.data.toString(),n=algs.curves[t].pkcs8oid;assert.string(n,\"a known ECDSA named curve\"),e.writeOID(n),e.endSequence(),e.startSequence(161);var i=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(i,asn1.Ber.BitString),e.endSequence()}","node_modules/sshpk/lib/formats/pkcs8.js":"module.exports={read:read,readPkcs8:readPkcs8,write:write,writePkcs8:writePkcs8,readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\");function read(e,r){return pem.read(e,r,\"pkcs8\")}function write(e,r){return pem.write(e,r,\"pkcs8\")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs8(e,r,t){t.peek()===asn1.Ber.Integer&&(assert.strictEqual(r,\"private\",\"unexpected Integer at start of public key\"),t.readString(asn1.Ber.Integer,!0)),t.readSequence();var a=t.offset+t.length,n=t.readOID();switch(n){case\"1.2.840.113549.1.1.1\":return t._offset=a,\"public\"===r?readPkcs8RSAPublic(t):readPkcs8RSAPrivate(t);case\"1.2.840.10040.4.1\":return\"public\"===r?readPkcs8DSAPublic(t):readPkcs8DSAPrivate(t);case\"1.2.840.10045.2.1\":return\"public\"===r?readPkcs8ECDSAPublic(t):readPkcs8ECDSAPrivate(t);default:throw new Error(\"Unknown key type OID \"+n)}}function readPkcs8RSAPublic(e){e.readSequence(asn1.Ber.BitString),e.readByte(),e.readSequence();var r=readMPInt(e,\"modulus\"),t=readMPInt(e,\"exponent\"),a={type:\"rsa\",source:e.originalInput,parts:[{name:\"e\",data:t},{name:\"n\",data:r}]};return new Key(a)}function readPkcs8RSAPrivate(e){e.readSequence(asn1.Ber.OctetString),e.readSequence();var r=readMPInt(e,\"version\");assert.equal(r[0],0,\"unknown RSA private key version\");var t=readMPInt(e,\"modulus\"),a=readMPInt(e,\"public exponent\"),n=readMPInt(e,\"private exponent\"),i=readMPInt(e,\"prime1\"),s=readMPInt(e,\"prime2\"),u=readMPInt(e,\"exponent1\"),c=readMPInt(e,\"exponent2\"),d=readMPInt(e,\"iqmp\");return new PrivateKey({type:\"rsa\",parts:[{name:\"n\",data:t},{name:\"e\",data:a},{name:\"d\",data:n},{name:\"iqmp\",data:d},{name:\"p\",data:i},{name:\"q\",data:s},{name:\"dmodp\",data:u},{name:\"dmodq\",data:c}]})}function readPkcs8DSAPublic(e){e.readSequence();var r=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),a=readMPInt(e,\"g\");e.readSequence(asn1.Ber.BitString),e.readByte();var n=readMPInt(e,\"y\");return new Key({type:\"dsa\",parts:[{name:\"p\",data:r},{name:\"q\",data:t},{name:\"g\",data:a},{name:\"y\",data:n}]})}function readPkcs8DSAPrivate(e){e.readSequence();var r=readMPInt(e,\"p\"),t=readMPInt(e,\"q\"),a=readMPInt(e,\"g\");e.readSequence(asn1.Ber.OctetString);var n=readMPInt(e,\"x\"),i=utils.calculateDSAPublic(a,r,n);return new PrivateKey({type:\"dsa\",parts:[{name:\"p\",data:r},{name:\"q\",data:t},{name:\"g\",data:a},{name:\"y\",data:i},{name:\"x\",data:n}]})}function readECDSACurve(e){var r,t,a,n,i;if(e.peek()===asn1.Ber.OID){var s=e.readOID();for(t=Object.keys(algs.curves),a=0;a<t.length;++a)if(n=t[a],(i=algs.curves[n]).pkcs8oid===s){r=n;break}}else{e.readSequence();var u=e.readString(asn1.Ber.Integer,!0);assert.strictEqual(u[0],1,\"ECDSA key not version 1\");var c={};e.readSequence();var d=e.readOID();assert.strictEqual(d,\"1.2.840.10045.1.1\",\"ECDSA key is not from a prime-field\");var S=c.p=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0));c.size=8*S.length-utils.countZeros(S),e.readSequence(),c.a=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),c.b=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),e.peek()===asn1.Ber.BitString&&(c.s=e.readString(asn1.Ber.BitString,!0)),c.G=e.readString(asn1.Ber.OctetString,!0),assert.strictEqual(c.G[0],4,\"uncompressed G is required\"),c.n=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),c.h=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),assert.strictEqual(c.h[0],1,\"a cofactor=1 curve is required\"),t=Object.keys(algs.curves);var f=Object.keys(c);for(a=0;a<t.length;++a){n=t[a],i=algs.curves[n];for(var B=!0,p=0;p<f.length;++p){var g=f[p];if(void 0!==i[g])if(\"object\"==typeof i[g]&&void 0!==i[g].equals){if(!i[g].equals(c[g])){B=!1;break}}else if(Buffer.isBuffer(i[g])){if(i[g].toString(\"binary\")!==c[g].toString(\"binary\")){B=!1;break}}else if(i[g]!==c[g]){B=!1;break}}if(B){r=n;break}}}return r}function readPkcs8ECDSAPrivate(e){var r=readECDSACurve(e);assert.string(r,\"a known elliptic curve\"),e.readSequence(asn1.Ber.OctetString),e.readSequence();var t=readMPInt(e,\"version\");assert.equal(t[0],1,\"unknown version of ECDSA key\");var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(r)},{name:\"Q\",data:n},{name:\"d\",data:a}]};return new PrivateKey(i)}function readPkcs8ECDSAPublic(e){var r=readECDSACurve(e);assert.string(r,\"a known elliptic curve\");var t=e.readString(asn1.Ber.BitString,!0);t=utils.ecNormalize(t);var a={type:\"ecdsa\",parts:[{name:\"curve\",data:new Buffer(r)},{name:\"Q\",data:t}]};return new Key(a)}function writePkcs8(e,r){if(e.startSequence(),PrivateKey.isPrivateKey(r)){var t=new Buffer(1);t[0]=0,e.writeBuffer(t,asn1.Ber.Integer)}switch(e.startSequence(),r.type){case\"rsa\":e.writeOID(\"1.2.840.113549.1.1.1\"),PrivateKey.isPrivateKey(r)?writePkcs8RSAPrivate(r,e):writePkcs8RSAPublic(r,e);break;case\"dsa\":e.writeOID(\"1.2.840.10040.4.1\"),PrivateKey.isPrivateKey(r)?writePkcs8DSAPrivate(r,e):writePkcs8DSAPublic(r,e);break;case\"ecdsa\":e.writeOID(\"1.2.840.10045.2.1\"),PrivateKey.isPrivateKey(r)?writePkcs8ECDSAPrivate(r,e):writePkcs8ECDSAPublic(r,e);break;default:throw new Error(\"Unsupported key type: \"+r.type)}e.endSequence()}function writePkcs8RSAPrivate(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=0,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.Integer),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),e.part.dmodp&&e.part.dmodq||utils.addRSAMissing(e),r.writeBuffer(e.part.dmodp.data,asn1.Ber.Integer),r.writeBuffer(e.part.dmodq.data,asn1.Ber.Integer),r.writeBuffer(e.part.iqmp.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8RSAPublic(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8DSAPrivate(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.writeBuffer(e.part.x.data,asn1.Ber.Integer),r.endSequence()}function writePkcs8DSAPublic(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.writeBuffer(e.part.y.data,asn1.Ber.Integer),r.endSequence()}function writeECDSACurve(e,r){var t=algs.curves[e.curve];if(t.pkcs8oid)r.writeOID(t.pkcs8oid);else{r.startSequence();var a=new Buffer(1);a.writeUInt8(1,0),r.writeBuffer(a,asn1.Ber.Integer),r.startSequence(),r.writeOID(\"1.2.840.10045.1.1\"),r.writeBuffer(t.p,asn1.Ber.Integer),r.endSequence(),r.startSequence();var n=t.p;0===n[0]&&(n=n.slice(1)),r.writeBuffer(n,asn1.Ber.OctetString),r.writeBuffer(t.b,asn1.Ber.OctetString),r.writeBuffer(t.s,asn1.Ber.BitString),r.endSequence(),r.writeBuffer(t.G,asn1.Ber.OctetString),r.writeBuffer(t.n,asn1.Ber.Integer);var i=t.h;i||((i=new Buffer(1))[0]=1),r.writeBuffer(i,asn1.Ber.Integer),r.endSequence()}}function writePkcs8ECDSAPublic(e,r){writeECDSACurve(e,r),r.endSequence();var t=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(t,asn1.Ber.BitString)}function writePkcs8ECDSAPrivate(e,r){writeECDSACurve(e,r),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=1,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.OctetString),r.startSequence(161);var a=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(a,asn1.Ber.BitString),r.endSequence(),r.endSequence(),r.endSequence()}","node_modules/sshpk/lib/formats/rfc4253.js":"module.exports={read:read.bind(void 0,!1,void 0),readType:read.bind(void 0,!1),write:write,readPartial:read.bind(void 0,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=require(\"assert-plus\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),SSHBuffer=require(\"../ssh-buffer\");function algToKeyType(e){if(assert.string(e),\"ssh-dss\"===e)return\"dsa\";if(\"ssh-rsa\"===e)return\"rsa\";if(\"ssh-ed25519\"===e)return\"ed25519\";if(\"ssh-curve25519\"===e)return\"curve25519\";if(e.match(/^ecdsa-sha2-/))return\"ecdsa\";throw new Error(\"Unknown algorithm \"+e)}function keyTypeToAlg(e){if(assert.object(e),\"dsa\"===e.type)return\"ssh-dss\";if(\"rsa\"===e.type)return\"ssh-rsa\";if(\"ed25519\"===e.type)return\"ssh-ed25519\";if(\"curve25519\"===e.type)return\"ssh-curve25519\";if(\"ecdsa\"===e.type)return\"ecdsa-sha2-\"+e.part.curve.data.toString();throw new Error(\"Unknown key type \"+e.type)}function read(e,r,t,a){\"string\"==typeof t&&(t=new Buffer(t)),assert.buffer(t,\"buf\");var s={},n=s.parts=[],i=new SSHBuffer({buffer:t}),o=i.readString();assert.ok(!i.atEnd(),\"key must have at least one part\"),s.type=algToKeyType(o);var f=algs.info[s.type].parts.length;for(r&&\"private\"===r&&(f=algs.privInfo[s.type].parts.length);!i.atEnd()&&n.length<f;)n.push(i.readPart());for(;!e&&!i.atEnd();)n.push(i.readPart());assert.ok(n.length>=1,\"key must have at least one part\"),assert.ok(e||i.atEnd(),\"leftover bytes at end of key\");var u=Key,p=algs.info[s.type];if(\"private\"!==r&&p.parts.length===n.length||(p=algs.privInfo[s.type],u=PrivateKey),assert.strictEqual(p.parts.length,n.length),\"ecdsa\"===s.type){var d=/^ecdsa-sha2-(.+)$/.exec(o);assert.ok(null!==d),assert.strictEqual(d[1],n[0].data.toString())}for(var y=!0,l=0;l<p.parts.length;++l)if(n[l].name=p.parts[l],\"curve\"!==n[l].name&&!1!==p.normalize){var g=n[l],v=utils.mpNormalize(g.data);v!==g.data&&(g.data=v,y=!1)}return y&&(s._rfc4253Cache=i.toBuffer()),e&&\"object\"==typeof e&&(e.remainder=i.remainder(),e.consumed=i._offset),new u(s)}function write(e,r){assert.object(e);var t,a=keyTypeToAlg(e),s=algs.info[e.type];PrivateKey.isPrivateKey(e)&&(s=algs.privInfo[e.type]);var n=s.parts,i=new SSHBuffer({});for(i.writeString(a),t=0;t<n.length;++t){var o=e.part[n[t]].data;!1!==s.normalize&&(o=utils.mpNormalize(o)),i.writeBuffer(o)}return i.toBuffer()}","node_modules/sshpk/lib/formats/ssh.js":"module.exports={read:read,write:write};var assert=require(\"assert-plus\"),rfc4253=require(\"./rfc4253\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),sshpriv=require(\"./ssh-private\"),SSHKEY_RE=/^([a-z0-9-]+)[ \\t]+([a-zA-Z0-9+\\/]+[=]*)([\\n \\t]+([^\\n]+))?$/,SSHKEY_RE2=/^([a-z0-9-]+)[ \\t]+([a-zA-Z0-9+\\/ \\t\\n]+[=]*)(.*)$/;function read(e,r){\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var t=e.trim().replace(/[\\\\\\r]/g,\"\"),a=t.match(SSHKEY_RE);a||(a=t.match(SSHKEY_RE2)),assert.ok(a,\"key must match regex\");var s,c=rfc4253.algToKeyType(a[1]),i=new Buffer(a[2],\"base64\"),u={};if(a[4])try{s=rfc4253.read(i)}catch(e){a=t.match(SSHKEY_RE2),assert.ok(a,\"key must match regex\"),i=new Buffer(a[2],\"base64\"),s=rfc4253.readInternal(u,\"public\",i)}else s=rfc4253.readInternal(u,\"public\",i);if(assert.strictEqual(c,s.type),a[4]&&a[4].length>0)s.comment=a[4];else if(u.consumed){var n=a[2]+a[3],f=4*Math.ceil(u.consumed/3);n=n.slice(0,f-2).replace(/[^a-zA-Z0-9+\\/=]/g,\"\")+n.slice(f-2);for(u.consumed%3>0&&\"=\"!==n.slice(f-1,f)&&f--;\"=\"===n.slice(f,f+1);)f++;var l=n.slice(f);(l=l.replace(/[\\r\\n]/g,\" \").replace(/^\\s+/,\"\")).match(/^[a-zA-Z0-9]/)&&(s.comment=l)}return s}function write(e,r){if(assert.object(e),!Key.isKey(e))throw new Error(\"Must be a public key\");var t=[],a=rfc4253.keyTypeToAlg(e);t.push(a);var s=rfc4253.write(e);return t.push(s.toString(\"base64\")),e.comment&&t.push(e.comment),new Buffer(t.join(\" \"))}","node_modules/sshpk/lib/formats/ssh-private.js":"module.exports={read:read,readSSHPrivate:readSSHPrivate,write:write};var bcrypt,assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),crypto=require(\"crypto\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),rfc4253=require(\"./rfc4253\"),SSHBuffer=require(\"../ssh-buffer\"),errors=require(\"../errors\");function read(e,r){return pem.read(e,r)}var MAGIC=\"openssh-key-v1\";function readSSHPrivate(e,r,t){var n=(r=new SSHBuffer({buffer:r})).readCString();assert.strictEqual(n,MAGIC,\"bad magic string\");var i=r.readString(),a=r.readString(),f=r.readBuffer();if(1!==r.readInt())throw new Error(\"OpenSSH-format key file contains multiple keys: this is unsupported.\");var s=r.readBuffer();if(\"public\"===e)return assert.ok(r.atEnd(),\"excess bytes left after key\"),rfc4253.read(s);var o=r.readBuffer();assert.ok(r.atEnd(),\"excess bytes left after key\");var u=new SSHBuffer({buffer:f});switch(a){case\"none\":if(\"none\"!==i)throw new Error('OpenSSH-format key uses KDF \"none\" but specifies a cipher other than \"none\"');break;case\"bcrypt\":var p=u.readBuffer(),c=u.readInt(),d=utils.opensshCipherInfo(i);if(void 0===bcrypt&&(bcrypt=require(\"bcrypt-pbkdf\")),\"string\"==typeof t.passphrase&&(t.passphrase=new Buffer(t.passphrase,\"utf-8\")),!Buffer.isBuffer(t.passphrase))throw new errors.KeyEncryptedError(t.filename,\"OpenSSH\");var y=new Uint8Array(t.passphrase),w=new Uint8Array(p),l=new Uint8Array(d.keySize+d.blockSize);if(0!==bcrypt.pbkdf(y,y.length,w,w.length,l,l.length,c))throw new Error(\"bcrypt_pbkdf function returned failure, parameters invalid\");var S=(l=new Buffer(l)).slice(0,d.keySize),h=l.slice(d.keySize,d.keySize+d.blockSize),v=crypto.createDecipheriv(d.opensslName,S,h);v.setAutoPadding(!1);var b,k=[];for(v.once(\"error\",function(e){if(-1!==e.toString().indexOf(\"bad decrypt\"))throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");throw e}),v.write(o),v.end();null!==(b=v.read());)k.push(b);o=Buffer.concat(k);break;default:throw new Error('OpenSSH-format key uses unknown KDF \"'+a+'\"')}if((r=new SSHBuffer({buffer:o})).readInt()!==r.readInt())throw new Error(\"Incorrect passphrase supplied, could not decrypt key\");var B={},g=rfc4253.readInternal(B,\"private\",r.remainder());r.skip(B.consumed);var m=r.readString();return g.comment=m,g}function write(e,r){var t;t=PrivateKey.isPrivateKey(e)?e.toPublic():e;var n,i=\"none\",a=\"none\",f=new Buffer(0),s={blockSize:8};void 0!==r&&(\"string\"==typeof(n=r.passphrase)&&(n=new Buffer(n,\"utf-8\")),void 0!==n&&(assert.buffer(n,\"options.passphrase\"),assert.optionalString(r.cipher,\"options.cipher\"),void 0===(i=r.cipher)&&(i=\"aes128-ctr\"),s=utils.opensshCipherInfo(i),a=\"bcrypt\"));var o;if(PrivateKey.isPrivateKey(e)){o=new SSHBuffer({});var u=crypto.randomBytes(4).readUInt32BE(0);o.writeInt(u),o.writeInt(u),o.write(e.toBuffer(\"rfc4253\")),o.writeString(e.comment||\"\");for(var p=1;o._offset%s.blockSize!=0;)o.writeChar(p++);o=o.toBuffer()}switch(a){case\"none\":break;case\"bcrypt\":var c=crypto.randomBytes(16),d=new SSHBuffer({});d.writeBuffer(c),d.writeInt(16),f=d.toBuffer(),void 0===bcrypt&&(bcrypt=require(\"bcrypt-pbkdf\"));var y=new Uint8Array(n),w=new Uint8Array(c),l=new Uint8Array(s.keySize+s.blockSize);if(0!==bcrypt.pbkdf(y,y.length,w,w.length,l,l.length,16))throw new Error(\"bcrypt_pbkdf function returned failure, parameters invalid\");var S=(l=new Buffer(l)).slice(0,s.keySize),h=l.slice(s.keySize,s.keySize+s.blockSize),v=crypto.createCipheriv(s.opensslName,S,h);v.setAutoPadding(!1);var b,k=[];for(v.once(\"error\",function(e){throw e}),v.write(o),v.end();null!==(b=v.read());)k.push(b);o=Buffer.concat(k);break;default:throw new Error(\"Unsupported kdf \"+a)}var B=new SSHBuffer({});B.writeCString(MAGIC),B.writeString(i),B.writeString(a),B.writeBuffer(f),B.writeInt(1),B.writeBuffer(t.toBuffer(\"rfc4253\")),o&&B.writeBuffer(o),B=B.toBuffer();var g;g=PrivateKey.isPrivateKey(e)?\"OPENSSH PRIVATE KEY\":\"OPENSSH PUBLIC KEY\";var m=B.toString(\"base64\"),E=m.length+m.length/70+18+16+2*g.length+10,I=0;I+=(B=new Buffer(E)).write(\"-----BEGIN \"+g+\"-----\\n\",I);for(var P=0;P<m.length;){var H=P+70;H>m.length&&(H=m.length),I+=B.write(m.slice(P,H),I),B[I++]=10,P=H}return I+=B.write(\"-----END \"+g+\"-----\\n\",I),B.slice(0,I)}","node_modules/sshpk/lib/formats/openssh-cert.js":"module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write,fromBuffer:fromBuffer,toBuffer:toBuffer};var assert=require(\"assert-plus\"),SSHBuffer=require(\"../ssh-buffer\"),crypto=require(\"crypto\"),algs=require(\"../algs\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),Identity=require(\"../identity\"),rfc4253=require(\"./rfc4253\"),Signature=require(\"../signature\"),utils=require(\"../utils\"),Certificate=require(\"../certificate\");function verify(e,r){return!1}var TYPES={user:1,host:2};Object.keys(TYPES).forEach(function(e){TYPES[TYPES[e]]=e});var ECDSA_ALGO=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;function read(e,r){Buffer.isBuffer(e)&&(e=e.toString(\"ascii\"));var t=e.trim().split(/[ \\t\\n]+/g);if(t.length<2||t.length>3)throw new Error(\"Not a valid SSH certificate line\");var s=t[0],n=t[1];return n=new Buffer(n,\"base64\"),fromBuffer(n,s)}function fromBuffer(e,r,t){var s=new SSHBuffer({buffer:e}),n=s.readString();if(void 0!==r&&n!==r)throw new Error(\"SSH certificate algorithm mismatch\");void 0===r&&(r=n);var i={};i.signatures={},i.signatures.openssh={},i.signatures.openssh.nonce=s.readBuffer();var a={},u=a.parts=[];a.type=getAlg(r);for(var o=algs.info[a.type].parts.length;u.length<o;)u.push(s.readPart());assert.ok(u.length>=1,\"key must have at least one part\");var f=algs.info[a.type];if(\"ecdsa\"===a.type){var c=ECDSA_ALGO.exec(r);assert.ok(null!==c),assert.strictEqual(c[1],u[0].data.toString())}for(var d=0;d<f.parts.length;++d)if(u[d].name=f.parts[d],\"curve\"!==u[d].name&&!1!==f.normalize){var h=u[d];h.data=utils.mpNormalize(h.data)}i.subjectKey=new Key(a),i.serial=s.readInt64();var p=TYPES[s.readInt()];assert.string(p,\"valid cert type\"),i.signatures.openssh.keyId=s.readString();for(var v=[],g=s.readBuffer(),y=new SSHBuffer({buffer:g});!y.atEnd();)v.push(y.readString());0===v.length&&(v=[\"*\"]),i.subjects=v.map(function(e){if(\"user\"===p)return Identity.forUser(e);if(\"host\"===p)return Identity.forHost(e);throw new Error(\"Unknown identity type \"+p)}),i.validFrom=int64ToDate(s.readInt64()),i.validUntil=int64ToDate(s.readInt64()),i.signatures.openssh.critical=s.readBuffer(),i.signatures.openssh.exts=s.readBuffer(),s.readBuffer();var l=s.readBuffer();i.issuerKey=rfc4253.read(l),i.issuer=Identity.forHost(\"**\");var w=s.readBuffer();return i.signatures.openssh.signature=Signature.parse(w,i.issuerKey.type,\"ssh\"),void 0!==t&&(t.remainder=s.remainder(),t.consumed=s._offset),new Certificate(i)}function int64ToDate(e){var r=4294967296*e.readUInt32BE(0);r+=e.readUInt32BE(4);var t=new Date;return t.setTime(1e3*r),t.sourceInt64=e,t}function dateToInt64(e){if(void 0!==e.sourceInt64)return e.sourceInt64;var r=Math.round(e.getTime()/1e3),t=Math.floor(r/4294967296),s=Math.floor(r%4294967296),n=new Buffer(8);return n.writeUInt32BE(t,0),n.writeUInt32BE(s,4),n}function sign(e,r){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var t=toBuffer(e,!0)}catch(r){return delete e.signatures.openssh,!1}var s=e.signatures.openssh,n=void 0;\"rsa\"!==r.type&&\"dsa\"!==r.type||(n=\"sha1\");var i=r.createSign(n);return i.write(t),s.signature=i.sign(),!0}function signAsync(e,r,t){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var s=toBuffer(e,!0)}catch(r){return delete e.signatures.openssh,void t(r)}var n=e.signatures.openssh;r(s,function(e,r){if(e)t(e);else{try{r.toBuffer(\"ssh\")}catch(e){return void t(e)}n.signature=r,t()}})}function write(e,r){void 0===r&&(r={});var t=toBuffer(e),s=getCertType(e.subjectKey)+\" \"+t.toString(\"base64\");return r.comment&&(s=s+\" \"+r.comment),s}function toBuffer(e,r){assert.object(e.signatures.openssh,\"signature for openssh format\");var t=e.signatures.openssh;void 0===t.nonce&&(t.nonce=crypto.randomBytes(16));var s=new SSHBuffer({});s.writeString(getCertType(e.subjectKey)),s.writeBuffer(t.nonce);var n=e.subjectKey;algs.info[n.type].parts.forEach(function(e){s.writePart(n.part[e])}),s.writeInt64(e.serial);var i=e.subjects[0].type;assert.notStrictEqual(i,\"unknown\"),e.subjects.forEach(function(e){assert.strictEqual(e.type,i)}),i=TYPES[i],s.writeInt(i),void 0===t.keyId&&(t.keyId=e.subjects[0].type+\"_\"+(e.subjects[0].uid||e.subjects[0].hostname)),s.writeString(t.keyId);var a=new SSHBuffer({});return e.subjects.forEach(function(e){i===TYPES.host?a.writeString(e.hostname):i===TYPES.user&&a.writeString(e.uid)}),s.writeBuffer(a.toBuffer()),s.writeInt64(dateToInt64(e.validFrom)),s.writeInt64(dateToInt64(e.validUntil)),void 0===t.critical&&(t.critical=new Buffer(0)),s.writeBuffer(t.critical),void 0===t.exts&&(t.exts=new Buffer(0)),s.writeBuffer(t.exts),s.writeBuffer(new Buffer(0)),a=rfc4253.write(e.issuerKey),s.writeBuffer(a),r||s.writeBuffer(t.signature.toBuffer(\"ssh\")),s.toBuffer()}function getAlg(e){if(\"ssh-rsa-cert-v01@openssh.com\"===e)return\"rsa\";if(\"ssh-dss-cert-v01@openssh.com\"===e)return\"dsa\";if(e.match(ECDSA_ALGO))return\"ecdsa\";if(\"ssh-ed25519-cert-v01@openssh.com\"===e)return\"ed25519\";throw new Error(\"Unsupported cert type \"+e)}function getCertType(e){if(\"rsa\"===e.type)return\"ssh-rsa-cert-v01@openssh.com\";if(\"dsa\"===e.type)return\"ssh-dss-cert-v01@openssh.com\";if(\"ecdsa\"===e.type)return\"ecdsa-sha2-\"+e.curve+\"-cert-v01@openssh.com\";if(\"ed25519\"===e.type)return\"ssh-ed25519-cert-v01@openssh.com\";throw new Error(\"Unsupported key type \"+e.type)}","node_modules/sshpk/lib/formats/x509.js":"module.exports={read:read,verify:verify,sign:sign,signAsync:signAsync,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),Identity=require(\"../identity\"),Signature=require(\"../signature\"),Certificate=require(\"../certificate\"),pkcs8=require(\"./pkcs8\");function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+\" is not an Integer\"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function verify(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\");var a=t.algo.split(\"-\");if(a[0]!==r.type)return!1;var s=t.cache;if(void 0===s){var n=new asn1.BerWriter;writeTBSCert(e,n),s=n.buffer}var i=r.createVerify(a[1]);return i.write(s),i.verify(t.signature)}function Local(e){return asn1.Ber.Context|asn1.Ber.Constructor|e}function Context(e){return asn1.Ber.Context|e}var SIGN_ALGS={\"rsa-md5\":\"1.2.840.113549.1.1.4\",\"rsa-sha1\":\"1.2.840.113549.1.1.5\",\"rsa-sha256\":\"1.2.840.113549.1.1.11\",\"rsa-sha384\":\"1.2.840.113549.1.1.12\",\"rsa-sha512\":\"1.2.840.113549.1.1.13\",\"dsa-sha1\":\"1.2.840.10040.4.3\",\"dsa-sha256\":\"2.16.840.1.101.3.4.3.2\",\"ecdsa-sha1\":\"1.2.840.10045.4.1\",\"ecdsa-sha256\":\"1.2.840.10045.4.3.2\",\"ecdsa-sha384\":\"1.2.840.10045.4.3.3\",\"ecdsa-sha512\":\"1.2.840.10045.4.3.4\"};Object.keys(SIGN_ALGS).forEach(function(e){SIGN_ALGS[SIGN_ALGS[e]]=e}),SIGN_ALGS[\"1.3.14.3.2.3\"]=\"rsa-md5\",SIGN_ALGS[\"1.3.14.3.2.29\"]=\"rsa-sha1\";var EXTS={issuerKeyId:\"2.5.29.35\",altName:\"2.5.29.17\",basicConstraints:\"2.5.29.19\",keyUsage:\"2.5.29.15\",extKeyUsage:\"2.5.29.37\"};function read(e,r){\"string\"==typeof e&&(e=new Buffer(e,\"binary\")),assert.buffer(e,\"buf\");var t=new asn1.BerReader(e);if(t.readSequence(),Math.abs(t.length-t.remain)>1)throw new Error(\"DER sequence does not contain whole byte stream\");var a=t.offset;t.readSequence();var s=t.offset+t.length,n=s;if(t.peek()===Local(0)){t.readSequence(Local(0));var i=t.readInt();assert.ok(i<=3,\"only x.509 versions up to v3 supported\")}var o={};o.signatures={};var u=o.signatures.x509={};u.extras={},o.serial=readMPInt(t,\"serial\"),t.readSequence();var c=t.offset+t.length,f=t.readOID();if(void 0===SIGN_ALGS[f])throw new Error(\"unknown signature algorithm \"+f);if(t._offset=c,o.issuer=Identity.parseAsn1(t),t.readSequence(),o.validFrom=readDate(t),o.validUntil=readDate(t),o.subjects=[Identity.parseAsn1(t)],t.readSequence(),c=t.offset+t.length,o.subjectKey=pkcs8.readPkcs8(void 0,\"public\",t),t._offset=c,t.peek()===Local(1)&&(t.readSequence(Local(1)),u.extras.issuerUniqueID=e.slice(t.offset,t.offset+t.length),t._offset+=t.length),t.peek()===Local(2)&&(t.readSequence(Local(2)),u.extras.subjectUniqueID=e.slice(t.offset,t.offset+t.length),t._offset+=t.length),t.peek()===Local(3)){t.readSequence(Local(3));var d=t.offset+t.length;for(t.readSequence();t.offset<d;)readExtension(o,e,t);assert.strictEqual(t.offset,d)}assert.strictEqual(t.offset,s),t.readSequence(),c=t.offset+t.length;var l=t.readOID(),S=SIGN_ALGS[l];if(void 0===S)throw new Error(\"unknown signature algorithm \"+l);t._offset=c;var g=t.readString(asn1.Ber.BitString,!0);0===g[0]&&(g=g.slice(1));var p=S.split(\"-\");return u.signature=Signature.parse(g,p[0],\"asn1\"),u.signature.hashAlgorithm=p[1],u.algo=S,u.cache=e.slice(a,n),new Certificate(o)}function readDate(e){if(e.peek()===asn1.Ber.UTCTime)return utcTimeToDate(e.readString(asn1.Ber.UTCTime));if(e.peek()===asn1.Ber.GeneralizedTime)return gTimeToDate(e.readString(asn1.Ber.GeneralizedTime));throw new Error(\"Unsupported date format\")}var ALTNAME={OtherName:Local(0),RFC822Name:Context(1),DNSName:Context(2),X400Address:Local(3),DirectoryName:Local(4),EDIPartyName:Local(5),URI:Context(6),IPAddress:Context(7),OID:Context(8)},EXTPURPOSE={serverAuth:\"1.3.6.1.5.5.7.3.1\",clientAuth:\"1.3.6.1.5.5.7.3.2\",codeSigning:\"1.3.6.1.5.5.7.3.3\",joyentDocker:\"1.3.6.1.4.1.38678.1.4.1\",joyentCmon:\"1.3.6.1.4.1.38678.1.4.2\"},EXTPURPOSE_REV={};Object.keys(EXTPURPOSE).forEach(function(e){EXTPURPOSE_REV[EXTPURPOSE[e]]=e});var KEYUSEBITS=[\"signature\",\"identity\",\"keyEncryption\",\"encryption\",\"keyAgreement\",\"ca\",\"crl\"];function readExtension(e,r,t){t.readSequence();var a,s=t.offset+t.length,n=t.readOID(),i=e.signatures.x509;i.extras.exts=[];var o;switch(t.peek()===asn1.Ber.Boolean&&(o=t.readBoolean()),n){case EXTS.basicConstraints:t.readSequence(asn1.Ber.OctetString),t.readSequence();var u=t.offset+t.length,c=!1;t.peek()===asn1.Ber.Boolean&&(c=t.readBoolean()),void 0===e.purposes&&(e.purposes=[]),!0===c&&e.purposes.push(\"ca\");var f={oid:n,critical:o};t.offset<u&&t.peek()===asn1.Ber.Integer&&(f.pathLen=t.readInt()),i.extras.exts.push(f);break;case EXTS.extKeyUsage:t.readSequence(asn1.Ber.OctetString),t.readSequence(),void 0===e.purposes&&(e.purposes=[]);for(var d=t.offset+t.length;t.offset<d;){var l=t.readOID();e.purposes.push(EXTPURPOSE_REV[l]||l)}-1!==e.purposes.indexOf(\"serverAuth\")&&-1===e.purposes.indexOf(\"clientAuth\")?e.subjects.forEach(function(e){\"host\"!==e.type&&(e.type=\"host\",e.hostname=e.uid||e.email||e.components[0].value)}):-1!==e.purposes.indexOf(\"clientAuth\")&&-1===e.purposes.indexOf(\"serverAuth\")&&e.subjects.forEach(function(e){\"user\"!==e.type&&(e.type=\"user\",e.uid=e.hostname||e.email||e.components[0].value)}),i.extras.exts.push({oid:n,critical:o});break;case EXTS.keyUsage:t.readSequence(asn1.Ber.OctetString);var S=t.readString(asn1.Ber.BitString,!0);readBitField(S,KEYUSEBITS).forEach(function(r){void 0===e.purposes&&(e.purposes=[]),-1===e.purposes.indexOf(r)&&e.purposes.push(r)}),i.extras.exts.push({oid:n,critical:o,bits:S});break;case EXTS.altName:t.readSequence(asn1.Ber.OctetString),t.readSequence();for(var g=t.offset+t.length;t.offset<g;)switch(t.peek()){case ALTNAME.OtherName:case ALTNAME.EDIPartyName:t.readSequence(),t._offset+=t.length;break;case ALTNAME.OID:t.readOID(ALTNAME.OID);break;case ALTNAME.RFC822Name:var p=t.readString(ALTNAME.RFC822Name);a=Identity.forEmail(p),e.subjects[0].equals(a)||e.subjects.push(a);break;case ALTNAME.DirectoryName:t.readSequence(ALTNAME.DirectoryName),a=Identity.parseAsn1(t),e.subjects[0].equals(a)||e.subjects.push(a);break;case ALTNAME.DNSName:var h=t.readString(ALTNAME.DNSName);a=Identity.forHost(h),e.subjects[0].equals(a)||e.subjects.push(a);break;default:t.readString(t.peek())}i.extras.exts.push({oid:n,critical:o});break;default:i.extras.exts.push({oid:n,critical:o,data:t.readString(asn1.Ber.OctetString,!0)})}t._offset=s}var UTCTIME_RE=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function utcTimeToDate(e){var r=e.match(UTCTIME_RE);assert.ok(r,\"timestamps must be in UTC\");var t=new Date,a=t.getUTCFullYear(),s=100*Math.floor(a/100),n=parseInt(r[1],10);return n+=a%100<50&&n>=60?s-1:s,t.setUTCFullYear(n,parseInt(r[2],10)-1,parseInt(r[3],10)),t.setUTCHours(parseInt(r[4],10),parseInt(r[5],10)),r[6]&&r[6].length>0&&t.setUTCSeconds(parseInt(r[6],10)),t}var GTIME_RE=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function gTimeToDate(e){var r=e.match(GTIME_RE);assert.ok(r);var t=new Date;return t.setUTCFullYear(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10)),t.setUTCHours(parseInt(r[4],10),parseInt(r[5],10)),r[6]&&r[6].length>0&&t.setUTCSeconds(parseInt(r[6],10)),t}function zeroPad(e){for(var r=\"\"+e;r.length<2;)r=\"0\"+r;return r}function dateToUTCTime(e){var r=\"\";return r+=zeroPad(e.getUTCFullYear()%100),r+=zeroPad(e.getUTCMonth()+1),r+=zeroPad(e.getUTCDate()),r+=zeroPad(e.getUTCHours()),r+=zeroPad(e.getUTCMinutes()),r+=zeroPad(e.getUTCSeconds()),r+=\"Z\"}function sign(e,r){void 0===e.signatures.x509&&(e.signatures.x509={});var t=e.signatures.x509;if(t.algo=r.type+\"-\"+r.defaultHashAlgorithm(),void 0===SIGN_ALGS[t.algo])return!1;var a=new asn1.BerWriter;writeTBSCert(e,a);var s=a.buffer;t.cache=s;var n=r.createSign();return n.write(s),e.signatures.x509.signature=n.sign(),!0}function signAsync(e,r,t){void 0===e.signatures.x509&&(e.signatures.x509={});var a=e.signatures.x509,s=new asn1.BerWriter;writeTBSCert(e,s);var n=s.buffer;a.cache=n,r(n,function(e,r){e?t(e):(a.algo=r.type+\"-\"+r.hashAlgorithm,void 0!==SIGN_ALGS[a.algo]?(a.signature=r,t()):t(new Error('Invalid signing algorithm \"'+a.algo+'\"')))})}function write(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\");var a=new asn1.BerWriter;a.startSequence(),t.cache?(a._ensure(t.cache.length),t.cache.copy(a._buf,a._offset),a._offset+=t.cache.length):writeTBSCert(e,a),a.startSequence(),a.writeOID(SIGN_ALGS[t.algo]),t.algo.match(/^rsa-/)&&a.writeNull(),a.endSequence();var s=t.signature.toBuffer(\"asn1\"),n=new Buffer(s.length+1);return n[0]=0,s.copy(n,1),a.writeBuffer(n,asn1.Ber.BitString),a.endSequence(),a.buffer}function writeTBSCert(e,r){var t=e.signatures.x509;assert.object(t,\"x509 signature\"),r.startSequence(),r.startSequence(Local(0)),r.writeInt(2),r.endSequence(),r.writeBuffer(utils.mpNormalize(e.serial),asn1.Ber.Integer),r.startSequence(),r.writeOID(SIGN_ALGS[t.algo]),r.endSequence(),e.issuer.toAsn1(r),r.startSequence(),r.writeString(dateToUTCTime(e.validFrom),asn1.Ber.UTCTime),r.writeString(dateToUTCTime(e.validUntil),asn1.Ber.UTCTime),r.endSequence();var a=e.subjects[0],s=e.subjects.slice(1);if(a.toAsn1(r),pkcs8.writePkcs8(r,e.subjectKey),t.extras&&t.extras.issuerUniqueID&&r.writeBuffer(t.extras.issuerUniqueID,Local(1)),t.extras&&t.extras.subjectUniqueID&&r.writeBuffer(t.extras.subjectUniqueID,Local(2)),s.length>0||\"host\"===a.type||void 0!==e.purposes&&e.purposes.length>0||t.extras&&t.extras.exts){r.startSequence(Local(3)),r.startSequence();var n=[];void 0!==e.purposes&&e.purposes.length>0&&(n.push({oid:EXTS.basicConstraints,critical:!0}),n.push({oid:EXTS.keyUsage,critical:!0}),n.push({oid:EXTS.extKeyUsage,critical:!0})),n.push({oid:EXTS.altName}),t.extras&&t.extras.exts&&(n=t.extras.exts);for(var i=0;i<n.length;++i){if(r.startSequence(),r.writeOID(n[i].oid),void 0!==n[i].critical&&r.writeBoolean(n[i].critical),n[i].oid===EXTS.altName){r.startSequence(asn1.Ber.OctetString),r.startSequence(),\"host\"===a.type&&r.writeString(a.hostname,Context(2));for(var o=0;o<s.length;++o)\"host\"===s[o].type?r.writeString(s[o].hostname,ALTNAME.DNSName):\"email\"===s[o].type?r.writeString(s[o].email,ALTNAME.RFC822Name):(r.startSequence(ALTNAME.DirectoryName),s[o].toAsn1(r),r.endSequence());r.endSequence(),r.endSequence()}else if(n[i].oid===EXTS.basicConstraints){r.startSequence(asn1.Ber.OctetString),r.startSequence();var u=-1!==e.purposes.indexOf(\"ca\"),c=n[i].pathLen;r.writeBoolean(u),void 0!==c&&r.writeInt(c),r.endSequence(),r.endSequence()}else if(n[i].oid===EXTS.extKeyUsage)r.startSequence(asn1.Ber.OctetString),r.startSequence(),e.purposes.forEach(function(e){if(\"ca\"!==e&&-1===KEYUSEBITS.indexOf(e)){var t=e;void 0!==EXTPURPOSE[e]&&(t=EXTPURPOSE[e]),r.writeOID(t)}}),r.endSequence(),r.endSequence();else if(n[i].oid===EXTS.keyUsage){if(r.startSequence(asn1.Ber.OctetString),void 0!==n[i].bits)r.writeBuffer(n[i].bits,asn1.Ber.BitString);else{var f=writeBitField(e.purposes,KEYUSEBITS);r.writeBuffer(f,asn1.Ber.BitString)}r.endSequence()}else r.writeBuffer(n[i].data,asn1.Ber.OctetString);r.endSequence()}r.endSequence(),r.endSequence()}r.endSequence()}function readBitField(e,r){for(var t=8*(e.length-1)-e[0],a={},s=0;s<t;++s){var n=1<<7-s%8,i=0!=(e[1+Math.floor(s/8)]&n),o=r[s];i&&\"string\"==typeof o&&(a[o]=!0)}return Object.keys(a)}function writeBitField(e,r){var t=r.length,a=Math.ceil(t/8),s=8*a-t,n=new Buffer(1+a);n.fill(0),n[0]=s;for(var i=0;i<t;++i){var o=1+Math.floor(i/8),u=1<<7-i%8,c=r[i];if(void 0!==c){-1!==e.indexOf(c)&&(n[o]|=u)}}return n}","node_modules/sshpk/lib/formats/x509-pem.js":"var x509=require(\"./x509\");module.exports={read:read,verify:x509.verify,sign:x509.sign,write:write};var assert=require(\"assert-plus\"),asn1=require(\"asn1\"),algs=require(\"../algs\"),utils=require(\"../utils\"),Key=require(\"../key\"),PrivateKey=require(\"../private-key\"),pem=require(\"./pem\"),Identity=require(\"../identity\"),Signature=require(\"../signature\"),Certificate=require(\"../certificate\");function read(e,r){\"string\"!=typeof e&&(assert.buffer(e,\"buf\"),e=e.toString(\"ascii\"));var i=e.trim().split(/[\\r\\n]+/g),t=i[0].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);assert.ok(t,\"invalid PEM header\");var a=i[i.length-1].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);assert.ok(a,\"invalid PEM footer\");for(var n={};i=i.slice(1),t=i[0].match(/^([A-Za-z0-9-]+): (.+)$/);)n[t[1].toLowerCase()]=t[2];return i=i.slice(0,-1).join(\"\"),e=new Buffer(i,\"base64\"),x509.read(e,r)}function write(e,r){var i=x509.write(e,r).toString(\"base64\"),t=i.length+i.length/64+18+16+2*\"CERTIFICATE\".length+10,a=new Buffer(t),n=0;n+=a.write(\"-----BEGIN CERTIFICATE-----\\n\",n);for(var s=0;s<i.length;){var u=s+64;u>i.length&&(u=i.length),n+=a.write(i.slice(s,u),n),a[n++]=10,s=u}return n+=a.write(\"-----END CERTIFICATE-----\\n\",n),a.slice(0,n)}","node_modules/asn1/lib/index.js":"var Ber=require(\"./ber/index\");module.exports={Ber:Ber,BerReader:Ber.Reader,BerWriter:Ber.Writer};","node_modules/sshpk/lib/ssh-buffer.js":"module.exports=SSHBuffer;var assert=require(\"assert-plus\");function SSHBuffer(t){assert.object(t,\"options\"),void 0!==t.buffer&&assert.buffer(t.buffer,\"options.buffer\"),this._size=t.buffer?t.buffer.length:1024,this._buffer=t.buffer||new Buffer(this._size),this._offset=0}SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(t){this._offset+=t},SSHBuffer.prototype.expand=function(){this._size*=2;var t=new Buffer(this._size);this._buffer.copy(t,0),this._buffer=t},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var t=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+t<=this._buffer.length,\"length out of bounds at +0x\"+this._offset.toString(16)+\" (data truncated?)\");var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var t=this._offset;t<this._buffer.length&&0!==this._buffer[t];)t++;assert.ok(t<this._buffer.length,\"c string does not terminate\");var f=this._buffer.slice(this._offset,t).toString();return this._offset=t+1,f},SSHBuffer.prototype.readInt=function(){var t=this._buffer.readUInt32BE(this._offset);return this._offset+=4,t},SSHBuffer.prototype.readInt64=function(){assert.ok(this._offset+8<this._buffer.length,\"buffer not long enough to read Int64\");var t=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,t},SSHBuffer.prototype.readChar=function(){return this._buffer[this._offset++]},SSHBuffer.prototype.writeBuffer=function(t){for(;this._offset+4+t.length>this._size;)this.expand();this._buffer.writeUInt32BE(t.length,this._offset),this._offset+=4,t.copy(this._buffer,this._offset),this._offset+=t.length},SSHBuffer.prototype.writeString=function(t){this.writeBuffer(new Buffer(t,\"utf8\"))},SSHBuffer.prototype.writeCString=function(t){for(;this._offset+1+t.length>this._size;)this.expand();this._buffer.write(t,this._offset),this._offset+=t.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(t){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(t,this._offset),this._offset+=4},SSHBuffer.prototype.writeInt64=function(t){if(assert.buffer(t,\"value\"),t.length>8){for(var f=t.slice(0,t.length-8),e=0;e<f.length;++e)assert.strictEqual(f[e],0,\"must fit in 64 bits of precision\");t=t.slice(t.length-8,t.length)}for(;this._offset+8>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=8},SSHBuffer.prototype.writeChar=function(t){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=t},SSHBuffer.prototype.writePart=function(t){this.writeBuffer(t.data)},SSHBuffer.prototype.write=function(t){for(;this._offset+t.length>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=t.length};","node_modules/asn1/lib/ber/index.js":"var errors=require(\"./errors\"),types=require(\"./types\"),Reader=require(\"./reader\"),Writer=require(\"./writer\");module.exports={Reader:Reader,Writer:Writer};for(var t in types)types.hasOwnProperty(t)&&(module.exports[t]=types[t]);for(var e in errors)errors.hasOwnProperty(e)&&(module.exports[e]=errors[e]);","node_modules/asn1/lib/ber/errors.js":"module.exports={newInvalidAsn1Error:function(r){var n=new Error;return n.name=\"InvalidAsn1Error\",n.message=r||\"\",n}};","node_modules/asn1/lib/ber/types.js":"module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128};","node_modules/asn1/lib/ber/reader.js":"var assert=require(\"assert\"),ASN1=require(\"./types\"),errors=require(\"./errors\"),newInvalidAsn1Error=errors.newInvalidAsn1Error;function Reader(e){if(!e||!Buffer.isBuffer(e))throw new TypeError(\"data must be a node Buffer\");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(Reader.prototype,\"length\",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,\"offset\",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,\"remain\",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,\"buffer\",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0==(t&=127))throw newInvalidAsn1Error(\"Indefinite length not supported\");if(t>4)throw newInvalidAsn1Error(\"encoding too long\");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},Reader.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0!==this._readTag(ASN1.Boolean)},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(e,t){e||(e=ASN1.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?new Buffer(0):\"\";var i=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?i:i.toString(\"utf8\")},Reader.prototype.readOID=function(e){e||(e=ASN1.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var o=255&t[i];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(\".\")},Reader.prototype._readTag=function(e){assert.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw newInvalidAsn1Error(\"Expected 0x\"+e.toString(16)+\": got 0x\"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw newInvalidAsn1Error(\"Integer too long: \"+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],i=0,o=0;o<this.length;o++)i<<=8,i|=255&this._buf[this._offset++];return 128==(128&n)&&4!==o&&(i-=1<<8*o),i>>0},module.exports=Reader;","node_modules/asn1/lib/ber/writer.js":"var assert=require(\"assert\"),ASN1=require(\"./types\"),errors=require(\"./errors\"),newInvalidAsn1Error=errors.newInvalidAsn1Error,DEFAULT_OPTS={size:1024,growthFactor:8};function merge(t,e){assert.ok(t),assert.equal(typeof t,\"object\"),assert.ok(e),assert.equal(typeof e,\"object\");return Object.getOwnPropertyNames(t).forEach(function(r){if(!e[r]){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s)}}),e}function Writer(t){t=merge(DEFAULT_OPTS,t||{}),this._buf=new Buffer(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}Object.defineProperty(Writer.prototype,\"buffer\",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+\" unended sequence(s)\");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");this._ensure(1),this._buf[this._offset++]=t},Writer.prototype.writeInt=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");\"number\"!=typeof e&&(e=ASN1.Integer);for(var r=4;(0==(4286578688&t)||-8388608==(4286578688&t))&&r>1;)r--,t<<=8;if(r>4)throw new InvalidAsn1Error(\"BER ints cannot be > 0xffffffff\");for(this._ensure(2+r),this._buf[this._offset++]=e,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");return\"number\"!=typeof e&&(e=ASN1.Enumeration),this.writeInt(t,e)},Writer.prototype.writeBoolean=function(t,e){if(\"boolean\"!=typeof t)throw new TypeError(\"argument must be a Boolean\");\"number\"!=typeof e&&(e=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},Writer.prototype.writeString=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string (was: \"+typeof t+\")\");\"number\"!=typeof e&&(e=ASN1.OctetString);var r=Buffer.byteLength(t);this.writeByte(e),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},Writer.prototype.writeBuffer=function(t,e){if(\"number\"!=typeof e)throw new TypeError(\"tag must be a number\");if(!Buffer.isBuffer(t))throw new TypeError(\"argument must be a buffer\");this.writeByte(e),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},Writer.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError(\"argument must be an Array[String]\");var e=this;t.forEach(function(t){e.writeString(t)})},Writer.prototype.writeOID=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string\");if(\"number\"!=typeof e&&(e=ASN1.OID),!/^([0-9]+\\.){3,}[0-9]+$/.test(t))throw new Error(\"argument is not a valid OID string\");var r=t.split(\".\"),s=[];s.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(t){!function(t,e){e<128?t.push(e):e<16384?(t.push(e>>>7|128),t.push(127&e)):e<2097152?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):e<268435456?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}(s,parseInt(t,10))});var i=this;this._ensure(2+s.length),this.writeByte(e),this.writeLength(s.length),s.forEach(function(t){i.writeByte(t)})},Writer.prototype.writeLength=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");if(this._ensure(4),t<=127)this._buf[this._offset++]=t;else if(t<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(t<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(t<=16777215))throw new InvalidAsn1ERror(\"Length too long (> 4 bytes)\");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},Writer.prototype.startSequence=function(t){\"number\"!=typeof t&&(t=ASN1.Sequence|ASN1.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,r=this._offset-e;if(r<=127)this._shift(e,r,-2),this._buf[t]=r;else if(r<=255)this._shift(e,r,-1),this._buf[t]=129,this._buf[t+1]=r;else if(r<=65535)this._buf[t]=130,this._buf[t+1]=r>>8,this._buf[t+2]=r;else{if(!(r<=16777215))throw new InvalidAsn1Error(\"Sequence too long\");this._shift(e,r,1),this._buf[t]=131,this._buf[t+1]=r>>16,this._buf[t+2]=r>>8,this._buf[t+3]=r}},Writer.prototype._shift=function(t,e,r){assert.ok(void 0!==t),assert.ok(void 0!==e),assert.ok(r),this._buf.copy(this._buf,t+r,t,t+e),this._offset+=r},Writer.prototype._ensure=function(t){if(assert.ok(t),this._size-this._offset<t){var e=this._size*this._options.growthFactor;e-this._offset<t&&(e+=t);var r=new Buffer(e);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=e}},module.exports=Writer;","node_modules/jsprim/lib/jsprim.js":"var mod_assert=require(\"assert-plus\"),mod_util=require(\"util\"),mod_extsprintf=require(\"extsprintf\"),mod_verror=require(\"verror\"),mod_jsonschema=require(\"json-schema\");exports.deepCopy=deepCopy,exports.deepEqual=deepEqual,exports.isEmpty=isEmpty,exports.hasKey=hasKey,exports.forEachKey=forEachKey,exports.pluck=pluck,exports.flattenObject=flattenObject,exports.flattenIter=flattenIter,exports.validateJsonObject=validateJsonObjectJS,exports.validateJsonObjectJS=validateJsonObjectJS,exports.randElt=randElt,exports.extraProperties=extraProperties,exports.mergeObjects=mergeObjects,exports.startsWith=startsWith,exports.endsWith=endsWith,exports.parseInteger=parseInteger,exports.iso8601=iso8601,exports.rfc1123=rfc1123,exports.parseDateTime=parseDateTime,exports.hrtimediff=hrtimeDiff,exports.hrtimeDiff=hrtimeDiff,exports.hrtimeAccum=hrtimeAccum,exports.hrtimeAdd=hrtimeAdd,exports.hrtimeNanosec=hrtimeNanosec,exports.hrtimeMicrosec=hrtimeMicrosec,exports.hrtimeMillisec=hrtimeMillisec;function deepCopy(e){var r,t,o=\"__deepCopy\";if(e&&e[o])throw new Error(\"attempted deep copy of cyclic object\");if(e&&e.constructor==Object){r={},e[o]=!0;for(t in e)t!=o&&(r[t]=deepCopy(e[t]));return delete e[o],r}if(e&&e.constructor==Array){for(r=[],e[o]=!0,t=0;t<e.length;t++)r.push(deepCopy(e[t]));return delete e[o],r}return e}function deepEqual(e,r){if(typeof e!=typeof r)return!1;if(null===e||null===r||\"object\"!=typeof e)return e===r;if(e.constructor!=r.constructor)return!1;var t;for(t in e){if(!r.hasOwnProperty(t))return!1;if(!deepEqual(e[t],r[t]))return!1}for(t in r)if(!e.hasOwnProperty(t))return!1;return!0}function isEmpty(e){var r;for(r in e)return!1;return!0}function hasKey(e,r){return mod_assert.equal(typeof r,\"string\"),Object.prototype.hasOwnProperty.call(e,r)}function forEachKey(e,r){for(var t in e)hasKey(e,t)&&r(t,e[t])}function pluck(e,r){return mod_assert.equal(typeof r,\"string\"),pluckv(e,r)}function pluckv(e,r){if(null!==e&&\"object\"==typeof e){if(e.hasOwnProperty(r))return e[r];var t=r.indexOf(\".\");if(-1!=t){var o=r.substr(0,t);if(e.hasOwnProperty(o))return pluckv(e[o],r.substr(t+1))}}}function flattenIter(e,r,t){doFlattenIter(e,r,[],t)}function doFlattenIter(e,r,t,o){var s,n;if(0===r)return(s=t.slice(0)).push(e),void o(s);mod_assert.ok(null!==e),mod_assert.equal(typeof e,\"object\"),mod_assert.equal(typeof r,\"number\"),mod_assert.ok(r>=0);for(n in e)(s=t.slice(0)).push(n),doFlattenIter(e[n],r-1,s,o)}function flattenObject(e,r){if(0===r)return[e];mod_assert.ok(null!==e),mod_assert.equal(typeof e,\"object\"),mod_assert.equal(typeof r,\"number\"),mod_assert.ok(r>=0);var t,o=[];for(t in e)flattenObject(e[t],r-1).forEach(function(e){o.push([t].concat(e))});return o}function startsWith(e,r){return e.substr(0,r.length)==r}function endsWith(e,r){return e.substr(e.length-r.length,r.length)==r}function iso8601(e){return\"number\"==typeof e&&(e=new Date(e)),mod_assert.ok(e.constructor===Date),mod_extsprintf.sprintf(\"%4d-%02d-%02dT%02d:%02d:%02d.%03dZ\",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}var RFC1123_MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],RFC1123_DAYS=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];function rfc1123(e){return mod_extsprintf.sprintf(\"%s, %02d %s %04d %02d:%02d:%02d GMT\",RFC1123_DAYS[e.getUTCDay()],e.getUTCDate(),RFC1123_MONTHS[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function parseDateTime(e){var r=+e;return isNaN(r)?new Date(e):new Date(r)}var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,PI_DEFAULTS={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},CP_0=48,CP_9=57,CP_A=65,CP_B=66,CP_O=79,CP_T=84,CP_X=88,CP_Z=90,CP_a=97,CP_b=98,CP_o=111,CP_t=116,CP_x=120,CP_z=122,PI_CONV_DEC=48,PI_CONV_UC=55,PI_CONV_LC=87;function parseInteger(e,r){mod_assert.string(e,\"str\"),mod_assert.optionalObject(r,\"options\");var t=!1,o=PI_DEFAULTS;r&&(t=hasKey(r,\"base\"),o=mergeObjects(o,r),mod_assert.number(o.base,\"options.base\"),mod_assert.ok(o.base>=2,\"options.base >= 2\"),mod_assert.ok(o.base<=36,\"options.base <= 36\"),mod_assert.bool(o.allowSign,\"options.allowSign\"),mod_assert.bool(o.allowPrefix,\"options.allowPrefix\"),mod_assert.bool(o.allowTrailing,\"options.allowTrailing\"),mod_assert.bool(o.allowImprecise,\"options.allowImprecise\"),mod_assert.bool(o.trimWhitespace,\"options.trimWhitespace\"),mod_assert.bool(o.leadingZeroIsOctal,\"options.leadingZeroIsOctal\"),o.leadingZeroIsOctal&&mod_assert.ok(!t,'\"base\" and \"leadingZeroIsOctal\" are mutually exclusive'));var s,n,a=-1,i=o.base,l=1,u=0,c=0,f=e.length;if(o.trimWhitespace)for(;c<f&&isSpace(e.charCodeAt(c));)++c;for(o.allowSign&&(\"-\"===e[c]?(c+=1,l=-1):\"+\"===e[c]&&(c+=1)),\"0\"===e[c]&&(o.allowPrefix&&(-1===(a=prefixToBase(e.charCodeAt(c+1)))||t&&a!==i||(i=a,c+=2)),-1===a&&o.leadingZeroIsOctal&&(i=8)),n=c;c<f&&(-1!==(s=translateDigit(e.charCodeAt(c)))&&s<i);++c)u*=i,u+=s;if(n===c)return new Error(\"invalid number: \"+JSON.stringify(e));if(o.trimWhitespace)for(;c<f&&isSpace(e.charCodeAt(c));)++c;if(c<f&&!o.allowTrailing)return new Error(\"trailing characters after number: \"+JSON.stringify(e.slice(c)));if(0===u)return 0;var p=u*l;return!o.allowImprecise&&(u>MAX_SAFE_INTEGER||p<MIN_SAFE_INTEGER)?new Error(\"number is outside of the supported range: \"+JSON.stringify(e.slice(n,c))):p}function translateDigit(e){return e>=CP_0&&e<=CP_9?e-PI_CONV_DEC:e>=CP_A&&e<=CP_Z?e-PI_CONV_UC:e>=CP_a&&e<=CP_z?e-PI_CONV_LC:-1}function isSpace(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function prefixToBase(e){return e===CP_b||e===CP_B?2:e===CP_o||e===CP_O?8:e===CP_t||e===CP_T?10:e===CP_x||e===CP_X?16:-1}function validateJsonObjectJS(e,r){var t=mod_jsonschema.validate(r,e);if(0===t.errors.length)return null;var o,s,n=t.errors[0],a=n.property,i=n.message.toLowerCase();-1!=(o=i.indexOf(\"the property \"))&&-1!=(s=i.indexOf(\" is not defined in the schema and the schema does not allow additional properties\"))&&(o+=\"the property \".length,a=\"\"===a?i.substr(o,s-o):a+\".\"+i.substr(o,s-o),i=\"unsupported property\");var l=new mod_verror.VError('property \"%s\": %s',a,i);return l.jsv_details=n,l}function randElt(e){return mod_assert.ok(Array.isArray(e)&&e.length>0,\"randElt argument must be a non-empty array\"),e[Math.floor(Math.random()*e.length)]}function assertHrtime(e){mod_assert.ok(e[0]>=0&&e[1]>=0,\"negative numbers not allowed in hrtimes\"),mod_assert.ok(e[1]<1e9,\"nanoseconds column overflow\")}function hrtimeDiff(e,r){assertHrtime(e),assertHrtime(r),mod_assert.ok(e[0]>r[0]||e[0]==r[0]&&e[1]>=r[1],\"negative differences not allowed\");var t=[e[0]-r[0],0];return e[1]>=r[1]?t[1]=e[1]-r[1]:(t[0]--,t[1]=1e9-(r[1]-e[1])),t}function hrtimeNanosec(e){return assertHrtime(e),Math.floor(1e9*e[0]+e[1])}function hrtimeMicrosec(e){return assertHrtime(e),Math.floor(1e6*e[0]+e[1]/1e3)}function hrtimeMillisec(e){return assertHrtime(e),Math.floor(1e3*e[0]+e[1]/1e6)}function hrtimeAccum(e,r){return assertHrtime(e),assertHrtime(r),e[1]+=r[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=r[0],e}function hrtimeAdd(e,r){assertHrtime(e);return hrtimeAccum([e[0],e[1]],r)}function extraProperties(e,r){mod_assert.ok(\"object\"==typeof e&&null!==e,\"obj argument must be a non-null object\"),mod_assert.ok(Array.isArray(r),\"allowed argument must be an array of strings\");for(var t=0;t<r.length;t++)mod_assert.ok(\"string\"==typeof r[t],\"allowed argument must be an array of strings\");return Object.keys(e).filter(function(e){return-1===r.indexOf(e)})}function mergeObjects(e,r,t){var o,s;if(o={},t)for(s in t)o[s]=t[s];if(e)for(s in e)o[s]=e[s];if(r)for(s in r)o[s]=r[s];return o}","node_modules/extsprintf/lib/extsprintf.js":"var mod_assert=require(\"assert\"),mod_util=require(\"util\");exports.sprintf=jsSprintf,exports.printf=jsPrintf,exports.fprintf=jsFprintf;function jsSprintf(r){var t,e,n,o,i,s,a,p,f,u=[\"([^%]*)\",\"%\",\"(['\\\\-+ #0]*?)\",\"([1-9]\\\\d*)?\",\"(\\\\.([1-9]\\\\d*))?\",\"[lhjztL]*?\",\"([diouxXfFeEgGaAcCsSp%jr])\"].join(\"\"),c=new RegExp(u),l=Array.prototype.slice.call(arguments,1),d=\"\",h=1;for(mod_assert.equal(\"string\",typeof r);null!==(f=c.exec(r));)if(d+=f[1],r=r.substring(f[0].length),t=f[2]||\"\",e=f[3]||0,n=f[4]||\"\",o=f[6],i=!1,a=!1,s=\" \",\"%\"!=o){if(0===l.length)throw new Error(\"too few args to sprintf\");if(p=l.shift(),h++,t.match(/[\\' #]/))throw new Error(\"unsupported flags: \"+t);if(n.length>0)throw new Error(\"non-zero precision not supported\");switch(t.match(/-/)&&(i=!0),t.match(/0/)&&(s=\"0\"),t.match(/\\+/)&&(a=!0),o){case\"s\":if(void 0===p||null===p)throw new Error(\"argument \"+h+\": attempted to print undefined or null as a string\");d+=doPad(s,e,i,p.toString());break;case\"d\":p=Math.floor(p);case\"f\":d+=(a=a&&p>0?\"+\":\"\")+doPad(s,e,i,p.toString());break;case\"x\":d+=doPad(s,e,i,p.toString(16));break;case\"j\":0===e&&(e=10),d+=mod_util.inspect(p,!1,e);break;case\"r\":d+=dumpException(p);break;default:throw new Error(\"unsupported conversion: \"+o)}}else d+=\"%\";return d+=r}function jsPrintf(){var r=Array.prototype.slice.call(arguments);r.unshift(process.stdout),jsFprintf.apply(null,r)}function jsFprintf(r){var t=Array.prototype.slice.call(arguments,1);return r.write(jsSprintf.apply(this,t))}function doPad(r,t,e,n){for(var o=n;o.length<t;)e?o+=r:o=r+o;return o}function dumpException(r){var t;if(!(r instanceof Error))throw new Error(jsSprintf(\"invalid type for %%r: %j\",r));if(t=\"EXCEPTION: \"+r.constructor.name+\": \"+r.stack,r.cause&&\"function\"==typeof r.cause){var e=r.cause();e&&(t+=\"\\nCaused by: \"+dumpException(e))}return t}","node_modules/verror/lib/verror.js":"var mod_assertplus=require(\"assert-plus\"),mod_util=require(\"util\"),mod_extsprintf=require(\"extsprintf\"),mod_isError=require(\"core-util-is\").isError,sprintf=mod_extsprintf.sprintf;module.exports=VError,VError.VError=VError,VError.SError=SError,VError.WError=WError,VError.MultiError=MultiError;function parseConstructorArguments(r){var o,s,t,e,n;if(mod_assertplus.object(r,\"args\"),mod_assertplus.bool(r.strict,\"args.strict\"),mod_assertplus.array(r.argv,\"args.argv\"),0===(o=r.argv).length)s={},t=[];else if(mod_isError(o[0]))s={cause:o[0]},t=o.slice(1);else if(\"object\"==typeof o[0]){s={};for(n in o[0])s[n]=o[0][n];t=o.slice(1)}else mod_assertplus.string(o[0],\"first argument to VError, SError, or WError constructor must be a string, object, or Error\"),s={},t=o;return mod_assertplus.object(s),s.strict||r.strict||(t=t.map(function(r){return null===r?\"null\":void 0===r?\"undefined\":r})),e=0===t.length?\"\":sprintf.apply(null,t),{options:s,shortmessage:e}}function VError(){var r,o,s,t,e,n,i;if(r=Array.prototype.slice.call(arguments,0),!(this instanceof VError))return o=Object.create(VError.prototype),VError.apply(o,arguments),o;if((s=parseConstructorArguments({argv:r,strict:!1})).options.name&&(mod_assertplus.string(s.options.name,'error\\'s \"name\" must be a string'),this.name=s.options.name),this.jse_shortmsg=s.shortmessage,n=s.shortmessage,(t=s.options.cause)&&(mod_assertplus.ok(mod_isError(t),\"cause is not an Error\"),this.jse_cause=t,s.options.skipCauseMessage||(n+=\": \"+t.message)),this.jse_info={},s.options.info)for(i in s.options.info)this.jse_info[i]=s.options.info[i];return this.message=n,Error.call(this,n),Error.captureStackTrace&&(e=s.options.constructorOpt||this.constructor,Error.captureStackTrace(this,e)),this}mod_util.inherits(VError,Error),VError.prototype.name=\"VError\",VError.prototype.toString=function(){var r=this.hasOwnProperty(\"name\")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=\": \"+this.message),r},VError.prototype.cause=function(){var r=VError.cause(this);return null===r?void 0:r},VError.cause=function(r){return mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_isError(r.jse_cause)?r.jse_cause:null},VError.info=function(r){var o,s,t;if(mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),s=VError.cause(r),o=null!==s?VError.info(s):{},\"object\"==typeof r.jse_info&&null!==r.jse_info)for(t in r.jse_info)o[t]=r.jse_info[t];return o},VError.findCauseByName=function(r,o){var s;for(mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_assertplus.string(o,\"name\"),mod_assertplus.ok(o.length>0,\"name cannot be empty\"),s=r;null!==s;s=VError.cause(s))if(mod_assertplus.ok(mod_isError(s)),s.name==o)return s;return null},VError.hasCauseWithName=function(r,o){return null!==VError.findCauseByName(r,o)},VError.fullStack=function(r){mod_assertplus.ok(mod_isError(r),\"err must be an Error\");var o=VError.cause(r);return o?r.stack+\"\\ncaused by: \"+VError.fullStack(o):r.stack},VError.errorFromList=function(r){return mod_assertplus.arrayOfObject(r,\"errors\"),0===r.length?null:(r.forEach(function(r){mod_assertplus.ok(mod_isError(r))}),1==r.length?r[0]:new MultiError(r))},VError.errorForEach=function(r,o){mod_assertplus.ok(mod_isError(r),\"err must be an Error\"),mod_assertplus.func(o,\"func\"),r instanceof MultiError?r.errors().forEach(function(r){o(r)}):o(r)};function SError(){var r,o,s,t;return r=Array.prototype.slice.call(arguments,0),this instanceof SError?(s=parseConstructorArguments({argv:r,strict:!0}),t=s.options,VError.call(this,t,\"%s\",s.shortmessage),this):(o=Object.create(SError.prototype),SError.apply(o,arguments),o)}mod_util.inherits(SError,VError);function MultiError(r){mod_assertplus.array(r,\"list of errors\"),mod_assertplus.ok(r.length>0,\"must be at least one error\"),this.ase_errors=r,VError.call(this,{cause:r[0]},\"first of %d error%s\",r.length,1==r.length?\"\":\"s\")}mod_util.inherits(MultiError,VError),MultiError.prototype.name=\"MultiError\",MultiError.prototype.errors=function(){return this.ase_errors.slice(0)};function WError(){var r,o,s,t;return r=Array.prototype.slice.call(arguments,0),this instanceof WError?(s=parseConstructorArguments({argv:r,strict:!1}),t=s.options,t.skipCauseMessage=!0,VError.call(this,t,\"%s\",s.shortmessage),this):(o=Object.create(WError.prototype),WError.apply(o,r),o)}mod_util.inherits(WError,VError),WError.prototype.name=\"WError\",WError.prototype.toString=function(){var r=this.hasOwnProperty(\"name\")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=\": \"+this.message),this.jse_cause&&this.jse_cause.message&&(r+=\"; caused by \"+this.jse_cause.toString()),r},WError.prototype.cause=function(r){return mod_isError(r)&&(this.jse_cause=r),this.jse_cause};","node_modules/json-schema/lib/validate.js":"!function(e,t){\"function\"==typeof define&&define.amd?define([],function(){return t()}):\"object\"==typeof module&&module.exports?module.exports=t():e.jsonSchema=t()}(this,function(){var e=n;e.Integer={type:\"integer\"};var t={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};e.validate=n;function n(e,t){return n(e,t,{changing:!1})}e.checkPropertyChange=function(e,t,r){return n(e,t,{changing:r||\"property\"})};var n=e._validate=function(e,n,r){r||(r={});var a=r.changing;function i(e){return e.type||t[e.name]==e&&e.name.toLowerCase()}var o=[];function m(e,t,n,s){var c;n+=n?\"number\"==typeof s?\"[\"+s+\"]\":void 0===s?\"\":\".\"+s:s;function f(e){o.push({property:n,message:e})}if((\"object\"!=typeof t||t instanceof Array)&&(n||\"function\"!=typeof t)&&(!t||!i(t)))return\"function\"==typeof t?e instanceof t||f(\"is not an instance of the class/constructor \"+t.name):t&&f(\"Invalid schema/property definition \"+t),null;a&&t.readonly&&f(\"is a readonly field, it can not be changed\"),t.extends&&m(e,t.extends,n,s);function u(e,t){if(e){if(!(\"string\"!=typeof e||\"any\"==e||(\"null\"==e?null===t:typeof t==e)||t instanceof Array&&\"array\"==e||t instanceof Date&&\"date\"==e||\"integer\"==e&&t%1==0))return[{property:n,message:typeof t+\" value found, but a \"+e+\" is required\"}];if(e instanceof Array){for(var r=[],a=0;a<e.length&&(r=u(e[a],t)).length;a++);if(r.length)return r}else if(\"object\"==typeof e){var i=o;o=[],m(t,e,n);var s=o;return o=i,s}}return[]}if(void 0===e)t.required&&f(\"is missing and it is required\");else if(o=o.concat(u(i(t),e)),t.disallow&&!u(t.disallow,e).length&&f(\" disallowed value was matched\"),null!==e){if(e instanceof Array){if(t.items){var p=t.items instanceof Array,l=t.items;for(s=0,c=e.length;s<c;s+=1)p&&(l=t.items[s]),r.coerce&&(e[s]=r.coerce(e[s],l)),o.concat(m(e[s],l,n,s))}t.minItems&&e.length<t.minItems&&f(\"There must be a minimum of \"+t.minItems+\" in the array\"),t.maxItems&&e.length>t.maxItems&&f(\"There must be a maximum of \"+t.maxItems+\" in the array\")}else(t.properties||t.additionalProperties)&&o.concat(function(e,t,n,i){if(\"object\"==typeof t){(\"object\"!=typeof e||e instanceof Array)&&o.push({property:n,message:\"an object is required\"});for(var s in t)if(t.hasOwnProperty(s)){var c=e[s];if(void 0===c&&r.existingOnly)continue;var f=t[s];void 0===c&&f.default&&(c=e[s]=f.default),r.coerce&&s in e&&(c=e[s]=r.coerce(c,f)),m(c,f,n,s)}}for(s in e){if(e.hasOwnProperty(s)&&(\"_\"!=s.charAt(0)||\"_\"!=s.charAt(1))&&t&&!t[s]&&!1===i){if(r.filter){delete e[s];continue}o.push({property:n,message:typeof c+\"The property \"+s+\" is not defined in the schema and the schema does not allow additional properties\"})}var u=t&&t[s]&&t[s].requires;!u||u in e||o.push({property:n,message:\"the presence of the property \"+s+\" requires that \"+u+\" also be present\"}),c=e[s],!i||t&&\"object\"==typeof t&&s in t||(r.coerce&&(c=e[s]=r.coerce(c,i)),m(c,i,n,s)),!a&&c&&c.$schema&&(o=o.concat(m(c,c.$schema,n,s)))}return o}(e,t.properties,n,t.additionalProperties));if(t.pattern&&\"string\"==typeof e&&!e.match(t.pattern)&&f(\"does not match the regex pattern \"+t.pattern),t.maxLength&&\"string\"==typeof e&&e.length>t.maxLength&&f(\"may only be \"+t.maxLength+\" characters long\"),t.minLength&&\"string\"==typeof e&&e.length<t.minLength&&f(\"must be at least \"+t.minLength+\" characters long\"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&f(\"must have a minimum value of \"+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&f(\"must have a maximum value of \"+t.maximum),t.enum){var h=t.enum;c=h.length;for(var y,d=0;d<c;d++)if(h[d]===e){y=1;break}y||f(\"does not have a value in the enumeration \"+h.join(\", \"))}\"number\"==typeof t.maxDecimal&&e.toString().match(new RegExp(\"\\\\.[0-9]{\"+(t.maxDecimal+1)+\",}\"))&&f(\"may only have \"+t.maxDecimal+\" digits of decimal places\")}return null}return n&&m(e,n,\"\",a||\"\"),!a&&e&&e.$schema&&m(e,e.$schema,\"\",\"\"),{valid:!o.length,errors:o}};return e.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map(function(e){return\"for property \"+e.property+\": \"+e.message}).join(\", \\n\"))},e});","node_modules/core-util-is/lib/util.js":"function isArray(r){return Array.isArray?Array.isArray(r):\"[object Array]\"===objectToString(r)}exports.isArray=isArray;function isBoolean(r){return\"boolean\"==typeof r}exports.isBoolean=isBoolean;function isNull(r){return null===r}exports.isNull=isNull;function isNullOrUndefined(r){return null==r}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(r){return\"number\"==typeof r}exports.isNumber=isNumber;function isString(r){return\"string\"==typeof r}exports.isString=isString;function isSymbol(r){return\"symbol\"==typeof r}exports.isSymbol=isSymbol;function isUndefined(r){return void 0===r}exports.isUndefined=isUndefined;function isRegExp(r){return\"[object RegExp]\"===objectToString(r)}exports.isRegExp=isRegExp;function isObject(r){return\"object\"==typeof r&&null!==r}exports.isObject=isObject;function isDate(r){return\"[object Date]\"===objectToString(r)}exports.isDate=isDate;function isError(r){return\"[object Error]\"===objectToString(r)||r instanceof Error}exports.isError=isError;function isFunction(r){return\"function\"==typeof r}exports.isFunction=isFunction;function isPrimitive(r){return null===r||\"boolean\"==typeof r||\"number\"==typeof r||\"string\"==typeof r||\"symbol\"==typeof r||void 0===r}exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;function objectToString(r){return Object.prototype.toString.call(r)}","node_modules/mime-db/index.js":"module.exports=require(\"./db.json\");","node_modules/mime-db/db.json":{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana"},"application/3gpp-ims+xml":{"source":"iana"},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana"},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","extensions":["atomsvc"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana"},"application/bacnet-xdd+zip":{"source":"iana"},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana"},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cbor":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana"},"application/ccxml+xml":{"source":"iana","extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana"},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana"},"application/cellml+xml":{"source":"iana"},"application/cfw":{"source":"iana"},"application/clue_info+xml":{"source":"iana"},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana"},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana"},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana"},"application/cstadata+xml":{"source":"iana"},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana"},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana"},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/docbook+xml":{"source":"apache","extensions":["dbk"]},"application/dskpp+xml":{"source":"iana"},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana"},"application/emergencycalldata.control+xml":{"source":"iana"},"application/emergencycalldata.deviceinfo+xml":{"source":"iana"},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana"},"application/emergencycalldata.serviceinfo+xml":{"source":"iana"},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana"},"application/emergencycalldata.veds+xml":{"source":"iana"},"application/emma+xml":{"source":"iana","extensions":["emma"]},"application/emotionml+xml":{"source":"iana"},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana"},"application/epub+zip":{"source":"iana","extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana"},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false,"extensions":["woff"]},"application/font-woff2":{"compressible":false,"extensions":["woff2"]},"application/framework-attributes+xml":{"source":"iana"},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geoxacml+xml":{"source":"iana"},"application/gml+xml":{"source":"iana","extensions":["gml"]},"application/gpx+xml":{"source":"apache","extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana"},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana"},"application/ibe-pkg-reply+xml":{"source":"iana"},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana"},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana"},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana"},"application/kpml-response+xml":{"source":"iana"},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana"},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana"},"application/lost+xml":{"source":"iana","extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana"},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana"},"application/mathml-presentation+xml":{"source":"iana"},"application/mbms-associated-procedure-description+xml":{"source":"iana"},"application/mbms-deregister+xml":{"source":"iana"},"application/mbms-envelope+xml":{"source":"iana"},"application/mbms-msk+xml":{"source":"iana"},"application/mbms-msk-response+xml":{"source":"iana"},"application/mbms-protection-description+xml":{"source":"iana"},"application/mbms-reception-report+xml":{"source":"iana"},"application/mbms-register+xml":{"source":"iana"},"application/mbms-register-response+xml":{"source":"iana"},"application/mbms-schedule+xml":{"source":"iana"},"application/mbms-user-service-description+xml":{"source":"iana"},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana"},"application/media_control+xml":{"source":"iana"},"application/mediaservercontrol+xml":{"source":"iana","extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","extensions":["meta4"]},"application/mets+xml":{"source":"iana","extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mmt-usd+xml":{"source":"iana"},"application/mods+xml":{"source":"iana","extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana"},"application/mrb-publish+xml":{"source":"iana"},"application/msc-ivr+xml":{"source":"iana"},"application/msc-mixer+xml":{"source":"iana"},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana"},"application/n-triples":{"source":"iana"},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana"},"application/news-groupinfo":{"source":"iana"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana"},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana"},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana"},"application/pidf-diff+xml":{"source":"iana"},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","extensions":["pls"]},"application/poc-settings+xml":{"source":"iana"},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana"},"application/provenance+xml":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana"},"application/pskc+xml":{"source":"iana","extensions":["pskcxml"]},"application/qsig":{"source":"iana"},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf"]},"application/reginfo+xml":{"source":"iana","extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","extensions":["rld"]},"application/rfc+xml":{"source":"iana"},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana"},"application/rls-services+xml":{"source":"iana","extensions":["rs"]},"application/route-apd+xml":{"source":"iana"},"application/route-s-tsid+xml":{"source":"iana"},"application/route-usd+xml":{"source":"iana"},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana"},"application/samlmetadata+xml":{"source":"iana"},"application/sbml+xml":{"source":"iana","extensions":["sbml"]},"application/scaip+xml":{"source":"iana"},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/sep+xml":{"source":"iana"},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","extensions":["shf"]},"application/sieve":{"source":"iana"},"application/simple-filter+xml":{"source":"iana"},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","extensions":["srx"]},"application/spirits-event+xml":{"source":"iana"},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","extensions":["grxml"]},"application/sru+xml":{"source":"iana","extensions":["sru"]},"application/ssdl+xml":{"source":"apache","extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","extensions":["ssml"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/tei+xml":{"source":"iana","extensions":["tei","teicorpus"]},"application/thraud+xml":{"source":"iana","extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana"},"application/tve-trigger":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana"},"application/urc-ressheet+xml":{"source":"iana"},"application/urc-targetdesc+xml":{"source":"iana"},"application/urc-uisocketdesc+xml":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana"},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana"},"application/vnd.3gpp-prose+xml":{"source":"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana"},"application/vnd.3gpp.bsf+xml":{"source":"iana"},"application/vnd.3gpp.gmop+xml":{"source":"iana"},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana"},"application/vnd.3gpp.mid-call+xml":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana"},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana"},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana"},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana"},"application/vnd.3gpp.ussd+xml":{"source":"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana"},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","extensions":["mpkg"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avistar+xml":{"source":"iana"},"application/vnd.balsamiq.bmml+xml":{"source":"iana"},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana"},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana"},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","extensions":["wbs"]},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana"},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana"},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume-movie":{"source":"iana"},"application/vnd.desmume.movie":{"source":"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana"},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana"},"application/vnd.dvb.notif-container+xml":{"source":"iana"},"application/vnd.dvb.notif-generic+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana"},"application/vnd.dvb.notif-init+xml":{"source":"iana"},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana"},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana"},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana"},"application/vnd.eszigno3+xml":{"source":"iana","extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana"},"application/vnd.etsi.asic-e+zip":{"source":"iana"},"application/vnd.etsi.asic-s+zip":{"source":"iana"},"application/vnd.etsi.cug+xml":{"source":"iana"},"application/vnd.etsi.iptvcommand+xml":{"source":"iana"},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana"},"application/vnd.etsi.iptvprofile+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana"},"application/vnd.etsi.iptvservice+xml":{"source":"iana"},"application/vnd.etsi.iptvsync+xml":{"source":"iana"},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana"},"application/vnd.etsi.mcid+xml":{"source":"iana"},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana"},"application/vnd.etsi.pstn+xml":{"source":"iana"},"application/vnd.etsi.sci+xml":{"source":"iana"},"application/vnd.etsi.simservs+xml":{"source":"iana"},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana"},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana"},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana"},"application/vnd.gov.sk.e-form+zip":{"source":"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana"},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana"},"application/vnd.imagemeter.image+zip":{"source":"iana"},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana"},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana"},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana"},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana"},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana"},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana"},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","extensions":["lasxml"]},"application/vnd.liberty-request+xml":{"source":"iana"},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","extensions":["lbe"]},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana"},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana"},"application/vnd.marlin.drm.license+xml":{"source":"iana"},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana"},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana"},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana"},"application/vnd.ms-printing.printticket+xml":{"source":"apache"},"application/vnd.ms-printschematicket+xml":{"source":"iana"},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana"},"application/vnd.nokia.iptv.config+xml":{"source":"iana"},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana"},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana"},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana"},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana"},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana"},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana"},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana"},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana"},"application/vnd.oipf.spdlist+xml":{"source":"iana"},"application/vnd.oipf.ueprofile+xml":{"source":"iana"},"application/vnd.oipf.userprofile+xml":{"source":"iana"},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.imd+xml":{"source":"iana"},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana"},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana"},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.sprov+xml":{"source":"iana"},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana"},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana"},"application/vnd.oma.cab-pcc+xml":{"source":"iana"},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana"},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana"},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana"},"application/vnd.oma.group-usage-list+xml":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana"},"application/vnd.oma.poc.final-report+xml":{"source":"iana"},"application/vnd.oma.poc.groups+xml":{"source":"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana"},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana"},"application/vnd.oma.xcap-directory+xml":{"source":"iana"},"application/vnd.omads-email+xml":{"source":"iana"},"application/vnd.omads-file+xml":{"source":"iana"},"application/vnd.omads-folder+xml":{"source":"iana"},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana"},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"apache","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"apache","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"apache","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana"},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana"},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana"},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos+xml":{"source":"iana"},"application/vnd.paos.xml":{"source":"apache"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana"},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana"},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana"},"application/vnd.radisys.msml+xml":{"source":"iana"},"application/vnd.radisys.msml-audit+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana"},"application/vnd.radisys.msml-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana"},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.software602.filler.form+xml":{"source":"iana"},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana"},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana"},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana"},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana"},"application/vnd.wv.ssp+xml":{"source":"iana"},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana"},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","extensions":["vxml"]},"application/vq-rtcpxr":{"source":"iana"},"application/watcherinfo+xml":{"source":"iana"},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-otf":{"source":"apache","compressible":true,"extensions":["otf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-ttf":{"source":"apache","compressible":true,"extensions":["ttf","ttc"]},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"apache","extensions":["der","crt","pem"]},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana"},"application/xaml+xml":{"source":"apache","extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana"},"application/xcap-caps+xml":{"source":"iana"},"application/xcap-diff+xml":{"source":"iana","extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana"},"application/xcap-error+xml":{"source":"iana"},"application/xcap-ns+xml":{"source":"iana"},"application/xcon-conference-info+xml":{"source":"iana"},"application/xcon-conference-info-diff+xml":{"source":"iana"},"application/xenc+xml":{"source":"iana","extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache"},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana"},"application/xmpp+xml":{"source":"iana"},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","extensions":["xpl"]},"application/xslt+xml":{"source":"iana","extensions":["xslt"]},"application/xspf+xml":{"source":"apache","extensions":["xspf"]},"application/xv+xml":{"source":"iana","extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana"},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana"},"application/yin+xml":{"source":"iana","extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana"},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/otf":{"compressible":true,"extensions":["otf"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana"},"image/emf":{"source":"iana"},"image/fits":{"source":"iana"},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana"},"image/jp2":{"source":"iana"},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jpm":{"source":"iana"},"image/jpx":{"source":"iana"},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana"},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana"},"image/tiff":{"source":"iana","compressible":false,"extensions":["tiff","tif"]},"image/tiff-fx":{"source":"iana"},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana"},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana"},"image/vnd.valve.source.texture":{"source":"iana"},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana"},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana"},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana"},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana"},"message/global-delivery-status":{"source":"iana"},"message/global-disposition-notification":{"source":"iana"},"message/global-headers":{"source":"iana"},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana"},"model/3mf":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/vnd.collada+xml":{"source":"iana","extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana"},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana"},"model/vnd.parasolid.transmit.binary":{"source":"iana"},"model/vnd.parasolid.transmit.text":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.valve.source.compiled-map":{"source":"iana"},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana"},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana"},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana","compressible":false},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hjson":{"extensions":["hjson"]},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}},"node_modules/combined-stream/lib/combined_stream.js":"var util=require(\"util\"),Stream=require(\"stream\").Stream,DelayedStream=require(\"delayed-stream\");module.exports=CombinedStream;function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}util.inherits(CombinedStream,Stream),CombinedStream.create=function(t){var e=new this;t=t||{};for(var i in t)e[i]=t[i];return e},CombinedStream.isStreamLike=function(t){return\"function\"!=typeof t&&\"string\"!=typeof t&&\"boolean\"!=typeof t&&\"number\"!=typeof t&&!Buffer.isBuffer(t)},CombinedStream.prototype.append=function(t){if(CombinedStream.isStreamLike(t)){if(!(t instanceof DelayedStream)){var e=DelayedStream.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on(\"data\",this._checkDataSize.bind(this)),t=e}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},CombinedStream.prototype.pipe=function(t,e){return Stream.prototype.pipe.call(this,t,e),this.resume(),t},CombinedStream.prototype._getNext=function(){this._currentStream=null;var t=this._streams.shift();if(void 0!==t)if(\"function\"==typeof t){t(function(t){CombinedStream.isStreamLike(t)&&(t.on(\"data\",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this))}else this._pipeNext(t);else this.end()},CombinedStream.prototype._pipeNext=function(t){this._currentStream=t;if(CombinedStream.isStreamLike(t))return t.on(\"end\",this._getNext.bind(this)),void t.pipe(this,{end:!1});var e=t;this.write(e),this._getNext()},CombinedStream.prototype._handleErrors=function(t){var e=this;t.on(\"error\",function(t){e._emitError(t)})},CombinedStream.prototype.write=function(t){this.emit(\"data\",t)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit(\"pause\"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit(\"resume\")},CombinedStream.prototype.end=function(){this._reset(),this.emit(\"end\")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit(\"close\")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t=\"DelayedStream#maxDataSize of \"+this.maxDataSize+\" bytes exceeded.\";this._emitError(new Error(t))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(t){this._reset(),this.emit(\"error\",t)};","node_modules/asynckit/index.js":"module.exports={parallel:require(\"./parallel.js\"),serial:require(\"./serial.js\"),serialOrdered:require(\"./serialOrdered.js\")};","node_modules/form-data/lib/populate.js":"module.exports=function(e,n){return Object.keys(n).forEach(function(o){e[o]=e[o]||n[o]}),e};","node_modules/delayed-stream/lib/delayed_stream.js":"var Stream=require(\"stream\").Stream,util=require(\"util\");module.exports=DelayedStream;function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}util.inherits(DelayedStream,Stream),DelayedStream.create=function(e,t){var a=new this;t=t||{};for(var r in t)a[r]=t[r];a.source=e;var i=e.emit;return e.emit=function(){return a._handleEmit(arguments),i.apply(e,arguments)},e.on(\"error\",function(){}),a.pauseStream&&e.pause(),a},Object.defineProperty(DelayedStream.prototype,\"readable\",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()},DelayedStream.prototype.pause=function(){this.source.pause()},DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},DelayedStream.prototype.pipe=function(){var e=Stream.prototype.pipe.apply(this,arguments);return this.resume(),e},DelayedStream.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):(\"data\"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e=\"DelayedStream#maxDataSize of \"+this.maxDataSize+\" bytes exceeded.\";this.emit(\"error\",new Error(e))}};","node_modules/asynckit/parallel.js":"var iterate=require(\"./lib/iterate.js\"),initState=require(\"./lib/state.js\"),terminator=require(\"./lib/terminator.js\");module.exports=parallel;function parallel(e,t,r){for(var i=initState(e);i.index<(i.keyedList||e).length;)iterate(e,t,i,function(e,t){e?r(e,t):0!==Object.keys(i.jobs).length||r(null,i.results)}),i.index++;return terminator.bind(i,r)}","node_modules/asynckit/serial.js":"var serialOrdered=require(\"./serialOrdered.js\");module.exports=serial;function serial(r,e,l){return serialOrdered(r,e,null,l)}","node_modules/asynckit/serialOrdered.js":"var iterate=require(\"./lib/iterate.js\"),initState=require(\"./lib/state.js\"),terminator=require(\"./lib/terminator.js\");module.exports=serialOrdered,module.exports.ascending=ascending,module.exports.descending=descending;function serialOrdered(e,n,t,i){var r=initState(e,t);return iterate(e,n,r,function t(d,s){d?i(d,s):(r.index++,r.index<(r.keyedList||e).length?iterate(e,n,r,t):i(null,r.results))}),terminator.bind(r,i)}function ascending(e,n){return e<n?-1:e>n?1:0}function descending(e,n){return-1*ascending(e,n)}","node_modules/asynckit/lib/iterate.js":"var async=require(\"./async.js\"),abort=require(\"./abort.js\");module.exports=iterate;function iterate(e,r,t,n){var s=t.keyedList?t.keyedList[t.index]:t.index;t.jobs[s]=runJob(r,s,e[s],function(e,r){s in t.jobs&&(delete t.jobs[s],e?abort(t):t.results[s]=r,n(e,t.results))})}function runJob(e,r,t,n){return 2==e.length?e(t,async(n)):e(t,r,async(n))}","node_modules/asynckit/lib/state.js":"module.exports=state;function state(e,t){var s=!Array.isArray(e),r={index:0,keyedList:s||t?Object.keys(e):null,jobs:{},results:s?{}:[],size:s?Object.keys(e).length:e.length};return t&&r.keyedList.sort(s?t:function(s,r){return t(e[s],e[r])}),r}","node_modules/asynckit/lib/terminator.js":"var abort=require(\"./abort.js\"),async=require(\"./async.js\");module.exports=terminator;function terminator(t){Object.keys(this.jobs).length&&(this.index=this.size,abort(this),async(t)(null,this.results))}","node_modules/asynckit/lib/async.js":"var defer=require(\"./defer.js\");module.exports=async;function async(e){var n=!1;return defer(function(){n=!0}),function(r,f){n?e(r,f):defer(function(){e(r,f)})}}","node_modules/asynckit/lib/abort.js":"module.exports=abort;function abort(o){Object.keys(o.jobs).forEach(clean.bind(o)),o.jobs={}}function clean(o){\"function\"==typeof this.jobs[o]&&this.jobs[o]()}","node_modules/asynckit/lib/defer.js":"module.exports=defer;function defer(e){var t=\"function\"==typeof setImmediate?setImmediate:\"object\"==typeof process&&\"function\"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}","node_modules/qs/lib/index.js":"\"use strict\";var stringify=require(\"./stringify\"),parse=require(\"./parse\"),formats=require(\"./formats\");module.exports={formats:formats,parse:parse,stringify:stringify};","node_modules/qs/lib/stringify.js":"\"use strict\";var utils=require(\"./utils\"),formats=require(\"./formats\"),arrayPrefixGenerators={brackets:function(e){return e+\"[]\"},indices:function(e,r){return e+\"[\"+r+\"]\"},repeat:function(e){return e}},toISO=Date.prototype.toISOString,defaults={delimiter:\"&\",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},stringify=function e(r,t,n,o,i,a,l,s,f,u,c,d){var y=r;if(\"function\"==typeof l)y=l(t,y);else if(y instanceof Date)y=u(y);else if(null===y){if(o)return a&&!d?a(t,defaults.encoder):t;y=\"\"}if(\"string\"==typeof y||\"number\"==typeof y||\"boolean\"==typeof y||utils.isBuffer(y)){if(a){return[c(d?t:a(t,defaults.encoder))+\"=\"+c(a(y,defaults.encoder))]}return[c(t)+\"=\"+c(String(y))]}var p=[];if(void 0===y)return p;var v;if(Array.isArray(l))v=l;else{var m=Object.keys(y);v=s?m.sort(s):m}for(var g=0;g<v.length;++g){var b=v[g];i&&null===y[b]||(p=Array.isArray(y)?p.concat(e(y[b],n(t,b),n,o,i,a,l,s,f,u,c,d)):p.concat(e(y[b],t+(f?\".\"+b:\"[\"+b+\"]\"),n,o,i,a,l,s,f,u,c,d)))}return p};module.exports=function(e,r){var t=e,n=r?utils.assign({},r):{};if(null!==n.encoder&&void 0!==n.encoder&&\"function\"!=typeof n.encoder)throw new TypeError(\"Encoder has to be a function.\");var o=void 0===n.delimiter?defaults.delimiter:n.delimiter,i=\"boolean\"==typeof n.strictNullHandling?n.strictNullHandling:defaults.strictNullHandling,a=\"boolean\"==typeof n.skipNulls?n.skipNulls:defaults.skipNulls,l=\"boolean\"==typeof n.encode?n.encode:defaults.encode,s=\"function\"==typeof n.encoder?n.encoder:defaults.encoder,f=\"function\"==typeof n.sort?n.sort:null,u=void 0!==n.allowDots&&n.allowDots,c=\"function\"==typeof n.serializeDate?n.serializeDate:defaults.serializeDate,d=\"boolean\"==typeof n.encodeValuesOnly?n.encodeValuesOnly:defaults.encodeValuesOnly;if(void 0===n.format)n.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,n.format))throw new TypeError(\"Unknown format option provided.\");var y,p,v=formats.formatters[n.format];\"function\"==typeof n.filter?t=(p=n.filter)(\"\",t):Array.isArray(n.filter)&&(y=p=n.filter);var m=[];if(\"object\"!=typeof t||null===t)return\"\";var g;g=n.arrayFormat in arrayPrefixGenerators?n.arrayFormat:\"indices\"in n?n.indices?\"indices\":\"repeat\":\"indices\";var b=arrayPrefixGenerators[g];y||(y=Object.keys(t)),f&&y.sort(f);for(var O=0;O<y.length;++O){var k=y[O];a&&null===t[k]||(m=m.concat(stringify(t[k],k,b,i,a,l?s:null,p,f,u,c,v,d)))}var w=m.join(o),D=!0===n.addQueryPrefix?\"?\":\"\";return w.length>0?D+w:\"\"};","node_modules/qs/lib/parse.js":"\"use strict\";var utils=require(\"./utils\"),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:\"&\",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseValues=function(e,t){for(var r={},l=t.ignoreQueryPrefix?e.replace(/^\\?/,\"\"):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,i=l.split(t.delimiter,a),o=0;o<i.length;++o){var s,n,c=i[o],d=c.indexOf(\"]=\"),p=-1===d?c.indexOf(\"=\"):d+1;-1===p?(s=t.decoder(c,defaults.decoder),n=t.strictNullHandling?null:\"\"):(s=t.decoder(c.slice(0,p),defaults.decoder),n=t.decoder(c.slice(p+1),defaults.decoder)),has.call(r,s)?r[s]=[].concat(r[s]).concat(n):r[s]=n}return r},parseObject=function(e,t,r){for(var l=t,a=e.length-1;a>=0;--a){var i,o=e[a];if(\"[]\"===o)i=(i=[]).concat(l);else{i=r.plainObjects?Object.create(null):{};var s=\"[\"===o.charAt(0)&&\"]\"===o.charAt(o.length-1)?o.slice(1,-1):o,n=parseInt(s,10);!isNaN(n)&&o!==s&&String(n)===s&&n>=0&&r.parseArrays&&n<=r.arrayLimit?(i=[])[n]=l:i[s]=l}l=i}return l},parseKeys=function(e,t,r){if(e){var l=r.allowDots?e.replace(/\\.([^.[]+)/g,\"[$1]\"):e,a=/(\\[[^[\\]]*])/g,i=/(\\[[^[\\]]*])/.exec(l),o=i?l.slice(0,i.index):l,s=[];if(o){if(!r.plainObjects&&has.call(Object.prototype,o)&&!r.allowPrototypes)return;s.push(o)}for(var n=0;null!==(i=a.exec(l))&&n<r.depth;){if(n+=1,!r.plainObjects&&has.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(i[1])}return i&&s.push(\"[\"+l.slice(i.index)+\"]\"),parseObject(s,t,r)}};module.exports=function(e,t){var r=t?utils.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&\"function\"!=typeof r.decoder)throw new TypeError(\"Decoder has to be a function.\");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter=\"string\"==typeof r.delimiter||utils.isRegExp(r.delimiter)?r.delimiter:defaults.delimiter,r.depth=\"number\"==typeof r.depth?r.depth:defaults.depth,r.arrayLimit=\"number\"==typeof r.arrayLimit?r.arrayLimit:defaults.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder=\"function\"==typeof r.decoder?r.decoder:defaults.decoder,r.allowDots=\"boolean\"==typeof r.allowDots?r.allowDots:defaults.allowDots,r.plainObjects=\"boolean\"==typeof r.plainObjects?r.plainObjects:defaults.plainObjects,r.allowPrototypes=\"boolean\"==typeof r.allowPrototypes?r.allowPrototypes:defaults.allowPrototypes,r.parameterLimit=\"number\"==typeof r.parameterLimit?r.parameterLimit:defaults.parameterLimit,r.strictNullHandling=\"boolean\"==typeof r.strictNullHandling?r.strictNullHandling:defaults.strictNullHandling,\"\"===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var l=\"string\"==typeof e?parseValues(e,r):e,a=r.plainObjects?Object.create(null):{},i=Object.keys(l),o=0;o<i.length;++o){var s=i[o],n=parseKeys(s,l[s],r);a=utils.merge(a,n,r)}return utils.compact(a)};","node_modules/qs/lib/formats.js":"\"use strict\";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:\"RFC3986\",formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,\"+\")},RFC3986:function(e){return e}},RFC1738:\"RFC1738\",RFC3986:\"RFC3986\"};","node_modules/qs/lib/utils.js":"\"use strict\";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var r=[],e=0;e<256;++e)r.push(\"%\"+((e<16?\"0\":\"\")+e.toString(16)).toUpperCase());return r}(),compactQueue=function(r){for(var e;r.length;){var t=r.pop();if(e=t.obj[t.prop],Array.isArray(e)){for(var o=[],n=0;n<e.length;++n)void 0!==e[n]&&o.push(e[n]);t.obj[t.prop]=o}}return e};exports.arrayToObject=function(r,e){for(var t=e&&e.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(t[o]=r[o]);return t},exports.merge=function(r,e,t){if(!e)return r;if(\"object\"!=typeof e){if(Array.isArray(r))r.push(e);else{if(\"object\"!=typeof r)return[r,e];(t.plainObjects||t.allowPrototypes||!has.call(Object.prototype,e))&&(r[e]=!0)}return r}if(\"object\"!=typeof r)return[r].concat(e);var o=r;return Array.isArray(r)&&!Array.isArray(e)&&(o=exports.arrayToObject(r,t)),Array.isArray(r)&&Array.isArray(e)?(e.forEach(function(e,o){has.call(r,o)?r[o]&&\"object\"==typeof r[o]?r[o]=exports.merge(r[o],e,t):r.push(e):r[o]=e}),r):Object.keys(e).reduce(function(r,o){var n=e[o];return has.call(r,o)?r[o]=exports.merge(r[o],n,t):r[o]=n,r},o)},exports.assign=function(r,e){return Object.keys(e).reduce(function(r,t){return r[t]=e[t],r},r)},exports.decode=function(r){try{return decodeURIComponent(r.replace(/\\+/g,\" \"))}catch(e){return r}},exports.encode=function(r){if(0===r.length)return r;for(var e=\"string\"==typeof r?r:String(r),t=\"\",o=0;o<e.length;++o){var n=e.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?t+=e.charAt(o):n<128?t+=hexTable[n]:n<2048?t+=hexTable[192|n>>6]+hexTable[128|63&n]:n<55296||n>=57344?t+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(o)),t+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return t},exports.compact=function(r){for(var e=[{obj:{o:r},prop:\"o\"}],t=[],o=0;o<e.length;++o)for(var n=e[o],a=n.obj[n.prop],c=Object.keys(a),p=0;p<c.length;++p){var u=c[p],s=a[u];\"object\"==typeof s&&null!==s&&-1===t.indexOf(s)&&(e.push({obj:a,prop:u}),t.push(s))}return compactQueue(e)},exports.isRegExp=function(r){return\"[object RegExp]\"===Object.prototype.toString.call(r)},exports.isBuffer=function(r){return null!==r&&void 0!==r&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))};","node_modules/har-validator/lib/promise.js":"var ajv,Ajv=require(\"ajv\"),HARError=require(\"./error\"),schemas=require(\"har-schema\");function validate(e,r){r=r||{};var t=(ajv=ajv||new Ajv({allErrors:!0,schemas:schemas})).getSchema(e+\".json\");return new Promise(function(e,n){t(r)?e(r):n(new HARError(t.errors))})}exports.afterRequest=function(e){return validate(\"afterRequest\",e)},exports.beforeRequest=function(e){return validate(\"beforeRequest\",e)},exports.browser=function(e){return validate(\"browser\",e)},exports.cache=function(e){return validate(\"cache\",e)},exports.content=function(e){return validate(\"content\",e)},exports.cookie=function(e){return validate(\"cookie\",e)},exports.creator=function(e){return validate(\"creator\",e)},exports.entry=function(e){return validate(\"entry\",e)},exports.har=function(e){return validate(\"har\",e)},exports.header=function(e){return validate(\"header\",e)},exports.log=function(e){return validate(\"log\",e)},exports.page=function(e){return validate(\"page\",e)},exports.pageTimings=function(e){return validate(\"pageTimings\",e)},exports.postData=function(e){return validate(\"postData\",e)},exports.query=function(e){return validate(\"query\",e)},exports.request=function(e){return validate(\"request\",e)},exports.response=function(e){return validate(\"response\",e)},exports.timings=function(e){return validate(\"timings\",e)};","node_modules/ajv/lib/ajv.js":"\"use strict\";var compileSchema=require(\"./compile\"),resolve=require(\"./compile/resolve\"),Cache=require(\"./cache\"),SchemaObject=require(\"./compile/schema_obj\"),stableStringify=require(\"fast-json-stable-stringify\"),formats=require(\"./compile/formats\"),rules=require(\"./compile/rules\"),$dataMetaSchema=require(\"./$data\"),patternGroups=require(\"./patternGroups\"),util=require(\"./compile/util\"),co=require(\"co\");module.exports=Ajv,Ajv.prototype.validate=validate,Ajv.prototype.compile=compile,Ajv.prototype.addSchema=addSchema,Ajv.prototype.addMetaSchema=addMetaSchema,Ajv.prototype.validateSchema=validateSchema,Ajv.prototype.getSchema=getSchema,Ajv.prototype.removeSchema=removeSchema,Ajv.prototype.addFormat=addFormat,Ajv.prototype.errorsText=errorsText,Ajv.prototype._addSchema=_addSchema,Ajv.prototype._compile=_compile,Ajv.prototype.compileAsync=require(\"./compile/async\");var customKeyword=require(\"./keyword\");Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove;var errorClasses=require(\"./compile/error_classes\");Ajv.ValidationError=errorClasses.Validation,Ajv.MissingRefError=errorClasses.MissingRef,Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID=\"http://json-schema.org/draft-06/schema\",META_IGNORE_OPTIONS=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],META_SUPPORT_DATA=[\"/properties\"];function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=util.copy(e)||{},setLogger(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats(e.format);var t=this._schemaUriFormat=this._formats[\"uri-reference\"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=chooseGetId(e),e.loopRequired=e.loopRequired||1/0,\"property\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=stableStringify),this._metaOpts=getMetaSchemaOptions(this),e.formats&&addInitialFormats(this),addDraft6MetaSchema(this),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),addInitialSchemas(this),e.patternGroups&&patternGroups(this)}function validate(e,t){var r;if(\"string\"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref \"'+e+'\"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var s=r(t);return!0===r.$async?\"*\"==this._opts.async?co(s):s:(this.errors=r.errors,s)}function compile(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function addSchema(e,t,r,a){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,a);return this}var i=this._getId(e);if(void 0!==i&&\"string\"!=typeof i)throw new Error(\"schema id must be string\");return t=resolve.normalizeId(t||i),checkUnique(this,t),this._schemas[t]=this._addSchema(e,r,a,!0),this}function addMetaSchema(e,t,r){return this.addSchema(e,t,r,!0),this}function validateSchema(e,t){var r=e.$schema;if(void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(!(r=r||this._opts.defaultMeta||defaultMeta(this)))return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;var a=this._formats.uri;this._formats.uri=\"function\"==typeof a?this._schemaUriFormatFunc:this._schemaUriFormat;var s;try{s=this.validate(r,e)}finally{this._formats.uri=a}if(!s&&t){var i=\"schema is invalid: \"+this.errorsText();if(\"log\"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return s}function defaultMeta(e){var t=e._opts.meta;return e._opts.defaultMeta=\"object\"==typeof t?e._getId(t)||t:e.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,e._opts.defaultMeta}function getSchema(e){var t=_getSchemaObj(this,e);switch(typeof t){case\"object\":return t.validate||this._compile(t);case\"string\":return this.getSchema(t);case\"undefined\":return _getSchemaFragment(this,e)}}function _getSchemaFragment(e,t){var r=resolve.schema.call(e,{schema:{}},t);if(r){var a=r.schema,s=r.root,i=r.baseId,o=compileSchema.call(e,a,s,void 0,i);return e._fragments[t]=new SchemaObject({ref:t,fragment:!0,schema:a,root:s,baseId:i,validate:o}),o}}function _getSchemaObj(e,t){return t=resolve.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function removeSchema(e){if(e instanceof RegExp)return _removeAllSchemas(this,this._schemas,e),_removeAllSchemas(this,this._refs,e),this;switch(typeof e){case\"undefined\":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case\"string\":var t=_getSchemaObj(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case\"object\":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var s=this._getId(e);s&&(s=resolve.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function _removeAllSchemas(e,t,r){for(var a in t){var s=t[a];s.meta||r&&!r.test(a)||(e._cache.del(s.cacheKey),delete t[a])}}function _addSchema(e,t,r,a){if(\"object\"!=typeof e&&\"boolean\"!=typeof e)throw new Error(\"schema should be object or boolean\");var s=this._opts.serialize,i=s?s(e):e,o=this._cache.get(i);if(o)return o;a=a||!1!==this._opts.addUsedSchema;var c=resolve.normalizeId(this._getId(e));c&&a&&checkUnique(this,c);var h,n=!1!==this._opts.validateSchema&&!t;n&&!(h=c&&c==resolve.normalizeId(e.$schema))&&this.validateSchema(e,!0);var m=resolve.ids.call(this,e),d=new SchemaObject({id:c,schema:e,localRefs:m,cacheKey:i,meta:r});return\"#\"!=c[0]&&a&&(this._refs[c]=d),this._cache.put(i,d),n&&h&&this.validateSchema(e,!0),d}function _compile(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,!0===e.schema.$async&&(s.$async=!0),s;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=compileSchema.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function s(){var t=e.validate,r=t.apply(null,arguments);return s.errors=t.errors,r}}function chooseGetId(e){switch(e.schemaId){case\"$id\":return _get$Id;case\"id\":return _getId;default:return _get$IdOrId}}function _getId(e){return e.$id&&this.logger.warn(\"schema $id ignored\",e.$id),e.id}function _get$Id(e){return e.id&&this.logger.warn(\"schema id ignored\",e.id),e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\"schema $id is different from id\");return e.$id||e.id}function errorsText(e,t){if(!(e=e||this.errors))return\"No errors\";for(var r=void 0===(t=t||{}).separator?\", \":t.separator,a=void 0===t.dataVar?\"data\":t.dataVar,s=\"\",i=0;i<e.length;i++){var o=e[i];o&&(s+=a+o.dataPath+\" \"+o.message+r)}return s.slice(0,-r.length)}function addFormat(e,t){return\"string\"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function addDraft6MetaSchema(e){var t;if(e._opts.$data&&(t=require(\"./refs/$data.json\"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=require(\"./refs/json-schema-draft-06.json\");e._opts.$data&&(r=$dataMetaSchema(r,META_SUPPORT_DATA)),e.addMetaSchema(r,META_SCHEMA_ID,!0),e._refs[\"http://json-schema.org/schema\"]=META_SCHEMA_ID}}function addInitialSchemas(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function addInitialFormats(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function checkUnique(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id \"'+t+'\" already exists')}function getMetaSchemaOptions(e){for(var t=util.copy(e._opts),r=0;r<META_IGNORE_OPTIONS.length;r++)delete t[META_IGNORE_OPTIONS[r]];return t}function setLogger(e){var t=e._opts.logger;if(!1===t)e.logger={log:noop,warn:noop,error:noop};else{if(void 0===t&&(t=console),!(\"object\"==typeof t&&t.log&&t.warn&&t.error))throw new Error(\"logger must implement log, warn and error methods\");e.logger=t}}function noop(){}","node_modules/har-validator/lib/error.js":"function HARError(r){this.name=\"HARError\",this.message=\"validation failed\",this.errors=r,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(\"validation failed\").stack}HARError.prototype=Error.prototype,module.exports=HARError;","node_modules/har-schema/lib/index.js":"\"use strict\";module.exports={afterRequest:require(\"./afterRequest.json\"),beforeRequest:require(\"./beforeRequest.json\"),browser:require(\"./browser.json\"),cache:require(\"./cache.json\"),content:require(\"./content.json\"),cookie:require(\"./cookie.json\"),creator:require(\"./creator.json\"),entry:require(\"./entry.json\"),har:require(\"./har.json\"),header:require(\"./header.json\"),log:require(\"./log.json\"),page:require(\"./page.json\"),pageTimings:require(\"./pageTimings.json\"),postData:require(\"./postData.json\"),query:require(\"./query.json\"),request:require(\"./request.json\"),response:require(\"./response.json\"),timings:require(\"./timings.json\")};","node_modules/ajv/lib/compile/index.js":"\"use strict\";var resolve=require(\"./resolve\"),util=require(\"./util\"),errorClasses=require(\"./error_classes\"),stableStringify=require(\"fast-json-stable-stringify\"),validateGenerator=require(\"../dotjs/validate\"),co=require(\"co\"),ucs2length=util.ucs2length,equal=require(\"fast-deep-equal\"),ValidationError=errorClasses.Validation;module.exports=compile;function compile(e,r,t,o){var a=this,i=this._opts,l=[void 0],n={},s=[],c={},u=[],f={},d=[];r=r||{schema:e,refVal:l,refs:n};var v=checkCompiling.call(this,e,r,o),m=this._compilations[v.index];if(v.compiling)return m.callValidate=C;var h=this._formats,p=this.RULES;try{var g=V(e,r,t,o);m.validate=g;var y=m.callValidate;return y&&(y.schema=g.schema,y.errors=null,y.refs=g.refs,y.refVal=g.refVal,y.root=g.root,y.$async=g.$async,i.sourceCode&&(y.source=g.source)),g}finally{endCompiling.call(this,e,r,o)}function C(){var e=m.validate,r=e.apply(null,arguments);return C.errors=e.errors,r}function V(e,t,o,c){var f=!t||t&&t.schema==e;if(t.schema!=r.schema)return compile.call(a,e,t,o,c);var v=!0===e.$async,m=validateGenerator({isTop:!0,schema:e,isRoot:f,baseId:c,root:t,schemaPath:\"\",errSchemaPath:\"#\",errorPath:'\"\"',MissingRefError:errorClasses.MissingRef,RULES:p,validate:validateGenerator,util:util,resolve:resolve,resolveRef:R,usePattern:b,useDefault:q,useCustomRule:E,opts:i,formats:h,logger:a.logger,self:a});m=vars(l,refValCode)+vars(s,patternCode)+vars(u,defaultCode)+vars(d,customRuleCode)+m,i.processCode&&(m=i.processCode(m));var g;try{g=new Function(\"self\",\"RULES\",\"formats\",\"root\",\"refVal\",\"defaults\",\"customRules\",\"co\",\"equal\",\"ucs2length\",\"ValidationError\",m)(a,p,h,r,l,u,d,co,equal,ucs2length,ValidationError),l[0]=g}catch(e){throw a.logger.error(\"Error compiling schema, function code:\",m),e}return g.schema=e,g.errors=null,g.refs=n,g.refVal=l,g.root=f?g:t,v&&(g.$async=!0),!0===i.sourceCode&&(g.source={code:m,patterns:s,defaults:u}),g}function R(e,o,s){o=resolve.url(e,o);var c,u,f=n[o];if(void 0!==f)return c=l[f],u=\"refVal[\"+f+\"]\",w(c,u);if(!s&&r.refs){var d=r.refs[o];if(void 0!==d)return c=r.refVal[d],u=S(o,c),w(c,u)}u=S(o);var v=resolve.call(a,V,r,o);if(void 0===v){var m=t&&t[o];m&&(v=resolve.inlineRef(m,i.inlineRefs)?m:compile.call(a,m,r,t,e))}if(void 0!==v)return function(e,r){var t=n[e];l[t]=r}(o,v),w(v,u);!function(e){delete n[e]}(o)}function S(e,r){var t=l.length;return l[t]=r,n[e]=t,\"refVal\"+t}function w(e,r){return\"object\"==typeof e||\"boolean\"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&e.$async}}function b(e){var r=c[e];return void 0===r&&(r=c[e]=s.length,s[r]=e),\"pattern\"+r}function q(e){switch(typeof e){case\"boolean\":case\"number\":return\"\"+e;case\"string\":return util.toQuotedString(e);case\"object\":if(null===e)return\"null\";var r=stableStringify(e),t=f[r];return void 0===t&&(t=f[r]=u.length,u[t]=e),\"default\"+t}}function E(e,r,t,o){var l=e.definition.validateSchema;if(l&&!1!==a._opts.validateSchema){if(!l(r)){var n=\"keyword schema is invalid: \"+a.errorsText(l.errors);if(\"log\"!=a._opts.validateSchema)throw new Error(n);a.logger.error(n)}}var s,c=e.definition.compile,u=e.definition.inline,f=e.definition.macro;if(c)s=c.call(a,r,t,o);else if(f)s=f.call(a,r,t,o),!1!==i.validateSchema&&a.validateSchema(s,!0);else if(u)s=u.call(a,o,e.keyword,r,t);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword \"'+e.keyword+'\"failed to compile');var v=d.length;return d[v]=s,{code:\"customRule\"+v,validate:s}}}function checkCompiling(e,r,t){var o=compIndex.call(this,e,r,t);return o>=0?{index:o,compiling:!0}:(o=this._compilations.length,this._compilations[o]={schema:e,root:r,baseId:t},{index:o,compiling:!1})}function endCompiling(e,r,t){var o=compIndex.call(this,e,r,t);o>=0&&this._compilations.splice(o,1)}function compIndex(e,r,t){for(var o=0;o<this._compilations.length;o++){var a=this._compilations[o];if(a.schema==e&&a.root==r&&a.baseId==t)return o}return-1}function patternCode(e,r){return\"var pattern\"+e+\" = new RegExp(\"+util.toQuotedString(r[e])+\");\"}function defaultCode(e){return\"var default\"+e+\" = defaults[\"+e+\"];\"}function refValCode(e,r){return void 0===r[e]?\"\":\"var refVal\"+e+\" = refVal[\"+e+\"];\"}function customRuleCode(e){return\"var customRule\"+e+\" = customRules[\"+e+\"];\"}function vars(e,r){if(!e.length)return\"\";for(var t=\"\",o=0;o<e.length;o++)t+=r(o,e);return t}","node_modules/ajv/lib/compile/resolve.js":"\"use strict\";var url=require(\"url\"),equal=require(\"fast-deep-equal\"),util=require(\"./util\"),SchemaObject=require(\"./schema_obj\"),traverse=require(\"json-schema-traverse\");module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=resolveIds,resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;function resolve(e,r,t){var i=this._refs[t];if(\"string\"==typeof i){if(!this._refs[i])return resolve.call(this,e,r,i);i=this._refs[i]}if((i=i||this._schemas[t])instanceof SchemaObject)return inlineRef(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var s,a,o,l=resolveSchema.call(this,r,t);return l&&(s=l.schema,r=l.root,o=l.baseId),s instanceof SchemaObject?a=s.validate||e.call(this,s.schema,r,void 0,o):void 0!==s&&(a=inlineRef(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,o)),a}function resolveSchema(e,r){var t=url.parse(r,!1,!0),i=_getFullPath(t),s=getFullPath(this._getId(e.schema));if(i!==s){var a=normalizeId(i),o=this._refs[a];if(\"string\"==typeof o)return resolveRecursive.call(this,e,o,t);if(o instanceof SchemaObject)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof SchemaObject))return;if(o.validate||this._compile(o),a==normalizeId(r))return{schema:o,root:e,baseId:s};e=o}if(!e.schema)return;s=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,t,s,e.schema,e)}function resolveRecursive(e,r,t){var i=resolveSchema.call(this,e,r);if(i){var s=i.schema,a=i.baseId;e=i.root;var o=this._getId(s);return o&&(a=resolveUrl(a,o)),getJsonPointer.call(this,t,a,s,e)}}var PREVENT_SCOPE_CHANGE=util.toHash([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function getJsonPointer(e,r,t,i){if(e.hash=e.hash||\"\",\"#/\"==e.hash.slice(0,2)){for(var s=e.hash.split(\"/\"),a=1;a<s.length;a++){var o=s[a];if(o){if(o=util.unescapeFragment(o),void 0===(t=t[o]))break;var l;if(!PREVENT_SCOPE_CHANGE[o]&&((l=this._getId(t))&&(r=resolveUrl(r,l)),t.$ref)){var n=resolveUrl(r,t.$ref),c=resolveSchema.call(this,i,n);c&&(t=c.schema,i=c.root,r=c.baseId)}}}return void 0!==t&&t!==i.schema?{schema:t,root:i,baseId:r}:void 0}}var SIMPLE_INLINED=util.toHash([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\"]);function inlineRef(e,r){return!1!==r&&(void 0===r||!0===r?checkNoRef(e):r?countKeys(e)<=r:void 0)}function checkNoRef(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(\"object\"==typeof(r=e[t])&&!checkNoRef(r))return!1}else for(var i in e){if(\"$ref\"==i)return!1;if(\"object\"==typeof(r=e[i])&&!checkNoRef(r))return!1}return!0}function countKeys(e){var r,t=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(\"object\"==typeof(r=e[i])&&(t+=countKeys(r)),t==1/0)return 1/0}else for(var s in e){if(\"$ref\"==s)return 1/0;if(SIMPLE_INLINED[s])t++;else if(\"object\"==typeof(r=e[s])&&(t+=countKeys(r)+1),t==1/0)return 1/0}return t}function getFullPath(e,r){!1!==r&&(e=normalizeId(e));return _getFullPath(url.parse(e,!1,!0))}function _getFullPath(e){var r=e.protocol||\"//\"==e.href.slice(0,2)?\"//\":\"\";return(e.protocol||\"\")+r+(e.host||\"\")+(e.path||\"\")+\"#\"}var TRAILING_SLASH_HASH=/#\\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,\"\"):\"\"}function resolveUrl(e,r){return r=normalizeId(r),url.resolve(e,r)}function resolveIds(e){var r=normalizeId(this._getId(e)),t={\"\":r},i={\"\":getFullPath(r,!1)},s={},a=this;return traverse(e,{allKeys:!0},function(e,r,o,l,n,c,h){if(\"\"!==r){var f=a._getId(e),u=t[l],m=i[l]+\"/\"+n;if(void 0!==h&&(m+=\"/\"+(\"number\"==typeof h?h:util.escapeFragment(h))),\"string\"==typeof f){f=u=normalizeId(u?url.resolve(u,f):f);var v=a._refs[f];if(\"string\"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!equal(e,v.schema))throw new Error('id \"'+f+'\" resolves to more than one schema')}else if(f!=normalizeId(m))if(\"#\"==f[0]){if(s[f]&&!equal(e,s[f]))throw new Error('id \"'+f+'\" resolves to more than one schema');s[f]=e}else a._refs[f]=m}t[r]=u,i[r]=m}}),s}","node_modules/ajv/lib/cache.js":"\"use strict\";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(t,e){this._cache[t]=e},Cache.prototype.get=function(t){return this._cache[t]},Cache.prototype.del=function(t){delete this._cache[t]},Cache.prototype.clear=function(){this._cache={}};","node_modules/ajv/lib/compile/schema_obj.js":"\"use strict\";var util=require(\"./util\");module.exports=SchemaObject;function SchemaObject(t){util.copy(t,this)}","node_modules/fast-json-stable-stringify/index.js":"\"use strict\";module.exports=function(r,t){t||(t={}),\"function\"==typeof t&&(t={cmp:t});var n=\"boolean\"==typeof t.cycles&&t.cycles,e=t.cmp&&function(r){return function(t){return function(n,e){var i={key:n,value:t[n]},u={key:e,value:t[e]};return r(i,u)}}}(t.cmp),i=[];return function r(t){if(t&&t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if(\"number\"==typeof t)return isFinite(t)?\"\"+t:\"null\";if(\"object\"!=typeof t)return JSON.stringify(t);var u,o;if(Array.isArray(t)){for(o=\"[\",u=0;u<t.length;u++)u&&(o+=\",\"),o+=r(t[u])||\"null\";return o+\"]\"}if(null===t)return\"null\";if(-1!==i.indexOf(t)){if(n)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var f=i.push(t)-1,c=Object.keys(t).sort(e&&e(t));for(o=\"\",u=0;u<c.length;u++){var l=c[u],y=r(t[l]);y&&(o&&(o+=\",\"),o+=JSON.stringify(l)+\":\"+y)}return i.splice(f,1),\"{\"+o+\"}\"}}(r)};","node_modules/ajv/lib/compile/formats.js":"\"use strict\";var util=require(\"./util\"),DATE=/^\\d\\d\\d\\d-(\\d\\d)-(\\d\\d)$/,DAYS=[0,31,29,31,30,31,30,31,31,30,31,30,31],TIME=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URIREF=/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,URL=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\\/(?:[^~/]|~0|~1)*)*$|^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;module.exports=formats;function formats(d){return d=\"full\"==d?\"full\":\"fast\",util.copy(formats[d])}formats.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\"date-time\":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\\/)\\/?[^\\s]*$/i,\"uri-reference\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\"uri-template\":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:regex,uuid:UUID,\"json-pointer\":JSON_POINTER,\"relative-json-pointer\":RELATIVE_JSON_POINTER},formats.full={date:date,time:time,\"date-time\":date_time,uri:uri,\"uri-reference\":URIREF,\"uri-template\":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:regex,uuid:UUID,\"json-pointer\":JSON_POINTER,\"relative-json-pointer\":RELATIVE_JSON_POINTER};function date(d){var a=d.match(DATE);if(!a)return!1;var u=+a[1],F=+a[2];return u>=1&&u<=12&&F>=1&&F<=DAYS[u]}function time(d,a){var u=d.match(TIME);if(!u)return!1;var F=u[1],f=u[2],D=u[3],t=u[5];return F<=23&&f<=59&&D<=59&&(!a||t)}var DATE_TIME_SEPARATOR=/t|\\s/i;function date_time(d){var a=d.split(DATE_TIME_SEPARATOR);return 2==a.length&&date(a[0])&&time(a[1],!0)}function hostname(d){return d.length<=255&&HOSTNAME.test(d)}var NOT_URI_FRAGMENT=/\\/|:/;function uri(d){return NOT_URI_FRAGMENT.test(d)&&URI.test(d)}var Z_ANCHOR=/[^\\\\]\\\\Z/;function regex(d){if(Z_ANCHOR.test(d))return!1;try{return new RegExp(d),!0}catch(d){return!1}}","node_modules/ajv/lib/compile/rules.js":"\"use strict\";var ruleModules=require(\"./_rules\"),toHash=require(\"./util\").toHash;module.exports=function(){var e=[{type:\"number\",rules:[{maximum:[\"exclusiveMaximum\"]},{minimum:[\"exclusiveMinimum\"]},\"multipleOf\",\"format\"]},{type:\"string\",rules:[\"maxLength\",\"minLength\",\"pattern\",\"format\"]},{type:\"array\",rules:[\"maxItems\",\"minItems\",\"uniqueItems\",\"contains\",\"items\"]},{type:\"object\",rules:[\"maxProperties\",\"minProperties\",\"required\",\"dependencies\",\"propertyNames\",{properties:[\"additionalProperties\",\"patternProperties\"]}]},{rules:[\"$ref\",\"const\",\"enum\",\"not\",\"anyOf\",\"oneOf\",\"allOf\"]}],t=[\"type\"];return e.all=toHash(t),e.types=toHash([\"number\",\"integer\",\"string\",\"array\",\"object\",\"boolean\",\"null\"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var i;if(\"object\"==typeof r){var s=Object.keys(r)[0];i=r[s],r=s,i.forEach(function(r){t.push(r),e.all[r]=!0})}t.push(r);return e.all[r]={keyword:r,code:ruleModules[r],implements:i}}),r.type&&(e.types[r.type]=r)}),e.keywords=toHash(t.concat([\"additionalItems\",\"$schema\",\"$id\",\"id\",\"title\",\"description\",\"default\",\"definitions\"])),e.custom={},e};","node_modules/ajv/lib/$data.js":"\"use strict\";var KEYWORDS=[\"multipleOf\",\"maximum\",\"exclusiveMaximum\",\"minimum\",\"exclusiveMinimum\",\"maxLength\",\"minLength\",\"pattern\",\"additionalItems\",\"maxItems\",\"minItems\",\"uniqueItems\",\"maxProperties\",\"minProperties\",\"required\",\"additionalProperties\",\"enum\",\"format\",\"const\"];module.exports=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var r,m=t[i].split(\"/\"),n=e;for(r=1;r<m.length;r++)n=n[m[r]];for(r=0;r<KEYWORDS.length;r++){var a=KEYWORDS[r],s=n[a];s&&(n[a]={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\"}]})}}return e};","node_modules/ajv/lib/patternGroups.js":"\"use strict\";var META_SCHEMA_ID=\"http://json-schema.org/draft-06/schema\";module.exports=function(e){var t=e._opts.defaultMeta,r=\"string\"==typeof t?{$ref:t}:e.getSchema(META_SCHEMA_ID)?{$ref:META_SCHEMA_ID}:{};e.addKeyword(\"patternGroups\",{metaSchema:{type:\"object\",additionalProperties:{type:\"object\",required:[\"schema\"],properties:{maximum:{type:\"integer\",minimum:0},minimum:{type:\"integer\",minimum:0},schema:r},additionalProperties:!1}}}),e.RULES.all.properties.implements.push(\"patternGroups\")};","node_modules/ajv/lib/compile/util.js":"\"use strict\";module.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:require(\"fast-deep-equal\"),ucs2length:require(\"./ucs2length\"),varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,finalCleanUpCode:finalCleanUpCode,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(e,r){r=r||{};for(var t in e)r[t]=e[t];return r}function checkDataType(e,r,t){var a=t?\" !== \":\" === \",n=t?\" || \":\" && \",o=t?\"!\":\"\",c=t?\"\":\"!\";switch(e){case\"null\":return r+a+\"null\";case\"array\":return o+\"Array.isArray(\"+r+\")\";case\"object\":return\"(\"+o+r+n+\"typeof \"+r+a+'\"object\"'+n+c+\"Array.isArray(\"+r+\"))\";case\"integer\":return\"(typeof \"+r+a+'\"number\"'+n+c+\"(\"+r+\" % 1)\"+n+r+a+r+\")\";default:return\"typeof \"+r+a+'\"'+e+'\"'}}function checkDataTypes(e,r){switch(e.length){case 1:return checkDataType(e[0],r,!0);default:var t=\"\",a=toHash(e);a.array&&a.object&&(t=a.null?\"(\":\"(!\"+r+\" || \",t+=\"typeof \"+r+' !== \"object\")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var n in a)t+=(t?\" && \":\"\")+checkDataType(n,r,!0);return t}}var COERCE_TO_TYPES=toHash([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function coerceToTypes(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var n=r[a];COERCE_TO_TYPES[n]?t[t.length]=n:\"array\"===e&&\"array\"===n&&(t[t.length]=n)}if(t.length)return t}else{if(COERCE_TO_TYPES[r])return[r];if(\"array\"===e&&\"array\"===r)return[\"array\"]}}function toHash(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\\\/g;function getProperty(e){return\"number\"==typeof e?\"[\"+e+\"]\":IDENTIFIER.test(e)?\".\"+e:\"['\"+escapeQuotes(e)+\"']\"}function escapeQuotes(e){return e.replace(SINGLE_QUOTE,\"\\\\$&\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\f/g,\"\\\\f\").replace(/\\t/g,\"\\\\t\")}function varOccurences(e,r){r+=\"[^0-9]\";var t=e.match(new RegExp(r,\"g\"));return t?t.length:0}function varReplace(e,r,t){return r+=\"([^0-9])\",t=t.replace(/\\$/g,\"$$$$\"),e.replace(new RegExp(r,\"g\"),t+\"$1\")}var EMPTY_ELSE=/else\\s*{\\s*}/g,EMPTY_IF_NO_ELSE=/if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g,EMPTY_IF_WITH_ELSE=/if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;function cleanUpCode(e){return e.replace(EMPTY_ELSE,\"\").replace(EMPTY_IF_NO_ELSE,\"\").replace(EMPTY_IF_WITH_ELSE,\"if (!($1))\")}var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID=\"return errors === 0;\",RETURN_TRUE=\"validate.errors = null; return true;\",RETURN_ASYNC=/if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/,RETURN_DATA_ASYNC=\"return data;\",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \\(rootData === undefined\\) rootData = data;/;function finalCleanUpCode(e,r){var t=e.match(ERRORS_REGEXP);return t&&2==t.length&&(e=r?e.replace(REMOVE_ERRORS_ASYNC,\"\").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):e.replace(REMOVE_ERRORS,\"\").replace(RETURN_VALID,RETURN_TRUE)),(t=e.match(ROOTDATA_REGEXP))&&3===t.length?e.replace(REMOVE_ROOTDATA,\"\"):e}function schemaHasRules(e,r){if(\"boolean\"==typeof e)return!e;for(var t in e)if(r[t])return!0}function schemaHasRulesExcept(e,r,t){if(\"boolean\"==typeof e)return!e&&\"not\"!=t;for(var a in e)if(a!=t&&r[a])return!0}function toQuotedString(e){return\"'\"+escapeQuotes(e)+\"'\"}function getPathExpr(e,r,t,a){return joinPaths(e,t?\"'/' + \"+r+(a?\"\":\".replace(/~/g, '~0').replace(/\\\\//g, '~1')\"):a?\"'[' + \"+r+\" + ']'\":\"'[\\\\'' + \"+r+\" + '\\\\']'\")}function getPath(e,r,t){return joinPaths(e,toQuotedString(t?\"/\"+escapeJsonPointer(r):getProperty(r)))}var JSON_POINTER=/^\\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function getData(e,r,t){var a,n,o,c;if(\"\"===e)return\"rootData\";if(\"/\"==e[0]){if(!JSON_POINTER.test(e))throw new Error(\"Invalid JSON-pointer: \"+e);n=e,o=\"rootData\"}else{if(!(c=e.match(RELATIVE_JSON_POINTER)))throw new Error(\"Invalid JSON-pointer: \"+e);if(a=+c[1],\"#\"==(n=c[2])){if(a>=r)throw new Error(\"Cannot access property/index \"+a+\" levels up, current level is \"+r);return t[r-a]}if(a>r)throw new Error(\"Cannot access data \"+a+\" levels up, current level is \"+r);if(o=\"data\"+(r-a||\"\"),!n)return o}for(var s=o,u=n.split(\"/\"),l=0;l<u.length;l++){var p=u[l];p&&(s+=\" && \"+(o+=getProperty(unescapeJsonPointer(p))))}return s}function joinPaths(e,r){return'\"\"'==e?r:(e+\" + \"+r).replace(/' \\+ '/g,\"\")}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function unescapeJsonPointer(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}","node_modules/co/index.js":"var slice=Array.prototype.slice;module.exports=co.default=co.co=co,co.wrap=function(t){return n.__generatorFunction__=t,n;function n(){return co.call(this,t.apply(this,arguments))}};function co(t){var n=this,r=slice.call(arguments,1);return new Promise(function(o,e){if(\"function\"==typeof t&&(t=t.apply(n,r)),!t||\"function\"!=typeof t.next)return o(t);i();function i(n){var r;try{r=t.next(n)}catch(t){return e(t)}u(r)}function c(n){var r;try{r=t.throw(n)}catch(t){return e(t)}u(r)}function u(t){if(t.done)return o(t.value);var r=toPromise.call(n,t.value);return r&&isPromise(r)?r.then(i,c):c(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: \"'+String(t.value)+'\"'))}})}function toPromise(t){return t?isPromise(t)?t:isGeneratorFunction(t)||isGenerator(t)?co.call(this,t):\"function\"==typeof t?thunkToPromise.call(this,t):Array.isArray(t)?arrayToPromise.call(this,t):isObject(t)?objectToPromise.call(this,t):t:t}function thunkToPromise(t){var n=this;return new Promise(function(r,o){t.call(n,function(t,n){if(t)return o(t);arguments.length>2&&(n=slice.call(arguments,1)),r(n)})})}function arrayToPromise(t){return Promise.all(t.map(toPromise,this))}function objectToPromise(t){for(var n=new t.constructor,r=Object.keys(t),o=[],e=0;e<r.length;e++){var i=r[e],c=toPromise.call(this,t[i]);c&&isPromise(c)?function(t,r){n[r]=void 0,o.push(t.then(function(t){n[r]=t}))}(c,i):n[i]=t[i]}return Promise.all(o).then(function(){return n})}function isPromise(t){return\"function\"==typeof t.then}function isGenerator(t){return\"function\"==typeof t.next&&\"function\"==typeof t.throw}function isGeneratorFunction(t){var n=t.constructor;return!!n&&(\"GeneratorFunction\"===n.name||\"GeneratorFunction\"===n.displayName||isGenerator(n.prototype))}function isObject(t){return Object==t.constructor}","node_modules/ajv/lib/compile/async.js":"\"use strict\";var MissingRefError=require(\"./error_classes\").MissingRef;module.exports=compileAsync;function compileAsync(e,n,r){var o=this;if(\"function\"!=typeof this._opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");\"function\"==typeof n&&(r=n,n=void 0);var t=i(e).then(function(){var r=o._addSchema(e,void 0,n);return r.validate||c(r)});return r&&t.then(function(e){r(null,e)},r),t;function i(e){var n=e.$schema;return n&&!o.getSchema(n)?compileAsync.call(o,{$ref:n},!0):Promise.resolve()}function c(e){try{return o._compile(e)}catch(r){if(r instanceof MissingRefError)return function(r){var t=r.missingSchema;if(u(t))throw new Error(\"Schema \"+t+\" is loaded but \"+r.missingRef+\" cannot be resolved\");var a=o._loadingSchemas[t];a||(a=o._loadingSchemas[t]=o._opts.loadSchema(t)).then(s,s);return a.then(function(e){if(!u(t))return i(e).then(function(){u(t)||o.addSchema(e,t,void 0,n)})}).then(function(){return c(e)});function s(){delete o._loadingSchemas[t]}function u(e){return o._refs[e]||o._schemas[e]}}(r);throw r}}}","node_modules/ajv/lib/keyword.js":"\"use strict\";var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=require(\"./dotjs/custom\");module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword};function addKeyword(e,r){var t=this.RULES;if(t.keywords[e])throw new Error(\"Keyword \"+e+\" is already defined\");if(!IDENTIFIER.test(e))throw new Error(\"Keyword \"+e+\" is not a valid identifier\");if(r){if(r.macro&&void 0!==r.valid)throw new Error('\"valid\" option cannot be used with macro keywords');var o=r.type;if(Array.isArray(o)){var i,a=o.length;for(i=0;i<a;i++)l(o[i]);for(i=0;i<a;i++)n(e,o[i],r)}else o&&l(o),n(e,o,r);var d=!0===r.$data&&this._opts.$data;if(d&&!r.validate)throw new Error('$data support: \"validate\" function is not defined');var s=r.metaSchema;s&&(d&&(s={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#\"}]}),r.validateSchema=this.compile(s,!0))}t.keywords[e]=t.all[e]=!0;function n(e,r,o){for(var i,a=0;a<t.length;a++){var d=t[a];if(d.type==r){i=d;break}}i||(i={type:r,rules:[]},t.push(i));var s={keyword:e,definition:o,custom:!0,code:customRuleCode,implements:o.implements};i.rules.push(s),t.custom[e]=s}function l(e){if(!t.types[e])throw new Error(\"Unknown type \"+e)}return this}function getKeyword(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function removeKeyword(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var o=r[t].rules,i=0;i<o.length;i++)if(o[i].keyword==e){o.splice(i,1);break}return this}","node_modules/ajv/lib/compile/error_classes.js":"\"use strict\";var resolve=require(\"./resolve\");module.exports={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(r){this.message=\"validation failed\",this.errors=r,this.ajv=this.validation=!0}MissingRefError.message=function(r,e){return\"can't resolve reference \"+e+\" from id \"+r};function MissingRefError(r,e,s){this.message=s||MissingRefError.message(r,e),this.missingRef=resolve.url(r,e),this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}","node_modules/ajv/lib/dotjs/validate.js":"\"use strict\";module.exports=function(e,r,a){var t=\"\",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\"$ref\"),i=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var l=\"es7\"==e.opts.async;e.yieldAwait=l?\"await\":\"yield\"}t+=\" var validate = \",s?l?t+=\" (async function \":(\"*\"!=e.opts.async&&(t+=\"co.wrap\"),t+=\"(function* \"):t+=\" (function \",t+=\" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \",i&&(e.opts.sourceCode||e.opts.processCode)&&(t+=\" /*# sourceURL=\"+i+\" */ \")}if(\"boolean\"==typeof e.schema||!o&&!e.schema.$ref){r=\"false schema\";var n=e.level,h=e.dataLevel,p=e.schema[r],d=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+\"/\"+r,f=!e.opts.allErrors,u=\"data\"+(h||\"\"),v=\"valid\"+n;if(!1===e.schema){e.isTop?f=!0:t+=\" var \"+v+\" = false; \";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"false schema\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: {} \",!1!==e.opts.messages&&(t+=\" , message: 'boolean schema is false' \"),e.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else e.isTop?t+=s?\" return data; \":\" validate.errors = null; return true; \":t+=\" var \"+v+\" = true; \";return e.isTop&&(t+=\" }); return validate; \"),t}if(e.isTop){var y=e.isTop;n=e.level=0,h=e.dataLevel=0,u=\"data\";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],t+=\" var vErrors = null; \",t+=\" var errors = 0;     \",t+=\" if (rootData === undefined) rootData = data; \"}else{n=e.level,u=\"data\"+((h=e.dataLevel)||\"\");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw new Error(\"async schema in sync schema\");t+=\" var errs_\"+n+\" = errors;\"}v=\"valid\"+n,f=!e.opts.allErrors;var P,g=\"\",E=\"\",w=e.schema.type,b=Array.isArray(w);if(b&&1==w.length&&(w=w[0],b=!1),e.schema.$ref&&o){if(\"fail\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \"'+e.errSchemaPath+'\" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path \"'+e.errSchemaPath+'\"'))}if(w){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,w);var T=e.RULES.types[w];if(S||b||!0===T||T&&!Y(T)){d=e.schemaPath+\".type\",c=e.errSchemaPath+\"/type\",d=e.schemaPath+\".type\",c=e.errSchemaPath+\"/type\";var D=b?\"checkDataTypes\":\"checkDataType\";if(t+=\" if (\"+e.util[D](w,u,!0)+\") { \",S){var R=\"dataType\"+n,k=\"coerced\"+n;t+=\" var \"+R+\" = typeof \"+u+\"; \",\"array\"==e.opts.coerceTypes&&(t+=\" if (\"+R+\" == 'object' && Array.isArray(\"+u+\")) \"+R+\" = 'array'; \"),t+=\" var \"+k+\" = undefined; \";var j=\"\",A=S;if(A)for(var $,I=-1,L=A.length-1;I<L;)$=A[I+=1],I&&(t+=\" if (\"+k+\" === undefined) { \",j+=\"}\"),\"array\"==e.opts.coerceTypes&&\"array\"!=$&&(t+=\" if (\"+R+\" == 'array' && \"+u+\".length == 1) { \"+k+\" = \"+u+\" = \"+u+\"[0]; \"+R+\" = typeof \"+u+\";  } \"),\"string\"==$?t+=\" if (\"+R+\" == 'number' || \"+R+\" == 'boolean') \"+k+\" = '' + \"+u+\"; else if (\"+u+\" === null) \"+k+\" = ''; \":\"number\"==$||\"integer\"==$?(t+=\" if (\"+R+\" == 'boolean' || \"+u+\" === null || (\"+R+\" == 'string' && \"+u+\" && \"+u+\" == +\"+u+\" \",\"integer\"==$&&(t+=\" && !(\"+u+\" % 1)\"),t+=\")) \"+k+\" = +\"+u+\"; \"):\"boolean\"==$?t+=\" if (\"+u+\" === 'false' || \"+u+\" === 0 || \"+u+\" === null) \"+k+\" = false; else if (\"+u+\" === 'true' || \"+u+\" === 1) \"+k+\" = true; \":\"null\"==$?t+=\" if (\"+u+\" === '' || \"+u+\" === 0 || \"+u+\" === false) \"+k+\" = null; \":\"array\"==e.opts.coerceTypes&&\"array\"==$&&(t+=\" if (\"+R+\" == 'string' || \"+R+\" == 'number' || \"+R+\" == 'boolean' || \"+u+\" == null) \"+k+\" = [\"+u+\"]; \");t+=\" \"+j+\" if (\"+k+\" === undefined) {   \";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+d+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else {  \";var U=h?\"data\"+(h-1||\"\"):\"parentData\",_=h?e.dataPathArr[h]:\"parentDataProperty\";t+=\" \"+u+\" = \"+k+\"; \",h||(t+=\"if (\"+U+\" !== undefined)\"),t+=\" \"+U+\"[\"+_+\"] = \"+k+\"; } \"}else{(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+d+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}t+=\" } \"}}if(e.schema.$ref&&!o)t+=\" \"+e.RULES.all.$ref.code(e,\"$ref\")+\" \",f&&(t+=\" } if (errors === \",t+=y?\"0\":\"errs_\"+n,t+=\") { \",E+=\"}\");else{e.opts.v5&&e.schema.patternGroups&&e.logger.warn('keyword \"patternGroups\" is deprecated and disabled. Use option patternGroups: true to enable.');var x=e.RULES;if(x)for(var C=-1,V=x.length-1;C<V;)if(T=x[C+=1],Y(T)){if(T.type&&(t+=\" if (\"+e.util.checkDataType(T.type,u)+\") { \"),e.opts.useDefaults&&!e.compositeRule)if(\"object\"==T.type&&e.schema.properties){p=e.schema.properties;var Q=Object.keys(p);if(Q)for(var G,O=-1,J=Q.length-1;O<J;){if(void 0!==(H=p[G=Q[O+=1]]).default){t+=\"  if (\"+(z=u+e.util.getProperty(G))+\" === undefined) \"+z+\" = \",\"shared\"==e.opts.useDefaults?t+=\" \"+e.useDefault(H.default)+\" \":t+=\" \"+JSON.stringify(H.default)+\" \",t+=\"; \"}}}else if(\"array\"==T.type&&Array.isArray(e.schema.items)){var N=e.schema.items;if(N){I=-1;for(var H,q=N.length-1;I<q;)if(void 0!==(H=N[I+=1]).default){var z;t+=\"  if (\"+(z=u+\"[\"+I+\"]\")+\" === undefined) \"+z+\" = \",\"shared\"==e.opts.useDefaults?t+=\" \"+e.useDefault(H.default)+\" \":t+=\" \"+JSON.stringify(H.default)+\" \",t+=\"; \"}}}var B=T.rules;if(B)for(var F,K=-1,M=B.length-1;K<M;)if(F=B[K+=1],Z(F)){var W=F.code(e,F.keyword,T.type);W&&(t+=\" \"+W+\" \",f&&(g+=\"}\"))}if(f&&(t+=\" \"+g+\" \",g=\"\"),T.type&&(t+=\" } \",w&&w===T.type&&!S)){t+=\" else { \";var X;d=e.schemaPath+\".type\",c=e.errSchemaPath+\"/type\";(X=X||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: '\"+(P||\"type\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { type: '\",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should be \",t+=b?\"\"+w.join(\",\"):\"\"+w,t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+d+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";m=t;t=X.pop(),!e.compositeRule&&f?e.async?t+=\" throw new ValidationError([\"+m+\"]); \":t+=\" validate.errors = [\"+m+\"]; return false; \":t+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \"}f&&(t+=\" if (errors === \",t+=y?\"0\":\"errs_\"+n,t+=\") { \",E+=\"}\")}}f&&(t+=\" \"+E+\" \"),y?(s?(t+=\" if (errors === 0) return data;           \",t+=\" else throw new ValidationError(vErrors); \"):(t+=\" validate.errors = vErrors; \",t+=\" return errors === 0;       \"),t+=\" }); return validate;\"):t+=\" var \"+v+\" = errors === errs_\"+n+\";\",t=e.util.cleanUpCode(t),y&&(t=e.util.finalCleanUpCode(t,s));function Y(e){for(var r=e.rules,a=0;a<r.length;a++)if(Z(r[a]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var a=r.implements,t=0;t<a.length;t++)if(void 0!==e.schema[a[t]])return!0}(r)}return t};","node_modules/fast-deep-equal/index.js":"\"use strict\";module.exports=function r(e,t){if(e===t)return!0;var n,i=Array.isArray(e),f=Array.isArray(t);if(i&&f){if(e.length!=t.length)return!1;for(n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}if(i!=f)return!1;if(e&&t&&\"object\"==typeof e&&\"object\"==typeof t){var o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;var u=e instanceof Date,a=t instanceof Date;if(u&&a)return e.getTime()==t.getTime();if(u!=a)return!1;var g=e instanceof RegExp,c=t instanceof RegExp;if(g&&c)return e.toString()==t.toString();if(g!=c)return!1;for(n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=0;n<o.length;n++)if(!r(e[o[n]],t[o[n]]))return!1;return!0}return!1};","node_modules/json-schema-traverse/index.js":"\"use strict\";var traverse=module.exports=function(e,r,s){\"function\"==typeof r&&(s=r,r={}),_traverse(r,s,e,\"\",e)};traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _traverse(e,r,s,t,i,a,n,o,m){if(s&&\"object\"==typeof s&&!Array.isArray(s)){r(s,t,i,a,n,o,m);for(var p in s){var f=s[p];if(Array.isArray(f)){if(p in traverse.arrayKeywords)for(var v=0;v<f.length;v++)_traverse(e,r,f[v],t+\"/\"+p+\"/\"+v,i,t,p,s,v)}else if(p in traverse.propsKeywords){if(f&&\"object\"==typeof f)for(var y in f)_traverse(e,r,f[y],t+\"/\"+p+\"/\"+escapeJsonPtr(y),i,t,p,s,y)}else(p in traverse.keywords||e.allKeys&&!(p in traverse.skipKeywords))&&_traverse(e,r,f,t+\"/\"+p,i,t,p,s)}}}function escapeJsonPtr(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}","node_modules/ajv/lib/compile/ucs2length.js":"\"use strict\";module.exports=function(r){for(var t,e=0,o=r.length,c=0;c<o;)e++,(t=r.charCodeAt(c++))>=55296&&t<=56319&&c<o&&56320==(64512&(t=r.charCodeAt(c)))&&c++;return e};","node_modules/ajv/lib/compile/_rules.js":"\"use strict\";module.exports={$ref:require(\"../dotjs/ref\"),allOf:require(\"../dotjs/allOf\"),anyOf:require(\"../dotjs/anyOf\"),const:require(\"../dotjs/const\"),contains:require(\"../dotjs/contains\"),dependencies:require(\"../dotjs/dependencies\"),enum:require(\"../dotjs/enum\"),format:require(\"../dotjs/format\"),items:require(\"../dotjs/items\"),maximum:require(\"../dotjs/_limit\"),minimum:require(\"../dotjs/_limit\"),maxItems:require(\"../dotjs/_limitItems\"),minItems:require(\"../dotjs/_limitItems\"),maxLength:require(\"../dotjs/_limitLength\"),minLength:require(\"../dotjs/_limitLength\"),maxProperties:require(\"../dotjs/_limitProperties\"),minProperties:require(\"../dotjs/_limitProperties\"),multipleOf:require(\"../dotjs/multipleOf\"),not:require(\"../dotjs/not\"),oneOf:require(\"../dotjs/oneOf\"),pattern:require(\"../dotjs/pattern\"),properties:require(\"../dotjs/properties\"),propertyNames:require(\"../dotjs/propertyNames\"),required:require(\"../dotjs/required\"),uniqueItems:require(\"../dotjs/uniqueItems\"),validate:require(\"../dotjs/validate\")};","node_modules/ajv/lib/dotjs/ref.js":"\"use strict\";module.exports=function(r,e,a){var s,t,o=\" \",i=r.level,l=r.dataLevel,c=r.schema[e],n=r.errSchemaPath+\"/\"+e,h=!r.opts.allErrors,v=\"data\"+(l||\"\"),f=\"valid\"+i;if(\"#\"==c||\"#/\"==c)r.isRoot?(s=r.async,t=\"validate\"):(s=!0===r.root.schema.$async,t=\"root.refVal[0]\");else{var d=r.resolveRef(r.baseId,c,r.isRoot);if(void 0===d){var p=r.MissingRefError.message(r.baseId,c);if(\"fail\"==r.opts.missingRefs){r.logger.error(p);(g=g||[]).push(o),o=\"\",!1!==r.createErrors?(o+=\" { keyword: '$ref' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(n)+\" , params: { ref: '\"+r.util.escapeQuotes(c)+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'can\\\\'t resolve reference \"+r.util.escapeQuotes(c)+\"' \"),r.opts.verbose&&(o+=\" , schema: \"+r.util.toQuotedString(c)+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),o+=\" } \"):o+=\" {} \";var m=o;o=g.pop(),!r.compositeRule&&h?r.async?o+=\" throw new ValidationError([\"+m+\"]); \":o+=\" validate.errors = [\"+m+\"]; return false; \":o+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h&&(o+=\" if (false) { \")}else{if(\"ignore\"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,c,p);r.logger.warn(p),h&&(o+=\" if (true) { \")}}else if(d.inline){var u=r.util.copy(r);u.level++;var E=\"valid\"+u.level;u.schema=d.schema,u.schemaPath=\"\",u.errSchemaPath=c;o+=\" \"+r.validate(u).replace(/validate\\.schema/g,d.code)+\" \",h&&(o+=\" if (\"+E+\") { \")}else s=!0===d.$async,t=d.code}if(t){var g;(g=g||[]).push(o),o=\"\",r.opts.passContext?o+=\" \"+t+\".call(this, \":o+=\" \"+t+\"( \",o+=\" \"+v+\", (dataPath || '')\",'\"\"'!=r.errorPath&&(o+=\" + \"+r.errorPath);var y=o+=\" , \"+(l?\"data\"+(l-1||\"\"):\"parentData\")+\" , \"+(l?r.dataPathArr[l]:\"parentDataProperty\")+\", rootData)  \";if(o=g.pop(),s){if(!r.async)throw new Error(\"async schema referenced by sync schema\");h&&(o+=\" var \"+f+\"; \"),o+=\" try { \"+r.yieldAwait+\" \"+y+\"; \",h&&(o+=\" \"+f+\" = true; \"),o+=\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \",h&&(o+=\" \"+f+\" = false; \"),o+=\" } \",h&&(o+=\" if (\"+f+\") { \")}else o+=\" if (!\"+y+\") { if (vErrors === null) vErrors = \"+t+\".errors; else vErrors = vErrors.concat(\"+t+\".errors); errors = vErrors.length; } \",h&&(o+=\" else { \")}return o};","node_modules/ajv/lib/dotjs/allOf.js":"\"use strict\";module.exports=function(e,a,l){var t=\" \",r=e.schema[a],s=e.schemaPath+e.util.getProperty(a),c=e.errSchemaPath+\"/\"+a,h=!e.opts.allErrors,i=e.util.copy(e),u=\"\";i.level++;var o=\"valid\"+i.level,m=i.baseId,v=!0,d=r;if(d)for(var f,n=-1,p=d.length-1;n<p;)f=d[n+=1],e.util.schemaHasRules(f,e.RULES.all)&&(v=!1,i.schema=f,i.schemaPath=s+\"[\"+n+\"]\",i.errSchemaPath=c+\"/\"+n,t+=\"  \"+e.validate(i)+\" \",i.baseId=m,h&&(t+=\" if (\"+o+\") { \",u+=\"}\"));return h&&(t+=v?\" if (true) { \":\" \"+u.slice(0,-1)+\" \"),t=e.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/anyOf.js":"\"use strict\";module.exports=function(r,e,a){var s=\" \",t=r.level,l=r.dataLevel,o=r.schema[e],i=r.schemaPath+r.util.getProperty(e),h=r.errSchemaPath+\"/\"+e,v=!r.opts.allErrors,c=\"data\"+(l||\"\"),m=\"valid\"+t,u=\"errs__\"+t,n=r.util.copy(r),d=\"\";n.level++;var p=\"valid\"+n.level;if(o.every(function(e){return r.util.schemaHasRules(e,r.RULES.all)})){var f=n.baseId;s+=\" var \"+u+\" = errors; var \"+m+\" = false;  \";var E=r.compositeRule;r.compositeRule=n.compositeRule=!0;var P=o;if(P)for(var R,y=-1,g=P.length-1;y<g;)R=P[y+=1],n.schema=R,n.schemaPath=i+\"[\"+y+\"]\",n.errSchemaPath=h+\"/\"+y,s+=\"  \"+r.validate(n)+\" \",n.baseId=f,s+=\" \"+m+\" = \"+m+\" || \"+p+\"; if (!\"+m+\") { \",d+=\"}\";r.compositeRule=n.compositeRule=E,s+=\" \"+d+\" if (!\"+m+\") {   var err =   \",!1!==r.createErrors?(s+=\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(h)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should match some schema in anyOf' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&v&&(r.async?s+=\" throw new ValidationError(vErrors); \":s+=\" validate.errors = vErrors; return false; \"),s+=\" } else {  errors = \"+u+\"; if (vErrors !== null) { if (\"+u+\") vErrors.length = \"+u+\"; else vErrors = null; } \",r.opts.allErrors&&(s+=\" } \"),s=r.util.cleanUpCode(s)}else v&&(s+=\" if (true) { \");return s};","node_modules/ajv/lib/dotjs/const.js":"\"use strict\";module.exports=function(a,r,e){var t=\" \",s=a.level,o=a.dataLevel,h=a.schema[r],l=a.schemaPath+a.util.getProperty(r),c=a.errSchemaPath+\"/\"+r,d=!a.opts.allErrors,m=\"data\"+(o||\"\"),v=\"valid\"+s,i=a.opts.$data&&h&&h.$data;i&&(t+=\" var schema\"+s+\" = \"+a.util.getData(h.$data,o,a.dataPathArr)+\"; \"),i||(t+=\" var schema\"+s+\" = validate.schema\"+l+\";\"),t+=\"var \"+v+\" = equal(\"+m+\", schema\"+s+\"); if (!\"+v+\") {   \";var u=u||[];u.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'const' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(c)+\" , params: {} \",!1!==a.opts.messages&&(t+=\" , message: 'should be equal to constant' \"),a.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+m+\" \"),t+=\" } \"):t+=\" {} \";var n=t;return t=u.pop(),!a.compositeRule&&d?a.async?t+=\" throw new ValidationError([\"+n+\"]); \":t+=\" validate.errors = [\"+n+\"]; return false; \":t+=\" var err = \"+n+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" }\",d&&(t+=\" else { \"),t};","node_modules/ajv/lib/dotjs/contains.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,l=r.dataLevel,o=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+\"/\"+e,h=!r.opts.allErrors,c=\"data\"+(l||\"\"),u=\"valid\"+s,d=\"errs__\"+s,m=r.util.copy(r);m.level++;var n=\"valid\"+m.level,p=\"i\"+s,P=m.dataLevel=r.dataLevel+1,E=\"data\"+P,f=r.baseId,R=r.util.schemaHasRules(o,r.RULES.all);if(t+=\"var \"+d+\" = errors;var \"+u+\";\",R){var g=r.compositeRule;r.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=i,m.errSchemaPath=v,t+=\" var \"+n+\" = false; for (var \"+p+\" = 0; \"+p+\" < \"+c+\".length; \"+p+\"++) { \",m.errorPath=r.util.getPathExpr(r.errorPath,p,r.opts.jsonPointers,!0);var S=c+\"[\"+p+\"]\";m.dataPathArr[P]=p;var b=r.validate(m);m.baseId=f,r.util.varOccurences(b,E)<2?t+=\" \"+r.util.varReplace(b,E,S)+\" \":t+=\" var \"+E+\" = \"+S+\"; \"+b+\" \",t+=\" if (\"+n+\") break; }  \",r.compositeRule=m.compositeRule=g,t+=\"  if (!\"+n+\") {\"}else t+=\" if (\"+c+\".length == 0) {\";var y=y||[];y.push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'contains' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: {} \",!1!==r.opts.messages&&(t+=\" , message: 'should contain a valid item' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+c+\" \"),t+=\" } \"):t+=\" {} \";var L=t;return t=y.pop(),!r.compositeRule&&h?r.async?t+=\" throw new ValidationError([\"+L+\"]); \":t+=\" validate.errors = [\"+L+\"]; return false; \":t+=\" var err = \"+L+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \",R&&(t+=\"  errors = \"+d+\"; if (vErrors !== null) { if (\"+d+\") vErrors.length = \"+d+\"; else vErrors = null; } \"),r.opts.allErrors&&(t+=\" } \"),t=r.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/dependencies.js":"\"use strict\";module.exports=function(e,r,t){var a=\" \",s=e.level,o=e.dataLevel,i=e.schema[r],p=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+\"/\"+r,u=!e.opts.allErrors,n=\"data\"+(o||\"\"),h=\"errs__\"+s,c=e.util.copy(e),d=\"\";c.level++;var v=\"valid\"+c.level,P={},m={},g=e.opts.ownProperties;for(E in i){var y=i[E],f=Array.isArray(y)?m:P;f[E]=y}a+=\"var \"+h+\" = errors;\";var Q=e.errorPath;a+=\"var missing\"+s+\";\";for(var E in m)if((f=m[E]).length){if(a+=\" if ( \"+n+e.util.getProperty(E)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(E)+\"') \"),u){a+=\" && ( \";var j=f;if(j)for(var w=-1,b=j.length-1;w<b;){k=j[w+=1],w&&(a+=\" || \");a+=\" ( ( \"+(I=n+(D=e.util.getProperty(k)))+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(k)+\"') \"),a+=\") && (missing\"+s+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?k:D)+\") ) \"}a+=\")) {  \";var O=\"missing\"+s,S=\"' + \"+O+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Q,O,!0):Q+\" + \"+O);var _=_||[];_.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(E)+\"', missingProperty: '\"+S+\"', depsCount: \"+f.length+\", deps: '\"+e.util.escapeQuotes(1==f.length?f[0]:f.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==f.length?a+=\"property \"+e.util.escapeQuotes(f[0]):a+=\"properties \"+e.util.escapeQuotes(f.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(E)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+n+\" \"),a+=\" } \"):a+=\" {} \";var C=a;a=_.pop(),!e.compositeRule&&u?e.async?a+=\" throw new ValidationError([\"+C+\"]); \":a+=\" validate.errors = [\"+C+\"]; return false; \":a+=\" var err = \"+C+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else{a+=\" ) { \";var R=f;if(R)for(var k,x=-1,A=R.length-1;x<A;){k=R[x+=1];var D=e.util.getProperty(k),I=(S=e.util.escapeQuotes(k),n+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,k,e.opts.jsonPointers)),a+=\" if ( \"+I+\" === undefined \",g&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(k)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { property: '\"+e.util.escapeQuotes(E)+\"', missingProperty: '\"+S+\"', depsCount: \"+f.length+\", deps: '\"+e.util.escapeQuotes(1==f.length?f[0]:f.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==f.length?a+=\"property \"+e.util.escapeQuotes(f[0]):a+=\"properties \"+e.util.escapeQuotes(f.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(E)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+n+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}a+=\" }   \",u&&(d+=\"}\",a+=\" else { \")}e.errorPath=Q;var L=c.baseId;for(var E in P){y=P[E];e.util.schemaHasRules(y,e.RULES.all)&&(a+=\" \"+v+\" = true; if ( \"+n+e.util.getProperty(E)+\" !== undefined \",g&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+n+\", '\"+e.util.escapeQuotes(E)+\"') \"),a+=\") { \",c.schema=y,c.schemaPath=p+e.util.getProperty(E),c.errSchemaPath=l+\"/\"+e.util.escapeFragment(E),a+=\"  \"+e.validate(c)+\" \",c.baseId=L,a+=\" }  \",u&&(a+=\" if (\"+v+\") { \",d+=\"}\"))}return u&&(a+=\"   \"+d+\" if (\"+h+\" == errors) {\"),a=e.util.cleanUpCode(a)};","node_modules/ajv/lib/dotjs/enum.js":"\"use strict\";module.exports=function(a,e,r){var t=\" \",s=a.level,l=a.dataLevel,o=a.schema[e],h=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+\"/\"+e,i=!a.opts.allErrors,u=\"data\"+(l||\"\"),m=\"valid\"+s,v=a.opts.$data&&o&&o.$data;v&&(t+=\" var schema\"+s+\" = \"+a.util.getData(o.$data,l,a.dataPathArr)+\"; \");var c=\"i\"+s,n=\"schema\"+s;v||(t+=\" var \"+n+\" = validate.schema\"+h+\";\"),t+=\"var \"+m+\";\",v&&(t+=\" if (schema\"+s+\" === undefined) \"+m+\" = true; else if (!Array.isArray(schema\"+s+\")) \"+m+\" = false; else {\"),t+=m+\" = false;for (var \"+c+\"=0; \"+c+\"<\"+n+\".length; \"+c+\"++) if (equal(\"+u+\", \"+n+\"[\"+c+\"])) { \"+m+\" = true; break; }\",v&&(t+=\"  }  \"),t+=\" if (!\"+m+\") {   \";var p=p||[];p.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'enum' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(d)+\" , params: { allowedValues: schema\"+s+\" } \",!1!==a.opts.messages&&(t+=\" , message: 'should be equal to one of the allowed values' \"),a.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var f=t;return t=p.pop(),!a.compositeRule&&i?a.async?t+=\" throw new ValidationError([\"+f+\"]); \":t+=\" validate.errors = [\"+f+\"]; return false; \":t+=\" var err = \"+f+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" }\",i&&(t+=\" else { \"),t};","node_modules/ajv/lib/dotjs/format.js":"\"use strict\";module.exports=function(a,t,r){var e=\" \",o=a.level,s=a.dataLevel,i=a.schema[t],n=a.schemaPath+a.util.getProperty(t),f=a.errSchemaPath+\"/\"+t,c=!a.opts.allErrors,u=\"data\"+(s||\"\");if(!1===a.opts.format)return c&&(e+=\" if (true) { \"),e;var l,m=a.opts.$data&&i&&i.$data;m?(e+=\" var schema\"+o+\" = \"+a.util.getData(i.$data,s,a.dataPathArr)+\"; \",l=\"schema\"+o):l=i;var h=a.opts.unknownFormats,d=Array.isArray(h);if(m){e+=\" var \"+(p=\"format\"+o)+\" = formats[\"+l+\"]; var \"+(v=\"isObject\"+o)+\" = typeof \"+p+\" == 'object' && !(\"+p+\" instanceof RegExp) && \"+p+\".validate; var \"+(y=\"formatType\"+o)+\" = \"+v+\" && \"+p+\".type || 'string'; if (\"+v+\") { \",a.async&&(e+=\" var async\"+o+\" = \"+p+\".async; \"),e+=\" \"+p+\" = \"+p+\".validate; } if (  \",m&&(e+=\" (\"+l+\" !== undefined && typeof \"+l+\" != 'string') || \"),e+=\" (\",\"ignore\"!=h&&(e+=\" (\"+l+\" && !\"+p+\" \",d&&(e+=\" && self._opts.unknownFormats.indexOf(\"+l+\") == -1 \"),e+=\") || \"),e+=\" (\"+p+\" && \"+y+\" == '\"+r+\"' && !(typeof \"+p+\" == 'function' ? \",a.async?e+=\" (async\"+o+\" ? \"+a.yieldAwait+\" \"+p+\"(\"+u+\") : \"+p+\"(\"+u+\")) \":e+=\" \"+p+\"(\"+u+\") \",e+=\" : \"+p+\".test(\"+u+\"))))) {\"}else{var p;if(!(p=a.formats[i])){if(\"ignore\"==h)return a.logger.warn('unknown format \"'+i+'\" ignored in schema at path \"'+a.errSchemaPath+'\"'),c&&(e+=\" if (true) { \"),e;if(d&&h.indexOf(i)>=0)return c&&(e+=\" if (true) { \"),e;throw new Error('unknown format \"'+i+'\" is used in schema at path \"'+a.errSchemaPath+'\"')}var v,y=(v=\"object\"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||\"string\";if(v){var g=!0===p.async;p=p.validate}if(y!=r)return c&&(e+=\" if (true) { \"),e;if(g){if(!a.async)throw new Error(\"async format in sync schema\");var w=\"formats\"+a.util.getProperty(i)+\".validate\";e+=\" if (!(\"+a.yieldAwait+\" \"+w+\"(\"+u+\"))) { \"}else{e+=\" if (! \";w=\"formats\"+a.util.getProperty(i);v&&(w+=\".validate\"),e+=\"function\"==typeof p?\" \"+w+\"(\"+u+\") \":\" \"+w+\".test(\"+u+\") \",e+=\") { \"}}var P=P||[];P.push(e),e=\"\",!1!==a.createErrors?(e+=\" { keyword: 'format' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(f)+\" , params: { format:  \",e+=m?\"\"+l:\"\"+a.util.toQuotedString(i),e+=\"  } \",!1!==a.opts.messages&&(e+=\" , message: 'should match format \\\"\",e+=m?\"' + \"+l+\" + '\":\"\"+a.util.escapeQuotes(i),e+=\"\\\"' \"),a.opts.verbose&&(e+=\" , schema:  \",e+=m?\"validate.schema\"+n:\"\"+a.util.toQuotedString(i),e+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+u+\" \"),e+=\" } \"):e+=\" {} \";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=\" throw new ValidationError([\"+E+\"]); \":e+=\" validate.errors = [\"+E+\"]; return false; \":e+=\" var err = \"+E+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",e+=\" } \",c&&(e+=\" else { \"),e};","node_modules/ajv/lib/dotjs/items.js":"\"use strict\";module.exports=function(a,e,r){var t=\" \",s=a.level,l=a.dataLevel,h=a.schema[e],i=a.schemaPath+a.util.getProperty(e),o=a.errSchemaPath+\"/\"+e,c=!a.opts.allErrors,v=\"data\"+(l||\"\"),d=\"valid\"+s,m=\"errs__\"+s,n=a.util.copy(a),u=\"\";n.level++;var P=\"valid\"+n.level,p=\"i\"+s,f=n.dataLevel=a.dataLevel+1,g=\"data\"+f,E=a.baseId;if(t+=\"var \"+m+\" = errors;var \"+d+\";\",Array.isArray(h)){var S=a.schema.additionalItems;if(!1===S){t+=\" \"+d+\" = \"+v+\".length <= \"+h.length+\"; \";var R=o;o=a.errSchemaPath+\"/additionalItems\",t+=\"  if (!\"+d+\") {   \";var I=I||[];I.push(t),t=\"\",!1!==a.createErrors?(t+=\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(o)+\" , params: { limit: \"+h.length+\" } \",!1!==a.opts.messages&&(t+=\" , message: 'should NOT have more than \"+h.length+\" items' \"),a.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+v+\" \"),t+=\" } \"):t+=\" {} \";var b=t;t=I.pop(),!a.compositeRule&&c?a.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \",o=R,c&&(u+=\"}\",t+=\" else { \")}var y=h;if(y)for(var L,A=-1,j=y.length-1;A<j;)if(L=y[A+=1],a.util.schemaHasRules(L,a.RULES.all)){t+=\" \"+P+\" = true; if (\"+v+\".length > \"+A+\") { \";var x=v+\"[\"+A+\"]\";n.schema=L,n.schemaPath=i+\"[\"+A+\"]\",n.errSchemaPath=o+\"/\"+A,n.errorPath=a.util.getPathExpr(a.errorPath,A,a.opts.jsonPointers,!0),n.dataPathArr[f]=A;var O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",t+=\" }  \",c&&(t+=\" if (\"+P+\") { \",u+=\"}\")}if(\"object\"==typeof S&&a.util.schemaHasRules(S,a.RULES.all)){n.schema=S,n.schemaPath=a.schemaPath+\".additionalItems\",n.errSchemaPath=a.errSchemaPath+\"/additionalItems\",t+=\" \"+P+\" = true; if (\"+v+\".length > \"+h.length+\") {  for (var \"+p+\" = \"+h.length+\"; \"+p+\" < \"+v+\".length; \"+p+\"++) { \",n.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers,!0);x=v+\"[\"+p+\"]\";n.dataPathArr[f]=p;O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",c&&(t+=\" if (!\"+P+\") break; \"),t+=\" } }  \",c&&(t+=\" if (\"+P+\") { \",u+=\"}\")}}else if(a.util.schemaHasRules(h,a.RULES.all)){n.schema=h,n.schemaPath=i,n.errSchemaPath=o,t+=\"  for (var \"+p+\" = 0; \"+p+\" < \"+v+\".length; \"+p+\"++) { \",n.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers,!0);x=v+\"[\"+p+\"]\";n.dataPathArr[f]=p;O=a.validate(n);n.baseId=E,a.util.varOccurences(O,g)<2?t+=\" \"+a.util.varReplace(O,g,x)+\" \":t+=\" var \"+g+\" = \"+x+\"; \"+O+\" \",c&&(t+=\" if (!\"+P+\") break; \"),t+=\" }\"}return c&&(t+=\" \"+u+\" if (\"+m+\" == errors) {\"),t=a.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/_limit.js":"\"use strict\";module.exports=function(e,a,r){var t,s=\" \",o=e.level,i=e.dataLevel,m=e.schema[a],l=e.schemaPath+e.util.getProperty(a),h=e.errSchemaPath+\"/\"+a,d=!e.opts.allErrors,u=\"data\"+(i||\"\"),c=e.opts.$data&&m&&m.$data;c?(s+=\" var schema\"+o+\" = \"+e.util.getData(m.$data,i,e.dataPathArr)+\"; \",t=\"schema\"+o):t=m;var n=\"maximum\"==a,v=n?\"exclusiveMaximum\":\"exclusiveMinimum\",p=e.schema[v],f=e.opts.$data&&p&&p.$data,P=n?\"<\":\">\",b=n?\">\":\"<\",x=void 0;if(f){var E=e.util.getData(p.$data,i,e.dataPathArr),y=\"exclusive\"+o,g=\"exclType\"+o,S=\"exclIsNumber\"+o,w=\"' + \"+(M=\"op\"+o)+\" + '\";s+=\" var schemaExcl\"+o+\" = \"+E+\"; \",s+=\" var \"+y+\"; var \"+g+\" = typeof \"+(E=\"schemaExcl\"+o)+\"; if (\"+g+\" != 'boolean' && \"+g+\" != 'undefined' && \"+g+\" != 'number') { \";x=v;(k=k||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(x||\"_exclusiveLimit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: {} \",!1!==e.opts.messages&&(s+=\" , message: '\"+v+\" should be boolean' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),s+=\" } \"):s+=\" {} \";var $=s;s=k.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+$+\"]); \":s+=\" validate.errors = [\"+$+\"]; return false; \":s+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } else if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+g+\" == 'number' ? ( (\"+y+\" = \"+t+\" === undefined || \"+E+\" \"+P+\"= \"+t+\") ? \"+u+\" \"+b+\"= \"+E+\" : \"+u+\" \"+b+\" \"+t+\" ) : ( (\"+y+\" = \"+E+\" === true) ? \"+u+\" \"+b+\"= \"+t+\" : \"+u+\" \"+b+\" \"+t+\" ) || \"+u+\" !== \"+u+\") { var op\"+o+\" = \"+y+\" ? '\"+P+\"' : '\"+P+\"=';\"}else{w=P;if((S=\"number\"==typeof p)&&c){var M=\"'\"+w+\"'\";s+=\" if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" ( \"+t+\" === undefined || \"+p+\" \"+P+\"= \"+t+\" ? \"+u+\" \"+b+\"= \"+p+\" : \"+u+\" \"+b+\" \"+t+\" ) || \"+u+\" !== \"+u+\") { \"}else{S&&void 0===m?(y=!0,x=v,h=e.errSchemaPath+\"/\"+v,t=p,b+=\"=\"):(S&&(t=Math[n?\"min\":\"max\"](p,m)),p===(!S||t)?(y=!0,x=v,h=e.errSchemaPath+\"/\"+v,b+=\"=\"):(y=!1,w+=\"=\"));M=\"'\"+w+\"'\";s+=\" if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+u+\" \"+b+\" \"+t+\" || \"+u+\" !== \"+u+\") { \"}}x=x||a;var k;(k=k||[]).push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(x||\"_limit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { comparison: \"+M+\", limit: \"+t+\", exclusive: \"+y+\" } \",!1!==e.opts.messages&&(s+=\" , message: 'should be \"+w+\" \",s+=c?\"' + \"+t:t+\"'\"),e.opts.verbose&&(s+=\" , schema:  \",s+=c?\"validate.schema\"+l:\"\"+m,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),s+=\" } \"):s+=\" {} \";$=s;return s=k.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+$+\"]); \":s+=\" validate.errors = [\"+$+\"]; return false; \":s+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitItems.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",o=a.level,h=a.dataLevel,m=a.schema[e],l=a.schemaPath+a.util.getProperty(e),i=a.errSchemaPath+\"/\"+e,d=!a.opts.allErrors,c=\"data\"+(h||\"\"),u=a.opts.$data&&m&&m.$data;u?(s+=\" var schema\"+o+\" = \"+a.util.getData(m.$data,h,a.dataPathArr)+\"; \",t=\"schema\"+o):t=m;s+=\"if ( \",u&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" \"+c+\".length \"+(\"maxItems\"==e?\">\":\"<\")+\" \"+t+\") { \";var n=e,v=v||[];v.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: '\"+(n||\"_limitItems\")+\"' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(i)+\" , params: { limit: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should NOT have \",s+=\"maxItems\"==e?\"more\":\"less\",s+=\" than \",s+=u?\"' + \"+t+\" + '\":\"\"+m,s+=\" items' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=u?\"validate.schema\"+l:\"\"+m,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \";var p=s;return s=v.pop(),!a.compositeRule&&d?a.async?s+=\" throw new ValidationError([\"+p+\"]); \":s+=\" validate.errors = [\"+p+\"]; return false; \":s+=\" var err = \"+p+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitLength.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",o=a.level,h=a.dataLevel,l=a.schema[e],m=a.schemaPath+a.util.getProperty(e),n=a.errSchemaPath+\"/\"+e,c=!a.opts.allErrors,d=\"data\"+(h||\"\"),i=a.opts.$data&&l&&l.$data;i?(s+=\" var schema\"+o+\" = \"+a.util.getData(l.$data,h,a.dataPathArr)+\"; \",t=\"schema\"+o):t=l;var u=\"maxLength\"==e?\">\":\"<\";s+=\"if ( \",i&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),!1===a.opts.unicode?s+=\" \"+d+\".length \":s+=\" ucs2length(\"+d+\") \",s+=\" \"+u+\" \"+t+\") { \";var p=e,v=v||[];v.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: '\"+(p||\"_limitLength\")+\"' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(n)+\" , params: { limit: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should NOT be \",s+=\"maxLength\"==e?\"longer\":\"shorter\",s+=\" than \",s+=i?\"' + \"+t+\" + '\":\"\"+l,s+=\" characters' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=i?\"validate.schema\"+m:\"\"+l,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+d+\" \"),s+=\" } \"):s+=\" {} \";var g=s;return s=v.pop(),!a.compositeRule&&c?a.async?s+=\" throw new ValidationError([\"+g+\"]); \":s+=\" validate.errors = [\"+g+\"]; return false; \":s+=\" var err = \"+g+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",c&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/_limitProperties.js":"\"use strict\";module.exports=function(e,r,a){var t,s=\" \",o=e.level,h=e.dataLevel,l=e.schema[r],i=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+\"/\"+r,d=!e.opts.allErrors,p=\"data\"+(h||\"\"),c=e.opts.$data&&l&&l.$data;c?(s+=\" var schema\"+o+\" = \"+e.util.getData(l.$data,h,e.dataPathArr)+\"; \",t=\"schema\"+o):t=l;s+=\"if ( \",c&&(s+=\" (\"+t+\" !== undefined && typeof \"+t+\" != 'number') || \"),s+=\" Object.keys(\"+p+\").length \"+(\"maxProperties\"==r?\">\":\"<\")+\" \"+t+\") { \";var u=r,n=n||[];n.push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: '\"+(u||\"_limitProperties\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(m)+\" , params: { limit: \"+t+\" } \",!1!==e.opts.messages&&(s+=\" , message: 'should NOT have \",s+=\"maxProperties\"==r?\"more\":\"less\",s+=\" than \",s+=c?\"' + \"+t+\" + '\":\"\"+l,s+=\" properties' \"),e.opts.verbose&&(s+=\" , schema:  \",s+=c?\"validate.schema\"+i:\"\"+l,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=n.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",d&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/multipleOf.js":"\"use strict\";module.exports=function(a,e,r){var t,s=\" \",i=a.level,o=a.dataLevel,l=a.schema[e],d=a.schemaPath+a.util.getProperty(e),h=a.errSchemaPath+\"/\"+e,n=!a.opts.allErrors,m=\"data\"+(o||\"\"),p=a.opts.$data&&l&&l.$data;p?(s+=\" var schema\"+i+\" = \"+a.util.getData(l.$data,o,a.dataPathArr)+\"; \",t=\"schema\"+i):t=l,s+=\"var division\"+i+\";if (\",p&&(s+=\" \"+t+\" !== undefined && ( typeof \"+t+\" != 'number' || \"),s+=\" (division\"+i+\" = \"+m+\" / \"+t+\", \",a.opts.multipleOfPrecision?s+=\" Math.abs(Math.round(division\"+i+\") - division\"+i+\") > 1e-\"+a.opts.multipleOfPrecision+\" \":s+=\" division\"+i+\" !== parseInt(division\"+i+\") \",s+=\" ) \",p&&(s+=\"  )  \"),s+=\" ) {   \";var u=u||[];u.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(h)+\" , params: { multipleOf: \"+t+\" } \",!1!==a.opts.messages&&(s+=\" , message: 'should be multiple of \",s+=p?\"' + \"+t:t+\"'\"),a.opts.verbose&&(s+=\" , schema:  \",s+=p?\"validate.schema\"+d:\"\"+l,s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+m+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=u.pop(),!a.compositeRule&&n?a.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",n&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/not.js":"\"use strict\";module.exports=function(r,e,a){var s=\" \",t=r.level,o=r.dataLevel,l=r.schema[e],h=r.schemaPath+r.util.getProperty(e),c=r.errSchemaPath+\"/\"+e,i=!r.opts.allErrors,v=\"data\"+(o||\"\"),m=\"errs__\"+t,p=r.util.copy(r);p.level++;var u=\"valid\"+p.level;if(r.util.schemaHasRules(l,r.RULES.all)){p.schema=l,p.schemaPath=h,p.errSchemaPath=c,s+=\" var \"+m+\" = errors;  \";var d=r.compositeRule;r.compositeRule=p.compositeRule=!0,p.createErrors=!1;var E;p.opts.allErrors&&(E=p.opts.allErrors,p.opts.allErrors=!1),s+=\" \"+r.validate(p)+\" \",p.createErrors=!0,E&&(p.opts.allErrors=E),r.compositeRule=p.compositeRule=d,s+=\" if (\"+u+\") {   \";var n=n||[];n.push(s),s=\"\",!1!==r.createErrors?(s+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(c)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should NOT be valid' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),s+=\" } \"):s+=\" {} \";var P=s;s=n.pop(),!r.compositeRule&&i?r.async?s+=\" throw new ValidationError([\"+P+\"]); \":s+=\" validate.errors = [\"+P+\"]; return false; \":s+=\" var err = \"+P+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } else {  errors = \"+m+\"; if (vErrors !== null) { if (\"+m+\") vErrors.length = \"+m+\"; else vErrors = null; } \",r.opts.allErrors&&(s+=\" } \")}else s+=\"  var err =   \",!1!==r.createErrors?(s+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(c)+\" , params: {} \",!1!==r.opts.messages&&(s+=\" , message: 'should NOT be valid' \"),r.opts.verbose&&(s+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+v+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i&&(s+=\" if (false) { \");return s};","node_modules/ajv/lib/dotjs/oneOf.js":"\"use strict\";module.exports=function(e,r,a){var s=\" \",l=e.level,t=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),v=e.errSchemaPath+\"/\"+r,h=!e.opts.allErrors,c=\"data\"+(t||\"\"),m=\"valid\"+l,u=\"errs__\"+l,d=e.util.copy(e),p=\"\";d.level++;var n=\"valid\"+d.level;s+=\"var \"+u+\" = errors;var prevValid\"+l+\" = false;var \"+m+\" = false;\";var f=d.baseId,E=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=o;if(P)for(var R,g=-1,y=P.length-1;g<y;)R=P[g+=1],e.util.schemaHasRules(R,e.RULES.all)?(d.schema=R,d.schemaPath=i+\"[\"+g+\"]\",d.errSchemaPath=v+\"/\"+g,s+=\"  \"+e.validate(d)+\" \",d.baseId=f):s+=\" var \"+n+\" = true; \",g&&(s+=\" if (\"+n+\" && prevValid\"+l+\") \"+m+\" = false; else { \",p+=\"}\"),s+=\" if (\"+n+\") \"+m+\" = prevValid\"+l+\" = true;\";return e.compositeRule=d.compositeRule=E,s+=p+\"if (!\"+m+\") {   var err =   \",!1!==e.createErrors?(s+=\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(v)+\" , params: {} \",!1!==e.opts.messages&&(s+=\" , message: 'should match exactly one schema in oneOf' \"),e.opts.verbose&&(s+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+c+\" \"),s+=\" } \"):s+=\" {} \",s+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&h&&(e.async?s+=\" throw new ValidationError(vErrors); \":s+=\" validate.errors = vErrors; return false; \"),s+=\"} else {  errors = \"+u+\"; if (vErrors !== null) { if (\"+u+\") vErrors.length = \"+u+\"; else vErrors = null; }\",e.opts.allErrors&&(s+=\" } \"),s};","node_modules/ajv/lib/dotjs/pattern.js":"\"use strict\";module.exports=function(a,e,t){var r,s=\" \",o=a.level,h=a.dataLevel,l=a.schema[e],u=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+\"/\"+e,i=!a.opts.allErrors,n=\"data\"+(h||\"\"),p=a.opts.$data&&l&&l.$data;p?(s+=\" var schema\"+o+\" = \"+a.util.getData(l.$data,h,a.dataPathArr)+\"; \",r=\"schema\"+o):r=l;var c=p?\"(new RegExp(\"+r+\"))\":a.usePattern(l);s+=\"if ( \",p&&(s+=\" (\"+r+\" !== undefined && typeof \"+r+\" != 'string') || \"),s+=\" !\"+c+\".test(\"+n+\") ) {   \";var m=m||[];m.push(s),s=\"\",!1!==a.createErrors?(s+=\" { keyword: 'pattern' , dataPath: (dataPath || '') + \"+a.errorPath+\" , schemaPath: \"+a.util.toQuotedString(d)+\" , params: { pattern:  \",s+=p?\"\"+r:\"\"+a.util.toQuotedString(l),s+=\"  } \",!1!==a.opts.messages&&(s+=\" , message: 'should match pattern \\\"\",s+=p?\"' + \"+r+\" + '\":\"\"+a.util.escapeQuotes(l),s+=\"\\\"' \"),a.opts.verbose&&(s+=\" , schema:  \",s+=p?\"validate.schema\"+u:\"\"+a.util.toQuotedString(l),s+=\"         , parentSchema: validate.schema\"+a.schemaPath+\" , data: \"+n+\" \"),s+=\" } \"):s+=\" {} \";var v=s;return s=m.pop(),!a.compositeRule&&i?a.async?s+=\" throw new ValidationError([\"+v+\"]); \":s+=\" validate.errors = [\"+v+\"]; return false; \":s+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\"} \",i&&(s+=\" else { \"),s};","node_modules/ajv/lib/dotjs/properties.js":"\"use strict\";module.exports=function(e,r,a){var t=\" \",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+\"/\"+r,p=!e.opts.allErrors,u=\"data\"+(o||\"\"),n=\"valid\"+s,c=\"errs__\"+s,v=e.util.copy(e),d=\"\";v.level++;var P=\"valid\"+v.level,m=\"key\"+s,f=\"idx\"+s,g=v.dataLevel=e.dataLevel+1,y=\"data\"+g,E=\"dataProperties\"+s,S=Object.keys(i||{}),b=e.schema.patternProperties||{},R=Object.keys(b),O=e.schema.additionalProperties,j=S.length||R.length,k=!1===O,w=\"object\"==typeof O&&Object.keys(O).length,Q=e.opts.removeAdditional,x=k||w||Q,G=e.opts.ownProperties,A=e.baseId,_=e.schema.required;if(_&&(!e.opts.v5||!_.$data)&&_.length<e.opts.loopRequired)var q=e.util.toHash(_);if(e.opts.patternGroups)var D=e.schema.patternGroups||{},I=Object.keys(D);if(t+=\"var \"+c+\" = errors;var \"+P+\" = true;\",G&&(t+=\" var \"+E+\" = undefined;\"),x){if(t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",j){if(t+=\" var isAdditional\"+s+\" = !(false \",S.length)if(S.length>5)t+=\" || validate.schema\"+l+\"[\"+m+\"] \";else{var L=S;if(L)for(var C=-1,H=L.length-1;C<H;)Z=L[C+=1],t+=\" || \"+m+\" == \"+e.util.toQuotedString(Z)+\" \"}if(R.length){var U=R;if(U)for(var V=-1,F=U.length-1;V<F;)he=U[V+=1],t+=\" || \"+e.usePattern(he)+\".test(\"+m+\") \"}if(e.opts.patternGroups&&I.length){var N=I;if(N){V=-1;for(var T=N.length-1;V<T;)ce=N[V+=1],t+=\" || \"+e.usePattern(ce)+\".test(\"+m+\") \"}}t+=\" ); if (isAdditional\"+s+\") { \"}if(\"all\"==Q)t+=\" delete \"+u+\"[\"+m+\"]; \";else{var $=e.errorPath,z=\"' + \"+m+\" + '\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),k)if(Q)t+=\" delete \"+u+\"[\"+m+\"]; \";else{t+=\" \"+P+\" = false; \";var B=h;h=e.errSchemaPath+\"/additionalProperties\";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { additionalProperty: '\"+z+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have additional properties' \"),e.opts.verbose&&(t+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";var J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h=B,p&&(t+=\" break; \")}else if(w)if(\"failing\"==Q){t+=\" var \"+c+\" = errors;  \";var K=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=O,v.schemaPath=e.schemaPath+\".additionalProperties\",v.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;var W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",t+=\" if (!\"+P+\") { errors = \"+c+\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \"+u+\"[\"+m+\"]; }  \",e.compositeRule=v.compositeRule=K}else{v.schema=O,v.schemaPath=e.schemaPath+\".additionalProperties\",v.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \")}e.errorPath=$}j&&(t+=\" } \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}var X=e.opts.useDefaults&&!e.compositeRule;if(S.length){var Y=S;if(Y)for(var Z,ee=-1,re=Y.length-1;ee<re;){var ae=i[Z=Y[ee+=1]];if(e.util.schemaHasRules(ae,e.RULES.all)){var te=e.util.getProperty(Z),se=(M=u+te,X&&void 0!==ae.default);v.schema=ae,v.schemaPath=l+te,v.errSchemaPath=h+\"/\"+e.util.escapeFragment(Z),v.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),v.dataPathArr[g]=e.util.toQuotedString(Z);W=e.validate(v);if(v.baseId=A,e.util.varOccurences(W,y)<2){W=e.util.varReplace(W,y,M);var oe=M}else{oe=y;t+=\" var \"+y+\" = \"+M+\"; \"}if(se)t+=\" \"+W+\" \";else{if(q&&q[Z]){t+=\" if ( \"+oe+\" === undefined \",G&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\") { \"+P+\" = false; \";$=e.errorPath,B=h;var ie=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,Z,e.opts.jsonPointers)),h=e.errSchemaPath+\"/required\";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { missingProperty: '\"+ie+\"' } \",!1!==e.opts.messages&&(t+=\" , message: '\",e.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+ie+\"\\\\'\",t+=\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",h=B,e.errorPath=$,t+=\" } else { \"}else p?(t+=\" if ( \"+oe+\" === undefined \",G&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\") { \"+P+\" = true; } else { \"):(t+=\" if (\"+oe+\" !== undefined \",G&&(t+=\" &&   Object.prototype.hasOwnProperty.call(\"+u+\", '\"+e.util.escapeQuotes(Z)+\"') \"),t+=\" ) { \");t+=\" \"+W+\" } \"}}p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}}if(R.length){var le=R;if(le)for(var he,pe=-1,ue=le.length-1;pe<ue;){ae=b[he=le[pe+=1]];if(e.util.schemaHasRules(ae,e.RULES.all)){v.schema=ae,v.schemaPath=e.schemaPath+\".patternProperties\"+e.util.getProperty(he),v.errSchemaPath=e.errSchemaPath+\"/patternProperties/\"+e.util.escapeFragment(he),t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",t+=\" if (\"+e.usePattern(he)+\".test(\"+m+\")) { \",v.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \"),t+=\" } \",p&&(t+=\" else \"+P+\" = true; \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\")}}}if(e.opts.patternGroups&&I.length){var ne=I;if(ne)for(var ce,ve=-1,de=ne.length-1;ve<de;){var Pe=D[ce=ne[ve+=1]];ae=Pe.schema;if(e.util.schemaHasRules(ae,e.RULES.all)){v.schema=ae,v.schemaPath=e.schemaPath+\".patternGroups\"+e.util.getProperty(ce)+\".schema\",v.errSchemaPath=e.errSchemaPath+\"/patternGroups/\"+e.util.escapeFragment(ce)+\"/schema\",t+=\" var pgPropCount\"+s+\" = 0;  \",t+=G?\" \"+E+\" = \"+E+\" || Object.keys(\"+u+\"); for (var \"+f+\"=0; \"+f+\"<\"+E+\".length; \"+f+\"++) { var \"+m+\" = \"+E+\"[\"+f+\"]; \":\" for (var \"+m+\" in \"+u+\") { \",t+=\" if (\"+e.usePattern(ce)+\".test(\"+m+\")) { pgPropCount\"+s+\"++; \",v.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);M=u+\"[\"+m+\"]\";v.dataPathArr[g]=m;W=e.validate(v);v.baseId=A,e.util.varOccurences(W,y)<2?t+=\" \"+e.util.varReplace(W,y,M)+\" \":t+=\" var \"+y+\" = \"+M+\"; \"+W+\" \",p&&(t+=\" if (!\"+P+\") break; \"),t+=\" } \",p&&(t+=\" else \"+P+\" = true; \"),t+=\" }  \",p&&(t+=\" if (\"+P+\") { \",d+=\"}\");var me=Pe.minimum,fe=Pe.maximum;if(void 0!==me||void 0!==fe){t+=\" var \"+n+\" = true; \";B=h;if(void 0!==me){var ge=me,ye=\"minimum\",Ee=\"less\";t+=\" \"+n+\" = pgPropCount\"+s+\" >= \"+me+\"; \",h=e.errSchemaPath+\"/patternGroups/minimum\",t+=\"  if (!\"+n+\") {   \";(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { reason: '\"+ye+\"', limit: \"+ge+\", pattern: '\"+e.util.escapeQuotes(ce)+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have \"+Ee+\" than \"+ge+' properties matching pattern \"'+e.util.escapeQuotes(ce)+\"\\\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \",void 0!==fe&&(t+=\" else \")}if(void 0!==fe){ge=fe,ye=\"maximum\",Ee=\"more\";t+=\" \"+n+\" = pgPropCount\"+s+\" <= \"+fe+\"; \",h=e.errSchemaPath+\"/patternGroups/maximum\",t+=\"  if (!\"+n+\") {   \";var Se;(Se=Se||[]).push(t),t=\"\",!1!==e.createErrors?(t+=\" { keyword: 'patternGroups' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { reason: '\"+ye+\"', limit: \"+ge+\", pattern: '\"+e.util.escapeQuotes(ce)+\"' } \",!1!==e.opts.messages&&(t+=\" , message: 'should NOT have \"+Ee+\" than \"+ge+' properties matching pattern \"'+e.util.escapeQuotes(ce)+\"\\\"' \"),e.opts.verbose&&(t+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+u+\" \"),t+=\" } \"):t+=\" {} \";J=t;t=Se.pop(),!e.compositeRule&&p?e.async?t+=\" throw new ValidationError([\"+J+\"]); \":t+=\" validate.errors = [\"+J+\"]; return false; \":t+=\" var err = \"+J+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } \"}h=B,p&&(t+=\" if (\"+n+\") { \",d+=\"}\")}}}}return p&&(t+=\" \"+d+\" if (\"+c+\" == errors) {\"),t=e.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/propertyNames.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,o=r.dataLevel,l=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+\"/\"+e,c=!r.opts.allErrors,p=\"data\"+(o||\"\"),m=\"errs__\"+s,d=r.util.copy(r);d.level++;var h=\"valid\"+d.level;if(r.util.schemaHasRules(l,r.RULES.all)){d.schema=l,d.schemaPath=i,d.errSchemaPath=v;var u=\"key\"+s,n=\"idx\"+s,E=\"i\"+s,P=\"' + \"+u+\" + '\",f=\"data\"+(d.dataLevel=r.dataLevel+1),y=\"dataProperties\"+s,R=r.opts.ownProperties,b=r.baseId;t+=\" var \"+m+\" = errors; \",R&&(t+=\" var \"+y+\" = undefined; \"),t+=R?\" \"+y+\" = \"+y+\" || Object.keys(\"+p+\"); for (var \"+n+\"=0; \"+n+\"<\"+y+\".length; \"+n+\"++) { var \"+u+\" = \"+y+\"[\"+n+\"]; \":\" for (var \"+u+\" in \"+p+\") { \",t+=\" var startErrs\"+s+\" = errors; \";var g=u,S=r.compositeRule;r.compositeRule=d.compositeRule=!0;var k=r.validate(d);d.baseId=b,r.util.varOccurences(k,f)<2?t+=\" \"+r.util.varReplace(k,f,g)+\" \":t+=\" var \"+f+\" = \"+g+\"; \"+k+\" \",r.compositeRule=d.compositeRule=S,t+=\" if (!\"+h+\") { for (var \"+E+\"=startErrs\"+s+\"; \"+E+\"<errors; \"+E+\"++) { vErrors[\"+E+\"].propertyName = \"+u+\"; }   var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { propertyName: '\"+P+\"' } \",!1!==r.opts.messages&&(t+=\" , message: 'property name \\\\'\"+P+\"\\\\' is invalid' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+i+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+p+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&c&&(r.async?t+=\" throw new ValidationError(vErrors); \":t+=\" validate.errors = vErrors; return false; \"),c&&(t+=\" break; \"),t+=\" } }\"}return c&&(t+=\"  if (\"+m+\" == errors) {\"),t=r.util.cleanUpCode(t)};","node_modules/ajv/lib/dotjs/required.js":"\"use strict\";module.exports=function(r,e,a){var t=\" \",s=r.level,o=r.dataLevel,i=r.schema[e],h=r.schemaPath+r.util.getProperty(e),p=r.errSchemaPath+\"/\"+e,l=!r.opts.allErrors,d=\"data\"+(o||\"\"),u=\"valid\"+s,P=r.opts.$data&&i&&i.$data;P&&(t+=\" var schema\"+s+\" = \"+r.util.getData(i.$data,o,r.dataPathArr)+\"; \");var n=\"schema\"+s;if(!P)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var m=[],v=i;if(v)for(var c,y=-1,g=v.length-1;y<g;){c=v[y+=1];var f=r.schema.properties[c];f&&r.util.schemaHasRules(f,r.RULES.all)||(m[m.length]=c)}}else m=i;if(P||m.length){var E=r.errorPath,q=P||m.length>=r.opts.loopRequired,w=r.opts.ownProperties;if(l)if(t+=\" var missing\"+s+\"; \",q){P||(t+=\" var \"+n+\" = validate.schema\"+h+\"; \");var S=\"' + \"+(_=\"schema\"+s+\"[\"+(D=\"i\"+s)+\"]\")+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),t+=\" var \"+u+\" = true; \",P&&(t+=\" if (schema\"+s+\" === undefined) \"+u+\" = true; else if (!Array.isArray(schema\"+s+\")) \"+u+\" = false; else {\"),t+=\" for (var \"+D+\" = 0; \"+D+\" < \"+n+\".length; \"+D+\"++) { \"+u+\" = \"+d+\"[\"+n+\"[\"+D+\"]] !== undefined \",w&&(t+=\" &&   Object.prototype.hasOwnProperty.call(\"+d+\", \"+n+\"[\"+D+\"]) \"),t+=\"; if (!\"+u+\") break; } \",P&&(t+=\"  }  \"),t+=\"  if (!\"+u+\") {   \";(Q=Q||[]).push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \";var b=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \"}else{t+=\" if ( \";var j=m;if(j)for(var D=-1,O=j.length-1;D<O;){R=j[D+=1],D&&(t+=\" || \");t+=\" ( ( \"+(L=d+($=r.util.getProperty(R)))+\" === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", '\"+r.util.escapeQuotes(R)+\"') \"),t+=\") && (missing\"+s+\" = \"+r.util.toQuotedString(r.opts.jsonPointers?R:$)+\") ) \"}t+=\") {  \";S=\"' + \"+(_=\"missing\"+s)+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,_,!0):E+\" + \"+_);var Q;(Q=Q||[]).push(t),t=\"\",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \";b=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=\" throw new ValidationError([\"+b+\"]); \":t+=\" validate.errors = [\"+b+\"]; return false; \":t+=\" var err = \"+b+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",t+=\" } else { \"}else if(q){P||(t+=\" var \"+n+\" = validate.schema\"+h+\"; \");var _;S=\"' + \"+(_=\"schema\"+s+\"[\"+(D=\"i\"+s)+\"]\")+\" + '\";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),P&&(t+=\" if (\"+n+\" && !Array.isArray(\"+n+\")) {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\"+n+\" !== undefined) { \"),t+=\" for (var \"+D+\" = 0; \"+D+\" < \"+n+\".length; \"+D+\"++) { if (\"+d+\"[\"+n+\"[\"+D+\"]] === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", \"+n+\"[\"+D+\"]) \"),t+=\") {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \",P&&(t+=\"  }  \")}else{var k=m;if(k)for(var R,A=-1,x=k.length-1;A<x;){R=k[A+=1];var $=r.util.getProperty(R),L=(S=r.util.escapeQuotes(R),d+$);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,R,r.opts.jsonPointers)),t+=\" if ( \"+L+\" === undefined \",w&&(t+=\" || ! Object.prototype.hasOwnProperty.call(\"+d+\", '\"+r.util.escapeQuotes(R)+\"') \"),t+=\") {  var err =   \",!1!==r.createErrors?(t+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(p)+\" , params: { missingProperty: '\"+S+\"' } \",!1!==r.opts.messages&&(t+=\" , message: '\",r.opts._errorDataPathProperty?t+=\"is a required property\":t+=\"should have required property \\\\'\"+S+\"\\\\'\",t+=\"' \"),r.opts.verbose&&(t+=\" , schema: validate.schema\"+h+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+d+\" \"),t+=\" } \"):t+=\" {} \",t+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}r.errorPath=E}else l&&(t+=\" if (true) {\");return t};","node_modules/ajv/lib/dotjs/uniqueItems.js":"\"use strict\";module.exports=function(e,a,r){var t,s=\" \",i=e.level,o=e.dataLevel,l=e.schema[a],h=e.schemaPath+e.util.getProperty(a),u=e.errSchemaPath+\"/\"+a,d=!e.opts.allErrors,m=\"data\"+(o||\"\"),n=\"valid\"+i,v=e.opts.$data&&l&&l.$data;if(v?(s+=\" var schema\"+i+\" = \"+e.util.getData(l.$data,o,e.dataPathArr)+\"; \",t=\"schema\"+i):t=l,(l||v)&&!1!==e.opts.uniqueItems){v&&(s+=\" var \"+n+\"; if (\"+t+\" === false || \"+t+\" === undefined) \"+n+\" = true; else if (typeof \"+t+\" != 'boolean') \"+n+\" = false; else { \"),s+=\" var \"+n+\" = true; if (\"+m+\".length > 1) { var i = \"+m+\".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(\"+m+\"[i], \"+m+\"[j])) { \"+n+\" = false; break outer; } } } } \",v&&(s+=\"  }  \"),s+=\" if (!\"+n+\") {   \";var c=c||[];c.push(s),s=\"\",!1!==e.createErrors?(s+=\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { i: i, j: j } \",!1!==e.opts.messages&&(s+=\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \"),e.opts.verbose&&(s+=\" , schema:  \",s+=v?\"validate.schema\"+h:\"\"+l,s+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+m+\" \"),s+=\" } \"):s+=\" {} \";var f=s;s=c.pop(),!e.compositeRule&&d?e.async?s+=\" throw new ValidationError([\"+f+\"]); \":s+=\" validate.errors = [\"+f+\"]; return false; \":s+=\" var err = \"+f+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",s+=\" } \",d&&(s+=\" else { \")}else d&&(s+=\" if (true) { \");return s};","node_modules/ajv/lib/dotjs/custom.js":"\"use strict\";module.exports=function(r,a,e){var t,s,o=\" \",i=r.level,d=r.dataLevel,h=r.schema[a],l=r.schemaPath+r.util.getProperty(a),v=r.errSchemaPath+\"/\"+a,c=!r.opts.allErrors,n=\"data\"+(d||\"\"),m=\"valid\"+i,u=\"errs__\"+i,p=r.opts.$data&&h&&h.$data;p?(o+=\" var schema\"+i+\" = \"+r.util.getData(h.$data,d,r.dataPathArr)+\"; \",s=\"schema\"+i):s=h;var f,P,y,E,w,k=\"definition\"+i,g=this.definition,R=\"\";if(p&&g.$data){w=\"keywordValidate\"+i;var S=g.validateSchema;o+=\" var \"+k+\" = RULES.custom['\"+a+\"'].definition; var \"+w+\" = \"+k+\".validate;\"}else{if(!(E=r.useCustomRule(this,h,r.schema,r)))return;s=\"validate.schema\"+l,w=E.code,f=g.compile,P=g.inline,y=g.macro}var A=w+\".errors\",b=\"i\"+i,$=\"ruleErr\"+i,D=g.async;if(D&&!r.async)throw new Error(\"async keyword in sync schema\");if(P||y||(o+=A+\" = null;\"),o+=\"var \"+u+\" = errors;var \"+m+\";\",p&&g.$data&&(R+=\"}\",o+=\" if (\"+s+\" === undefined) { \"+m+\" = true; } else { \",S&&(R+=\"}\",o+=\" \"+m+\" = \"+k+\".validateSchema(\"+s+\"); if (\"+m+\") { \")),P)g.statements?o+=\" \"+E.validate+\" \":o+=\" \"+m+\" = \"+E.validate+\"; \";else if(y){var V=r.util.copy(r);R=\"\";V.level++;var x=\"valid\"+V.level;V.schema=E.validate,V.schemaPath=\"\";var C=r.compositeRule;r.compositeRule=V.compositeRule=!0;var L=r.validate(V).replace(/validate\\.schema/g,w);r.compositeRule=V.compositeRule=C,o+=\" \"+L}else{(j=j||[]).push(o),o=\"\",o+=\"  \"+w+\".call( \",r.opts.passContext?o+=\"this\":o+=\"self\",f||!1===g.schema?o+=\" , \"+n+\" \":o+=\" , \"+s+\" , \"+n+\" , validate.schema\"+r.schemaPath+\" \",o+=\" , (dataPath || '')\",'\"\"'!=r.errorPath&&(o+=\" + \"+r.errorPath);var Q=d?\"data\"+(d-1||\"\"):\"parentData\",_=d?r.dataPathArr[d]:\"parentDataProperty\",U=o+=\" , \"+Q+\" , \"+_+\" , rootData )  \";o=j.pop(),!1===g.errors?(o+=\" \"+m+\" = \",D&&(o+=\"\"+r.yieldAwait),o+=U+\"; \"):o+=D?\" var \"+(A=\"customErrors\"+i)+\" = null; try { \"+m+\" = \"+r.yieldAwait+U+\"; } catch (e) { \"+m+\" = false; if (e instanceof ValidationError) \"+A+\" = e.errors; else throw e; } \":\" \"+A+\" = null; \"+m+\" = \"+U+\"; \"}if(g.modifying&&(o+=\" if (\"+Q+\") \"+n+\" = \"+Q+\"[\"+_+\"];\"),o+=\"\"+R,g.valid)c&&(o+=\" if (true) { \");else{o+=\" if ( \",void 0===g.valid?(o+=\" !\",o+=y?\"\"+x:\"\"+m):o+=\" \"+!g.valid+\" \",o+=\") { \",t=this.keyword;(j=j||[]).push(o),o=\"\";var j;(j=j||[]).push(o),o=\"\",!1!==r.createErrors?(o+=\" { keyword: '\"+(t||\"custom\")+\"' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),r.opts.verbose&&(o+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+n+\" \"),o+=\" } \"):o+=\" {} \";var q=o;o=j.pop(),!r.compositeRule&&c?r.async?o+=\" throw new ValidationError([\"+q+\"]); \":o+=\" validate.errors = [\"+q+\"]; return false; \":o+=\" var err = \"+q+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \";var z=o;o=j.pop(),P?g.errors?\"full\"!=g.errors&&(o+=\"  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\"; if (\"+$+\".schemaPath === undefined) { \"+$+'.schemaPath = \"'+v+'\"; } ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } \"):!1===g.errors?o+=\" \"+z+\" \":(o+=\" if (\"+u+\" == errors) { \"+z+\" } else {  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\"; if (\"+$+\".schemaPath === undefined) { \"+$+'.schemaPath = \"'+v+'\"; } ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } } \"):y?(o+=\"   var err =   \",!1!==r.createErrors?(o+=\" { keyword: '\"+(t||\"custom\")+\"' , dataPath: (dataPath || '') + \"+r.errorPath+\" , schemaPath: \"+r.util.toQuotedString(v)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==r.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),r.opts.verbose&&(o+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+r.schemaPath+\" , data: \"+n+\" \"),o+=\" } \"):o+=\" {} \",o+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!r.compositeRule&&c&&(r.async?o+=\" throw new ValidationError(vErrors); \":o+=\" validate.errors = vErrors; return false; \")):!1===g.errors?o+=\" \"+z+\" \":(o+=\" if (Array.isArray(\"+A+\")) { if (vErrors === null) vErrors = \"+A+\"; else vErrors = vErrors.concat(\"+A+\"); errors = vErrors.length;  for (var \"+b+\"=\"+u+\"; \"+b+\"<errors; \"+b+\"++) { var \"+$+\" = vErrors[\"+b+\"]; if (\"+$+\".dataPath === undefined) \"+$+\".dataPath = (dataPath || '') + \"+r.errorPath+\";  \"+$+'.schemaPath = \"'+v+'\";  ',r.opts.verbose&&(o+=\" \"+$+\".schema = \"+s+\"; \"+$+\".data = \"+n+\"; \"),o+=\" } } else { \"+z+\" } \"),o+=\" } \",c&&(o+=\" else { \")}return o};","node_modules/har-schema/lib/afterRequest.json":{"$id":"afterRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/beforeRequest.json":{"$id":"beforeRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/browser.json":{"$id":"browser.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/cache.json":{"$id":"cache.json#","$schema":"http://json-schema.org/draft-06/schema#","properties":{"beforeRequest":{"oneOf":[{"type":"null"},{"$ref":"beforeRequest.json#"}]},"afterRequest":{"oneOf":[{"type":"null"},{"$ref":"afterRequest.json#"}]},"comment":{"type":"string"}}},"node_modules/har-schema/lib/content.json":{"$id":"content.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["size","mimeType"],"properties":{"size":{"type":"integer"},"compression":{"type":"integer"},"mimeType":{"type":"string"},"text":{"type":"string"},"encoding":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/cookie.json":{"$id":"cookie.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"path":{"type":"string"},"domain":{"type":"string"},"expires":{"type":["string","null"],"format":"date-time"},"httpOnly":{"type":"boolean"},"secure":{"type":"boolean"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/creator.json":{"$id":"creator.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/entry.json":{"$id":"entry.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","time","request","response","cache","timings"],"properties":{"pageref":{"type":"string"},"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"time":{"type":"number","min":0},"request":{"$ref":"request.json#"},"response":{"$ref":"response.json#"},"cache":{"$ref":"cache.json#"},"timings":{"$ref":"timings.json#"},"serverIPAddress":{"type":"string","oneOf":[{"format":"ipv4"},{"format":"ipv6"}]},"connection":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/har.json":{"$id":"har.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["log"],"properties":{"log":{"$ref":"log.json#"}}},"node_modules/har-schema/lib/header.json":{"$id":"header.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/log.json":{"$id":"log.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["version","creator","entries"],"properties":{"version":{"type":"string"},"creator":{"$ref":"creator.json#"},"browser":{"$ref":"browser.json#"},"pages":{"type":"array","items":{"$ref":"page.json#"}},"entries":{"type":"array","items":{"$ref":"entry.json#"}},"comment":{"type":"string"}}},"node_modules/har-schema/lib/page.json":{"$id":"page.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","id","title","pageTimings"],"properties":{"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"id":{"type":"string","unique":true},"title":{"type":"string"},"pageTimings":{"$ref":"pageTimings.json#"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/pageTimings.json":{"$id":"pageTimings.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"onContentLoad":{"type":"number","min":-1},"onLoad":{"type":"number","min":-1},"comment":{"type":"string"}}},"node_modules/har-schema/lib/postData.json":{"$id":"postData.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["mimeType"],"properties":{"mimeType":{"type":"string"},"text":{"type":"string"},"params":{"type":"array","required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"fileName":{"type":"string"},"contentType":{"type":"string"},"comment":{"type":"string"}}},"comment":{"type":"string"}}},"node_modules/har-schema/lib/query.json":{"$id":"query.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/request.json":{"$id":"request.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],"properties":{"method":{"type":"string"},"url":{"type":"string","format":"uri"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"queryString":{"type":"array","items":{"$ref":"query.json#"}},"postData":{"$ref":"postData.json#"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/response.json":{"$id":"response.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],"properties":{"status":{"type":"integer"},"statusText":{"type":"string"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"content":{"$ref":"content.json#"},"redirectURL":{"type":"string"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}},"node_modules/har-schema/lib/timings.json":{"$id":"timings.json#","$schema":"http://json-schema.org/draft-06/schema#","required":["send","wait","receive"],"properties":{"dns":{"type":"number","min":-1},"connect":{"type":"number","min":-1},"blocked":{"type":"number","min":-1},"send":{"type":"number","min":-1},"wait":{"type":"number","min":-1},"receive":{"type":"number","min":-1},"ssl":{"type":"number","min":-1},"comment":{"type":"string"}}},"node_modules/uuid/index.js":"var v1=require(\"./v1\"),v4=require(\"./v4\"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid;","node_modules/uuid/v1.js":"var rng=require(\"./lib/rng\"),bytesToUuid=require(\"./lib/bytesToUuid\"),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;function v1(e,s,t){var c=s&&t||0,d=s||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:_clockseq,r=void 0!==e.msecs?e.msecs:(new Date).getTime(),_=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,a=r-_lastMSecs+(_-_lastNSecs)/1e4;if(a<0&&void 0===e.clockseq&&(o=o+1&16383),(a<0||r>_lastMSecs)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=r,_lastNSecs=_,_clockseq=o;var i=(1e4*(268435455&(r+=122192928e5))+_)%4294967296;d[c++]=i>>>24&255,d[c++]=i>>>16&255,d[c++]=i>>>8&255,d[c++]=255&i;var l=r/4294967296*1e4&268435455;d[c++]=l>>>8&255,d[c++]=255&l,d[c++]=l>>>24&15|16,d[c++]=l>>>16&255,d[c++]=o>>>8|128,d[c++]=255&o;for(var n=e.node||_nodeId,v=0;v<6;++v)d[c+v]=n[v];return s||bytesToUuid(d)}module.exports=v1;","node_modules/uuid/v4.js":"var rng=require(\"./lib/rng\"),bytesToUuid=require(\"./lib/bytesToUuid\");function v4(r,n,e){var i=n&&e||0;\"string\"==typeof r&&(n=\"binary\"==r?new Array(16):null,r=null);var u=(r=r||{}).random||(r.rng||rng)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var o=0;o<16;++o)n[i+o]=u[o];return n||bytesToUuid(u)}module.exports=v4;","node_modules/uuid/lib/rng.js":"var rb=require(\"crypto\").randomBytes;function rng(){return rb(16)}module.exports=rng;","node_modules/uuid/lib/bytesToUuid.js":"for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid(e,t){var o=t||0,i=byteToHex;return i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+\"-\"+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]}module.exports=bytesToUuid;","node_modules/oauth-sign/index.js":"var crypto=require(\"crypto\"),qs=require(\"querystring\");function sha1(r,e){return crypto.createHmac(\"sha1\",r).update(e).digest(\"base64\")}function rsa(r,e){return crypto.createSign(\"RSA-SHA1\").update(e).sign(r,\"base64\")}function rfc3986(r){return encodeURIComponent(r).replace(/!/g,\"%21\").replace(/\\*/g,\"%2A\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/'/g,\"%27\")}function map(r){var e,n,a=[];for(e in r)if(n=r[e],Array.isArray(n))for(var t=0;t<n.length;t++)a.push([e,n[t]]);else if(\"object\"==typeof n)for(var s in n)a.push([e+\"[\"+s+\"]\",n[s]]);else a.push([e,n]);return a}function compare(r,e){return r>e?1:r<e?-1:0}function generateBase(r,e,n){var a=map(n).map(function(r){return[rfc3986(r[0]),rfc3986(r[1]||\"\")]}).sort(function(r,e){return compare(r[0],e[0])||compare(r[1],e[1])}).map(function(r){return r.join(\"=\")}).join(\"&\");return[rfc3986(r?r.toUpperCase():\"GET\"),rfc3986(e),rfc3986(a)].join(\"&\")}function hmacsign(r,e,n,a,t){var s=generateBase(r,e,n);return sha1([a||\"\",t||\"\"].map(rfc3986).join(\"&\"),s)}function rsasign(r,e,n,a,t){var s=generateBase(r,e,n);return rsa(a||\"\",s)}function plaintext(r,e){return[r||\"\",e||\"\"].map(rfc3986).join(\"&\")}function sign(r,e,n,a,t,s){var c,i=1;switch(r){case\"RSA-SHA1\":c=rsasign;break;case\"HMAC-SHA1\":c=hmacsign;break;case\"PLAINTEXT\":c=plaintext,i=4;break;default:throw new Error(\"Signature method not supported: \"+r)}return c.apply(null,[].slice.call(arguments,i))}exports.hmacsign=hmacsign,exports.rsasign=rsasign,exports.plaintext=plaintext,exports.sign=sign,exports.rfc3986=rfc3986,exports.generateBase=generateBase;","node_modules/tunnel-agent/index.js":"\"use strict\";var net=require(\"net\"),tls=require(\"tls\"),http=require(\"http\"),https=require(\"https\"),events=require(\"events\"),assert=require(\"assert\"),util=require(\"util\"),Buffer=require(\"safe-buffer\").Buffer;exports.httpOverHttp=httpOverHttp,exports.httpsOverHttp=httpsOverHttp,exports.httpOverHttps=httpOverHttps,exports.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t}function httpsOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function httpOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t}function httpsOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function TunnelingAgent(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||http.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on(\"free\",function(e,n,r){for(var s=0,o=t.requests.length;s<o;++s){var u=t.requests[s];if(u.host===n&&u.port===r)return t.requests.splice(s,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(e,t){\"string\"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),this.sockets.length>=this.maxSockets?this.requests.push({host:t.host,port:t.port,request:e}):this.createConnection({host:t.host,port:t.port,request:e})},TunnelingAgent.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(n){n.on(\"free\",r),n.on(\"close\",s),n.on(\"agentRemove\",s),e.request.onSocket(n);function r(){t.emit(\"free\",n,e.host,e.port)}function s(e){t.removeSocket(n),n.removeListener(\"free\",r),n.removeListener(\"close\",s),n.removeListener(\"agentRemove\",s)}})},TunnelingAgent.prototype.createSocket=function(e,t){var n=this,r={};n.sockets.push(r);var s=mergeOptions({},n.proxyOptions,{method:\"CONNECT\",path:e.host+\":\"+e.port,agent:!1});s.proxyAuth&&(s.headers=s.headers||{},s.headers[\"Proxy-Authorization\"]=\"Basic \"+Buffer.from(s.proxyAuth).toString(\"base64\")),debug(\"making CONNECT request\");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once(\"response\",function(e){e.upgrade=!0}),o.once(\"upgrade\",function(e,t,n){process.nextTick(function(){u(e,t,n)})}),o.once(\"connect\",u),o.once(\"error\",function(t){o.removeAllListeners(),debug(\"tunneling socket could not be established, cause=%s\\n\",t.message,t.stack);var s=new Error(\"tunneling socket could not be established, cause=\"+t.message);s.code=\"ECONNRESET\",e.request.emit(\"error\",s),n.removeSocket(r)}),o.end();function u(s,u,i){if(o.removeAllListeners(),u.removeAllListeners(),200===s.statusCode)assert.equal(i.length,0),debug(\"tunneling connection has established\"),n.sockets[n.sockets.indexOf(r)]=u,t(u);else{debug(\"tunneling socket could not be established, statusCode=%d\",s.statusCode);var c=new Error(\"tunneling socket could not be established, statusCode=\"+s.statusCode);c.code=\"ECONNRESET\",e.request.emit(\"error\",c),n.removeSocket(r)}}},TunnelingAgent.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}};function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,function(r){var s=tls.connect(0,mergeOptions({},n.options,{servername:e.host,socket:r}));n.sockets[n.sockets.indexOf(r)]=s,t(s)})}function mergeOptions(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(\"object\"==typeof r)for(var s=Object.keys(r),o=0,u=s.length;o<u;++o){var i=s[o];void 0!==r[i]&&(e[i]=r[i])}}return e}var debug;debug=process.env.NODE_DEBUG&&/\\btunnel\\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);\"string\"==typeof e[0]?e[0]=\"TUNNEL: \"+e[0]:e.unshift(\"TUNNEL:\"),console.error.apply(console,e)}:function(){},exports.debug=debug;"}}